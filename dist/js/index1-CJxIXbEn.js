import{f as e,y as a,g as t,T as l,S as r,r as n,o as i,c as s,a as p,d as o,w as c,j as d,av as h,aw as g}from"./index-BdR_P0jW.js";/* empty css                */import{E as b}from"./index-C5CR2e01.js";const y={class:"boxElMain"},u={class:"box boxFlex"},m={__name:"index1",setup(m){e([]);const _=e({status:"all",bill_day:[],driver_user_id:""}),w=e([]);(async()=>{const e=await d("/admin/drivers/audit_success");w.value=e.map((e=>({label:e.sur+e.name,value:e.id})))||[]})();const v=e([{type:"DateTimeRange",label:"出账日期",prop:"bill_day",placeholder:"请选择",width:"280px"},{type:"Select",label:"司机",prop:"bill_day",options:w,width:"200px"}]),W=e({order_type:"all",use_time:""}),S=e([{label:"查 询",icon:"Search",handle:()=>D()}]),x=e([]),f=e([]),C=e({pageCurrent:1,pageSize:10,totalPages:0,params:{}}),H=e([{label:"用车时间",prop:"use_time",align:"center",type:"string",sortable:!1,minWidth:"200",show:!0},{label:"系列",prop:"style_name",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0},{label:"车辆类型",prop:"type_name",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0},{label:"用车天数",prop:"days",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0},{label:"汽车公司",prop:"company_name",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0},{label:"司机",prop:"driver_name",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0},{label:"支付时间",prop:"paid_time",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0},{label:"含税总价格（客户消费总额）",type:"Secondary",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0,propSec:[{label:"日币/wance",prop:"total_price",align:"center",type:"string",sortable:!1,minWidth:"200",show:!0},{label:"人民币",prop:"total_price_r",align:"center",type:"string",sortable:!1,minWidth:"200",show:!0}]},{label:"国内3%增值税",prop:"zengzhishui",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0},{label:"平台留存占总价比例",prop:"plate_save_rate",align:"center",type:"percentage",sortable:!1,minWidth:"160",show:!0},{label:"平台最终留存额",type:"Secondary",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0,propSec:[{label:"日币",prop:"plate_price",align:"center",type:"string",sortable:!1,minWidth:"200",show:!0}]},{label:"汽车公司结算额占总价比例",prop:"company_rate",align:"center",type:"percentage",sortable:!1,minWidth:"160",show:!0},{label:"日本汽车公司结算金额（内含消费税）",type:"Secondary",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0,propSec:[{label:"日币/wance",prop:"company_price",align:"center",type:"string",sortable:!1,minWidth:"200",show:!0},{label:"人民币",prop:"company_price_r",align:"center",type:"string",sortable:!1,minWidth:"200",show:!0}]},{label:"订单价格TN",type:"Secondary",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0,propSec:[{label:"日币",prop:"order_price",align:"center",type:"string",sortable:!1,minWidth:"200",show:!0}]},{label:"平台的利润额（扣除增值税）",type:"Secondary",align:"center",type:"string",sortable:!1,minWidth:"160",show:!0,propSec:[{label:"日币",prop:"plate_profit",align:"center",type:"string",sortable:!1,minWidth:"200",show:!0}]},{label:"平台最终利润率",prop:"plate_profit_rate",align:"center",type:"percentage",sortable:!1,minWidth:"200",show:!0},{label:"汇率",prop:"plate_profit_rate",align:"center",type:"percentage",sortable:!1,minWidth:"200",show:!0},{label:"下单时间",prop:"created_at",align:"center",type:"percentage",sortable:!1,minWidth:"200",show:!0}]),D=()=>{C.value.pageCurrent=1,T()};e(!1);const z=()=>{h.clearObj(W),C.value.pageCurrent=1,T()};e(!1);const j=e({page:1,page_size:20,total:0}),T=async()=>{const e=await a("/admin/company_withdraw/withdraw_detail",{status:_.value.status,bill_day:_.value.bill_day,driver_user_id:_.value.driver_user_id,page:j.value.page,page_size:j.value.page_size});e&&(f.value=(null==e?void 0:e.list)||[])};t({}),l.on("getCheckData",(e=>{getCheckData(e)}));const P=e([]);return l.on("sortChange",(({prop:e,order:a})=>{let t="";t=-1!==e.indexOf("_text")?e.replace("_text",""):e,P.value=P.value.filter((e=>!e[t])),"descending"===a?P.value.push({[t]:"desc"}):"ascending"===a?P.value.push({[t]:"asc"}):P.value=P.value.filter((e=>!e[t])),T()})),r((()=>{T()})),(e,a)=>{const t=g,l=n("cusTable"),r=b;return i(),s("div",y,[p("div",u,[o(r,null,{default:c((()=>[o(t,{searchForm:v.value,searchData:W.value,searchHandleRight:x.value,searchHandle:S.value,tableCols:H.value,onHandleEnterSearch:D,onHandleReset:z},null,8,["searchForm","searchData","searchHandleRight","searchHandle","tableCols"]),o(l,{ref:"cusTable",height:"calc(100vh - 240px)","row-key":"test_admin_user_id",isPagination:!0,isHandle:!0,tableCols:H.value,tableData:f.value,tablePage:C.value,SecondaryHead:"",onHandleCurrentChange:T},null,8,["tableCols","tableData","tablePage"])])),_:1})])])}}};export{m as default};
