const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/external-CyjzWgEV.js","js/keepalive-JK8JSjvp.js","css/external-eJyONJxD.css","js/index-aN2BDf30.js","js/route-CzX1plMs.js","js/index-C5CR2e01.js","css/index-Ia0Q2FC7.css","css/el-empty-Bpt6mdJ9.css","css/el-header-LG7wV_nJ.css","css/el-main-D_N4FgXf.css","css/el-avatar-BmRr_O8d.css","css/el-divider-BUtF_RGI.css","css/addFriends-PA7TrIcF.css","js/index-xXfLqo6q.js","js/theme2x-BNPuQkrE.js","js/index-Br-XxnR8.js","js/index-CHd10VUt.js","js/index-CFgL_LVg.js","js/inform-BESL07x-.js","css/inform-X9dLF8qw.css","js/dateFormater-BlBTgtQf.js","js/index-BY37MRSY.js","css/index-BKakuQzq.css","js/index-DqTyiF0M.js","js/index-C5ggMqbd.js","css/index-BxTmV4FK.css","css/el-card-fwQOLwdi.css","js/index-C5M46Exa.js","js/index-C0mR3nH2.js","js/index-BK95h8ww.js","css/index-BeUWZACL.css","css/el-drawer-CpuVa63I.css","js/index-BxQFewYD.js","js/jiaqun2x-sZnD5yew.js","js/index-Dj4ovgDs.js","js/index-SLBSEZ_O.js","css/index-NhArMX32.css","js/contactInfo-DHhLIaEx.js","js/index-C2nuVSeZ.js","css/contactInfo-BQP3pIkn.css","js/404-BCJsTsSI.js","css/404-Cj-o-Y77.css","js/login-BMk5NofX.js","css/login-CxDvwSX7.css","js/index-Boff4na1.js","js/hb3-C1MkjK2N.js","css/index-CcX9meNV.css","js/download-KwF2HAe9.js","css/download-CEyov8L7.css","js/index-CrV75zQT.js","js/withdrawForm-CUl6Ugml.js","css/withdrawForm-DRuR4X19.css","css/index-rQlF1iY9.css","js/index-DrRpqW6f.js","css/index-BgZN1lm2.css","js/accessForm-BSjM9zy-.js","js/index-C81ng_c9.js","css/index-GGDrVcdn.css","js/index-DTPeqqvl.js","js/index-D1LW7kyL.js","css/el-tree-C2sTlbKd.css","css/el-tree-select-Csemd6fU.css","js/index-DPoIGdHZ.js","css/index-dNMOjP3z.css","js/adsForm-DnnH7QqH.js","js/index-TSZus3Mb.js","css/adsForm-X4v-tB_-.css","css/el-progress-DBWeHy1f.css","js/index-rVBg9o5t.js","css/index-BrlN9liA.css","js/articleForm-B7X05KoH.js","css/articleForm-nHDhGvq6.css","js/index-42sAhMGy.js","css/index-DW4diyOR.css","js/index-DbkkQUKH.js","js/carPricesForm-iN5JQAdd.js","css/index-CBJ385KG.css","js/dictForm-DFz7tJXl.js","js/index-BaCD9K_b.js","css/index-nHMoLsv4.css","js/index-BMUTOOjY.js","css/index-BqMPOs1S.css","js/index-DTVCj7BA.js","js/roleForm-CXjq2lTn.js","css/index-BzctVLtJ.css","js/index-DJI5FmDe.js","js/settingForm-B2eCJS9O.js","css/index-LbKkAA7y.css","js/site-CGM8P38o.js","css/site-Dpe_lW07.css","js/index-b-m90uU-.js","js/index-Co7iCMGo.js","css/index-Dgy9ktxs.css","js/setting-Cgin6BUZ.js","css/setting-CXbea4xP.css","js/index-kMebPNze.js","js/userForm-DGicGloU.js","css/index-C2SCEF99.css","js/index-VS6A5vZF.js","js/dialogComp-DpPpTGA3.js","js/index-DIDL6cCO.js","css/index-CVJeUwFl.css","css/dialogComp-CWh0O52R.css","js/versionForm-DJFRxXDs.js","css/versionForm-C3EIGUzr.css","js/index-Cjepal-_.js","js/companiesForm-Dtzvhz90.js","css/companiesForm-BTjVw_QN.css","js/index-DfdNvomI.js","js/resetPwd-tYZYIoKT.js","css/resetPwd-GhIfGD9Q.css","css/index-BOSn0Fq5.css","js/index-DPu9Y1BM.js","js/company_billsForm-CRyV6Hnl.js","css/index-BOEc5fXB.css","js/index-BlwPBbgR.js","js/company_configsForm-Cz_WrwXr.js","css/index-DOl3u5rk.css","js/index-B7BOMnU3.js","js/withdrawForm-Bu0QOZg5.js","css/withdrawForm-CXBsJVkF.css","css/index-Bq_dlshR.css","js/driver_bills-DfsN9_9T.js","css/driver_bills-CSr54WzE.css","js/driversForm-r_rYT7MT.js","css/driversForm-DYp681th.css","js/index-vY4ax22X.js","css/index-CiZsip5W.css","js/index-D_8RJQYd.js","js/addForm-hmUz5qEa.js","css/addForm-C-E3kY_P.css","js/index-c7u0qZk5.js","js/index-DaHfrta3.js","js/index-BAEHVsXN.js","js/addForm-2b_tJkdK.js","css/addForm-daNCpnhI.css","js/index-cIti4oIo.js","js/index-CKs1j7yr.js","js/index-Bf4RVHPi.js","js/index-D1fpWslZ.js","css/index-D5clD7xn.css","js/index-DN_eV6g6.js","js/_old-6VmMbjvk.js","css/_old-C5PPkYqS.css","js/detailForm copy-B6FtPM6i.js","css/detailForm copy-BLhs7le2.css","js/detailForm-yh091l4C.js","js/index-BbQLt5zl.js","js/index-VOgQ4POI.js","css/index-qF_DgKuq.css","js/index1-CJxIXbEn.js","js/index-DHw1nwgw.js","js/detailForm-CshpNBeH.js","js/index-C_6W_Nkj.js","css/index-DnOHWZYi.css","js/index-Dhhuecjl.js","js/accessForm-7KrENoqM.js","js/index-BO7tLbCD.js","css/index-CBHmDtaA.css","js/index-CmclIllw.js","js/index-PFFTJ-rA.js","css/index-BDa6waaJ.css","css/index-BfxgaPRy.css","js/add-lSMw_BYD.js","css/add-BNtBX8fE.css","js/goodsCheck-BpoXf0Nh.js","css/goodsCheck-ZWalwiEv.css","js/index-CR2QZSmj.js","css/shopForm-BWYIUML6.css","js/shopForm-B4JyXK65.js","js/index-56KX8i1n.js","css/index-CuNNoiaM.css","js/index-zNJYwHoS.js","css/index-zgm48JE3.css","js/index-CteYwNud.js","js/shopTypeForm-BEwN3SaN.js","css/shopTypeForm-BZkLwirt.css","js/index-B8keSoeJ.js","js/index-DAMp4Rdm.js","css/index-BCh0OL_x.css","js/index-sr0nk5Ez.js","js/refundTypeForm-GHQOlbC9.js","css/refundTypeForm-DiAvx5N6.css","js/index-Ci7TyKGN.js","js/roleForm-CmEn5xvt.js","css/index-DiJn90xV.css","js/index-CPE7YnJt.js","js/shopCheckForm-DFKoG9z-.js","css/shopCheckForm-DXiUTbul.css","js/index-BQCflyyj.js","js/shopTypeForm-Bv9EG8LB.js","css/shopTypeForm-CcROHIeU.css","js/add-DaLrd7L2.js","css/add-Bco1bT1E.css","js/index-Ec4QWF6l.js","js/shopCheck-D51HXPt2.js","css/shopCheck-BGEG-YKl.css","css/shopForm-BOEEv57u.css","js/shopForm-BACB6Bnn.js","js/index-B2_Ddacr.js","js/userForm-BLucmx8f.js","css/index-DjgxlL6A.css","js/index-Sbyex2Cl.js","js/index-DTEtZnP9.js","css/index-Bp1-bxdW.css","js/index-DTMezwyG.js","js/ordersForm-B-BJ6G_-.js","css/index-Hf_4JWGT.css","js/carForm-CJ6q5Sh0.js","css/carForm-BRX_qyvD.css","js/carOrderList-BX1QtUms.js","css/carOrderList-CNi1K9ip.css","js/index-DT5RKc0H.js","js/cacheForm-TON00Cm6.js","css/index-BwJEpbhT.css","js/index-6wGVauMt.js","css/index-BEIYrm7Y.css","js/index-DHnJv89T.js","css/index-BirBHoPf.css","js/status-DlAo8P4x.js","css/status-2LPn4-cg.css","js/index-CCMmTU7s.js","js/company_billsForm-D2EUsAWV.js","css/index-BZn8EOGZ.css","js/index-CqNIktdu.js","js/usersForm-D2DIxMxJ.js","css/index-C8cVeo8x.css","js/index-CYJ_P9t-.js","js/index-CkR9YSSV.js","css/index-BMWJdKkE.css","js/index-DP2MLe3e.js"])))=>i.map(i=>d[i]);
/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function e(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const t={},n=[],r=()=>{},o=()=>!1,i=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),a=e=>e.startsWith("onUpdate:"),s=Object.assign,c=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},l=Object.prototype.hasOwnProperty,u=(e,t)=>l.call(e,t),d=Array.isArray,h=e=>"[object Map]"===T(e),p=e=>"[object Set]"===T(e),f=e=>"[object Date]"===T(e),m=e=>"function"==typeof e,g=e=>"string"==typeof e,v=e=>"symbol"==typeof e,y=e=>null!==e&&"object"==typeof e,E=e=>(y(e)||m(e))&&m(e.then)&&m(e.catch),b=Object.prototype.toString,T=e=>b.call(e),S=e=>"[object Object]"===T(e),w=e=>g(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,C=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),R=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},I=/-(\w)/g,A=R((e=>e.replace(I,((e,t)=>t?t.toUpperCase():"")))),O=/\B([A-Z])/g,N=R((e=>e.replace(O,"-$1").toLowerCase())),k=R((e=>e.charAt(0).toUpperCase()+e.slice(1))),D=R((e=>e?`on${k(e)}`:"")),x=(e,t)=>!Object.is(e,t),P=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},M=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},L=e=>{const t=parseFloat(e);return isNaN(t)?e:t},U=e=>{const t=g(e)?Number(e):NaN;return isNaN(t)?e:t};let j;const V=()=>j||(j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),B=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol");function z(e){if(d(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=g(r)?W(r):z(r);if(o)for(const e in o)t[e]=o[e]}return t}if(g(e)||y(e))return e}const F=/;(?![^(]*\))/g,H=/:([^]+)/,G=/\/\*[^]*?\*\//g;function W(e){const t={};return e.replace(G,"").split(F).forEach((e=>{if(e){const n=e.split(H);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function q(e){let t="";if(g(e))t=e;else if(d(e))for(let n=0;n<e.length;n++){const r=q(e[n]);r&&(t+=r+" ")}else if(y(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function K(e){if(!e)return null;let{class:t,style:n}=e;return t&&!g(t)&&(e.class=q(t)),n&&(e.style=z(n)),e}const Y=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function X(e){return!!e||""===e}function J(e,t){if(e===t)return!0;let n=f(e),r=f(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=v(e),r=v(t),n||r)return e===t;if(n=d(e),r=d(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=J(e[r],t[r]);return n}(e,t);if(n=y(e),r=y(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(r&&!o||!r&&o||!J(e[n],t[n]))return!1}}return String(e)===String(t)}function Z(e,t){return e.findIndex((e=>J(e,t)))}const Q=e=>!(!e||!0!==e.__v_isRef),ee=e=>g(e)?e:null==e?"":d(e)||y(e)&&(e.toString===b||!m(e.toString))?Q(e)?ee(e.value):JSON.stringify(e,te,2):String(e),te=(e,t)=>Q(t)?te(e,t.value):h(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],r)=>(e[ne(t,r)+" =>"]=n,e)),{})}:p(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>ne(e)))}:v(t)?ne(t):!y(t)||d(t)||S(t)?t:String(t),ne=(e,t="")=>{var n;return v(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};
/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let re,oe;class ie{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=re,!e&&re&&(this.index=(re.scopes||(re.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=re;try{return re=this,e()}finally{re=t}}}on(){re=this}off(){re=this.parent}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function ae(e){return new ie(e)}function se(){return re}function ce(e,t=!1){re&&re.cleanups.push(e)}const le=new WeakSet;class ue{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,re&&re.active&&re.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,le.has(this)&&(le.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||fe(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,Ie(this),ve(this);const e=oe,t=Se;oe=this,Se=!0;try{return this.fn()}finally{ye(this),oe=e,Se=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)be(e);this.deps=this.depsTail=void 0,Ie(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?le.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_e(this)&&this.run()}get dirty(){return _e(this)}}let de,he,pe=0;function fe(e,t=!1){if(e.flags|=8,t)return e.next=he,void(he=e);e.next=de,de=e}function me(){pe++}function ge(){if(--pe>0)return;if(he){let e=he;for(he=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;de;){let n=de;for(de=void 0;n;){const r=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=r}}if(e)throw e}function ve(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ye(e){let t,n=e.depsTail,r=n;for(;r;){const e=r.prevDep;-1===r.version?(r===n&&(n=e),be(r),Te(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function _e(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ee(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ee(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Ae)return;e.globalVersion=Ae;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!_e(e))return void(e.flags&=-3);const n=oe,r=Se;oe=e,Se=!0;try{ve(e);const n=e.fn(e._value);(0===t.version||x(n,e._value))&&(e._value=n,t.version++)}catch(o){throw t.version++,o}finally{oe=n,Se=r,ye(e),e.flags&=-3}}function be(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)be(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function Te(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Se=!0;const we=[];function Ce(){we.push(Se),Se=!1}function Re(){const e=we.pop();Se=void 0===e||e}function Ie(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=oe;oe=void 0;try{t()}finally{oe=e}}}let Ae=0;class Oe{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ne{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!oe||!Se||oe===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==oe)t=this.activeLink=new Oe(oe,this),oe.deps?(t.prevDep=oe.depsTail,oe.depsTail.nextDep=t,oe.depsTail=t):oe.deps=oe.depsTail=t,ke(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=oe.depsTail,t.nextDep=void 0,oe.depsTail.nextDep=t,oe.depsTail=t,oe.deps===t&&(oe.deps=e)}return t}trigger(e){this.version++,Ae++,this.notify(e)}notify(e){me();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{ge()}}}function ke(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)ke(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const De=new WeakMap,xe=Symbol(""),Pe=Symbol(""),Me=Symbol("");function Le(e,t,n){if(Se&&oe){let t=De.get(e);t||De.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new Ne),r.map=t,r.key=n),r.track()}}function Ue(e,t,n,r,o,i){const a=De.get(e);if(!a)return void Ae++;const s=e=>{e&&e.trigger()};if(me(),"clear"===t)a.forEach(s);else{const o=d(e),i=o&&w(n);if(o&&"length"===n){const e=Number(r);a.forEach(((t,n)=>{("length"===n||n===Me||!v(n)&&n>=e)&&s(t)}))}else switch((void 0!==n||a.has(void 0))&&s(a.get(n)),i&&s(a.get(Me)),t){case"add":o?i&&s(a.get("length")):(s(a.get(xe)),h(e)&&s(a.get(Pe)));break;case"delete":o||(s(a.get(xe)),h(e)&&s(a.get(Pe)));break;case"set":h(e)&&s(a.get(xe))}}ge()}function je(e){const t=It(e);return t===e?t:(Le(t,0,Me),Ct(e)?t:t.map(Ot))}function Ve(e){return Le(e=It(e),0,Me),e}const Be={__proto__:null,[Symbol.iterator](){return ze(this,Symbol.iterator,Ot)},concat(...e){return je(this).concat(...e.map((e=>d(e)?je(e):e)))},entries(){return ze(this,"entries",(e=>(e[1]=Ot(e[1]),e)))},every(e,t){return He(this,"every",e,t,void 0,arguments)},filter(e,t){return He(this,"filter",e,t,(e=>e.map(Ot)),arguments)},find(e,t){return He(this,"find",e,t,Ot,arguments)},findIndex(e,t){return He(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return He(this,"findLast",e,t,Ot,arguments)},findLastIndex(e,t){return He(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return He(this,"forEach",e,t,void 0,arguments)},includes(...e){return We(this,"includes",e)},indexOf(...e){return We(this,"indexOf",e)},join(e){return je(this).join(e)},lastIndexOf(...e){return We(this,"lastIndexOf",e)},map(e,t){return He(this,"map",e,t,void 0,arguments)},pop(){return qe(this,"pop")},push(...e){return qe(this,"push",e)},reduce(e,...t){return Ge(this,"reduce",e,t)},reduceRight(e,...t){return Ge(this,"reduceRight",e,t)},shift(){return qe(this,"shift")},some(e,t){return He(this,"some",e,t,void 0,arguments)},splice(...e){return qe(this,"splice",e)},toReversed(){return je(this).toReversed()},toSorted(e){return je(this).toSorted(e)},toSpliced(...e){return je(this).toSpliced(...e)},unshift(...e){return qe(this,"unshift",e)},values(){return ze(this,"values",Ot)}};function ze(e,t,n){const r=Ve(e),o=r[t]();return r===e||Ct(e)||(o._next=o.next,o.next=()=>{const e=o._next();return e.value&&(e.value=n(e.value)),e}),o}const Fe=Array.prototype;function He(e,t,n,r,o,i){const a=Ve(e),s=a!==e&&!Ct(e),c=a[t];if(c!==Fe[t]){const t=c.apply(e,i);return s?Ot(t):t}let l=n;a!==e&&(s?l=function(t,r){return n.call(this,Ot(t),r,e)}:n.length>2&&(l=function(t,r){return n.call(this,t,r,e)}));const u=c.call(a,l,r);return s&&o?o(u):u}function Ge(e,t,n,r){const o=Ve(e);let i=n;return o!==e&&(Ct(e)?n.length>3&&(i=function(t,r,o){return n.call(this,t,r,o,e)}):i=function(t,r,o){return n.call(this,t,Ot(r),o,e)}),o[t](i,...r)}function We(e,t,n){const r=It(e);Le(r,0,Me);const o=r[t](...n);return-1!==o&&!1!==o||!Rt(n[0])?o:(n[0]=It(n[0]),r[t](...n))}function qe(e,t,n=[]){Ce(),me();const r=It(e)[t].apply(e,n);return ge(),Re(),r}const Ke=e("__proto__,__v_isRef,__isVue"),Ye=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(v));function Xe(e){v(e)||(e=String(e));const t=It(this);return Le(t,0,e),t.hasOwnProperty(e)}class $e{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return o;if("__v_raw"===t)return n===(r?o?gt:mt:o?ft:pt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=d(e);if(!r){let e;if(i&&(e=Be[t]))return e;if("hasOwnProperty"===t)return Xe}const a=Reflect.get(e,t,kt(e)?e:n);return(v(t)?Ye.has(t):Ke(t))?a:(r||Le(e,0,t),o?a:kt(a)?i&&w(t)?a:a.value:y(a)?r?Et(a):yt(a):a)}}class Je extends $e{constructor(e=!1){super(!1,e)}set(e,t,n,r){let o=e[t];if(!this._isShallow){const t=wt(o);if(Ct(n)||wt(n)||(o=It(o),n=It(n)),!d(e)&&kt(o)&&!kt(n))return!t&&(o.value=n,!0)}const i=d(e)&&w(t)?Number(t)<e.length:u(e,t),a=Reflect.set(e,t,n,kt(e)?e:r);return e===It(r)&&(i?x(n,o)&&Ue(e,"set",t,n):Ue(e,"add",t,n)),a}deleteProperty(e,t){const n=u(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Ue(e,"delete",t,void 0),r}has(e,t){const n=Reflect.has(e,t);return v(t)&&Ye.has(t)||Le(e,0,t),n}ownKeys(e){return Le(e,0,d(e)?"length":xe),Reflect.ownKeys(e)}}class Ze extends $e{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Qe=new Je,et=new Ze,nt=new Je(!0),rt=new Ze(!0),ot=e=>e,it=e=>Reflect.getPrototypeOf(e);function at(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function st(e,t){const n={get(n){const r=this.__v_raw,o=It(r),i=It(n);e||(x(n,i)&&Le(o,0,n),Le(o,0,i));const{has:a}=it(o),s=t?ot:e?Nt:Ot;return a.call(o,n)?s(r.get(n)):a.call(o,i)?s(r.get(i)):void(r!==o&&r.get(n))},get size(){const t=this.__v_raw;return!e&&Le(It(t),0,xe),Reflect.get(t,"size",t)},has(t){const n=this.__v_raw,r=It(n),o=It(t);return e||(x(t,o)&&Le(r,0,t),Le(r,0,o)),t===o?n.has(t):n.has(t)||n.has(o)},forEach(n,r){const o=this,i=o.__v_raw,a=It(i),s=t?ot:e?Nt:Ot;return!e&&Le(a,0,xe),i.forEach(((e,t)=>n.call(r,s(e),s(t),o)))}};s(n,e?{add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear")}:{add(e){t||Ct(e)||wt(e)||(e=It(e));const n=It(this);return it(n).has.call(n,e)||(n.add(e),Ue(n,"add",e,e)),this},set(e,n){t||Ct(n)||wt(n)||(n=It(n));const r=It(this),{has:o,get:i}=it(r);let a=o.call(r,e);a||(e=It(e),a=o.call(r,e));const s=i.call(r,e);return r.set(e,n),a?x(n,s)&&Ue(r,"set",e,n):Ue(r,"add",e,n),this},delete(e){const t=It(this),{has:n,get:r}=it(t);let o=n.call(t,e);o||(e=It(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&Ue(t,"delete",e,void 0),i},clear(){const e=It(this),t=0!==e.size,n=e.clear();return t&&Ue(e,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach((r=>{n[r]=function(e,t,n){return function(...r){const o=this.__v_raw,i=It(o),a=h(i),s="entries"===e||e===Symbol.iterator&&a,c="keys"===e&&a,l=o[e](...r),u=n?ot:t?Nt:Ot;return!t&&Le(i,0,c?Pe:xe),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}(r,e,t)})),n}function ct(e,t){const n=st(e,t);return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(u(n,r)&&r in t?n:t,r,o)}const lt={get:ct(!1,!1)},ut={get:ct(!1,!0)},dt={get:ct(!0,!1)},ht={get:ct(!0,!0)},pt=new WeakMap,ft=new WeakMap,mt=new WeakMap,gt=new WeakMap;function vt(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>T(e).slice(8,-1))(e))}function yt(e){return wt(e)?e:Tt(e,!1,Qe,lt,pt)}function _t(e){return Tt(e,!1,nt,ut,ft)}function Et(e){return Tt(e,!0,et,dt,mt)}function bt(e){return Tt(e,!0,rt,ht,gt)}function Tt(e,t,n,r,o){if(!y(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const a=vt(e);if(0===a)return e;const s=new Proxy(e,2===a?r:n);return o.set(e,s),s}function St(e){return wt(e)?St(e.__v_raw):!(!e||!e.__v_isReactive)}function wt(e){return!(!e||!e.__v_isReadonly)}function Ct(e){return!(!e||!e.__v_isShallow)}function Rt(e){return!!e&&!!e.__v_raw}function It(e){const t=e&&e.__v_raw;return t?It(t):e}function At(e){return!u(e,"__v_skip")&&Object.isExtensible(e)&&M(e,"__v_skip",!0),e}const Ot=e=>y(e)?yt(e):e,Nt=e=>y(e)?Et(e):e;function kt(e){return!!e&&!0===e.__v_isRef}function Dt(e){return Pt(e,!1)}function xt(e){return Pt(e,!0)}function Pt(e,t){return kt(e)?e:new Mt(e,t)}class Mt{constructor(e,t){this.dep=new Ne,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:It(e),this._value=t?e:Ot(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||Ct(e)||wt(e);e=n?e:It(e),x(e,t)&&(this._rawValue=e,this._value=n?e:Ot(e),this.dep.trigger())}}function Lt(e){return kt(e)?e.value:e}const Ut={get:(e,t,n)=>"__v_raw"===t?e:Lt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return kt(o)&&!kt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function jt(e){return St(e)?e:new Proxy(e,Ut)}class Vt{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Ne,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Bt(e){return new Vt(e)}function zt(e){const t=d(e)?new Array(e.length):{};for(const n in e)t[n]=Wt(e,n);return t}class Ft{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return function(e,t){const n=De.get(e);return n&&n.get(t)}(It(this._object),this._key)}}class Ht{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Gt(e,t,n){return kt(e)?e:m(e)?new Ht(e):y(e)&&arguments.length>1?Wt(e,t,n):Dt(e)}function Wt(e,t,n){const r=e[t];return kt(r)?r:new Ft(e,t,n)}class qt{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ne(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ae-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&oe!==this)return fe(this,!0),!0}get value(){const e=this.dep.track();return Ee(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const Kt={},Yt=new WeakMap;let Xt;function $t(e,t=!1,n=Xt){if(n){let t=Yt.get(n);t||Yt.set(n,t=[]),t.push(e)}}function Jt(e,t=1/0,n){if(t<=0||!y(e)||e.__v_skip)return e;if((n=n||new Set).has(e))return e;if(n.add(e),t--,kt(e))Jt(e.value,t,n);else if(d(e))for(let r=0;r<e.length;r++)Jt(e[r],t,n);else if(p(e)||h(e))e.forEach((e=>{Jt(e,t,n)}));else if(S(e)){for(const r in e)Jt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Jt(e[r],t,n)}return e}
/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Zt=[];const Qt={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function en(e,t,n,r){try{return r?e(...r):e()}catch(o){nn(o,t,n)}}function tn(e,t,n,r){if(m(e)){const o=en(e,t,n,r);return o&&E(o)&&o.catch((e=>{nn(e,t,n)})),o}if(d(e)){const o=[];for(let i=0;i<e.length;i++)o.push(tn(e[i],t,n,r));return o}}function nn(e,n,r,o=!0){n&&n.vnode;const{errorHandler:i,throwUnhandledErrorInProduction:a}=n&&n.appContext.config||t;if(n){let t=n.parent;const o=n.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;t;){const n=t.ec;if(n)for(let t=0;t<n.length;t++)if(!1===n[t](e,o,a))return;t=t.parent}if(i)return Ce(),en(i,null,10,[e,o,a]),void Re()}!function(e,t,n,r=!0,o=!1){if(o)throw e}(e,0,0,o,a)}const rn=[];let on=-1;const an=[];let sn=null,cn=0;const ln=Promise.resolve();let un=null;function dn(e){const t=un||ln;return e?t.then(this?e.bind(this):e):t}function hn(e){if(!(1&e.flags)){const t=vn(e),n=rn[rn.length-1];!n||!(2&e.flags)&&t>=vn(n)?rn.push(e):rn.splice(function(e){let t=on+1,n=rn.length;for(;t<n;){const r=t+n>>>1,o=rn[r],i=vn(o);i<e||i===e&&2&o.flags?t=r+1:n=r}return t}(t),0,e),e.flags|=1,pn()}}function pn(){un||(un=ln.then(yn))}function fn(e){d(e)?an.push(...e):sn&&-1===e.id?sn.splice(cn+1,0,e):1&e.flags||(an.push(e),e.flags|=1),pn()}function mn(e,t,n=on+1){for(;n<rn.length;n++){const t=rn[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;rn.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function gn(e){if(an.length){const e=[...new Set(an)].sort(((e,t)=>vn(e)-vn(t)));if(an.length=0,sn)return void sn.push(...e);for(sn=e,cn=0;cn<sn.length;cn++){const e=sn[cn];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}sn=null,cn=0}}const vn=e=>null==e.id?2&e.flags?-1:1/0:e.id;function yn(e){try{for(on=0;on<rn.length;on++){const e=rn[on];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),en(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;on<rn.length;on++){const e=rn[on];e&&(e.flags&=-2)}on=-1,rn.length=0,gn(),un=null,(rn.length||an.length)&&yn()}}let _n,En=[];let bn=null,Tn=null;function Sn(e){const t=bn;return bn=e,Tn=e&&e.type.__scopeId||null,t}function wn(e,t=bn,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Oi(-1);const o=Sn(t);let i;try{i=e(...n)}finally{Sn(o),r._d&&Oi(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function Cn(e,n){if(null===bn)return e;const r=pa(bn),o=e.dirs||(e.dirs=[]);for(let i=0;i<n.length;i++){let[e,a,s,c=t]=n[i];e&&(m(e)&&(e={mounted:e,updated:e}),e.deep&&Jt(a),o.push({dir:e,instance:r,value:a,oldValue:void 0,arg:s,modifiers:c}))}return e}function Rn(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const s=o[a];i&&(s.oldValue=i[a].value);let c=s.dir[r];c&&(Ce(),tn(c,n,8,[e.el,s,e,t]),Re())}}const In=Symbol("_vte"),An=e=>e.__isTeleport,On=e=>e&&(e.disabled||""===e.disabled),Nn=e=>e&&(e.defer||""===e.defer),kn=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,Dn=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,xn=(e,t)=>{const n=e&&e.to;if(g(n)){if(t){return t(n)}return null}return n},Pn={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,i,a,s,c,l){const{mc:u,pc:d,pbc:h,o:{insert:p,querySelector:f,createText:m,createComment:g}}=l,v=On(t.props);let{shapeFlag:y,children:_,dynamicChildren:E}=t;if(null==e){const e=t.el=m(""),l=t.anchor=m("");p(e,n,r),p(l,n,r);const d=(e,t)=>{16&y&&(o&&o.isCE&&(o.ce._teleportTarget=e),u(_,e,t,o,i,a,s,c))},h=()=>{const e=t.target=xn(t.props,f),n=jn(e,t,m,p);e&&("svg"!==a&&kn(e)?a="svg":"mathml"!==a&&Dn(e)&&(a="mathml"),v||(d(e,n),Un(t,!1)))};v&&(d(n,l),Un(t,!0)),Nn(t.props)?jo((()=>{h(),t.el.__isMounted=!0}),i):h()}else{if(Nn(t.props)&&!e.el.__isMounted)return void jo((()=>{Pn.process(e,t,n,r,o,i,a,s,c,l),delete e.el.__isMounted}),i);t.el=e.el,t.targetStart=e.targetStart;const u=t.anchor=e.anchor,p=t.target=e.target,m=t.targetAnchor=e.targetAnchor,g=On(e.props),y=g?n:p,_=g?u:m;if("svg"===a||kn(p)?a="svg":("mathml"===a||Dn(p))&&(a="mathml"),E?(h(e.dynamicChildren,E,y,o,i,a,s),Wo(e,t,!0)):c||d(e,t,y,_,o,i,a,s,!1),v)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Mn(t,n,u,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=xn(t.props,f);e&&Mn(t,e,null,l,0)}else g&&Mn(t,p,m,l,1);Un(t,v)}},remove(e,t,n,{um:r,o:{remove:o}},i){const{shapeFlag:a,children:s,anchor:c,targetStart:l,targetAnchor:u,target:d,props:h}=e;if(d&&(o(l),o(u)),i&&o(c),16&a){const e=i||!On(h);for(let o=0;o<s.length;o++){const i=s[o];r(i,t,n,e,!!i.dynamicChildren)}}},move:Mn,hydrate:function(e,t,n,r,o,i,{o:{nextSibling:a,parentNode:s,querySelector:c,insert:l,createText:u}},d){const h=t.target=xn(t.props,c);if(h){const c=On(t.props),p=h._lpa||h.firstChild;if(16&t.shapeFlag)if(c)t.anchor=d(a(e),t,s(e),n,r,o,i),t.targetStart=p,t.targetAnchor=p&&a(p);else{t.anchor=a(e);let s=p;for(;s;){if(s&&8===s.nodeType)if("teleport start anchor"===s.data)t.targetStart=s;else if("teleport anchor"===s.data){t.targetAnchor=s,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}s=a(s)}t.targetAnchor||jn(h,t,u,l),d(p&&a(p),t,h,n,r,o,i)}Un(t,c)}return t.anchor&&a(t.anchor)}};function Mn(e,t,n,{o:{insert:r},m:o},i=2){0===i&&r(e.targetAnchor,t,n);const{el:a,anchor:s,shapeFlag:c,children:l,props:u}=e,d=2===i;if(d&&r(a,t,n),(!d||On(u))&&16&c)for(let h=0;h<l.length;h++)o(l[h],t,n,2);d&&r(s,t,n)}const Ln=Pn;function Un(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)1===r.nodeType&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function jn(e,t,n,r){const o=t.targetStart=n(""),i=t.targetAnchor=n("");return o[In]=i,e&&(r(o,e),r(i,e)),i}const Vn=Symbol("_leaveCb"),Bn=Symbol("_enterCb");function zn(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ir((()=>{e.isMounted=!0})),Nr((()=>{e.isUnmounting=!0})),e}const Fn=[Function,Array],Hn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fn,onEnter:Fn,onAfterEnter:Fn,onEnterCancelled:Fn,onBeforeLeave:Fn,onLeave:Fn,onAfterLeave:Fn,onLeaveCancelled:Fn,onBeforeAppear:Fn,onAppear:Fn,onAfterAppear:Fn,onAppearCancelled:Fn},Gn=e=>{const t=e.subTree;return t.component?Gn(t.component):t};function Wn(e){let t=e[0];if(e.length>1)for(const n of e)if(n.type!==Ti){t=n;break}return t}const qn={name:"BaseTransition",props:Hn,setup(e,{slots:t}){const n=Qi(),r=zn();return()=>{const o=t.default&&Zn(t.default(),!0);if(!o||!o.length)return;const i=Wn(o),a=It(e),{mode:s}=a;if(r.isLeaving)return Xn(i);const c=$n(i);if(!c)return Xn(i);let l=Yn(c,a,r,n,(e=>l=e));c.type!==Ti&&Jn(c,l);let u=n.subTree&&$n(n.subTree);if(u&&u.type!==Ti&&!Pi(c,u)&&Gn(n).type!==Ti){let e=Yn(u,a,r,n);if(Jn(u,e),"out-in"===s&&c.type!==Ti)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,u=void 0},Xn(i);"in-out"===s&&c.type!==Ti?e.delayLeave=(e,t,n)=>{Kn(r,u)[String(u.key)]=u,e[Vn]=()=>{t(),e[Vn]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{n(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function Kn(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Yn(e,t,n,r,o){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:p,onLeave:f,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:_,onAppearCancelled:E}=t,b=String(e.key),T=Kn(n,e),S=(e,t)=>{e&&tn(e,r,9,t)},w=(e,t)=>{const n=t[1];S(e,t),d(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},C={mode:a,persisted:s,beforeEnter(t){let r=c;if(!n.isMounted){if(!i)return;r=v||c}t[Vn]&&t[Vn](!0);const o=T[b];o&&Pi(e,o)&&o.el[Vn]&&o.el[Vn](),S(r,[t])},enter(e){let t=l,r=u,o=h;if(!n.isMounted){if(!i)return;t=y||l,r=_||u,o=E||h}let a=!1;const s=e[Bn]=t=>{a||(a=!0,S(t?o:r,[e]),C.delayedLeave&&C.delayedLeave(),e[Bn]=void 0)};t?w(t,[e,s]):s()},leave(t,r){const o=String(e.key);if(t[Bn]&&t[Bn](!0),n.isUnmounting)return r();S(p,[t]);let i=!1;const a=t[Vn]=n=>{i||(i=!0,r(),S(n?g:m,[t]),t[Vn]=void 0,T[o]===e&&delete T[o])};T[o]=e,f?w(f,[t,a]):a()},clone(e){const i=Yn(e,t,n,r,o);return o&&o(i),i}};return C}function Xn(e){if(fr(e))return(e=Bi(e)).children=null,e}function $n(e){if(!fr(e))return An(e.type)&&e.children?Wn(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&m(n.default))return n.default()}}function Jn(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Jn(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zn(e,t=!1,n){let r=[],o=0;for(let i=0;i<e.length;i++){let a=e[i];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:i);a.type===Ei?(128&a.patchFlag&&o++,r=r.concat(Zn(a.children,t,s))):(t||a.type!==Ti)&&r.push(null!=s?Bi(a,{key:s}):a)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */function Qn(e,t){return m(e)?(()=>s({name:e.name},t,{setup:e}))():e}function er(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function tr(e,n,r,o,i=!1){if(d(e))return void e.forEach(((e,t)=>tr(e,n&&(d(n)?n[t]:n),r,o,i)));if(hr(o)&&!i)return void(512&o.shapeFlag&&o.type.__asyncResolved&&o.component.subTree.component&&tr(e,n,r,o.component.subTree));const a=4&o.shapeFlag?pa(o.component):o.el,s=i?null:a,{i:l,r:h}=e,p=n&&n.r,f=l.refs===t?l.refs={}:l.refs,v=l.setupState,y=It(v),_=v===t?()=>!1:e=>u(y,e);if(null!=p&&p!==h&&(g(p)?(f[p]=null,_(p)&&(v[p]=null)):kt(p)&&(p.value=null)),m(h))en(h,l,12,[s,f]);else{const t=g(h),n=kt(h);if(t||n){const o=()=>{if(e.f){const n=t?_(h)?v[h]:f[h]:h.value;i?d(n)&&c(n,a):d(n)?n.includes(a)||n.push(a):t?(f[h]=[a],_(h)&&(v[h]=f[h])):(h.value=[a],e.k&&(f[e.k]=h.value))}else t?(f[h]=s,_(h)&&(v[h]=s)):n&&(h.value=s,e.k&&(f[e.k]=s))};s?(o.id=-1,jo(o,r)):o()}}}let nr=!1;const rr=()=>{nr||(nr=!0)},or=e=>{if(1===e.nodeType)return(e=>e.namespaceURI.includes("svg")&&"foreignObject"!==e.tagName)(e)?"svg":(e=>e.namespaceURI.includes("MathML"))(e)?"mathml":void 0},ir=e=>8===e.nodeType;function ar(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:a,parentNode:s,remove:c,insert:l,createComment:u}}=e,d=(n,r,i,c,u,_=!1)=>{_=_||!!r.dynamicChildren;const E=ir(n)&&"["===n.data,b=()=>m(n,r,i,c,u,E),{type:T,ref:S,shapeFlag:w,patchFlag:C}=r;let R=n.nodeType;r.el=n,-2===C&&(_=!1,r.dynamicChildren=null);let I=null;switch(T){case bi:3!==R?""===r.children?(l(r.el=o(""),s(n),n),I=n):I=b():(n.data!==r.children&&(rr(),n.data=r.children),I=a(n));break;case Ti:y(n)?(I=a(n),v(r.el=n.content.firstChild,n,i)):I=8!==R||E?b():a(n);break;case Si:if(E&&(R=(n=a(n)).nodeType),1===R||3===R){I=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=1===I.nodeType?I.outerHTML:I.data),t===r.staticCount-1&&(r.anchor=I),I=a(I);return E?a(I):I}b();break;case Ei:I=E?f(n,r,i,c,u,_):b();break;default:if(1&w)I=1===R&&r.type.toLowerCase()===n.tagName.toLowerCase()||y(n)?h(n,r,i,c,u,_):b();else if(6&w){r.slotScopeIds=u;const e=s(n);if(I=E?g(n):ir(n)&&"teleport start"===n.data?g(n,n.data,"teleport end"):a(n),t(r,e,null,i,c,or(e),_),hr(r)&&!r.type.__asyncResolved){let t;E?(t=ji(Ei),t.anchor=I?I.previousSibling:e.lastChild):t=3===n.nodeType?zi(""):ji("div"),t.el=n,r.component.subTree=t}}else 64&w?I=8!==R?b():r.type.hydrate(n,r,i,c,u,_,e,p):128&w&&(I=r.type.hydrate(n,r,i,c,or(s(n)),u,_,e,d))}return null!=S&&tr(S,null,c,r),I},h=(e,t,n,o,a,s)=>{s=s||!!t.dynamicChildren;const{type:l,props:u,patchFlag:d,shapeFlag:h,dirs:f,transition:m}=t,g="input"===l||"option"===l;if(g||-1!==d){f&&Rn(t,null,n,"created");let l,_=!1;if(y(e)){_=Go(null,m)&&n&&n.vnode.props&&n.vnode.props.appear;const r=e.content.firstChild;_&&m.beforeEnter(r),v(r,e,n),t.el=e=r}if(16&h&&(!u||!u.innerHTML&&!u.textContent)){let r=p(e.firstChild,t,e,n,o,a,s);for(;r;){lr(e,1)||rr();const t=r;r=r.nextSibling,c(t)}}else if(8&h){let n=t.children;"\n"!==n[0]||"PRE"!==e.tagName&&"TEXTAREA"!==e.tagName||(n=n.slice(1)),e.textContent!==n&&(lr(e,0)||rr(),e.textContent=t.children)}if(u)if(g||!s||48&d){const t=e.tagName.includes("-");for(const o in u)(g&&(o.endsWith("value")||"indeterminate"===o)||i(o)&&!C(o)||"."===o[0]||t)&&r(e,o,null,u[o],void 0,n)}else if(u.onClick)r(e,"onClick",null,u.onClick,void 0,n);else if(4&d&&St(u.style))for(const e in u.style)u.style[e];(l=u&&u.onVnodeBeforeMount)&&Yi(l,n,t),f&&Rn(t,null,n,"beforeMount"),((l=u&&u.onVnodeMounted)||f||_)&&yi((()=>{l&&Yi(l,n,t),_&&m.enter(e),f&&Rn(t,null,n,"mounted")}),o)}return e.nextSibling},p=(e,t,r,i,s,c,u)=>{u=u||!!t.dynamicChildren;const h=t.children,p=h.length;for(let f=0;f<p;f++){const t=u?h[f]:h[f]=Gi(h[f]),m=t.type===bi;e?(m&&!u&&f+1<p&&Gi(h[f+1]).type===bi&&(l(o(e.data.slice(t.children.length)),r,a(e)),e.data=t.children),e=d(e,t,i,s,c,u)):m&&!t.children?l(t.el=o(""),r):(lr(r,1)||rr(),n(null,t,r,null,i,s,or(r),c))}return e},f=(e,t,n,r,o,i)=>{const{slotScopeIds:c}=t;c&&(o=o?o.concat(c):c);const d=s(e),h=p(a(e),t,d,n,r,o,i);return h&&ir(h)&&"]"===h.data?a(t.anchor=h):(rr(),l(t.anchor=u("]"),d,h),h)},m=(e,t,r,o,i,l)=>{if(lr(e.parentElement,1)||rr(),t.el=null,l){const t=g(e);for(;;){const n=a(e);if(!n||n===t)break;c(n)}}const u=a(e),d=s(e);return c(e),n(null,t,d,u,r,o,or(d),i),r&&(r.vnode.el=t.el,di(r,t.el)),u},g=(e,t="[",n="]")=>{let r=0;for(;e;)if((e=a(e))&&ir(e)&&(e.data===t&&r++,e.data===n)){if(0===r)return a(e);r--}return e},v=(e,t,n)=>{const r=t.parentNode;r&&r.replaceChild(e,t);let o=n;for(;o;)o.vnode.el===t&&(o.vnode.el=o.subTree.el=e),o=o.parent},y=e=>1===e.nodeType&&"TEMPLATE"===e.tagName;return[(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),gn(),void(t._vnode=e);d(t.firstChild,e,null,null,null),gn(),t._vnode=e},d]}const sr="data-allow-mismatch",cr={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function lr(e,t){if(0===t||1===t)for(;e&&!e.hasAttribute(sr);)e=e.parentElement;const n=e&&e.getAttribute(sr);if(null==n)return!1;if(""===n)return!0;{const e=n.split(",");return!(0!==t||!e.includes("children"))||n.split(",").includes(cr[t])}}const ur=V().requestIdleCallback||(e=>setTimeout(e,1)),dr=V().cancelIdleCallback||(e=>clearTimeout(e));const hr=e=>!!e.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;function pr(e,t){const{ref:n,props:r,children:o,ce:i}=t.vnode,a=ji(e,r,o);return a.ref=n,a.ce=i,delete t.vnode.ce,a}const fr=e=>e.type.__isKeepAlive,mr={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Qi(),r=n.ctx;if(!r.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const o=new Map,i=new Set;let a=null;const s=n.suspense,{renderer:{p:c,m:l,um:u,o:{createElement:d}}}=r,h=d("div");function p(e){Tr(e),u(e,n,s,!0)}function f(e){o.forEach(((t,n)=>{const r=fa(t.type);r&&!e(r)&&m(n)}))}function m(e){const t=o.get(e);!t||a&&Pi(t,a)?a&&Tr(a):p(t),o.delete(e),i.delete(e)}r.activate=(e,t,n,r,o)=>{const i=e.component;l(e,t,n,0,s),c(i.vnode,e,t,n,i,s,r,e.slotScopeIds,o),jo((()=>{i.isDeactivated=!1,i.a&&P(i.a);const t=e.props&&e.props.onVnodeMounted;t&&Yi(t,i.parent,e)}),s)},r.deactivate=e=>{const t=e.component;Ko(t.m),Ko(t.a),l(e,h,null,1,s),jo((()=>{t.da&&P(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Yi(n,t.parent,e),t.isDeactivated=!0}),s)},Zo((()=>[e.include,e.exclude]),(([e,t])=>{e&&f((t=>vr(e,t))),t&&f((e=>!vr(t,e)))}),{flush:"post",deep:!0});let g=null;const v=()=>{null!=g&&(hi(n.subTree.type)?jo((()=>{o.set(g,Sr(n.subTree))}),n.subTree.suspense):o.set(g,Sr(n.subTree)))};return Ir(v),Or(v),Nr((()=>{o.forEach((e=>{const{subTree:t,suspense:r}=n,o=Sr(t);if(e.type!==o.type||e.key!==o.key)p(e);else{Tr(o);const e=o.component.da;e&&jo(e,r)}}))})),()=>{if(g=null,!t.default)return a=null;const n=t.default(),r=n[0];if(n.length>1)return a=null,n;if(!(xi(r)&&(4&r.shapeFlag||128&r.shapeFlag)))return a=null,r;let s=Sr(r);if(s.type===Ti)return a=null,s;const c=s.type,l=fa(hr(s)?s.type.__asyncResolved||{}:c),{include:u,exclude:d,max:h}=e;if(u&&(!l||!vr(u,l))||d&&l&&vr(d,l))return s.shapeFlag&=-257,a=s,r;const p=null==s.key?c:s.key,f=o.get(p);return s.el&&(s=Bi(s),128&r.shapeFlag&&(r.ssContent=s)),g=p,f?(s.el=f.el,s.component=f.component,s.transition&&Jn(s,s.transition),s.shapeFlag|=512,i.delete(p),i.add(p)):(i.add(p),h&&i.size>parseInt(h,10)&&m(i.values().next().value)),s.shapeFlag|=256,a=s,hi(r.type)?r:s}}},gr=mr;function vr(e,t){return d(e)?e.some((e=>vr(e,t))):g(e)?e.split(",").includes(t):"[object RegExp]"===T(e)&&(e.lastIndex=0,e.test(t))}function yr(e,t){Er(e,"a",t)}function _r(e,t){Er(e,"da",t)}function Er(e,t,n=Zi){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(wr(t,r,n),n){let e=n.parent;for(;e&&e.parent;)fr(e.parent.vnode)&&br(r,t,n,e),e=e.parent}}function br(e,t,n,r){const o=wr(t,e,r,!0);kr((()=>{c(r[t],o)}),n)}function Tr(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Sr(e){return 128&e.shapeFlag?e.ssContent:e}function wr(e,t,n=Zi,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{Ce();const o=na(n),i=tn(t,n,e,r);return o(),Re(),i});return r?o.unshift(i):o.push(i),i}}const Cr=e=>(t,n=Zi)=>{sa&&"sp"!==e||wr(e,((...e)=>t(...e)),n)},Rr=Cr("bm"),Ir=Cr("m"),Ar=Cr("bu"),Or=Cr("u"),Nr=Cr("bum"),kr=Cr("um"),Dr=Cr("sp"),xr=Cr("rtg"),Pr=Cr("rtc");function Mr(e,t=Zi){wr("ec",e,t)}const Lr="components";function Ur(e,t){return zr(Lr,e,!0,t)||e}const jr=Symbol.for("v-ndc");function Vr(e){return g(e)?zr(Lr,e,!1)||e:e||jr}function Br(e){return zr("directives",e)}function zr(e,t,n=!0,r=!1){const o=bn||Zi;if(o){const n=o.type;if(e===Lr){const e=fa(n,!1);if(e&&(e===t||e===A(t)||e===k(A(t))))return n}const i=Fr(o[e]||n[e],t)||Fr(o.appContext[e],t);return!i&&r?n:i}}function Fr(e,t){return e&&(e[t]||e[A(t)]||e[k(A(t))])}function Hr(e,t,n,r){let o;const i=n&&n[r],a=d(e);if(a||g(e)){let n=!1;a&&St(e)&&(n=!Ct(e),e=Ve(e)),o=new Array(e.length);for(let r=0,a=e.length;r<a;r++)o[r]=t(n?Ot(e[r]):e[r],r,void 0,i&&i[r])}else if("number"==typeof e){o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,i&&i[n])}else if(y(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,i&&i[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,a=n.length;r<a;r++){const a=n[r];o[r]=t(e[a],a,r,i&&i[r])}}else o=[];return n&&(n[r]=o),o}function Gr(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(d(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function Wr(e,t,n={},r,o){if(bn.ce||bn.parent&&hr(bn.parent)&&bn.parent.ce)return"default"!==t&&(n.name=t),Ri(),Di(Ei,null,[ji("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),Ri();const a=i&&qr(i(n)),s=n.key||a&&a.key,c=Di(Ei,{key:(s&&!v(s)?s:`_${t}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&1===e._?64:-2);return!o&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function qr(e){return e.some((e=>!xi(e)||e.type!==Ti&&!(e.type===Ei&&!qr(e.children))))?e:null}function Kr(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:D(r)]=e[r];return n}const Yr=e=>e?oa(e)?pa(e):Yr(e.parent):null,Xr=s(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Yr(e.parent),$root:e=>Yr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>co(e),$forceUpdate:e=>e.f||(e.f=()=>{hn(e.update)}),$nextTick:e=>e.n||(e.n=dn.bind(e.proxy)),$watch:e=>ei.bind(e)}),$r=(e,n)=>e!==t&&!e.__isScriptSetup&&u(e,n),Jr={get({_:e},n){if("__v_skip"===n)return!0;const{ctx:r,setupState:o,data:i,props:a,accessCache:s,type:c,appContext:l}=e;let d;if("$"!==n[0]){const c=s[n];if(void 0!==c)switch(c){case 1:return o[n];case 2:return i[n];case 4:return r[n];case 3:return a[n]}else{if($r(o,n))return s[n]=1,o[n];if(i!==t&&u(i,n))return s[n]=2,i[n];if((d=e.propsOptions[0])&&u(d,n))return s[n]=3,a[n];if(r!==t&&u(r,n))return s[n]=4,r[n];oo&&(s[n]=0)}}const h=Xr[n];let p,f;return h?("$attrs"===n&&Le(e.attrs,0,""),h(e)):(p=c.__cssModules)&&(p=p[n])?p:r!==t&&u(r,n)?(s[n]=4,r[n]):(f=l.config.globalProperties,u(f,n)?f[n]:void 0)},set({_:e},n,r){const{data:o,setupState:i,ctx:a}=e;return $r(i,n)?(i[n]=r,!0):o!==t&&u(o,n)?(o[n]=r,!0):!u(e.props,n)&&(("$"!==n[0]||!(n.slice(1)in e))&&(a[n]=r,!0))},has({_:{data:e,setupState:n,accessCache:r,ctx:o,appContext:i,propsOptions:a}},s){let c;return!!r[s]||e!==t&&u(e,s)||$r(n,s)||(c=a[0])&&u(c,s)||u(o,s)||u(Xr,s)||u(i.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:u(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Zr=s({},Jr,{get(e,t){if(t!==Symbol.unscopables)return Jr.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!B(t)});function Qr(){return to().slots}function eo(){return to().attrs}function to(){const e=Qi();return e.setupContext||(e.setupContext=ha(e))}function no(e){return d(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}function ro(e,t){return e&&t?d(e)&&d(t)?e.concat(t):s({},no(e),no(t)):e||t}let oo=!0;function io(e){const t=co(e),n=e.proxy,o=e.ctx;oo=!1,t.beforeCreate&&ao(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:c,provide:l,inject:u,created:h,beforeMount:p,mounted:f,beforeUpdate:g,updated:v,activated:_,deactivated:E,beforeDestroy:b,beforeUnmount:T,destroyed:S,unmounted:w,render:C,renderTracked:R,renderTriggered:I,errorCaptured:A,serverPrefetch:O,expose:N,inheritAttrs:k,components:D,directives:x,filters:P}=t;if(u&&function(e,t){d(e)&&(e=po(e));for(const n in e){const r=e[n];let o;o=y(r)?"default"in r?To(r.from||n,r.default,!0):To(r.from||n):To(r),kt(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[n]=o}}(u,o,null),s)for(const r in s){const e=s[r];m(e)&&(o[r]=e.bind(n))}if(i){const t=i.call(n,n);y(t)&&(e.data=yt(t))}if(oo=!0,a)for(const d in a){const e=a[d],t=m(e)?e.bind(n,n):m(e.get)?e.get.bind(n,n):r,i=!m(e)&&m(e.set)?e.set.bind(n):r,s=ma({get:t,set:i});Object.defineProperty(o,d,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(c)for(const r in c)so(c[r],o,n,r);if(l){const e=m(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{bo(t,e[t])}))}function M(e,t){d(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&ao(h,e,"c"),M(Rr,p),M(Ir,f),M(Ar,g),M(Or,v),M(yr,_),M(_r,E),M(Mr,A),M(Pr,R),M(xr,I),M(Nr,T),M(kr,w),M(Dr,O),d(N))if(N.length){const t=e.exposed||(e.exposed={});N.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});C&&e.render===r&&(e.render=C),null!=k&&(e.inheritAttrs=k),D&&(e.components=D),x&&(e.directives=x),O&&er(e)}function ao(e,t,n){tn(d(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function so(e,t,n,r){let o=r.includes(".")?ti(n,r):()=>n[r];if(g(e)){const n=t[e];m(n)&&Zo(o,n)}else if(m(e))Zo(o,e.bind(n));else if(y(e))if(d(e))e.forEach((e=>so(e,t,n,r)));else{const r=m(e.handler)?e.handler.bind(n):t[e.handler];m(r)&&Zo(o,r,e)}}function co(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,s=i.get(t);let c;return s?c=s:o.length||n||r?(c={},o.length&&o.forEach((e=>lo(c,e,a,!0))),lo(c,t,a)):c=t,y(t)&&i.set(t,c),c}function lo(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&lo(e,i,n,!0),o&&o.forEach((t=>lo(e,t,n,!0)));for(const a in t)if(r&&"expose"===a);else{const r=uo[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const uo={data:ho,props:go,emits:go,methods:mo,computed:mo,beforeCreate:fo,created:fo,beforeMount:fo,mounted:fo,beforeUpdate:fo,updated:fo,beforeDestroy:fo,beforeUnmount:fo,destroyed:fo,unmounted:fo,activated:fo,deactivated:fo,errorCaptured:fo,serverPrefetch:fo,components:mo,directives:mo,watch:function(e,t){if(!e)return t;if(!t)return e;const n=s(Object.create(null),e);for(const r in t)n[r]=fo(e[r],t[r]);return n},provide:ho,inject:function(e,t){return mo(po(e),po(t))}};function ho(e,t){return t?e?function(){return s(m(e)?e.call(this,this):e,m(t)?t.call(this,this):t)}:t:e}function po(e){if(d(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function fo(e,t){return e?[...new Set([].concat(e,t))]:t}function mo(e,t){return e?s(Object.create(null),e,t):t}function go(e,t){return e?d(e)&&d(t)?[...new Set([...e,...t])]:s(Object.create(null),no(e),no(null!=t?t:{})):t}function vo(){return{app:null,config:{isNativeTag:o,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yo=0;function _o(e,t){return function(n,r=null){m(n)||(n=s({},n)),null==r||y(r)||(r=null);const o=vo(),i=new WeakSet,a=[];let c=!1;const l=o.app={_uid:yo++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:ya,get config(){return o.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&m(e.install)?(i.add(e),e.install(l,...t)):m(e)&&(i.add(e),e(l,...t))),l),mixin:e=>(o.mixins.includes(e)||o.mixins.push(e),l),component:(e,t)=>t?(o.components[e]=t,l):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,l):o.directives[e],mount(i,a,s){if(!c){const u=l._ceVNode||ji(n,r);return u.appContext=o,!0===s?s="svg":!1===s&&(s=void 0),a&&t?t(u,i):e(u,i,s),c=!0,l._container=i,i.__vue_app__=l,pa(u.component)}},onUnmount(e){a.push(e)},unmount(){c&&(tn(a,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,l),runWithContext(e){const t=Eo;Eo=l;try{return e()}finally{Eo=t}}};return l}}let Eo=null;function bo(e,t){if(Zi){let n=Zi.provides;const r=Zi.parent&&Zi.parent.provides;r===n&&(n=Zi.provides=Object.create(r)),n[e]=t}else;}function To(e,t,n=!1){const r=Zi||bn;if(r||Eo){const o=Eo?Eo._context.provides:r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&m(t)?t.call(r&&r.proxy):t}}function So(){return!!(Zi||bn||Eo)}const wo={},Co=()=>Object.create(wo),Ro=e=>Object.getPrototypeOf(e)===wo;function Io(e,n,r,o){const[i,a]=e.propsOptions;let s,c=!1;if(n)for(let t in n){if(C(t))continue;const l=n[t];let d;i&&u(i,d=A(t))?a&&a.includes(d)?(s||(s={}))[d]=l:r[d]=l:ai(e.emitsOptions,t)||t in o&&l===o[t]||(o[t]=l,c=!0)}if(a){const n=It(r),o=s||t;for(let t=0;t<a.length;t++){const s=a[t];r[s]=Ao(i,n,s,o[s],e,!u(o,s))}}return c}function Ao(e,t,n,r,o,i){const a=e[n];if(null!=a){const e=u(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&!a.skipFactory&&m(e)){const{propsDefaults:i}=o;if(n in i)r=i[n];else{const a=na(o);r=i[n]=e.call(null,t),a()}}else r=e;o.ce&&o.ce._setProp(n,r)}a[0]&&(i&&!e?r=!1:!a[1]||""!==r&&r!==N(n)||(r=!0))}return r}const Oo=new WeakMap;function No(e,r,o=!1){const i=o?Oo:r.propsCache,a=i.get(e);if(a)return a;const c=e.props,l={},h=[];let p=!1;if(!m(e)){const t=e=>{p=!0;const[t,n]=No(e,r,!0);s(l,t),n&&h.push(...n)};!o&&r.mixins.length&&r.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!c&&!p)return y(e)&&i.set(e,n),n;if(d(c))for(let n=0;n<c.length;n++){const e=A(c[n]);ko(e)&&(l[e]=t)}else if(c)for(const t in c){const e=A(t);if(ko(e)){const n=c[t],r=l[e]=d(n)||m(n)?{type:n}:s({},n),o=r.type;let i=!1,a=!0;if(d(o))for(let e=0;e<o.length;++e){const t=o[e],n=m(t)&&t.name;if("Boolean"===n){i=!0;break}"String"===n&&(a=!1)}else i=m(o)&&"Boolean"===o.name;r[0]=i,r[1]=a,(i||u(r,"default"))&&h.push(e)}}const f=[l,h];return y(e)&&i.set(e,f),f}function ko(e){return"$"!==e[0]&&!C(e)}const Do=e=>"_"===e[0]||"$stable"===e,xo=e=>d(e)?e.map(Gi):[Gi(e)],Po=(e,t,n)=>{if(t._n)return t;const r=wn(((...e)=>xo(t(...e))),n);return r._c=!1,r},Mo=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Do(o))continue;const n=e[o];if(m(n))t[o]=Po(0,n,r);else if(null!=n){const e=xo(n);t[o]=()=>e}}},Lo=(e,t)=>{const n=xo(t);e.slots.default=()=>n},Uo=(e,t,n)=>{for(const r in t)(n||"_"!==r)&&(e[r]=t[r])},jo=yi;function Vo(e){return zo(e)}function Bo(e){return zo(e,ar)}function zo(e,o){V().__VUE__=!0;const{insert:i,remove:a,patchProp:s,createElement:c,createText:l,createComment:d,setText:h,setElementText:p,parentNode:f,nextSibling:m,setScopeId:g=r,insertStaticContent:v}=e,y=(e,t,n,r=null,o=null,i=null,a=void 0,s=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!Pi(e,t)&&(r=X(e),G(e,o,i,!0),e=null),-2===t.patchFlag&&(c=!1,t.dynamicChildren=null);const{type:l,ref:u,shapeFlag:d}=t;switch(l){case bi:_(e,t,n,r);break;case Ti:E(e,t,n,r);break;case Si:null==e&&b(t,n,r,a);break;case Ei:D(e,t,n,r,o,i,a,s,c);break;default:1&d?T(e,t,n,r,o,i,a,s,c):6&d?x(e,t,n,r,o,i,a,s,c):(64&d||128&d)&&l.process(e,t,n,r,o,i,a,s,c,Z)}null!=u&&o&&tr(u,e&&e.ref,i,t||e,!t)},_=(e,t,n,r)=>{if(null==e)i(t.el=l(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},E=(e,t,n,r)=>{null==e?i(t.el=d(t.children||""),n,r):t.el=e.el},b=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r,e.el,e.anchor)},T=(e,t,n,r,o,i,a,s,c)=>{"svg"===t.type?a="svg":"math"===t.type&&(a="mathml"),null==e?S(t,n,r,o,i,a,s,c):I(e,t,o,i,a,s,c)},S=(e,t,n,r,o,a,l,u)=>{let d,h;const{props:f,shapeFlag:m,transition:g,dirs:v}=e;if(d=e.el=c(e.type,a,f&&f.is,f),8&m?p(d,e.children):16&m&&R(e.children,d,null,r,o,Fo(e,a),l,u),v&&Rn(e,null,r,"created"),w(d,e,e.scopeId,l,r),f){for(const e in f)"value"===e||C(e)||s(d,e,null,f[e],a,r);"value"in f&&s(d,"value",null,f.value,a),(h=f.onVnodeBeforeMount)&&Yi(h,r,e)}v&&Rn(e,null,r,"beforeMount");const y=Go(o,g);y&&g.beforeEnter(d),i(d,t,n),((h=f&&f.onVnodeMounted)||y||v)&&jo((()=>{h&&Yi(h,r,e),y&&g.enter(d),v&&Rn(e,null,r,"mounted")}),o)},w=(e,t,n,r,o)=>{if(n&&g(e,n),r)for(let i=0;i<r.length;i++)g(e,r[i]);if(o){let n=o.subTree;if(t===n||hi(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=o.vnode;w(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},R=(e,t,n,r,o,i,a,s,c=0)=>{for(let l=c;l<e.length;l++){const c=e[l]=s?Wi(e[l]):Gi(e[l]);y(null,c,t,n,r,o,i,a,s)}},I=(e,n,r,o,i,a,c)=>{const l=n.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:h}=n;u|=16&e.patchFlag;const f=e.props||t,m=n.props||t;let g;if(r&&Ho(r,!1),(g=m.onVnodeBeforeUpdate)&&Yi(g,r,n,e),h&&Rn(n,e,r,"beforeUpdate"),r&&Ho(r,!0),(f.innerHTML&&null==m.innerHTML||f.textContent&&null==m.textContent)&&p(l,""),d?O(e.dynamicChildren,d,l,r,o,Fo(n,i),a):c||B(e,n,l,null,r,o,Fo(n,i),a,!1),u>0){if(16&u)k(l,f,m,r,i);else if(2&u&&f.class!==m.class&&s(l,"class",null,m.class,i),4&u&&s(l,"style",f.style,m.style,i),8&u){const e=n.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],o=f[n],a=m[n];a===o&&"value"!==n||s(l,n,o,a,i,r)}}1&u&&e.children!==n.children&&p(l,n.children)}else c||null!=d||k(l,f,m,r,i);((g=m.onVnodeUpdated)||h)&&jo((()=>{g&&Yi(g,r,n,e),h&&Rn(n,e,r,"updated")}),o)},O=(e,t,n,r,o,i,a)=>{for(let s=0;s<t.length;s++){const c=e[s],l=t[s],u=c.el&&(c.type===Ei||!Pi(c,l)||70&c.shapeFlag)?f(c.el):n;y(c,l,u,null,r,o,i,a,!0)}},k=(e,n,r,o,i)=>{if(n!==r){if(n!==t)for(const t in n)C(t)||t in r||s(e,t,n[t],null,i,o);for(const t in r){if(C(t))continue;const a=r[t],c=n[t];a!==c&&"value"!==t&&s(e,t,c,a,i,o)}"value"in r&&s(e,"value",n.value,r.value,i)}},D=(e,t,n,r,o,a,s,c,u)=>{const d=t.el=e?e.el:l(""),h=t.anchor=e?e.anchor:l("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(i(d,n,r),i(h,n,r),R(t.children||[],n,h,o,a,s,c,u)):p>0&&64&p&&f&&e.dynamicChildren?(O(e.dynamicChildren,f,n,o,a,s,c),(null!=t.key||o&&t===o.subTree)&&Wo(e,t,!0)):B(e,t,n,h,o,a,s,c,u)},x=(e,t,n,r,o,i,a,s,c)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,a,c):M(t,n,r,o,i,a,c):L(e,t,c)},M=(e,t,n,r,o,i,a)=>{const s=e.component=Ji(e,r,o);if(fr(e)&&(s.ctx.renderer=Z),ca(s,!1,a),s.asyncDep){if(o&&o.registerDep(s,U,a),!e.el){const e=s.subTree=ji(Ti);E(null,e,t,n)}}else U(s,e,t,n,o,i,a)},L=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:o,component:i}=e,{props:a,children:s,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!o&&!s||s&&s.$stable)||r!==a&&(r?!a||ui(r,a,l):!!a);if(1024&c)return!0;if(16&c)return r?ui(r,a,l):!!a;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!ai(l,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void j(r,t,n);r.next=t,r.update()}else t.el=e.el,r.vnode=t},U=(e,t,n,r,o,i,a)=>{const s=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:c,vnode:l}=e;{const n=qo(e);if(n)return t&&(t.el=l.el,j(e,t,a)),void n.asyncDep.then((()=>{e.isUnmounted||s()}))}let u,d=t;Ho(e,!1),t?(t.el=l.el,j(e,t,a)):t=l,n&&P(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Yi(u,c,t,l),Ho(e,!0);const h=si(e),p=e.subTree;e.subTree=h,y(p,h,f(p.el),X(p),e,o,i),t.el=h.el,null===d&&di(e,h.el),r&&jo(r,o),(u=t.props&&t.props.onVnodeUpdated)&&jo((()=>Yi(u,c,t,l)),o)}else{let a;const{el:s,props:c}=t,{bm:l,m:u,parent:d,root:h,type:p}=e,f=hr(t);if(Ho(e,!1),l&&P(l),!f&&(a=c&&c.onVnodeBeforeMount)&&Yi(a,d,t),Ho(e,!0),s&&ee){const t=()=>{e.subTree=si(e),ee(s,e.subTree,e,o,null)};f&&p.__asyncHydrate?p.__asyncHydrate(s,e,t):t()}else{h.ce&&h.ce._injectChildStyle(p);const a=e.subTree=si(e);y(null,a,n,r,e,o,i),t.el=a.el}if(u&&jo(u,o),!f&&(a=c&&c.onVnodeMounted)){const e=t;jo((()=>Yi(a,d,e)),o)}(256&t.shapeFlag||d&&hr(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&jo(e.a,o),e.isMounted=!0,t=n=r=null}};e.scope.on();const c=e.effect=new ue(s);e.scope.off();const l=e.update=c.run.bind(c),u=e.job=c.runIfDirty.bind(c);u.i=e,u.id=e.uid,c.scheduler=()=>hn(u),Ho(e,!0),l()},j=(e,n,r)=>{n.component=e;const o=e.vnode.props;e.vnode=n,e.next=null,function(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:a}}=e,s=It(o),[c]=e.propsOptions;let l=!1;if(!(r||a>0)||16&a){let r;Io(e,t,o,i)&&(l=!0);for(const i in s)t&&(u(t,i)||(r=N(i))!==i&&u(t,r))||(c?!n||void 0===n[i]&&void 0===n[r]||(o[i]=Ao(c,s,i,void 0,e,!0)):delete o[i]);if(i!==s)for(const e in i)t&&u(t,e)||(delete i[e],l=!0)}else if(8&a){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let a=n[r];if(ai(e.emitsOptions,a))continue;const d=t[a];if(c)if(u(i,a))d!==i[a]&&(i[a]=d,l=!0);else{const t=A(a);o[t]=Ao(c,s,t,d,e,!1)}else d!==i[a]&&(i[a]=d,l=!0)}}l&&Ue(e.attrs,"set","")}(e,n.props,o,r),((e,n,r)=>{const{vnode:o,slots:i}=e;let a=!0,s=t;if(32&o.shapeFlag){const e=n._;e?r&&1===e?a=!1:Uo(i,n,r):(a=!n.$stable,Mo(n,i)),s=n}else n&&(Lo(e,n),s={default:1});if(a)for(const t in i)Do(t)||null!=s[t]||delete i[t]})(e,n.children,r),Ce(),mn(e),Re()},B=(e,t,n,r,o,i,a,s,c=!1)=>{const l=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:h,shapeFlag:f}=t;if(h>0){if(128&h)return void F(l,d,n,r,o,i,a,s,c);if(256&h)return void z(l,d,n,r,o,i,a,s,c)}8&f?(16&u&&Y(l,o,i),d!==l&&p(n,d)):16&u?16&f?F(l,d,n,r,o,i,a,s,c):Y(l,o,i,!0):(8&u&&p(n,""),16&f&&R(d,n,r,o,i,a,s,c))},z=(e,t,r,o,i,a,s,c,l)=>{t=t||n;const u=(e=e||n).length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const n=t[p]=l?Wi(t[p]):Gi(t[p]);y(e[p],n,r,null,i,a,s,c,l)}u>d?Y(e,i,a,!0,!1,h):R(t,r,o,i,a,s,c,l,h)},F=(e,t,r,o,i,a,s,c,l)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;for(;u<=h&&u<=p;){const n=e[u],o=t[u]=l?Wi(t[u]):Gi(t[u]);if(!Pi(n,o))break;y(n,o,r,null,i,a,s,c,l),u++}for(;u<=h&&u<=p;){const n=e[h],o=t[p]=l?Wi(t[p]):Gi(t[p]);if(!Pi(n,o))break;y(n,o,r,null,i,a,s,c,l),h--,p--}if(u>h){if(u<=p){const e=p+1,n=e<d?t[e].el:o;for(;u<=p;)y(null,t[u]=l?Wi(t[u]):Gi(t[u]),r,n,i,a,s,c,l),u++}}else if(u>p)for(;u<=h;)G(e[u],i,a,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=l?Wi(t[u]):Gi(t[u]);null!=e.key&&g.set(e.key,u)}let v,_=0;const E=p-m+1;let b=!1,T=0;const S=new Array(E);for(u=0;u<E;u++)S[u]=0;for(u=f;u<=h;u++){const n=e[u];if(_>=E){G(n,i,a,!0);continue}let o;if(null!=n.key)o=g.get(n.key);else for(v=m;v<=p;v++)if(0===S[v-m]&&Pi(n,t[v])){o=v;break}void 0===o?G(n,i,a,!0):(S[o-m]=u+1,o>=T?T=o:b=!0,y(n,t[o],r,null,i,a,s,c,l),_++)}const w=b?function(e){const t=e.slice(),n=[0];let r,o,i,a,s;const c=e.length;for(r=0;r<c;r++){const c=e[r];if(0!==c){if(o=n[n.length-1],e[o]<c){t[r]=o,n.push(r);continue}for(i=0,a=n.length-1;i<a;)s=i+a>>1,e[n[s]]<c?i=s+1:a=s;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}i=n.length,a=n[i-1];for(;i-- >0;)n[i]=a,a=t[a];return n}(S):n;for(v=w.length-1,u=E-1;u>=0;u--){const e=m+u,n=t[e],h=e+1<d?t[e+1].el:o;0===S[u]?y(null,n,r,h,i,a,s,c,l):b&&(v<0||u!==w[v]?H(n,r,h,2):v--)}}},H=(e,t,n,r,o=null)=>{const{el:a,type:s,transition:c,children:l,shapeFlag:u}=e;if(6&u)return void H(e.component.subTree,t,n,r);if(128&u)return void e.suspense.move(t,n,r);if(64&u)return void s.move(e,t,n,Z);if(s===Ei){i(a,t,n);for(let e=0;e<l.length;e++)H(l[e],t,n,r);return void i(e.anchor,t,n)}if(s===Si)return void(({el:e,anchor:t},n,r)=>{let o;for(;e&&e!==t;)o=m(e),i(e,n,r),e=o;i(t,n,r)})(e,t,n);if(2!==r&&1&u&&c)if(0===r)c.beforeEnter(a),i(a,t,n),jo((()=>c.enter(a)),o);else{const{leave:e,delayLeave:r,afterLeave:o}=c,s=()=>i(a,t,n),l=()=>{e(a,(()=>{s(),o&&o()}))};r?r(a,s,l):l()}else i(a,t,n)},G=(e,t,n,r=!1,o=!1)=>{const{type:i,props:a,ref:s,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:d,dirs:h,cacheIndex:p}=e;if(-2===d&&(o=!1),null!=s&&tr(s,null,n,e,!0),null!=p&&(t.renderCache[p]=void 0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,m=!hr(e);let g;if(m&&(g=a&&a.onVnodeBeforeUnmount)&&Yi(g,t,e),6&u)K(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);f&&Rn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,Z,r):l&&!l.hasOnce&&(i!==Ei||d>0&&64&d)?Y(l,t,n,!1,!0):(i===Ei&&384&d||!o&&16&u)&&Y(c,t,n),r&&W(e)}(m&&(g=a&&a.onVnodeUnmounted)||f)&&jo((()=>{g&&Yi(g,t,e),f&&Rn(e,null,t,"unmounted")}),n)},W=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===Ei)return void q(n,r);if(t===Si)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),a(e),e=n;a(t)})(e);const i=()=>{a(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,a=()=>t(n,i);r?r(e.el,i,a):a()}else i()},q=(e,t)=>{let n;for(;e!==t;)n=m(e),a(e),e=n;a(t)},K=(e,t,n)=>{const{bum:r,scope:o,job:i,subTree:a,um:s,m:c,a:l}=e;Ko(c),Ko(l),r&&P(r),o.stop(),i&&(i.flags|=8,G(a,e,t,n)),s&&jo(s,t),jo((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Y=(e,t,n,r=!1,o=!1,i=0)=>{for(let a=i;a<e.length;a++)G(e[a],t,n,r,o)},X=e=>{if(6&e.shapeFlag)return X(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=m(e.anchor||e.el),n=t&&t[In];return n?m(n):t};let $=!1;const J=(e,t,n)=>{null==e?t._vnode&&G(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),t._vnode=e,$||($=!0,mn(),gn(),$=!1)},Z={p:y,um:G,m:H,r:W,mt:M,mc:R,pc:B,pbc:O,n:X,o:e};let Q,ee;return o&&([Q,ee]=o(Z)),{render:J,hydrate:Q,createApp:_o(J,Q)}}function Fo({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ho({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Go(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Wo(e,t,n=!1){const r=e.children,o=t.children;if(d(r)&&d(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=Wi(o[i]),t.el=e.el),n||-2===t.patchFlag||Wo(e,t)),t.type===bi&&(t.el=e.el)}}function qo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:qo(t)}function Ko(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Yo=Symbol.for("v-scx"),Xo=()=>To(Yo);function $o(e,t){return Qo(e,null,t)}function Jo(e,t){return Qo(e,null,{flush:"sync"})}function Zo(e,t,n){return Qo(e,t,n)}function Qo(e,n,o=t){const{immediate:i,deep:a,flush:l,once:u}=o,h=s({},o),p=n&&i||!n&&"post"!==l;let f;if(sa)if("sync"===l){const e=Xo();f=e.__watcherHandles||(e.__watcherHandles=[])}else if(!p){const e=()=>{};return e.stop=r,e.resume=r,e.pause=r,e}const g=Zi;h.call=(e,t,n)=>tn(e,g,t,n);let v=!1;"post"===l?h.scheduler=e=>{jo(e,g&&g.suspense)}:"sync"!==l&&(v=!0,h.scheduler=(e,t)=>{t?e():hn(e)}),h.augmentJob=e=>{n&&(e.flags|=4),v&&(e.flags|=2,g&&(e.id=g.uid,e.i=g))};const y=function(e,n,o=t){const{immediate:i,deep:a,once:s,scheduler:l,augmentJob:u,call:h}=o,p=e=>a?e:Ct(e)||!1===a||0===a?Jt(e,1):Jt(e);let f,g,v,y,_=!1,E=!1;if(kt(e)?(g=()=>e.value,_=Ct(e)):St(e)?(g=()=>p(e),_=!0):d(e)?(E=!0,_=e.some((e=>St(e)||Ct(e))),g=()=>e.map((e=>kt(e)?e.value:St(e)?p(e):m(e)?h?h(e,2):e():void 0))):g=m(e)?n?h?()=>h(e,2):e:()=>{if(v){Ce();try{v()}finally{Re()}}const t=Xt;Xt=f;try{return h?h(e,3,[y]):e(y)}finally{Xt=t}}:r,n&&a){const e=g,t=!0===a?1/0:a;g=()=>Jt(e(),t)}const b=se(),T=()=>{f.stop(),b&&b.active&&c(b.effects,f)};if(s&&n){const e=n;n=(...t)=>{e(...t),T()}}let S=E?new Array(e.length).fill(Kt):Kt;const w=e=>{if(1&f.flags&&(f.dirty||e))if(n){const e=f.run();if(a||_||(E?e.some(((e,t)=>x(e,S[t]))):x(e,S))){v&&v();const t=Xt;Xt=f;try{const t=[e,S===Kt?void 0:E&&S[0]===Kt?[]:S,y];h?h(n,3,t):n(...t),S=e}finally{Xt=t}}}else f.run()};return u&&u(w),f=new ue(g),f.scheduler=l?()=>l(w,!1):w,y=e=>$t(e,!1,f),v=f.onStop=()=>{const e=Yt.get(f);if(e){if(h)h(e,4);else for(const t of e)t();Yt.delete(f)}},n?i?w(!0):S=f.run():l?l(w.bind(null,!0),!0):f.run(),T.pause=f.pause.bind(f),T.resume=f.resume.bind(f),T.stop=T,T}(e,n,h);return sa&&(f?f.push(y):p&&y()),y}function ei(e,t,n){const r=this.proxy,o=g(e)?e.includes(".")?ti(r,e):()=>r[e]:e.bind(r,r);let i;m(t)?i=t:(i=t.handler,n=t);const a=na(this),s=Qo(o,i.bind(r),n);return a(),s}function ti(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function ni(e,n,r=t){const o=Qi(),i=A(n),a=N(n),s=ri(e,i),c=Bt(((s,c)=>{let l,u,d=t;return Jo((()=>{const t=e[i];x(l,t)&&(l=t,c())})),{get:()=>(s(),r.get?r.get(l):l),set(e){const s=r.set?r.set(e):e;if(!(x(s,l)||d!==t&&x(e,d)))return;const h=o.vnode.props;h&&(n in h||i in h||a in h)&&(`onUpdate:${n}`in h||`onUpdate:${i}`in h||`onUpdate:${a}`in h)||(l=e,c()),o.emit(`update:${n}`,s),x(e,s)&&x(e,d)&&!x(s,u)&&c(),d=e,u=s}}}));return c[Symbol.iterator]=()=>{let e=0;return{next:()=>e<2?{value:e++?s||t:c,done:!1}:{done:!0}}},c}const ri=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${A(t)}Modifiers`]||e[`${N(t)}Modifiers`];function oi(e,n,...r){if(e.isUnmounted)return;const o=e.vnode.props||t;let i=r;const a=n.startsWith("update:"),s=a&&ri(o,n.slice(7));let c;s&&(s.trim&&(i=r.map((e=>g(e)?e.trim():e))),s.number&&(i=r.map(L)));let l=o[c=D(n)]||o[c=D(A(n))];!l&&a&&(l=o[c=D(N(n))]),l&&tn(l,e,6,i);const u=o[c+"Once"];if(u){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,tn(u,e,6,i)}}function ii(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const i=e.emits;let a={},c=!1;if(!m(e)){const r=e=>{const n=ii(e,t,!0);n&&(c=!0,s(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return i||c?(d(i)?i.forEach((e=>a[e]=null)):s(a,i),y(e)&&r.set(e,a),a):(y(e)&&r.set(e,null),null)}function ai(e,t){return!(!e||!i(t))&&(t=t.slice(2).replace(/Once$/,""),u(e,t[0].toLowerCase()+t.slice(1))||u(e,N(t))||u(e,t))}function si(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[i],slots:s,attrs:c,emit:l,render:u,renderCache:d,props:h,data:p,setupState:f,ctx:m,inheritAttrs:g}=e,v=Sn(e);let y,_;try{if(4&n.shapeFlag){const e=o||r,t=e;y=Gi(u.call(t,e,d,h,f,p,m)),_=c}else{const e=t;0,y=Gi(e.length>1?e(h,{attrs:c,slots:s,emit:l}):e(h,null)),_=t.props?c:ci(c)}}catch(b){wi.length=0,nn(b,e,1),y=ji(Ti)}let E=y;if(_&&!1!==g){const e=Object.keys(_),{shapeFlag:t}=E;e.length&&7&t&&(i&&e.some(a)&&(_=li(_,i)),E=Bi(E,_,!1,!0))}return n.dirs&&(E=Bi(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Jn(E,n.transition),y=E,Sn(v),y}const ci=e=>{let t;for(const n in e)("class"===n||"style"===n||i(n))&&((t||(t={}))[n]=e[n]);return t},li=(e,t)=>{const n={};for(const r in e)a(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function ui(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!ai(n,i))return!0}return!1}function di({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}const hi=e=>e.__isSuspense;let pi=0;const fi={name:"Suspense",__isSuspense:!0,process(e,t,n,r,o,i,a,s,c,l){if(null==e)!function(e,t,n,r,o,i,a,s,c){const{p:l,o:{createElement:u}}=c,d=u("div"),h=e.suspense=gi(e,o,r,t,d,n,i,a,s,c);l(null,h.pendingBranch=e.ssContent,d,null,r,h,i,a),h.deps>0?(mi(e,"onPending"),mi(e,"onFallback"),l(null,e.ssFallback,t,n,r,null,i,a),_i(h,e.ssFallback)):h.resolve(!1,!0)}(t,n,r,o,i,a,s,c,l);else{if(i&&i.deps>0&&!e.suspense.isInFallback)return t.suspense=e.suspense,t.suspense.vnode=t,void(t.el=e.el);!function(e,t,n,r,o,i,a,s,{p:c,um:l,o:{createElement:u}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const h=t.ssContent,p=t.ssFallback,{activeBranch:f,pendingBranch:m,isInFallback:g,isHydrating:v}=d;if(m)d.pendingBranch=h,Pi(h,m)?(c(m,h,d.hiddenContainer,null,o,d,i,a,s),d.deps<=0?d.resolve():g&&(v||(c(f,p,n,r,o,null,i,a,s),_i(d,p)))):(d.pendingId=pi++,v?(d.isHydrating=!1,d.activeBranch=m):l(m,o,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),g?(c(null,h,d.hiddenContainer,null,o,d,i,a,s),d.deps<=0?d.resolve():(c(f,p,n,r,o,null,i,a,s),_i(d,p))):f&&Pi(h,f)?(c(f,h,n,r,o,d,i,a,s),d.resolve(!0)):(c(null,h,d.hiddenContainer,null,o,d,i,a,s),d.deps<=0&&d.resolve()));else if(f&&Pi(h,f))c(f,h,n,r,o,d,i,a,s),_i(d,h);else if(mi(t,"onPending"),d.pendingBranch=h,512&h.shapeFlag?d.pendingId=h.component.suspenseId:d.pendingId=pi++,c(null,h,d.hiddenContainer,null,o,d,i,a,s),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout((()=>{d.pendingId===t&&d.fallback(p)}),e):0===e&&d.fallback(p)}}(e,t,n,r,o,a,s,c,l)}},hydrate:function(e,t,n,r,o,i,a,s,c){const l=t.suspense=gi(t,r,n,e.parentNode,document.createElement("div"),null,o,i,a,s,!0),u=c(e,l.pendingBranch=t.ssContent,n,l,i,a);0===l.deps&&l.resolve(!1,!0);return u},normalize:function(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=vi(r?n.default:n),e.ssFallback=r?vi(n.fallback):ji(Ti)}};function mi(e,t){const n=e.props&&e.props[t];m(n)&&n()}function gi(e,t,n,r,o,i,a,s,c,l,u=!1){const{p:d,m:h,um:p,n:f,o:{parentNode:m,remove:g}}=l;let v;const y=function(e){const t=e.props&&e.props.suspensible;return null!=t&&!1!==t}(e);y&&t&&t.pendingBranch&&(v=t.pendingId,t.deps++);const _=e.props?U(e.props.timeout):void 0,E=i,b={vnode:e,parent:t,parentComponent:n,namespace:a,container:r,hiddenContainer:o,deps:0,pendingId:pi++,timeout:"number"==typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:r,activeBranch:o,pendingBranch:a,pendingId:s,effects:c,parentComponent:l,container:u}=b;let d=!1;b.isHydrating?b.isHydrating=!1:e||(d=o&&a.transition&&"out-in"===a.transition.mode,d&&(o.transition.afterLeave=()=>{s===b.pendingId&&(h(a,u,i===E?f(o):i,0),fn(c))}),o&&(m(o.el)===u&&(i=f(o)),p(o,l,b,!0)),d||h(a,u,i,0)),_i(b,a),b.pendingBranch=null,b.isInFallback=!1;let g=b.parent,_=!1;for(;g;){if(g.pendingBranch){g.effects.push(...c),_=!0;break}g=g.parent}_||d||fn(c),b.effects=[],y&&t&&t.pendingBranch&&v===t.pendingId&&(t.deps--,0!==t.deps||n||t.resolve()),mi(r,"onResolve")},fallback(e){if(!b.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:o,namespace:i}=b;mi(t,"onFallback");const a=f(n),l=()=>{b.isInFallback&&(d(null,e,o,a,r,null,i,s,c),_i(b,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=l),b.isInFallback=!0,p(n,r,null,!0),u||l()},move(e,t,n){b.activeBranch&&h(b.activeBranch,e,t,n),b.container=e},next:()=>b.activeBranch&&f(b.activeBranch),registerDep(e,t,n){const r=!!b.pendingBranch;r&&b.deps++;const o=e.vnode.el;e.asyncDep.catch((t=>{nn(t,e,0)})).then((i=>{if(e.isUnmounted||b.isUnmounted||b.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:s}=e;la(e,i,!1),o&&(s.el=o);const c=!o&&e.subTree.el;t(e,s,m(o||e.subTree.el),o?null:f(e.subTree),b,a,n),c&&g(c),di(e,s.el),r&&0==--b.deps&&b.resolve()}))},unmount(e,t){b.isUnmounted=!0,b.activeBranch&&p(b.activeBranch,n,e,t),b.pendingBranch&&p(b.pendingBranch,n,e,t)}};return b}function vi(e){let t;if(m(e)){const n=Ai&&e._c;n&&(e._d=!1,Ri()),e=e(),n&&(e._d=!0,t=Ci,Ii())}if(d(e)){const t=function(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!xi(r))return;if(r.type!==Ti||"v-if"===r.children){if(t)return;t=r}}return t}(e);e=t}return e=Gi(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function yi(e,t){t&&t.pendingBranch?d(e)?t.effects.push(...e):t.effects.push(e):fn(e)}function _i(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let o=t.el;for(;!o&&t.component;)o=(t=t.component.subTree).el;n.el=o,r&&r.subTree===n&&(r.vnode.el=o,di(r,o))}const Ei=Symbol.for("v-fgt"),bi=Symbol.for("v-txt"),Ti=Symbol.for("v-cmt"),Si=Symbol.for("v-stc"),wi=[];let Ci=null;function Ri(e=!1){wi.push(Ci=e?null:[])}function Ii(){wi.pop(),Ci=wi[wi.length-1]||null}let Ai=1;function Oi(e,t=!1){Ai+=e,e<0&&Ci&&t&&(Ci.hasOnce=!0)}function Ni(e){return e.dynamicChildren=Ai>0?Ci||n:null,Ii(),Ai>0&&Ci&&Ci.push(e),e}function ki(e,t,n,r,o,i){return Ni(Ui(e,t,n,r,o,i,!0))}function Di(e,t,n,r,o){return Ni(ji(e,t,n,r,o,!0))}function xi(e){return!!e&&!0===e.__v_isVNode}function Pi(e,t){return e.type===t.type&&e.key===t.key}const Mi=({key:e})=>null!=e?e:null,Li=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?g(e)||kt(e)||m(e)?{i:bn,r:e,k:t,f:!!n}:e:null);function Ui(e,t=null,n=null,r=0,o=null,i=(e===Ei?0:1),a=!1,s=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mi(t),ref:t&&Li(t),scopeId:Tn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:bn};return s?(qi(c,n),128&i&&e.normalize(c)):n&&(c.shapeFlag|=g(n)?8:16),Ai>0&&!a&&Ci&&(c.patchFlag>0||6&i)&&32!==c.patchFlag&&Ci.push(c),c}const ji=function(e,t=null,n=null,r=0,o=null,i=!1){e&&e!==jr||(e=Ti);if(xi(e)){const r=Bi(e,t,!0);return n&&qi(r,n),Ai>0&&!i&&Ci&&(6&r.shapeFlag?Ci[Ci.indexOf(e)]=r:Ci.push(r)),r.patchFlag=-2,r}a=e,m(a)&&"__vccOpts"in a&&(e=e.__vccOpts);var a;if(t){t=Vi(t);let{class:e,style:n}=t;e&&!g(e)&&(t.class=q(e)),y(n)&&(Rt(n)&&!d(n)&&(n=s({},n)),t.style=z(n))}const c=g(e)?1:hi(e)?128:An(e)?64:y(e)?4:m(e)?2:0;return Ui(e,t,n,r,o,c,i,!0)};function Vi(e){return e?Rt(e)||Ro(e)?s({},e):e:null}function Bi(e,t,n=!1,r=!1){const{props:o,ref:i,patchFlag:a,children:s,transition:c}=e,l=t?Ki(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Mi(l),ref:t&&t.ref?n&&i?d(i)?i.concat(Li(t)):[i,Li(t)]:Li(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ei?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bi(e.ssContent),ssFallback:e.ssFallback&&Bi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Jn(u,c.clone(u)),u}function zi(e=" ",t=0){return ji(bi,null,e,t)}function Fi(e,t){const n=ji(Si,null,e);return n.staticCount=t,n}function Hi(e="",t=!1){return t?(Ri(),Di(Ti,null,e)):ji(Ti,null,e)}function Gi(e){return null==e||"boolean"==typeof e?ji(Ti):d(e)?ji(Ei,null,e.slice()):xi(e)?Wi(e):ji(bi,null,String(e))}function Wi(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Bi(e)}function qi(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(d(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),qi(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Ro(t)?3===r&&bn&&(1===bn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=bn}}else m(t)?(t={default:t,_ctx:bn},n=32):(t=String(t),64&r?(n=16,t=[zi(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ki(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=q([t.class,r.class]));else if("style"===e)t.style=z([t.style,r.style]);else if(i(e)){const n=t[e],o=r[e];!o||n===o||d(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function Yi(e,t,n,r=null){tn(e,t,7,[n,r])}const Xi=vo();let $i=0;function Ji(e,n,r){const o=e.type,i=(n?n.appContext:e.appContext)||Xi,a={uid:$i++,vnode:e,type:o,parent:n,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ie(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(i.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:No(o,i),emitsOptions:ii(o,i),emit:null,emitted:null,propsDefaults:t,inheritAttrs:o.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=n?n.root:a,a.emit=oi.bind(null,a),e.ce&&e.ce(a),a}let Zi=null;const Qi=()=>Zi||bn;let ea,ta;{const e=V(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach((t=>t(e))):r[0](e)}};ea=t("__VUE_INSTANCE_SETTERS__",(e=>Zi=e)),ta=t("__VUE_SSR_SETTERS__",(e=>sa=e))}const na=e=>{const t=Zi;return ea(e),e.scope.on(),()=>{e.scope.off(),ea(t)}},ra=()=>{Zi&&Zi.scope.off(),ea(null)};function oa(e){return 4&e.vnode.shapeFlag}let ia,aa,sa=!1;function ca(e,t=!1,n=!1){t&&ta(t);const{props:r,children:o}=e.vnode,i=oa(e);!function(e,t,n,r=!1){const o={},i=Co();e.propsDefaults=Object.create(null),Io(e,t,o,i);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:_t(o):e.type.props?e.props=o:e.props=i,e.attrs=i}(e,r,i,t),((e,t,n)=>{const r=e.slots=Co();if(32&e.vnode.shapeFlag){const e=t._;e?(Uo(r,t,n),n&&M(r,"_",e,!0)):Mo(t,r)}else t&&Lo(e,t)})(e,o,n);const a=i?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Jr);const{setup:r}=n;if(r){Ce();const n=e.setupContext=r.length>1?ha(e):null,o=na(e),i=en(r,e,0,[e.props,n]),a=E(i);if(Re(),o(),!a&&!e.sp||hr(e)||er(e),a){if(i.then(ra,ra),t)return i.then((n=>{la(e,n,t)})).catch((t=>{nn(t,e,0)}));e.asyncDep=i}else la(e,i,t)}else ua(e,t)}(e,t):void 0;return t&&ta(!1),a}function la(e,t,n){m(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:y(t)&&(e.setupState=jt(t)),ua(e,n)}function ua(e,t,n){const o=e.type;if(!e.render){if(!t&&ia&&!o.render){const t=o.template||co(e).template;if(t){const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:i,compilerOptions:a}=o,c=s(s({isCustomElement:n,delimiters:i},r),a);o.render=ia(t,c)}}e.render=o.render||r,aa&&aa(e)}{const t=na(e);Ce();try{io(e)}finally{Re(),t()}}}const da={get:(e,t)=>(Le(e,0,""),e[t])};function ha(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,da),slots:e.slots,emit:e.emit,expose:t}}function pa(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(jt(At(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Xr?Xr[n](e):void 0,has:(e,t)=>t in e||t in Xr})):e.proxy}function fa(e,t=!0){return m(e)?e.displayName||e.name:e.name||t&&e.__name}const ma=(e,t)=>{const n=function(e,t,n=!1){let r,o;return m(e)?r=e:(r=e.get,o=e.set),new qt(r,o,n)}(e,0,sa);return n};function ga(e,t,n){const r=arguments.length;return 2===r?y(t)&&!d(t)?xi(t)?ji(e,null,[t]):ji(e,t):ji(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&xi(n)&&(n=[n]),ji(e,t,n))}function va(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(x(n[r],t[r]))return!1;return Ai>0&&Ci&&Ci.push(e),!0}const ya="3.5.13",_a=r,Ea=Qt,ba=_n,Ta=function e(t,n){var r,o;if(_n=t,_n)_n.enabled=!0,En.forEach((({event:e,args:t})=>_n.emit(e,...t))),En=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null==(o=null==(r=window.navigator)?void 0:r.userAgent)?void 0:o.includes("jsdom"))){(n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((t=>{e(t,n)})),setTimeout((()=>{_n||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,En=[])}),3e3)}else En=[]},Sa={createComponentInstance:Ji,setupComponent:ca,renderComponentRoot:si,setCurrentRenderingInstance:Sn,isVNode:xi,normalizeVNode:Gi,getComponentPublicInstance:pa,ensureValidVNode:qr,pushWarningContext:function(e){Zt.push(e)},popWarningContext:function(){Zt.pop()}};
/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let wa;const Ca="undefined"!=typeof window&&window.trustedTypes;if(Ca)try{wa=Ca.createPolicy("vue",{createHTML:e=>e})}catch(kk){}const Ra=wa?e=>wa.createHTML(e):e=>e,Ia="undefined"!=typeof document?document:null,Aa=Ia&&Ia.createElement("template"),Oa={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o="svg"===t?Ia.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?Ia.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?Ia.createElement(e,{is:n}):Ia.createElement(e);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:e=>Ia.createTextNode(e),createComment:e=>Ia.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ia.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const a=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),o!==i&&(o=o.nextSibling););else{Aa.innerHTML=Ra("svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e);const o=Aa.content;if("svg"===r||"mathml"===r){const e=o.firstChild;for(;e.firstChild;)o.appendChild(e.firstChild);o.removeChild(e)}t.insertBefore(o,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Na="transition",ka="animation",Da=Symbol("_vtc"),xa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Pa=s({},Hn,xa),Ma=e=>(e.displayName="Transition",e.props=Pa,e),La=Ma(((e,{slots:t})=>ga(qn,Va(e),t))),Ua=(e,t=[])=>{d(e)?e.forEach((e=>e(...t))):e&&e(...t)},ja=e=>!!e&&(d(e)?e.some((e=>e.length>1)):e.length>1);function Va(e){const t={};for(const s in e)s in xa||(t[s]=e[s]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=a,appearToClass:d=c,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=function(e){if(null==e)return null;if(y(e))return[Ba(e.enter),Ba(e.leave)];{const t=Ba(e);return[t,t]}}(o),g=m&&m[0],v=m&&m[1],{onBeforeEnter:_,onEnter:E,onEnterCancelled:b,onLeave:T,onLeaveCancelled:S,onBeforeAppear:w=_,onAppear:C=E,onAppearCancelled:R=b}=t,I=(e,t,n,r)=>{e._enterCancelled=r,Fa(e,t?d:c),Fa(e,t?u:a),n&&n()},A=(e,t)=>{e._isLeaving=!1,Fa(e,h),Fa(e,f),Fa(e,p),t&&t()},O=e=>(t,n)=>{const o=e?C:E,a=()=>I(t,e,n);Ua(o,[t,a]),Ha((()=>{Fa(t,e?l:i),za(t,e?d:c),ja(o)||Wa(t,r,g,a)}))};return s(t,{onBeforeEnter(e){Ua(_,[e]),za(e,i),za(e,a)},onBeforeAppear(e){Ua(w,[e]),za(e,l),za(e,u)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>A(e,t);za(e,h),e._enterCancelled?(za(e,p),Xa()):(Xa(),za(e,p)),Ha((()=>{e._isLeaving&&(Fa(e,h),za(e,f),ja(T)||Wa(e,r,v,n))})),Ua(T,[e,n])},onEnterCancelled(e){I(e,!1,void 0,!0),Ua(b,[e])},onAppearCancelled(e){I(e,!0,void 0,!0),Ua(R,[e])},onLeaveCancelled(e){A(e),Ua(S,[e])}})}function Ba(e){return U(e)}function za(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[Da]||(e[Da]=new Set)).add(t)}function Fa(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[Da];n&&(n.delete(t),n.size||(e[Da]=void 0))}function Ha(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Ga=0;function Wa(e,t,n,r){const o=e._endId=++Ga,i=()=>{o===e._endId&&r()};if(null!=n)return setTimeout(i,n);const{type:a,timeout:s,propCount:c}=qa(e,t);if(!a)return r();const l=a+"end";let u=0;const d=()=>{e.removeEventListener(l,h),i()},h=t=>{t.target===e&&++u>=c&&d()};setTimeout((()=>{u<c&&d()}),s+1),e.addEventListener(l,h)}function qa(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),o=r(`${Na}Delay`),i=r(`${Na}Duration`),a=Ka(o,i),s=r(`${ka}Delay`),c=r(`${ka}Duration`),l=Ka(s,c);let u=null,d=0,h=0;t===Na?a>0&&(u=Na,d=a,h=i.length):t===ka?l>0&&(u=ka,d=l,h=c.length):(d=Math.max(a,l),u=d>0?a>l?Na:ka:null,h=u?u===Na?i.length:c.length:0);return{type:u,timeout:d,propCount:h,hasTransform:u===Na&&/\b(transform|all)(,|$)/.test(r(`${Na}Property`).toString())}}function Ka(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>Ya(t)+Ya(e[n]))))}function Ya(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Xa(){return document.body.offsetHeight}const $a=Symbol("_vod"),Ja=Symbol("_vsh"),Za={beforeMount(e,{value:t},{transition:n}){e[$a]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Qa(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Qa(e,!0),r.enter(e)):r.leave(e,(()=>{Qa(e,!1)})):Qa(e,t))},beforeUnmount(e,{value:t}){Qa(e,t)}};function Qa(e,t){e.style.display=t?e[$a]:"none",e[Ja]=!t}const es=Symbol("");function ts(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{ts(n.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)ns(e.el,t);else if(e.type===Ei)e.children.forEach((e=>ts(e,t)));else if(e.type===Si){let{el:n,anchor:r}=e;for(;n&&(ns(n,t),n!==r);)n=n.nextSibling}}function ns(e,t){if(1===e.nodeType){const n=e.style;let r="";for(const e in t)n.setProperty(`--${e}`,t[e]),r+=`--${e}: ${t[e]};`;n[es]=r}}const rs=/(^|;)\s*display\s*:/;const os=/\s*!important$/;function is(e,t,n){if(d(n))n.forEach((n=>is(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=ss[t];if(n)return n;let r=A(t);if("filter"!==r&&r in e)return ss[t]=r;r=k(r);for(let o=0;o<as.length;o++){const n=as[o]+r;if(n in e)return ss[t]=n}return t}(e,t);os.test(n)?e.setProperty(N(r),n.replace(os,""),"important"):e[r]=n}}const as=["Webkit","Moz","ms"],ss={};const cs="http://www.w3.org/1999/xlink";function ls(e,t,n,r,o,i=Y(t)){r&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(cs,t.slice(6,t.length)):e.setAttributeNS(cs,t,n):null==n||i&&!X(n)?e.removeAttribute(t):e.setAttribute(t,i?"":v(n)?String(n):n)}function us(e,t,n,r,o){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?Ra(n):n));const i=e.tagName;if("value"===t&&"PROGRESS"!==i&&!i.includes("-")){const r="OPTION"===i?e.getAttribute("value")||"":e.value,o=null==n?"checkbox"===e.type?"on":"":String(n);return r===o&&"_value"in e||(e.value=o),null==n&&e.removeAttribute(t),void(e._value=n)}let a=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=X(n):null==n&&"string"===r?(n="",a=!0):"number"===r&&(n=0,a=!0)}try{e[t]=n}catch(kk){}a&&e.removeAttribute(o||t)}function ds(e,t,n,r){e.addEventListener(t,n,r)}const hs=Symbol("_vei");function ps(e,t,n,r,o=null){const i=e[hs]||(e[hs]={}),a=i[t];if(r&&a)a.value=r;else{const[n,s]=function(e){let t;if(fs.test(e)){let n;for(t={};n=e.match(fs);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):N(e.slice(2));return[n,t]}(t);if(r){const a=i[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();tn(function(e,t){if(d(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=vs(),n}(r,o);ds(e,n,a,s)}else a&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,a,s),i[t]=void 0)}}const fs=/(?:Once|Passive|Capture)$/;let ms=0;const gs=Promise.resolve(),vs=()=>ms||(gs.then((()=>ms=0)),ms=Date.now());const ys=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const _s={};
/*! #__NO_SIDE_EFFECTS__ */function Es(e,t,n){const r=Qn(e,t);S(r)&&s(r,t);class o extends Ts{constructor(e){super(r,e,n)}}return o.def=r,o}
/*! #__NO_SIDE_EFFECTS__ */const bs="undefined"!=typeof HTMLElement?HTMLElement:class{};class Ts extends bs{constructor(e,t={},n=ac){super(),this._def=e,this._props=t,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==ac?this._root=this.shadowRoot:!1!==e.shadowRoot?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Ts){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then((()=>{this._pendingResolve=void 0,this._resolveDef()})):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,dn((()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)}))}_resolveDef(){if(this._pendingResolve)return;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})),this._ob.observe(this,{attributes:!0});const e=(e,t=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:r}=e;let o;if(n&&!d(n))for(const i in n){const e=n[i];(e===Number||e&&e.type===Number)&&(i in this._props&&(this._props[i]=U(this._props[i])),(o||(o=Object.create(null)))[A(i)]=!0)}this._numberProps=o,t&&this._resolveProps(e),this.shadowRoot&&this._applyStyles(r),this._mount(e)},t=this._def.__asyncLoader;t?this._pendingResolve=t().then((t=>e(this._def=t,!0))):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const t=this._instance&&this._instance.exposed;if(t)for(const n in t)u(this,n)||Object.defineProperty(this,n,{get:()=>Lt(t[n])})}_resolveProps(e){const{props:t}=e,n=d(t)?t:Object.keys(t||{});for(const r of Object.keys(this))"_"!==r[0]&&n.includes(r)&&this._setProp(r,this[r]);for(const r of n.map(A))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(e){this._setProp(r,e,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const t=this.hasAttribute(e);let n=t?this.getAttribute(e):_s;const r=A(e);t&&this._numberProps&&this._numberProps[r]&&(n=U(n)),this._setProp(r,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!1){if(t!==this._props[e]&&(t===_s?delete this._props[e]:(this._props[e]=t,"key"===e&&this._app&&(this._app._ceVNode.key=t)),r&&this._instance&&this._update(),n)){const n=this._ob;n&&n.disconnect(),!0===t?this.setAttribute(N(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(N(e),t+""):t||this.removeAttribute(N(e)),n&&n.observe(this,{attributes:!0})}}_update(){ic(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const t=ji(this._def,s(e,this._props));return this._instance||(t.ce=e=>{this._instance=e,e.ce=this,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,S(t[0])?s({detail:t},t[0]):{detail:t}))};e.emit=(e,...n)=>{t(e,n),N(e)!==e&&t(N(e),n)},this._setParent()}),t}_applyStyles(e,t){if(!e)return;if(t){if(t===this._def||this._styleChildren.has(t))return;this._styleChildren.add(t)}const n=this._nonce;for(let r=e.length-1;r>=0;r--){const t=document.createElement("style");n&&t.setAttribute("nonce",n),t.textContent=e[r],this.shadowRoot.prepend(t)}}_parseSlots(){const e=this._slots={};let t;for(;t=this.firstChild;){const n=1===t.nodeType&&t.getAttribute("slot")||"default";(e[n]||(e[n]=[])).push(t),this.removeChild(t)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),t=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){const r=e[n],o=r.getAttribute("name")||"default",i=this._slots[o],a=r.parentNode;if(i)for(const e of i){if(t&&1===e.nodeType){const n=t+"-s",r=document.createTreeWalker(e,1);let o;for(e.setAttribute(n,"");o=r.nextNode();)o.setAttribute(n,"")}a.insertBefore(e,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function Ss(e){const t=Qi(),n=t&&t.ce;return n||null}const ws=new WeakMap,Cs=new WeakMap,Rs=Symbol("_moveCb"),Is=Symbol("_enterCb"),As=e=>(delete e.props.mode,e),Os=As({name:"TransitionGroup",props:s({},Pa,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Qi(),r=zn();let o,i;return Or((()=>{if(!o.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const r=e.cloneNode(),o=e[Da];o&&o.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))}));n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:a}=qa(r);return i.removeChild(r),a}(o[0].el,n.vnode.el,t))return;o.forEach(ks),o.forEach(Ds);const r=o.filter(xs);Xa(),r.forEach((e=>{const n=e.el,r=n.style;za(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const o=n[Rs]=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",o),n[Rs]=null,Fa(n,t))};n.addEventListener("transitionend",o)}))})),()=>{const a=It(e),s=Va(a);let c=a.tag||Ei;if(o=[],i)for(let e=0;e<i.length;e++){const t=i[e];t.el&&t.el instanceof Element&&(o.push(t),Jn(t,Yn(t,s,r,n)),ws.set(t,t.el.getBoundingClientRect()))}i=t.default?Zn(t.default()):[];for(let e=0;e<i.length;e++){const t=i[e];null!=t.key&&Jn(t,Yn(t,s,r,n))}return ji(c,null,i)}}}),Ns=Os;function ks(e){const t=e.el;t[Rs]&&t[Rs](),t[Is]&&t[Is]()}function Ds(e){Cs.set(e,e.el.getBoundingClientRect())}function xs(e){const t=ws.get(e),n=Cs.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${o}px)`,t.transitionDuration="0s",e}}const Ps=e=>{const t=e.props["onUpdate:modelValue"]||!1;return d(t)?e=>P(t,e):t};function Ms(e){e.target.composing=!0}function Ls(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Us=Symbol("_assign"),js={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[Us]=Ps(o);const i=r||o.props&&"number"===o.props.type;ds(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),i&&(r=L(r)),e[Us](r)})),n&&ds(e,"change",(()=>{e.value=e.value.trim()})),t||(ds(e,"compositionstart",Ms),ds(e,"compositionend",Ls),ds(e,"change",Ls))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:i}},a){if(e[Us]=Ps(a),e.composing)return;const s=null==t?"":t;if((!i&&"number"!==e.type||/^0\d/.test(e.value)?e.value:L(e.value))!==s){if(document.activeElement===e&&"range"!==e.type){if(r&&t===n)return;if(o&&e.value.trim()===s)return}e.value=s}}},Vs={deep:!0,created(e,t,n){e[Us]=Ps(n),ds(e,"change",(()=>{const t=e._modelValue,n=Gs(e),r=e.checked,o=e[Us];if(d(t)){const e=Z(t,n),i=-1!==e;if(r&&!i)o(t.concat(n));else if(!r&&i){const n=[...t];n.splice(e,1),o(n)}}else if(p(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(Ws(e,r))}))},mounted:Bs,beforeUpdate(e,t,n){e[Us]=Ps(n),Bs(e,t,n)}};function Bs(e,{value:t,oldValue:n},r){let o;if(e._modelValue=t,d(t))o=Z(t,r.props.value)>-1;else if(p(t))o=t.has(r.props.value);else{if(t===n)return;o=J(t,Ws(e,!0))}e.checked!==o&&(e.checked=o)}const zs={created(e,{value:t},n){e.checked=J(t,n.props.value),e[Us]=Ps(n),ds(e,"change",(()=>{e[Us](Gs(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e[Us]=Ps(r),t!==n&&(e.checked=J(t,r.props.value))}},Fs={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=p(t);ds(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?L(Gs(e)):Gs(e)));e[Us](e.multiple?o?new Set(t):t:t[0]),e._assigning=!0,dn((()=>{e._assigning=!1}))})),e[Us]=Ps(r)},mounted(e,{value:t}){Hs(e,t)},beforeUpdate(e,t,n){e[Us]=Ps(n)},updated(e,{value:t}){e._assigning||Hs(e,t)}};function Hs(e,t){const n=e.multiple,r=d(t);if(!n||r||p(t)){for(let o=0,i=e.options.length;o<i;o++){const i=e.options[o],a=Gs(i);if(n)if(r){const e=typeof a;i.selected="string"===e||"number"===e?t.some((e=>String(e)===String(a))):Z(t,a)>-1}else i.selected=t.has(a);else if(J(Gs(i),t))return void(e.selectedIndex!==o&&(e.selectedIndex=o))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Gs(e){return"_value"in e?e._value:e.value}function Ws(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const qs={created(e,t,n){Ys(e,t,n,null,"created")},mounted(e,t,n){Ys(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Ys(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Ys(e,t,n,r,"updated")}};function Ks(e,t){switch(e){case"SELECT":return Fs;case"TEXTAREA":return js;default:switch(t){case"checkbox":return Vs;case"radio":return zs;default:return js}}}function Ys(e,t,n,r,o){const i=Ks(e.tagName,n.props&&n.props.type)[o];i&&i(e,t,n,r)}const Xs=["ctrl","shift","alt","meta"],$s={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Xs.some((n=>e[`${n}Key`]&&!t.includes(n)))},Js=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=$s[t[e]];if(r&&r(n,t))return}return e(n,...r)})},Zs={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qs=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=N(n.key);return t.some((e=>e===r||Zs[e]===r))?e(n):void 0})},ec=s({patchProp:(e,t,n,r,o,s)=>{const c="svg"===o;"class"===t?function(e,t,n){const r=e[Da];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,c):"style"===t?function(e,t,n){const r=e.style,o=g(n);let i=!1;if(n&&!o){if(t)if(g(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&is(r,t,"")}else for(const e in t)null==n[e]&&is(r,e,"");for(const e in n)"display"===e&&(i=!0),is(r,e,n[e])}else if(o){if(t!==n){const e=r[es];e&&(n+=";"+e),r.cssText=n,i=rs.test(n)}}else t&&e.removeAttribute("style");$a in e&&(e[$a]=i?r.display:"",e[Ja]&&(r.display="none"))}(e,n,r):i(t)?a(t)||ps(e,t,0,r,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&ys(t)&&m(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(ys(t)&&g(n))return!1;return t in e}(e,t,r,c))?(us(e,t,r),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||ls(e,t,r,c,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&g(r)?("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),ls(e,t,r,c)):us(e,A(t),r,0,t)}},Oa);let tc,nc=!1;function rc(){return tc||(tc=Vo(ec))}function oc(){return tc=nc?tc:Bo(ec),nc=!0,tc}const ic=(...e)=>{rc().render(...e)},ac=(...e)=>{const t=rc().createApp(...e),{mount:n}=t;return t.mount=e=>{const r=lc(e);if(!r)return;const o=t._component;m(o)||o.render||o.template||(o.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const i=n(r,!1,cc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t},sc=(...e)=>{const t=oc().createApp(...e),{mount:n}=t;return t.mount=e=>{const t=lc(e);if(t)return n(t,!0,cc(t))},t};function cc(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function lc(e){if(g(e)){return document.querySelector(e)}return e}let uc=!1;const dc=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:qn,BaseTransitionPropsValidators:Hn,Comment:Ti,DeprecationTypes:null,EffectScope:ie,ErrorCodes:{SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},ErrorTypeStrings:Ea,Fragment:Ei,KeepAlive:gr,ReactiveEffect:ue,Static:Si,Suspense:fi,Teleport:Ln,Text:bi,TrackOpTypes:{GET:"get",HAS:"has",ITERATE:"iterate"},Transition:La,TransitionGroup:Ns,TriggerOpTypes:{SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},VueElement:Ts,assertNumber:function(e,t){},callWithAsyncErrorHandling:tn,callWithErrorHandling:en,camelize:A,capitalize:k,cloneVNode:Bi,compatUtils:null,compile:()=>{},computed:ma,createApp:ac,createBlock:Di,createCommentVNode:Hi,createElementBlock:ki,createElementVNode:Ui,createHydrationRenderer:Bo,createPropsRestProxy:function(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n},createRenderer:Vo,createSSRApp:sc,createSlots:Gr,createStaticVNode:Fi,createTextVNode:zi,createVNode:ji,customRef:Bt,defineAsyncComponent:function(e){m(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:o=200,hydrate:i,timeout:a,suspensible:s=!0,onError:c}=e;let l,u=null,d=0;const h=()=>{let e;return u||(e=u=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),c)return new Promise(((t,n)=>{c(e,(()=>t((d++,u=null,h()))),(()=>n(e)),d+1)}));throw e})).then((t=>e!==u&&u?u:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),l=t,t))))};return Qn({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(e,t,n){const r=i?()=>{const r=i(n,(t=>function(e,t){if(ir(e)&&"["===e.data){let n=1,r=e.nextSibling;for(;r;){if(1===r.nodeType){if(!1===t(r))break}else if(ir(r))if("]"===r.data){if(0==--n)break}else"["===r.data&&n++;r=r.nextSibling}}else t(e)}(e,t)));r&&(t.bum||(t.bum=[])).push(r)}:n;l?r():h().then((()=>!t.isUnmounted&&r()))},get __asyncResolved(){return l},setup(){const e=Zi;if(er(e),l)return()=>pr(l,e);const t=t=>{u=null,nn(t,e,13,!r)};if(s&&e.suspense||sa)return h().then((t=>()=>pr(t,e))).catch((e=>(t(e),()=>r?ji(r,{error:e}):null)));const i=Dt(!1),c=Dt(),d=Dt(!!o);return o&&setTimeout((()=>{d.value=!1}),o),null!=a&&setTimeout((()=>{if(!i.value&&!c.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),c.value=e}}),a),h().then((()=>{i.value=!0,e.parent&&fr(e.parent.vnode)&&e.parent.update()})).catch((e=>{t(e),c.value=e})),()=>i.value&&l?pr(l,e):c.value&&r?ji(r,{error:c.value}):n&&!d.value?ji(n):void 0}})},defineComponent:Qn,defineCustomElement:Es,defineEmits:function(){return null},defineExpose:function(e){},defineModel:function(){},defineOptions:function(e){},defineProps:function(){return null},defineSSRCustomElement:(e,t)=>Es(e,t,sc),defineSlots:function(){return null},devtools:ba,effect:function(e,t){e.effect instanceof ue&&(e=e.effect.fn);const n=new ue(e);t&&s(n,t);try{n.run()}catch(o){throw n.stop(),o}const r=n.run.bind(n);return r.effect=n,r},effectScope:ae,getCurrentInstance:Qi,getCurrentScope:se,getCurrentWatcher:function(){return Xt},getTransitionRawChildren:Zn,guardReactiveProps:Vi,h:ga,handleError:nn,hasInjectionContext:So,hydrate:(...e)=>{oc().hydrate(...e)},hydrateOnIdle:(e=1e4)=>t=>{const n=ur(t,{timeout:e});return()=>dr(n)},hydrateOnInteraction:(e=[])=>(t,n)=>{g(e)&&(e=[e]);let r=!1;const o=e=>{r||(r=!0,i(),t(),e.target.dispatchEvent(new e.constructor(e.type,e)))},i=()=>{n((t=>{for(const n of e)t.removeEventListener(n,o)}))};return n((t=>{for(const n of e)t.addEventListener(n,o,{once:!0})})),i},hydrateOnMediaQuery:e=>t=>{if(e){const n=matchMedia(e);if(!n.matches)return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t);t()}},hydrateOnVisible:e=>(t,n)=>{const r=new IntersectionObserver((e=>{for(const n of e)if(n.isIntersecting){r.disconnect(),t();break}}),e);return n((e=>{if(e instanceof Element)return function(e){const{top:t,left:n,bottom:r,right:o}=e.getBoundingClientRect(),{innerHeight:i,innerWidth:a}=window;return(t>0&&t<i||r>0&&r<i)&&(n>0&&n<a||o>0&&o<a)}(e)?(t(),r.disconnect(),!1):void r.observe(e)})),()=>r.disconnect()},initCustomFormatter:function(){},initDirectivesForSSR:()=>{uc||(uc=!0,js.getSSRProps=({value:e})=>({value:e}),zs.getSSRProps=({value:e},t)=>{if(t.props&&J(t.props.value,e))return{checked:!0}},Vs.getSSRProps=({value:e},t)=>{if(d(e)){if(t.props&&Z(e,t.props.value)>-1)return{checked:!0}}else if(p(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},qs.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;const n=Ks(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0},Za.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})},inject:To,isMemoSame:va,isProxy:Rt,isReactive:St,isReadonly:wt,isRef:kt,isRuntimeOnly:()=>!ia,isShallow:Ct,isVNode:xi,markRaw:At,mergeDefaults:function(e,t){const n=no(e);for(const r in t){if(r.startsWith("__skip"))continue;let e=n[r];e?d(e)||m(e)?e=n[r]={type:e,default:t[r]}:e.default=t[r]:null===e&&(e=n[r]={default:t[r]}),e&&t[`__skip_${r}`]&&(e.skipFactory=!0)}return n},mergeModels:ro,mergeProps:Ki,nextTick:dn,normalizeClass:q,normalizeProps:K,normalizeStyle:z,onActivated:yr,onBeforeMount:Rr,onBeforeUnmount:Nr,onBeforeUpdate:Ar,onDeactivated:_r,onErrorCaptured:Mr,onMounted:Ir,onRenderTracked:Pr,onRenderTriggered:xr,onScopeDispose:ce,onServerPrefetch:Dr,onUnmounted:kr,onUpdated:Or,onWatcherCleanup:$t,openBlock:Ri,popScopeId:function(){Tn=null},provide:bo,proxyRefs:jt,pushScopeId:function(e){Tn=e},queuePostFlushCb:fn,reactive:yt,readonly:Et,ref:Dt,registerRuntimeCompiler:function(e){ia=e,aa=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Zr))}},render:ic,renderList:Hr,renderSlot:Wr,resolveComponent:Ur,resolveDirective:Br,resolveDynamicComponent:Vr,resolveFilter:null,resolveTransitionHooks:Yn,setBlockTracking:Oi,setDevtoolsHook:Ta,setTransitionHooks:Jn,shallowReactive:_t,shallowReadonly:bt,shallowRef:xt,ssrContextKey:Yo,ssrUtils:Sa,stop:function(e){e.effect.stop()},toDisplayString:ee,toHandlerKey:D,toHandlers:Kr,toRaw:It,toRef:Gt,toRefs:zt,toValue:function(e){return m(e)?e():Lt(e)},transformVNodeArgs:function(e){},triggerRef:function(e){e.dep&&e.dep.trigger()},unref:Lt,useAttrs:eo,useCssModule:function(e="$style"){{const n=Qi();if(!n)return t;const r=n.type.__cssModules;if(!r)return t;const o=r[e];return o||t}},useCssVars:function(e){const t=Qi();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>ns(e,n)))},o=()=>{const r=e(t.proxy);t.ce?ns(t.ce,r):ts(t.subTree,r),n(r)};Ar((()=>{fn(o)})),Ir((()=>{Zo(o,r,{flush:"post"});const e=new MutationObserver(o);e.observe(t.subTree.el.parentNode,{childList:!0}),kr((()=>e.disconnect()))}))},useHost:Ss,useId:function(){const e=Qi();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""},useModel:ni,useSSRContext:Xo,useShadowRoot:function(){const e=Ss();return e&&e.shadowRoot},useSlots:Qr,useTemplateRef:function(e){const n=Qi(),r=xt(null);if(n){const o=n.refs===t?n.refs={}:n.refs;Object.defineProperty(o,e,{enumerable:!0,get:()=>r.value,set:e=>r.value=e})}return r},useTransitionState:zn,vModelCheckbox:Vs,vModelDynamic:qs,vModelRadio:zs,vModelSelect:Fs,vModelText:js,vShow:Za,version:ya,warn:_a,watch:Zo,watchEffect:$o,watchPostEffect:function(e,t){return Qo(e,null,{flush:"post"})},watchSyncEffect:Jo,withAsyncContext:function(e){const t=Qi();let n=e();return ra(),E(n)&&(n=n.catch((e=>{throw na(t),e}))),[n,()=>na(t)]},withCtx:wn,withDefaults:function(e,t){return null},withDirectives:Cn,withKeys:Qs,withMemo:function(e,t,n,r){const o=n[r];if(o&&va(o,e))return o;const i=t();return i.memo=e.slice(),i.cacheIndex=r,n[r]=i},withModifiers:Js,withScopeId:e=>wn},Symbol.toStringTag,{value:"Module"})),hc=e=>Array.from(e.querySelectorAll('a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])')).filter((e=>pc(e)&&(e=>"fixed"!==getComputedStyle(e).position&&null!==e.offsetParent)(e))),pc=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||"true"===e.getAttribute("aria-disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},fc=function(e,t,...n){let r;r=t.includes("mouse")||t.includes("click")?"MouseEvents":t.includes("key")?"KeyboardEvent":"HTMLEvents";const o=document.createEvent(r);return o.initEvent(t,...n),e.dispatchEvent(o),e},mc=e=>!e.getAttribute("aria-owns"),gc=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const o=r.querySelectorAll(n);return o[Array.prototype.indexOf.call(o,e)+t]||null},vc=e=>{e&&(e.focus(),!mc(e)&&e.click())},yc=(e,t,{checkForDefaultPrevented:n=!0}={})=>r=>{const o=null==e?void 0:e(r);if(!1===n||!o)return null==t?void 0:t(r)},_c=e=>t=>"mouse"===t.pointerType?e(t):void 0;
/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Ec,bc=Object.defineProperty,Tc=Object.defineProperties,Sc=Object.getOwnPropertyDescriptors,wc=Object.getOwnPropertySymbols,Cc=Object.prototype.hasOwnProperty,Rc=Object.prototype.propertyIsEnumerable,Ic=(e,t,n)=>t in e?bc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Ac(e,t){const n=xt();var r,o;return $o((()=>{n.value=e()}),(r=((e,t)=>{for(var n in t||(t={}))Cc.call(t,n)&&Ic(e,n,t[n]);if(wc)for(var n of wc(t))Rc.call(t,n)&&Ic(e,n,t[n]);return e})({},t),o={flush:null!=void 0?void 0:"sync"},Tc(r,Sc(o)))),Et(n)}const Oc="undefined"!=typeof window,Nc=e=>"function"==typeof e,kc=()=>{},Dc=Oc&&(null==(Ec=null==window?void 0:window.navigator)?void 0:Ec.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function xc(e){return"function"==typeof e?e():Lt(e)}function Pc(e,t){return function(...n){return new Promise(((r,o)=>{Promise.resolve(e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})).then(r).catch(o)}))}}function Mc(e){return!!se()&&(ce(e),!0)}function Lc(e,t=200,n={}){return Pc(function(e,t={}){let n,r,o=kc;const i=e=>{clearTimeout(e),o(),o=kc};return a=>{const s=xc(e),c=xc(t.maxWait);return n&&i(n),s<=0||void 0!==c&&c<=0?(r&&(i(r),r=null),Promise.resolve(a())):new Promise(((e,l)=>{o=t.rejectOnCancel?l:e,c&&!r&&(r=setTimeout((()=>{n&&i(n),r=null,e(a())}),c)),n=setTimeout((()=>{r&&i(r),r=null,e(a())}),s)}))}}(t,n),e)}function Uc(e,t=200,n=!1,r=!0,o=!1){return Pc(function(e,t=!0,n=!0,r=!1){let o,i,a=0,s=!0,c=kc;const l=()=>{o&&(clearTimeout(o),o=void 0,c(),c=kc)};return u=>{const d=xc(e),h=Date.now()-a,p=()=>i=u();return l(),d<=0?(a=Date.now(),p()):(h>d&&(n||!s)?(a=Date.now(),p()):t&&(i=new Promise(((e,t)=>{c=r?t:e,o=setTimeout((()=>{a=Date.now(),s=!0,e(p()),l()}),Math.max(0,d-h))}))),n||o||(o=setTimeout((()=>s=!0),d)),s=!1,i)}}(t,n,r,o),e)}function jc(e,t=!0){Qi()?Ir(e):t?e():dn(e)}function Vc(e,t,n={}){const{immediate:r=!0}=n,o=Dt(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}function s(){o.value=!1,a()}function c(...n){a(),o.value=!0,i=setTimeout((()=>{o.value=!1,i=null,e(...n)}),xc(t))}return r&&(o.value=!0,Oc&&c()),Mc(s),{isPending:Et(o),start:c,stop:s}}function Bc(e){var t;const n=xc(e);return null!=(t=null==n?void 0:n.$el)?t:n}const zc=Oc?window:void 0,Fc=Oc?window.document:void 0;function Hc(...e){let t,n,r,o;if("string"==typeof e[0]||Array.isArray(e[0])?([n,r,o]=e,t=zc):[t,n,r,o]=e,!t)return kc;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],a=()=>{i.forEach((e=>e())),i.length=0},s=Zo((()=>[Bc(t),xc(o)]),(([e,t])=>{a(),e&&i.push(...n.flatMap((n=>r.map((r=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,n,r,t))))))}),{immediate:!0,flush:"post"}),c=()=>{s(),a()};return Mc(c),c}let Gc=!1;function Wc(e,t,n={}){const{window:r=zc,ignore:o=[],capture:i=!0,detectIframe:a=!1}=n;if(!r)return;Dc&&!Gc&&(Gc=!0,Array.from(r.document.body.children).forEach((e=>e.addEventListener("click",kc))));let s=!0;const c=e=>o.some((t=>{if("string"==typeof t)return Array.from(r.document.querySelectorAll(t)).some((t=>t===e.target||e.composedPath().includes(t)));{const n=Bc(t);return n&&(e.target===n||e.composedPath().includes(n))}})),l=[Hc(r,"click",(n=>{const r=Bc(e);r&&r!==n.target&&!n.composedPath().includes(r)&&(0===n.detail&&(s=!c(n)),s?t(n):s=!0)}),{passive:!0,capture:i}),Hc(r,"pointerdown",(t=>{const n=Bc(e);n&&(s=!t.composedPath().includes(n)&&!c(t))}),{passive:!0}),a&&Hc(r,"blur",(n=>{var o;const i=Bc(e);"IFRAME"!==(null==(o=r.document.activeElement)?void 0:o.tagName)||(null==i?void 0:i.contains(r.document.activeElement))||t(n)}))].filter(Boolean);return()=>l.forEach((e=>e()))}function qc(e,t=!1){const n=Dt(),r=()=>n.value=Boolean(e());return r(),jc(r,t),n}const Kc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Yc="__vueuse_ssr_handlers__";function Xc({document:e=Fc}={}){if(!e)return Dt("visible");const t=Dt(e.visibilityState);return Hc(e,"visibilitychange",(()=>{t.value=e.visibilityState})),t}Kc[Yc]=Kc[Yc]||{};var $c=Object.getOwnPropertySymbols,Jc=Object.prototype.hasOwnProperty,Zc=Object.prototype.propertyIsEnumerable;function Qc(e,t,n={}){const r=n,{window:o=zc}=r,i=((e,t)=>{var n={};for(var r in e)Jc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$c)for(var r of $c(e))t.indexOf(r)<0&&Zc.call(e,r)&&(n[r]=e[r]);return n})(r,["window"]);let a;const s=qc((()=>o&&"ResizeObserver"in o)),c=()=>{a&&(a.disconnect(),a=void 0)},l=Zo((()=>Bc(e)),(e=>{c(),s.value&&o&&e&&(a=new ResizeObserver(t),a.observe(e,i))}),{immediate:!0,flush:"post"}),u=()=>{c(),l()};return Mc(u),{isSupported:s,stop:u}}var el,tl,nl=Object.getOwnPropertySymbols,rl=Object.prototype.hasOwnProperty,ol=Object.prototype.propertyIsEnumerable;function il(e,t,n={}){const r=n,{window:o=zc}=r,i=((e,t)=>{var n={};for(var r in e)rl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&nl)for(var r of nl(e))t.indexOf(r)<0&&ol.call(e,r)&&(n[r]=e[r]);return n})(r,["window"]);let a;const s=qc((()=>o&&"MutationObserver"in o)),c=()=>{a&&(a.disconnect(),a=void 0)},l=Zo((()=>Bc(e)),(e=>{c(),s.value&&o&&e&&(a=new MutationObserver(t),a.observe(e,i))}),{immediate:!0}),u=()=>{c(),l()};return Mc(u),{isSupported:s,stop:u}}(tl=el||(el={})).UP="UP",tl.RIGHT="RIGHT",tl.DOWN="DOWN",tl.LEFT="LEFT",tl.NONE="NONE";var al=Object.defineProperty,sl=Object.getOwnPropertySymbols,cl=Object.prototype.hasOwnProperty,ll=Object.prototype.propertyIsEnumerable,ul=(e,t,n)=>t in e?al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function dl(e,t,n,r={}){var o,i,a;const{clone:s=!1,passive:c=!1,eventName:l,deep:u=!1,defaultValue:d}=r,h=Qi(),p=n||(null==h?void 0:h.emit)||(null==(o=null==h?void 0:h.$emit)?void 0:o.bind(h))||(null==(a=null==(i=null==h?void 0:h.proxy)?void 0:i.$emit)?void 0:a.bind(null==h?void 0:h.proxy));let f=l;t||(t="modelValue"),f=l||f||`update:${t.toString()}`;const m=e=>{return s?Nc(s)?s(e):(t=e,JSON.parse(JSON.stringify(t))):e;var t},g=()=>void 0!==e[t]?m(e[t]):d;if(c){const n=Dt(g());return Zo((()=>e[t]),(e=>n.value=m(e))),Zo(n,(n=>{(n!==e[t]||u)&&p(f,n)}),{deep:u}),n}return ma({get:()=>g(),set(e){p(f,e)}})}function hl({window:e=zc}={}){if(!e)return Dt(!1);const t=Dt(e.document.hasFocus());return Hc(e,"blur",(()=>{t.value=!1})),Hc(e,"focus",(()=>{t.value=!0})),t}((e,t)=>{for(var n in t||(t={}))cl.call(t,n)&&ul(e,n,t[n]);if(sl)for(var n of sl(t))ll.call(t,n)&&ul(e,n,t[n])})({linear:function(e){return e}},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const pl=()=>Oc&&/firefox/i.test(window.navigator.userAgent);var fl="object"==typeof global&&global&&global.Object===Object&&global,ml="object"==typeof self&&self&&self.Object===Object&&self,gl=fl||ml||Function("return this")(),vl=gl.Symbol,yl=Object.prototype,_l=yl.hasOwnProperty,El=yl.toString,bl=vl?vl.toStringTag:void 0;var Tl=Object.prototype.toString;var Sl=vl?vl.toStringTag:void 0;function wl(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Sl&&Sl in Object(e)?function(e){var t=_l.call(e,bl),n=e[bl];try{e[bl]=void 0;var r=!0}catch(kk){}var o=El.call(e);return r&&(t?e[bl]=n:delete e[bl]),o}(e):function(e){return Tl.call(e)}(e)}function Cl(e){return null!=e&&"object"==typeof e}function Rl(e){return"symbol"==typeof e||Cl(e)&&"[object Symbol]"==wl(e)}function Il(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Al=Array.isArray,Ol=vl?vl.prototype:void 0,Nl=Ol?Ol.toString:void 0;function kl(e){if("string"==typeof e)return e;if(Al(e))return Il(e,kl)+"";if(Rl(e))return Nl?Nl.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var Dl=/\s/;var xl=/^\s+/;function Pl(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Dl.test(e.charAt(t)););return t}(e)+1).replace(xl,""):e}function Ml(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Ll=/^[-+]0x[0-9a-f]+$/i,Ul=/^0b[01]+$/i,jl=/^0o[0-7]+$/i,Vl=parseInt;function Bl(e){if("number"==typeof e)return e;if(Rl(e))return NaN;if(Ml(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ml(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Pl(e);var n=Ul.test(e);return n||jl.test(e)?Vl(e.slice(2),n?2:8):Ll.test(e)?NaN:+e}function zl(e){return e}function Fl(e){if(!Ml(e))return!1;var t=wl(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Hl,Gl=gl["__core-js_shared__"],Wl=(Hl=/[^.]+$/.exec(Gl&&Gl.keys&&Gl.keys.IE_PROTO||""))?"Symbol(src)_1."+Hl:"";var ql=Function.prototype.toString;function Kl(e){if(null!=e){try{return ql.call(e)}catch(kk){}try{return e+""}catch(kk){}}return""}var Yl=/^\[object .+?Constructor\]$/,Xl=Function.prototype,$l=Object.prototype,Jl=Xl.toString,Zl=$l.hasOwnProperty,Ql=RegExp("^"+Jl.call(Zl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eu(e){return!(!Ml(e)||(t=e,Wl&&Wl in t))&&(Fl(e)?Ql:Yl).test(Kl(e));var t}function tu(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return eu(n)?n:void 0}var nu=tu(gl,"WeakMap"),ru=Object.create,ou=function(){function e(){}return function(t){if(!Ml(t))return{};if(ru)return ru(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function iu(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var au=Date.now;var su,cu,lu,uu=function(){try{var e=tu(Object,"defineProperty");return e({},"",{}),e}catch(kk){}}(),du=uu?function(e,t){return uu(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:zl,hu=(su=du,cu=0,lu=0,function(){var e=au(),t=16-(e-lu);if(lu=e,t>0){if(++cu>=800)return arguments[0]}else cu=0;return su.apply(void 0,arguments)});function pu(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function fu(e){return e!=e}function mu(e,t){return!!(null==e?0:e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):pu(e,fu,n)}(e,t,0)>-1}var gu=/^(?:0|[1-9]\d*)$/;function vu(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&gu.test(e))&&e>-1&&e%1==0&&e<t}function yu(e,t,n){"__proto__"==t&&uu?uu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function _u(e,t){return e===t||e!=e&&t!=t}var Eu=Object.prototype.hasOwnProperty;function bu(e,t,n){var r=e[t];Eu.call(e,t)&&_u(r,n)&&(void 0!==n||t in e)||yu(e,t,n)}function Tu(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=void 0;void 0===c&&(c=e[s]),o?yu(n,s,c):bu(n,s,c)}return n}var Su=Math.max;function wu(e,t,n){return t=Su(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Su(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}function Cu(e,t){return hu(wu(e,t,zl),e+"")}function Ru(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Iu(e){return null!=e&&Ru(e.length)&&!Fl(e)}var Au=Object.prototype;function Ou(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Au)}function Nu(e){return Cl(e)&&"[object Arguments]"==wl(e)}var ku=Object.prototype,Du=ku.hasOwnProperty,xu=ku.propertyIsEnumerable,Pu=Nu(function(){return arguments}())?Nu:function(e){return Cl(e)&&Du.call(e,"callee")&&!xu.call(e,"callee")};var Mu="object"==typeof exports&&exports&&!exports.nodeType&&exports,Lu=Mu&&"object"==typeof module&&module&&!module.nodeType&&module,Uu=Lu&&Lu.exports===Mu?gl.Buffer:void 0,ju=(Uu?Uu.isBuffer:void 0)||function(){return!1},Vu={};function Bu(e){return function(t){return e(t)}}Vu["[object Float32Array]"]=Vu["[object Float64Array]"]=Vu["[object Int8Array]"]=Vu["[object Int16Array]"]=Vu["[object Int32Array]"]=Vu["[object Uint8Array]"]=Vu["[object Uint8ClampedArray]"]=Vu["[object Uint16Array]"]=Vu["[object Uint32Array]"]=!0,Vu["[object Arguments]"]=Vu["[object Array]"]=Vu["[object ArrayBuffer]"]=Vu["[object Boolean]"]=Vu["[object DataView]"]=Vu["[object Date]"]=Vu["[object Error]"]=Vu["[object Function]"]=Vu["[object Map]"]=Vu["[object Number]"]=Vu["[object Object]"]=Vu["[object RegExp]"]=Vu["[object Set]"]=Vu["[object String]"]=Vu["[object WeakMap]"]=!1;var zu="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fu=zu&&"object"==typeof module&&module&&!module.nodeType&&module,Hu=Fu&&Fu.exports===zu&&fl.process,Gu=function(){try{var e=Fu&&Fu.require&&Fu.require("util").types;return e||Hu&&Hu.binding&&Hu.binding("util")}catch(kk){}}(),Wu=Gu&&Gu.isTypedArray,qu=Wu?Bu(Wu):function(e){return Cl(e)&&Ru(e.length)&&!!Vu[wl(e)]},Ku=Object.prototype.hasOwnProperty;function Yu(e,t){var n=Al(e),r=!n&&Pu(e),o=!n&&!r&&ju(e),i=!n&&!r&&!o&&qu(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var l in e)!t&&!Ku.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||vu(l,c))||s.push(l);return s}function Xu(e,t){return function(n){return e(t(n))}}var $u=Xu(Object.keys,Object),Ju=Object.prototype.hasOwnProperty;function Zu(e){return Iu(e)?Yu(e):function(e){if(!Ou(e))return $u(e);var t=[];for(var n in Object(e))Ju.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var Qu=Object.prototype.hasOwnProperty;function ed(e){if(!Ml(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ou(e),n=[];for(var r in e)("constructor"!=r||!t&&Qu.call(e,r))&&n.push(r);return n}function td(e){return Iu(e)?Yu(e,!0):ed(e)}var nd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rd=/^\w*$/;function od(e,t){if(Al(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Rl(e))||(rd.test(e)||!nd.test(e)||null!=t&&e in Object(t))}var id=tu(Object,"create");var ad=Object.prototype.hasOwnProperty;var sd=Object.prototype.hasOwnProperty;function cd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ld(e,t){for(var n=e.length;n--;)if(_u(e[n][0],t))return n;return-1}cd.prototype.clear=function(){this.__data__=id?id(null):{},this.size=0},cd.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},cd.prototype.get=function(e){var t=this.__data__;if(id){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ad.call(t,e)?t[e]:void 0},cd.prototype.has=function(e){var t=this.__data__;return id?void 0!==t[e]:sd.call(t,e)},cd.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=id&&void 0===t?"__lodash_hash_undefined__":t,this};var ud=Array.prototype.splice;function hd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hd.prototype.clear=function(){this.__data__=[],this.size=0},hd.prototype.delete=function(e){var t=this.__data__,n=ld(t,e);return!(n<0)&&(n==t.length-1?t.pop():ud.call(t,n,1),--this.size,!0)},hd.prototype.get=function(e){var t=this.__data__,n=ld(t,e);return n<0?void 0:t[n][1]},hd.prototype.has=function(e){return ld(this.__data__,e)>-1},hd.prototype.set=function(e,t){var n=this.__data__,r=ld(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var pd=tu(gl,"Map");function fd(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function md(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}md.prototype.clear=function(){this.size=0,this.__data__={hash:new cd,map:new(pd||hd),string:new cd}},md.prototype.delete=function(e){var t=fd(this,e).delete(e);return this.size-=t?1:0,t},md.prototype.get=function(e){return fd(this,e).get(e)},md.prototype.has=function(e){return fd(this,e).has(e)},md.prototype.set=function(e,t){var n=fd(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function gd(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(gd.Cache||md),n}gd.Cache=md;var vd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yd=/\\(\\)?/g,_d=function(e){var t=gd(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(vd,(function(e,n,r,o){t.push(r?o.replace(yd,"$1"):n||e)})),t}));function Ed(e,t){return Al(e)?e:od(e,t)?[e]:_d(function(e){return null==e?"":kl(e)}(e))}function bd(e){if("string"==typeof e||Rl(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Td(e,t){for(var n=0,r=(t=Ed(t,e)).length;null!=e&&n<r;)e=e[bd(t[n++])];return n&&n==r?e:void 0}function Sd(e,t,n){var r=null==e?void 0:Td(e,t);return void 0===r?n:r}function wd(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var Cd=vl?vl.isConcatSpreadable:void 0;function Rd(e){return Al(e)||Pu(e)||!!(Cd&&e&&e[Cd])}function Id(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Rd),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?Id(s,t-1,n,r,o):wd(o,s):r||(o[o.length]=s)}return o}function Ad(e){return(null==e?0:e.length)?Id(e,1):[]}var Od=Xu(Object.getPrototypeOf,Object),Nd=Function.prototype,kd=Object.prototype,Dd=Nd.toString,xd=kd.hasOwnProperty,Pd=Dd.call(Object);function Md(){if(!arguments.length)return[];var e=arguments[0];return Al(e)?e:[e]}function Ld(e){var t=this.__data__=new hd(e);this.size=t.size}Ld.prototype.clear=function(){this.__data__=new hd,this.size=0},Ld.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ld.prototype.get=function(e){return this.__data__.get(e)},Ld.prototype.has=function(e){return this.__data__.has(e)},Ld.prototype.set=function(e,t){var n=this.__data__;if(n instanceof hd){var r=n.__data__;if(!pd||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new md(r)}return n.set(e,t),this.size=n.size,this};var Ud="object"==typeof exports&&exports&&!exports.nodeType&&exports,jd=Ud&&"object"==typeof module&&module&&!module.nodeType&&module,Vd=jd&&jd.exports===Ud?gl.Buffer:void 0,Bd=Vd?Vd.allocUnsafe:void 0;function zd(e,t){if(t)return e.slice();var n=e.length,r=Bd?Bd(n):new e.constructor(n);return e.copy(r),r}function Fd(){return[]}var Hd=Object.prototype.propertyIsEnumerable,Gd=Object.getOwnPropertySymbols,Wd=Gd?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(Gd(e),(function(t){return Hd.call(e,t)})))}:Fd;var qd=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)wd(t,Wd(e)),e=Od(e);return t}:Fd;function Kd(e,t,n){var r=t(e);return Al(e)?r:wd(r,n(e))}function Yd(e){return Kd(e,Zu,Wd)}function Xd(e){return Kd(e,td,qd)}var $d=tu(gl,"DataView"),Jd=tu(gl,"Promise"),Zd=tu(gl,"Set"),Qd="[object Map]",eh="[object Promise]",th="[object Set]",nh="[object WeakMap]",rh="[object DataView]",oh=Kl($d),ih=Kl(pd),ah=Kl(Jd),sh=Kl(Zd),ch=Kl(nu),lh=wl;($d&&lh(new $d(new ArrayBuffer(1)))!=rh||pd&&lh(new pd)!=Qd||Jd&&lh(Jd.resolve())!=eh||Zd&&lh(new Zd)!=th||nu&&lh(new nu)!=nh)&&(lh=function(e){var t=wl(e),n="[object Object]"==t?e.constructor:void 0,r=n?Kl(n):"";if(r)switch(r){case oh:return rh;case ih:return Qd;case ah:return eh;case sh:return th;case ch:return nh}return t});var uh=Object.prototype.hasOwnProperty;var dh=gl.Uint8Array;function hh(e){var t=new e.constructor(e.byteLength);return new dh(t).set(new dh(e)),t}var ph=/\w*$/;var fh=vl?vl.prototype:void 0,mh=fh?fh.valueOf:void 0;function gh(e,t){var n=t?hh(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function vh(e,t,n){var r,o,i,a=e.constructor;switch(t){case"[object ArrayBuffer]":return hh(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return function(e,t){var n=t?hh(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gh(e,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(i=new(o=e).constructor(o.source,ph.exec(o))).lastIndex=o.lastIndex,i;case"[object Symbol]":return r=e,mh?Object(mh.call(r)):{}}}function yh(e){return"function"!=typeof e.constructor||Ou(e)?{}:ou(Od(e))}var _h=Gu&&Gu.isMap,Eh=_h?Bu(_h):function(e){return Cl(e)&&"[object Map]"==lh(e)};var bh=Gu&&Gu.isSet,Th=bh?Bu(bh):function(e){return Cl(e)&&"[object Set]"==lh(e)},Sh="[object Arguments]",wh="[object Function]",Ch="[object Object]",Rh={};function Ih(e,t,n,r,o,i){var a,s=1&t,c=2&t,l=4&t;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!Ml(e))return e;var u=Al(e);if(u){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&uh.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return iu(e,a)}else{var d=lh(e),h=d==wh||"[object GeneratorFunction]"==d;if(ju(e))return zd(e,s);if(d==Ch||d==Sh||h&&!o){if(a=c||h?{}:yh(e),!s)return c?function(e,t){return Tu(e,qd(e),t)}(e,function(e,t){return e&&Tu(t,td(t),e)}(a,e)):function(e,t){return Tu(e,Wd(e),t)}(e,function(e,t){return e&&Tu(t,Zu(t),e)}(a,e))}else{if(!Rh[d])return o?e:{};a=vh(e,d,s)}}i||(i=new Ld);var p=i.get(e);if(p)return p;i.set(e,a),Th(e)?e.forEach((function(r){a.add(Ih(r,t,n,r,e,i))})):Eh(e)&&e.forEach((function(r,o){a.set(o,Ih(r,t,n,o,e,i))}));var f=u?void 0:(l?c?Xd:Yd:c?td:Zu)(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(f||e,(function(r,o){f&&(r=e[o=r]),bu(a,o,Ih(r,t,n,o,e,i))})),a}Rh[Sh]=Rh["[object Array]"]=Rh["[object ArrayBuffer]"]=Rh["[object DataView]"]=Rh["[object Boolean]"]=Rh["[object Date]"]=Rh["[object Float32Array]"]=Rh["[object Float64Array]"]=Rh["[object Int8Array]"]=Rh["[object Int16Array]"]=Rh["[object Int32Array]"]=Rh["[object Map]"]=Rh["[object Number]"]=Rh[Ch]=Rh["[object RegExp]"]=Rh["[object Set]"]=Rh["[object String]"]=Rh["[object Symbol]"]=Rh["[object Uint8Array]"]=Rh["[object Uint8ClampedArray]"]=Rh["[object Uint16Array]"]=Rh["[object Uint32Array]"]=!0,Rh["[object Error]"]=Rh[wh]=Rh["[object WeakMap]"]=!1;function Ah(e){return Ih(e,4)}function Oh(e){return Ih(e,5)}function Nh(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new md;++t<n;)this.add(e[t])}function kh(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Dh(e,t){return e.has(t)}Nh.prototype.add=Nh.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Nh.prototype.has=function(e){return this.__data__.has(e)};function xh(e,t,n,r,o,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=i.get(e),u=i.get(t);if(l&&u)return l==t&&u==e;var d=-1,h=!0,p=2&n?new Nh:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var f=e[d],m=t[d];if(r)var g=a?r(m,f,d,t,e,i):r(f,m,d,e,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!kh(t,(function(e,t){if(!Dh(p,t)&&(f===e||o(f,e,n,r,i)))return p.push(t)}))){h=!1;break}}else if(f!==m&&!o(f,m,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function Ph(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Mh(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Lh=vl?vl.prototype:void 0,Uh=Lh?Lh.valueOf:void 0;var jh=Object.prototype.hasOwnProperty;var Vh="[object Arguments]",Bh="[object Array]",zh="[object Object]",Fh=Object.prototype.hasOwnProperty;function Hh(e,t,n,r,o,i){var a=Al(e),s=Al(t),c=a?Bh:lh(e),l=s?Bh:lh(t),u=(c=c==Vh?zh:c)==zh,d=(l=l==Vh?zh:l)==zh,h=c==l;if(h&&ju(e)){if(!ju(t))return!1;a=!0,u=!1}if(h&&!u)return i||(i=new Ld),a||qu(e)?xh(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new dh(e),new dh(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _u(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ph;case"[object Set]":var c=1&r;if(s||(s=Mh),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var u=xh(s(e),s(t),r,o,i,a);return a.delete(e),u;case"[object Symbol]":if(Uh)return Uh.call(e)==Uh.call(t)}return!1}(e,t,c,n,r,o,i);if(!(1&n)){var p=u&&Fh.call(e,"__wrapped__"),f=d&&Fh.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,g=f?t.value():t;return i||(i=new Ld),o(m,g,n,r,i)}}return!!h&&(i||(i=new Ld),function(e,t,n,r,o,i){var a=1&n,s=Yd(e),c=s.length;if(c!=Yd(t).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in t:jh.call(t,u)))return!1}var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var p=!0;i.set(e,t),i.set(t,e);for(var f=a;++l<c;){var m=e[u=s[l]],g=t[u];if(r)var v=a?r(g,m,u,t,e,i):r(m,g,u,e,t,i);if(!(void 0===v?m===g||o(m,g,n,r,i):v)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var y=e.constructor,_=t.constructor;y==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,o,i))}function Gh(e,t,n,r,o){return e===t||(null==e||null==t||!Cl(e)&&!Cl(t)?e!=e&&t!=t:Hh(e,t,n,r,Gh,o))}function Wh(e){return e==e&&!Ml(e)}function qh(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Kh(e){var t=function(e){for(var t=Zu(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Wh(o)]}return t}(e);return 1==t.length&&t[0][2]?qh(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var a=n[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var s=(a=n[o])[0],c=e[s],l=a[1];if(a[2]){if(void 0===c&&!(s in e))return!1}else if(!Gh(l,c,3,r,new Ld))return!1}return!0}(n,0,t)}}function Yh(e,t){return null!=e&&t in Object(e)}function Xh(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=Ed(t,e)).length,i=!1;++r<o;){var a=bd(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ru(o)&&vu(a,o)&&(Al(e)||Pu(e))}(e,t,Yh)}function $h(e){return od(e)?(t=bd(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Td(t,e)}}(e);var t}function Jh(e){return"function"==typeof e?e:null==e?zl:"object"==typeof e?Al(e)?(t=e[0],n=e[1],od(t)&&Wh(n)?qh(bd(t),n):function(e){var r=Sd(e,t);return void 0===r&&r===n?Xh(e,t):Gh(n,r,3)}):Kh(e):$h(e);var t,n}var Zh=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(!1===t(o[s],s,o))break}return e};var Qh,ep=(Qh=function(e,t){return e&&Zh(e,t,Zu)},function(e,t){if(null==e)return e;if(!Iu(e))return Qh(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r],r,o););return e}),tp=function(){return gl.Date.now()},np=Math.max,rp=Math.min;function op(e,t,n){var r,o,i,a,s,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n)}function f(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=i}function m(){var e=tp();if(f(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-c);return d?rp(n,i-(e-l)):n}(e))}function g(e){return s=void 0,h&&r?p(e):(r=o=void 0,a)}function v(){var e=tp(),n=f(e);if(r=arguments,o=this,c=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(m,t),u?p(e):a}(c);if(d)return clearTimeout(s),s=setTimeout(m,t),p(c)}return void 0===s&&(s=setTimeout(m,t)),a}return t=Bl(t)||0,Ml(n)&&(u=!!n.leading,i=(d="maxWait"in n)?np(Bl(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=o=s=void 0},v.flush=function(){return void 0===s?a:g(tp())},v}function ip(e,t,n){(void 0!==n&&!_u(e[t],n)||void 0===n&&!(t in e))&&yu(e,t,n)}function ap(e){return Cl(e)&&Iu(e)}function sp(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function cp(e,t,n,r,o,i,a){var s=sp(e,n),c=sp(t,n),l=a.get(c);if(l)ip(e,n,l);else{var u,d=i?i(s,c,n+"",e,t,a):void 0,h=void 0===d;if(h){var p=Al(c),f=!p&&ju(c),m=!p&&!f&&qu(c);d=c,p||f||m?Al(s)?d=s:ap(s)?d=iu(s):f?(h=!1,d=zd(c,!0)):m?(h=!1,d=gh(c,!0)):d=[]:function(e){if(!Cl(e)||"[object Object]"!=wl(e))return!1;var t=Od(e);if(null===t)return!0;var n=xd.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Dd.call(n)==Pd}(c)||Pu(c)?(d=s,Pu(s)?d=Tu(u=s,td(u)):Ml(s)&&!Fl(s)||(d=yh(c))):h=!1}h&&(a.set(c,d),o(d,c,r,i,a),a.delete(c)),ip(e,n,d)}}function lp(e,t,n,r,o){e!==t&&Zh(t,(function(i,a){if(o||(o=new Ld),Ml(i))cp(e,t,a,n,lp,r,o);else{var s=r?r(sp(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),ip(e,a,s)}}),td)}function up(e,t){var n=-1,r=Iu(e)?Array(e.length):[];return ep(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function dp(e,t){return Id(function(e,t){return(Al(e)?Il:up)(e,Jh(t))}(e,t),1)}var hp=1/0;function pp(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function fp(e,t){return Gh(e,t)}function mp(e){return null==e}function gp(e){return void 0===e}var vp,yp=(vp=function(e,t,n){lp(e,t,n)},Cu((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=vp.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Ml(n))return!1;var r=typeof t;return!!("number"==r?Iu(n)&&vu(t,n.length):"string"==r&&t in n)&&_u(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&vp(e,a,n,o)}return e})));function _p(e,t,n,r){if(!Ml(e))return e;for(var o=-1,i=(t=Ed(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var c=bd(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var u=s[c];void 0===(l=void 0)&&(l=Ml(u)?u:vu(t[o+1])?[]:{})}bu(s,c,l),s=s[c]}return e}function Ep(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Td(e,a);n(s,a)&&_p(i,Ed(a,e),s)}return i}(e,t,(function(t,n){return Xh(e,n)}))}var bp=function(e){return hu(wu(e,void 0,Ad),e+"")}((function(e,t){return null==e?{}:Ep(e,t)}));function Tp(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ml(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),op(e,t,{leading:r,maxWait:t,trailing:o})}var Sp=Zd&&1/Mh(new Zd([,-0]))[1]==1/0?function(e){return new Zd(e)}:function(){};var wp=Cu((function(e){return function(e,t,n){var r=-1,o=mu,i=e.length,a=!0,s=[],c=s;if(i>=200){var l=Sp(e);if(l)return Mh(l);a=!1,o=Dh,c=new Nh}else c=s;e:for(;++r<i;){var u=e[r],d=u;if(u=0!==u?u:0,a&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;s.push(u)}else o(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}(Id(e,1,ap,!0))}));const Cp=e=>void 0===e,Rp=e=>"boolean"==typeof e,Ip=e=>"number"==typeof e,Ap=e=>!e&&0!==e||d(e)&&0===e.length||y(e)&&!Object.keys(e).length,Op=e=>"undefined"!=typeof Element&&e instanceof Element,Np=e=>mp(e),kp=e=>Oc?window.requestAnimationFrame(e):setTimeout(e,16),Dp=e=>Oc?window.cancelAnimationFrame(e):clearTimeout(e),xp=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Pp=e=>k(e),Mp=e=>Object.keys(e),Lp=e=>Object.entries(e),Up=(e,t,n)=>({get value(){return Sd(e,t,n)},set value(n){!function(e,t,n){null==e||_p(e,t,n)}(e,t,n)}});class jp extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Vp(e,t){throw new jp(`[${e}] ${t}`)}function Bp(e,t){}const zp=(e="")=>e.split(" ").filter((e=>!!e.trim())),Fp=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Hp=(e,t)=>{e&&t.trim()&&e.classList.add(...zp(t))},Gp=(e,t)=>{e&&t.trim()&&e.classList.remove(...zp(t))},Wp=(e,t)=>{var n;if(!Oc||!e||!t)return"";let r=A(t);"float"===r&&(r="cssFloat");try{const t=e.style[r];if(t)return t;const o=null==(n=document.defaultView)?void 0:n.getComputedStyle(e,"");return o?o[r]:""}catch(kk){return e.style[r]}};function qp(e,t="px"){return e?Ip(e)||g(n=e)&&!Number.isNaN(Number(n))?`${e}${t}`:g(e)?e:void 0:"";var n}const Kp=(e,t)=>{if(!Oc)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=Wp(e,n);return["scroll","auto","overlay"].some((e=>r.includes(e)))};let Yp;const Xp=e=>{var t;if(!Oc)return 0;if(void 0!==Yp)return Yp;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const o=document.createElement("div");o.style.width="100%",n.appendChild(o);const i=o.offsetWidth;return null==(t=n.parentNode)||t.removeChild(n),Yp=r-i,Yp};function $p(e,t){if(!Oc)return;if(!t)return void(e.scrollTop=0);const n=[];let r=t.offsetParent;for(;null!==r&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const o=t.offsetTop+n.reduce(((e,t)=>e+t.offsetTop),0),i=o+t.offsetHeight,a=e.scrollTop,s=a+e.clientHeight;o<a?e.scrollTop=o:i>s&&(e.scrollTop=i-e.clientHeight)}
/*! Element Plus Icons Vue v2.3.1 */
var Jp=Qn({name:"AddLocation",__name:"add-location",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),Ui("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),Ui("path",{fill:"currentColor",d:"M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0z"})]))}),Zp=Jp,Qp=Qn({name:"Aim",__name:"aim",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Ui("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32m0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32M96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32m576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32"})]))}),ef=Qp,tf=Qn({name:"AlarmClock",__name:"alarm-clock",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 832a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),Ui("path",{fill:"currentColor",d:"m292.288 824.576 55.424 32-48 83.136a32 32 0 1 1-55.424-32zm439.424 0-55.424 32 48 83.136a32 32 0 1 0 55.424-32zM512 512h160a32 32 0 1 1 0 64H480a32 32 0 0 1-32-32V320a32 32 0 0 1 64 0zM90.496 312.256A160 160 0 0 1 312.32 90.496l-46.848 46.848a96 96 0 0 0-128 128L90.56 312.256zm835.264 0A160 160 0 0 0 704 90.496l46.848 46.848a96 96 0 0 1 128 128z"})]))}),nf=tf,rf=Qn({name:"Apple",__name:"apple",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M599.872 203.776a189.44 189.44 0 0 1 64.384-4.672l2.624.128c31.168 1.024 51.2 4.096 79.488 16.32 37.632 16.128 74.496 45.056 111.488 89.344 96.384 115.264 82.752 372.8-34.752 521.728-7.68 9.728-32 41.6-30.72 39.936a426.624 426.624 0 0 1-30.08 35.776c-31.232 32.576-65.28 49.216-110.08 50.048-31.36.64-53.568-5.312-84.288-18.752l-6.528-2.88c-20.992-9.216-30.592-11.904-47.296-11.904-18.112 0-28.608 2.88-51.136 12.672l-6.464 2.816c-28.416 12.224-48.32 18.048-76.16 19.2-74.112 2.752-116.928-38.08-180.672-132.16-96.64-142.08-132.608-349.312-55.04-486.4 46.272-81.92 129.92-133.632 220.672-135.04 32.832-.576 60.288 6.848 99.648 22.72 27.136 10.88 34.752 13.76 37.376 14.272 16.256-20.16 27.776-36.992 34.56-50.24 13.568-26.304 27.2-59.968 40.704-100.8a32 32 0 1 1 60.8 20.224c-12.608 37.888-25.408 70.4-38.528 97.664zm-51.52 78.08c-14.528 17.792-31.808 37.376-51.904 58.816a32 32 0 1 1-46.72-43.776l12.288-13.248c-28.032-11.2-61.248-26.688-95.68-26.112-70.4 1.088-135.296 41.6-171.648 105.792C121.6 492.608 176 684.16 247.296 788.992c34.816 51.328 76.352 108.992 130.944 106.944 52.48-2.112 72.32-34.688 135.872-34.688 63.552 0 81.28 34.688 136.96 33.536 56.448-1.088 75.776-39.04 126.848-103.872 107.904-136.768 107.904-362.752 35.776-449.088-72.192-86.272-124.672-84.096-151.68-85.12-41.472-4.288-81.6 12.544-113.664 25.152z"})]))}),of=rf,af=Qn({name:"ArrowDownBold",__name:"arrow-down-bold",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M104.704 338.752a64 64 0 0 1 90.496 0l316.8 316.8 316.8-316.8a64 64 0 0 1 90.496 90.496L557.248 791.296a64 64 0 0 1-90.496 0L104.704 429.248a64 64 0 0 1 0-90.496z"})]))}),sf=af,cf=Qn({name:"ArrowDown",__name:"arrow-down",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}),lf=cf,uf=Qn({name:"ArrowLeftBold",__name:"arrow-left-bold",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"})]))}),df=uf,hf=Qn({name:"ArrowLeft",__name:"arrow-left",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}),pf=hf,ff=Qn({name:"ArrowRightBold",__name:"arrow-right-bold",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"})]))}),mf=ff,gf=Qn({name:"ArrowRight",__name:"arrow-right",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}),vf=gf,yf=Qn({name:"ArrowUpBold",__name:"arrow-up-bold",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M104.704 685.248a64 64 0 0 0 90.496 0l316.8-316.8 316.8 316.8a64 64 0 0 0 90.496-90.496L557.248 232.704a64 64 0 0 0-90.496 0L104.704 594.752a64 64 0 0 0 0 90.496z"})]))}),_f=yf,Ef=Qn({name:"ArrowUp",__name:"arrow-up",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}),bf=Ef,Tf=Qn({name:"Avatar",__name:"avatar",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0"})]))}),Sf=Tf,wf=Qn({name:"Back",__name:"back",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Ui("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}),Cf=wf,Rf=Qn({name:"Baseball",__name:"baseball",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M195.2 828.8a448 448 0 1 1 633.6-633.6 448 448 0 0 1-633.6 633.6zm45.248-45.248a384 384 0 1 0 543.104-543.104 384 384 0 0 0-543.104 543.104"}),Ui("path",{fill:"currentColor",d:"M497.472 96.896c22.784 4.672 44.416 9.472 64.896 14.528a256.128 256.128 0 0 0 350.208 350.208c5.056 20.48 9.856 42.112 14.528 64.896A320.128 320.128 0 0 1 497.472 96.896zM108.48 491.904a320.128 320.128 0 0 1 423.616 423.68c-23.04-3.648-44.992-7.424-65.728-11.52a256.128 256.128 0 0 0-346.496-346.432 1736.64 1736.64 0 0 1-11.392-65.728z"})]))}),If=Rf,Af=Qn({name:"Basketball",__name:"basketball",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M778.752 788.224a382.464 382.464 0 0 0 116.032-245.632 256.512 256.512 0 0 0-241.728-13.952 762.88 762.88 0 0 1 125.696 259.584zm-55.04 44.224a699.648 699.648 0 0 0-125.056-269.632 256.128 256.128 0 0 0-56.064 331.968 382.72 382.72 0 0 0 181.12-62.336m-254.08 61.248A320.128 320.128 0 0 1 557.76 513.6a715.84 715.84 0 0 0-48.192-48.128 320.128 320.128 0 0 1-379.264 88.384 382.4 382.4 0 0 0 110.144 229.696 382.4 382.4 0 0 0 229.184 110.08zM129.28 481.088a256.128 256.128 0 0 0 331.072-56.448 699.648 699.648 0 0 0-268.8-124.352 382.656 382.656 0 0 0-62.272 180.8m106.56-235.84a762.88 762.88 0 0 1 258.688 125.056 256.512 256.512 0 0 0-13.44-241.088A382.464 382.464 0 0 0 235.84 245.248zm318.08-114.944c40.576 89.536 37.76 193.92-8.448 281.344a779.84 779.84 0 0 1 66.176 66.112 320.832 320.832 0 0 1 282.112-8.128 382.4 382.4 0 0 0-110.144-229.12 382.4 382.4 0 0 0-229.632-110.208zM828.8 828.8a448 448 0 1 1-633.6-633.6 448 448 0 0 1 633.6 633.6"})]))}),Of=Af,Nf=Qn({name:"BellFilled",__name:"bell-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M640 832a128 128 0 0 1-256 0zm192-64H134.4a38.4 38.4 0 0 1 0-76.8H192V448c0-154.88 110.08-284.16 256.32-313.6a64 64 0 1 1 127.36 0A320.128 320.128 0 0 1 832 448v243.2h57.6a38.4 38.4 0 0 1 0 76.8z"})]))}),kf=Nf,Df=Qn({name:"Bell",__name:"bell",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64"}),Ui("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 1 0-512 0zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320"}),Ui("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32m352 128h128a64 64 0 0 1-128 0"})]))}),xf=Df,Pf=Qn({name:"Bicycle",__name:"bicycle",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"}),Ui("path",{fill:"currentColor",d:"M288 672h320q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),Ui("path",{fill:"currentColor",d:"M768 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"}),Ui("path",{fill:"currentColor",d:"M480 192a32 32 0 0 1 0-64h160a32 32 0 0 1 31.04 24.256l96 384a32 32 0 0 1-62.08 15.488L615.04 192zM96 384a32 32 0 0 1 0-64h128a32 32 0 0 1 30.336 21.888l64 192a32 32 0 1 1-60.672 20.224L200.96 384z"}),Ui("path",{fill:"currentColor",d:"m373.376 599.808-42.752-47.616 320-288 42.752 47.616z"})]))}),Mf=Pf,Lf=Qn({name:"BottomLeft",__name:"bottom-left",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 768h416a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V352a32 32 0 0 1 64 0z"}),Ui("path",{fill:"currentColor",d:"M246.656 822.656a32 32 0 0 1-45.312-45.312l544-544a32 32 0 0 1 45.312 45.312l-544 544z"})]))}),Uf=Lf,jf=Qn({name:"BottomRight",__name:"bottom-right",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M352 768a32 32 0 1 0 0 64h448a32 32 0 0 0 32-32V352a32 32 0 0 0-64 0v416z"}),Ui("path",{fill:"currentColor",d:"M777.344 822.656a32 32 0 0 0 45.312-45.312l-544-544a32 32 0 0 0-45.312 45.312z"})]))}),Vf=jf,Bf=Qn({name:"Bottom",__name:"bottom",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M544 805.888V168a32 32 0 1 0-64 0v637.888L246.656 557.952a30.72 30.72 0 0 0-45.312 0 35.52 35.52 0 0 0 0 48.064l288 306.048a30.72 30.72 0 0 0 45.312 0l288-306.048a35.52 35.52 0 0 0 0-48 30.72 30.72 0 0 0-45.312 0L544 805.824z"})]))}),zf=Bf,Ff=Qn({name:"Bowl",__name:"bowl",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M714.432 704a351.744 351.744 0 0 0 148.16-256H161.408a351.744 351.744 0 0 0 148.16 256zM288 766.592A415.68 415.68 0 0 1 96 416a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32 415.68 415.68 0 0 1-192 350.592V832a64 64 0 0 1-64 64H352a64 64 0 0 1-64-64zM493.248 320h-90.496l254.4-254.4a32 32 0 1 1 45.248 45.248zm187.328 0h-128l269.696-155.712a32 32 0 0 1 32 55.424zM352 768v64h320v-64z"})]))}),Hf=Ff,Gf=Qn({name:"Box",__name:"box",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M317.056 128 128 344.064V896h768V344.064L706.944 128zm-14.528-64h418.944a32 32 0 0 1 24.064 10.88l206.528 236.096A32 32 0 0 1 960 332.032V928a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V332.032a32 32 0 0 1 7.936-21.12L278.4 75.008A32 32 0 0 1 302.528 64z"}),Ui("path",{fill:"currentColor",d:"M64 320h896v64H64z"}),Ui("path",{fill:"currentColor",d:"M448 327.872V640h128V327.872L526.08 128h-28.16zM448 64h128l64 256v352a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V320z"})]))}),Wf=Gf,qf=Qn({name:"Briefcase",__name:"briefcase",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M320 320V128h384v192h192v192H128V320zM128 576h768v320H128zm256-256h256.064V192H384z"})]))}),Kf=qf,Yf=Qn({name:"BrushFilled",__name:"brush-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M608 704v160a96 96 0 0 1-192 0V704h-96a128 128 0 0 1-128-128h640a128 128 0 0 1-128 128zM192 512V128.064h640V512z"})]))}),Xf=Yf,$f=Qn({name:"Brush",__name:"brush",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M896 448H128v192a64 64 0 0 0 64 64h192v192h256V704h192a64 64 0 0 0 64-64zm-770.752-64c0-47.552 5.248-90.24 15.552-128 14.72-54.016 42.496-107.392 83.2-160h417.28l-15.36 70.336L736 96h211.2c-24.832 42.88-41.92 96.256-51.2 160a663.872 663.872 0 0 0-6.144 128H960v256a128 128 0 0 1-128 128H704v160a32 32 0 0 1-32 32H352a32 32 0 0 1-32-32V768H192A128 128 0 0 1 64 640V384h61.248zm64 0h636.544c-2.048-45.824.256-91.584 6.848-137.216 4.48-30.848 10.688-59.776 18.688-86.784h-96.64l-221.12 141.248L561.92 160H256.512c-25.856 37.888-43.776 75.456-53.952 112.832-8.768 32.064-13.248 69.12-13.312 111.168z"})]))}),Jf=$f,Zf=Qn({name:"Burger",__name:"burger",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 512a32 32 0 0 0-32 32v64a32 32 0 0 0 30.08 32H864a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32zm736-58.56A96 96 0 0 1 960 544v64a96 96 0 0 1-51.968 85.312L855.36 833.6a96 96 0 0 1-89.856 62.272H258.496A96 96 0 0 1 168.64 833.6l-52.608-140.224A96 96 0 0 1 64 608v-64a96 96 0 0 1 64-90.56V448a384 384 0 1 1 768 5.44M832 448a320 320 0 0 0-640 0zM512 704H188.352l40.192 107.136a32 32 0 0 0 29.952 20.736h507.008a32 32 0 0 0 29.952-20.736L835.648 704z"})]))}),Qf=Zf,em=Qn({name:"Calendar",__name:"calendar",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}),tm=em,nm=Qn({name:"CameraFilled",__name:"camera-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 224a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h704a64 64 0 0 0 64-64V288a64 64 0 0 0-64-64H748.416l-46.464-92.672A64 64 0 0 0 644.736 96H379.328a64 64 0 0 0-57.216 35.392L275.776 224zm352 435.2a115.2 115.2 0 1 0 0-230.4 115.2 115.2 0 0 0 0 230.4m0 140.8a256 256 0 1 1 0-512 256 256 0 0 1 0 512"})]))}),rm=nm,om=Qn({name:"Camera",__name:"camera",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M896 256H128v576h768zm-199.424-64-32.064-64h-304.96l-32 64zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32m416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320m0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448"})]))}),im=om,am=Qn({name:"CaretBottom",__name:"caret-bottom",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"})]))}),sm=am,cm=Qn({name:"CaretLeft",__name:"caret-left",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"})]))}),lm=cm,um=Qn({name:"CaretRight",__name:"caret-right",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}),dm=um,hm=Qn({name:"CaretTop",__name:"caret-top",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}),pm=hm,fm=Qn({name:"Cellphone",__name:"cellphone",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 128a64 64 0 0 0-64 64v640a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h512a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V192A128 128 0 0 1 256 64m128 128h256a32 32 0 1 1 0 64H384a32 32 0 0 1 0-64m128 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128"})]))}),mm=fm,gm=Qn({name:"ChatDotRound",__name:"chat-dot-round",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"}),Ui("path",{fill:"currentColor",d:"M512 563.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4m192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4m-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4"})]))}),vm=gm,ym=Qn({name:"ChatDotSquare",__name:"chat-dot-square",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"}),Ui("path",{fill:"currentColor",d:"M512 499.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"})]))}),_m=ym,Em=Qn({name:"ChatLineRound",__name:"chat-line-round",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"}),Ui("path",{fill:"currentColor",d:"M352 576h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m32-192h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32"})]))}),bm=Em,Tm=Qn({name:"ChatLineSquare",__name:"chat-line-square",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 826.88 273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"}),Ui("path",{fill:"currentColor",d:"M352 512h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m0-192h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32"})]))}),Sm=Tm,wm=Qn({name:"ChatRound",__name:"chat-round",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m174.72 855.68 130.048-43.392 23.424 11.392C382.4 849.984 444.352 864 512 864c223.744 0 384-159.872 384-352 0-192.832-159.104-352-384-352S128 319.168 128 512a341.12 341.12 0 0 0 69.248 204.288l21.632 28.8-44.16 110.528zm-45.248 82.56A32 32 0 0 1 89.6 896l56.512-141.248A405.12 405.12 0 0 1 64 512C64 299.904 235.648 96 512 96s448 203.904 448 416-173.44 416-448 416c-79.68 0-150.848-17.152-211.712-46.72l-170.88 56.96z"})]))}),Cm=wm,Rm=Qn({name:"ChatSquare",__name:"chat-square",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"})]))}),Im=Rm,Am=Qn({name:"Check",__name:"check",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}),Om=Am,Nm=Qn({name:"Checked",__name:"checked",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160.064v64H704zM311.616 537.28l-45.312 45.248L447.36 763.52l316.8-316.8-45.312-45.184L447.36 673.024zM384 192V96h256v96z"})]))}),km=Nm,Dm=Qn({name:"Cherry",__name:"cherry",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M261.056 449.6c13.824-69.696 34.88-128.96 63.36-177.728 23.744-40.832 61.12-88.64 112.256-143.872H320a32 32 0 0 1 0-64h384a32 32 0 1 1 0 64H554.752c14.912 39.168 41.344 86.592 79.552 141.76 47.36 68.48 84.8 106.752 106.304 114.304a224 224 0 1 1-84.992 14.784c-22.656-22.912-47.04-53.76-73.92-92.608-38.848-56.128-67.008-105.792-84.352-149.312-55.296 58.24-94.528 107.52-117.76 147.2-23.168 39.744-41.088 88.768-53.568 147.072a224.064 224.064 0 1 1-64.96-1.6zM288 832a160 160 0 1 0 0-320 160 160 0 0 0 0 320m448-64a160 160 0 1 0 0-320 160 160 0 0 0 0 320"})]))}),xm=Dm,Pm=Qn({name:"Chicken",__name:"chicken",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M349.952 716.992 478.72 588.16a106.688 106.688 0 0 1-26.176-19.072 106.688 106.688 0 0 1-19.072-26.176L304.704 671.744c.768 3.072 1.472 6.144 2.048 9.216l2.048 31.936 31.872 1.984c3.136.64 6.208 1.28 9.28 2.112zm57.344 33.152a128 128 0 1 1-216.32 114.432l-1.92-32-32-1.92a128 128 0 1 1 114.432-216.32L416.64 469.248c-2.432-101.44 58.112-239.104 149.056-330.048 107.328-107.328 231.296-85.504 316.8 0 85.44 85.44 107.328 209.408 0 316.8-91.008 90.88-228.672 151.424-330.112 149.056L407.296 750.08zm90.496-226.304c49.536 49.536 233.344-7.04 339.392-113.088 78.208-78.208 63.232-163.072 0-226.304-63.168-63.232-148.032-78.208-226.24 0C504.896 290.496 448.32 474.368 497.792 523.84M244.864 708.928a64 64 0 1 0-59.84 59.84l56.32-3.52zm8.064 127.68a64 64 0 1 0 59.84-59.84l-56.32 3.52-3.52 56.32z"})]))}),Mm=Pm,Lm=Qn({name:"ChromeFilled",__name:"chrome-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M938.67 512.01c0-44.59-6.82-87.6-19.54-128H682.67a212.372 212.372 0 0 1 42.67 128c.06 38.71-10.45 76.7-30.42 109.87l-182.91 316.8c235.65-.01 426.66-191.02 426.66-426.67z"}),Ui("path",{fill:"currentColor",d:"M576.79 401.63a127.92 127.92 0 0 0-63.56-17.6c-22.36-.22-44.39 5.43-63.89 16.38s-35.79 26.82-47.25 46.02a128.005 128.005 0 0 0-2.16 127.44l1.24 2.13a127.906 127.906 0 0 0 46.36 46.61 127.907 127.907 0 0 0 63.38 17.44c22.29.2 44.24-5.43 63.68-16.33a127.94 127.94 0 0 0 47.16-45.79v-.01l1.11-1.92a127.984 127.984 0 0 0 .29-127.46 127.957 127.957 0 0 0-46.36-46.91"}),Ui("path",{fill:"currentColor",d:"M394.45 333.96A213.336 213.336 0 0 1 512 298.67h369.58A426.503 426.503 0 0 0 512 85.34a425.598 425.598 0 0 0-171.74 35.98 425.644 425.644 0 0 0-142.62 102.22l118.14 204.63a213.397 213.397 0 0 1 78.67-94.21m117.56 604.72H512zm-97.25-236.73a213.284 213.284 0 0 1-89.54-86.81L142.48 298.6c-36.35 62.81-57.13 135.68-57.13 213.42 0 203.81 142.93 374.22 333.95 416.55h.04l118.19-204.71a213.315 213.315 0 0 1-122.77-21.91z"})]))}),Um=Lm,jm=Qn({name:"CircleCheckFilled",__name:"circle-check-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}),Vm=jm,Bm=Qn({name:"CircleCheck",__name:"circle-check",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Ui("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}),zm=Bm,Fm=Qn({name:"CircleCloseFilled",__name:"circle-close-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}),Hm=Fm,Gm=Qn({name:"CircleClose",__name:"circle-close",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Ui("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}),Wm=Gm,qm=Qn({name:"CirclePlusFilled",__name:"circle-plus-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-38.4 409.6H326.4a38.4 38.4 0 1 0 0 76.8h147.2v147.2a38.4 38.4 0 0 0 76.8 0V550.4h147.2a38.4 38.4 0 0 0 0-76.8H550.4V326.4a38.4 38.4 0 1 0-76.8 0v147.2z"})]))}),Km=qm,Ym=Qn({name:"CirclePlus",__name:"circle-plus",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64"}),Ui("path",{fill:"currentColor",d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0"}),Ui("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}),Xm=Ym,$m=Qn({name:"Clock",__name:"clock",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Ui("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}),Jm=$m,Zm=Qn({name:"CloseBold",__name:"close-bold",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})]))}),Qm=Zm,eg=Qn({name:"Close",__name:"close",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}),tg=eg,ng=Qn({name:"Cloudy",__name:"cloudy",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M598.4 831.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 831.872m-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 381.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"})]))}),rg=ng,og=Qn({name:"CoffeeCup",__name:"coffee-cup",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M768 192a192 192 0 1 1-8 383.808A256.128 256.128 0 0 1 512 768H320A256 256 0 0 1 64 512V160a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 64v256a128 128 0 1 0 0-256M96 832h640a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64m32-640v320a192 192 0 0 0 192 192h192a192 192 0 0 0 192-192V192z"})]))}),ig=og,ag=Qn({name:"Coffee",__name:"coffee",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M822.592 192h14.272a32 32 0 0 1 31.616 26.752l21.312 128A32 32 0 0 1 858.24 384h-49.344l-39.04 546.304A32 32 0 0 1 737.92 960H285.824a32 32 0 0 1-32-29.696L214.912 384H165.76a32 32 0 0 1-31.552-37.248l21.312-128A32 32 0 0 1 187.136 192h14.016l-6.72-93.696A32 32 0 0 1 226.368 64h571.008a32 32 0 0 1 31.936 34.304zm-64.128 0 4.544-64H260.736l4.544 64h493.184m-548.16 128H820.48l-10.688-64H214.208l-10.688 64h6.784m68.736 64 36.544 512H708.16l36.544-512z"})]))}),sg=ag,cg=Qn({name:"Coin",__name:"coin",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"}),Ui("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"}),Ui("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224m0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160"})]))}),lg=cg,ug=Qn({name:"ColdDrink",__name:"cold-drink",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M768 64a192 192 0 1 1-69.952 370.88L480 725.376V896h96a32 32 0 1 1 0 64H320a32 32 0 1 1 0-64h96V725.376L76.8 273.536a64 64 0 0 1-12.8-38.4v-10.688a32 32 0 0 1 32-32h71.808l-65.536-83.84a32 32 0 0 1 50.432-39.424l96.256 123.264h337.728A192.064 192.064 0 0 1 768 64M656.896 192.448H800a32 32 0 0 1 32 32v10.624a64 64 0 0 1-12.8 38.4l-80.448 107.2a128 128 0 1 0-81.92-188.16v-.064zm-357.888 64 129.472 165.76a32 32 0 0 1-50.432 39.36l-160.256-205.12H144l304 404.928 304-404.928z"})]))}),dg=ug,hg=Qn({name:"CollectionTag",__name:"collection-tag",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 128v698.88l196.032-156.864a96 96 0 0 1 119.936 0L768 826.816V128zm-32-64h576a32 32 0 0 1 32 32v797.44a32 32 0 0 1-51.968 24.96L531.968 720a32 32 0 0 0-39.936 0L243.968 918.4A32 32 0 0 1 192 893.44V96a32 32 0 0 1 32-32"})]))}),pg=hg,fg=Qn({name:"Collection",__name:"collection",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M192 736h640V128H256a64 64 0 0 0-64 64zm64-672h608a32 32 0 0 1 32 32v672a32 32 0 0 1-32 32H160l-32 57.536V192A128 128 0 0 1 256 64"}),Ui("path",{fill:"currentColor",d:"M240 800a48 48 0 1 0 0 96h592v-96zm0-64h656v160a64 64 0 0 1-64 64H240a112 112 0 0 1 0-224m144-608v250.88l96-76.8 96 76.8V128zm-64-64h320v381.44a32 32 0 0 1-51.968 24.96L480 384l-108.032 86.4A32 32 0 0 1 320 445.44z"})]))}),mg=fg,gg=Qn({name:"Comment",__name:"comment",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M736 504a56 56 0 1 1 0-112 56 56 0 0 1 0 112m-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112m-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112M128 128v640h192v160l224-160h352V128z"})]))}),vg=gg,yg=Qn({name:"Compass",__name:"compass",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Ui("path",{fill:"currentColor",d:"M725.888 315.008C676.48 428.672 624 513.28 568.576 568.64c-55.424 55.424-139.968 107.904-253.568 157.312a12.8 12.8 0 0 1-16.896-16.832c49.536-113.728 102.016-198.272 157.312-253.632 55.36-55.296 139.904-107.776 253.632-157.312a12.8 12.8 0 0 1 16.832 16.832"})]))}),_g=yg,Eg=Qn({name:"Connection",__name:"connection",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192z"}),Ui("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192z"})]))}),bg=Eg,Tg=Qn({name:"Coordinate",__name:"coordinate",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M480 512h64v320h-64z"}),Ui("path",{fill:"currentColor",d:"M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64m64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128m256-256a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512"})]))}),Sg=Tg,wg=Qn({name:"CopyDocument",__name:"copy-document",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z"}),Ui("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64"})]))}),Cg=wg,Rg=Qn({name:"Cpu",__name:"cpu",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128"}),Ui("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32M64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32"})]))}),Ig=Rg,Ag=Qn({name:"CreditCard",__name:"credit-card",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M896 324.096c0-42.368-2.496-55.296-9.536-68.48a52.352 52.352 0 0 0-22.144-22.08c-13.12-7.04-26.048-9.536-68.416-9.536H228.096c-42.368 0-55.296 2.496-68.48 9.536a52.352 52.352 0 0 0-22.08 22.144c-7.04 13.12-9.536 26.048-9.536 68.416v375.808c0 42.368 2.496 55.296 9.536 68.48a52.352 52.352 0 0 0 22.144 22.08c13.12 7.04 26.048 9.536 68.416 9.536h567.808c42.368 0 55.296-2.496 68.48-9.536a52.352 52.352 0 0 0 22.08-22.144c7.04-13.12 9.536-26.048 9.536-68.416zm64 0v375.808c0 57.088-5.952 77.76-17.088 98.56-11.136 20.928-27.52 37.312-48.384 48.448-20.864 11.136-41.6 17.088-98.56 17.088H228.032c-57.088 0-77.76-5.952-98.56-17.088a116.288 116.288 0 0 1-48.448-48.384c-11.136-20.864-17.088-41.6-17.088-98.56V324.032c0-57.088 5.952-77.76 17.088-98.56 11.136-20.928 27.52-37.312 48.384-48.448 20.864-11.136 41.6-17.088 98.56-17.088H795.84c57.088 0 77.76 5.952 98.56 17.088 20.928 11.136 37.312 27.52 48.448 48.384 11.136 20.864 17.088 41.6 17.088 98.56z"}),Ui("path",{fill:"currentColor",d:"M64 320h896v64H64zm0 128h896v64H64zm128 192h256v64H192z"})]))}),Og=Ag,Ng=Qn({name:"Crop",__name:"crop",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 768h672a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V96a32 32 0 0 1 64 0z"}),Ui("path",{fill:"currentColor",d:"M832 224v704a32 32 0 1 1-64 0V256H96a32 32 0 0 1 0-64h704a32 32 0 0 1 32 32"})]))}),kg=Ng,Dg=Qn({name:"DArrowLeft",__name:"d-arrow-left",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}),xg=Dg,Pg=Qn({name:"DArrowRight",__name:"d-arrow-right",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}),Mg=Pg,Lg=Qn({name:"DCaret",__name:"d-caret",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m512 128 288 320H224zM224 576h576L512 896z"})]))}),Ug=Lg,jg=Qn({name:"DataAnalysis",__name:"data-analysis",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32zM832 192H192v512h640zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32"})]))}),Vg=jg,Bg=Qn({name:"DataBoard",__name:"data-board",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M32 128h960v64H32z"}),Ui("path",{fill:"currentColor",d:"M192 192v512h640V192zm-64-64h768v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32z"}),Ui("path",{fill:"currentColor",d:"M322.176 960H248.32l144.64-250.56 55.424 32zm453.888 0h-73.856L576 741.44l55.424-32z"})]))}),zg=Bg,Fg=Qn({name:"DataLine",__name:"data-line",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M359.168 768H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216l110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32zM832 192H192v512h640zM342.656 534.656a32 32 0 1 1-45.312-45.312L444.992 341.76l125.44 94.08L679.04 300.032a32 32 0 1 1 49.92 39.936L581.632 524.224 451.008 426.24 342.656 534.592z"})]))}),Hg=Fg,Gg=Qn({name:"DeleteFilled",__name:"delete-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64zm64 0h192v-64H416zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32m192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32"})]))}),Wg=Gg,qg=Qn({name:"DeleteLocation",__name:"delete-location",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),Ui("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),Ui("path",{fill:"currentColor",d:"M384 384h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32"})]))}),Kg=qg,Yg=Qn({name:"Delete",__name:"delete",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}),Xg=Yg,$g=Qn({name:"Dessert",__name:"dessert",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 416v-48a144 144 0 0 1 168.64-141.888 224.128 224.128 0 0 1 430.72 0A144 144 0 0 1 896 368v48a384 384 0 0 1-352 382.72V896h-64v-97.28A384 384 0 0 1 128 416m287.104-32.064h193.792a143.808 143.808 0 0 1 58.88-132.736 160.064 160.064 0 0 0-311.552 0 143.808 143.808 0 0 1 58.88 132.8zm-72.896 0a72 72 0 1 0-140.48 0h140.48m339.584 0h140.416a72 72 0 1 0-140.48 0zM512 736a320 320 0 0 0 318.4-288.064H193.6A320 320 0 0 0 512 736M384 896.064h256a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64"})]))}),Jg=$g,Zg=Qn({name:"Discount",__name:"discount",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M224 704h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336zm0 64v128h576V768zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0"}),Ui("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}),Qg=Zg,ev=Qn({name:"DishDot",__name:"dish-dot",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m384.064 274.56.064-50.688A128 128 0 0 1 512.128 96c70.528 0 127.68 57.152 127.68 127.68v50.752A448.192 448.192 0 0 1 955.392 768H68.544A448.192 448.192 0 0 1 384 274.56zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64m32-128h768a384 384 0 1 0-768 0m447.808-448v-32.32a63.68 63.68 0 0 0-63.68-63.68 64 64 0 0 0-64 63.936V256z"})]))}),tv=ev,nv=Qn({name:"Dish",__name:"dish",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M480 257.152V192h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96v65.152A448 448 0 0 1 955.52 768H68.48A448 448 0 0 1 480 257.152M128 704h768a384 384 0 1 0-768 0M96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64"})]))}),rv=nv,ov=Qn({name:"DocumentAdd",__name:"document-add",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m320 512V448h64v128h128v64H544v128h-64V640H352v-64z"})]))}),iv=ov,av=Qn({name:"DocumentChecked",__name:"document-checked",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m318.4 582.144 180.992-180.992L704.64 510.4 478.4 736.64 320 578.304l45.248-45.312z"})]))}),sv=av,cv=Qn({name:"DocumentCopy",__name:"document-copy",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 320v576h576V320zm-32-64h640a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32M960 96v704a32 32 0 0 1-32 32h-96v-64h64V128H384v64h-64V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32M256 672h320v64H256zm0-192h320v64H256z"})]))}),lv=cv,uv=Qn({name:"DocumentDelete",__name:"document-delete",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m308.992 546.304-90.496-90.624 45.248-45.248 90.56 90.496 90.496-90.432 45.248 45.248-90.496 90.56 90.496 90.496-45.248 45.248-90.496-90.496-90.56 90.496-45.248-45.248 90.496-90.496z"})]))}),dv=uv,hv=Qn({name:"DocumentRemove",__name:"document-remove",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m192 512h320v64H352z"})]))}),pv=hv,fv=Qn({name:"Document",__name:"document",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}),mv=fv,gv=Qn({name:"Download",__name:"download",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}),vv=gv,yv=Qn({name:"Drizzling",__name:"drizzling",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480M288 800h64v64h-64zm192 0h64v64h-64zm-96 96h64v64h-64zm192 0h64v64h-64zm96-96h64v64h-64z"})]))}),_v=yv,Ev=Qn({name:"EditPen",__name:"edit-pen",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336zm384 254.272v-64h448v64h-448z"})]))}),bv=Ev,Tv=Qn({name:"Edit",__name:"edit",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"}),Ui("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"})]))}),Sv=Tv,wv=Qn({name:"ElemeFilled",__name:"eleme-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M176 64h672c61.824 0 112 50.176 112 112v672a112 112 0 0 1-112 112H176A112 112 0 0 1 64 848V176c0-61.824 50.176-112 112-112m150.528 173.568c-152.896 99.968-196.544 304.064-97.408 456.96a330.688 330.688 0 0 0 456.96 96.64c9.216-5.888 17.6-11.776 25.152-18.56a18.24 18.24 0 0 0 4.224-24.32L700.352 724.8a47.552 47.552 0 0 0-65.536-14.272A234.56 234.56 0 0 1 310.592 641.6C240 533.248 271.104 387.968 379.456 316.48a234.304 234.304 0 0 1 276.352 15.168c1.664.832 2.56 2.56 3.392 4.224 5.888 8.384 3.328 19.328-5.12 25.216L456.832 489.6a47.552 47.552 0 0 0-14.336 65.472l16 24.384c5.888 8.384 16.768 10.88 25.216 5.056l308.224-199.936a19.584 19.584 0 0 0 6.72-23.488v-.896c-4.992-9.216-10.048-17.6-15.104-26.88-99.968-151.168-304.064-194.88-456.96-95.744zM786.88 504.704l-62.208 40.32c-8.32 5.888-10.88 16.768-4.992 25.216L760 632.32c5.888 8.448 16.768 11.008 25.152 5.12l31.104-20.16a55.36 55.36 0 0 0 16-76.48l-20.224-31.04a19.52 19.52 0 0 0-25.152-5.12z"})]))}),Cv=wv,Rv=Qn({name:"Eleme",__name:"eleme",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M300.032 188.8c174.72-113.28 408-63.36 522.24 109.44 5.76 10.56 11.52 20.16 17.28 30.72v.96a22.4 22.4 0 0 1-7.68 26.88l-352.32 228.48c-9.6 6.72-22.08 3.84-28.8-5.76l-18.24-27.84a54.336 54.336 0 0 1 16.32-74.88l225.6-146.88c9.6-6.72 12.48-19.2 5.76-28.8-.96-1.92-1.92-3.84-3.84-4.8a267.84 267.84 0 0 0-315.84-17.28c-123.84 81.6-159.36 247.68-78.72 371.52a268.096 268.096 0 0 0 370.56 78.72 54.336 54.336 0 0 1 74.88 16.32l17.28 26.88c5.76 9.6 3.84 21.12-4.8 27.84-8.64 7.68-18.24 14.4-28.8 21.12a377.92 377.92 0 0 1-522.24-110.4c-113.28-174.72-63.36-408 111.36-522.24zm526.08 305.28a22.336 22.336 0 0 1 28.8 5.76l23.04 35.52a63.232 63.232 0 0 1-18.24 87.36l-35.52 23.04c-9.6 6.72-22.08 3.84-28.8-5.76l-46.08-71.04c-6.72-9.6-3.84-22.08 5.76-28.8l71.04-46.08z"})]))}),Iv=Rv,Av=Qn({name:"ElementPlus",__name:"element-plus",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M839.7 734.7c0 33.3-17.9 41-17.9 41S519.7 949.8 499.2 960c-10.2 5.1-20.5 5.1-30.7 0 0 0-314.9-184.3-325.1-192-5.1-5.1-10.2-12.8-12.8-20.5V368.6c0-17.9 20.5-28.2 20.5-28.2L466 158.6c12.8-5.1 25.6-5.1 38.4 0 0 0 279 161.3 309.8 179.2 17.9 7.7 28.2 25.6 25.6 46.1-.1-5-.1 317.5-.1 350.8M714.2 371.2c-64-35.8-217.6-125.4-217.6-125.4-7.7-5.1-20.5-5.1-30.7 0L217.6 389.1s-17.9 10.2-17.9 23v297c0 5.1 5.1 12.8 7.7 17.9 7.7 5.1 256 148.5 256 148.5 7.7 5.1 17.9 5.1 25.6 0 15.4-7.7 250.9-145.9 250.9-145.9s12.8-5.1 12.8-30.7v-74.2l-276.5 169v-64c0-17.9 7.7-30.7 20.5-46.1L745 535c5.1-7.7 10.2-20.5 10.2-30.7v-66.6l-279 169v-69.1c0-15.4 5.1-30.7 17.9-38.4l220.1-128zM919 135.7c0-5.1-5.1-7.7-7.7-7.7h-58.9V66.6c0-5.1-5.1-5.1-10.2-5.1l-30.7 5.1c-5.1 0-5.1 2.6-5.1 5.1V128h-56.3c-5.1 0-5.1 5.1-7.7 5.1v38.4h69.1v64c0 5.1 5.1 5.1 10.2 5.1l30.7-5.1c5.1 0 5.1-2.6 5.1-5.1v-56.3h64l-2.5-38.4z"})]))}),Ov=Av,Nv=Qn({name:"Expand",__name:"expand",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 192h768v128H128zm0 256h512v128H128zm0 256h768v128H128zm576-352 192 160-192 128z"})]))}),kv=Nv,Dv=Qn({name:"Failed",__name:"failed",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m557.248 608 135.744-135.744-45.248-45.248-135.68 135.744-135.808-135.68-45.248 45.184L466.752 608l-135.68 135.68 45.184 45.312L512 653.248l135.744 135.744 45.248-45.248L557.312 608zM704 192h160v736H160V192h160v64h384zm-320 0V96h256v96z"})]))}),xv=Dv,Pv=Qn({name:"Female",__name:"female",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 640a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),Ui("path",{fill:"currentColor",d:"M512 640q32 0 32 32v256q0 32-32 32t-32-32V672q0-32 32-32"}),Ui("path",{fill:"currentColor",d:"M352 800h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32"})]))}),Mv=Pv,Lv=Qn({name:"Files",__name:"files",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 384v448h768V384zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32m64-128h704v64H160zm96-128h512v64H256z"})]))}),Uv=Lv,jv=Qn({name:"Film",__name:"film",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64z"})]))}),Vv=jv,Bv=Qn({name:"Filter",__name:"filter",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M384 523.392V928a32 32 0 0 0 46.336 28.608l192-96A32 32 0 0 0 640 832V523.392l280.768-343.104a32 32 0 1 0-49.536-40.576l-288 352A32 32 0 0 0 576 512v300.224l-128 64V512a32 32 0 0 0-7.232-20.288L195.52 192H704a32 32 0 1 0 0-64H128a32 32 0 0 0-24.768 52.288z"})]))}),zv=Bv,Fv=Qn({name:"Finished",__name:"finished",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M280.768 753.728 691.456 167.04a32 32 0 1 1 52.416 36.672L314.24 817.472a32 32 0 0 1-45.44 7.296l-230.4-172.8a32 32 0 0 1 38.4-51.2l203.968 152.96zM736 448a32 32 0 1 1 0-64h192a32 32 0 1 1 0 64zM608 640a32 32 0 0 1 0-64h319.936a32 32 0 1 1 0 64zM480 832a32 32 0 1 1 0-64h447.936a32 32 0 1 1 0 64z"})]))}),Hv=Fv,Gv=Qn({name:"FirstAidKit",__name:"first-aid-kit",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M192 256a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64zm0-64h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128"}),Ui("path",{fill:"currentColor",d:"M544 512h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0zM352 128v64h320v-64zm-32-64h384a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32H320a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"})]))}),Wv=Gv,qv=Qn({name:"Flag",__name:"flag",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M288 128h608L736 384l160 256H288v320h-96V64h96z"})]))}),Kv=qv,Yv=Qn({name:"Fold",__name:"fold",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M896 192H128v128h768zm0 256H384v128h512zm0 256H128v128h768zM320 384 128 512l192 128z"})]))}),Xv=Yv,$v=Qn({name:"FolderAdd",__name:"folder-add",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m384 416V416h64v128h128v64H544v128h-64V608H352v-64z"})]))}),Jv=$v,Zv=Qn({name:"FolderChecked",__name:"folder-checked",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m414.08 502.144 180.992-180.992L736.32 494.4 510.08 720.64l-158.4-158.336 45.248-45.312z"})]))}),Qv=Zv,ey=Qn({name:"FolderDelete",__name:"folder-delete",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m370.752 448-90.496-90.496 45.248-45.248L512 530.752l90.496-90.496 45.248 45.248L557.248 576l90.496 90.496-45.248 45.248L512 621.248l-90.496 90.496-45.248-45.248z"})]))}),ty=ey,ny=Qn({name:"FolderOpened",__name:"folder-opened",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896"})]))}),ry=ny,oy=Qn({name:"FolderRemove",__name:"folder-remove",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m256 416h320v64H352z"})]))}),iy=oy,ay=Qn({name:"Folder",__name:"folder",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32"})]))}),sy=ay,cy=Qn({name:"Food",__name:"food",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 352.576V352a288 288 0 0 1 491.072-204.224 192 192 0 0 1 274.24 204.48 64 64 0 0 1 57.216 74.24C921.6 600.512 850.048 710.656 736 756.992V800a96 96 0 0 1-96 96H384a96 96 0 0 1-96-96v-43.008c-114.048-46.336-185.6-156.48-214.528-330.496A64 64 0 0 1 128 352.64zm64-.576h64a160 160 0 0 1 320 0h64a224 224 0 0 0-448 0m128 0h192a96 96 0 0 0-192 0m439.424 0h68.544A128.256 128.256 0 0 0 704 192c-15.36 0-29.952 2.688-43.52 7.616 11.328 18.176 20.672 37.76 27.84 58.304A64.128 64.128 0 0 1 759.424 352M672 768H352v32a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32zm-342.528-64h365.056c101.504-32.64 165.76-124.928 192.896-288H136.576c27.136 163.072 91.392 255.36 192.896 288"})]))}),ly=cy,uy=Qn({name:"Football",__name:"football",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896m0-64a384 384 0 1 0 0-768 384 384 0 0 0 0 768"}),Ui("path",{fill:"currentColor",d:"M186.816 268.288c16-16.384 31.616-31.744 46.976-46.08 17.472 30.656 39.808 58.112 65.984 81.28l-32.512 56.448a385.984 385.984 0 0 1-80.448-91.648zm653.696-5.312a385.92 385.92 0 0 1-83.776 96.96l-32.512-56.384a322.923 322.923 0 0 0 68.48-85.76c15.552 14.08 31.488 29.12 47.808 45.184zM465.984 445.248l11.136-63.104a323.584 323.584 0 0 0 69.76 0l11.136 63.104a387.968 387.968 0 0 1-92.032 0m-62.72-12.8A381.824 381.824 0 0 1 320 396.544l32-55.424a319.885 319.885 0 0 0 62.464 27.712l-11.2 63.488zm300.8-35.84a381.824 381.824 0 0 1-83.328 35.84l-11.2-63.552A319.885 319.885 0 0 0 672 341.184l32 55.424zm-520.768 364.8a385.92 385.92 0 0 1 83.968-97.28l32.512 56.32c-26.88 23.936-49.856 52.352-67.52 84.032-16-13.44-32.32-27.712-48.96-43.072zm657.536.128a1442.759 1442.759 0 0 1-49.024 43.072 321.408 321.408 0 0 0-67.584-84.16l32.512-56.32c33.216 27.456 61.696 60.352 84.096 97.408zM465.92 578.752a387.968 387.968 0 0 1 92.032 0l-11.136 63.104a323.584 323.584 0 0 0-69.76 0zm-62.72 12.8 11.2 63.552a319.885 319.885 0 0 0-62.464 27.712L320 627.392a381.824 381.824 0 0 1 83.264-35.84zm300.8 35.84-32 55.424a318.272 318.272 0 0 0-62.528-27.712l11.2-63.488c29.44 8.64 57.28 20.736 83.264 35.776z"})]))}),dy=uy,hy=Qn({name:"ForkSpoon",__name:"fork-spoon",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 410.304V96a32 32 0 0 1 64 0v314.304a96 96 0 0 0 64-90.56V96a32 32 0 0 1 64 0v223.744a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.544a160 160 0 0 1-128-156.8V96a32 32 0 0 1 64 0v223.744a96 96 0 0 0 64 90.56zM672 572.48C581.184 552.128 512 446.848 512 320c0-141.44 85.952-256 192-256s192 114.56 192 256c0 126.848-69.184 232.128-160 252.48V928a32 32 0 1 1-64 0zM704 512c66.048 0 128-82.56 128-192s-61.952-192-128-192-128 82.56-128 192 61.952 192 128 192"})]))}),py=hy,fy=Qn({name:"Fries",__name:"fries",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M608 224v-64a32 32 0 0 0-64 0v336h26.88A64 64 0 0 0 608 484.096zm101.12 160A64 64 0 0 0 672 395.904V384h64V224a32 32 0 1 0-64 0v160zm74.88 0a92.928 92.928 0 0 1 91.328 110.08l-60.672 323.584A96 96 0 0 1 720.32 896H303.68a96 96 0 0 1-94.336-78.336L148.672 494.08A92.928 92.928 0 0 1 240 384h-16V224a96 96 0 0 1 188.608-25.28A95.744 95.744 0 0 1 480 197.44V160a96 96 0 0 1 188.608-25.28A96 96 0 0 1 800 224v160zM670.784 512a128 128 0 0 1-99.904 48H453.12a128 128 0 0 1-99.84-48H352v-1.536a128.128 128.128 0 0 1-9.984-14.976L314.88 448H240a28.928 28.928 0 0 0-28.48 34.304L241.088 640h541.824l29.568-157.696A28.928 28.928 0 0 0 784 448h-74.88l-27.136 47.488A132.405 132.405 0 0 1 672 510.464V512zM480 288a32 32 0 0 0-64 0v196.096A64 64 0 0 0 453.12 496H480zm-128 96V224a32 32 0 0 0-64 0v160zh-37.12A64 64 0 0 1 352 395.904zm-98.88 320 19.072 101.888A32 32 0 0 0 303.68 832h416.64a32 32 0 0 0 31.488-26.112L770.88 704z"})]))}),gy=fy,vy=Qn({name:"FullScreen",__name:"full-screen",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}),yy=vy,_y=Qn({name:"GobletFull",__name:"goblet-full",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 320h512c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320m503.936 64H264.064a256.128 256.128 0 0 0 495.872 0zM544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4"})]))}),Ey=_y,by=Qn({name:"GobletSquareFull",__name:"goblet-square-full",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 270.912c10.048 6.72 22.464 14.912 28.992 18.624a220.16 220.16 0 0 0 114.752 30.72c30.592 0 49.408-9.472 91.072-41.152l.64-.448c52.928-40.32 82.368-55.04 132.288-54.656 55.552.448 99.584 20.8 142.72 57.408l1.536 1.28V128H256v142.912zm.96 76.288C266.368 482.176 346.88 575.872 512 576c157.44.064 237.952-85.056 253.248-209.984a952.32 952.32 0 0 1-40.192-35.712c-32.704-27.776-63.36-41.92-101.888-42.24-31.552-.256-50.624 9.28-93.12 41.6l-.576.448c-52.096 39.616-81.024 54.208-129.792 54.208-54.784 0-100.48-13.376-142.784-37.056zM480 638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96z"})]))}),Ty=by,Sy=Qn({name:"GobletSquare",__name:"goblet-square",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M544 638.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912M256 319.68c0 149.568 80 256.192 256 256.256C688.128 576 768 469.568 768 320V128H256z"})]))}),wy=Sy,Cy=Qn({name:"Goblet",__name:"goblet",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4M256 320a256 256 0 1 0 512 0c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320"})]))}),Ry=Cy,Iy=Qn({name:"GoldMedal",__name:"gold-medal",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m772.13 452.84 53.86-351.81c1.32-10.01-1.17-18.68-7.49-26.02S804.35 64 795.01 64H228.99v-.01h-.06c-9.33 0-17.15 3.67-23.49 11.01s-8.83 16.01-7.49 26.02l53.87 351.89C213.54 505.73 193.59 568.09 192 640c2 90.67 33.17 166.17 93.5 226.5S421.33 957.99 512 960c90.67-2 166.17-33.17 226.5-93.5 60.33-60.34 91.49-135.83 93.5-226.5-1.59-71.94-21.56-134.32-59.87-187.16zM640.01 128h117.02l-39.01 254.02c-20.75-10.64-40.74-19.73-59.94-27.28-5.92-3-11.95-5.8-18.08-8.41V128h.01zM576 128v198.76c-13.18-2.58-26.74-4.43-40.67-5.55-8.07-.8-15.85-1.2-23.33-1.2-10.54 0-21.09.66-31.64 1.96a359.844 359.844 0 0 0-32.36 4.79V128zm-192 0h.04v218.3c-6.22 2.66-12.34 5.5-18.36 8.56-19.13 7.54-39.02 16.6-59.66 27.16L267.01 128zm308.99 692.99c-48 48-108.33 73-180.99 75.01-72.66-2.01-132.99-27.01-180.99-75.01S258.01 712.66 256 640c2.01-72.66 27.01-132.99 75.01-180.99 19.67-19.67 41.41-35.47 65.22-47.41 38.33-15.04 71.15-23.92 98.44-26.65 5.07-.41 10.2-.7 15.39-.88.63-.01 1.28-.03 1.91-.03.66 0 1.35.03 2.02.04 5.11.17 10.15.46 15.13.86 27.4 2.71 60.37 11.65 98.91 26.79 23.71 11.93 45.36 27.69 64.96 47.29 48 48 73 108.33 75.01 180.99-2.01 72.65-27.01 132.98-75.01 180.98z"}),Ui("path",{fill:"currentColor",d:"M544 480H416v64h64v192h-64v64h192v-64h-64z"})]))}),Ay=Iy,Oy=Qn({name:"GoodsFilled",__name:"goods-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M192 352h640l64 544H128zm128 224h64V448h-64zm320 0h64V448h-64zM384 288h-64a192 192 0 1 1 384 0h-64a128 128 0 1 0-256 0"})]))}),Ny=Oy,ky=Qn({name:"Goods",__name:"goods",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M320 288v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4h131.072a32 32 0 0 1 31.808 28.8l57.6 576a32 32 0 0 1-31.808 35.2H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320zm64 0h256v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4zm-64 64H217.92l-51.2 512h690.56l-51.264-512H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0z"})]))}),Dy=ky,xy=Qn({name:"Grape",__name:"grape",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M544 195.2a160 160 0 0 1 96 60.8 160 160 0 1 1 146.24 254.976 160 160 0 0 1-128 224 160 160 0 1 1-292.48 0 160 160 0 0 1-128-224A160 160 0 1 1 384 256a160 160 0 0 1 96-60.8V128h-64a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64h-64zM512 448a96 96 0 1 0 0-192 96 96 0 0 0 0 192m-256 0a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192"})]))}),Py=xy,My=Qn({name:"Grid",__name:"grid",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M640 384v256H384V384zm64 0h192v256H704zm-64 512H384V704h256zm64 0V704h192v192zm-64-768v192H384V128zm64 0h192v192H704zM320 384v256H128V384zm0 512H128V704h192zm0-768v192H128V128z"})]))}),Ly=My,Uy=Qn({name:"Guide",__name:"guide",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M640 608h-64V416h64zm0 160v160a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V768h64v128h128V768zM384 608V416h64v192zm256-352h-64V128H448v128h-64V96a32 32 0 0 1 32-32h192a32 32 0 0 1 32 32z"}),Ui("path",{fill:"currentColor",d:"m220.8 256-71.232 80 71.168 80H768V256H220.8zm-14.4-64H800a32 32 0 0 1 32 32v224a32 32 0 0 1-32 32H206.4a32 32 0 0 1-23.936-10.752l-99.584-112a32 32 0 0 1 0-42.496l99.584-112A32 32 0 0 1 206.4 192m678.784 496-71.104 80H266.816V608h547.2l71.168 80zm-56.768-144H234.88a32 32 0 0 0-32 32v224a32 32 0 0 0 32 32h593.6a32 32 0 0 0 23.936-10.752l99.584-112a32 32 0 0 0 0-42.496l-99.584-112A32 32 0 0 0 828.48 544z"})]))}),jy=Uy,Vy=Qn({name:"Handbag",__name:"handbag",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M887.01 264.99c-6-5.99-13.67-8.99-23.01-8.99H704c-1.34-54.68-20.01-100.01-56-136s-81.32-54.66-136-56c-54.68 1.34-100.01 20.01-136 56s-54.66 81.32-56 136H160c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.67-8.99 23.01v640c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V288c0-9.35-2.99-17.02-8.99-23.01M421.5 165.5c24.32-24.34 54.49-36.84 90.5-37.5 35.99.68 66.16 13.18 90.5 37.5s36.84 54.49 37.5 90.5H384c.68-35.99 13.18-66.16 37.5-90.5M832 896H192V320h128v128h64V320h256v128h64V320h128z"})]))}),By=Vy,zy=Qn({name:"Headset",__name:"headset",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M896 529.152V512a384 384 0 1 0-768 0v17.152A128 128 0 0 1 320 640v128a128 128 0 1 1-256 0V512a448 448 0 1 1 896 0v256a128 128 0 1 1-256 0V640a128 128 0 0 1 192-110.848M896 640a64 64 0 0 0-128 0v128a64 64 0 0 0 128 0zm-768 0v128a64 64 0 0 0 128 0V640a64 64 0 1 0-128 0"})]))}),Fy=zy,Hy=Qn({name:"HelpFilled",__name:"help-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M926.784 480H701.312A192.512 192.512 0 0 0 544 322.688V97.216A416.064 416.064 0 0 1 926.784 480m0 64A416.064 416.064 0 0 1 544 926.784V701.312A192.512 192.512 0 0 0 701.312 544zM97.28 544h225.472A192.512 192.512 0 0 0 480 701.312v225.472A416.064 416.064 0 0 1 97.216 544zm0-64A416.064 416.064 0 0 1 480 97.216v225.472A192.512 192.512 0 0 0 322.688 480H97.216z"})]))}),Gy=Hy,Wy=Qn({name:"Help",__name:"help",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m759.936 805.248-90.944-91.008A254.912 254.912 0 0 1 512 768a254.912 254.912 0 0 1-156.992-53.76l-90.944 91.008A382.464 382.464 0 0 0 512 896c94.528 0 181.12-34.176 247.936-90.752m45.312-45.312A382.464 382.464 0 0 0 896 512c0-94.528-34.176-181.12-90.752-247.936l-91.008 90.944C747.904 398.4 768 452.864 768 512c0 59.136-20.096 113.6-53.76 156.992l91.008 90.944zm-45.312-541.184A382.464 382.464 0 0 0 512 128c-94.528 0-181.12 34.176-247.936 90.752l90.944 91.008A254.912 254.912 0 0 1 512 256c59.136 0 113.6 20.096 156.992 53.76l90.944-91.008zm-541.184 45.312A382.464 382.464 0 0 0 128 512c0 94.528 34.176 181.12 90.752 247.936l91.008-90.944A254.912 254.912 0 0 1 256 512c0-59.136 20.096-113.6 53.76-156.992zm417.28 394.496a194.56 194.56 0 0 0 22.528-22.528C686.912 602.56 704 559.232 704 512a191.232 191.232 0 0 0-67.968-146.56A191.296 191.296 0 0 0 512 320a191.232 191.232 0 0 0-146.56 67.968C337.088 421.44 320 464.768 320 512a191.232 191.232 0 0 0 67.968 146.56C421.44 686.912 464.768 704 512 704c47.296 0 90.56-17.088 124.032-45.44zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}),qy=Wy,Ky=Qn({name:"Hide",__name:"hide",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Ui("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}),Yy=Ky,Xy=Qn({name:"Histogram",__name:"histogram",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M416 896V128h192v768zm-288 0V448h192v448zm576 0V320h192v576z"})]))}),$y=Xy,Jy=Qn({name:"HomeFilled",__name:"home-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"})]))}),Zy=Jy,Qy=Qn({name:"HotWater",__name:"hot-water",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133m273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133M170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"})]))}),e_=Qy,t_=Qn({name:"House",__name:"house",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576"})]))}),n_=t_,r_=Qn({name:"IceCreamRound",__name:"ice-cream-round",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m308.352 489.344 226.304 226.304a32 32 0 0 0 45.248 0L783.552 512A192 192 0 1 0 512 240.448L308.352 444.16a32 32 0 0 0 0 45.248zm135.744 226.304L308.352 851.392a96 96 0 0 1-135.744-135.744l135.744-135.744-45.248-45.248a96 96 0 0 1 0-135.808L466.752 195.2A256 256 0 0 1 828.8 557.248L625.152 760.96a96 96 0 0 1-135.808 0l-45.248-45.248zM398.848 670.4 353.6 625.152 217.856 760.896a32 32 0 0 0 45.248 45.248zm248.96-384.64a32 32 0 0 1 0 45.248L466.624 512a32 32 0 1 1-45.184-45.248l180.992-181.056a32 32 0 0 1 45.248 0zm90.496 90.496a32 32 0 0 1 0 45.248L557.248 602.496A32 32 0 1 1 512 557.248l180.992-180.992a32 32 0 0 1 45.312 0z"})]))}),o_=r_,i_=Qn({name:"IceCreamSquare",__name:"ice-cream-square",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M416 640h256a32 32 0 0 0 32-32V160a32 32 0 0 0-32-32H352a32 32 0 0 0-32 32v448a32 32 0 0 0 32 32zm192 64v160a96 96 0 0 1-192 0V704h-64a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h320a96 96 0 0 1 96 96v448a96 96 0 0 1-96 96zm-64 0h-64v160a32 32 0 1 0 64 0z"})]))}),a_=i_,s_=Qn({name:"IceCream",__name:"ice-cream",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128.64 448a208 208 0 0 1 193.536-191.552 224 224 0 0 1 445.248 15.488A208.128 208.128 0 0 1 894.784 448H896L548.8 983.68a32 32 0 0 1-53.248.704L128 448zm64.256 0h286.208a144 144 0 0 0-286.208 0zm351.36 0h286.272a144 144 0 0 0-286.272 0zm-294.848 64 271.808 396.608L778.24 512H249.408zM511.68 352.64a207.872 207.872 0 0 1 189.184-96.192 160 160 0 0 0-314.752 5.632c52.608 12.992 97.28 46.08 125.568 90.56"})]))}),c_=s_,l_=Qn({name:"IceDrink",__name:"ice-drink",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 448v128h239.68l16.064-128zm-64 0H256.256l16.064 128H448zm64-255.36V384h247.744A256.128 256.128 0 0 0 512 192.64m-64 8.064A256.448 256.448 0 0 0 264.256 384H448zm64-72.064A320.128 320.128 0 0 1 825.472 384H896a32 32 0 1 1 0 64h-64v1.92l-56.96 454.016A64 64 0 0 1 711.552 960H312.448a64 64 0 0 1-63.488-56.064L192 449.92V448h-64a32 32 0 0 1 0-64h70.528A320.384 320.384 0 0 1 448 135.04V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H544a32 32 0 0 0-32 32zM743.68 640H280.32l32.128 256h399.104z"})]))}),u_=l_,d_=Qn({name:"IceTea",__name:"ice-tea",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M197.696 259.648a320.128 320.128 0 0 1 628.608 0A96 96 0 0 1 896 352v64a96 96 0 0 1-71.616 92.864l-49.408 395.072A64 64 0 0 1 711.488 960H312.512a64 64 0 0 1-63.488-56.064l-49.408-395.072A96 96 0 0 1 128 416v-64a96 96 0 0 1 69.696-92.352M264.064 256h495.872a256.128 256.128 0 0 0-495.872 0m495.424 256H264.512l48 384h398.976zM224 448h576a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H224a32 32 0 0 0-32 32v64a32 32 0 0 0 32 32m160 192h64v64h-64zm192 64h64v64h-64zm-128 64h64v64h-64zm64-192h64v64h-64z"})]))}),h_=d_,p_=Qn({name:"InfoFilled",__name:"info-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}),f_=p_,m_=Qn({name:"Iphone",__name:"iphone",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0"})]))}),g_=m_,v_=Qn({name:"Key",__name:"key",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M448 456.064V96a32 32 0 0 1 32-32.064L672 64a32 32 0 0 1 0 64H512v128h160a32 32 0 0 1 0 64H512v128a256 256 0 1 1-64 8.064M512 896a192 192 0 1 0 0-384 192 192 0 0 0 0 384"})]))}),y_=v_,__=Qn({name:"KnifeFork",__name:"knife-fork",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 410.56V96a32 32 0 0 1 64 0v314.56A96 96 0 0 0 384 320V96a32 32 0 0 1 64 0v224a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.8A160 160 0 0 1 128 320V96a32 32 0 0 1 64 0v224a96 96 0 0 0 64 90.56m384-250.24V544h126.72c-3.328-78.72-12.928-147.968-28.608-207.744-14.336-54.528-46.848-113.344-98.112-175.872zM640 608v320a32 32 0 1 1-64 0V64h64c85.312 89.472 138.688 174.848 160 256 21.312 81.152 32 177.152 32 288z"})]))}),E_=__,b_=Qn({name:"Lightning",__name:"lightning",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M288 671.36v64.128A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 736 734.016v-64.768a192 192 0 0 0 3.328-377.92l-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 91.968 70.464 167.36 160.256 175.232z"}),Ui("path",{fill:"currentColor",d:"M416 736a32 32 0 0 1-27.776-47.872l128-224a32 32 0 1 1 55.552 31.744L471.168 672H608a32 32 0 0 1 27.776 47.872l-128 224a32 32 0 1 1-55.68-31.744L552.96 736z"})]))}),T_=b_,S_=Qn({name:"Link",__name:"link",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M715.648 625.152 670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248 90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656 87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496 45.248 45.248-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896 62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496zm0-362.048 45.248 45.248L398.848 670.4 353.6 625.152z"})]))}),w_=S_,C_=Qn({name:"List",__name:"list",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384zM288 512h448v-64H288zm0 256h448v-64H288zm96-576V96h256v96z"})]))}),R_=C_,I_=Qn({name:"Loading",__name:"loading",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}),A_=I_,O_=Qn({name:"LocationFilled",__name:"location-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 928c23.936 0 117.504-68.352 192.064-153.152C803.456 661.888 864 535.808 864 416c0-189.632-155.84-320-352-320S160 226.368 160 416c0 120.32 60.544 246.4 159.936 359.232C394.432 859.84 488 928 512 928m0-435.2a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 140.8a204.8 204.8 0 1 1 0-409.6 204.8 204.8 0 0 1 0 409.6"})]))}),N_=O_,k_=Qn({name:"LocationInformation",__name:"location-information",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),Ui("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),Ui("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192m0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320"})]))}),D_=k_,x_=Qn({name:"Location",__name:"location",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),Ui("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192m0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320"})]))}),P_=x_,M_=Qn({name:"Lock",__name:"lock",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"}),Ui("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m192-160v-64a192 192 0 1 0-384 0v64zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64"})]))}),L_=M_,U_=Qn({name:"Lollipop",__name:"lollipop",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696m105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744zm-54.464-36.032a321.92 321.92 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"})]))}),j_=U_,V_=Qn({name:"MagicStick",__name:"magic-stick",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64h64v192h-64zm0 576h64v192h-64zM160 480v-64h192v64zm576 0v-64h192v64zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248z"})]))}),B_=V_,z_=Qn({name:"Magnet",__name:"magnet",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M832 320V192H704v320a192 192 0 1 1-384 0V192H192v128h128v64H192v128a320 320 0 0 0 640 0V384H704v-64zM640 512V128h256v384a384 384 0 1 1-768 0V128h256v384a128 128 0 1 0 256 0"})]))}),F_=z_,H_=Qn({name:"Male",__name:"male",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M399.5 849.5a225 225 0 1 0 0-450 225 225 0 0 0 0 450m0 56.25a281.25 281.25 0 1 1 0-562.5 281.25 281.25 0 0 1 0 562.5m253.125-787.5h225q28.125 0 28.125 28.125T877.625 174.5h-225q-28.125 0-28.125-28.125t28.125-28.125"}),Ui("path",{fill:"currentColor",d:"M877.625 118.25q28.125 0 28.125 28.125v225q0 28.125-28.125 28.125T849.5 371.375v-225q0-28.125 28.125-28.125"}),Ui("path",{fill:"currentColor",d:"M604.813 458.9 565.1 419.131l292.613-292.668 39.825 39.824z"})]))}),G_=H_,W_=Qn({name:"Management",__name:"management",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M576 128v288l96-96 96 96V128h128v768H320V128zm-448 0h128v768H128z"})]))}),q_=W_,K_=Qn({name:"MapLocation",__name:"map-location",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),Ui("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256m345.6 192L960 960H672v-64H352v64H64l102.4-256zm-68.928 0H235.328l-76.8 192h706.944z"})]))}),Y_=K_,X_=Qn({name:"Medal",__name:"medal",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 896a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),Ui("path",{fill:"currentColor",d:"M576 128H448v200a286.72 286.72 0 0 1 64-8c19.52 0 40.832 2.688 64 8zm64 0v219.648c24.448 9.088 50.56 20.416 78.4 33.92L757.44 128zm-256 0H266.624l39.04 253.568c27.84-13.504 53.888-24.832 78.336-33.92V128zM229.312 64h565.376a32 32 0 0 1 31.616 36.864L768 480c-113.792-64-199.104-96-256-96-56.896 0-142.208 32-256 96l-58.304-379.136A32 32 0 0 1 229.312 64"})]))}),$_=X_,J_=Qn({name:"Memo",__name:"memo",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M480 320h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32"}),Ui("path",{fill:"currentColor",d:"M887.01 72.99C881.01 67 873.34 64 864 64H160c-9.35 0-17.02 3-23.01 8.99C131 78.99 128 86.66 128 96v832c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V96c0-9.35-3-17.02-8.99-23.01M192 896V128h96v768zm640 0H352V128h480z"}),Ui("path",{fill:"currentColor",d:"M480 512h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32m0 192h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32"})]))}),Z_=J_,Q_=Qn({name:"Menu",__name:"menu",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}),eE=Q_,tE=Qn({name:"MessageBox",__name:"message-box",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M288 384h448v64H288zm96-128h256v64H384zM131.456 512H384v128h256V512h252.544L721.856 192H302.144zM896 576H704v128H320V576H128v256h768zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128z"})]))}),nE=tE,rE=Qn({name:"Message",__name:"message",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64"}),Ui("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056"})]))}),oE=rE,iE=Qn({name:"Mic",__name:"mic",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M480 704h160a64 64 0 0 0 64-64v-32h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-32a64 64 0 0 0-64-64H384a64 64 0 0 0-64 64v32h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v32a64 64 0 0 0 64 64zm64 64v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768h-96a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64h256a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128z"})]))}),aE=iE,sE=Qn({name:"Microphone",__name:"microphone",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 128a128 128 0 0 0-128 128v256a128 128 0 1 0 256 0V256a128 128 0 0 0-128-128m0-64a192 192 0 0 1 192 192v256a192 192 0 1 1-384 0V256A192 192 0 0 1 512 64m-32 832v-64a288 288 0 0 1-288-288v-32a32 32 0 0 1 64 0v32a224 224 0 0 0 224 224h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64z"})]))}),cE=sE,lE=Qn({name:"MilkTea",__name:"milk-tea",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M416 128V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H512a32 32 0 0 0-32 32v32h320a96 96 0 0 1 11.712 191.296l-39.68 581.056A64 64 0 0 1 708.224 960H315.776a64 64 0 0 1-63.872-59.648l-39.616-581.056A96 96 0 0 1 224 128zM276.48 320l39.296 576h392.448l4.8-70.784a224.064 224.064 0 0 1 30.016-439.808L747.52 320zM224 256h576a32 32 0 1 0 0-64H224a32 32 0 0 0 0 64m493.44 503.872 21.12-309.12a160 160 0 0 0-21.12 309.12"})]))}),uE=lE,dE=Qn({name:"Minus",__name:"minus",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}),hE=dE,pE=Qn({name:"Money",__name:"money",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 640v192h640V384H768v-64h150.976c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H233.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096c-2.688-5.184-4.224-10.368-4.224-24.576V640z"}),Ui("path",{fill:"currentColor",d:"M768 192H128v448h640zm64-22.976v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 682.432 64 677.248 64 663.04V169.024c0-14.272 1.472-19.456 4.288-24.64a29.056 29.056 0 0 1 12.096-12.16C85.568 129.536 90.752 128 104.96 128h685.952c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64z"}),Ui("path",{fill:"currentColor",d:"M448 576a160 160 0 1 1 0-320 160 160 0 0 1 0 320m0-64a96 96 0 1 0 0-192 96 96 0 0 0 0 192"})]))}),fE=pE,mE=Qn({name:"Monitor",__name:"monitor",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M544 768v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768H192A128 128 0 0 1 64 640V256a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128zM192 192a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64z"})]))}),gE=mE,vE=Qn({name:"MoonNight",__name:"moon-night",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.256 448.256 0 0 1 384 512M171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"}),Ui("path",{fill:"currentColor",d:"M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32m128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"})]))}),yE=vE,_E=Qn({name:"Moon",__name:"moon",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"})]))}),EE=_E,bE=Qn({name:"MoreFilled",__name:"more-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}),TE=bE,SE=Qn({name:"More",__name:"more",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}),wE=SE,CE=Qn({name:"MostlyCloudy",__name:"mostly-cloudy",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M737.216 357.952 704 349.824l-11.776-32a192.064 192.064 0 0 0-367.424 23.04l-8.96 39.04-39.04 8.96A192.064 192.064 0 0 0 320 768h368a207.808 207.808 0 0 0 207.808-208 208.32 208.32 0 0 0-158.592-202.048m15.168-62.208A272.32 272.32 0 0 1 959.744 560a271.808 271.808 0 0 1-271.552 272H320a256 256 0 0 1-57.536-505.536 256.128 256.128 0 0 1 489.92-30.72"})]))}),RE=CE,IE=Qn({name:"Mouse",__name:"mouse",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M438.144 256c-68.352 0-92.736 4.672-117.76 18.112-20.096 10.752-35.52 26.176-46.272 46.272C260.672 345.408 256 369.792 256 438.144v275.712c0 68.352 4.672 92.736 18.112 117.76 10.752 20.096 26.176 35.52 46.272 46.272C345.408 891.328 369.792 896 438.144 896h147.712c68.352 0 92.736-4.672 117.76-18.112 20.096-10.752 35.52-26.176 46.272-46.272C763.328 806.592 768 782.208 768 713.856V438.144c0-68.352-4.672-92.736-18.112-117.76a110.464 110.464 0 0 0-46.272-46.272C678.592 260.672 654.208 256 585.856 256zm0-64h147.712c85.568 0 116.608 8.96 147.904 25.6 31.36 16.768 55.872 41.344 72.576 72.64C823.104 321.536 832 352.576 832 438.08v275.84c0 85.504-8.96 116.544-25.6 147.84a174.464 174.464 0 0 1-72.64 72.576C702.464 951.104 671.424 960 585.92 960H438.08c-85.504 0-116.544-8.96-147.84-25.6a174.464 174.464 0 0 1-72.64-72.704c-16.768-31.296-25.664-62.336-25.664-147.84v-275.84c0-85.504 8.96-116.544 25.6-147.84a174.464 174.464 0 0 1 72.768-72.576c31.232-16.704 62.272-25.6 147.776-25.6z"}),Ui("path",{fill:"currentColor",d:"M512 320q32 0 32 32v128q0 32-32 32t-32-32V352q0-32 32-32m32-96a32 32 0 0 1-64 0v-64a32 32 0 0 0-32-32h-96a32 32 0 0 1 0-64h96a96 96 0 0 1 96 96z"})]))}),AE=IE,OE=Qn({name:"Mug",__name:"mug",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M736 800V160H160v640a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64m64-544h63.552a96 96 0 0 1 96 96v224a96 96 0 0 1-96 96H800v128a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V128a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 64v288h63.552a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32z"})]))}),NE=OE,kE=Qn({name:"MuteNotification",__name:"mute-notification",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m241.216 832 63.616-64H768V448c0-42.368-10.24-82.304-28.48-117.504l46.912-47.232C815.36 331.392 832 387.84 832 448v320h96a32 32 0 1 1 0 64zm-90.24 0H96a32 32 0 1 1 0-64h96V448a320.128 320.128 0 0 1 256-313.6V128a64 64 0 1 1 128 0v6.4a319.552 319.552 0 0 1 171.648 97.088l-45.184 45.44A256 256 0 0 0 256 448v278.336L151.04 832zM448 896h128a64 64 0 0 1-128 0"}),Ui("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"})]))}),DE=kE,xE=Qn({name:"Mute",__name:"mute",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m412.16 592.128-45.44 45.44A191.232 191.232 0 0 1 320 512V256a192 192 0 1 1 384 0v44.352l-64 64V256a128 128 0 1 0-256 0v256c0 30.336 10.56 58.24 28.16 80.128m51.968 38.592A128 128 0 0 0 640 512v-57.152l64-64V512a192 192 0 0 1-287.68 166.528zM314.88 779.968l46.144-46.08A222.976 222.976 0 0 0 480 768h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64v-64c-61.44 0-118.4-19.2-165.12-52.032M266.752 737.6A286.976 286.976 0 0 1 192 544v-32a32 32 0 0 1 64 0v32c0 56.832 21.184 108.8 56.064 148.288z"}),Ui("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"})]))}),PE=xE,ME=Qn({name:"NoSmoking",__name:"no-smoking",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M440.256 576H256v128h56.256l-64 64H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32h280.256zm143.488 128H704V583.744L775.744 512H928a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H519.744zM768 576v128h128V576zm-29.696-207.552 45.248 45.248-497.856 497.856-45.248-45.248zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"})]))}),LE=ME,UE=Qn({name:"Notebook",__name:"notebook",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M672 128h64v768h-64zM96 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32"})]))}),jE=UE,VE=Qn({name:"Notification",__name:"notification",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 128v64H256a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V512h64v256a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V256a128 128 0 0 1 128-128z"}),Ui("path",{fill:"currentColor",d:"M768 384a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"})]))}),BE=VE,zE=Qn({name:"Odometer",__name:"odometer",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Ui("path",{fill:"currentColor",d:"M192 512a320 320 0 1 1 640 0 32 32 0 1 1-64 0 256 256 0 1 0-512 0 32 32 0 0 1-64 0"}),Ui("path",{fill:"currentColor",d:"M570.432 627.84A96 96 0 1 1 509.568 608l60.992-187.776A32 32 0 1 1 631.424 440l-60.992 187.776zM502.08 734.464a32 32 0 1 0 19.84-60.928 32 32 0 0 0-19.84 60.928"})]))}),FE=zE,HE=Qn({name:"OfficeBuilding",__name:"office-building",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M192 128v704h384V128zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M256 256h256v64H256zm0 192h256v64H256zm0 192h256v64H256zm384-128h128v64H640zm0 128h128v64H640zM64 832h896v64H64z"}),Ui("path",{fill:"currentColor",d:"M640 384v448h192V384zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32"})]))}),GE=HE,WE=Qn({name:"Open",__name:"open",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"}),Ui("path",{fill:"currentColor",d:"M694.044 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454m0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088"})]))}),qE=WE,KE=Qn({name:"Operation",__name:"operation",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}),YE=KE,XE=Qn({name:"Opportunity",__name:"opportunity",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M384 960v-64h192.064v64zm448-544a350.656 350.656 0 0 1-128.32 271.424C665.344 719.04 640 763.776 640 813.504V832H320v-14.336c0-48-19.392-95.36-57.216-124.992a351.552 351.552 0 0 1-128.448-344.256c25.344-136.448 133.888-248.128 269.76-276.48A352.384 352.384 0 0 1 832 416m-544 32c0-132.288 75.904-224 192-224v-64c-154.432 0-256 122.752-256 288z"})]))}),$E=XE,JE=Qn({name:"Orange",__name:"orange",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M544 894.72a382.336 382.336 0 0 0 215.936-89.472L577.024 622.272c-10.24 6.016-21.248 10.688-33.024 13.696v258.688zm261.248-134.784A382.336 382.336 0 0 0 894.656 544H635.968c-3.008 11.776-7.68 22.848-13.696 33.024l182.976 182.912zM894.656 480a382.336 382.336 0 0 0-89.408-215.936L622.272 446.976c6.016 10.24 10.688 21.248 13.696 33.024h258.688zm-134.72-261.248A382.336 382.336 0 0 0 544 129.344v258.688c11.776 3.008 22.848 7.68 33.024 13.696zM480 129.344a382.336 382.336 0 0 0-215.936 89.408l182.912 182.976c10.24-6.016 21.248-10.688 33.024-13.696zm-261.248 134.72A382.336 382.336 0 0 0 129.344 480h258.688c3.008-11.776 7.68-22.848 13.696-33.024zM129.344 544a382.336 382.336 0 0 0 89.408 215.936l182.976-182.912A127.232 127.232 0 0 1 388.032 544zm134.72 261.248A382.336 382.336 0 0 0 480 894.656V635.968a127.232 127.232 0 0 1-33.024-13.696zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896m0-384a64 64 0 1 0 0-128 64 64 0 0 0 0 128"})]))}),ZE=JE,QE=Qn({name:"Paperclip",__name:"paperclip",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M602.496 240.448A192 192 0 1 1 874.048 512l-316.8 316.8A256 256 0 0 1 195.2 466.752L602.496 59.456l45.248 45.248L240.448 512A192 192 0 0 0 512 783.552l316.8-316.8a128 128 0 1 0-181.056-181.056L353.6 579.904a32 32 0 1 0 45.248 45.248l294.144-294.144 45.312 45.248L444.096 670.4a96 96 0 1 1-135.744-135.744l294.144-294.208z"})]))}),eb=QE,tb=Qn({name:"PartlyCloudy",__name:"partly-cloudy",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M598.4 895.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 895.872m-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 445.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"}),Ui("path",{fill:"currentColor",d:"M139.84 501.888a256 256 0 1 1 417.856-277.12c-17.728 2.176-38.208 8.448-61.504 18.816A192 192 0 1 0 189.12 460.48a6003.84 6003.84 0 0 0-49.28 41.408z"})]))}),nb=tb,rb=Qn({name:"Pear",__name:"pear",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M542.336 258.816a443.255 443.255 0 0 0-9.024 25.088 32 32 0 1 1-60.8-20.032l1.088-3.328a162.688 162.688 0 0 0-122.048 131.392l-17.088 102.72-20.736 15.36C256.192 552.704 224 610.88 224 672c0 120.576 126.4 224 288 224s288-103.424 288-224c0-61.12-32.192-119.296-89.728-161.92l-20.736-15.424-17.088-102.72a162.688 162.688 0 0 0-130.112-133.12zm-40.128-66.56c7.936-15.552 16.576-30.08 25.92-43.776 23.296-33.92 49.408-59.776 78.528-77.12a32 32 0 1 1 32.704 55.04c-20.544 12.224-40.064 31.552-58.432 58.304a316.608 316.608 0 0 0-9.792 15.104 226.688 226.688 0 0 1 164.48 181.568l12.8 77.248C819.456 511.36 864 587.392 864 672c0 159.04-157.568 288-352 288S160 831.04 160 672c0-84.608 44.608-160.64 115.584-213.376l12.8-77.248a226.624 226.624 0 0 1 213.76-189.184z"})]))}),ob=rb,ib=Qn({name:"PhoneFilled",__name:"phone-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M199.232 125.568 90.624 379.008a32 32 0 0 0 6.784 35.2l512.384 512.384a32 32 0 0 0 35.2 6.784l253.44-108.608a32 32 0 0 0 10.048-52.032L769.6 633.92a32 32 0 0 0-36.928-5.952l-130.176 65.088-271.488-271.552 65.024-130.176a32 32 0 0 0-5.952-36.928L251.2 115.52a32 32 0 0 0-51.968 10.048z"})]))}),ab=ib,sb=Qn({name:"Phone",__name:"phone",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M79.36 432.256 591.744 944.64a32 32 0 0 0 35.2 6.784l253.44-108.544a32 32 0 0 0 9.984-52.032l-153.856-153.92a32 32 0 0 0-36.928-6.016l-69.888 34.944L358.08 394.24l35.008-69.888a32 32 0 0 0-5.952-36.928L233.152 133.568a32 32 0 0 0-52.032 10.048L72.512 397.056a32 32 0 0 0 6.784 35.2zm60.48-29.952 81.536-190.08L325.568 316.48l-24.64 49.216-20.608 41.216 32.576 32.64 271.552 271.552 32.64 32.64 41.216-20.672 49.28-24.576 104.192 104.128-190.08 81.472L139.84 402.304zM512 320v-64a256 256 0 0 1 256 256h-64a192 192 0 0 0-192-192m0-192V64a448 448 0 0 1 448 448h-64a384 384 0 0 0-384-384"})]))}),cb=Qn({name:"PictureFilled",__name:"picture-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}),lb=Qn({name:"PictureRounded",__name:"picture-rounded",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 128a384 384 0 1 0 0 768 384 384 0 0 0 0-768m0-64a448 448 0 1 1 0 896 448 448 0 0 1 0-896"}),Ui("path",{fill:"currentColor",d:"M640 288q64 0 64 64t-64 64q-64 0-64-64t64-64M214.656 790.656l-45.312-45.312 185.664-185.6a96 96 0 0 1 123.712-10.24l138.24 98.688a32 32 0 0 0 39.872-2.176L906.688 422.4l42.624 47.744L699.52 693.696a96 96 0 0 1-119.808 6.592l-138.24-98.752a32 32 0 0 0-41.152 3.456l-185.664 185.6z"})]))}),ub=Qn({name:"Picture",__name:"picture",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64M185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952z"})]))}),db=Qn({name:"PieChart",__name:"pie-chart",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M448 68.48v64.832A384.128 384.128 0 0 0 512 896a384.128 384.128 0 0 0 378.688-320h64.768A448.128 448.128 0 0 1 64 512 448.128 448.128 0 0 1 448 68.48z"}),Ui("path",{fill:"currentColor",d:"M576 97.28V448h350.72A384.064 384.064 0 0 0 576 97.28zM512 64V33.152A448 448 0 0 1 990.848 512H512z"})]))}),hb=Qn({name:"Place",__name:"place",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512"}),Ui("path",{fill:"currentColor",d:"M512 512a32 32 0 0 1 32 32v256a32 32 0 1 1-64 0V544a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M384 649.088v64.96C269.76 732.352 192 771.904 192 800c0 37.696 139.904 96 320 96s320-58.304 320-96c0-28.16-77.76-67.648-192-85.952v-64.96C789.12 671.04 896 730.368 896 800c0 88.32-171.904 160-384 160s-384-71.68-384-160c0-69.696 106.88-128.96 256-150.912"})]))}),pb=Qn({name:"Platform",__name:"platform",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64zM128 704V128h768v576z"})]))}),fb=Qn({name:"Plus",__name:"plus",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}),mb=Qn({name:"Pointer",__name:"pointer",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M511.552 128c-35.584 0-64.384 28.8-64.384 64.448v516.48L274.048 570.88a94.272 94.272 0 0 0-112.896-3.456 44.416 44.416 0 0 0-8.96 62.208L332.8 870.4A64 64 0 0 0 384 896h512V575.232a64 64 0 0 0-45.632-61.312l-205.952-61.76A96 96 0 0 1 576 360.192V192.448C576 156.8 547.2 128 511.552 128M359.04 556.8l24.128 19.2V192.448a128.448 128.448 0 1 1 256.832 0v167.744a32 32 0 0 0 22.784 30.656l206.016 61.76A128 128 0 0 1 960 575.232V896a64 64 0 0 1-64 64H384a128 128 0 0 1-102.4-51.2L101.056 668.032A108.416 108.416 0 0 1 128 512.512a158.272 158.272 0 0 1 185.984 8.32z"})]))}),gb=Qn({name:"Position",__name:"position",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m249.6 417.088 319.744 43.072 39.168 310.272L845.12 178.88 249.6 417.088zm-129.024 47.168a32 32 0 0 1-7.68-61.44l777.792-311.04a32 32 0 0 1 41.6 41.6l-310.336 775.68a32 32 0 0 1-61.44-7.808L512 516.992l-391.424-52.736z"})]))}),vb=Qn({name:"Postcard",__name:"postcard",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 224a32 32 0 0 0-32 32v512a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V256a32 32 0 0 0-32-32zm0-64h704a96 96 0 0 1 96 96v512a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V256a96 96 0 0 1 96-96"}),Ui("path",{fill:"currentColor",d:"M704 320a64 64 0 1 1 0 128 64 64 0 0 1 0-128M288 448h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32m0 128h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}),yb=Qn({name:"Pouring",__name:"pouring",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480M224 800a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32"})]))}),_b=Qn({name:"Present",__name:"present",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M480 896V640H192v-64h288V320H192v576zm64 0h288V320H544v256h288v64H544zM128 256h768v672a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32z"}),Ui("path",{fill:"currentColor",d:"M96 256h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32"}),Ui("path",{fill:"currentColor",d:"M416 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),Ui("path",{fill:"currentColor",d:"M608 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}),Eb=Qn({name:"PriceTag",__name:"price-tag",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M224 318.336V896h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"}),Ui("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}),bb=Qn({name:"Printer",__name:"printer",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 768H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 746.432 64 741.248 64 727.04V379.072c0-42.816 4.48-58.304 12.8-73.984 8.384-15.616 20.672-27.904 36.288-36.288 15.68-8.32 31.168-12.8 73.984-12.8H256V64h512v192h68.928c42.816 0 58.304 4.48 73.984 12.8 15.616 8.384 27.904 20.672 36.288 36.288 8.32 15.68 12.8 31.168 12.8 73.984v347.904c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H768v192H256zm64-192v320h384V576zm-64 128V512h512v192h128V379.072c0-29.376-1.408-36.48-5.248-43.776a23.296 23.296 0 0 0-10.048-10.048c-7.232-3.84-14.4-5.248-43.776-5.248H187.072c-29.376 0-36.48 1.408-43.776 5.248a23.296 23.296 0 0 0-10.048 10.048c-3.84 7.232-5.248 14.4-5.248 43.776V704zm64-448h384V128H320zm-64 128h64v64h-64zm128 0h64v64h-64z"})]))}),Tb=Qn({name:"Promotion",__name:"promotion",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m64 448 832-320-128 704-446.08-243.328L832 192 242.816 545.472zm256 512V657.024L512 768z"})]))}),Sb=Qn({name:"QuartzWatch",__name:"quartz-watch",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M422.02 602.01v-.03c-6.68-5.99-14.35-8.83-23.01-8.51-8.67.32-16.17 3.66-22.5 10.02-6.33 6.36-9.5 13.7-9.5 22.02s3 15.82 8.99 22.5c8.68 8.68 19.02 11.35 31.01 8s19.49-10.85 22.5-22.5c3.01-11.65.51-22.15-7.49-31.49zM384 512c0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.67 8.99-23.01m6.53-82.49c11.65 3.01 22.15.51 31.49-7.49h.04c5.99-6.68 8.83-14.34 8.51-23.01-.32-8.67-3.66-16.16-10.02-22.5-6.36-6.33-13.7-9.5-22.02-9.5s-15.82 3-22.5 8.99c-8.68 8.69-11.35 19.02-8 31.01 3.35 11.99 10.85 19.49 22.5 22.5zm242.94 0c11.67-3.03 19.01-10.37 22.02-22.02 3.01-11.65.51-22.15-7.49-31.49h.01c-6.68-5.99-14.18-8.99-22.5-8.99s-15.66 3.16-22.02 9.5c-6.36 6.34-9.7 13.84-10.02 22.5-.32 8.66 2.52 16.33 8.51 23.01 9.32 8.02 19.82 10.52 31.49 7.49M512 640c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01s-3-17.02-8.99-23.01c-6-5.99-13.66-8.99-23.01-8.99m183.01-151.01c-6-5.99-13.66-8.99-23.01-8.99s-17.02 3-23.01 8.99c-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99s17.02-3 23.01-8.99c5.99-6 8.99-13.67 8.99-23.01 0-9.35-3-17.02-8.99-23.01"}),Ui("path",{fill:"currentColor",d:"M832 512c-2-90.67-33.17-166.17-93.5-226.5-20.43-20.42-42.6-37.49-66.5-51.23V64H352v170.26c-23.9 13.74-46.07 30.81-66.5 51.24-60.33 60.33-91.49 135.83-93.5 226.5 2 90.67 33.17 166.17 93.5 226.5 20.43 20.43 42.6 37.5 66.5 51.24V960h320V789.74c23.9-13.74 46.07-30.81 66.5-51.24 60.33-60.34 91.49-135.83 93.5-226.5M416 128h192v78.69c-29.85-9.03-61.85-13.93-96-14.69-34.15.75-66.15 5.65-96 14.68zm192 768H416v-78.68c29.85 9.03 61.85 13.93 96 14.68 34.15-.75 66.15-5.65 96-14.68zm-96-128c-72.66-2.01-132.99-27.01-180.99-75.01S258.01 584.66 256 512c2.01-72.66 27.01-132.99 75.01-180.99S439.34 258.01 512 256c72.66 2.01 132.99 27.01 180.99 75.01S765.99 439.34 768 512c-2.01 72.66-27.01 132.99-75.01 180.99S584.66 765.99 512 768"}),Ui("path",{fill:"currentColor",d:"M512 320c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01 0 9.35 3 17.02 8.99 23.01 6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01 0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99m112.99 273.5c-8.66-.32-16.33 2.52-23.01 8.51-7.98 9.32-10.48 19.82-7.49 31.49s10.49 19.17 22.5 22.5 22.35.66 31.01-8v.04c5.99-6.68 8.99-14.18 8.99-22.5s-3.16-15.66-9.5-22.02-13.84-9.7-22.5-10.02"})]))}),wb=Qn({name:"QuestionFilled",__name:"question-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}),Cb=Qn({name:"Rank",__name:"rank",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m186.496 544 41.408 41.344a32 32 0 1 1-45.248 45.312l-96-96a32 32 0 0 1 0-45.312l96-96a32 32 0 1 1 45.248 45.312L186.496 480h290.816V186.432l-41.472 41.472a32 32 0 1 1-45.248-45.184l96-96.128a32 32 0 0 1 45.312 0l96 96.064a32 32 0 0 1-45.248 45.184l-41.344-41.28V480H832l-41.344-41.344a32 32 0 0 1 45.248-45.312l96 96a32 32 0 0 1 0 45.312l-96 96a32 32 0 0 1-45.248-45.312L832 544H541.312v293.44l41.344-41.28a32 32 0 1 1 45.248 45.248l-96 96a32 32 0 0 1-45.312 0l-96-96a32 32 0 1 1 45.312-45.248l41.408 41.408V544H186.496z"})]))}),Rb=Qn({name:"ReadingLamp",__name:"reading-lamp",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M352 896h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m-44.672-768-99.52 448h608.384l-99.52-448zm-25.6-64h460.608a32 32 0 0 1 31.232 25.088l113.792 512A32 32 0 0 1 856.128 640H167.872a32 32 0 0 1-31.232-38.912l113.792-512A32 32 0 0 1 281.664 64z"}),Ui("path",{fill:"currentColor",d:"M672 576q32 0 32 32v128q0 32-32 32t-32-32V608q0-32 32-32m-192-.064h64V960h-64z"})]))}),Ib=Qn({name:"Reading",__name:"reading",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"}),Ui("path",{fill:"currentColor",d:"M480 192h64v704h-64z"})]))}),Ab=Qn({name:"RefreshLeft",__name:"refresh-left",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}),Ob=Qn({name:"RefreshRight",__name:"refresh-right",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}),Nb=Qn({name:"Refresh",__name:"refresh",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}),kb=Qn({name:"Refrigerator",__name:"refrigerator",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 448h512V160a32 32 0 0 0-32-32H288a32 32 0 0 0-32 32zm0 64v352a32 32 0 0 0 32 32h448a32 32 0 0 0 32-32V512zm32-448h448a96 96 0 0 1 96 96v704a96 96 0 0 1-96 96H288a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96m32 224h64v96h-64zm0 288h64v96h-64z"})]))}),Db=Qn({name:"RemoveFilled",__name:"remove-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896M288 512a38.4 38.4 0 0 0 38.4 38.4h371.2a38.4 38.4 0 0 0 0-76.8H326.4A38.4 38.4 0 0 0 288 512"})]))}),xb=Qn({name:"Remove",__name:"remove",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64"}),Ui("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}),Pb=Qn({name:"Right",__name:"right",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312z"})]))}),Mb=Qn({name:"ScaleToOriginal",__name:"scale-to-original",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}),Lb=Qn({name:"School",__name:"school",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M224 128v704h576V128zm-32-64h640a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M64 832h896v64H64zm256-640h128v96H320z"}),Ui("path",{fill:"currentColor",d:"M384 832h256v-64a128 128 0 1 0-256 0zm128-256a192 192 0 0 1 192 192v128H320V768a192 192 0 0 1 192-192M320 384h128v96H320zm256-192h128v96H576zm0 192h128v96H576z"})]))}),Ub=Qn({name:"Scissor",__name:"scissor",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m512.064 578.368-106.88 152.768a160 160 0 1 1-23.36-78.208L472.96 522.56 196.864 128.256a32 32 0 1 1 52.48-36.736l393.024 561.344a160 160 0 1 1-23.36 78.208l-106.88-152.704zm54.4-189.248 208.384-297.6a32 32 0 0 1 52.48 36.736l-221.76 316.672-39.04-55.808zm-376.32 425.856a96 96 0 1 0 110.144-157.248 96 96 0 0 0-110.08 157.248zm643.84 0a96 96 0 1 0-110.08-157.248 96 96 0 0 0 110.08 157.248"})]))}),jb=Qn({name:"Search",__name:"search",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}),Vb=Qn({name:"Select",__name:"select",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"})]))}),Bb=Qn({name:"Sell",__name:"sell",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 483.84L768 698.496V928a32 32 0 1 1-64 0V698.496l-73.344 73.344a32 32 0 1 1-45.248-45.248l128-128a32 32 0 0 1 45.248 0l128 128a32 32 0 1 1-45.248 45.248z"})]))}),zb=Qn({name:"SemiSelect",__name:"semi-select",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 448h768q64 0 64 64t-64 64H128q-64 0-64-64t64-64"})]))}),Fb=Qn({name:"Service",__name:"service",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M864 409.6a192 192 0 0 1-37.888 349.44A256.064 256.064 0 0 1 576 960h-96a32 32 0 1 1 0-64h96a192.064 192.064 0 0 0 181.12-128H736a32 32 0 0 1-32-32V416a32 32 0 0 1 32-32h32c10.368 0 20.544.832 30.528 2.432a288 288 0 0 0-573.056 0A193.235 193.235 0 0 1 256 384h32a32 32 0 0 1 32 32v320a32 32 0 0 1-32 32h-32a192 192 0 0 1-96-358.4 352 352 0 0 1 704 0M256 448a128 128 0 1 0 0 256zm640 128a128 128 0 0 0-128-128v256a128 128 0 0 0 128-128"})]))}),Hb=Qn({name:"SetUp",__name:"set-up",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96"}),Ui("path",{fill:"currentColor",d:"M384 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),Ui("path",{fill:"currentColor",d:"M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32m160 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),Ui("path",{fill:"currentColor",d:"M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}),Gb=Qn({name:"Setting",__name:"setting",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256"})]))}),Wb=Qn({name:"Share",__name:"share",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"})]))}),qb=Qn({name:"Ship",__name:"ship",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 386.88V448h405.568a32 32 0 0 1 30.72 40.768l-76.48 267.968A192 192 0 0 1 687.168 896H336.832a192 192 0 0 1-184.64-139.264L75.648 488.768A32 32 0 0 1 106.368 448H448V117.888a32 32 0 0 1 47.36-28.096l13.888 7.616L512 96v2.88l231.68 126.4a32 32 0 0 1-2.048 57.216zm0-70.272 144.768-65.792L512 171.84zM512 512H148.864l18.24 64H856.96l18.24-64zM185.408 640l28.352 99.2A128 128 0 0 0 336.832 832h350.336a128 128 0 0 0 123.072-92.8l28.352-99.2H185.408"})]))}),Kb=Qn({name:"Shop",__name:"shop",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M704 704h64v192H256V704h64v64h384zm188.544-152.192C894.528 559.616 896 567.616 896 576a96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0c0-8.384 1.408-16.384 3.392-24.192L192 128h640z"})]))}),Yb=Qn({name:"ShoppingBag",__name:"shopping-bag",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M704 320v96a32 32 0 0 1-32 32h-32V320H384v128h-32a32 32 0 0 1-32-32v-96H192v576h640V320zm-384-64a192 192 0 1 1 384 0h160a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32zm64 0h256a128 128 0 1 0-256 0"}),Ui("path",{fill:"currentColor",d:"M192 704h640v64H192z"})]))}),Xb=Qn({name:"ShoppingCartFull",__name:"shopping-cart-full",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96m320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96M96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128zm314.24 576h395.904l82.304-384H333.44l76.8 384z"}),Ui("path",{fill:"currentColor",d:"M699.648 256 608 145.984 516.352 256h183.296zm-140.8-151.04a64 64 0 0 1 98.304 0L836.352 320H379.648l179.2-215.04"})]))}),$b=Qn({name:"ShoppingCart",__name:"shopping-cart",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96m320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96M96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128zm314.24 576h395.904l82.304-384H333.44l76.8 384z"})]))}),Jb=Qn({name:"ShoppingTrolley",__name:"shopping-trolley",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M368 833c-13.3 0-24.5 4.5-33.5 13.5S321 866.7 321 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S415 893.3 415 880s-4.5-24.5-13.5-33.5S381.3 833 368 833m439-193c7.4 0 13.8-2.2 19.5-6.5S836 623.3 838 616l112-448c2-10-.2-19.2-6.5-27.5S929 128 919 128H96c-9.3 0-17 3-23 9s-9 13.7-9 23 3 17 9 23 13.7 9 23 9h96v576h672c9.3 0 17-3 23-9s9-13.7 9-23-3-17-9-23-13.7-9-23-9H256v-64zM256 192h622l-96 384H256zm432 641c-13.3 0-24.5 4.5-33.5 13.5S641 866.7 641 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S735 893.3 735 880s-4.5-24.5-13.5-33.5S701.3 833 688 833"})]))}),Zb=Qn({name:"Smoking",__name:"smoking",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 576v128h640V576zm-32-64h704a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M704 576h64v128h-64zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"})]))}),Qb=Qn({name:"Soccer",__name:"soccer",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M418.496 871.04 152.256 604.8c-16.512 94.016-2.368 178.624 42.944 224 44.928 44.928 129.344 58.752 223.296 42.24m72.32-18.176a573.056 573.056 0 0 0 224.832-137.216 573.12 573.12 0 0 0 137.216-224.832L533.888 171.84a578.56 578.56 0 0 0-227.52 138.496A567.68 567.68 0 0 0 170.432 532.48l320.384 320.384zM871.04 418.496c16.512-93.952 2.688-178.368-42.24-223.296-44.544-44.544-128.704-58.048-222.592-41.536zM149.952 874.048c-112.96-112.96-88.832-408.96 111.168-608.96C461.056 65.152 760.96 36.928 874.048 149.952c113.024 113.024 86.784 411.008-113.152 610.944-199.936 199.936-497.92 226.112-610.944 113.152m452.544-497.792 22.656-22.656a32 32 0 0 1 45.248 45.248l-22.656 22.656 45.248 45.248A32 32 0 1 1 647.744 512l-45.248-45.248L557.248 512l45.248 45.248a32 32 0 1 1-45.248 45.248L512 557.248l-45.248 45.248L512 647.744a32 32 0 1 1-45.248 45.248l-45.248-45.248-22.656 22.656a32 32 0 1 1-45.248-45.248l22.656-22.656-45.248-45.248A32 32 0 1 1 376.256 512l45.248 45.248L466.752 512l-45.248-45.248a32 32 0 1 1 45.248-45.248L512 466.752l45.248-45.248L512 376.256a32 32 0 0 1 45.248-45.248l45.248 45.248z"})]))}),eT=Qn({name:"SoldOut",__name:"sold-out",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 476.16a32 32 0 1 1 45.248 45.184l-128 128a32 32 0 0 1-45.248 0l-128-128a32 32 0 1 1 45.248-45.248L704 837.504V608a32 32 0 1 1 64 0v229.504l73.408-73.408z"})]))}),tT=Qn({name:"SortDown",__name:"sort-down",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}),nT=Qn({name:"SortUp",__name:"sort-up",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}),rT=Qn({name:"Sort",__name:"sort",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M384 96a32 32 0 0 1 64 0v786.752a32 32 0 0 1-54.592 22.656L95.936 608a32 32 0 0 1 0-45.312h.128a32 32 0 0 1 45.184 0L384 805.632zm192 45.248a32 32 0 0 1 54.592-22.592L928.064 416a32 32 0 0 1 0 45.312h-.128a32 32 0 0 1-45.184 0L640 218.496V928a32 32 0 1 1-64 0V141.248z"})]))}),oT=Qn({name:"Stamp",__name:"stamp",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M624 475.968V640h144a128 128 0 0 1 128 128H128a128 128 0 0 1 128-128h144V475.968a192 192 0 1 1 224 0M128 896v-64h768v64z"})]))}),iT=Qn({name:"StarFilled",__name:"star-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}),aT=Qn({name:"Star",__name:"star",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}),sT=Qn({name:"Stopwatch",__name:"stopwatch",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Ui("path",{fill:"currentColor",d:"M672 234.88c-39.168 174.464-80 298.624-122.688 372.48-64 110.848-202.624 30.848-138.624-80C453.376 453.44 540.48 355.968 672 234.816z"})]))}),cT=Qn({name:"SuccessFilled",__name:"success-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}),lT=Qn({name:"Sugar",__name:"sugar",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m801.728 349.184 4.48 4.48a128 128 0 0 1 0 180.992L534.656 806.144a128 128 0 0 1-181.056 0l-4.48-4.48-19.392 109.696a64 64 0 0 1-108.288 34.176L78.464 802.56a64 64 0 0 1 34.176-108.288l109.76-19.328-4.544-4.544a128 128 0 0 1 0-181.056l271.488-271.488a128 128 0 0 1 181.056 0l4.48 4.48 19.392-109.504a64 64 0 0 1 108.352-34.048l142.592 143.04a64 64 0 0 1-34.24 108.16l-109.248 19.2zm-548.8 198.72h447.168v2.24l60.8-60.8a63.808 63.808 0 0 0 18.752-44.416h-426.88l-89.664 89.728a64.064 64.064 0 0 0-10.24 13.248zm0 64c2.752 4.736 6.144 9.152 10.176 13.248l135.744 135.744a64 64 0 0 0 90.496 0L638.4 611.904zm490.048-230.976L625.152 263.104a64 64 0 0 0-90.496 0L416.768 380.928zM123.712 757.312l142.976 142.976 24.32-137.6a25.6 25.6 0 0 0-29.696-29.632l-137.6 24.256zm633.6-633.344-24.32 137.472a25.6 25.6 0 0 0 29.632 29.632l137.28-24.064-142.656-143.04z"})]))}),uT=Qn({name:"SuitcaseLine",__name:"suitcase-line",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M922.5 229.5c-24.32-24.34-54.49-36.84-90.5-37.5H704v-64c-.68-17.98-7.02-32.98-19.01-44.99S658.01 64.66 640 64H384c-17.98.68-32.98 7.02-44.99 19.01S320.66 110 320 128v64H192c-35.99.68-66.16 13.18-90.5 37.5C77.16 253.82 64.66 283.99 64 320v448c.68 35.99 13.18 66.16 37.5 90.5s54.49 36.84 90.5 37.5h640c35.99-.68 66.16-13.18 90.5-37.5s36.84-54.49 37.5-90.5V320c-.68-35.99-13.18-66.16-37.5-90.5M384 128h256v64H384zM256 832h-64c-17.98-.68-32.98-7.02-44.99-19.01S128.66 786.01 128 768V448h128zm448 0H320V448h384zm192-64c-.68 17.98-7.02 32.98-19.01 44.99S850.01 831.34 832 832h-64V448h128zm0-384H128v-64c.69-17.98 7.02-32.98 19.01-44.99S173.99 256.66 192 256h640c17.98.69 32.98 7.02 44.99 19.01S895.34 301.99 896 320z"})]))}),dT=Qn({name:"Suitcase",__name:"suitcase",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 384h768v-64a64 64 0 0 0-64-64H192a64 64 0 0 0-64 64zm0 64v320a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V448zm64-256h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128"}),Ui("path",{fill:"currentColor",d:"M384 128v64h256v-64zm0-64h256a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64"})]))}),hT=Qn({name:"Sunny",__name:"sunny",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"})]))}),pT=Qn({name:"Sunrise",__name:"sunrise",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M32 768h960a32 32 0 1 1 0 64H32a32 32 0 1 1 0-64m129.408-96a352 352 0 0 1 701.184 0h-64.32a288 288 0 0 0-572.544 0h-64.32zM512 128a32 32 0 0 1 32 32v96a32 32 0 0 1-64 0v-96a32 32 0 0 1 32-32m407.296 168.704a32 32 0 0 1 0 45.248l-67.84 67.84a32 32 0 1 1-45.248-45.248l67.84-67.84a32 32 0 0 1 45.248 0zm-814.592 0a32 32 0 0 1 45.248 0l67.84 67.84a32 32 0 1 1-45.248 45.248l-67.84-67.84a32 32 0 0 1 0-45.248"})]))}),fT=Qn({name:"Sunset",__name:"sunset",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M82.56 640a448 448 0 1 1 858.88 0h-67.2a384 384 0 1 0-724.288 0zM32 704h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32m256 128h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}),mT=Qn({name:"SwitchButton",__name:"switch-button",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"}),Ui("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32"})]))}),gT=Qn({name:"SwitchFilled",__name:"switch-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M247.47 358.4v.04c.07 19.17 7.72 37.53 21.27 51.09s31.92 21.2 51.09 21.27c39.86 0 72.41-32.6 72.41-72.4s-32.6-72.36-72.41-72.36-72.36 32.55-72.36 72.36z"}),Ui("path",{fill:"currentColor",d:"M492.38 128H324.7c-52.16 0-102.19 20.73-139.08 57.61a196.655 196.655 0 0 0-57.61 139.08V698.7c-.01 25.84 5.08 51.42 14.96 75.29s24.36 45.56 42.63 63.83 39.95 32.76 63.82 42.65a196.67 196.67 0 0 0 75.28 14.98h167.68c3.03 0 5.46-2.43 5.46-5.42V133.42c.6-2.99-1.83-5.42-5.46-5.42zm-56.11 705.88H324.7c-17.76.13-35.36-3.33-51.75-10.18s-31.22-16.94-43.61-29.67c-25.3-25.35-39.81-59.1-39.81-95.32V324.69c-.13-17.75 3.33-35.35 10.17-51.74a131.695 131.695 0 0 1 29.64-43.62c25.39-25.3 59.14-39.81 95.36-39.81h111.57zm402.12-647.67a196.655 196.655 0 0 0-139.08-57.61H580.48c-3.03 0-4.82 2.43-4.82 4.82v757.16c-.6 2.99 1.79 5.42 5.42 5.42h118.23a196.69 196.69 0 0 0 139.08-57.61A196.655 196.655 0 0 0 896 699.31V325.29a196.69 196.69 0 0 0-57.61-139.08zm-111.3 441.92c-42.83 0-77.82-34.99-77.82-77.82s34.98-77.82 77.82-77.82c42.83 0 77.82 34.99 77.82 77.82s-34.99 77.82-77.82 77.82z"})]))}),vT=Qn({name:"Switch",__name:"switch",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32"})]))}),yT=Qn({name:"TakeawayBox",__name:"takeaway-box",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M832 384H192v448h640zM96 320h832V128H96zm800 64v480a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V384H64a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zM416 512h192a32 32 0 0 1 0 64H416a32 32 0 0 1 0-64"})]))}),_T=Qn({name:"Ticket",__name:"ticket",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M640 832H64V640a128 128 0 1 0 0-256V192h576v160h64V192h256v192a128 128 0 1 0 0 256v192H704V672h-64zm0-416v192h64V416z"})]))}),ET=Qn({name:"Tickets",__name:"tickets",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h192v64H320zm0 384h384v64H320z"})]))}),bT=Qn({name:"Timer",__name:"timer",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),Ui("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0m96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64z"})]))}),TT=Qn({name:"ToiletPaper",__name:"toilet-paper",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M595.2 128H320a192 192 0 0 0-192 192v576h384V352c0-90.496 32.448-171.2 83.2-224M736 64c123.712 0 224 128.96 224 288S859.712 640 736 640H576v320H64V320A256 256 0 0 1 320 64zM576 352v224h160c84.352 0 160-97.28 160-224s-75.648-224-160-224-160 97.28-160 224"}),Ui("path",{fill:"currentColor",d:"M736 448c-35.328 0-64-43.008-64-96s28.672-96 64-96 64 43.008 64 96-28.672 96-64 96"})]))}),ST=Qn({name:"Tools",__name:"tools",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0"})]))}),wT=Qn({name:"TopLeft",__name:"top-left",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M256 256h416a32 32 0 1 0 0-64H224a32 32 0 0 0-32 32v448a32 32 0 0 0 64 0z"}),Ui("path",{fill:"currentColor",d:"M246.656 201.344a32 32 0 0 0-45.312 45.312l544 544a32 32 0 0 0 45.312-45.312l-544-544z"})]))}),CT=Qn({name:"TopRight",__name:"top-right",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M768 256H353.6a32 32 0 1 1 0-64H800a32 32 0 0 1 32 32v448a32 32 0 0 1-64 0z"}),Ui("path",{fill:"currentColor",d:"M777.344 201.344a32 32 0 0 1 45.312 45.312l-544 544a32 32 0 0 1-45.312-45.312l544-544z"})]))}),RT=Qn({name:"Top",__name:"top",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z"})]))}),IT=Qn({name:"TrendCharts",__name:"trend-charts",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128 896V128h768v768zm291.712-327.296 128 102.4 180.16-201.792-47.744-42.624-139.84 156.608-128-102.4-180.16 201.792 47.744 42.624 139.84-156.608zM816 352a48 48 0 1 0-96 0 48 48 0 0 0 96 0"})]))}),AT=Qn({name:"TrophyBase",__name:"trophy-base",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M918.4 201.6c-6.4-6.4-12.8-9.6-22.4-9.6H768V96c0-9.6-3.2-16-9.6-22.4C752 67.2 745.6 64 736 64H288c-9.6 0-16 3.2-22.4 9.6C259.2 80 256 86.4 256 96v96H128c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 16-9.6 22.4 3.2 108.8 25.6 185.6 64 224 34.4 34.4 77.56 55.65 127.65 61.99 10.91 20.44 24.78 39.25 41.95 56.41 40.86 40.86 91 65.47 150.4 71.9V768h-96c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h256c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6h-96V637.26c59.4-7.71 109.54-30.01 150.4-70.86 17.2-17.2 31.51-36.06 42.81-56.55 48.93-6.51 90.02-27.7 126.79-61.85 38.4-38.4 60.8-112 64-224 0-6.4-3.2-16-9.6-22.4zM256 438.4c-19.2-6.4-35.2-19.2-51.2-35.2-22.4-22.4-35.2-70.4-41.6-147.2H256zm390.4 80C608 553.6 566.4 576 512 576s-99.2-19.2-134.4-57.6C342.4 480 320 438.4 320 384V128h384v256c0 54.4-19.2 99.2-57.6 134.4m172.8-115.2c-16 16-32 25.6-51.2 35.2V256h92.8c-6.4 76.8-19.2 124.8-41.6 147.2zM768 896H256c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h512c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6"})]))}),OT=Qn({name:"Trophy",__name:"trophy",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M480 896V702.08A256.256 256.256 0 0 1 264.064 512h-32.64a96 96 0 0 1-91.968-68.416L93.632 290.88a76.8 76.8 0 0 1 73.6-98.88H256V96a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32v96h88.768a76.8 76.8 0 0 1 73.6 98.88L884.48 443.52A96 96 0 0 1 792.576 512h-32.64A256.256 256.256 0 0 1 544 702.08V896h128a32 32 0 1 1 0 64H352a32 32 0 1 1 0-64zm224-448V128H320v320a192 192 0 1 0 384 0m64 0h24.576a32 32 0 0 0 30.656-22.784l45.824-152.768A12.8 12.8 0 0 0 856.768 256H768zm-512 0V256h-88.768a12.8 12.8 0 0 0-12.288 16.448l45.824 152.768A32 32 0 0 0 231.424 448z"})]))}),NT=Qn({name:"TurnOff",__name:"turn-off",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"}),Ui("path",{fill:"currentColor",d:"M329.956 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454m0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088"})]))}),kT=Qn({name:"Umbrella",__name:"umbrella",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M320 768a32 32 0 1 1 64 0 64 64 0 0 0 128 0V512H64a448 448 0 1 1 896 0H576v256a128 128 0 1 1-256 0m570.688-320a384.128 384.128 0 0 0-757.376 0z"})]))}),DT=Qn({name:"Unlock",__name:"unlock",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"}),Ui("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104z"})]))}),xT=Qn({name:"UploadFilled",__name:"upload-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}),PT=Qn({name:"Upload",__name:"upload",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248z"})]))}),MT=Qn({name:"UserFilled",__name:"user-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0m544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"})]))}),LT=Qn({name:"User",__name:"user",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"})]))}),UT=Qn({name:"Van",__name:"van",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M128.896 736H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v96h164.544a32 32 0 0 1 31.616 27.136l54.144 352A32 32 0 0 1 922.688 736h-91.52a144 144 0 1 1-286.272 0H415.104a144 144 0 1 1-286.272 0zm23.36-64a143.872 143.872 0 0 1 239.488 0H568.32c17.088-25.6 42.24-45.376 71.744-55.808V256H128v416zm655.488 0h77.632l-19.648-128H704v64.896A144 144 0 0 1 807.744 672m48.128-192-14.72-96H704v96h151.872M688 832a80 80 0 1 0 0-160 80 80 0 0 0 0 160m-416 0a80 80 0 1 0 0-160 80 80 0 0 0 0 160"})]))}),jT=Qn({name:"VideoCameraFilled",__name:"video-camera-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m768 576 192-64v320l-192-64v96a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V480a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zM192 768v64h384v-64zm192-480a160 160 0 0 1 320 0 160 160 0 0 1-320 0m64 0a96 96 0 1 0 192.064-.064A96 96 0 0 0 448 288m-320 32a128 128 0 1 1 256.064.064A128 128 0 0 1 128 320m64 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0"})]))}),VT=Qn({name:"VideoCamera",__name:"video-camera",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M704 768V256H128v512zm64-416 192-96v512l-192-96v128a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 71.552v176.896l128 64V359.552zM192 320h192v64H192z"})]))}),BT=Qn({name:"VideoPause",__name:"video-pause",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32m192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32"})]))}),zT=Qn({name:"VideoPlay",__name:"video-play",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-48-247.616L668.608 512 464 375.616zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"})]))}),FT=Qn({name:"View",__name:"view",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}),HT=Qn({name:"WalletFilled",__name:"wallet-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M688 512a112 112 0 1 0 0 224h208v160H128V352h768v160zm32 160h-32a48 48 0 0 1 0-96h32a48 48 0 0 1 0 96m-80-544 128 160H384z"})]))}),GT=Qn({name:"Wallet",__name:"wallet",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M640 288h-64V128H128v704h384v32a32 32 0 0 0 32 32H96a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h512a32 32 0 0 1 32 32z"}),Ui("path",{fill:"currentColor",d:"M128 320v512h768V320zm-32-64h832a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M704 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128"})]))}),WT=Qn({name:"WarnTriangleFilled",__name:"warn-triangle-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49 12.91-20.12 12.92-44.91.01-65.03M554.67 768h-85.33v-85.33h85.33zm0-426.67v298.66h-85.33V341.32z"})]))}),qT=Qn({name:"WarningFilled",__name:"warning-filled",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}),KT=Qn({name:"Warning",__name:"warning",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0m-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"})]))}),YT=Qn({name:"Watch",__name:"watch",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M512 768a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),Ui("path",{fill:"currentColor",d:"M480 352a32 32 0 0 1 32 32v160a32 32 0 0 1-64 0V384a32 32 0 0 1 32-32"}),Ui("path",{fill:"currentColor",d:"M480 512h128q32 0 32 32t-32 32H480q-32 0-32-32t32-32m128-256V128H416v128h-64V64h320v192zM416 768v128h192V768h64v192H352V768z"})]))}),XT=Qn({name:"Watermelon",__name:"watermelon",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m683.072 600.32-43.648 162.816-61.824-16.512 53.248-198.528L576 493.248l-158.4 158.4-45.248-45.248 158.4-158.4-55.616-55.616-198.528 53.248-16.512-61.824 162.816-43.648L282.752 200A384 384 0 0 0 824 741.248zm231.552 141.056a448 448 0 1 1-632-632l632 632"})]))}),$T=Qn({name:"WindPower",__name:"wind-power",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"M160 64q32 0 32 32v832q0 32-32 32t-32-32V96q0-32 32-32m416 354.624 128-11.584V168.96l-128-11.52v261.12zm-64 5.824V151.552L320 134.08V160h-64V64l616.704 56.064A96 96 0 0 1 960 215.68v144.64a96 96 0 0 1-87.296 95.616L256 512V224h64v217.92zm256-23.232 98.88-8.96A32 32 0 0 0 896 360.32V215.68a32 32 0 0 0-29.12-31.872l-98.88-8.96z"})]))}),JT=Qn({name:"ZoomIn",__name:"zoom-in",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}),ZT=Qn({name:"ZoomOut",__name:"zoom-out",setup:e=>(e,t)=>(Ri(),ki("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ui("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))});const QT=Object.freeze(Object.defineProperty({__proto__:null,AddLocation:Zp,Aim:ef,AlarmClock:nf,Apple:of,ArrowDown:lf,ArrowDownBold:sf,ArrowLeft:pf,ArrowLeftBold:df,ArrowRight:vf,ArrowRightBold:mf,ArrowUp:bf,ArrowUpBold:_f,Avatar:Sf,Back:Cf,Baseball:If,Basketball:Of,Bell:xf,BellFilled:kf,Bicycle:Mf,Bottom:zf,BottomLeft:Uf,BottomRight:Vf,Bowl:Hf,Box:Wf,Briefcase:Kf,Brush:Jf,BrushFilled:Xf,Burger:Qf,Calendar:tm,Camera:im,CameraFilled:rm,CaretBottom:sm,CaretLeft:lm,CaretRight:dm,CaretTop:pm,Cellphone:mm,ChatDotRound:vm,ChatDotSquare:_m,ChatLineRound:bm,ChatLineSquare:Sm,ChatRound:Cm,ChatSquare:Im,Check:Om,Checked:km,Cherry:xm,Chicken:Mm,ChromeFilled:Um,CircleCheck:zm,CircleCheckFilled:Vm,CircleClose:Wm,CircleCloseFilled:Hm,CirclePlus:Xm,CirclePlusFilled:Km,Clock:Jm,Close:tg,CloseBold:Qm,Cloudy:rg,Coffee:sg,CoffeeCup:ig,Coin:lg,ColdDrink:dg,Collection:mg,CollectionTag:pg,Comment:vg,Compass:_g,Connection:bg,Coordinate:Sg,CopyDocument:Cg,Cpu:Ig,CreditCard:Og,Crop:kg,DArrowLeft:xg,DArrowRight:Mg,DCaret:Ug,DataAnalysis:Vg,DataBoard:zg,DataLine:Hg,Delete:Xg,DeleteFilled:Wg,DeleteLocation:Kg,Dessert:Jg,Discount:Qg,Dish:rv,DishDot:tv,Document:mv,DocumentAdd:iv,DocumentChecked:sv,DocumentCopy:lv,DocumentDelete:dv,DocumentRemove:pv,Download:vv,Drizzling:_v,Edit:Sv,EditPen:bv,Eleme:Iv,ElemeFilled:Cv,ElementPlus:Ov,Expand:kv,Failed:xv,Female:Mv,Files:Uv,Film:Vv,Filter:zv,Finished:Hv,FirstAidKit:Wv,Flag:Kv,Fold:Xv,Folder:sy,FolderAdd:Jv,FolderChecked:Qv,FolderDelete:ty,FolderOpened:ry,FolderRemove:iy,Food:ly,Football:dy,ForkSpoon:py,Fries:gy,FullScreen:yy,Goblet:Ry,GobletFull:Ey,GobletSquare:wy,GobletSquareFull:Ty,GoldMedal:Ay,Goods:Dy,GoodsFilled:Ny,Grape:Py,Grid:Ly,Guide:jy,Handbag:By,Headset:Fy,Help:qy,HelpFilled:Gy,Hide:Yy,Histogram:$y,HomeFilled:Zy,HotWater:e_,House:n_,IceCream:c_,IceCreamRound:o_,IceCreamSquare:a_,IceDrink:u_,IceTea:h_,InfoFilled:f_,Iphone:g_,Key:y_,KnifeFork:E_,Lightning:T_,Link:w_,List:R_,Loading:A_,Location:P_,LocationFilled:N_,LocationInformation:D_,Lock:L_,Lollipop:j_,MagicStick:B_,Magnet:F_,Male:G_,Management:q_,MapLocation:Y_,Medal:$_,Memo:Z_,Menu:eE,Message:oE,MessageBox:nE,Mic:aE,Microphone:cE,MilkTea:uE,Minus:hE,Money:fE,Monitor:gE,Moon:EE,MoonNight:yE,More:wE,MoreFilled:TE,MostlyCloudy:RE,Mouse:AE,Mug:NE,Mute:PE,MuteNotification:DE,NoSmoking:LE,Notebook:jE,Notification:BE,Odometer:FE,OfficeBuilding:GE,Open:qE,Operation:YE,Opportunity:$E,Orange:ZE,Paperclip:eb,PartlyCloudy:nb,Pear:ob,Phone:sb,PhoneFilled:ab,Picture:ub,PictureFilled:cb,PictureRounded:lb,PieChart:db,Place:hb,Platform:pb,Plus:fb,Pointer:mb,Position:gb,Postcard:vb,Pouring:yb,Present:_b,PriceTag:Eb,Printer:bb,Promotion:Tb,QuartzWatch:Sb,QuestionFilled:wb,Rank:Cb,Reading:Ib,ReadingLamp:Rb,Refresh:Nb,RefreshLeft:Ab,RefreshRight:Ob,Refrigerator:kb,Remove:xb,RemoveFilled:Db,Right:Pb,ScaleToOriginal:Mb,School:Lb,Scissor:Ub,Search:jb,Select:Vb,Sell:Bb,SemiSelect:zb,Service:Fb,SetUp:Hb,Setting:Gb,Share:Wb,Ship:qb,Shop:Kb,ShoppingBag:Yb,ShoppingCart:$b,ShoppingCartFull:Xb,ShoppingTrolley:Jb,Smoking:Zb,Soccer:Qb,SoldOut:eT,Sort:rT,SortDown:tT,SortUp:nT,Stamp:oT,Star:aT,StarFilled:iT,Stopwatch:sT,SuccessFilled:cT,Sugar:lT,Suitcase:dT,SuitcaseLine:uT,Sunny:hT,Sunrise:pT,Sunset:fT,Switch:vT,SwitchButton:mT,SwitchFilled:gT,TakeawayBox:yT,Ticket:_T,Tickets:ET,Timer:bT,ToiletPaper:TT,Tools:ST,Top:RT,TopLeft:wT,TopRight:CT,TrendCharts:IT,Trophy:OT,TrophyBase:AT,TurnOff:NT,Umbrella:kT,Unlock:DT,Upload:PT,UploadFilled:xT,User:LT,UserFilled:MT,Van:UT,VideoCamera:VT,VideoCameraFilled:jT,VideoPause:BT,VideoPlay:zT,View:FT,Wallet:GT,WalletFilled:HT,WarnTriangleFilled:WT,Warning:KT,WarningFilled:qT,Watch:YT,Watermelon:XT,WindPower:$T,ZoomIn:JT,ZoomOut:ZT},Symbol.toStringTag,{value:"Module"})),eS="__epPropKey",tS=e=>e,nS=(e,t)=>{if(!y(e)||y(n=e)&&n[eS])return e;var n;const{values:r,required:o,default:i,type:a,validator:s}=e,c=r||s?n=>{let o=!1,a=[];if(r&&(a=Array.from(r),u(e,"default")&&a.push(i),o||(o=a.includes(n))),s&&(o||(o=s(n))),!o&&a.length>0){const e=[...new Set(a)].map((e=>JSON.stringify(e))).join(", ");_a(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${e}], got value ${JSON.stringify(n)}.`)}return o}:void 0,l={type:a,required:!!o,validator:c,[eS]:!0};return u(e,"default")&&(l.default=i),l},rS=e=>pp(Object.entries(e).map((([e,t])=>[e,nS(t,e)]))),oS=[String,Object,Function],iS={Close:tg},aS={Close:tg,SuccessFilled:cT,InfoFilled:f_,WarningFilled:qT,CircleCloseFilled:Hm},sS={success:cT,warning:qT,error:Hm,info:f_},cS={validating:A_,success:zm,error:Wm},lS=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(null!=t?t:{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},uS=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),dS=e=>(e.install=r,e),hS=(...e)=>t=>{e.forEach((e=>{m(e)?e(t):e.value=t}))},pS={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},fS=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],mS=["sun","mon","tue","wed","thu","fri","sat"],gS="update:modelValue",vS="change",yS="input",_S=["","default","small","large"],ES=e=>["",..._S].includes(e);var bS=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(bS||{});function TS(e){return xi(e)&&e.type===Ei}function SS(e){return xi(e)&&!TS(e)&&!function(e){return xi(e)&&e.type===Ti}(e)}const wS=e=>{if(!xi(e))return{};const t=e.props||{},n=(xi(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach((e=>{u(n[e],"default")&&(r[e]=n[e].default)})),Object.keys(t).forEach((e=>{r[A(e)]=t[e]})),r},CS=e=>{const t=d(e)?e:[e],n=[];return t.forEach((e=>{var t;d(e)?n.push(...CS(e)):xi(e)&&(null==(t=e.component)?void 0:t.subTree)?n.push(e,...CS(e.component.subTree)):xi(e)&&d(e.children)?n.push(...CS(e.children)):n.push(e)})),n},RS=e=>[...new Set(e)],IS=e=>e||0===e?d(e)?e:[e]:[],AS=e=>e,OS=["class","style"],NS=/^on[A-Z]/,kS=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=ma((()=>((null==n?void 0:n.value)||[]).concat(OS))),o=Qi();return ma(o?()=>{var e;return pp(Object.entries(null==(e=o.proxy)?void 0:e.$attrs).filter((([e])=>!(r.value.includes(e)||t&&NS.test(e)))))}:()=>({}))},DS=({from:e,replacement:t,scope:n,version:r,ref:o,type:i="API"},a)=>{Zo((()=>Lt(a)),(e=>{}),{immediate:!0})},xS=(e,t,n,r)=>{let o={offsetX:0,offsetY:0};const i=t=>{const n=t.clientX,i=t.clientY,{offsetX:a,offsetY:s}=o,c=e.value.getBoundingClientRect(),l=c.left,u=c.top,d=c.width,h=c.height,p=document.documentElement.clientWidth,f=document.documentElement.clientHeight,m=-l+a,g=-u+s,v=p-l-d+a,y=f-u-h+s,_=t=>{let c=a+t.clientX-n,l=s+t.clientY-i;(null==r?void 0:r.value)||(c=Math.min(Math.max(c,m),v),l=Math.min(Math.max(l,g),y)),o={offsetX:c,offsetY:l},e.value&&(e.value.style.transform=`translate(${qp(c)}, ${qp(l)})`)},E=()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",E)};document.addEventListener("mousemove",_),document.addEventListener("mouseup",E)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",i)};return Ir((()=>{$o((()=>{n.value?t.value&&e.value&&t.value.addEventListener("mousedown",i):a()}))})),Nr((()=>{a()})),{resetPosition:()=>{o={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")}}};var PS={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const MS=e=>(t,n)=>LS(t,n,Lt(e)),LS=(e,t,n)=>Sd(n,e,e).replace(/\{(\w+)\}/g,((e,n)=>{var r;return`${null!=(r=null==t?void 0:t[n])?r:`{${n}}`}`})),US=e=>({lang:ma((()=>Lt(e).name)),locale:kt(e)?e:Dt(e),t:MS(e)}),jS=Symbol("localeContextKey"),VS=e=>{const t=e||To(jS,Dt());return US(ma((()=>t.value||PS)))},BS="el",zS=(e,t,n,r,o)=>{let i=`${e}-${t}`;return n&&(i+=`-${n}`),r&&(i+=`__${r}`),o&&(i+=`--${o}`),i},FS=Symbol("namespaceContextKey"),HS=e=>{const t=e||(Qi()?To(FS,Dt(BS)):Dt(BS));return ma((()=>Lt(t)||BS))},GS=(e,t)=>{const n=HS(t);return{namespace:n,b:(t="")=>zS(n.value,e,t,"",""),e:t=>t?zS(n.value,e,"",t,""):"",m:t=>t?zS(n.value,e,"","",t):"",be:(t,r)=>t&&r?zS(n.value,e,t,r,""):"",em:(t,r)=>t&&r?zS(n.value,e,"",t,r):"",bm:(t,r)=>t&&r?zS(n.value,e,t,"",r):"",bem:(t,r,o)=>t&&r&&o?zS(n.value,e,t,r,o):"",is:(e,...t)=>{const n=!(t.length>=1)||t[0];return e&&n?`is-${e}`:""},cssVar:e=>{const t={};for(const r in e)e[r]&&(t[`--${n.value}-${r}`]=e[r]);return t},cssVarName:e=>`--${n.value}-${e}`,cssVarBlock:t=>{const r={};for(const o in t)t[o]&&(r[`--${n.value}-${e}-${o}`]=t[o]);return r},cssVarBlockName:t=>`--${n.value}-${e}-${t}`}},WS=(e,t={})=>{kt(e)||Vp("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||GS("popup"),r=ma((()=>n.bm("parent","hidden")));if(!Oc||Fp(document.body,r.value))return;let o=0,i=!1,a="0";const s=()=>{setTimeout((()=>{"undefined"!=typeof document&&(Gp(null==document?void 0:document.body,r.value),i&&document&&(document.body.style.width=a))}),200)};Zo(e,(e=>{if(!e)return void s();i=!Fp(document.body,r.value),i&&(a=document.body.style.width),o=Xp(n.namespace.value);const t=document.documentElement.clientHeight<document.body.scrollHeight,c=Wp(document.body,"overflowY");o>0&&(t||"scroll"===c)&&i&&(document.body.style.width=`calc(100% - ${o}px)`),Hp(document.body,r.value)})),ce((()=>s()))},qS=nS({type:Boolean,default:null}),KS=nS({type:Function}),YS=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t];return{useModelToggle:({indicator:r,toggleReason:o,shouldHideWhenRouteChanges:i,shouldProceed:a,onShow:s,onHide:c})=>{const l=Qi(),{emit:u}=l,d=l.props,h=ma((()=>m(d[n]))),p=ma((()=>null===d[e])),f=e=>{!0!==r.value&&(r.value=!0,o&&(o.value=e),m(s)&&s(e))},g=e=>{!1!==r.value&&(r.value=!1,o&&(o.value=e),m(c)&&c(e))},v=e=>{if(!0===d.disabled||m(a)&&!a())return;const n=h.value&&Oc;n&&u(t,!0),!p.value&&n||f(e)},y=e=>{if(!0===d.disabled||!Oc)return;const n=h.value&&Oc;n&&u(t,!1),!p.value&&n||g(e)},_=e=>{Rp(e)&&(d.disabled&&e?h.value&&u(t,!1):r.value!==e&&(e?f():g()))};return Zo((()=>d[e]),_),i&&void 0!==l.appContext.config.globalProperties.$route&&Zo((()=>({...l.proxy.$route})),(()=>{i.value&&r.value&&y()})),Ir((()=>{_(d[e])})),{hide:y,show:v,toggle:()=>{r.value?y():v()},hasUpdateHandler:h}},useModelToggleProps:{[e]:qS,[n]:KS},useModelToggleEmits:r}},XS=e=>{const t=Qi();return ma((()=>{var n,r;return null==(r=null==(n=null==t?void 0:t.proxy)?void 0:n.$props)?void 0:r[e]}))};var $S="top",JS="bottom",ZS="right",QS="left",ew="auto",tw=[$S,JS,ZS,QS],nw="start",rw="end",ow="viewport",iw="popper",aw=tw.reduce((function(e,t){return e.concat([t+"-"+nw,t+"-"+rw])}),[]),sw=[].concat(tw,[ew]).reduce((function(e,t){return e.concat([t,t+"-"+nw,t+"-"+rw])}),[]),cw=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function lw(e){return e?(e.nodeName||"").toLowerCase():null}function uw(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function dw(e){return e instanceof uw(e).Element||e instanceof Element}function hw(e){return e instanceof uw(e).HTMLElement||e instanceof HTMLElement}function pw(e){return"undefined"!=typeof ShadowRoot&&(e instanceof uw(e).ShadowRoot||e instanceof ShadowRoot)}var fw={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];!hw(o)||!lw(o)||(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});!hw(r)||!lw(r)||(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function mw(e){return e.split("-")[0]}var gw=Math.max,vw=Math.min,yw=Math.round;function _w(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(hw(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=yw(n.width)/a||1),i>0&&(o=yw(n.height)/i||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function Ew(e){var t=_w(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function bw(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&pw(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Tw(e){return uw(e).getComputedStyle(e)}function Sw(e){return["table","td","th"].indexOf(lw(e))>=0}function ww(e){return((dw(e)?e.ownerDocument:e.document)||window.document).documentElement}function Cw(e){return"html"===lw(e)?e:e.assignedSlot||e.parentNode||(pw(e)?e.host:null)||ww(e)}function Rw(e){return hw(e)&&"fixed"!==Tw(e).position?e.offsetParent:null}function Iw(e){for(var t=uw(e),n=Rw(e);n&&Sw(n)&&"static"===Tw(n).position;)n=Rw(n);return n&&("html"===lw(n)||"body"===lw(n)&&"static"===Tw(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&hw(e)&&"fixed"===Tw(e).position)return null;var n=Cw(e);for(pw(n)&&(n=n.host);hw(n)&&["html","body"].indexOf(lw(n))<0;){var r=Tw(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Aw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ow(e,t,n){return gw(e,vw(t,n))}function Nw(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function kw(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Dw={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=mw(n.placement),c=Aw(s),l=[QS,ZS].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return Nw("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:kw(e,tw))}(o.padding,n),d=Ew(i),h="y"===c?$S:QS,p="y"===c?JS:ZS,f=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],m=a[c]-n.rects.reference[c],g=Iw(i),v=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,_=u[h],E=v-d[l]-u[p],b=v/2-d[l]/2+y,T=Ow(_,b,E),S=c;n.modifiersData[r]=((t={})[S]=T,t.centerOffset=T-b,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||!bw(t.elements.popper,r)||(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xw(e){return e.split("-")[1]}var Pw={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mw(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,p=void 0===h?0:h,f=a.y,m=void 0===f?0:f,g="function"==typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),_=QS,E=$S,b=window;if(l){var T=Iw(n),S="clientHeight",w="clientWidth";if(T===uw(n)&&("static"!==Tw(T=ww(n)).position&&"absolute"===s&&(S="scrollHeight",w="scrollWidth")),o===$S||(o===QS||o===ZS)&&i===rw)E=JS,m-=(d&&T===b&&b.visualViewport?b.visualViewport.height:T[S])-r.height,m*=c?1:-1;if(o===QS||(o===$S||o===JS)&&i===rw)_=ZS,p-=(d&&T===b&&b.visualViewport?b.visualViewport.width:T[w])-r.width,p*=c?1:-1}var C,R=Object.assign({position:s},l&&Pw),I=!0===u?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:yw(t*r)/r||0,y:yw(n*r)/r||0}}({x:p,y:m}):{x:p,y:m};return p=I.x,m=I.y,c?Object.assign({},R,((C={})[E]=y?"0":"",C[_]=v?"0":"",C.transform=(b.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",C)):Object.assign({},R,((t={})[E]=y?m+"px":"",t[_]=v?p+"px":"",t.transform="",t))}var Lw={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,c=void 0===s||s,l={placement:mw(t.placement),variation:xw(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Mw(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Mw(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Uw={passive:!0};var jw={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,c=uw(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",n.update,Uw)})),s&&c.addEventListener("resize",n.update,Uw),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Uw)})),s&&c.removeEventListener("resize",n.update,Uw)}},data:{}},Vw={left:"right",right:"left",bottom:"top",top:"bottom"};function Bw(e){return e.replace(/left|right|bottom|top/g,(function(e){return Vw[e]}))}var zw={start:"end",end:"start"};function Fw(e){return e.replace(/start|end/g,(function(e){return zw[e]}))}function Hw(e){var t=uw(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Gw(e){return _w(ww(e)).left+Hw(e).scrollLeft}function Ww(e){var t=Tw(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function qw(e){return["html","body","#document"].indexOf(lw(e))>=0?e.ownerDocument.body:hw(e)&&Ww(e)?e:qw(Cw(e))}function Kw(e,t){var n;void 0===t&&(t=[]);var r=qw(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=uw(r),a=o?[i].concat(i.visualViewport||[],Ww(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Kw(Cw(a)))}function Yw(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xw(e,t){return t===ow?Yw(function(e){var t=uw(e),n=ww(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,s=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:o,height:i,x:a+Gw(e),y:s}}(e)):dw(t)?function(e){var t=_w(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Yw(function(e){var t,n=ww(e),r=Hw(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=gw(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=gw(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+Gw(e),c=-r.scrollTop;return"rtl"===Tw(o||n).direction&&(s+=gw(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}(ww(e)))}function $w(e,t,n){var r="clippingParents"===t?function(e){var t=Kw(Cw(e)),n=["absolute","fixed"].indexOf(Tw(e).position)>=0&&hw(e)?Iw(e):e;return dw(n)?t.filter((function(e){return dw(e)&&bw(e,n)&&"body"!==lw(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(t,n){var r=Xw(e,n);return t.top=gw(r.top,t.top),t.right=vw(r.right,t.right),t.bottom=vw(r.bottom,t.bottom),t.left=gw(r.left,t.left),t}),Xw(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Jw(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?mw(o):null,a=o?xw(o):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case $S:t={x:s,y:n.y-r.height};break;case JS:t={x:s,y:n.y+n.height};break;case ZS:t={x:n.x+n.width,y:c};break;case QS:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=i?Aw(i):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case nw:t[l]=t[l]-(n[u]/2-r[u]/2);break;case rw:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}function Zw(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.boundary,a=void 0===i?"clippingParents":i,s=n.rootBoundary,c=void 0===s?ow:s,l=n.elementContext,u=void 0===l?iw:l,d=n.altBoundary,h=void 0!==d&&d,p=n.padding,f=void 0===p?0:p,m=Nw("number"!=typeof f?f:kw(f,tw)),g=u===iw?"reference":iw,v=e.rects.popper,y=e.elements[h?g:u],_=$w(dw(y)?y:y.contextElement||ww(e.elements.popper),a,c),E=_w(e.elements.reference),b=Jw({reference:E,element:v,strategy:"absolute",placement:o}),T=Yw(Object.assign({},v,b)),S=u===iw?T:E,w={top:_.top-S.top+m.top,bottom:S.bottom-_.bottom+m.bottom,left:_.left-S.left+m.left,right:S.right-_.right+m.right},C=e.modifiersData.offset;if(u===iw&&C){var R=C[o];Object.keys(w).forEach((function(e){var t=[ZS,JS].indexOf(e)>=0?1:-1,n=[$S,JS].indexOf(e)>=0?"y":"x";w[e]+=R[n]*t}))}return w}var Qw={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=mw(g),y=c||(v===g||!f?[Bw(g)]:function(e){if(mw(e)===ew)return[];var t=Bw(e);return[Fw(e),t,Fw(t)]}(g)),_=[g].concat(y).reduce((function(e,n){return e.concat(mw(n)===ew?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?sw:c,u=xw(r),d=u?s?aw:aw.filter((function(e){return xw(e)===u})):tw,h=d.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=Zw(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[mw(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),E=t.rects.reference,b=t.rects.popper,T=new Map,S=!0,w=_[0],C=0;C<_.length;C++){var R=_[C],I=mw(R),A=xw(R)===nw,O=[$S,JS].indexOf(I)>=0,N=O?"width":"height",k=Zw(t,{placement:R,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),D=O?A?ZS:QS:A?JS:$S;E[N]>b[N]&&(D=Bw(D));var x=Bw(D),P=[];if(i&&P.push(k[I]<=0),s&&P.push(k[D]<=0,k[x]<=0),P.every((function(e){return e}))){w=R,S=!1;break}T.set(R,P)}if(S)for(var M=function(e){var t=_.find((function(t){var n=T.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return w=t,"break"},L=f?3:1;L>0;L--){if("break"===M(L))break}t.placement!==w&&(t.modifiersData[r]._skip=!0,t.placement=w,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function eC(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function tC(e){return[$S,ZS,JS,QS].some((function(t){return e[t]>=0}))}var nC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Zw(t,{elementContext:"reference"}),s=Zw(t,{altBoundary:!0}),c=eC(a,r),l=eC(s,o,i),u=tC(c),d=tC(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var rC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=sw.reduce((function(e,n){return e[n]=function(e,t,n){var r=mw(e),o=[QS,$S].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[QS,ZS].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}};var oC={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Jw({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var iC={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=Zw(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),v=mw(t.placement),y=xw(t.placement),_=!y,E=Aw(v),b=function(e){return"x"===e?"y":"x"}(E),T=t.modifiersData.popperOffsets,S=t.rects.reference,w=t.rects.popper,C="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,R="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(T){if(i){var O,N="y"===E?$S:QS,k="y"===E?JS:ZS,D="y"===E?"height":"width",x=T[E],P=x+g[N],M=x-g[k],L=p?-w[D]/2:0,U=y===nw?S[D]:w[D],j=y===nw?-w[D]:-S[D],V=t.elements.arrow,B=p&&V?Ew(V):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},F=z[N],H=z[k],G=Ow(0,S[D],B[D]),W=_?S[D]/2-L-G-F-R.mainAxis:U-G-F-R.mainAxis,q=_?-S[D]/2+L+G+H+R.mainAxis:j+G+H+R.mainAxis,K=t.elements.arrow&&Iw(t.elements.arrow),Y=K?"y"===E?K.clientTop||0:K.clientLeft||0:0,X=null!=(O=null==I?void 0:I[E])?O:0,$=x+q-X,J=Ow(p?vw(P,x+W-X-Y):P,x,p?gw(M,$):M);T[E]=J,A[E]=J-x}if(s){var Z,Q="x"===E?$S:QS,ee="x"===E?JS:ZS,te=T[b],ne="y"===b?"height":"width",re=te+g[Q],oe=te-g[ee],ie=-1!==[$S,QS].indexOf(v),ae=null!=(Z=null==I?void 0:I[b])?Z:0,se=ie?re:te-S[ne]-w[ne]-ae+R.altAxis,ce=ie?te+S[ne]+w[ne]-ae-R.altAxis:oe,le=p&&ie?function(e,t,n){var r=Ow(e,t,n);return r>n?n:r}(se,te,ce):Ow(p?se:re,te,p?ce:oe);T[b]=le,A[b]=le-te}t.modifiersData[r]=A}},requiresIfExists:["offset"]};function aC(e,t,n){void 0===n&&(n=!1);var r=hw(t),o=hw(t)&&function(e){var t=e.getBoundingClientRect(),n=yw(t.width)/e.offsetWidth||1,r=yw(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=ww(t),a=_w(e,o),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==lw(t)||Ww(i))&&(s=function(e){return e!==uw(e)&&hw(e)?function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):Hw(e)}(t)),hw(t)?((c=_w(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Gw(i))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function sC(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function cC(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var lC={placement:"bottom",modifiers:[],strategy:"absolute"};function uC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function dC(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?lC:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},lC,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,c={state:o,setOptions:function(n){var s="function"==typeof n?n(o.options):n;l(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:dw(e)?Kw(e):e.contextElement?Kw(e.contextElement):[],popper:Kw(t)};var u=function(e){var t=sC(e);return cw.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var s=i({state:o,name:t,instance:c,options:r}),l=function(){};a.push(s||l)}})),c.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(uC(t,n)){o.rects={reference:aC(t,Iw(n),"fixed"===o.options.strategy),popper:Ew(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,l=i.options,u=void 0===l?{}:l,d=i.name;"function"==typeof a&&(o=a({state:o,options:u,name:d,instance:c})||o)}else o.reset=!1,r=-1}}},update:cC((function(){return new Promise((function(e){c.forceUpdate(),e(o)}))})),destroy:function(){l(),s=!0}};if(!uC(e,t))return c;function l(){a.forEach((function(e){return e()})),a=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}dC(),dC({defaultModifiers:[jw,oC,Lw,fw]});var hC=dC({defaultModifiers:[jw,oC,Lw,fw,rC,Qw,iC,Dw,nC]});const pC=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:e})=>{const t=function(e){const t=Object.keys(e.elements),n=pp(t.map((t=>[t,e.styles[t]||{}]))),r=pp(t.map((t=>[t,e.attributes[t]])));return{styles:n,attributes:r}}(e);Object.assign(a.value,t)},requires:["computeStyles"]},o=ma((()=>{const{onFirstUpdate:e,placement:t,strategy:o,modifiers:i}=Lt(n);return{onFirstUpdate:e,placement:t||"bottom",strategy:o||"absolute",modifiers:[...i||[],r,{name:"applyStyles",enabled:!1}]}})),i=xt(),a=Dt({styles:{popper:{position:Lt(o).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return Zo(o,(e=>{const t=Lt(i);t&&t.setOptions(e)}),{deep:!0}),Zo([e,t],(([e,t])=>{s(),e&&t&&(i.value=hC(e,t,Lt(o)))})),Nr((()=>{s()})),{state:ma((()=>{var e;return{...(null==(e=Lt(i))?void 0:e.state)||{}}})),styles:ma((()=>Lt(a).styles)),attributes:ma((()=>Lt(a).attributes)),update:()=>{var e;return null==(e=Lt(i))?void 0:e.update()},forceUpdate:()=>{var e;return null==(e=Lt(i))?void 0:e.forceUpdate()},instanceRef:ma((()=>Lt(i)))}};const fC=e=>{if(!e)return{onClick:r,onMousedown:r,onMouseup:r};let t=!1,n=!1;return{onClick:r=>{t&&n&&e(r),t=n=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{n=e.target===e.currentTarget}}};function mC(){let e;const t=()=>window.clearTimeout(e);return Mc((()=>t())),{registerTimeout:(n,r)=>{t(),e=window.setTimeout(n,r)},cancelTimeout:t}}const gC={prefix:Math.floor(1e4*Math.random()),current:0},vC=Symbol("elIdInjection"),yC=()=>Qi()?To(vC,gC):gC,_C=e=>{const t=yC(),n=HS();return Ac((()=>Lt(e)||`${n.value}-id-${t.prefix}-${t.current++}`))};let EC=[];const bC=e=>{e.code===pS.esc&&EC.forEach((t=>t(e)))},TC=e=>{Ir((()=>{0===EC.length&&document.addEventListener("keydown",bC),Oc&&EC.push(e)})),Nr((()=>{EC=EC.filter((t=>t!==e)),0===EC.length&&Oc&&document.removeEventListener("keydown",bC)}))},SC=()=>{const e=HS(),t=yC(),n=ma((()=>`${e.value}-popper-container-${t.prefix}`)),r=ma((()=>`#${n.value}`));return{id:n,selector:r}},wC=()=>{const{id:e,selector:t}=SC();return Rr((()=>{Oc&&(document.body.querySelector(t.value)||(e=>{const t=document.createElement("div");t.id=e,document.body.appendChild(t)})(e.value))})),{id:e,selector:t}},CC=rS({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),RC=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:o})=>{const{registerTimeout:i}=mC(),{registerTimeout:a,cancelTimeout:s}=mC();return{onOpen:t=>{i((()=>{r(t);const e=Lt(n);Ip(e)&&e>0&&a((()=>{o(t)}),e)}),Lt(e))},onClose:e=>{s(),i((()=>{o(e)}),Lt(t))}}},IC=Symbol("elForwardRef"),AC=e=>{bo(IC,{setForwardRef:t=>{e.value=t}})},OC=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),NC={current:0},kC=Dt(0),DC=2e3,xC=Symbol("elZIndexContextKey"),PC=Symbol("zIndexContextKey"),MC=e=>{const t=Qi()?To(xC,NC):NC,n=e||(Qi()?To(PC,void 0):void 0),r=ma((()=>{const e=Lt(n);return Ip(e)?e:DC})),o=ma((()=>r.value+kC.value));return!Oc&&To(xC),{initialZIndex:r,currentZIndex:o,nextZIndex:()=>(t.current++,kC.value=t.current,o.value)}};function LC(e){let t;return[function(){if(null==e.value)return;const{selectionStart:n,selectionEnd:r,value:o}=e.value;if(null==n||null==r)return;const i=o.slice(0,Math.max(0,n)),a=o.slice(Math.max(0,r));t={selectionStart:n,selectionEnd:r,value:o,beforeTxt:i,afterTxt:a}},function(){if(null==e.value||null==t)return;const{value:n}=e.value,{beforeTxt:r,afterTxt:o,selectionStart:i}=t;if(null==r||null==o||null==i)return;let a=n.length;if(n.endsWith(o))a=n.length-o.length;else if(n.startsWith(r))a=r.length;else{const e=r[i-1],t=n.indexOf(e,i-1);-1!==t&&(a=t+1)}e.value.setSelectionRange(a,a)}]}const UC=nS({type:String,values:_S,required:!1}),jC=Symbol("size"),VC=()=>{const e=To(jC,{});return ma((()=>Lt(e.size)||""))};function BC(e,{beforeFocus:t,afterFocus:n,beforeBlur:r,afterBlur:o}={}){const i=Qi(),{emit:a}=i,s=xt(),c=Dt(!1),l=e=>{!!m(t)&&t(e)||c.value||(c.value=!0,a("focus",e),null==n||n())},u=e=>{var t;!!m(r)&&r(e)||e.relatedTarget&&(null==(t=s.value)?void 0:t.contains(e.relatedTarget))||(c.value=!1,a("blur",e),null==o||o())};return Zo(s,(e=>{e&&e.setAttribute("tabindex","-1")})),Hc(s,"focus",l,!0),Hc(s,"blur",u,!0),Hc(s,"click",(()=>{var t,n;(null==(t=s.value)?void 0:t.contains(document.activeElement))&&s.value!==document.activeElement||null==(n=e.value)||n.focus()}),!0),{isFocused:c,wrapperRef:s,handleFocus:l,handleBlur:u}}function zC({afterComposition:e,emit:t}){const n=Dt(!1),r=e=>{var r;null==t||t("compositionupdate",e);const o=null==(r=e.target)?void 0:r.value,i=o[o.length-1]||"";n.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(i)},o=r=>{null==t||t("compositionend",r),n.value&&(n.value=!1,dn((()=>e(r))))};return{isComposing:n,handleComposition:e=>{"compositionend"===e.type?o(e):r(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),n.value=!0},handleCompositionUpdate:r,handleCompositionEnd:o}}const FC=Symbol("emptyValuesContextKey"),HC=["",void 0,null],GC=void 0,WC=rS({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>m(e)?!e():!e}}),qC=(e,t)=>{const n=Qi()?To(FC,Dt({})):Dt({}),r=ma((()=>e.emptyValues||n.value.emptyValues||HC)),o=ma((()=>m(e.valueOnClear)?e.valueOnClear():void 0!==e.valueOnClear?e.valueOnClear:m(n.value.valueOnClear)?n.value.valueOnClear():void 0!==n.value.valueOnClear?n.value.valueOnClear:void 0!==t?t:GC));return r.value.includes(o.value),{emptyValues:r,valueOnClear:o,isEmptyValue:e=>r.value.includes(e)}},KC=rS({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),YC=e=>bp(KC,e),XC=Symbol(),$C=Dt();function JC(e,t=void 0){const n=Qi()?To(XC,$C):$C;return e?ma((()=>{var r,o;return null!=(o=null==(r=n.value)?void 0:r[e])?o:t})):n}function ZC(e,t){const n=JC(),r=GS(e,ma((()=>{var e;return(null==(e=n.value)?void 0:e.namespace)||BS}))),o=VS(ma((()=>{var e;return null==(e=n.value)?void 0:e.locale}))),i=MC(ma((()=>{var e;return(null==(e=n.value)?void 0:e.zIndex)||DC}))),a=ma((()=>{var e;return Lt(t)||(null==(e=n.value)?void 0:e.size)||""}));return QC(ma((()=>Lt(n)||{}))),{ns:r,locale:o,zIndex:i,size:a}}const QC=(e,t,n=!1)=>{const r=!!Qi(),o=r?JC():void 0,i=null!=void 0?undefined:r?bo:void 0;if(!i)return;const a=ma((()=>{const t=Lt(e);return(null==o?void 0:o.value)?eR(o.value,t):t}));return i(XC,a),i(jS,ma((()=>a.value.locale))),i(FS,ma((()=>a.value.namespace))),i(PC,ma((()=>a.value.zIndex))),i(jC,{size:ma((()=>a.value.size||""))}),i(FC,ma((()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear})))),!n&&$C.value||($C.value=a.value),a},eR=(e,t)=>{const n=[...new Set([...Mp(e),...Mp(t)])],r={};for(const o of n)r[o]=void 0!==t[o]?t[o]:e[o];return r},tR=rS({a11y:{type:Boolean,default:!0},locale:{type:Object},size:UC,button:{type:Object},experimentalFeatures:{type:Object},keyboardNavigation:{type:Boolean,default:!0},message:{type:Object},zIndex:Number,namespace:{type:String,default:"el"},...WC}),nR={},rR=lS(Qn({name:"ElConfigProvider",props:tR,setup(e,{slots:t}){Zo((()=>e.message),(e=>{Object.assign(nR,null!=e?e:{})}),{immediate:!0,deep:!0});const n=QC(e);return()=>Wr(t,"default",{config:null==n?void 0:n.value})}}));var oR=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const iR=rS({size:{type:[Number,String]},color:{type:String}});const aR=lS(oR(Qn({...Qn({name:"ElIcon",inheritAttrs:!1}),props:iR,setup(e){const t=e,n=GS("icon"),r=ma((()=>{const{size:e,color:n}=t;return e||n?{fontSize:Cp(e)?void 0:qp(e),"--color":n}:{}}));return(e,t)=>(Ri(),ki("i",Ki({class:Lt(n).b(),style:Lt(r)},e.$attrs),[Wr(e.$slots,"default")],16))}}),[["__file","icon.vue"]])),sR=Symbol("formContextKey"),cR=Symbol("formItemContextKey"),lR=(e,t={})=>{const n=Dt(void 0),r=t.prop?n:XS("size"),o=t.global?n:VC(),i=t.form?{size:void 0}:To(sR,void 0),a=t.formItem?{size:void 0}:To(cR,void 0);return ma((()=>r.value||Lt(e)||(null==a?void 0:a.size)||(null==i?void 0:i.size)||o.value||""))},uR=e=>{const t=XS("disabled"),n=To(sR,void 0);return ma((()=>t.value||Lt(e)||(null==n?void 0:n.disabled)||!1))},dR=()=>({form:To(sR,void 0),formItem:To(cR,void 0)}),hR=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=Dt(!1)),r||(r=Dt(!1));const o=Dt();let i;const a=ma((()=>{var n;return!!(!e.label&&!e.ariaLabel&&t&&t.inputIds&&(null==(n=t.inputIds)?void 0:n.length)<=1)}));return Ir((()=>{i=Zo([Gt(e,"id"),n],(([e,n])=>{const i=null!=e?e:n?void 0:_C().value;i!==o.value&&((null==t?void 0:t.removeInputId)&&(o.value&&t.removeInputId(o.value),(null==r?void 0:r.value)||n||!i||t.addInputId(i)),o.value=i)}),{immediate:!0})})),kr((()=>{i&&i(),(null==t?void 0:t.removeInputId)&&o.value&&t.removeInputId(o.value)})),{isLabeledByFormItem:a,inputId:o}},pR=rS({size:{type:String,values:_S},disabled:Boolean}),fR=rS({...pR,model:Object,rules:{type:Object},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),mR={validate:(e,t,n)=>(d(e)||g(e))&&Rp(t)&&g(n)};function gR(){const e=Dt([]),t=ma((()=>{if(!e.value.length)return"0";const t=Math.max(...e.value);return t?`${t}px`:""}));function n(n){const r=e.value.indexOf(n);return-1===r&&t.value,r}return{autoLabelWidth:t,registerLabelWidth:function(t,r){if(t&&r){const o=n(r);e.value.splice(o,1,t)}else t&&e.value.push(t)},deregisterLabelWidth:function(t){const r=n(t);r>-1&&e.value.splice(r,1)}}}const vR=(e,t)=>{const n=Md(t);return n.length>0?e.filter((e=>e.prop&&n.includes(e.prop))):e},yR=Qn({...Qn({name:"ElForm"}),props:fR,emits:mR,setup(e,{expose:t,emit:n}){const r=e,o=[],i=lR(),a=GS("form"),s=ma((()=>{const{labelPosition:e,inline:t}=r;return[a.b(),a.m(i.value||"default"),{[a.m(`label-${e}`)]:e,[a.m("inline")]:t}]})),c=(e=[])=>{r.model&&vR(o,e).forEach((e=>e.resetField()))},l=(e=[])=>{vR(o,e).forEach((e=>e.clearValidate()))},u=ma((()=>!!r.model)),d=async e=>p(void 0,e),h=async(e=[])=>{if(!u.value)return!1;const t=(e=>{if(0===o.length)return[];const t=vR(o,e);return t.length?t:[]})(e);if(0===t.length)return!0;let n={};for(const o of t)try{await o.validate("")}catch(r){n={...n,...r}}return 0===Object.keys(n).length||Promise.reject(n)},p=async(e=[],t)=>{const n=!m(t);try{const n=await h(e);return!0===n&&await(null==t?void 0:t(n)),n}catch(kk){if(kk instanceof Error)throw kk;const o=kk;return r.scrollToError&&f(Object.keys(o)[0]),await(null==t?void 0:t(!1,o)),n&&Promise.reject(o)}},f=e=>{var t;const n=vR(o,e)[0];n&&(null==(t=n.$el)||t.scrollIntoView(r.scrollIntoViewOptions))};return Zo((()=>r.rules),(()=>{r.validateOnRuleChange&&d().catch((e=>{}))}),{deep:!0}),bo(sR,yt({...zt(r),emit:n,resetFields:c,clearValidate:l,validateField:p,getField:e=>o.find((t=>t.prop===e)),addField:e=>{o.push(e)},removeField:e=>{e.prop&&o.splice(o.indexOf(e),1)},...gR()})),t({validate:d,validateField:p,resetFields:c,clearValidate:l,scrollToField:f,fields:o}),(e,t)=>(Ri(),ki("form",{class:q(Lt(s))},[Wr(e.$slots,"default")],2))}});var _R=oR(yR,[["__file","form.vue"]]);function ER(){return ER=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ER.apply(this,arguments)}function bR(e){return(bR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TR(e,t){return(TR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function SR(e,t,n){return(SR=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(kk){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&TR(o,n.prototype),o}).apply(null,arguments)}function wR(e){var t="function"==typeof Map?new Map:void 0;return wR=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return SR(e,arguments,bR(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),TR(r,e)},wR(e)}var CR=/%[sdj%]/g,RR=function(){};function IR(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function AR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(CR,(function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(t){return"[Circular]"}break;default:return e}})):e}function OR(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function NR(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<o?t(e[s],i):n([])}}([])}var kR=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,TR(t,n),r}(wR(Error));function DR(e,t,n,r,o){if(t.first){var i=new Promise((function(t,i){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);NR(a,n,(function(e){return r(e),e.length?i(new kR(e,IR(e))):t(o)}))}));return i.catch((function(e){return e})),i}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),c=s.length,l=0,u=[],d=new Promise((function(t,i){var d=function(e){if(u.push.apply(u,e),++l===c)return r(u),u.length?i(new kR(u,IR(u))):t(o)};s.length||(r(u),t(o)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?NR(r,n,d):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,e||[]),++o===i&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function xR(e,t){return function(n){var r,o;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(o=n)&&void 0!==o.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function PR(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&"object"==typeof e[n]?e[n]=ER({},e[n],r):e[n]=r}return e}var MR,LR=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!OR(t,i||e.type)||r.push(AR(o.messages.required,e.fullField))},UR=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,jR=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,VR={integer:function(e){return VR.number(e)&&parseInt(e,10)===e},float:function(e){return VR.number(e)&&!VR.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(kk){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!VR.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(UR)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(MR)return MR;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+o+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+o+"$"),c=function(e){return e&&e.exact?i:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+o+t(e)+")","g")};c.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},c.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+o+t(e),"g")};var l=c.v4().source,u=c.v6().source;return MR=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+l+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(jR)}},BR="enum",zR={required:LR,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(AR(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)LR(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?VR[i](t)||r.push(AR(o.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(AR(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,a="number"==typeof e.min,s="number"==typeof e.max,c=t,l=null,u="number"==typeof t,d="string"==typeof t,h=Array.isArray(t);if(u?l="number":d?l="string":h&&(l="array"),!l)return!1;h&&(c=t.length),d&&(c=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?c!==e.len&&r.push(AR(o.messages[l].len,e.fullField,e.len)):a&&!s&&c<e.min?r.push(AR(o.messages[l].min,e.fullField,e.min)):s&&!a&&c>e.max?r.push(AR(o.messages[l].max,e.fullField,e.max)):a&&s&&(c<e.min||c>e.max)&&r.push(AR(o.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e[BR]=Array.isArray(e[BR])?e[BR]:[],-1===e[BR].indexOf(t)&&r.push(AR(o.messages[BR],e.fullField,e[BR].join(", ")))},pattern:function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(AR(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(AR(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},FR=function(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t,i)&&!e.required)return n();zR.required(e,t,r,a,o,i),OR(t,i)||zR.type(e,t,r,a,o)}n(a)},HR={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t,"string")&&!e.required)return n();zR.required(e,t,r,i,o,"string"),OR(t,"string")||(zR.type(e,t,r,i,o),zR.range(e,t,r,i,o),zR.pattern(e,t,r,i,o),!0===e.whitespace&&zR.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t)&&!e.required)return n();zR.required(e,t,r,i,o),void 0!==t&&zR.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),OR(t)&&!e.required)return n();zR.required(e,t,r,i,o),void 0!==t&&(zR.type(e,t,r,i,o),zR.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t)&&!e.required)return n();zR.required(e,t,r,i,o),void 0!==t&&zR.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t)&&!e.required)return n();zR.required(e,t,r,i,o),OR(t)||zR.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t)&&!e.required)return n();zR.required(e,t,r,i,o),void 0!==t&&(zR.type(e,t,r,i,o),zR.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t)&&!e.required)return n();zR.required(e,t,r,i,o),void 0!==t&&(zR.type(e,t,r,i,o),zR.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();zR.required(e,t,r,i,o,"array"),null!=t&&(zR.type(e,t,r,i,o),zR.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t)&&!e.required)return n();zR.required(e,t,r,i,o),void 0!==t&&zR.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t)&&!e.required)return n();zR.required(e,t,r,i,o),void 0!==t&&zR.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t,"string")&&!e.required)return n();zR.required(e,t,r,i,o),OR(t,"string")||zR.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t,"date")&&!e.required)return n();var a;if(zR.required(e,t,r,i,o),!OR(t,"date"))a=t instanceof Date?t:new Date(t),zR.type(e,a,r,i,o),a&&zR.range(e,a.getTime(),r,i,o)}n(i)},url:FR,hex:FR,email:FR,required:function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":typeof t;zR.required(e,t,r,i,o,a),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(OR(t)&&!e.required)return n();zR.required(e,t,r,i,o)}n(i)}};function GR(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var WR=GR(),qR=function(){function e(e){this.rules=null,this._messages=WR,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=PR(GR(),e)),this._messages},t.validate=function(t,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var i=t,a=n,s=r;if("function"==typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,i),Promise.resolve(i);if(a.messages){var c=this.messages();c===WR&&(c=GR()),PR(c,a.messages),a.messages=c}else a.messages=this.messages();var l={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=o.rules[e],r=i[e];n.forEach((function(n){var a=n;"function"==typeof a.transform&&(i===t&&(i=ER({},i)),r=i[e]=a.transform(r)),(a="function"==typeof a?{validator:a}:ER({},a)).validator=o.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=o.getType(a),l[e]=l[e]||[],l[e].push({rule:a,value:r,source:i,field:e}))}))}));var u={};return DR(l,a,(function(t,n){var r,o=t.rule,s=!("object"!==o.type&&"array"!==o.type||"object"!=typeof o.fields&&"object"!=typeof o.defaultField);function c(e,t){return ER({},t,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function l(r){void 0===r&&(r=[]);var l=Array.isArray(r)?r:[r];!a.suppressWarning&&l.length&&e.warning("async-validator:",l),l.length&&void 0!==o.message&&(l=[].concat(o.message));var d=l.map(xR(o,i));if(a.first&&d.length)return u[o.field]=1,n(d);if(s){if(o.required&&!t.value)return void 0!==o.message?d=[].concat(o.message).map(xR(o,i)):a.error&&(d=[a.error(o,AR(a.messages.required,o.field))]),n(d);var h={};o.defaultField&&Object.keys(t.value).map((function(e){h[e]=o.defaultField})),h=ER({},h,t.rule.fields);var p={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];p[e]=n.map(c.bind(null,e))}));var f=new e(p);f.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),f.validate(t.value,t.rule.options||a,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(o.required||!o.required&&t.value),o.field=t.field,o.asyncValidator)r=o.asyncValidator(o,t.value,l,t.source,a);else if(o.validator){try{r=o.validator(o,t.value,l,t.source,a)}catch(d){console.error,a.suppressValidatorError||setTimeout((function(){throw d}),0),l(d.message)}!0===r?l():!1===r?l("function"==typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):r instanceof Array?l(r):r instanceof Error&&l(r.message)}r&&r.then&&r.then((function(){return l()}),(function(e){return l(e)}))}),(function(e){!function(e){for(var t,n,r=[],o={},a=0;a<e.length;a++)t=e[a],n=void 0,Array.isArray(t)?r=(n=r).concat.apply(n,t):r.push(t);r.length?(o=IR(r),s(r,o)):s(null,i)}(e)}),i)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!HR.hasOwnProperty(e.type))throw new Error(AR("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?HR.required:HR[this.getType(e)]||void 0},e}();qR.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");HR[e]=t},qR.warning=RR,qR.messages=WR,qR.validators=HR;const KR=["","error","validating","success"],YR=rS({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:[String,Array]},required:{type:Boolean,default:void 0},rules:{type:[Object,Array]},error:String,validateStatus:{type:String,values:KR},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:_S}}),XR="ElLabelWrap";var $R=Qn({name:XR,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=To(sR,void 0),r=To(cR);r||Vp(XR,"usage: <el-form-item><label-wrap /></el-form-item>");const o=GS("form"),i=Dt(),a=Dt(0),s=(r="update")=>{dn((()=>{t.default&&e.isAutoWidth&&("update"===r?a.value=(()=>{var e;if(null==(e=i.value)?void 0:e.firstElementChild){const e=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(e))}return 0})():"remove"===r&&(null==n||n.deregisterLabelWidth(a.value)))}))},c=()=>s("update");return Ir((()=>{c()})),Nr((()=>{s("remove")})),Or((()=>c())),Zo(a,((t,r)=>{e.updateAll&&(null==n||n.registerLabelWidth(t,r))})),Qc(ma((()=>{var e,t;return null!=(t=null==(e=i.value)?void 0:e.firstElementChild)?t:null})),c),()=>{var s,c;if(!t)return null;const{isAutoWidth:l}=e;if(l){const e=null==n?void 0:n.autoLabelWidth,c={};if((null==r?void 0:r.hasLabel)&&e&&"auto"!==e){const t=Math.max(0,Number.parseInt(e,10)-a.value),o=r.labelPosition||n.labelPosition;t&&(c["left"===o?"marginRight":"marginLeft"]=`${t}px`)}return ji("div",{ref:i,class:[o.be("item","label-wrap")],style:c},[null==(s=t.default)?void 0:s.call(t)])}return ji(Ei,{ref:i},[null==(c=t.default)?void 0:c.call(t)])}}});const JR=Qn({...Qn({name:"ElFormItem"}),props:YR,setup(e,{expose:t}){const n=e,r=Qr(),o=To(sR,void 0),i=To(cR,void 0),a=lR(void 0,{formItem:!1}),s=GS("form-item"),c=_C().value,l=Dt([]),u=Dt(""),h=function(e,t=200,n={}){const r=Dt(e.value),o=Lc((()=>{r.value=e.value}),t,n);return Zo(e,(()=>o())),r}(u,100),p=Dt(""),f=Dt();let v,y=!1;const _=ma((()=>n.labelPosition||(null==o?void 0:o.labelPosition))),E=ma((()=>{if("top"===_.value)return{};const e=qp(n.labelWidth||(null==o?void 0:o.labelWidth)||"");return e?{width:e}:{}})),b=ma((()=>{if("top"===_.value||(null==o?void 0:o.inline))return{};if(!n.label&&!n.labelWidth&&O)return{};const e=qp(n.labelWidth||(null==o?void 0:o.labelWidth)||"");return n.label||r.label?{}:{marginLeft:e}})),T=ma((()=>[s.b(),s.m(a.value),s.is("error","error"===u.value),s.is("validating","validating"===u.value),s.is("success","success"===u.value),s.is("required",x.value||n.required),s.is("no-asterisk",null==o?void 0:o.hideRequiredAsterisk),"right"===(null==o?void 0:o.requireAsteriskPosition)?"asterisk-right":"asterisk-left",{[s.m("feedback")]:null==o?void 0:o.statusIcon,[s.m(`label-${_.value}`)]:_.value}])),S=ma((()=>Rp(n.inlineMessage)?n.inlineMessage:(null==o?void 0:o.inlineMessage)||!1)),w=ma((()=>[s.e("error"),{[s.em("error","inline")]:S.value}])),C=ma((()=>n.prop?g(n.prop)?n.prop:n.prop.join("."):"")),R=ma((()=>!(!n.label&&!r.label))),I=ma((()=>n.for||(1===l.value.length?l.value[0]:void 0))),A=ma((()=>!I.value&&R.value)),O=!!i,N=ma((()=>{const e=null==o?void 0:o.model;if(e&&n.prop)return Up(e,n.prop).value})),k=ma((()=>{const{required:e}=n,t=[];n.rules&&t.push(...Md(n.rules));const r=null==o?void 0:o.rules;if(r&&n.prop){const e=Up(r,n.prop).value;e&&t.push(...Md(e))}if(void 0!==e){const n=t.map(((e,t)=>[e,t])).filter((([e])=>Object.keys(e).includes("required")));if(n.length>0)for(const[r,o]of n)r.required!==e&&(t[o]={...r,required:e});else t.push({required:e})}return t})),D=ma((()=>k.value.length>0)),x=ma((()=>k.value.some((e=>e.required)))),P=ma((()=>{var e;return"error"===h.value&&n.showMessage&&(null==(e=null==o?void 0:o.showMessage)||e)})),M=ma((()=>`${n.label||""}${(null==o?void 0:o.labelSuffix)||""}`)),L=e=>{u.value=e},U=async e=>{const t=C.value;return new qR({[t]:e}).validate({[t]:N.value},{firstFields:!0}).then((()=>(L("success"),null==o||o.emit("validate",n.prop,!0,""),!0))).catch((e=>((e=>{var t,r;const{errors:i,fields:a}=e;L("error"),p.value=i?null!=(r=null==(t=null==i?void 0:i[0])?void 0:t.message)?r:`${n.prop} is required`:"",null==o||o.emit("validate",n.prop,!1,p.value)})(e),Promise.reject(e))))},j=async(e,t)=>{if(y||!n.prop)return!1;const r=m(t);if(!D.value)return null==t||t(!1),!1;const o=(e=>k.value.filter((t=>!t.trigger||!e||(d(t.trigger)?t.trigger.includes(e):t.trigger===e))).map((({trigger:e,...t})=>t)))(e);return 0===o.length?(null==t||t(!0),!0):(L("validating"),U(o).then((()=>(null==t||t(!0),!0))).catch((e=>{const{fields:n}=e;return null==t||t(!1,n),!r&&Promise.reject(n)})))},V=()=>{L(""),p.value="",y=!1},B=async()=>{const e=null==o?void 0:o.model;if(!e||!n.prop)return;const t=Up(e,n.prop);y=!0,t.value=Ah(v),await dn(),V(),y=!1};Zo((()=>n.error),(e=>{p.value=e||"",L(e?"error":"")}),{immediate:!0}),Zo((()=>n.validateStatus),(e=>L(e||"")));const F=yt({...zt(n),$el:f,size:a,validateState:u,labelId:c,inputIds:l,isGroup:A,hasLabel:R,fieldValue:N,addInputId:e=>{l.value.includes(e)||l.value.push(e)},removeInputId:e=>{l.value=l.value.filter((t=>t!==e))},resetField:B,clearValidate:V,validate:j});return bo(cR,F),Ir((()=>{n.prop&&(null==o||o.addField(F),v=Ah(N.value))})),Nr((()=>{null==o||o.removeField(F)})),t({size:a,validateMessage:p,validateState:u,validate:j,clearValidate:V,resetField:B}),(e,t)=>{var n;return Ri(),ki("div",{ref_key:"formItemRef",ref:f,class:q(Lt(T)),role:Lt(A)?"group":void 0,"aria-labelledby":Lt(A)?Lt(c):void 0},[ji(Lt($R),{"is-auto-width":"auto"===Lt(E).width,"update-all":"auto"===(null==(n=Lt(o))?void 0:n.labelWidth)},{default:wn((()=>[Lt(R)?(Ri(),Di(Vr(Lt(I)?"label":"div"),{key:0,id:Lt(c),for:Lt(I),class:q(Lt(s).e("label")),style:z(Lt(E))},{default:wn((()=>[Wr(e.$slots,"label",{label:Lt(M)},(()=>[zi(ee(Lt(M)),1)]))])),_:3},8,["id","for","class","style"])):Hi("v-if",!0)])),_:3},8,["is-auto-width","update-all"]),Ui("div",{class:q(Lt(s).e("content")),style:z(Lt(b))},[Wr(e.$slots,"default"),ji(Ns,{name:`${Lt(s).namespace.value}-zoom-in-top`},{default:wn((()=>[Lt(P)?Wr(e.$slots,"error",{key:0,error:p.value},(()=>[Ui("div",{class:q(Lt(w))},ee(p.value),3)])):Hi("v-if",!0)])),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var ZR=oR(JR,[["__file","form-item.vue"]]);const QR=lS(_R,{FormItem:ZR}),eI=dS(ZR);let tI;const nI=`\n  height:0 !important;\n  visibility:hidden !important;\n  ${pl()?"":"overflow:hidden !important;"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`,rI=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function oI(e,t=1,n){var r;tI||(tI=document.createElement("textarea"),document.body.appendChild(tI));const{paddingSize:o,borderSize:i,boxSizing:a,contextStyle:s}=function(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:rI.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";"),paddingSize:r,borderSize:o,boxSizing:n}}(e);tI.setAttribute("style",`${s};${nI}`),tI.value=e.value||e.placeholder||"";let c=tI.scrollHeight;const l={};"border-box"===a?c+=i:"content-box"===a&&(c-=o),tI.value="";const u=tI.scrollHeight-o;if(Ip(t)){let e=u*t;"border-box"===a&&(e=e+o+i),c=Math.max(e,c),l.minHeight=`${e}px`}if(Ip(n)){let e=u*n;"border-box"===a&&(e=e+o+i),c=Math.min(e,c)}return l.height=`${c}px`,null==(r=tI.parentNode)||r.removeChild(tI),tI=void 0,l}const iI=rS({id:{type:String,default:void 0},size:UC,disabled:Boolean,modelValue:{type:[String,Number,Object],default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:oS},prefixIcon:{type:oS},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:[Object,Array,String],default:()=>({})},autofocus:Boolean,rows:{type:Number,default:2},...YC(["ariaLabel"])}),aI={[gS]:e=>g(e),input:e=>g(e),change:e=>g(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent};const sI=lS(oR(Qn({...Qn({name:"ElInput",inheritAttrs:!1}),props:iI,emits:aI,setup(e,{expose:t,emit:n}){const o=e,i=eo(),a=kS(),s=Qr(),c=ma((()=>["textarea"===o.type?g.b():m.b(),m.m(p.value),m.is("disabled",f.value),m.is("exceed",B.value),{[m.b("group")]:s.prepend||s.append,[m.m("prefix")]:s.prefix||o.prefixIcon,[m.m("suffix")]:s.suffix||o.suffixIcon||o.clearable||o.showPassword,[m.bm("suffix","password-clear")]:L.value&&U.value,[m.b("hidden")]:"hidden"===o.type},i.class])),l=ma((()=>[m.e("wrapper"),m.is("focus",R.value)])),{form:u,formItem:d}=dR(),{inputId:h}=hR(o,{formItemContext:d}),p=lR(),f=uR(),m=GS("input"),g=GS("textarea"),v=xt(),_=xt(),E=Dt(!1),b=Dt(!1),T=Dt(),S=xt(o.inputStyle),w=ma((()=>v.value||_.value)),{wrapperRef:C,isFocused:R,handleFocus:I,handleBlur:A}=BC(w,{beforeFocus:()=>f.value,afterBlur(){var e;o.validateEvent&&(null==(e=null==d?void 0:d.validate)||e.call(d,"blur").catch((e=>{})))}}),O=ma((()=>{var e;return null!=(e=null==u?void 0:u.statusIcon)&&e})),N=ma((()=>(null==d?void 0:d.validateState)||"")),k=ma((()=>N.value&&cS[N.value])),D=ma((()=>b.value?FT:Yy)),x=ma((()=>[i.style])),P=ma((()=>[o.inputStyle,S.value,{resize:o.resize}])),M=ma((()=>mp(o.modelValue)?"":String(o.modelValue))),L=ma((()=>o.clearable&&!f.value&&!o.readonly&&!!M.value&&(R.value||E.value))),U=ma((()=>o.showPassword&&!f.value&&!!M.value&&(!!M.value||R.value))),j=ma((()=>o.showWordLimit&&!!o.maxlength&&("text"===o.type||"textarea"===o.type)&&!f.value&&!o.readonly&&!o.showPassword)),V=ma((()=>M.value.length)),B=ma((()=>!!j.value&&V.value>Number(o.maxlength))),F=ma((()=>!!s.suffix||!!o.suffixIcon||L.value||o.showPassword||j.value||!!N.value&&O.value)),[H,G]=LC(v);Qc(_,(e=>{if(K(),!j.value||"both"!==o.resize)return;const t=e[0],{width:n}=t.contentRect;T.value={right:`calc(100% - ${n+15+6}px)`}}));const W=()=>{const{type:e,autosize:t}=o;if(Oc&&"textarea"===e&&_.value)if(t){const e=y(t)?t.minRows:void 0,n=y(t)?t.maxRows:void 0,r=oI(_.value,e,n);S.value={overflowY:"hidden",...r},dn((()=>{_.value.offsetHeight,S.value=r}))}else S.value={minHeight:oI(_.value).minHeight}},K=(e=>{let t=!1;return()=>{var n;if(t||!o.autosize)return;null===(null==(n=_.value)?void 0:n.offsetParent)||(e(),t=!0)}})(W),Y=()=>{const e=w.value,t=o.formatter?o.formatter(M.value):M.value;e&&e.value!==t&&(e.value=t)},X=async e=>{H();let{value:t}=e.target;o.formatter&&(t=o.parser?o.parser(t):t),J.value||(t!==M.value?(n(gS,t),n("input",t),await dn(),Y(),G()):Y())},$=e=>{n("change",e.target.value)},{isComposing:J,handleCompositionStart:Z,handleCompositionUpdate:Q,handleCompositionEnd:te}=zC({emit:n,afterComposition:X}),ne=()=>{b.value=!b.value,re()},re=async()=>{var e;await dn(),null==(e=w.value)||e.focus()},oe=e=>{E.value=!1,n("mouseleave",e)},ie=e=>{E.value=!0,n("mouseenter",e)},ae=e=>{n("keydown",e)},se=()=>{n(gS,""),n("change",""),n("clear"),n("input","")};return Zo((()=>o.modelValue),(()=>{var e;dn((()=>W())),o.validateEvent&&(null==(e=null==d?void 0:d.validate)||e.call(d,"change").catch((e=>{})))})),Zo(M,(()=>Y())),Zo((()=>o.type),(async()=>{await dn(),Y(),W()})),Ir((()=>{!o.formatter&&o.parser,Y(),dn(W)})),t({input:v,textarea:_,ref:w,textareaStyle:P,autosize:Gt(o,"autosize"),isComposing:J,focus:re,blur:()=>{var e;return null==(e=w.value)?void 0:e.blur()},select:()=>{var e;null==(e=w.value)||e.select()},clear:se,resizeTextarea:W}),(e,t)=>(Ri(),ki("div",{class:q([Lt(c),{[Lt(m).bm("group","append")]:e.$slots.append,[Lt(m).bm("group","prepend")]:e.$slots.prepend}]),style:z(Lt(x)),onMouseenter:ie,onMouseleave:oe},[Hi(" input "),"textarea"!==e.type?(Ri(),ki(Ei,{key:0},[Hi(" prepend slot "),e.$slots.prepend?(Ri(),ki("div",{key:0,class:q(Lt(m).be("group","prepend"))},[Wr(e.$slots,"prepend")],2)):Hi("v-if",!0),Ui("div",{ref_key:"wrapperRef",ref:C,class:q(Lt(l))},[Hi(" prefix slot "),e.$slots.prefix||e.prefixIcon?(Ri(),ki("span",{key:0,class:q(Lt(m).e("prefix"))},[Ui("span",{class:q(Lt(m).e("prefix-inner"))},[Wr(e.$slots,"prefix"),e.prefixIcon?(Ri(),Di(Lt(aR),{key:0,class:q(Lt(m).e("icon"))},{default:wn((()=>[(Ri(),Di(Vr(e.prefixIcon)))])),_:1},8,["class"])):Hi("v-if",!0)],2)],2)):Hi("v-if",!0),Ui("input",Ki({id:Lt(h),ref_key:"input",ref:v,class:Lt(m).e("inner")},Lt(a),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?b.value?"text":"password":e.type,disabled:Lt(f),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,onCompositionstart:Lt(Z),onCompositionupdate:Lt(Q),onCompositionend:Lt(te),onInput:X,onChange:$,onKeydown:ae}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Hi(" suffix slot "),Lt(F)?(Ri(),ki("span",{key:1,class:q(Lt(m).e("suffix"))},[Ui("span",{class:q(Lt(m).e("suffix-inner"))},[Lt(L)&&Lt(U)&&Lt(j)?Hi("v-if",!0):(Ri(),ki(Ei,{key:0},[Wr(e.$slots,"suffix"),e.suffixIcon?(Ri(),Di(Lt(aR),{key:0,class:q(Lt(m).e("icon"))},{default:wn((()=>[(Ri(),Di(Vr(e.suffixIcon)))])),_:1},8,["class"])):Hi("v-if",!0)],64)),Lt(L)?(Ri(),Di(Lt(aR),{key:1,class:q([Lt(m).e("icon"),Lt(m).e("clear")]),onMousedown:Js(Lt(r),["prevent"]),onClick:se},{default:wn((()=>[ji(Lt(Wm))])),_:1},8,["class","onMousedown"])):Hi("v-if",!0),Lt(U)?(Ri(),Di(Lt(aR),{key:2,class:q([Lt(m).e("icon"),Lt(m).e("password")]),onClick:ne},{default:wn((()=>[(Ri(),Di(Vr(Lt(D))))])),_:1},8,["class"])):Hi("v-if",!0),Lt(j)?(Ri(),ki("span",{key:3,class:q(Lt(m).e("count"))},[Ui("span",{class:q(Lt(m).e("count-inner"))},ee(Lt(V))+" / "+ee(e.maxlength),3)],2)):Hi("v-if",!0),Lt(N)&&Lt(k)&&Lt(O)?(Ri(),Di(Lt(aR),{key:4,class:q([Lt(m).e("icon"),Lt(m).e("validateIcon"),Lt(m).is("loading","validating"===Lt(N))])},{default:wn((()=>[(Ri(),Di(Vr(Lt(k))))])),_:1},8,["class"])):Hi("v-if",!0)],2)],2)):Hi("v-if",!0)],2),Hi(" append slot "),e.$slots.append?(Ri(),ki("div",{key:1,class:q(Lt(m).be("group","append"))},[Wr(e.$slots,"append")],2)):Hi("v-if",!0)],64)):(Ri(),ki(Ei,{key:1},[Hi(" textarea "),Ui("textarea",Ki({id:Lt(h),ref_key:"textarea",ref:_,class:[Lt(g).e("inner"),Lt(m).is("focus",Lt(R))]},Lt(a),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:Lt(f),readonly:e.readonly,autocomplete:e.autocomplete,style:Lt(P),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:Lt(Z),onCompositionupdate:Lt(Q),onCompositionend:Lt(te),onInput:X,onFocus:Lt(I),onBlur:Lt(A),onChange:$,onKeydown:ae}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),Lt(j)?(Ri(),ki("span",{key:0,style:z(T.value),class:q(Lt(m).e("count"))},ee(Lt(V))+" / "+ee(e.maxlength),7)):Hi("v-if",!0)],64))],38))}}),[["__file","input.vue"]])),cI=4,lI={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},uI=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),dI=Symbol("scrollbarContextKey"),hI=rS({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),pI=Qn({__name:"thumb",props:hI,setup(e){const t=e,n=To(dI),r=GS("scrollbar");n||Vp("Thumb","can not inject scrollbar context");const o=Dt(),i=Dt(),a=Dt({}),s=Dt(!1);let c=!1,l=!1,u=Oc?document.onselectstart:null;const d=ma((()=>lI[t.vertical?"vertical":"horizontal"])),h=ma((()=>uI({size:t.size,move:t.move,bar:d.value}))),p=ma((()=>o.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/t.ratio/i.value[d.value.offset])),f=e=>{var t;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;null==(t=window.getSelection())||t.removeAllRanges(),g(e);const n=e.currentTarget;n&&(a.value[d.value.axis]=n[d.value.offset]-(e[d.value.client]-n.getBoundingClientRect()[d.value.direction]))},m=e=>{if(!i.value||!o.value||!n.wrapElement)return;const t=100*(Math.abs(e.target.getBoundingClientRect()[d.value.direction]-e[d.value.client])-i.value[d.value.offset]/2)*p.value/o.value[d.value.offset];n.wrapElement[d.value.scroll]=t*n.wrapElement[d.value.scrollSize]/100},g=e=>{e.stopImmediatePropagation(),c=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),u=document.onselectstart,document.onselectstart=()=>!1},v=e=>{if(!o.value||!i.value)return;if(!1===c)return;const t=a.value[d.value.axis];if(!t)return;const r=100*(-1*(o.value.getBoundingClientRect()[d.value.direction]-e[d.value.client])-(i.value[d.value.offset]-t))*p.value/o.value[d.value.offset];n.wrapElement[d.value.scroll]=r*n.wrapElement[d.value.scrollSize]/100},y=()=>{c=!1,a.value[d.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),_(),l&&(s.value=!1)};Nr((()=>{_(),document.removeEventListener("mouseup",y)}));const _=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return Hc(Gt(n,"scrollbarElement"),"mousemove",(()=>{l=!1,s.value=!!t.size})),Hc(Gt(n,"scrollbarElement"),"mouseleave",(()=>{l=!0,s.value=c})),(e,t)=>(Ri(),Di(La,{name:Lt(r).b("fade"),persisted:""},{default:wn((()=>[Cn(Ui("div",{ref_key:"instance",ref:o,class:q([Lt(r).e("bar"),Lt(r).is(Lt(d).key)]),onMousedown:m},[Ui("div",{ref_key:"thumb",ref:i,class:q(Lt(r).e("thumb")),style:z(Lt(h)),onMousedown:f},null,38)],34),[[Za,e.always||s.value]])])),_:1},8,["name"]))}});var fI=oR(pI,[["__file","thumb.vue"]]);var mI=oR(Qn({__name:"bar",props:rS({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),setup(e,{expose:t}){const n=e,r=To(dI),o=Dt(0),i=Dt(0),a=Dt(""),s=Dt(""),c=Dt(1),l=Dt(1);return t({handleScroll:e=>{if(e){const t=e.offsetHeight-4,n=e.offsetWidth-4;i.value=100*e.scrollTop/t*c.value,o.value=100*e.scrollLeft/n*l.value}},update:()=>{const e=null==r?void 0:r.wrapElement;if(!e)return;const t=e.offsetHeight-4,o=e.offsetWidth-4,i=t**2/e.scrollHeight,u=o**2/e.scrollWidth,d=Math.max(i,n.minSize),h=Math.max(u,n.minSize);c.value=i/(t-i)/(d/(t-d)),l.value=u/(o-u)/(h/(o-h)),s.value=d+4<t?`${d}px`:"",a.value=h+4<o?`${h}px`:""}}),(e,t)=>(Ri(),ki(Ei,null,[ji(fI,{move:o.value,ratio:l.value,size:a.value,always:e.always},null,8,["move","ratio","size","always"]),ji(fI,{move:i.value,ratio:c.value,size:s.value,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))}}),[["__file","bar.vue"]]);const gI=rS({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:[String,Object,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...YC(["ariaLabel","ariaOrientation"])}),vI={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Ip)};const yI=lS(oR(Qn({...Qn({name:"ElScrollbar"}),props:gI,emits:vI,setup(e,{expose:t,emit:n}){const r=e,o=GS("scrollbar");let i,a,s=0,c=0;const l=Dt(),u=Dt(),d=Dt(),h=Dt(),p=ma((()=>{const e={};return r.height&&(e.height=qp(r.height)),r.maxHeight&&(e.maxHeight=qp(r.maxHeight)),[r.wrapStyle,e]})),f=ma((()=>[r.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!r.native}])),m=ma((()=>[o.e("view"),r.viewClass])),g=()=>{var e;u.value&&(null==(e=h.value)||e.handleScroll(u.value),s=u.value.scrollTop,c=u.value.scrollLeft,n("scroll",{scrollTop:u.value.scrollTop,scrollLeft:u.value.scrollLeft}))};const v=()=>{var e;null==(e=h.value)||e.update()};return Zo((()=>r.noresize),(e=>{e?(null==i||i(),null==a||a()):(({stop:i}=Qc(d,v)),a=Hc("resize",v))}),{immediate:!0}),Zo((()=>[r.maxHeight,r.height]),(()=>{r.native||dn((()=>{var e;v(),u.value&&(null==(e=h.value)||e.handleScroll(u.value))}))})),bo(dI,yt({scrollbarElement:l,wrapElement:u})),yr((()=>{u.value&&(u.value.scrollTop=s,u.value.scrollLeft=c)})),Ir((()=>{r.native||dn((()=>{v()}))})),Or((()=>v())),t({wrapRef:u,update:v,scrollTo:function(e,t){y(e)?u.value.scrollTo(e):Ip(e)&&Ip(t)&&u.value.scrollTo(e,t)},setScrollTop:e=>{Ip(e)&&(u.value.scrollTop=e)},setScrollLeft:e=>{Ip(e)&&(u.value.scrollLeft=e)},handleScroll:g}),(e,t)=>(Ri(),ki("div",{ref_key:"scrollbarRef",ref:l,class:q(Lt(o).b())},[Ui("div",{ref_key:"wrapRef",ref:u,class:q(Lt(f)),style:z(Lt(p)),tabindex:e.tabindex,onScroll:g},[(Ri(),Di(Vr(e.tag),{id:e.id,ref_key:"resizeRef",ref:d,class:q(Lt(m)),style:z(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:wn((()=>[Wr(e.$slots,"default")])),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?Hi("v-if",!0):(Ri(),Di(mI,{key:0,ref_key:"barRef",ref:h,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}}),[["__file","scrollbar.vue"]])),_I=Symbol("popper"),EI=Symbol("popperContent"),bI=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],TI=rS({role:{type:String,values:bI,default:"tooltip"}});var SI=oR(Qn({...Qn({name:"ElPopper",inheritAttrs:!1}),props:TI,setup(e,{expose:t}){const n=e,r={triggerRef:Dt(),popperInstanceRef:Dt(),contentRef:Dt(),referenceRef:Dt(),role:ma((()=>n.role))};return t(r),bo(_I,r),(e,t)=>Wr(e.$slots,"default")}}),[["__file","popper.vue"]]);const wI=rS({arrowOffset:{type:Number,default:5}});var CI=oR(Qn({...Qn({name:"ElPopperArrow",inheritAttrs:!1}),props:wI,setup(e,{expose:t}){const n=e,r=GS("popper"),{arrowOffset:o,arrowRef:i,arrowStyle:a}=To(EI,void 0);return Zo((()=>n.arrowOffset),(e=>{o.value=e})),Nr((()=>{i.value=void 0})),t({arrowRef:i}),(e,t)=>(Ri(),ki("span",{ref_key:"arrowRef",ref:i,class:q(Lt(r).e("arrow")),style:z(Lt(a)),"data-popper-arrow":""},null,6))}}),[["__file","arrow.vue"]]);const RI=Qn({name:"ElOnlyChild",setup(e,{slots:t,attrs:n}){var o;const i=To(IC),a=OC(null!=(o=null==i?void 0:i.setForwardRef)?o:r);return()=>{var e;const r=null==(e=t.default)?void 0:e.call(t,n);if(!r)return null;if(r.length>1)return null;const o=II(r);return o?Cn(Bi(o,n),[[a]]):null}}});function II(e){if(!e)return null;const t=e;for(const n of t){if(y(n))switch(n.type){case Ti:continue;case bi:case"svg":return AI(n);case Ei:return II(n.children);default:return n}return AI(n)}return null}function AI(e){const t=GS("only-child");return ji("span",{class:t.e("content")},[e])}const OI=rS({virtualRef:{type:Object},virtualTriggering:Boolean,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onContextmenu:{type:Function},id:String,open:Boolean});var NI=oR(Qn({...Qn({name:"ElPopperTrigger",inheritAttrs:!1}),props:OI,setup(e,{expose:t}){const n=e,{role:r,triggerRef:o}=To(_I,void 0);AC(o);const i=ma((()=>s.value?n.id:void 0)),a=ma((()=>{if(r&&"tooltip"===r.value)return n.open&&n.id?n.id:void 0})),s=ma((()=>{if(r&&"tooltip"!==r.value)return r.value})),c=ma((()=>s.value?`${n.open}`:void 0));let l;const u=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Ir((()=>{Zo((()=>n.virtualRef),(e=>{e&&(o.value=Bc(e))}),{immediate:!0}),Zo(o,((e,t)=>{null==l||l(),l=void 0,Op(e)&&(u.forEach((r=>{var o;const i=n[r];i&&(e.addEventListener(r.slice(2).toLowerCase(),i),null==(o=null==t?void 0:t.removeEventListener)||o.call(t,r.slice(2).toLowerCase(),i))})),pc(e)&&(l=Zo([i,a,s,c],(t=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(((n,r)=>{mp(t[r])?e.removeAttribute(n):e.setAttribute(n,t[r])}))}),{immediate:!0}))),Op(t)&&pc(t)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((e=>t.removeAttribute(e)))}),{immediate:!0})})),Nr((()=>{if(null==l||l(),l=void 0,o.value&&Op(o.value)){const e=o.value;u.forEach((t=>{const r=n[t];r&&e.removeEventListener(t.slice(2).toLowerCase(),r)})),o.value=void 0}})),t({triggerRef:o}),(e,t)=>e.virtualTriggering?Hi("v-if",!0):(Ri(),Di(Lt(RI),Ki({key:0},e.$attrs,{"aria-controls":Lt(i),"aria-describedby":Lt(a),"aria-expanded":Lt(c),"aria-haspopup":Lt(s)}),{default:wn((()=>[Wr(e.$slots,"default")])),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}}),[["__file","trigger.vue"]]);const kI="focus-trap.focus-after-trapped",DI="focus-trap.focus-after-released",xI={cancelable:!0,bubbles:!1},PI={cancelable:!0,bubbles:!1},MI="focusAfterTrapped",LI="focusAfterReleased",UI=Symbol("elFocusTrap"),jI=Dt(),VI=Dt(0),BI=Dt(0);let zI=0;const FI=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0||e===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},HI=(e,t)=>{for(const n of e)if(!GI(n,t))return n},GI=(e,t)=>{if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},WI=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),BI.value=window.performance.now(),e!==n&&(e=>e instanceof HTMLInputElement&&"select"in e)(e)&&t&&e.select()}};function qI(e,t){const n=[...e],r=e.indexOf(t);return-1!==r&&n.splice(r,1),n}const KI=(()=>{let e=[];return{push:t=>{const n=e[0];n&&t!==n&&n.pause(),e=qI(e,t),e.unshift(t)},remove:t=>{var n,r;e=qI(e,t),null==(r=null==(n=e[0])?void 0:n.resume)||r.call(n)}}})(),YI=()=>{jI.value="pointer",VI.value=window.performance.now()},XI=()=>{jI.value="keyboard",VI.value=window.performance.now()},$I=e=>new CustomEvent("focus-trap.focusout-prevented",{...PI,detail:e}),JI=Qn({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[MI,LI,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=Dt();let r,o;const{focusReason:i}=(Ir((()=>{0===zI&&(document.addEventListener("mousedown",YI),document.addEventListener("touchstart",YI),document.addEventListener("keydown",XI)),zI++})),Nr((()=>{zI--,zI<=0&&(document.removeEventListener("mousedown",YI),document.removeEventListener("touchstart",YI),document.removeEventListener("keydown",XI))})),{focusReason:jI,lastUserFocusTimestamp:VI,lastAutomatedFocusTimestamp:BI});TC((n=>{e.trapped&&!a.paused&&t("release-requested",n)}));const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=n=>{if(!e.loop&&!e.trapped)return;if(a.paused)return;const{code:r,altKey:o,ctrlKey:s,metaKey:c,currentTarget:l,shiftKey:u}=n,{loop:d}=e,h=r===pS.tab&&!o&&!s&&!c,p=document.activeElement;if(h&&p){const e=l,[r,o]=(e=>{const t=FI(e);return[HI(t,e),HI(t.reverse(),e)]})(e);if(r&&o)if(u||p!==o){if(u&&[r,e].includes(p)){const e=$I({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||(n.preventDefault(),d&&WI(o,!0))}}else{const e=$I({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||(n.preventDefault(),d&&WI(r,!0))}else if(p===e){const e=$I({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||n.preventDefault()}}};bo(UI,{focusTrapRef:n,onKeydown:s}),Zo((()=>e.focusTrapEl),(e=>{e&&(n.value=e)}),{immediate:!0}),Zo([n],(([e],[t])=>{e&&(e.addEventListener("keydown",s),e.addEventListener("focusin",u),e.addEventListener("focusout",d)),t&&(t.removeEventListener("keydown",s),t.removeEventListener("focusin",u),t.removeEventListener("focusout",d))}));const c=e=>{t(MI,e)},l=e=>t(LI,e),u=i=>{const s=Lt(n);if(!s)return;const c=i.target,l=i.relatedTarget,u=c&&s.contains(c);if(!e.trapped){l&&s.contains(l)||(r=l)}u&&t("focusin",i),a.paused||e.trapped&&(u?o=c:WI(o,!0))},d=r=>{const s=Lt(n);if(!a.paused&&s)if(e.trapped){const n=r.relatedTarget;mp(n)||s.contains(n)||setTimeout((()=>{if(!a.paused&&e.trapped){const e=$I({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||WI(o,!0)}}),0)}else{const e=r.target;e&&s.contains(e)||t("focusout",r)}};async function h(){await dn();const t=Lt(n);if(t){KI.push(a);const n=t.contains(document.activeElement)?r:document.activeElement;r=n;if(!t.contains(n)){const r=new Event(kI,xI);t.addEventListener(kI,c),t.dispatchEvent(r),r.defaultPrevented||dn((()=>{let r=e.focusStartEl;g(r)||(WI(r),document.activeElement!==r&&(r="first")),"first"===r&&((e,t=!1)=>{const n=document.activeElement;for(const r of e)if(WI(r,t),document.activeElement!==n)return})(FI(t),!0),document.activeElement!==n&&"container"!==r||WI(t)}))}}}function p(){const e=Lt(n);if(e){e.removeEventListener(kI,c);const t=new CustomEvent(DI,{...xI,detail:{focusReason:i.value}});e.addEventListener(DI,l),e.dispatchEvent(t),t.defaultPrevented||"keyboard"!=i.value&&VI.value>BI.value&&!e.contains(document.activeElement)||WI(null!=r?r:document.body),e.removeEventListener(DI,l),KI.remove(a)}}return Ir((()=>{e.trapped&&h(),Zo((()=>e.trapped),(e=>{e?h():p()}))})),Nr((()=>{e.trapped&&p(),n.value&&(n.value.removeEventListener("keydown",s),n.value.removeEventListener("focusin",u),n.value.removeEventListener("focusout",d),n.value=void 0)})),{onKeydown:s}}});var ZI=oR(JI,[["render",function(e,t,n,r,o,i){return Wr(e.$slots,"default",{handleKeydown:e.onKeydown})}],["__file","focus-trap.vue"]]);const QI=rS({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Array,default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:sw,default:"bottom"},popperOptions:{type:Object,default:()=>({})},strategy:{type:String,values:["fixed","absolute"],default:"absolute"}}),eA=rS({...QI,id:String,style:{type:[String,Array,Object]},className:{type:[String,Array,Object]},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:[String,Array,Object]},popperStyle:{type:[String,Array,Object]},referenceEl:{type:Object},triggerTargetEl:{type:Object},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...YC(["ariaLabel"])}),tA={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},nA=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:o}=e,i={placement:n,strategy:r,...o,modifiers:[...rA(e),...t]};return function(e,t){t&&(e.modifiers=[...e.modifiers,...null!=t?t:[]])}(i,null==o?void 0:o.modifiers),i};function rA(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,null!=t?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}const oA=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:o}=To(_I,void 0),i=Dt(),a=Dt(),s=ma((()=>({name:"eventListeners",enabled:!!e.visible}))),c=ma((()=>{var e;const t=Lt(i),n=null!=(e=Lt(a))?e:0;return{name:"arrow",enabled:!gp(t),options:{element:t,padding:n}}})),l=ma((()=>({onFirstUpdate:()=>{f()},...nA(e,[Lt(c),Lt(s)])}))),u=ma((()=>(e=>{if(Oc)return Bc(e)})(e.referenceEl)||Lt(r))),{attributes:d,state:h,styles:p,update:f,forceUpdate:m,instanceRef:g}=pC(u,n,l);return Zo(g,(e=>t.value=e)),Ir((()=>{Zo((()=>{var e;return null==(e=Lt(u))?void 0:e.getBoundingClientRect()}),(()=>{f()}))})),{attributes:d,arrowRef:i,contentRef:n,instanceRef:g,state:h,styles:p,role:o,forceUpdate:m,update:f}},iA=Qn({...Qn({name:"ElPopperContent"}),props:eA,emits:tA,setup(e,{expose:t,emit:n}){const o=e,{focusStartRef:i,trapped:a,onFocusAfterReleased:s,onFocusAfterTrapped:c,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:d}=((e,t)=>{const n=Dt(!1),r=Dt();return{focusStartRef:r,trapped:n,onFocusAfterReleased:e=>{var n;"pointer"!==(null==(n=e.detail)?void 0:n.focusReason)&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:t=>{e.visible&&!n.value&&(t.target&&(r.value=t.target),n.value=!0)},onFocusoutPrevented:t=>{e.trapping||("pointer"===t.detail.focusReason&&t.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}})(o,n),{attributes:h,arrowRef:p,contentRef:f,styles:m,instanceRef:g,role:v,update:y}=oA(o),{ariaModal:_,arrowStyle:E,contentAttrs:b,contentClass:T,contentStyle:S,updateZIndex:w}=((e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:o}=MC(),i=GS("popper"),a=ma((()=>Lt(t).popper)),s=Dt(Ip(e.zIndex)?e.zIndex:o()),c=ma((()=>[i.b(),i.is("pure",e.pure),i.is(e.effect),e.popperClass])),l=ma((()=>[{zIndex:Lt(s)},Lt(n).popper,e.popperStyle||{}]));return{ariaModal:ma((()=>"dialog"===r.value?"false":void 0)),arrowStyle:ma((()=>Lt(n).arrow||{})),contentAttrs:a,contentClass:c,contentStyle:l,contentZIndex:s,updateZIndex:()=>{s.value=Ip(e.zIndex)?e.zIndex:o()}}})(o,{styles:m,attributes:h,role:v}),C=To(cR,void 0),R=Dt();let I;bo(EI,{arrowStyle:E,arrowRef:p,arrowOffset:R}),C&&bo(cR,{...C,addInputId:r,removeInputId:r});const A=(e=!0)=>{y(),e&&w()},O=()=>{A(!1),o.visible&&o.focusOnShow?a.value=!0:!1===o.visible&&(a.value=!1)};return Ir((()=>{Zo((()=>o.triggerTargetEl),((e,t)=>{null==I||I(),I=void 0;const n=Lt(e||f.value),r=Lt(t||f.value);Op(n)&&(I=Zo([v,()=>o.ariaLabel,_,()=>o.id],(e=>{["role","aria-label","aria-modal","id"].forEach(((t,r)=>{mp(e[r])?n.removeAttribute(t):n.setAttribute(t,e[r])}))}),{immediate:!0})),r!==n&&Op(r)&&["role","aria-label","aria-modal","id"].forEach((e=>{r.removeAttribute(e)}))}),{immediate:!0}),Zo((()=>o.visible),O,{immediate:!0})})),Nr((()=>{null==I||I(),I=void 0})),t({popperContentRef:f,popperInstanceRef:g,updatePopper:A,contentStyle:S}),(e,t)=>(Ri(),ki("div",Ki({ref_key:"contentRef",ref:f},Lt(b),{style:Lt(S),class:Lt(T),tabindex:"-1",onMouseenter:t=>e.$emit("mouseenter",t),onMouseleave:t=>e.$emit("mouseleave",t)}),[ji(Lt(ZI),{trapped:Lt(a),"trap-on-focus-in":!0,"focus-trap-el":Lt(f),"focus-start-el":Lt(i),onFocusAfterTrapped:Lt(c),onFocusAfterReleased:Lt(s),onFocusin:Lt(l),onFocusoutPrevented:Lt(u),onReleaseRequested:Lt(d)},{default:wn((()=>[Wr(e.$slots,"default")])),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var aA=oR(iA,[["__file","content.vue"]]);const sA=lS(SI),cA=Symbol("elTooltip"),lA=rS({...CC,...eA,appendTo:{type:[String,Object]},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Boolean,default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...YC(["ariaLabel"])}),uA=rS({...OI,disabled:Boolean,trigger:{type:[String,Array],default:"hover"},triggerKeys:{type:Array,default:()=>[pS.enter,pS.numpadEnter,pS.space]}}),{useModelToggleProps:dA,useModelToggleEmits:hA,useModelToggle:pA}=YS("visible"),fA=rS({...TI,...dA,...lA,...uA,...wI,showArrow:{type:Boolean,default:!0}}),mA=[...hA,"before-show","before-hide","show","hide","open","close"],gA=(e,t,n)=>r=>{((e,t)=>d(e)?e.includes(t):e===t)(Lt(e),t)&&n(r)},vA=Qn({...Qn({name:"ElTooltipTrigger"}),props:uA,setup(e,{expose:t}){const n=e,r=GS("tooltip"),{controlled:o,id:i,open:a,onOpen:s,onClose:c,onToggle:l}=To(cA,void 0),u=Dt(null),d=()=>{if(Lt(o)||n.disabled)return!0},h=Gt(n,"trigger"),p=yc(d,gA(h,"hover",s)),f=yc(d,gA(h,"hover",c)),m=yc(d,gA(h,"click",(e=>{0===e.button&&l(e)}))),g=yc(d,gA(h,"focus",s)),v=yc(d,gA(h,"focus",c)),y=yc(d,gA(h,"contextmenu",(e=>{e.preventDefault(),l(e)}))),_=yc(d,(e=>{const{code:t}=e;n.triggerKeys.includes(t)&&(e.preventDefault(),l(e))}));return t({triggerRef:u}),(e,t)=>(Ri(),Di(Lt(NI),{id:Lt(i),"virtual-ref":e.virtualRef,open:Lt(a),"virtual-triggering":e.virtualTriggering,class:q(Lt(r).e("trigger")),onBlur:Lt(v),onClick:Lt(m),onContextmenu:Lt(y),onFocus:Lt(g),onMouseenter:Lt(p),onMouseleave:Lt(f),onKeydown:Lt(_)},{default:wn((()=>[Wr(e.$slots,"default")])),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var yA=oR(vA,[["__file","trigger.vue"]]);const _A=lS(oR(Qn({__name:"teleport",props:rS({to:{type:[String,Object],required:!0},disabled:Boolean}),setup:e=>(e,t)=>e.disabled?Wr(e.$slots,"default",{key:0}):(Ri(),Di(Ln,{key:1,to:e.to},[Wr(e.$slots,"default")],8,["to"]))}),[["__file","teleport.vue"]]));var EA=oR(Qn({...Qn({name:"ElTooltipContent",inheritAttrs:!1}),props:lA,setup(e,{expose:t}){const n=e,{selector:r}=SC(),o=GS("tooltip"),i=Dt(null);let a;const{controlled:s,id:c,open:l,trigger:u,onClose:d,onOpen:h,onShow:p,onHide:f,onBeforeShow:m,onBeforeHide:g}=To(cA,void 0),v=ma((()=>n.transition||`${o.namespace.value}-fade-in-linear`)),y=ma((()=>n.persistent));Nr((()=>{null==a||a()}));const _=ma((()=>!!Lt(y)||Lt(l))),E=ma((()=>!n.disabled&&Lt(l))),b=ma((()=>n.appendTo||r.value)),T=ma((()=>{var e;return null!=(e=n.style)?e:{}})),S=Dt(!0),w=()=>{f(),S.value=!0},C=()=>{if(Lt(s))return!0},R=yc(C,(()=>{n.enterable&&"hover"===Lt(u)&&h()})),I=yc(C,(()=>{"hover"===Lt(u)&&d()})),A=()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.updatePopper)||t.call(e),null==m||m()},O=()=>{null==g||g()},N=()=>{p(),a=Wc(ma((()=>{var e;return null==(e=i.value)?void 0:e.popperContentRef})),(()=>{if(Lt(s))return;"hover"!==Lt(u)&&d()}))},k=()=>{n.virtualTriggering||d()};return Zo((()=>Lt(l)),(e=>{e?S.value=!1:null==a||a()}),{flush:"post"}),Zo((()=>n.content),(()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.updatePopper)||t.call(e)})),t({contentRef:i}),(e,t)=>(Ri(),Di(Lt(_A),{disabled:!e.teleported,to:Lt(b)},{default:wn((()=>[ji(La,{name:Lt(v),onAfterLeave:w,onBeforeEnter:A,onAfterEnter:N,onBeforeLeave:O},{default:wn((()=>[Lt(_)?Cn((Ri(),Di(Lt(aA),Ki({key:0,id:Lt(c),ref_key:"contentRef",ref:i},e.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":S.value,"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,Lt(T)],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:Lt(E),"z-index":e.zIndex,onMouseenter:Lt(R),onMouseleave:Lt(I),onBlur:k,onClose:Lt(d)}),{default:wn((()=>[Wr(e.$slots,"default")])),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Za,Lt(E)]]):Hi("v-if",!0)])),_:3},8,["name"])])),_:3},8,["disabled","to"]))}}),[["__file","content.vue"]]);const bA=lS(oR(Qn({...Qn({name:"ElTooltip"}),props:fA,emits:mA,setup(e,{expose:t,emit:n}){const r=e;wC();const o=_C(),i=Dt(),a=Dt(),s=()=>{var e;const t=Lt(i);t&&(null==(e=t.popperInstanceRef)||e.update())},c=Dt(!1),l=Dt(),{show:u,hide:d,hasUpdateHandler:h}=pA({indicator:c,toggleReason:l}),{onOpen:p,onClose:f}=RC({showAfter:Gt(r,"showAfter"),hideAfter:Gt(r,"hideAfter"),autoClose:Gt(r,"autoClose"),open:u,close:d}),m=ma((()=>Rp(r.visible)&&!h.value));bo(cA,{controlled:m,id:o,open:Et(c),trigger:Gt(r,"trigger"),onOpen:e=>{p(e)},onClose:e=>{f(e)},onToggle:e=>{Lt(c)?f(e):p(e)},onShow:()=>{n("show",l.value)},onHide:()=>{n("hide",l.value)},onBeforeShow:()=>{n("before-show",l.value)},onBeforeHide:()=>{n("before-hide",l.value)},updatePopper:s}),Zo((()=>r.disabled),(e=>{e&&c.value&&(c.value=!1)}));return _r((()=>c.value&&d())),t({popperRef:i,contentRef:a,isFocusInsideContent:e=>{var t,n;const r=null==(n=null==(t=a.value)?void 0:t.contentRef)?void 0:n.popperContentRef,o=(null==e?void 0:e.relatedTarget)||document.activeElement;return r&&r.contains(o)},updatePopper:s,onOpen:p,onClose:f,hide:d}),(e,t)=>(Ri(),Di(Lt(sA),{ref_key:"popperRef",ref:i,role:e.role},{default:wn((()=>[ji(yA,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:wn((()=>[e.$slots.default?Wr(e.$slots,"default",{key:0}):Hi("v-if",!0)])),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ji(EA,{ref_key:"contentRef",ref:a,"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.showAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo},{default:wn((()=>[Wr(e.$slots,"content",{},(()=>[e.rawContent?(Ri(),ki("span",{key:0,innerHTML:e.content},null,8,["innerHTML"])):(Ri(),ki("span",{key:1},ee(e.content),1))])),e.showArrow?(Ri(),Di(Lt(CI),{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):Hi("v-if",!0)])),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])])),_:3},8,["role"]))}}),[["__file","tooltip.vue"]])),TA=rS({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:String,values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:[Function,Array],default:r},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:lA.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...YC(["ariaLabel"])}),SA={[gS]:e=>g(e),[yS]:e=>g(e),[vS]:e=>g(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>y(e)},wA="ElAutocomplete";const CA=lS(oR(Qn({...Qn({name:wA,inheritAttrs:!1}),props:TA,emits:SA,setup(e,{expose:t,emit:n}){const r=e,o=kS(),i=eo(),a=uR(),s=GS("autocomplete"),c=Dt(),l=Dt(),u=Dt(),h=Dt();let p=!1,f=!1;const m=Dt([]),g=Dt(-1),v=Dt(""),y=Dt(!1),_=Dt(!1),E=Dt(!1),b=_C(),T=ma((()=>i.style)),S=ma((()=>(m.value.length>0||E.value)&&y.value)),w=ma((()=>!r.hideLoading&&E.value)),C=ma((()=>c.value?Array.from(c.value.$el.querySelectorAll("input")):[])),R=()=>{S.value&&(v.value=`${c.value.$el.offsetWidth}px`)},I=()=>{g.value=-1},A=async e=>{if(_.value)return;const t=e=>{E.value=!1,_.value||(d(e)?(m.value=e,g.value=r.highlightFirstItem?0:-1):Vp(wA,"autocomplete suggestions must be an array"))};if(E.value=!0,d(r.fetchSuggestions))t(r.fetchSuggestions);else{const n=await r.fetchSuggestions(e,t);d(n)&&t(n)}},O=op(A,r.debounce),N=e=>{const t=!!e;if(n(yS,e),n(gS,e),_.value=!1,y.value||(y.value=t),!r.triggerOnFocus&&!e)return _.value=!0,void(m.value=[]);O(e)},k=e=>{var t;a.value||("INPUT"!==(null==(t=e.target)?void 0:t.tagName)||C.value.includes(document.activeElement))&&(y.value=!0)},D=e=>{n(vS,e)},x=e=>{f?f=!1:(y.value=!0,n("focus",e),r.triggerOnFocus&&!p&&O(String(r.modelValue)))},P=e=>{setTimeout((()=>{var t;(null==(t=u.value)?void 0:t.isFocusInsideContent())?f=!0:(y.value&&j(),n("blur",e))}))},M=()=>{y.value=!1,n(gS,""),n("clear")},L=async()=>{S.value&&g.value>=0&&g.value<m.value.length?V(m.value[g.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),m.value=[],g.value=-1)},U=e=>{S.value&&(e.preventDefault(),e.stopPropagation(),j())},j=()=>{y.value=!1},V=async e=>{n(yS,e[r.valueKey]),n(gS,e[r.valueKey]),n("select",e),m.value=[],g.value=-1},B=e=>{if(!S.value||E.value)return;if(e<0)return void(g.value=-1);e>=m.value.length&&(e=m.value.length-1);const t=l.value.querySelector(`.${s.be("suggestion","wrap")}`),n=t.querySelectorAll(`.${s.be("suggestion","list")} li`)[e],r=t.scrollTop,{offsetTop:o,scrollHeight:i}=n;o+i>r+t.clientHeight&&(t.scrollTop+=i),o<r&&(t.scrollTop-=i),g.value=e,c.value.ref.setAttribute("aria-activedescendant",`${b.value}-item-${g.value}`)},F=Wc(h,(()=>{S.value&&j()}));return Nr((()=>{null==F||F()})),Ir((()=>{c.value.ref.setAttribute("role","textbox"),c.value.ref.setAttribute("aria-autocomplete","list"),c.value.ref.setAttribute("aria-controls","id"),c.value.ref.setAttribute("aria-activedescendant",`${b.value}-item-${g.value}`),p=c.value.ref.hasAttribute("readonly")})),t({highlightedIndex:g,activated:y,loading:E,inputRef:c,popperRef:u,suggestions:m,handleSelect:V,handleKeyEnter:L,focus:()=>{var e;null==(e=c.value)||e.focus()},blur:()=>{var e;null==(e=c.value)||e.blur()},close:j,highlight:B,getData:A}),(e,t)=>(Ri(),Di(Lt(bA),{ref_key:"popperRef",ref:u,visible:Lt(S),placement:e.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[Lt(s).e("popper"),e.popperClass],teleported:e.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${Lt(s).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:R,onHide:I},{content:wn((()=>[Ui("div",{ref_key:"regionRef",ref:l,class:q([Lt(s).b("suggestion"),Lt(s).is("loading",Lt(w))]),style:z({[e.fitInputWidth?"width":"minWidth"]:v.value,outline:"none"}),role:"region"},[ji(Lt(yI),{id:Lt(b),tag:"ul","wrap-class":Lt(s).be("suggestion","wrap"),"view-class":Lt(s).be("suggestion","list"),role:"listbox"},{default:wn((()=>[Lt(w)?(Ri(),ki("li",{key:0},[Wr(e.$slots,"loading",{},(()=>[ji(Lt(aR),{class:q(Lt(s).is("loading"))},{default:wn((()=>[ji(Lt(A_))])),_:1},8,["class"])]))])):(Ri(!0),ki(Ei,{key:1},Hr(m.value,((t,n)=>(Ri(),ki("li",{id:`${Lt(b)}-item-${n}`,key:n,class:q({highlighted:g.value===n}),role:"option","aria-selected":g.value===n,onClick:e=>V(t)},[Wr(e.$slots,"default",{item:t},(()=>[zi(ee(t[e.valueKey]),1)]))],10,["id","aria-selected","onClick"])))),128))])),_:3},8,["id","wrap-class","view-class"])],6)])),default:wn((()=>[Ui("div",{ref_key:"listboxRef",ref:h,class:q([Lt(s).b(),e.$attrs.class]),style:z(Lt(T)),role:"combobox","aria-haspopup":"listbox","aria-expanded":Lt(S),"aria-owns":Lt(b)},[ji(Lt(sI),Ki({ref_key:"inputRef",ref:c},Lt(o),{clearable:e.clearable,disabled:Lt(a),name:e.name,"model-value":e.modelValue,"aria-label":e.ariaLabel,onInput:N,onChange:D,onFocus:x,onBlur:P,onClear:M,onKeydown:[Qs(Js((e=>B(g.value-1)),["prevent"]),["up"]),Qs(Js((e=>B(g.value+1)),["prevent"]),["down"]),Qs(L,["enter"]),Qs(j,["tab"]),Qs(U,["esc"])],onMousedown:k}),Gr({_:2},[e.$slots.prepend?{name:"prepend",fn:wn((()=>[Wr(e.$slots,"prepend")]))}:void 0,e.$slots.append?{name:"append",fn:wn((()=>[Wr(e.$slots,"append")]))}:void 0,e.$slots.prefix?{name:"prefix",fn:wn((()=>[Wr(e.$slots,"prefix")]))}:void 0,e.$slots.suffix?{name:"suffix",fn:wn((()=>[Wr(e.$slots,"suffix")]))}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])])),_:3},8,["visible","placement","popper-class","teleported","transition"]))}}),[["__file","autocomplete.vue"]])),RA=rS({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:[String,Object,Array]},offset:{type:Array,default:[0,0]},badgeClass:{type:String}});const IA=lS(oR(Qn({...Qn({name:"ElBadge"}),props:RA,setup(e,{expose:t}){const n=e,r=GS("badge"),o=ma((()=>n.isDot?"":Ip(n.value)&&Ip(n.max)&&n.max<n.value?`${n.max}+`:`${n.value}`)),i=ma((()=>{var e,t,r,o,i;return[{backgroundColor:n.color,marginRight:qp(-(null!=(t=null==(e=n.offset)?void 0:e[0])?t:0)),marginTop:qp(null!=(o=null==(r=n.offset)?void 0:r[1])?o:0)},null!=(i=n.badgeStyle)?i:{}]}));return t({content:o}),(e,t)=>(Ri(),ki("div",{class:q(Lt(r).b())},[Wr(e.$slots,"default"),ji(La,{name:`${Lt(r).namespace.value}-zoom-in-center`,persisted:""},{default:wn((()=>[Cn(Ui("sup",{class:q([Lt(r).e("content"),Lt(r).em("content",e.type),Lt(r).is("fixed",!!e.$slots.default),Lt(r).is("dot",e.isDot),Lt(r).is("hide-zero",!e.showZero&&0===n.value),e.badgeClass]),style:z(Lt(i)),textContent:ee(Lt(o))},null,14,["textContent"]),[[Za,!e.hidden&&(Lt(o)||e.isDot)]])])),_:1},8,["name"])],2))}}),[["__file","badge.vue"]])),AA=Symbol("buttonGroupContextKey"),OA=["default","primary","success","warning","info","danger","text",""],NA=["button","submit","reset"],kA=rS({size:UC,disabled:Boolean,type:{type:String,values:OA,default:""},icon:{type:oS},nativeType:{type:String,values:NA,default:"button"},loading:Boolean,loadingIcon:{type:oS,default:()=>A_},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:[String,Object],default:"button"}}),DA={click:e=>e instanceof MouseEvent};function xA(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function PA(e){return Math.min(1,Math.max(0,e))}function MA(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function LA(e){return e<=1?"".concat(100*Number(e),"%"):e}function UA(e){return 1===e.length?"0"+e:String(e)}function jA(e,t,n){e=xA(e,255),t=xA(t,255),n=xA(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i=0,a=0,s=(r+o)/2;if(r===o)a=0,i=0;else{var c=r-o;switch(a=s>.5?c/(2-r-o):c/(r+o),r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4}i/=6}return{h:i,s:a,l:s}}function VA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function BA(e,t,n){e=xA(e,255),t=xA(t,255),n=xA(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i=0,a=r,s=r-o,c=0===r?0:s/r;if(r===o)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4}i/=6}return{h:i,s:c,v:a}}function zA(e,t,n,r){var o=[UA(Math.round(e).toString(16)),UA(Math.round(t).toString(16)),UA(Math.round(n).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function FA(e){return HA(e)/255}function HA(e){return parseInt(e,16)}var GA={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function WA(e){var t,n,r,o={r:0,g:0,b:0},i=1,a=null,s=null,c=null,l=!1,u=!1;return"string"==typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(GA[e])e=GA[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=XA.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=XA.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=XA.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=XA.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=XA.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=XA.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=XA.hex8.exec(e),n)return{r:HA(n[1]),g:HA(n[2]),b:HA(n[3]),a:FA(n[4]),format:t?"name":"hex8"};if(n=XA.hex6.exec(e),n)return{r:HA(n[1]),g:HA(n[2]),b:HA(n[3]),format:t?"name":"hex"};if(n=XA.hex4.exec(e),n)return{r:HA(n[1]+n[1]),g:HA(n[2]+n[2]),b:HA(n[3]+n[3]),a:FA(n[4]+n[4]),format:t?"name":"hex8"};if(n=XA.hex3.exec(e),n)return{r:HA(n[1]+n[1]),g:HA(n[2]+n[2]),b:HA(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"==typeof e&&($A(e.r)&&$A(e.g)&&$A(e.b)?(t=e.r,n=e.g,r=e.b,o={r:255*xA(t,255),g:255*xA(n,255),b:255*xA(r,255)},l=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):$A(e.h)&&$A(e.s)&&$A(e.v)?(a=LA(e.s),s=LA(e.v),o=function(e,t,n){e=6*xA(e,360),t=xA(t,100),n=xA(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),c=r%6;return{r:255*[n,a,i,i,s,n][c],g:255*[s,n,n,a,i,i][c],b:255*[i,i,s,n,n,a][c]}}(e.h,a,s),l=!0,u="hsv"):$A(e.h)&&$A(e.s)&&$A(e.l)&&(a=LA(e.s),c=LA(e.l),o=function(e,t,n){var r,o,i;if(e=xA(e,360),t=xA(t,100),n=xA(n,100),0===t)o=n,i=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=VA(s,a,e+1/3),o=VA(s,a,e),i=VA(s,a,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,a,c),l=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=MA(i),{ok:l,format:e.format||u,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:i}}var qA="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),KA="[\\s|\\(]+(".concat(qA,")[,|\\s]+(").concat(qA,")[,|\\s]+(").concat(qA,")\\s*\\)?"),YA="[\\s|\\(]+(".concat(qA,")[,|\\s]+(").concat(qA,")[,|\\s]+(").concat(qA,")[,|\\s]+(").concat(qA,")\\s*\\)?"),XA={CSS_UNIT:new RegExp(qA),rgb:new RegExp("rgb"+KA),rgba:new RegExp("rgba"+YA),hsl:new RegExp("hsl"+KA),hsla:new RegExp("hsla"+YA),hsv:new RegExp("hsv"+KA),hsva:new RegExp("hsva"+YA),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function $A(e){return Boolean(XA.CSS_UNIT.exec(String(e)))}var JA=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"==typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var o=WA(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=MA(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=BA(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=BA(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=jA(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=jA(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),zA(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,o){var i,a=[UA(Math.round(e).toString(16)),UA(Math.round(t).toString(16)),UA(Math.round(n).toString(16)),UA((i=r,Math.round(255*parseFloat(i)).toString(16)))];return o&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*xA(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*xA(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+zA(this.r,this.g,this.b,!1),t=0,n=Object.entries(GA);t<n.length;t++){var r=n[t],o=r[0];if(e===r[1])return o}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=PA(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=PA(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=PA(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=PA(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),o=new e(t).toRgb(),i=n/100;return new e({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),o=360/n,i=[this];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:o,v:i})),i=(i+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),o=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/o,g:(n.g*n.a+r.g*r.a*(1-n.a))/o,b:(n.b*n.a+r.b*r.a*(1-n.a))/o,a:o})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,o=[this],i=360/t,a=1;a<t;a++)o.push(new e({h:(r+a*i)%360,s:n.s,l:n.l}));return o},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function ZA(e,t=20){return e.mix("#141414",t).toString()}var QA=oR(Qn({...Qn({name:"ElButton"}),props:kA,emits:DA,setup(e,{expose:t,emit:n}){const r=e,o=function(e){const t=uR(),n=GS("button");return ma((()=>{let r={},o=e.color;if(o){const i=o.match(/var\((.*?)\)/);i&&(o=window.getComputedStyle(window.document.documentElement).getPropertyValue(i[1]));const a=new JA(o),s=e.dark?a.tint(20).toString():ZA(a,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?ZA(a,90):a.tint(90).toString(),"text-color":o,"border-color":e.dark?ZA(a,50):a.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":o,"hover-border-color":o,"active-bg-color":s,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":s}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?ZA(a,90):a.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?ZA(a,50):a.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?ZA(a,80):a.tint(80).toString());else{const i=e.dark?ZA(a,30):a.tint(30).toString(),c=a.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":o,"text-color":c,"border-color":o,"hover-bg-color":i,"hover-text-color":c,"hover-border-color":i,"active-bg-color":s,"active-border-color":s}),t.value){const t=e.dark?ZA(a,50):a.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=t,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=t}}}return r}))}(r),i=GS("button"),{_ref:a,_size:s,_type:c,_disabled:l,_props:u,shouldAddSpace:d,handleClick:h}=((e,t)=>{DS({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},ma((()=>"text"===e.type)));const n=To(AA,void 0),r=JC("button"),{form:o}=dR(),i=lR(ma((()=>null==n?void 0:n.size))),a=uR(),s=Dt(),c=Qr(),l=ma((()=>e.type||(null==n?void 0:n.type)||"")),u=ma((()=>{var t,n,o;return null!=(o=null!=(n=e.autoInsertSpace)?n:null==(t=r.value)?void 0:t.autoInsertSpace)&&o})),d=ma((()=>"button"===e.tag?{ariaDisabled:a.value||e.loading,disabled:a.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{})),h=ma((()=>{var e;const t=null==(e=c.default)?void 0:e.call(c);if(u.value&&1===(null==t?void 0:t.length)){const e=t[0];if((null==e?void 0:e.type)===bi){const t=e.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(t.trim())}}return!1}));return{_disabled:a,_size:i,_type:l,_ref:s,_props:d,shouldAddSpace:h,handleClick:n=>{a.value||e.loading?n.stopPropagation():("reset"===e.nativeType&&(null==o||o.resetFields()),t("click",n))}}})(r,n),p=ma((()=>[i.b(),i.m(c.value),i.m(s.value),i.is("disabled",l.value),i.is("loading",r.loading),i.is("plain",r.plain),i.is("round",r.round),i.is("circle",r.circle),i.is("text",r.text),i.is("link",r.link),i.is("has-bg",r.bg)]));return t({ref:a,size:s,type:c,disabled:l,shouldAddSpace:d}),(e,t)=>(Ri(),Di(Vr(e.tag),Ki({ref_key:"_ref",ref:a},Lt(u),{class:Lt(p),style:Lt(o),onClick:Lt(h)}),{default:wn((()=>[e.loading?(Ri(),ki(Ei,{key:0},[e.$slots.loading?Wr(e.$slots,"loading",{key:0}):(Ri(),Di(Lt(aR),{key:1,class:q(Lt(i).is("loading"))},{default:wn((()=>[(Ri(),Di(Vr(e.loadingIcon)))])),_:1},8,["class"]))],64)):e.icon||e.$slots.icon?(Ri(),Di(Lt(aR),{key:1},{default:wn((()=>[e.icon?(Ri(),Di(Vr(e.icon),{key:0})):Wr(e.$slots,"icon",{key:1})])),_:3})):Hi("v-if",!0),e.$slots.default?(Ri(),ki("span",{key:2,class:q({[Lt(i).em("text","expand")]:Lt(d)})},[Wr(e.$slots,"default")],2)):Hi("v-if",!0)])),_:3},16,["class","style","onClick"]))}}),[["__file","button.vue"]]);const eO={size:kA.size,type:kA.type};var tO=oR(Qn({...Qn({name:"ElButtonGroup"}),props:eO,setup(e){const t=e;bo(AA,yt({size:Gt(t,"size"),type:Gt(t,"type")}));const n=GS("button");return(e,t)=>(Ri(),ki("div",{class:q(Lt(n).b("group"))},[Wr(e.$slots,"default")],2))}}),[["__file","button-group.vue"]]);const nO=lS(QA,{ButtonGroup:tO}),rO=dS(tO);var oO="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function iO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aO(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var sO={exports:{}};sO.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",i="minute",a="hour",s="day",c="week",l="month",u="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,l),i=n-o<0,a=t.clone().add(r+(i?-1:1),l);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:c,d:s,D:h,h:a,m:i,s:o,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",E={};E[_]=g;var b="$isDayjsObject",T=function(e){return e instanceof R||!(!e||!e[b])},S=function e(t,n,r){var o;if(!t)return _;if("string"==typeof t){var i=t.toLowerCase();E[i]&&(o=i),n&&(E[i]=n,o=i);var a=t.split("-");if(!o&&a.length>1)return e(a[0])}else{var s=t.name;E[s]=t,o=s}return!r&&o&&(_=o),o||!r&&_},w=function(e,t){if(T(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new R(n)},C=y;C.l=S,C.i=T,C.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var R=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[b]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return C},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return w(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<w(e)},v.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!C.u(t)||t,u=C.p(e),p=function(e,t){var o=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(s)},f=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case l:return r?p(1,g):p(0,g+1);case c:var _=this.$locale().weekStart||0,E=(m<_?m+7:m)-_;return p(r?v-E:v+(6-E),g);case s:case h:return f(y+"Hours",0);case a:return f(y+"Minutes",1);case i:return f(y+"Seconds",2);case o:return f(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,c=C.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[s]=u+"Date",n[h]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[i]=u+"Minutes",n[o]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],f=c===s?this.$D+(t-this.$W):t;if(c===l||c===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[C.p(e)]()},v.add=function(r,u){var h,p=this;r=Number(r);var f=C.p(u),m=function(e){var t=w(p);return C.w(t.date(t.date()+Math.round(e*r)),p)};if(f===l)return this.set(l,this.$M+r);if(f===d)return this.set(d,this.$y+r);if(f===s)return m(1);if(f===c)return m(7);var g=(h={},h[i]=t,h[a]=n,h[o]=e,h)[f]||1,v=this.$d.getTime()+r*g;return C.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=C.z(this),i=this.$H,a=this.$m,s=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].slice(0,i)},h=function(e){return C.s(i%12||12,e,"0")},f=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return s+1;case"MM":return C.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,l,3);case"MMMM":return d(l,s);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(i);case"HH":return C.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(i,a,!0);case"A":return f(i,a,!1);case"m":return String(a);case"mm":return C.s(a,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,p){var f,m=this,g=C.p(h),v=w(r),y=(v.utcOffset()-this.utcOffset())*t,_=this-v,E=function(){return C.m(m,v)};switch(g){case d:f=E()/12;break;case l:f=E();break;case u:f=E()/3;break;case c:f=(_-y)/6048e5;break;case s:f=(_-y)/864e5;break;case a:f=_/n;break;case i:f=_/t;break;case o:f=_/e;break;default:f=_}return p?f:C.a(f)},v.daysInMonth=function(){return this.endOf(l).$D},v.$locale=function(){return E[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return C.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),I=R.prototype;return w.prototype=I,[["$ms",r],["$s",o],["$m",i],["$H",a],["$W",s],["$M",l],["$y",d],["$D",h]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,R,w),e.$i=!0),w},w.locale=S,w.isDayjs=T,w.unix=function(e){return w(1e3*e)},w.en=E[_],w.Ls=E,w.p={},w}();const cO=iO(sO.exports);var lO={exports:{}};lO.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,r=/\d\d/,o=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,a={},s=function(e){return(e=+e)+(e>68?1900:2e3)},c=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=a[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var n,r=a.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},h={A:[i,function(e){this.afternoon=d(e,!1)}],a:[i,function(e){this.afternoon=d(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[r,c("day")],Do:[i,function(e){var t=a.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],w:[o,c("week")],ww:[r,c("week")],M:[o,c("month")],MM:[r,c("month")],MMM:[i,function(e){var t=u("months"),n=(u("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,c("year")],YY:[r,function(e){this.year=s(e)}],YYYY:[/\d{4}/,c("year")],Z:l,ZZ:l};function p(n){var r,o;r=n,o=a&&a.formats;for(var i=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=i.length,c=0;c<s;c+=1){var l=i[c],u=h[l],d=u&&u[0],p=u&&u[1];i[c]=p?{regex:d,parser:p}:l.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<s;n+=1){var o=i[n];if("string"==typeof o)r+=o.length;else{var a=o.regex,c=o.parser,l=e.slice(r),u=a.exec(l)[0];c.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,i=e.args;this.$u=r;var s=i[1];if("string"==typeof s){var c=!0===i[2],l=!0===i[3],u=c||l,d=i[2];l&&(d=i[2]),a=this.$locale(),!c&&d&&(a=n.Ls[d]),this.$d=function(e,t,n,r){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var o=p(t)(e),i=o.year,a=o.month,s=o.day,c=o.hours,l=o.minutes,u=o.seconds,d=o.milliseconds,h=o.zone,f=o.week,m=new Date,g=s||(i||a?1:m.getDate()),v=i||m.getFullYear(),y=0;i&&!a||(y=a>0?a-1:m.getMonth());var _,E=c||0,b=l||0,T=u||0,S=d||0;return h?new Date(Date.UTC(v,y,g,E,b,T,S+60*h.offset*1e3)):n?new Date(Date.UTC(v,y,g,E,b,T,S)):(_=new Date(v,y,g,E,b,T,S),f&&(_=r(_).week(f).toDate()),_)}catch(w){return new Date("")}}(t,s,r,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(s)&&(this.$d=new Date("")),a={}}else if(s instanceof Array)for(var h=s.length,f=1;f<=h;f+=1){i[1]=s[f-1];var m=n.apply(this,i);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}f===h&&(this.$d=new Date(""))}else o.call(this,e)}}}();const uO=iO(lO.exports),dO=["hours","minutes","seconds"],hO="HH:mm:ss",pO="YYYY-MM-DD",fO={date:pO,dates:pO,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${pO} ${hO}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:pO,datetimerange:`${pO} ${hO}`},mO=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],gO=e=>Array.from(Array.from({length:e}).keys()),vO=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),yO=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),_O=function(e,t){const n=f(e),r=f(t);return n&&r?e.getTime()===t.getTime():!n&&!r&&e===t},EO=function(e,t){const n=d(e),r=d(t);return n&&r?e.length===t.length&&e.every(((e,n)=>_O(e,t[n]))):!n&&!r&&_O(e,t)},bO=function(e,t,n){const r=Ap(t)||"x"===t?cO(e).locale(n):cO(e,t).locale(n);return r.isValid()?r:void 0},TO=function(e,t,n){return Ap(t)?e:"x"===t?+e:cO(e).locale(n).format(t)},SO=(e,t)=>{var n;const r=[],o=null==t?void 0:t();for(let i=0;i<e;i++)r.push(null!=(n=null==o?void 0:o.includes(i))&&n);return r},wO=rS({disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function}}),CO=rS({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),RO=rS({id:{type:[Array,String]},name:{type:[Array,String]},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:Wm},editable:{type:Boolean,default:!0},prefixIcon:{type:[String,Object],default:""},size:UC,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},modelValue:{type:[Date,Array,String,Number],default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:[Date,Array]},defaultTime:{type:[Date,Array]},isRange:Boolean,...wO,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:String,values:sw,default:"bottom"},fallbackPlacements:{type:Array,default:["bottom","top","right","left"]},...WC,...YC(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),IO=rS({id:{type:Array},name:{type:Array},modelValue:{type:[Array,String]},startPlaceholder:String,endPlaceholder:String});var AO=oR(Qn({...Qn({name:"PickerRangeTrigger",inheritAttrs:!1}),props:IO,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:t,emit:n}){const r=kS(),o=GS("date"),i=GS("range"),a=Dt(),s=Dt(),{wrapperRef:c,isFocused:l}=BC(a),u=e=>{n("click",e)},d=e=>{n("mouseenter",e)},h=e=>{n("mouseleave",e)},p=e=>{n("mouseenter",e)},f=e=>{n("startInput",e)},m=e=>{n("endInput",e)},g=e=>{n("startChange",e)},v=e=>{n("endChange",e)};return t({focus:()=>{var e;null==(e=a.value)||e.focus()},blur:()=>{var e,t;null==(e=a.value)||e.blur(),null==(t=s.value)||t.blur()}}),(e,t)=>(Ri(),ki("div",{ref_key:"wrapperRef",ref:c,class:q([Lt(o).is("active",Lt(l)),e.$attrs.class]),style:z(e.$attrs.style),onClick:u,onMouseenter:d,onMouseleave:h,onTouchstart:p},[Wr(e.$slots,"prefix"),Ui("input",Ki(Lt(r),{id:e.id&&e.id[0],ref_key:"inputRef",ref:a,name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:e.modelValue&&e.modelValue[0],class:Lt(i).b("input"),onInput:f,onChange:g}),null,16,["id","name","placeholder","value"]),Wr(e.$slots,"range-separator"),Ui("input",Ki(Lt(r),{id:e.id&&e.id[1],ref_key:"endInputRef",ref:s,name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:e.modelValue&&e.modelValue[1],class:Lt(i).b("input"),onInput:m,onChange:v}),null,16,["id","name","placeholder","value"]),Wr(e.$slots,"suffix")],38))}}),[["__file","picker-range-trigger.vue"]]);const OO=Qn({...Qn({name:"Picker"}),props:RO,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const o=e,i=eo(),{lang:a}=VS(),s=GS("date"),c=GS("input"),l=GS("range"),{form:u,formItem:h}=dR(),p=To("ElPopperOptions",{}),{valueOnClear:f}=qC(o,null),m=Dt(),g=Dt(),v=Dt(!1),y=Dt(!1),_=Dt(null);let E=!1;const{isFocused:b,handleFocus:T,handleBlur:S}=BC(g,{beforeFocus:()=>o.readonly||P.value,afterFocus(){v.value=!0},beforeBlur(e){var t;return!E&&(null==(t=m.value)?void 0:t.isFocusInsideContent(e))},afterBlur(){oe(),v.value=!1,E=!1,o.validateEvent&&(null==h||h.validate("blur").catch((e=>{})))}}),w=ma((()=>[s.b("editor"),s.bm("editor",o.type),c.e("wrapper"),s.is("disabled",P.value),s.is("active",v.value),l.b("editor"),Q?l.bm("editor",Q.value):"",i.class])),C=ma((()=>[c.e("icon"),l.e("close-icon"),G.value?"":l.e("close-icon--hidden")]));Zo(v,(e=>{e?dn((()=>{e&&(_.value=o.modelValue)})):(re.value=null,dn((()=>{R(o.modelValue)})))}));const R=(e,t)=>{!t&&EO(e,_.value)||(n("change",e),o.validateEvent&&(null==h||h.validate("change").catch((e=>{}))))},I=e=>{if(!EO(o.modelValue,e)){let t;d(e)?t=e.map((e=>TO(e,o.valueFormat,a.value))):e&&(t=TO(e,o.valueFormat,a.value)),n("update:modelValue",e?t:e,a.value)}},A=ma((()=>g.value?Array.from(g.value.$el.querySelectorAll("input")):[])),O=(e,t,n)=>{const r=A.value;r.length&&(n&&"min"!==n?"max"===n&&(r[1].setSelectionRange(e,t),r[1].focus()):(r[0].setSelectionRange(e,t),r[0].focus()))},N=(e="",t=!1)=>{let n;v.value=t,n=d(e)?e.map((e=>e.toDate())):e?e.toDate():e,re.value=null,I(n)},k=()=>{y.value=!0},D=()=>{n("visible-change",!0)},x=()=>{y.value=!1,v.value=!1,n("visible-change",!1)},P=ma((()=>o.disabled||(null==u?void 0:u.disabled))),M=ma((()=>{let e;if(K.value?fe.value.getDefaultValue&&(e=fe.value.getDefaultValue()):e=d(o.modelValue)?o.modelValue.map((e=>bO(e,o.valueFormat,a.value))):bO(o.modelValue,o.valueFormat,a.value),fe.value.getRangeAvailableTime){const t=fe.value.getRangeAvailableTime(e);fp(t,e)||(e=t,K.value||I(d(e)?e.map((e=>e.toDate())):e.toDate()))}return d(e)&&e.some((e=>!e))&&(e=[]),e})),L=ma((()=>{if(!fe.value.panelReady)return"";const e=ae(M.value);return d(re.value)?[re.value[0]||e&&e[0]||"",re.value[1]||e&&e[1]||""]:null!==re.value?re.value:!j.value&&K.value||!v.value&&K.value?"":e?V.value||B.value||F.value?e.join(", "):e:""})),U=ma((()=>o.type.includes("time"))),j=ma((()=>o.type.startsWith("time"))),V=ma((()=>"dates"===o.type)),B=ma((()=>"months"===o.type)),F=ma((()=>"years"===o.type)),H=ma((()=>o.prefixIcon||(U.value?Jm:tm))),G=Dt(!1),W=e=>{o.readonly||P.value||(G.value&&(e.stopPropagation(),fe.value.handleClear?fe.value.handleClear():I(f.value),R(f.value,!0),G.value=!1,x()),n("clear"))},K=ma((()=>{const{modelValue:e}=o;return!e||d(e)&&!e.filter(Boolean).length})),Y=async e=>{var t;o.readonly||P.value||("INPUT"!==(null==(t=e.target)?void 0:t.tagName)||b.value)&&(v.value=!0)},X=()=>{o.readonly||P.value||!K.value&&o.clearable&&(G.value=!0)},$=()=>{G.value=!1},J=e=>{var t;o.readonly||P.value||("INPUT"!==(null==(t=e.touches[0].target)?void 0:t.tagName)||b.value)&&(v.value=!0)},Z=ma((()=>o.type.includes("range"))),Q=lR(),te=ma((()=>{var e,t;return null==(t=null==(e=Lt(m))?void 0:e.popperRef)?void 0:t.contentRef})),ne=Wc(g,(e=>{const t=Lt(te),n=Bc(g);t&&(e.target===t||e.composedPath().includes(t))||e.target===n||n&&e.composedPath().includes(n)||(v.value=!1)}));Nr((()=>{null==ne||ne()}));const re=Dt(null),oe=()=>{if(re.value){const e=ie(L.value);e&&se(e)&&(I(d(e)?e.map((e=>e.toDate())):e.toDate()),re.value=null)}""===re.value&&(I(f.value),R(f.value),re.value=null)},ie=e=>e?fe.value.parseUserInput(e):null,ae=e=>e?fe.value.formatToString(e):null,se=e=>fe.value.isValidValue(e),ce=async e=>{if(o.readonly||P.value)return;const{code:t}=e;if(n("keydown",e),t!==pS.esc)if(t===pS.down&&(fe.value.handleFocusPicker&&(e.preventDefault(),e.stopPropagation()),!1===v.value&&(v.value=!0,await dn()),fe.value.handleFocusPicker))fe.value.handleFocusPicker();else{if(t!==pS.tab)return t===pS.enter||t===pS.numpadEnter?((null===re.value||""===re.value||se(ie(L.value)))&&(oe(),v.value=!1),void e.stopPropagation()):void(re.value?e.stopPropagation():fe.value.handleKeydownInput&&fe.value.handleKeydownInput(e));E=!0}else!0===v.value&&(v.value=!1,e.preventDefault(),e.stopPropagation())},le=e=>{re.value=e,v.value||(v.value=!0)},ue=e=>{const t=e.target;re.value?re.value=[t.value,re.value[1]]:re.value=[t.value,null]},de=e=>{const t=e.target;re.value?re.value=[re.value[0],t.value]:re.value=[null,t.value]},he=()=>{var e;const t=re.value,n=ie(t&&t[0]),r=Lt(M);if(n&&n.isValid()){re.value=[ae(n),(null==(e=L.value)?void 0:e[1])||null];const t=[n,r&&(r[1]||null)];se(t)&&(I(t),re.value=null)}},pe=()=>{var e;const t=Lt(re),n=ie(t&&t[1]),r=Lt(M);if(n&&n.isValid()){re.value=[(null==(e=Lt(L))?void 0:e[0])||null,ae(n)];const t=[r&&r[0],n];se(t)&&(I(t),re.value=null)}},fe=Dt({}),me=e=>{fe.value[e[0]]=e[1],fe.value.panelReady=!0},ge=e=>{n("calendar-change",e)},ve=(e,t,r)=>{n("panel-change",e,t,r)};return bo("EP_PICKER_BASE",{props:o}),t({focus:()=>{var e;null==(e=g.value)||e.focus()},blur:()=>{var e;null==(e=g.value)||e.blur()},handleOpen:()=>{v.value=!0},handleClose:()=>{v.value=!1},onPick:N}),(e,t)=>(Ri(),Di(Lt(bA),Ki({ref_key:"refPopper",ref:m,visible:v.value,effect:"light",pure:"",trigger:"click"},e.$attrs,{role:"dialog",teleported:"",transition:`${Lt(s).namespace.value}-zoom-in-top`,"popper-class":[`${Lt(s).namespace.value}-picker__popper`,e.popperClass],"popper-options":Lt(p),"fallback-placements":e.fallbackPlacements,"gpu-acceleration":!1,placement:e.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:k,onShow:D,onHide:x}),{default:wn((()=>[Lt(Z)?(Ri(),Di(AO,{key:1,id:e.id,ref_key:"inputRef",ref:g,"model-value":Lt(L),name:e.name,disabled:Lt(P),readonly:!e.editable||e.readonly,"start-placeholder":e.startPlaceholder,"end-placeholder":e.endPlaceholder,class:q(Lt(w)),style:z(e.$attrs.style),"aria-label":e.ariaLabel,tabindex:e.tabindex,autocomplete:"off",role:"combobox",onClick:Y,onFocus:Lt(T),onBlur:Lt(S),onStartInput:ue,onStartChange:he,onEndInput:de,onEndChange:pe,onMousedown:Y,onMouseenter:X,onMouseleave:$,onTouchstartPassive:J,onKeydown:ce},{prefix:wn((()=>[Lt(H)?(Ri(),Di(Lt(aR),{key:0,class:q([Lt(c).e("icon"),Lt(l).e("icon")])},{default:wn((()=>[(Ri(),Di(Vr(Lt(H))))])),_:1},8,["class"])):Hi("v-if",!0)])),"range-separator":wn((()=>[Wr(e.$slots,"range-separator",{},(()=>[Ui("span",{class:q(Lt(l).b("separator"))},ee(e.rangeSeparator),3)]))])),suffix:wn((()=>[e.clearIcon?(Ri(),Di(Lt(aR),{key:0,class:q(Lt(C)),onMousedown:Js(Lt(r),["prevent"]),onClick:W},{default:wn((()=>[(Ri(),Di(Vr(e.clearIcon)))])),_:1},8,["class","onMousedown"])):Hi("v-if",!0)])),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(Ri(),Di(Lt(sI),{key:0,id:e.id,ref_key:"inputRef",ref:g,"container-role":"combobox","model-value":Lt(L),name:e.name,size:Lt(Q),disabled:Lt(P),placeholder:e.placeholder,class:q([Lt(s).b("editor"),Lt(s).bm("editor",e.type),e.$attrs.class]),style:z(e.$attrs.style),readonly:!e.editable||e.readonly||Lt(V)||Lt(B)||Lt(F)||"week"===e.type,"aria-label":e.ariaLabel,tabindex:e.tabindex,"validate-event":!1,onInput:le,onFocus:Lt(T),onBlur:Lt(S),onKeydown:ce,onChange:oe,onMousedown:Y,onMouseenter:X,onMouseleave:$,onTouchstartPassive:J,onClick:Js((()=>{}),["stop"])},{prefix:wn((()=>[Lt(H)?(Ri(),Di(Lt(aR),{key:0,class:q(Lt(c).e("icon")),onMousedown:Js(Y,["prevent"]),onTouchstartPassive:J},{default:wn((()=>[(Ri(),Di(Vr(Lt(H))))])),_:1},8,["class","onMousedown"])):Hi("v-if",!0)])),suffix:wn((()=>[G.value&&e.clearIcon?(Ri(),Di(Lt(aR),{key:0,class:q(`${Lt(c).e("icon")} clear-icon`),onMousedown:Js(Lt(r),["prevent"]),onClick:W},{default:wn((()=>[(Ri(),Di(Vr(e.clearIcon)))])),_:1},8,["class","onMousedown"])):Hi("v-if",!0)])),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))])),content:wn((()=>[Wr(e.$slots,"default",{visible:v.value,actualVisible:y.value,parsedValue:Lt(M),format:e.format,dateFormat:e.dateFormat,timeFormat:e.timeFormat,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,showNow:e.showNow,onPick:N,onSelectRange:O,onSetPickerOption:me,onCalendarChange:ge,onPanelChange:ve,onMousedown:Js((()=>{}),["stop"])})])),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var NO=oR(OO,[["__file","picker.vue"]]);const kO=rS({...CO,datetimeRole:String,parsedValue:{type:Object}}),DO=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r={};return{timePickerOptions:r,getAvailableTime:(r,o,i,a)=>{const s={hour:e,minute:t,second:n};let c=r;return["hour","minute","second"].forEach((e=>{if(s[e]){let t;const n=s[e];switch(e){case"minute":t=n(c.hour(),o,a);break;case"second":t=n(c.hour(),c.minute(),o,a);break;default:t=n(o,a)}if((null==t?void 0:t.length)&&!t.includes(c[e]())){const n=i?0:t.length-1;c=c[e](t[n])}}})),c},onSetOption:([e,t])=>{r[e]=t}}},xO=e=>e.map(((e,t)=>e||t)).filter((e=>!0!==e)),PO=(e,t,n)=>({getHoursList:(t,n)=>SO(24,e&&(()=>null==e?void 0:e(t,n))),getMinutesList:(e,n,r)=>SO(60,t&&(()=>null==t?void 0:t(e,n,r))),getSecondsList:(e,t,r,o)=>SO(60,n&&(()=>null==n?void 0:n(e,t,r,o)))}),MO=(e,t,n)=>{const{getHoursList:r,getMinutesList:o,getSecondsList:i}=PO(e,t,n);return{getAvailableHours:(e,t)=>xO(r(e,t)),getAvailableMinutes:(e,t,n)=>xO(o(e,t,n)),getAvailableSeconds:(e,t,n,r)=>xO(i(e,t,n,r))}},LO=e=>{const t=Dt(e.parsedValue);return Zo((()=>e.visible),(n=>{n||(t.value=e.parsedValue)})),t},UO=new Map;if(Oc){let e;document.addEventListener("mousedown",(t=>e=t)),document.addEventListener("mouseup",(t=>{if(e){for(const n of UO.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}}))}function jO(e,t){let n=[];return d(t.arg)?n=t.arg:Op(t.arg)&&n.push(t.arg),function(r,o){const i=t.instance.popperRef,a=r.target,s=null==o?void 0:o.target,c=!t||!t.instance,l=!a||!s,u=e.contains(a)||e.contains(s),d=e===a,h=n.length&&n.some((e=>null==e?void 0:e.contains(a)))||n.length&&n.includes(s),p=i&&(i.contains(a)||i.contains(s));c||l||u||d||h||p||t.value(r,o)}}const VO={beforeMount(e,t){UO.has(e)||UO.set(e,[]),UO.get(e).push({documentHandler:jO(e,t),bindingFn:t.value})},updated(e,t){UO.has(e)||UO.set(e,[]);const n=UO.get(e),r=n.findIndex((e=>e.bindingFn===t.oldValue)),o={documentHandler:jO(e,t),bindingFn:t.value};r>=0?n.splice(r,1,o):n.push(o)},unmounted(e){UO.delete(e)}},BO=100,zO=600,FO={beforeMount(e,t){const n=t.value,{interval:r=BO,delay:o=zO}=m(n)?{}:n;let i,a;const s=()=>m(n)?n():n.handler(),c=()=>{a&&(clearTimeout(a),a=void 0),i&&(clearInterval(i),i=void 0)};e.addEventListener("mousedown",(e=>{0===e.button&&(c(),s(),document.addEventListener("mouseup",(()=>c()),{once:!0}),a=setTimeout((()=>{i=setInterval((()=>{s()}),r)}),o))}))}},HO="_trap-focus-children",GO=[],WO=e=>{if(0===GO.length)return;const t=GO[GO.length-1][HO];if(t.length>0&&e.code===pS.tab){if(1===t.length)return e.preventDefault(),void(document.activeElement!==t[0]&&t[0].focus());const n=e.shiftKey,r=e.target===t[0],o=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),o&&!n&&(e.preventDefault(),t[0].focus())}},qO={beforeMount(e){e[HO]=hc(e),GO.push(e),GO.length<=1&&document.addEventListener("keydown",WO)},updated(e){dn((()=>{e[HO]=hc(e)}))},unmounted(){GO.shift(),0===GO.length&&document.removeEventListener("keydown",WO)}};var KO,YO,XO,$O,JO,ZO,QO,eN,tN,nN,rN,oN,iN,aN,sN,cN=!1;function lN(){if(!cN){cN=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(oN=/\b(iPhone|iP[ao]d)/.exec(e),iN=/\b(iP[ao]d)/.exec(e),nN=/Android/i.exec(e),aN=/FBAN\/\w+;/i.exec(e),sN=/Mobile/i.exec(e),rN=!!/Win64/.exec(e),t){(KO=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(KO=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);ZO=r?parseFloat(r[1])+4:KO,YO=t[2]?parseFloat(t[2]):NaN,XO=t[3]?parseFloat(t[3]):NaN,($O=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),JO=t&&t[1]?parseFloat(t[1]):NaN):JO=NaN}else KO=YO=XO=JO=$O=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);QO=!o||parseFloat(o[1].replace("_","."))}else QO=!1;eN=!!n[2],tN=!!n[3]}else QO=eN=tN=!1}}var uN,dN={ie:function(){return lN()||KO},ieCompatibilityMode:function(){return lN()||ZO>KO},ie64:function(){return dN.ie()&&rN},firefox:function(){return lN()||YO},opera:function(){return lN()||XO},webkit:function(){return lN()||$O},safari:function(){return dN.webkit()},chrome:function(){return lN()||JO},windows:function(){return lN()||eN},osx:function(){return lN()||QO},linux:function(){return lN()||tN},iphone:function(){return lN()||oN},mobile:function(){return lN()||oN||iN||nN||sN},nativeApp:function(){return lN()||aN},android:function(){return lN()||nN},ipad:function(){return lN()||iN}},hN=dN,pN=!!(typeof window<"u"&&window.document&&window.document.createElement),fN={canUseDOM:pN,canUseWorkers:typeof Worker<"u",canUseEventListeners:pN&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:pN&&!!window.screen,isInWorker:!pN};fN.canUseDOM&&(uN=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var mN=function(e,t){if(!fN.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r="function"==typeof o[n]}return!r&&uN&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r};function gN(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}gN.getEventType=function(){return hN.firefox()?"DOMMouseScroll":mN("wheel")?"wheel":"mousewheel"};var vN=gN;
/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const yN={beforeMount(e,t){!function(e,t){if(e&&e.addEventListener){const n=function(e){const n=vN(e);t&&Reflect.apply(t,this,[e,n])};e.addEventListener("wheel",n,{passive:!0})}}(e,t.value)}};var _N=oR(Qn({__name:"basic-time-spinner",props:rS({role:{type:String,required:!0},spinnerDate:{type:Object,required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""},...wO}),emits:["change","select-range","set-option"],setup(e,{emit:t}){const n=e,r=To("EP_PICKER_BASE"),{isRange:o}=r.props,i=GS("time"),{getHoursList:a,getMinutesList:s,getSecondsList:c}=PO(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let l=!1;const u=Dt(),d={hours:Dt(),minutes:Dt(),seconds:Dt()},h=ma((()=>n.showSeconds?dO:dO.slice(0,2))),p=ma((()=>{const{spinnerDate:e}=n;return{hours:e.hour(),minutes:e.minute(),seconds:e.second()}})),f=ma((()=>{const{hours:e,minutes:t}=Lt(p),{role:r,spinnerDate:i}=n,l=o?void 0:i;return{hours:a(r,l),minutes:s(e,r,l),seconds:c(e,t,r,l)}})),m=ma((()=>{const{hours:e,minutes:t,seconds:n}=Lt(p);return{hours:mO(e,23),minutes:mO(t,59),seconds:mO(n,59)}})),g=op((e=>{l=!1,_(e)}),200),v=e=>{if(!!!n.amPmMode)return"";let t=e<12?" am":" pm";return"A"===n.amPmMode&&(t=t.toUpperCase()),t},y=e=>{let n;switch(e){case"hours":n=[0,2];break;case"minutes":n=[3,5];break;case"seconds":n=[6,8]}const[r,o]=n;t("select-range",r,o),u.value=e},_=e=>{T(e,Lt(p)[e])},E=()=>{_("hours"),_("minutes"),_("seconds")},b=e=>e.querySelector(`.${i.namespace.value}-scrollbar__wrap`),T=(e,t)=>{if(n.arrowControl)return;const r=Lt(d[e]);r&&r.$el&&(b(r.$el).scrollTop=Math.max(0,t*S(e)))},S=e=>{const t=Lt(d[e]),n=null==t?void 0:t.$el.querySelector("li");return n&&Number.parseFloat(Wp(n,"height"))||0},w=()=>{R(1)},C=()=>{R(-1)},R=e=>{u.value||y("hours");const t=u.value,n=Lt(p)[t],r="hours"===u.value?24:60,o=I(t,n,e,r);A(t,o),T(t,o),dn((()=>y(t)))},I=(e,t,n,r)=>{let o=(t+n+r)%r;const i=Lt(f)[e];for(;i[o]&&o!==t;)o=(o+n+r)%r;return o},A=(e,r)=>{if(Lt(f)[e][r])return;const{hours:o,minutes:i,seconds:a}=Lt(p);let s;switch(e){case"hours":s=n.spinnerDate.hour(r).minute(i).second(a);break;case"minutes":s=n.spinnerDate.hour(o).minute(r).second(a);break;case"seconds":s=n.spinnerDate.hour(o).minute(i).second(r)}t("change",s)},O=e=>Lt(d[e]).$el.offsetHeight,N=()=>{const e=e=>{const t=Lt(d[e]);t&&t.$el&&(b(t.$el).onscroll=()=>{(e=>{const t=Lt(d[e]);if(!t)return;l=!0,g(e);const n=Math.min(Math.round((b(t.$el).scrollTop-(.5*O(e)-10)/S(e)+3)/S(e)),"hours"===e?23:59);A(e,n)})(e)})};e("hours"),e("minutes"),e("seconds")};Ir((()=>{dn((()=>{!n.arrowControl&&N(),E(),"start"===n.role&&y("hours")}))}));return t("set-option",[`${n.role}_scrollDown`,R]),t("set-option",[`${n.role}_emitSelectRange`,y]),Zo((()=>n.spinnerDate),(()=>{l||E()})),(e,t)=>(Ri(),ki("div",{class:q([Lt(i).b("spinner"),{"has-seconds":e.showSeconds}])},[e.arrowControl?Hi("v-if",!0):(Ri(!0),ki(Ei,{key:0},Hr(Lt(h),(t=>(Ri(),Di(Lt(yI),{key:t,ref_for:!0,ref:e=>((e,t)=>{d[t].value=null!=e?e:void 0})(e,t),class:q(Lt(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":Lt(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:e=>y(t),onMousemove:e=>_(t)},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(Lt(f)[t],((n,r)=>(Ri(),ki("li",{key:r,class:q([Lt(i).be("spinner","item"),Lt(i).is("active",r===Lt(p)[t]),Lt(i).is("disabled",n)]),onClick:e=>((e,{value:t,disabled:n})=>{n||(A(e,t),y(e),T(e,t))})(t,{value:r,disabled:n})},["hours"===t?(Ri(),ki(Ei,{key:0},[zi(ee(("0"+(e.amPmMode?r%12||12:r)).slice(-2))+ee(v(r)),1)],64)):(Ri(),ki(Ei,{key:1},[zi(ee(("0"+r).slice(-2)),1)],64))],10,["onClick"])))),128))])),_:2},1032,["class","view-class","onMouseenter","onMousemove"])))),128)),e.arrowControl?(Ri(!0),ki(Ei,{key:1},Hr(Lt(h),(t=>(Ri(),ki("div",{key:t,class:q([Lt(i).be("spinner","wrapper"),Lt(i).is("arrow")]),onMouseenter:e=>y(t)},[Cn((Ri(),Di(Lt(aR),{class:q(["arrow-up",Lt(i).be("spinner","arrow")])},{default:wn((()=>[ji(Lt(bf))])),_:1},8,["class"])),[[Lt(FO),C]]),Cn((Ri(),Di(Lt(aR),{class:q(["arrow-down",Lt(i).be("spinner","arrow")])},{default:wn((()=>[ji(Lt(lf))])),_:1},8,["class"])),[[Lt(FO),w]]),Ui("ul",{class:q(Lt(i).be("spinner","list"))},[(Ri(!0),ki(Ei,null,Hr(Lt(m)[t],((n,r)=>(Ri(),ki("li",{key:r,class:q([Lt(i).be("spinner","item"),Lt(i).is("active",n===Lt(p)[t]),Lt(i).is("disabled",Lt(f)[t][n])])},[Lt(Ip)(n)?(Ri(),ki(Ei,{key:0},["hours"===t?(Ri(),ki(Ei,{key:0},[zi(ee(("0"+(e.amPmMode?n%12||12:n)).slice(-2))+ee(v(n)),1)],64)):(Ri(),ki(Ei,{key:1},[zi(ee(("0"+n).slice(-2)),1)],64))],64)):Hi("v-if",!0)],2)))),128))],2)],42,["onMouseenter"])))),128)):Hi("v-if",!0)],2))}}),[["__file","basic-time-spinner.vue"]]);const EN=Qn({__name:"panel-time-pick",props:kO,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=To("EP_PICKER_BASE"),{arrowControl:o,disabledHours:i,disabledMinutes:a,disabledSeconds:s,defaultValue:c}=r.props,{getAvailableHours:l,getAvailableMinutes:u,getAvailableSeconds:d}=MO(i,a,s),h=GS("time"),{t:p,lang:f}=VS(),m=Dt([0,2]),g=LO(n),v=ma((()=>Cp(n.actualVisible)?`${h.namespace.value}-zoom-in-top`:"")),y=ma((()=>n.format.includes("ss"))),_=ma((()=>n.format.includes("A")?"A":n.format.includes("a")?"a":"")),E=()=>{t("pick",g.value,!1)},b=e=>{if(!n.visible)return;const r=R(e).millisecond(0);t("pick",r,!0)},T=(e,n)=>{t("select-range",e,n),m.value=[e,n]},{timePickerOptions:S,onSetOption:w,getAvailableTime:C}=DO({getAvailableHours:l,getAvailableMinutes:u,getAvailableSeconds:d}),R=e=>C(e,n.datetimeRole||"",!0);return t("set-picker-option",["isValidValue",e=>{const t=cO(e).locale(f.value),n=R(t);return t.isSame(n)}]),t("set-picker-option",["formatToString",e=>e?e.format(n.format):null]),t("set-picker-option",["parseUserInput",e=>e?cO(e,n.format).locale(f.value):null]),t("set-picker-option",["handleKeydownInput",e=>{const t=e.code,{left:n,right:r,up:o,down:i}=pS;if([n,r].includes(t)){return(e=>{const t=[0,3].concat(y.value?[6]:[]),n=["hours","minutes"].concat(y.value?["seconds"]:[]),r=(t.indexOf(m.value[0])+e+t.length)%t.length;S.start_emitSelectRange(n[r])})(t===n?-1:1),void e.preventDefault()}if([o,i].includes(t)){const n=t===o?-1:1;return S.start_scrollDown(n),void e.preventDefault()}}]),t("set-picker-option",["getRangeAvailableTime",R]),t("set-picker-option",["getDefaultValue",()=>cO(c).locale(f.value)]),(e,r)=>(Ri(),Di(La,{name:Lt(v)},{default:wn((()=>[e.actualVisible||e.visible?(Ri(),ki("div",{key:0,class:q(Lt(h).b("panel"))},[Ui("div",{class:q([Lt(h).be("panel","content"),{"has-seconds":Lt(y)}])},[ji(_N,{ref:"spinner",role:e.datetimeRole||"start","arrow-control":Lt(o),"show-seconds":Lt(y),"am-pm-mode":Lt(_),"spinner-date":e.parsedValue,"disabled-hours":Lt(i),"disabled-minutes":Lt(a),"disabled-seconds":Lt(s),onChange:b,onSetOption:Lt(w),onSelectRange:T},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Ui("div",{class:q(Lt(h).be("panel","footer"))},[Ui("button",{type:"button",class:q([Lt(h).be("panel","btn"),"cancel"]),onClick:E},ee(Lt(p)("el.datepicker.cancel")),3),Ui("button",{type:"button",class:q([Lt(h).be("panel","btn"),"confirm"]),onClick:e=>((e=!1,r=!1)=>{r||t("pick",n.parsedValue,e)})()},ee(Lt(p)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Hi("v-if",!0)])),_:1},8,["name"]))}});var bN=oR(EN,[["__file","panel-time-pick.vue"]]);const TN=Qn({__name:"panel-time-range",props:rS({...CO,parsedValue:{type:Array}}),emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=(e,t)=>{const n=[];for(let r=e;r<=t;r++)n.push(r);return n},{t:o,lang:i}=VS(),a=GS("time"),s=GS("picker"),c=To("EP_PICKER_BASE"),{arrowControl:l,disabledHours:u,disabledMinutes:h,disabledSeconds:p,defaultValue:f}=c.props,m=ma((()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",l),E.value?"has-seconds":""])),g=ma((()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",l),E.value?"has-seconds":""])),v=ma((()=>n.parsedValue[0])),y=ma((()=>n.parsedValue[1])),_=LO(n),E=ma((()=>n.format.includes("ss"))),b=ma((()=>n.format.includes("A")?"A":n.format.includes("a")?"a":"")),T=e=>{w(e.millisecond(0),y.value)},S=e=>{w(v.value,e.millisecond(0))},w=(e,n)=>{t("pick",[e,n],!0)},C=ma((()=>v.value>y.value)),R=Dt([0,2]),I=(e,n)=>{t("select-range",e,n,"min"),R.value=[e,n]},A=ma((()=>E.value?11:8)),O=(e,n)=>{t("select-range",e,n,"max");const r=Lt(A);R.value=[e+r,n+r]},N=(e,t)=>{const n=u?u(e):[],o="start"===e,i=(t||(o?y.value:v.value)).hour(),a=o?r(i+1,23):r(0,i-1);return wp(n,a)},k=(e,t,n)=>{const o=h?h(e,t):[],i="start"===t,a=n||(i?y.value:v.value);if(e!==a.hour())return o;const s=a.minute(),c=i?r(s+1,59):r(0,s-1);return wp(o,c)},D=(e,t,n,o)=>{const i=p?p(e,t,n):[],a="start"===n,s=o||(a?y.value:v.value),c=s.hour(),l=s.minute();if(e!==c||t!==l)return i;const u=s.second(),d=a?r(u+1,59):r(0,u-1);return wp(i,d)},x=([e,t])=>[j(e,"start",!0,t),j(t,"end",!1,e)],{getAvailableHours:P,getAvailableMinutes:M,getAvailableSeconds:L}=MO(N,k,D),{timePickerOptions:U,getAvailableTime:j,onSetOption:V}=DO({getAvailableHours:P,getAvailableMinutes:M,getAvailableSeconds:L});return t("set-picker-option",["formatToString",e=>e?d(e)?e.map((e=>e.format(n.format))):e.format(n.format):null]),t("set-picker-option",["parseUserInput",e=>e?d(e)?e.map((e=>cO(e,n.format).locale(i.value))):cO(e,n.format).locale(i.value):null]),t("set-picker-option",["isValidValue",e=>{const t=e.map((e=>cO(e).locale(i.value))),n=x(t);return t[0].isSame(n[0])&&t[1].isSame(n[1])}]),t("set-picker-option",["handleKeydownInput",e=>{const t=e.code,{left:n,right:r,up:o,down:i}=pS;if([n,r].includes(t)){return(e=>{const t=E.value?[0,3,6,11,14,17]:[0,3,8,11],n=["hours","minutes"].concat(E.value?["seconds"]:[]),r=(t.indexOf(R.value[0])+e+t.length)%t.length,o=t.length/2;r<o?U.start_emitSelectRange(n[r]):U.end_emitSelectRange(n[r-o])})(t===n?-1:1),void e.preventDefault()}if([o,i].includes(t)){const n=t===o?-1:1,r=R.value[0]<A.value?"start":"end";return U[`${r}_scrollDown`](n),void e.preventDefault()}}]),t("set-picker-option",["getDefaultValue",()=>{if(d(f))return f.map((e=>cO(e).locale(i.value)));const e=cO(f).locale(i.value);return[e,e.add(60,"m")]}]),t("set-picker-option",["getRangeAvailableTime",x]),(e,n)=>e.actualVisible?(Ri(),ki("div",{key:0,class:q([Lt(a).b("range-picker"),Lt(s).b("panel")])},[Ui("div",{class:q(Lt(a).be("range-picker","content"))},[Ui("div",{class:q(Lt(a).be("range-picker","cell"))},[Ui("div",{class:q(Lt(a).be("range-picker","header"))},ee(Lt(o)("el.datepicker.startTime")),3),Ui("div",{class:q(Lt(m))},[ji(_N,{ref:"minSpinner",role:"start","show-seconds":Lt(E),"am-pm-mode":Lt(b),"arrow-control":Lt(l),"spinner-date":Lt(v),"disabled-hours":N,"disabled-minutes":k,"disabled-seconds":D,onChange:T,onSetOption:Lt(V),onSelectRange:I},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Ui("div",{class:q(Lt(a).be("range-picker","cell"))},[Ui("div",{class:q(Lt(a).be("range-picker","header"))},ee(Lt(o)("el.datepicker.endTime")),3),Ui("div",{class:q(Lt(g))},[ji(_N,{ref:"maxSpinner",role:"end","show-seconds":Lt(E),"am-pm-mode":Lt(b),"arrow-control":Lt(l),"spinner-date":Lt(y),"disabled-hours":N,"disabled-minutes":k,"disabled-seconds":D,onChange:S,onSetOption:Lt(V),onSelectRange:O},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Ui("div",{class:q(Lt(a).be("panel","footer"))},[Ui("button",{type:"button",class:q([Lt(a).be("panel","btn"),"cancel"]),onClick:e=>{t("pick",_.value,!1)}},ee(Lt(o)("el.datepicker.cancel")),11,["onClick"]),Ui("button",{type:"button",class:q([Lt(a).be("panel","btn"),"confirm"]),disabled:Lt(C),onClick:e=>((e=!1)=>{t("pick",[v.value,y.value],e)})()},ee(Lt(o)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Hi("v-if",!0)}});var SN=oR(TN,[["__file","panel-time-range.vue"]]);cO.extend(uO);const wN=lS(Qn({name:"ElTimePicker",install:null,props:{...RO,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const n=Dt(),[r,o]=e.isRange?["timerange",SN]:["time",bN],i=e=>t.emit("update:modelValue",e);return bo("ElPopperOptions",e.popperOptions),t.expose({focus:()=>{var e;null==(e=n.value)||e.focus()},blur:()=>{var e;null==(e=n.value)||e.blur()},handleOpen:()=>{var e;null==(e=n.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=n.value)||e.handleClose()}}),()=>{var t;const a=null!=(t=e.format)?t:hO;return ji(NO,Ki(e,{ref:n,type:r,format:a,"onUpdate:modelValue":i}),{default:e=>ji(o,e,null)})}}}));var CN={exports:{}};CN.exports=function(e,t,n){var r=t.prototype,o=function(e){return e&&(e.indexOf?e:e.s)},i=function(e,t,n,r,i){var a=e.name?e:e.$locale(),s=o(a[t]),c=o(a[n]),l=s||c.map((function(e){return e.slice(0,r)}));if(!i)return l;var u=a.weekStart;return l.map((function(e,t){return l[(t+(u||0))%7]}))},a=function(){return n.Ls[n.locale()]},s=function(e,t){return e.formats[t]||e.formats[t.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))},c=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):i(e,"months")},monthsShort:function(t){return t?t.format("MMM"):i(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):i(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):i(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):i(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return s(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return c.bind(this)()},n.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return s(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return i(a(),"months")},n.monthsShort=function(){return i(a(),"monthsShort","months",3)},n.weekdays=function(e){return i(a(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return i(a(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return i(a(),"weekdaysMin","weekdays",2,e)}};const RN=iO(CN.exports),IN={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:UC,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...YC(["ariaControls"])},AN={[gS]:e=>g(e)||Ip(e)||Rp(e),change:e=>g(e)||Ip(e)||Rp(e)},ON=Symbol("checkboxGroupContextKey"),NN=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:o,isLabeledByFormItem:i})=>{const a=To(ON,void 0),{formItem:s}=dR(),{emit:c}=Qi();function l(t){var n,r,o,i;return[!0,e.trueValue,e.trueLabel].includes(t)?null==(r=null!=(n=e.trueValue)?n:e.trueLabel)||r:null!=(i=null!=(o=e.falseValue)?o:e.falseLabel)&&i}const u=ma((()=>(null==a?void 0:a.validateEvent)||e.validateEvent));return Zo((()=>e.modelValue),(()=>{u.value&&(null==s||s.validate("change").catch((e=>{})))})),{handleChange:function(e){if(n.value)return;const t=e.target;c("change",l(t.checked),e)},onClickRoot:async function(a){if(!n.value&&!r.value&&!o.value&&i.value){a.composedPath().some((e=>"LABEL"===e.tagName))||(t.value=l([!1,e.falseValue,e.falseLabel].includes(t.value)),await dn(),function(e,t){c("change",l(e),t)}(t.value,a))}}}},kN=(e,t)=>{const{formItem:n}=dR(),{model:r,isGroup:o,isLimitExceeded:i}=(e=>{const t=Dt(!1),{emit:n}=Qi(),r=To(ON,void 0),o=ma((()=>!1===Cp(r))),i=Dt(!1),a=ma({get(){var n,i;return o.value?null==(n=null==r?void 0:r.modelValue)?void 0:n.value:null!=(i=e.modelValue)?i:t.value},set(e){var s,c;o.value&&d(e)?(i.value=void 0!==(null==(s=null==r?void 0:r.max)?void 0:s.value)&&e.length>(null==r?void 0:r.max.value)&&e.length>a.value.length,!1===i.value&&(null==(c=null==r?void 0:r.changeEvent)||c.call(r,e))):(n(gS,e),t.value=e)}});return{model:a,isGroup:o,isLimitExceeded:i}})(e),{isFocused:a,isChecked:s,checkboxButtonSize:c,checkboxSize:l,hasOwnLabel:u,actualValue:h}=((e,t,{model:n})=>{const r=To(ON,void 0),o=Dt(!1),i=ma((()=>Np(e.value)?e.label:e.value)),a=ma((()=>{const t=n.value;return Rp(t)?t:d(t)?y(i.value)?t.map(It).some((e=>fp(e,i.value))):t.map(It).includes(i.value):null!=t?t===e.trueValue||t===e.trueLabel:!!t}));return{checkboxButtonSize:lR(ma((()=>{var e;return null==(e=null==r?void 0:r.size)?void 0:e.value})),{prop:!0}),isChecked:a,isFocused:o,checkboxSize:lR(ma((()=>{var e;return null==(e=null==r?void 0:r.size)?void 0:e.value}))),hasOwnLabel:ma((()=>!!t.default||!Np(i.value))),actualValue:i}})(e,t,{model:r}),{isDisabled:p}=(({model:e,isChecked:t})=>{const n=To(ON,void 0),r=ma((()=>{var r,o;const i=null==(r=null==n?void 0:n.max)?void 0:r.value,a=null==(o=null==n?void 0:n.min)?void 0:o.value;return!Cp(i)&&e.value.length>=i&&!t.value||!Cp(a)&&e.value.length<=a&&t.value}));return{isDisabled:uR(ma((()=>(null==n?void 0:n.disabled.value)||r.value))),isLimitDisabled:r}})({model:r,isChecked:s}),{inputId:f,isLabeledByFormItem:m}=hR(e,{formItemContext:n,disableIdGeneration:u,disableIdManagement:o}),{handleChange:g,onClickRoot:v}=NN(e,{model:r,isLimitExceeded:i,hasOwnLabel:u,isDisabled:p,isLabeledByFormItem:m});var _,E;return e.checked&&(d(r.value)&&!r.value.includes(h.value)?r.value.push(h.value):r.value=null==(E=null!=(_=e.trueValue)?_:e.trueLabel)||E),DS({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},ma((()=>o.value&&Np(e.value)))),DS({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},ma((()=>!!e.trueLabel))),DS({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},ma((()=>!!e.falseLabel))),{inputId:f,isLabeledByFormItem:m,isChecked:s,isDisabled:p,isFocused:a,checkboxButtonSize:c,checkboxSize:l,hasOwnLabel:u,model:r,actualValue:h,handleChange:g,onClickRoot:v}};var DN=oR(Qn({...Qn({name:"ElCheckbox"}),props:IN,emits:AN,setup(e){const t=e,n=Qr(),{inputId:r,isLabeledByFormItem:o,isChecked:i,isDisabled:a,isFocused:s,checkboxSize:c,hasOwnLabel:l,model:u,actualValue:d,handleChange:h,onClickRoot:p}=kN(t,n),f=GS("checkbox"),m=ma((()=>[f.b(),f.m(c.value),f.is("disabled",a.value),f.is("bordered",t.border),f.is("checked",i.value)])),g=ma((()=>[f.e("input"),f.is("disabled",a.value),f.is("checked",i.value),f.is("indeterminate",t.indeterminate),f.is("focus",s.value)]));return(e,t)=>(Ri(),Di(Vr(!Lt(l)&&Lt(o)?"span":"label"),{class:q(Lt(m)),"aria-controls":e.indeterminate?e.ariaControls:null,onClick:Lt(p)},{default:wn((()=>{var t,n,o,i;return[Ui("span",{class:q(Lt(g))},[e.trueValue||e.falseValue||e.trueLabel||e.falseLabel?Cn((Ri(),ki("input",{key:0,id:Lt(r),"onUpdate:modelValue":e=>kt(u)?u.value=e:null,class:q(Lt(f).e("original")),type:"checkbox",indeterminate:e.indeterminate,name:e.name,tabindex:e.tabindex,disabled:Lt(a),"true-value":null==(n=null!=(t=e.trueValue)?t:e.trueLabel)||n,"false-value":null!=(i=null!=(o=e.falseValue)?o:e.falseLabel)&&i,onChange:Lt(h),onFocus:e=>s.value=!0,onBlur:e=>s.value=!1,onClick:Js((()=>{}),["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[Vs,Lt(u)]]):Cn((Ri(),ki("input",{key:1,id:Lt(r),"onUpdate:modelValue":e=>kt(u)?u.value=e:null,class:q(Lt(f).e("original")),type:"checkbox",indeterminate:e.indeterminate,disabled:Lt(a),value:Lt(d),name:e.name,tabindex:e.tabindex,onChange:Lt(h),onFocus:e=>s.value=!0,onBlur:e=>s.value=!1,onClick:Js((()=>{}),["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[Vs,Lt(u)]]),Ui("span",{class:q(Lt(f).e("inner"))},null,2)],2),Lt(l)?(Ri(),ki("span",{key:0,class:q(Lt(f).e("label"))},[Wr(e.$slots,"default"),e.$slots.default?Hi("v-if",!0):(Ri(),ki(Ei,{key:0},[zi(ee(e.label),1)],64))],2)):Hi("v-if",!0)]})),_:3},8,["class","aria-controls","onClick"]))}}),[["__file","checkbox.vue"]]);var xN=oR(Qn({...Qn({name:"ElCheckboxButton"}),props:IN,emits:AN,setup(e){const t=e,n=Qr(),{isFocused:r,isChecked:o,isDisabled:i,checkboxButtonSize:a,model:s,actualValue:c,handleChange:l}=kN(t,n),u=To(ON,void 0),d=GS("checkbox"),h=ma((()=>{var e,t,n,r;const o=null!=(t=null==(e=null==u?void 0:u.fill)?void 0:e.value)?t:"";return{backgroundColor:o,borderColor:o,color:null!=(r=null==(n=null==u?void 0:u.textColor)?void 0:n.value)?r:"",boxShadow:o?`-1px 0 0 0 ${o}`:void 0}})),p=ma((()=>[d.b("button"),d.bm("button",a.value),d.is("disabled",i.value),d.is("checked",o.value),d.is("focus",r.value)]));return(e,t)=>{var n,a,u,f;return Ri(),ki("label",{class:q(Lt(p))},[e.trueValue||e.falseValue||e.trueLabel||e.falseLabel?Cn((Ri(),ki("input",{key:0,"onUpdate:modelValue":e=>kt(s)?s.value=e:null,class:q(Lt(d).be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:Lt(i),"true-value":null==(a=null!=(n=e.trueValue)?n:e.trueLabel)||a,"false-value":null!=(f=null!=(u=e.falseValue)?u:e.falseLabel)&&f,onChange:Lt(l),onFocus:e=>r.value=!0,onBlur:e=>r.value=!1,onClick:Js((()=>{}),["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[Vs,Lt(s)]]):Cn((Ri(),ki("input",{key:1,"onUpdate:modelValue":e=>kt(s)?s.value=e:null,class:q(Lt(d).be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:Lt(i),value:Lt(c),onChange:Lt(l),onFocus:e=>r.value=!0,onBlur:e=>r.value=!1,onClick:Js((()=>{}),["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[Vs,Lt(s)]]),e.$slots.default||e.label?(Ri(),ki("span",{key:2,class:q(Lt(d).be("button","inner")),style:z(Lt(o)?Lt(h):void 0)},[Wr(e.$slots,"default",{},(()=>[zi(ee(e.label),1)]))],6)):Hi("v-if",!0)],2)}}}),[["__file","checkbox-button.vue"]]);const PN=rS({modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:Number,max:Number,size:UC,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...YC(["ariaLabel"])}),MN={[gS]:e=>d(e),change:e=>d(e)};var LN=oR(Qn({...Qn({name:"ElCheckboxGroup"}),props:PN,emits:MN,setup(e,{emit:t}){const n=e,r=GS("checkbox"),{formItem:o}=dR(),{inputId:i,isLabeledByFormItem:a}=hR(n,{formItemContext:o}),s=async e=>{t(gS,e),await dn(),t("change",e)},c=ma({get:()=>n.modelValue,set(e){s(e)}});return bo(ON,{...bp(zt(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:c,changeEvent:s}),Zo((()=>n.modelValue),(()=>{n.validateEvent&&(null==o||o.validate("change").catch((e=>{})))})),(e,t)=>{var n;return Ri(),Di(Vr(e.tag),{id:Lt(i),class:q(Lt(r).b("group")),role:"group","aria-label":Lt(a)?void 0:e.ariaLabel||"checkbox-group","aria-labelledby":Lt(a)?null==(n=Lt(o))?void 0:n.labelId:void 0},{default:wn((()=>[Wr(e.$slots,"default")])),_:3},8,["id","class","aria-label","aria-labelledby"])}}}),[["__file","checkbox-group.vue"]]);const UN=lS(DN,{CheckboxButton:xN,CheckboxGroup:LN});dS(xN);const jN=dS(LN),VN=rS({modelValue:{type:[String,Number,Boolean],default:void 0},size:UC,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),BN=rS({...VN,border:Boolean}),zN={[gS]:e=>g(e)||Ip(e)||Rp(e),[vS]:e=>g(e)||Ip(e)||Rp(e)},FN=Symbol("radioGroupKey"),HN=(e,t)=>{const n=Dt(),r=To(FN,void 0),o=ma((()=>!!r)),i=ma((()=>Np(e.value)?e.label:e.value)),a=ma({get:()=>o.value?r.modelValue:e.modelValue,set(a){o.value?r.changeEvent(a):t&&t(gS,a),n.value.checked=e.modelValue===i.value}}),s=lR(ma((()=>null==r?void 0:r.size))),c=uR(ma((()=>null==r?void 0:r.disabled))),l=Dt(!1),u=ma((()=>c.value||o.value&&a.value!==i.value?-1:0));return DS({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},ma((()=>o.value&&Np(e.value)))),{radioRef:n,isGroup:o,radioGroup:r,focus:l,size:s,disabled:c,tabIndex:u,modelValue:a,actualValue:i}};var GN=oR(Qn({...Qn({name:"ElRadio"}),props:BN,emits:zN,setup(e,{emit:t}){const n=e,r=GS("radio"),{radioRef:o,radioGroup:i,focus:a,size:s,disabled:c,modelValue:l,actualValue:u}=HN(n,t);function d(){dn((()=>t("change",l.value)))}return(e,t)=>{var n;return Ri(),ki("label",{class:q([Lt(r).b(),Lt(r).is("disabled",Lt(c)),Lt(r).is("focus",Lt(a)),Lt(r).is("bordered",e.border),Lt(r).is("checked",Lt(l)===Lt(u)),Lt(r).m(Lt(s))])},[Ui("span",{class:q([Lt(r).e("input"),Lt(r).is("disabled",Lt(c)),Lt(r).is("checked",Lt(l)===Lt(u))])},[Cn(Ui("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":e=>kt(l)?l.value=e:null,class:q(Lt(r).e("original")),value:Lt(u),name:e.name||(null==(n=Lt(i))?void 0:n.name),disabled:Lt(c),checked:Lt(l)===Lt(u),type:"radio",onFocus:e=>a.value=!0,onBlur:e=>a.value=!1,onChange:d,onClick:Js((()=>{}),["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[zs,Lt(l)]]),Ui("span",{class:q(Lt(r).e("inner"))},null,2)],2),Ui("span",{class:q(Lt(r).e("label")),onKeydown:Js((()=>{}),["stop"])},[Wr(e.$slots,"default",{},(()=>[zi(ee(e.label),1)]))],42,["onKeydown"])],2)}}}),[["__file","radio.vue"]]);const WN=rS({...VN});var qN=oR(Qn({...Qn({name:"ElRadioButton"}),props:WN,setup(e){const t=e,n=GS("radio"),{radioRef:r,focus:o,size:i,disabled:a,modelValue:s,radioGroup:c,actualValue:l}=HN(t),u=ma((()=>({backgroundColor:(null==c?void 0:c.fill)||"",borderColor:(null==c?void 0:c.fill)||"",boxShadow:(null==c?void 0:c.fill)?`-1px 0 0 0 ${c.fill}`:"",color:(null==c?void 0:c.textColor)||""})));return(e,t)=>{var d;return Ri(),ki("label",{class:q([Lt(n).b("button"),Lt(n).is("active",Lt(s)===Lt(l)),Lt(n).is("disabled",Lt(a)),Lt(n).is("focus",Lt(o)),Lt(n).bm("button",Lt(i))])},[Cn(Ui("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":e=>kt(s)?s.value=e:null,class:q(Lt(n).be("button","original-radio")),value:Lt(l),type:"radio",name:e.name||(null==(d=Lt(c))?void 0:d.name),disabled:Lt(a),onFocus:e=>o.value=!0,onBlur:e=>o.value=!1,onClick:Js((()=>{}),["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[zs,Lt(s)]]),Ui("span",{class:q(Lt(n).be("button","inner")),style:z(Lt(s)===Lt(l)?Lt(u):{}),onKeydown:Js((()=>{}),["stop"])},[Wr(e.$slots,"default",{},(()=>[zi(ee(e.label),1)]))],46,["onKeydown"])],2)}}}),[["__file","radio-button.vue"]]);const KN=rS({id:{type:String,default:void 0},size:UC,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...YC(["ariaLabel"])}),YN=zN,XN=Qn({...Qn({name:"ElRadioGroup"}),props:KN,emits:YN,setup(e,{emit:t}){const n=e,r=GS("radio"),o=_C(),i=Dt(),{formItem:a}=dR(),{inputId:s,isLabeledByFormItem:c}=hR(n,{formItemContext:a});Ir((()=>{const e=i.value.querySelectorAll("[type=radio]"),t=e[0];!Array.from(e).some((e=>e.checked))&&t&&(t.tabIndex=0)}));const l=ma((()=>n.name||o.value));return bo(FN,yt({...zt(n),changeEvent:e=>{t(gS,e),dn((()=>t("change",e)))},name:l})),Zo((()=>n.modelValue),(()=>{n.validateEvent&&(null==a||a.validate("change").catch((e=>{})))})),(e,t)=>(Ri(),ki("div",{id:Lt(s),ref_key:"radioGroupRef",ref:i,class:q(Lt(r).b("group")),role:"radiogroup","aria-label":Lt(c)?void 0:e.ariaLabel||"radio-group","aria-labelledby":Lt(c)?Lt(a).labelId:void 0},[Wr(e.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var $N=oR(XN,[["__file","radio-group.vue"]]);const JN=lS(GN,{RadioButton:qN,RadioGroup:$N}),ZN=dS($N),QN=dS(qN);var ek=Qn({name:"NodeContent",setup:()=>({ns:GS("cascader-node")}),render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:r,label:o}=t,{renderLabelFn:i}=n;return ga("span",{class:e.e("label")},i?i({node:t,data:r}):o)}});const tk=Symbol(),nk=Qn({name:"ElCascaderNode",components:{ElCheckbox:UN,ElRadio:JN,NodeContent:ek,ElIcon:aR,Check:Om,Loading:A_,ArrowRight:vf},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=To(tk),r=GS("cascader-node"),o=ma((()=>n.isHoverMenu)),i=ma((()=>n.config.multiple)),a=ma((()=>n.config.checkStrictly)),s=ma((()=>{var e;return null==(e=n.checkedNodes[0])?void 0:e.uid})),c=ma((()=>e.node.isDisabled)),l=ma((()=>e.node.isLeaf)),u=ma((()=>a.value&&!l.value||!c.value)),d=ma((()=>p(n.expandingNode))),h=ma((()=>a.value&&n.checkedNodes.some(p))),p=t=>{var n;const{level:r,uid:o}=e.node;return(null==(n=null==t?void 0:t.pathNodes[r-1])?void 0:n.uid)===o},f=()=>{d.value||n.expandNode(e.node)},m=t=>{const{node:r}=e;t!==r.checked&&n.handleCheckChange(r,t)},g=()=>{n.lazyLoad(e.node,(()=>{l.value||f()}))},v=()=>{const{node:t}=e;u.value&&!t.loading&&(t.loaded?f():g())},y=t=>{e.node.loaded?(m(t),!a.value&&f()):g()};return{panel:n,isHoverMenu:o,multiple:i,checkStrictly:a,checkedNodeId:s,isDisabled:c,isLeaf:l,expandable:u,inExpandingPath:d,inCheckedPath:h,ns:r,handleHoverExpand:e=>{o.value&&(v(),!l.value&&t("expand",e))},handleExpand:v,handleClick:()=>{o.value&&!l.value||(!l.value||c.value||a.value||i.value?v():y(!0))},handleCheck:y,handleSelectCheck:t=>{a.value?(m(t),e.node.loaded&&f()):y(t)}}}});const rk=Qn({name:"ElCascaderMenu",components:{Loading:A_,ElIcon:aR,ElScrollbar:yI,ElCascaderNode:oR(nk,[["render",function(e,t,n,r,o,i){const a=Ur("el-checkbox"),s=Ur("el-radio"),c=Ur("check"),l=Ur("el-icon"),u=Ur("node-content"),d=Ur("loading"),h=Ur("arrow-right");return Ri(),ki("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:q([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:e.handleHoverExpand,onFocus:e.handleHoverExpand,onClick:e.handleClick},[Hi(" prefix "),e.multiple?(Ri(),Di(a,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:Js((()=>{}),["stop"]),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):e.checkStrictly?(Ri(),Di(s,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:Js((()=>{}),["stop"])},{default:wn((()=>[Hi("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),Ui("span")])),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):e.isLeaf&&e.node.checked?(Ri(),Di(l,{key:2,class:q(e.ns.e("prefix"))},{default:wn((()=>[ji(c)])),_:1},8,["class"])):Hi("v-if",!0),Hi(" content "),ji(u),Hi(" postfix "),e.isLeaf?Hi("v-if",!0):(Ri(),ki(Ei,{key:3},[e.node.loading?(Ri(),Di(l,{key:0,class:q([e.ns.is("loading"),e.ns.e("postfix")])},{default:wn((()=>[ji(d)])),_:1},8,["class"])):(Ri(),Di(l,{key:1,class:q(["arrow-right",e.ns.e("postfix")])},{default:wn((()=>[ji(h)])),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}],["__file","node.vue"]])},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=Qi(),n=GS("cascader-menu"),{t:r}=VS(),o=_C();let i=null,a=null;const s=To(tk),c=Dt(null),l=ma((()=>!e.nodes.length)),u=ma((()=>!s.initialLoaded)),d=ma((()=>`${o.value}-${e.index}`)),h=()=>{a&&(clearTimeout(a),a=null)},p=()=>{c.value&&(c.value.innerHTML="",h())};return{ns:n,panel:s,hoverZone:c,isEmpty:l,isLoading:u,menuId:d,t:r,handleExpand:e=>{i=e.target},handleMouseMove:e=>{if(s.isHoverMenu&&i&&c.value)if(i.contains(e.target)){h();const n=t.vnode.el,{left:r}=n.getBoundingClientRect(),{offsetWidth:o,offsetHeight:a}=n,s=e.clientX-r,l=i.offsetTop,u=l+i.offsetHeight;c.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${s} ${l} L${o} 0 V${l} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${s} ${u} L${o} ${a} V${u} Z" />\n        `}else a||(a=window.setTimeout(p,s.config.hoverThreshold))},clearHoverZone:p}}});var ok=oR(rk,[["render",function(e,t,n,r,o,i){const a=Ur("el-cascader-node"),s=Ur("loading"),c=Ur("el-icon"),l=Ur("el-scrollbar");return Ri(),Di(l,{key:e.menuId,tag:"ul",role:"menu",class:q(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:wn((()=>{var t;return[(Ri(!0),ki(Ei,null,Hr(e.nodes,(t=>(Ri(),Di(a,{key:t.uid,node:t,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isLoading?(Ri(),ki("div",{key:0,class:q(e.ns.e("empty-text"))},[ji(c,{size:"14",class:q(e.ns.is("loading"))},{default:wn((()=>[ji(s)])),_:1},8,["class"]),zi(" "+ee(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(Ri(),ki("div",{key:1,class:q(e.ns.e("empty-text"))},[Wr(e.$slots,"empty",{},(()=>[zi(ee(e.t("el.cascader.noData")),1)]))],2)):(null==(t=e.panel)?void 0:t.isHoverMenu)?(Ri(),ki("svg",{key:2,ref:"hoverZone",class:q(e.ns.e("hover-zone"))},null,2)):Hi("v-if",!0)]})),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}],["__file","menu.vue"]]);let ik=0;class ak{constructor(e,t,n,r=!1){this.data=e,this.config=t,this.parent=n,this.root=r,this.uid=ik++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:i,children:a}=t,s=e[a],c=(e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t})(this);this.level=r?0:n?n.level+1:1,this.value=e[o],this.label=e[i],this.pathNodes=c,this.pathValues=c.map((e=>e.value)),this.pathLabels=c.map((e=>e.label)),this.childrenData=s,this.children=(s||[]).map((e=>new ak(e,t,this))),this.loaded=!t.lazy||this.isLeaf||!Ap(s)}get isDisabled(){const{data:e,parent:t,config:n}=this,{disabled:r,checkStrictly:o}=n;return(m(r)?r(e,this):!!e[r])||!o&&(null==t?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:n,loaded:r}=this,{lazy:o,leaf:i}=t,a=m(i)?i(e,this):e[i];return Cp(a)?!(o&&!r)&&!(d(n)&&n.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:t,children:n}=this,r=new ak(e,this.config,this);return d(t)?t.push(e):this.childrenData=[e],n.push(r),r}calcText(e,t){const n=e?this.pathLabels.join(t):this.label;return this.text=n,n}broadcast(e,...t){const n=`onParent${Pp(e)}`;this.children.forEach((r=>{r&&(r.broadcast(e,...t),r[n]&&r[n](...t))}))}emit(e,...t){const{parent:n}=this,r=`onChild${Pp(e)}`;n&&(n[r]&&n[r](...t),n.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter((e=>!e.isDisabled)),n=!!t.length&&t.every((e=>e.checked));this.setCheckState(n)}setCheckState(e){const t=this.children.length,n=this.children.reduce(((e,t)=>e+(t.checked?1:t.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.filter((e=>!e.isDisabled)).every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&n!==t&&n>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:n}=this.config;t||!n?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const sk=(e,t)=>e.reduce(((e,n)=>(n.isLeaf?e.push(n):(!t&&e.push(n),e=e.concat(sk(n.children,t))),e)),[]);let ck=class{constructor(e,t){this.config=t;const n=(e||[]).map((e=>new ak(e,this.config)));this.nodes=n,this.allNodes=sk(n,!1),this.leafNodes=sk(n,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const n=t?t.appendChild(e):new ak(e,this.config);t||this.nodes.push(n),this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n)}appendNodes(e,t){e.forEach((e=>this.appendNode(e,t)))}getNodeByValue(e,t=!1){if(!e&&0!==e)return null;return this.getFlattedNodes(t).find((t=>fp(t.value,e)||fp(t.pathValues,e)))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find((({value:t,level:n})=>fp(e.value,t)&&e.level===n))||null}};const lk=rS({modelValue:{type:[Number,String,Array]},options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}}),uk={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:r,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},dk=e=>ma((()=>({...uk,...e.props}))),hk=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},pk=Qn({name:"ElCascaderPanel",components:{ElCascaderMenu:ok},props:{...lk,border:{type:Boolean,default:!0},renderLabel:Function},emits:[gS,vS,"close","expand-change"],setup(e,{emit:t,slots:n}){let r=!1;const o=GS("cascader"),i=dk(e);let a=null;const s=Dt(!0),c=Dt([]),l=Dt(null),u=Dt([]),d=Dt(null),h=Dt([]),p=ma((()=>"hover"===i.value.expandTrigger)),f=ma((()=>e.renderLabel||n.default)),m=(e,t)=>{const n=i.value;(e=e||new ak({},n,void 0,!0)).loading=!0;n.lazyLoad(e,(n=>{const r=e,o=r.root?null:r;n&&(null==a||a.appendNodes(n,o)),r.loading=!1,r.loaded=!0,r.childrenData=r.childrenData||[],t&&t(n)}))},g=(e,n)=>{var r;const{level:o}=e,i=u.value.slice(0,o);let a;e.isLeaf?a=e.pathNodes[o-2]:(a=e,i.push(e.children)),(null==(r=d.value)?void 0:r.uid)!==(null==a?void 0:a.uid)&&(d.value=e,u.value=i,!n&&t("expand-change",(null==e?void 0:e.pathValues)||[]))},v=(e,n,o=!0)=>{const{checkStrictly:a,multiple:s}=i.value,c=h.value[0];r=!0,!s&&(null==c||c.doCheck(!1)),e.doCheck(n),b(),o&&!s&&!a&&t("close"),!o&&!s&&!a&&y(e)},y=e=>{e&&(e=e.parent,y(e),e&&g(e))},_=e=>null==a?void 0:a.getFlattedNodes(e),E=e=>{var t;return null==(t=_(e))?void 0:t.filter((e=>!1!==e.checked))},b=()=>{var e;const{checkStrictly:t,multiple:n}=i.value,r=((e,t)=>{const n=t.slice(0),r=n.map((e=>e.uid)),o=e.reduce(((e,t)=>{const o=r.indexOf(t.uid);return o>-1&&(e.push(t),n.splice(o,1),r.splice(o,1)),e}),[]);return o.push(...n),o})(h.value,E(!t)),o=r.map((e=>e.valueByOption));h.value=r,l.value=n?o:null!=(e=o[0])?e:null},T=(t=!1,n=!1)=>{const{modelValue:o}=e,{lazy:c,multiple:u,checkStrictly:d}=i.value,h=!d;var p;if(s.value&&!r&&(n||!fp(o,l.value)))if(c&&!t){const e=RS(null!=(p=IS(o))&&p.length?Id(p,hp):[]).map((e=>null==a?void 0:a.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));e.length?e.forEach((e=>{m(e,(()=>T(!1,n)))})):T(!0,n)}else{const e=u?IS(o):[o],t=RS(e.map((e=>null==a?void 0:a.getNodeByValue(e,h))));S(t,n),l.value=Oh(o)}},S=(e,t=!0)=>{const{checkStrictly:n}=i.value,r=h.value,o=e.filter((e=>!!e&&(n||e.isLeaf))),s=null==a?void 0:a.getSameNode(d.value),c=t&&s||o[0];c?c.pathNodes.forEach((e=>g(e,!0))):d.value=null,r.forEach((e=>e.doCheck(!1))),yt(o).forEach((e=>e.doCheck(!0))),h.value=o,dn(w)},w=()=>{Oc&&c.value.forEach((e=>{const t=null==e?void 0:e.$el;if(t){$p(t.querySelector(`.${o.namespace.value}-scrollbar__wrap`),t.querySelector(`.${o.b("node")}.${o.is("active")}`)||t.querySelector(`.${o.b("node")}.in-active-path`))}}))};return bo(tk,yt({config:i,expandingNode:d,checkedNodes:h,isHoverMenu:p,initialLoaded:s,renderLabelFn:f,lazyLoad:m,expandNode:g,handleCheckChange:v})),Zo([i,()=>e.options],(()=>{const{options:t}=e,n=i.value;r=!1,a=new ck(t,n),u.value=[a.getNodes()],n.lazy&&Ap(e.options)?(s.value=!1,m(void 0,(e=>{e&&(a=new ck(e,n),u.value=[a.getNodes()]),s.value=!0,T(!1,!0)}))):T(!1,!0)}),{deep:!0,immediate:!0}),Zo((()=>e.modelValue),(()=>{r=!1,T()}),{deep:!0}),Zo((()=>l.value),(n=>{fp(n,e.modelValue)||(t(gS,n),t(vS,n))})),Ar((()=>c.value=[])),Ir((()=>!Ap(e.modelValue)&&T())),{ns:o,menuList:c,menus:u,checkedNodes:h,handleKeyDown:e=>{const t=e.target,{code:n}=e;switch(n){case pS.up:case pS.down:{e.preventDefault();const r=n===pS.up?-1:1;vc(gc(t,r,`.${o.b("node")}[tabindex="-1"]`));break}case pS.left:{e.preventDefault();const n=c.value[hk(t)-1],r=null==n?void 0:n.$el.querySelector(`.${o.b("node")}[aria-expanded="true"]`);vc(r);break}case pS.right:{e.preventDefault();const n=c.value[hk(t)+1],r=null==n?void 0:n.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`);vc(r);break}case pS.enter:case pS.numpadEnter:(e=>{if(!e)return;const t=e.querySelector("input");t?t.click():mc(e)&&e.click()})(t)}},handleCheckChange:v,getFlattedNodes:_,getCheckedNodes:E,clearCheckedNodes:()=>{h.value.forEach((e=>e.doCheck(!1))),b(),u.value=u.value.slice(0,1),d.value=null,t("expand-change",[])},calculateCheckedValue:b,scrollToExpandingNode:w}}});const fk=lS(oR(pk,[["render",function(e,t,n,r,o,i){const a=Ur("el-cascader-menu");return Ri(),ki("div",{class:q([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:e.handleKeyDown},[(Ri(!0),ki(Ei,null,Hr(e.menus,((t,n)=>(Ri(),Di(a,{key:n,ref_for:!0,ref:t=>e.menuList[n]=t,index:n,nodes:[...t]},{empty:wn((()=>[Wr(e.$slots,"empty")])),_:2},1032,["index","nodes"])))),128))],42,["onKeydown"])}],["__file","index.vue"]])),mk=rS({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:_S},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),gk={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent};const vk=lS(oR(Qn({...Qn({name:"ElTag"}),props:mk,emits:gk,setup(e,{emit:t}){const n=e,r=lR(),o=GS("tag"),i=ma((()=>{const{type:e,hit:t,effect:i,closable:a,round:s}=n;return[o.b(),o.is("closable",a),o.m(e||"primary"),o.m(r.value),o.m(i),o.is("hit",t),o.is("round",s)]})),a=e=>{t("close",e)},s=e=>{t("click",e)},c=e=>{e.component.subTree.component.bum=null};return(e,t)=>e.disableTransitions?(Ri(),ki("span",{key:0,class:q(Lt(i)),style:z({backgroundColor:e.color}),onClick:s},[Ui("span",{class:q(Lt(o).e("content"))},[Wr(e.$slots,"default")],2),e.closable?(Ri(),Di(Lt(aR),{key:0,class:q(Lt(o).e("close")),onClick:Js(a,["stop"])},{default:wn((()=>[ji(Lt(tg))])),_:1},8,["class","onClick"])):Hi("v-if",!0)],6)):(Ri(),Di(La,{key:1,name:`${Lt(o).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:c},{default:wn((()=>[Ui("span",{class:q(Lt(i)),style:z({backgroundColor:e.color}),onClick:s},[Ui("span",{class:q(Lt(o).e("content"))},[Wr(e.$slots,"default")],2),e.closable?(Ri(),Di(Lt(aR),{key:0,class:q(Lt(o).e("close")),onClick:Js(a,["stop"])},{default:wn((()=>[ji(Lt(tg))])),_:1},8,["class","onClick"])):Hi("v-if",!0)],6)])),_:3},8,["name"]))}}),[["__file","tag.vue"]])),yk=rS({...lk,size:UC,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},placement:{type:String,values:sw,default:"bottom-start"},fallbackPlacements:{type:Array,default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:lA.teleported,tagType:{...mk.type,default:"info"},tagEffect:{...mk.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...WC}),_k={[gS]:e=>!0,[vS]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>Rp(e),expandChange:e=>!!e,removeTag:e=>!!e},Ek=Qn({...Qn({name:"ElCascader"}),props:yk,emits:_k,setup(e,{expose:t,emit:n}){const r=e,o={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:t,placement:n}=e;["right","left","bottom","top"].includes(n)||(t.arrow.x=35)},requires:["arrow"]}]},i=eo();let a=0,s=0;const c=GS("cascader"),l=GS("input"),{t:u}=VS(),{form:d,formItem:h}=dR(),{valueOnClear:p}=qC(r),{isComposing:f,handleComposition:m}=zC({afterComposition(e){var t;const n=null==(t=e.target)?void 0:t.value;me(n)}}),g=Dt(null),v=Dt(null),y=Dt(null),_=Dt(null),b=Dt(null),T=Dt(!1),S=Dt(!1),w=Dt(!1),C=Dt(!1),R=Dt(""),I=Dt(""),A=Dt([]),O=Dt([]),N=Dt([]),k=ma((()=>i.style)),D=ma((()=>r.disabled||(null==d?void 0:d.disabled))),x=ma((()=>r.placeholder||u("el.cascader.placeholder"))),P=ma((()=>I.value||A.value.length>0||f.value?"":x.value)),M=lR(),L=ma((()=>["small"].includes(M.value)?"small":"default")),U=ma((()=>!!r.props.multiple)),j=ma((()=>!r.filterable||U.value)),V=ma((()=>U.value?I.value:R.value)),B=ma((()=>{var e;return(null==(e=_.value)?void 0:e.checkedNodes)||[]})),F=ma((()=>!(!r.clearable||D.value||w.value||!S.value)&&!!B.value.length)),H=ma((()=>{const{showAllLevels:e,separator:t}=r,n=B.value;return n.length?U.value?"":n[0].calcText(e,t):""})),G=ma((()=>(null==h?void 0:h.validateState)||"")),W=ma({get:()=>Oh(r.modelValue),set(e){const t=null!=e?e:p.value;n(gS,t),n(vS,t),r.validateEvent&&(null==h||h.validate("change").catch((e=>{})))}}),K=ma((()=>[c.b(),c.m(M.value),c.is("disabled",D.value),i.class])),Y=ma((()=>[l.e("icon"),"icon-arrow-down",c.is("reverse",T.value)])),X=ma((()=>c.is("focus",T.value||C.value))),$=ma((()=>{var e,t;return null==(t=null==(e=g.value)?void 0:e.popperRef)?void 0:t.contentRef})),J=e=>{var t,o,i;D.value||(e=null!=e?e:!T.value)!==T.value&&(T.value=e,null==(o=null==(t=v.value)?void 0:t.input)||o.setAttribute("aria-expanded",`${e}`),e?(Z(),dn(null==(i=_.value)?void 0:i.scrollToExpandingNode)):r.filterable&&le(),n("visibleChange",e))},Z=()=>{dn((()=>{var e;null==(e=g.value)||e.updatePopper()}))},Q=()=>{w.value=!1},te=e=>{const{showAllLevels:t,separator:n}=r;return{node:e,key:e.uid,text:e.calcText(t,n),hitState:!1,closable:!D.value&&!e.isDisabled,isCollapseTag:!1}},ne=e=>{var t;const r=e.node;r.doCheck(!1),null==(t=_.value)||t.calculateCheckedValue(),n("removeTag",r.valueByOption)},re=()=>{var e,t;const{filterMethod:n,showAllLevels:o,separator:i}=r,a=null==(t=null==(e=_.value)?void 0:e.getFlattedNodes(!r.props.checkStrictly))?void 0:t.filter((e=>!e.isDisabled&&(e.calcText(o,i),n(e,V.value))));U.value&&(A.value.forEach((e=>{e.hitState=!1})),O.value.forEach((e=>{e.hitState=!1}))),w.value=!0,N.value=a,Z()},oe=()=>{var e;let t;t=w.value&&b.value?b.value.$el.querySelector(`.${c.e("suggestion-item")}`):null==(e=_.value)?void 0:e.$el.querySelector(`.${c.b("node")}[tabindex="-1"]`),t&&(t.focus(),!w.value&&t.click())},ie=()=>{var e,t;const n=null==(e=v.value)?void 0:e.input,r=y.value,o=null==(t=b.value)?void 0:t.$el;if(Oc&&n){if(o){o.querySelector(`.${c.e("suggestion-list")}`).style.minWidth=`${n.offsetWidth}px`}if(r){const{offsetHeight:e}=r,t=A.value.length>0?`${Math.max(e+6,a)}px`:`${a}px`;n.style.height=t,Z()}}},ae=e=>{Z(),n("expandChange",e)},se=e=>{if(!f.value)switch(e.code){case pS.enter:case pS.numpadEnter:J();break;case pS.down:J(!0),dn(oe),e.preventDefault();break;case pS.esc:!0===T.value&&(e.preventDefault(),e.stopPropagation(),J(!1));break;case pS.tab:J(!1)}},ce=()=>{var e;null==(e=_.value)||e.clearCheckedNodes(),!T.value&&r.filterable&&le(),J(!1),n("clear")},le=()=>{const{value:e}=H;R.value=e,I.value=e},ue=e=>{const t=e.target,{code:n}=e;switch(n){case pS.up:case pS.down:{const e=n===pS.up?-1:1;vc(gc(t,e,`.${c.e("suggestion-item")}[tabindex="-1"]`));break}case pS.enter:case pS.numpadEnter:t.click()}},de=()=>{const e=A.value,t=e[e.length-1];s=I.value?0:s+1,!t||!s||r.collapseTags&&e.length>1||(t.hitState?ne(t):t.hitState=!0)},he=e=>{const t=e.target,r=c.e("search-input");t.className===r&&(C.value=!0),n("focus",e)},pe=e=>{C.value=!1,n("blur",e)},fe=op((()=>{const{value:e}=V;if(!e)return;const t=r.beforeFilter(e);E(t)?t.then(re).catch((()=>{})):!1!==t?re():Q()}),r.debounce),me=(e,t)=>{!T.value&&J(!0),(null==t?void 0:t.isComposing)||(e?fe():Q())},ge=e=>Number.parseFloat(function(e,t,{window:n=zc,initialValue:r=""}={}){const o=Dt(r),i=ma((()=>{var e;return Bc(t)||(null==(e=null==n?void 0:n.document)?void 0:e.documentElement)}));return Zo([i,()=>xc(e)],(([e,t])=>{var i;if(e&&n){const a=null==(i=n.getComputedStyle(e).getPropertyValue(t))?void 0:i.trim();o.value=a||r}}),{immediate:!0}),Zo(o,(t=>{var n;(null==(n=i.value)?void 0:n.style)&&i.value.style.setProperty(xc(e),t)})),o}(l.cssVarName("input-height"),e).value)-2;return Zo(w,Z),Zo([B,D,()=>r.collapseTags],(()=>{if(!U.value)return;const e=B.value,t=[],n=[];if(e.forEach((e=>n.push(te(e)))),O.value=n,e.length){e.slice(0,r.maxCollapseTags).forEach((e=>t.push(te(e))));const n=e.slice(r.maxCollapseTags),o=n.length;o&&(r.collapseTags?t.push({key:-1,text:`+ ${o}`,closable:!1,isCollapseTag:!0}):n.forEach((e=>t.push(te(e)))))}A.value=t})),Zo(A,(()=>{dn((()=>ie()))})),Zo(M,(async()=>{await dn();const e=v.value.input;a=ge(e)||a,ie()})),Zo(H,le,{immediate:!0}),Ir((()=>{const e=v.value.input,t=ge(e);a=e.offsetHeight||t,Qc(e,ie)})),t({getCheckedNodes:e=>{var t;return null==(t=_.value)?void 0:t.getCheckedNodes(e)},cascaderPanelRef:_,togglePopperVisible:J,contentRef:$,presentText:H}),(e,t)=>(Ri(),Di(Lt(bA),{ref_key:"tooltipRef",ref:g,visible:T.value,teleported:e.teleported,"popper-class":[Lt(c).e("dropdown"),e.popperClass],"popper-options":o,"fallback-placements":e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:e.placement,transition:`${Lt(c).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:e.persistent,onHide:Q},{default:wn((()=>[Cn((Ri(),ki("div",{class:q(Lt(K)),style:z(Lt(k)),onClick:()=>J(!Lt(j)||void 0),onKeydown:se,onMouseenter:e=>S.value=!0,onMouseleave:e=>S.value=!1},[ji(Lt(sI),{ref_key:"input",ref:v,modelValue:R.value,"onUpdate:modelValue":e=>R.value=e,placeholder:Lt(P),readonly:Lt(j),disabled:Lt(D),"validate-event":!1,size:Lt(M),class:q(Lt(X)),tabindex:Lt(U)&&e.filterable&&!Lt(D)?-1:void 0,onCompositionstart:Lt(m),onCompositionupdate:Lt(m),onCompositionend:Lt(m),onFocus:he,onBlur:pe,onInput:me},{suffix:wn((()=>[Lt(F)?(Ri(),Di(Lt(aR),{key:"clear",class:q([Lt(l).e("icon"),"icon-circle-close"]),onClick:Js(ce,["stop"])},{default:wn((()=>[ji(Lt(Wm))])),_:1},8,["class","onClick"])):(Ri(),Di(Lt(aR),{key:"arrow-down",class:q(Lt(Y)),onClick:Js((e=>J()),["stop"])},{default:wn((()=>[ji(Lt(lf))])),_:1},8,["class","onClick"]))])),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),Lt(U)?(Ri(),ki("div",{key:0,ref_key:"tagWrapper",ref:y,class:q([Lt(c).e("tags"),Lt(c).is("validate",Boolean(Lt(G)))])},[(Ri(!0),ki(Ei,null,Hr(A.value,(t=>(Ri(),Di(Lt(vk),{key:t.key,type:e.tagType,size:Lt(L),effect:e.tagEffect,hit:t.hitState,closable:t.closable,"disable-transitions":"",onClose:e=>ne(t)},{default:wn((()=>[!1===t.isCollapseTag?(Ri(),ki("span",{key:0},ee(t.text),1)):(Ri(),Di(Lt(bA),{key:1,disabled:T.value||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:wn((()=>[Ui("span",null,ee(t.text),1)])),content:wn((()=>[Ui("div",{class:q(Lt(c).e("collapse-tags"))},[(Ri(!0),ki(Ei,null,Hr(O.value.slice(e.maxCollapseTags),((t,n)=>(Ri(),ki("div",{key:n,class:q(Lt(c).e("collapse-tag"))},[(Ri(),Di(Lt(vk),{key:t.key,class:"in-tooltip",type:e.tagType,size:Lt(L),effect:e.tagEffect,hit:t.hitState,closable:t.closable,"disable-transitions":"",onClose:e=>ne(t)},{default:wn((()=>[Ui("span",null,ee(t.text),1)])),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2)))),128))],2)])),_:2},1032,["disabled"]))])),_:2},1032,["type","size","effect","hit","closable","onClose"])))),128)),e.filterable&&!Lt(D)?Cn((Ri(),ki("input",{key:0,"onUpdate:modelValue":e=>I.value=e,type:"text",class:q(Lt(c).e("search-input")),placeholder:Lt(H)?"":Lt(x),onInput:e=>me(I.value,e),onClick:Js((e=>J(!0)),["stop"]),onKeydown:Qs(de,["delete"]),onCompositionstart:Lt(m),onCompositionupdate:Lt(m),onCompositionend:Lt(m),onFocus:he,onBlur:pe},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[js,I.value]]):Hi("v-if",!0)],2)):Hi("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[Lt(VO),()=>J(!1),Lt($)]])])),content:wn((()=>[Cn(ji(Lt(fk),{ref_key:"cascaderPanelRef",ref:_,modelValue:Lt(W),"onUpdate:modelValue":e=>kt(W)?W.value=e:null,options:e.options,props:r.props,border:!1,"render-label":e.$slots.default,onExpandChange:ae,onClose:t=>e.$nextTick((()=>J(!1)))},{empty:wn((()=>[Wr(e.$slots,"empty")])),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[Za,!w.value]]),e.filterable?Cn((Ri(),Di(Lt(yI),{key:0,ref_key:"suggestionPanel",ref:b,tag:"ul",class:q(Lt(c).e("suggestion-panel")),"view-class":Lt(c).e("suggestion-list"),onKeydown:ue},{default:wn((()=>[N.value.length?(Ri(!0),ki(Ei,{key:0},Hr(N.value,(e=>(Ri(),ki("li",{key:e.uid,class:q([Lt(c).e("suggestion-item"),Lt(c).is("checked",e.checked)]),tabindex:-1,onClick:t=>(e=>{var t,n;const{checked:r}=e;U.value?null==(t=_.value)||t.handleCheckChange(e,!r,!1):(!r&&(null==(n=_.value)||n.handleCheckChange(e,!0,!1)),J(!1))})(e)},[Ui("span",null,ee(e.text),1),e.checked?(Ri(),Di(Lt(aR),{key:0},{default:wn((()=>[ji(Lt(Om))])),_:1})):Hi("v-if",!0)],10,["onClick"])))),128)):Wr(e.$slots,"empty",{key:1},(()=>[Ui("li",{class:q(Lt(c).e("empty-text"))},ee(Lt(u)("el.cascader.noMatch")),3)]))])),_:3},8,["class","view-class"])),[[Za,w.value]]):Hi("v-if",!0)])),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});const bk=lS(oR(Ek,[["__file","cascader.vue"]])),Tk=Symbol("rowContextKey"),Sk=["start","center","end","space-around","space-between","space-evenly"],wk=["top","middle","bottom"],Ck=rS({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Sk,default:"start"},align:{type:String,values:wk}});const Rk=lS(oR(Qn({...Qn({name:"ElRow"}),props:Ck,setup(e){const t=e,n=GS("row"),r=ma((()=>t.gutter));bo(Tk,{gutter:r});const o=ma((()=>{const e={};return t.gutter?(e.marginRight=e.marginLeft=`-${t.gutter/2}px`,e):e})),i=ma((()=>[n.b(),n.is(`justify-${t.justify}`,"start"!==t.justify),n.is(`align-${t.align}`,!!t.align)]));return(e,t)=>(Ri(),Di(Vr(e.tag),{class:q(Lt(i)),style:z(Lt(o))},{default:wn((()=>[Wr(e.$slots,"default")])),_:3},8,["class","style"]))}}),[["__file","row.vue"]])),Ik=rS({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:[Number,Object],default:()=>({})},sm:{type:[Number,Object],default:()=>({})},md:{type:[Number,Object],default:()=>({})},lg:{type:[Number,Object],default:()=>({})},xl:{type:[Number,Object],default:()=>({})}});const Ak=lS(oR(Qn({...Qn({name:"ElCol"}),props:Ik,setup(e){const t=e,{gutter:n}=To(Tk,{gutter:ma((()=>0))}),r=GS("col"),o=ma((()=>{const e={};return n.value&&(e.paddingLeft=e.paddingRight=n.value/2+"px"),e})),i=ma((()=>{const e=[];["span","offset","pull","push"].forEach((n=>{const o=t[n];Ip(o)&&("span"===n?e.push(r.b(`${t[n]}`)):o>0&&e.push(r.b(`${n}-${t[n]}`)))}));return["xs","sm","md","lg","xl"].forEach((n=>{Ip(t[n])?e.push(r.b(`${n}-${t[n]}`)):y(t[n])&&Object.entries(t[n]).forEach((([t,o])=>{e.push("span"!==t?r.b(`${n}-${t}-${o}`):r.b(`${n}-${o}`))}))})),n.value&&e.push(r.is("guttered")),[r.b(),e]}));return(e,t)=>(Ri(),Di(Vr(e.tag),{class:q(Lt(i)),style:z(Lt(o))},{default:wn((()=>[Wr(e.$slots,"default")])),_:3},8,["class","style"]))}}),[["__file","col.vue"]]));var Ok={exports:{}};Ok.exports=function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var o=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return o.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return o.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return o.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return r.bind(this)(i)}};const Nk=iO(Ok.exports);var kk,Dk,xk={exports:{}};xk.exports=(kk="week",Dk="year",function(e,t,n){var r=t.prototype;r.week=function(e){if(void 0===e&&(e=null),null!==e)return this.add(7*(e-this.week()),"day");var t=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var r=n(this).startOf(Dk).add(1,Dk).date(t),o=n(this).endOf(kk);if(r.isBefore(o))return 1}var i=n(this).startOf(Dk).date(t).startOf(kk).subtract(1,"millisecond"),a=this.diff(i,kk,!0);return a<0?n(this).startOf("week").week():Math.ceil(a)},r.weeks=function(e){return void 0===e&&(e=null),this.week(e)}});const Pk=iO(xk.exports);var Mk={exports:{}};Mk.exports=function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}};const Lk=iO(Mk.exports);var Uk={exports:{}};Uk.exports=function(e,t,n){t.prototype.dayOfYear=function(e){var t=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"day")}};const jk=iO(Uk.exports);var Vk={exports:{}};Vk.exports=function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}};const Bk=iO(Vk.exports);var zk={exports:{}};const Fk=iO(zk.exports=function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}),Hk=Symbol(),Gk=rS({...RO,type:{type:String,default:"date"}}),Wk=["date","dates","year","years","month","months","week","range"],qk=rS({disabledDate:{type:Function},date:{type:Object,required:!0},minDate:{type:Object},maxDate:{type:Object},parsedValue:{type:[Object,Array]},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}}),Kk=rS({type:{type:String,required:!0,values:fS},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),Yk=rS({unlinkPanels:Boolean,parsedValue:{type:Array}}),Xk=e=>({type:String,values:Wk,default:e}),$k=rS({...Kk,parsedValue:{type:[Object,Array]},visible:{type:Boolean},format:{type:String,default:""}}),Jk=e=>{if(!d(e))return!1;const[t,n]=e;return cO.isDayjs(t)&&cO.isDayjs(n)&&t.isSameOrBefore(n)},Zk=(e,{lang:t,unit:n,unlinkPanels:r})=>{let o;if(d(e)){let[o,i]=e.map((e=>cO(e).locale(t)));return r||(i=o.add(1,n)),[o,i]}return o=e?cO(e):cO(),o=o.locale(t),[o,o.add(1,n)]},Qk=(e,t,n)=>{const r=cO().locale(n).startOf("month").month(t).year(e),o=r.daysInMonth();return gO(o).map((e=>r.add(e,"day").toDate()))},eD=(e,t,n,r)=>{const o=cO().year(e).month(t).startOf("month"),i=Qk(e,t,n).find((e=>!(null==r?void 0:r(e))));return i?cO(i).locale(n):o.locale(n)},tD=(e,t,n)=>{const r=e.year();if(!(null==n?void 0:n(e.toDate())))return e.locale(t);const o=e.month();if(!Qk(r,o,t).every(n))return eD(r,o,t,n);for(let i=0;i<12;i++)if(!Qk(r,i,t).every(n))return eD(r,i,t,n);return e},nD=rS({...qk,cellClassName:{type:Function},showWeekNumber:Boolean,selectionMode:Xk("date")}),rD=(e="")=>["normal","today"].includes(e),oD=(e,t)=>{const{lang:n}=VS(),r=Dt(),o=Dt(),i=Dt(),a=Dt(),s=Dt([[],[],[],[],[],[]]);let c=!1;const l=e.date.$locale().weekStart||7,u=e.date.locale("en").localeData().weekdaysShort().map((e=>e.toLowerCase())),h=ma((()=>l>3?7-l:-l)),p=ma((()=>{const t=e.date.startOf("month");return t.subtract(t.day()||7,"day")})),f=ma((()=>u.concat(u).slice(l,l+7))),m=ma((()=>Ad(Lt(E)).some((e=>e.isCurrent)))),g=ma((()=>{const t=e.date.startOf("month");return{startOfMonthDay:t.day()||7,dateCountOfMonth:t.daysInMonth(),dateCountOfLastMonth:t.subtract(1,"month").daysInMonth()}})),v=ma((()=>"dates"===e.selectionMode?IS(e.parsedValue):[])),y=(t,{columnIndex:n,rowIndex:r},o)=>{const{disabledDate:i,cellClassName:a}=e,s=Lt(v),c=((e,{count:t,rowIndex:n,columnIndex:r})=>{const{startOfMonthDay:o,dateCountOfMonth:i,dateCountOfLastMonth:a}=Lt(g),s=Lt(h);if(!(n>=0&&n<=1))return t<=i?e.text=t:(e.text=t-i,e.type="next-month"),!0;{const i=o+s<0?7+o+s:o+s;if(r+7*n>=i)return e.text=t,!0;e.text=a-(i-r%7)+1+7*n,e.type="prev-month"}return!1})(t,{count:o,rowIndex:r,columnIndex:n}),l=t.dayjs.toDate();return t.selected=s.find((e=>e.isSame(t.dayjs,"day"))),t.isSelected=!!t.selected,t.isCurrent=T(t),t.disabled=null==i?void 0:i(l),t.customClass=null==a?void 0:a(l),c},_=t=>{if("week"===e.selectionMode){const[n,r]=e.showWeekNumber?[1,7]:[0,6],o=R(t[n+1]);t[n].inRange=o,t[n].start=o,t[r].inRange=o,t[r].end=o}},E=ma((()=>{const{minDate:t,maxDate:r,rangeState:o,showWeekNumber:i}=e,a=Lt(h),c=Lt(s),l="day";let u=1;if(i)for(let e=0;e<6;e++)c[e][0]||(c[e][0]={type:"week",text:Lt(p).add(7*e+1,l).week()});return((e,t,{columnIndexOffset:n,startDate:r,nextEndDate:o,now:i,unit:a,relativeDateGetter:s,setCellMetadata:c,setRowMetadata:l})=>{for(let u=0;u<e.row;u++){const d=t[u];for(let t=0;t<e.column;t++){let l=d[t+n];l||(l={row:u,column:t,type:"normal",inRange:!1,start:!1,end:!1});const h=s(u*e.column+t);l.dayjs=h,l.date=h.toDate(),l.timestamp=h.valueOf(),l.type="normal",l.inRange=!!(r&&h.isSameOrAfter(r,a)&&o&&h.isSameOrBefore(o,a))||!!(r&&h.isSameOrBefore(r,a)&&o&&h.isSameOrAfter(o,a)),(null==r?void 0:r.isSameOrAfter(o))?(l.start=!!o&&h.isSame(o,a),l.end=r&&h.isSame(r,a)):(l.start=!!r&&h.isSame(r,a),l.end=!!o&&h.isSame(o,a)),h.isSame(i,a)&&(l.type="today"),null==c||c(l,{rowIndex:u,columnIndex:t}),d[t+n]=l}null==l||l(d)}})({row:6,column:7},c,{startDate:t,columnIndexOffset:i?1:0,nextEndDate:o.endDate||r||o.selecting&&t||null,now:cO().locale(Lt(n)).startOf(l),unit:l,relativeDateGetter:e=>Lt(p).add(e-a,l),setCellMetadata:(...e)=>{y(...e,u)&&(u+=1)},setRowMetadata:_}),c}));Zo((()=>e.date),(async()=>{var e;(null==(e=Lt(r))?void 0:e.contains(document.activeElement))&&(await dn(),await b())}));const b=async()=>{var e;return null==(e=Lt(o))?void 0:e.focus()},T=t=>"date"===e.selectionMode&&rD(t.type)&&S(t,e.parsedValue),S=(t,r)=>!!r&&cO(r).locale(Lt(n)).isSame(e.date.date(Number(t.text)),"day"),w=(t,n)=>{const r=7*t+(n-(e.showWeekNumber?1:0))-Lt(h);return Lt(p).add(r,"day")},C=(n,r=!1)=>{const o=n.target.closest("td");if(!o)return;const i=o.parentNode.rowIndex-1,a=o.cellIndex,s=Lt(E)[i][a];if(s.disabled||"week"===s.type)return;const c=w(i,a);switch(e.selectionMode){case"range":(n=>{e.rangeState.selecting&&e.minDate?(n>=e.minDate?t("pick",{minDate:e.minDate,maxDate:n}):t("pick",{minDate:n,maxDate:e.minDate}),t("select",!1)):(t("pick",{minDate:n,maxDate:null}),t("select",!0))})(c);break;case"date":t("pick",c,r);break;case"week":(e=>{const n=e.week(),r=`${e.year()}w${n}`;t("pick",{year:e.year(),week:n,value:r,date:e.startOf("week")})})(c);break;case"dates":((n,r)=>{const o=r?IS(e.parsedValue).filter((e=>(null==e?void 0:e.valueOf())!==n.valueOf())):IS(e.parsedValue).concat([n]);t("pick",o)})(c,!!s.selected)}},R=t=>{if("week"!==e.selectionMode)return!1;let n=e.date.startOf("day");if("prev-month"===t.type&&(n=n.subtract(1,"month")),"next-month"===t.type&&(n=n.add(1,"month")),n=n.date(Number.parseInt(t.text,10)),e.parsedValue&&!d(e.parsedValue)){const t=(e.parsedValue.day()-l+7)%7-1;return e.parsedValue.subtract(t,"day").isSame(n,"day")}return!1};return{WEEKS:f,rows:E,tbodyRef:r,currentCellRef:o,focus:b,isCurrent:T,isWeekActive:R,isSelectedCell:e=>!Lt(m)&&1===(null==e?void 0:e.text)&&"normal"===e.type||e.isCurrent,handlePickDate:C,handleMouseUp:e=>{e.target.closest("td")&&(c=!1)},handleMouseDown:e=>{e.target.closest("td")&&(c=!0)},handleMouseMove:n=>{var r;if(!e.rangeState.selecting)return;let o=n.target;if("SPAN"===o.tagName&&(o=null==(r=o.parentNode)?void 0:r.parentNode),"DIV"===o.tagName&&(o=o.parentNode),"TD"!==o.tagName)return;const s=o.parentNode.rowIndex-1,c=o.cellIndex;Lt(E)[s][c].disabled||s===Lt(i)&&c===Lt(a)||(i.value=s,a.value=c,t("changerange",{selecting:!0,endDate:w(s,c)}))},handleFocus:t=>{c||Lt(m)||"date"!==e.selectionMode||C(t,!0)}}};var iD=Qn({name:"ElDatePickerCell",props:rS({cell:{type:Object}}),setup(e){const t=GS("date-table-cell"),{slots:n}=To(Hk);return()=>{const{cell:r}=e;return Wr(n,"default",{...r},(()=>{var e;return[ji("div",{class:t.b()},[ji("span",{class:t.e("text")},[null!=(e=null==r?void 0:r.renderText)?e:null==r?void 0:r.text])])]}))}}});const aD=Qn({__name:"basic-date-table",props:nD,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,{WEEKS:o,rows:i,tbodyRef:a,currentCellRef:s,focus:c,isCurrent:l,isWeekActive:u,isSelectedCell:d,handlePickDate:h,handleMouseUp:p,handleMouseDown:f,handleMouseMove:m,handleFocus:g}=oD(r,n),{tableLabel:v,tableKls:y,weekLabel:_,getCellClasses:E,getRowKls:b,t:T}=((e,{isCurrent:t,isWeekActive:n})=>{const r=GS("date-table"),{t:o}=VS();return{tableKls:ma((()=>[r.b(),{"is-week-mode":"week"===e.selectionMode}])),tableLabel:ma((()=>o("el.datepicker.dateTablePrompt"))),weekLabel:ma((()=>o("el.datepicker.week"))),getCellClasses:n=>{const r=[];return rD(n.type)&&!n.disabled?(r.push("available"),"today"===n.type&&r.push("today")):r.push(n.type),t(n)&&r.push("current"),n.inRange&&(rD(n.type)||"week"===e.selectionMode)&&(r.push("in-range"),n.start&&r.push("start-date"),n.end&&r.push("end-date")),n.disabled&&r.push("disabled"),n.selected&&r.push("selected"),n.customClass&&r.push(n.customClass),r.join(" ")},getRowKls:e=>[r.e("row"),{current:n(e)}],t:o}})(r,{isCurrent:l,isWeekActive:u});return t({focus:c}),(e,t)=>(Ri(),ki("table",{"aria-label":Lt(v),class:q(Lt(y)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:Lt(h),onMousemove:Lt(m),onMousedown:Js(Lt(f),["prevent"]),onMouseup:Lt(p)},[Ui("tbody",{ref_key:"tbodyRef",ref:a},[Ui("tr",null,[e.showWeekNumber?(Ri(),ki("th",{key:0,scope:"col"},ee(Lt(_)),1)):Hi("v-if",!0),(Ri(!0),ki(Ei,null,Hr(Lt(o),((e,t)=>(Ri(),ki("th",{key:t,"aria-label":Lt(T)("el.datepicker.weeksFull."+e),scope:"col"},ee(Lt(T)("el.datepicker.weeks."+e)),9,["aria-label"])))),128))]),(Ri(!0),ki(Ei,null,Hr(Lt(i),((e,t)=>(Ri(),ki("tr",{key:t,class:q(Lt(b)(e[1]))},[(Ri(!0),ki(Ei,null,Hr(e,((e,n)=>(Ri(),ki("td",{key:`${t}.${n}`,ref_for:!0,ref:t=>Lt(d)(e)&&(s.value=t),class:q(Lt(E)(e)),"aria-current":e.isCurrent?"date":void 0,"aria-selected":e.isCurrent,tabindex:Lt(d)(e)?0:-1,onFocus:Lt(g)},[ji(Lt(iD),{cell:e},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"])))),128))],2)))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var sD=oR(aD,[["__file","basic-date-table.vue"]]);const cD=Qn({__name:"basic-month-table",props:rS({...qk,selectionMode:Xk("month")}),emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,o=GS("month-table"),{t:i,lang:a}=VS(),s=Dt(),c=Dt(),l=Dt(r.date.locale("en").localeData().monthsShort().map((e=>e.toLowerCase()))),u=Dt([[],[],[]]),d=Dt(),h=Dt(),p=ma((()=>{var e,t;const n=u.value,o=cO().locale(a.value).startOf("month");for(let i=0;i<3;i++){const a=n[i];for(let n=0;n<4;n++){const s=a[n]||(a[n]={row:i,column:n,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});s.type="normal";const c=4*i+n,l=r.date.startOf("year").month(c),u=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;s.inRange=!!(r.minDate&&l.isSameOrAfter(r.minDate,"month")&&u&&l.isSameOrBefore(u,"month"))||!!(r.minDate&&l.isSameOrBefore(r.minDate,"month")&&u&&l.isSameOrAfter(u,"month")),(null==(e=r.minDate)?void 0:e.isSameOrAfter(u))?(s.start=!(!u||!l.isSame(u,"month")),s.end=r.minDate&&l.isSame(r.minDate,"month")):(s.start=!(!r.minDate||!l.isSame(r.minDate,"month")),s.end=!(!u||!l.isSame(u,"month")));o.isSame(l)&&(s.type="today"),s.text=c,s.disabled=(null==(t=r.disabledDate)?void 0:t.call(r,l.toDate()))||!1}}return n})),f=e=>{const t={},n=r.date.year(),o=new Date,i=e.text;return t.disabled=!!r.disabledDate&&Qk(n,i,a.value).every(r.disabledDate),t.current=IS(r.parsedValue).findIndex((e=>cO.isDayjs(e)&&e.year()===n&&e.month()===i))>=0,t.today=o.getFullYear()===n&&o.getMonth()===i,e.inRange&&(t["in-range"]=!0,e.start&&(t["start-date"]=!0),e.end&&(t["end-date"]=!0)),t},m=e=>{const t=r.date.year(),n=e.text;return IS(r.date).findIndex((e=>e.year()===t&&e.month()===n))>=0},g=e=>{var t;if(!r.rangeState.selecting)return;let o=e.target;if("SPAN"===o.tagName&&(o=null==(t=o.parentNode)?void 0:t.parentNode),"DIV"===o.tagName&&(o=o.parentNode),"TD"!==o.tagName)return;const i=o.parentNode.rowIndex,a=o.cellIndex;p.value[i][a].disabled||i===d.value&&a===h.value||(d.value=i,h.value=a,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(4*i+a)}))},v=e=>{var t;const o=null==(t=e.target)?void 0:t.closest("td");if("TD"!==(null==o?void 0:o.tagName))return;if(Fp(o,"disabled"))return;const i=o.cellIndex,s=4*o.parentNode.rowIndex+i,c=r.date.startOf("year").month(s);if("months"===r.selectionMode){if("keydown"===e.type)return void n("pick",IS(r.parsedValue),!1);const t=eD(r.date.year(),s,a.value,r.disabledDate),i=Fp(o,"current")?IS(r.parsedValue).filter((e=>(null==e?void 0:e.month())!==t.month())):IS(r.parsedValue).concat([cO(t)]);n("pick",i)}else"range"===r.selectionMode?r.rangeState.selecting?(r.minDate&&c>=r.minDate?n("pick",{minDate:r.minDate,maxDate:c}):n("pick",{minDate:c,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:c,maxDate:null}),n("select",!0)):n("pick",s)};return Zo((()=>r.date),(async()=>{var e,t;(null==(e=s.value)?void 0:e.contains(document.activeElement))&&(await dn(),null==(t=c.value)||t.focus())})),t({focus:()=>{var e;null==(e=c.value)||e.focus()}}),(e,t)=>(Ri(),ki("table",{role:"grid","aria-label":Lt(i)("el.datepicker.monthTablePrompt"),class:q(Lt(o).b()),onClick:v,onMousemove:g},[Ui("tbody",{ref_key:"tbodyRef",ref:s},[(Ri(!0),ki(Ei,null,Hr(Lt(p),((e,t)=>(Ri(),ki("tr",{key:t},[(Ri(!0),ki(Ei,null,Hr(e,((e,t)=>(Ri(),ki("td",{key:t,ref_for:!0,ref:t=>m(e)&&(c.value=t),class:q(f(e)),"aria-selected":`${m(e)}`,"aria-label":Lt(i)("el.datepicker.month"+(+e.text+1)),tabindex:m(e)?0:-1,onKeydown:[Qs(Js(v,["prevent","stop"]),["space"]),Qs(Js(v,["prevent","stop"]),["enter"])]},[ji(Lt(iD),{cell:{...e,renderText:Lt(i)("el.datepicker.months."+l.value[e.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"])))),128))])))),128))],512)],42,["aria-label"]))}});var lD=oR(cD,[["__file","basic-month-table.vue"]]);const uD=Qn({__name:"basic-year-table",props:rS({...qk,selectionMode:Xk("year")}),emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,o=GS("year-table"),{t:i,lang:a}=VS(),s=Dt(),c=Dt(),l=ma((()=>10*Math.floor(r.date.year()/10))),u=Dt([[],[],[]]),d=Dt(),h=Dt(),p=ma((()=>{var e;const t=u.value,n=cO().locale(a.value).startOf("year");for(let o=0;o<3;o++){const i=t[o];for(let t=0;t<4&&!(4*o+t>=10);t++){let a=i[t];a||(a={row:o,column:t,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),a.type="normal";const s=4*o+t+l.value,c=cO().year(s),u=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;a.inRange=!!(r.minDate&&c.isSameOrAfter(r.minDate,"year")&&u&&c.isSameOrBefore(u,"year"))||!!(r.minDate&&c.isSameOrBefore(r.minDate,"year")&&u&&c.isSameOrAfter(u,"year")),(null==(e=r.minDate)?void 0:e.isSameOrAfter(u))?(a.start=!(!u||!c.isSame(u,"year")),a.end=!(!r.minDate||!c.isSame(r.minDate,"year"))):(a.start=!(!r.minDate||!c.isSame(r.minDate,"year")),a.end=!(!u||!c.isSame(u,"year")));n.isSame(c)&&(a.type="today"),a.text=s;const d=c.toDate();a.disabled=r.disabledDate&&r.disabledDate(d)||!1,i[t]=a}}return t})),f=e=>{const t={},n=cO().locale(a.value),o=e.text;return t.disabled=!!r.disabledDate&&((e,t)=>{const n=cO(String(e)).locale(t).startOf("year"),r=n.endOf("year").dayOfYear();return gO(r).map((e=>n.add(e,"day").toDate()))})(o,a.value).every(r.disabledDate),t.today=n.year()===o,t.current=IS(r.parsedValue).findIndex((e=>e.year()===o))>=0,e.inRange&&(t["in-range"]=!0,e.start&&(t["start-date"]=!0),e.end&&(t["end-date"]=!0)),t},m=e=>{const t=e.text;return IS(r.date).findIndex((e=>e.year()===t))>=0},g=e=>{var t;const o=null==(t=e.target)?void 0:t.closest("td");if(!o||!o.textContent||Fp(o,"disabled"))return;const i=o.cellIndex,s=4*o.parentNode.rowIndex+i+l.value,c=cO().year(s);if("range"===r.selectionMode)r.rangeState.selecting?(r.minDate&&c>=r.minDate?n("pick",{minDate:r.minDate,maxDate:c}):n("pick",{minDate:c,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:c,maxDate:null}),n("select",!0));else if("years"===r.selectionMode){if("keydown"===e.type)return void n("pick",IS(r.parsedValue),!1);const t=tD(c.startOf("year"),a.value,r.disabledDate),i=Fp(o,"current")?IS(r.parsedValue).filter((e=>(null==e?void 0:e.year())!==s)):IS(r.parsedValue).concat([t]);n("pick",i)}else n("pick",s)},v=e=>{var t;if(!r.rangeState.selecting)return;const o=null==(t=e.target)?void 0:t.closest("td");if(!o)return;const i=o.parentNode.rowIndex,a=o.cellIndex;p.value[i][a].disabled||i===d.value&&a===h.value||(d.value=i,h.value=a,n("changerange",{selecting:!0,endDate:cO().year(l.value).add(4*i+a,"year")}))};return Zo((()=>r.date),(async()=>{var e,t;(null==(e=s.value)?void 0:e.contains(document.activeElement))&&(await dn(),null==(t=c.value)||t.focus())})),t({focus:()=>{var e;null==(e=c.value)||e.focus()}}),(e,t)=>(Ri(),ki("table",{role:"grid","aria-label":Lt(i)("el.datepicker.yearTablePrompt"),class:q(Lt(o).b()),onClick:g,onMousemove:v},[Ui("tbody",{ref_key:"tbodyRef",ref:s},[(Ri(!0),ki(Ei,null,Hr(Lt(p),((e,t)=>(Ri(),ki("tr",{key:t},[(Ri(!0),ki(Ei,null,Hr(e,((e,n)=>(Ri(),ki("td",{key:`${t}_${n}`,ref_for:!0,ref:t=>m(e)&&(c.value=t),class:q(["available",f(e)]),"aria-selected":m(e),"aria-label":String(e.text),tabindex:m(e)?0:-1,onKeydown:[Qs(Js(g,["prevent","stop"]),["space"]),Qs(Js(g,["prevent","stop"]),["enter"])]},[ji(Lt(iD),{cell:e},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"])))),128))])))),128))],512)],42,["aria-label"]))}});var dD=oR(uD,[["__file","basic-year-table.vue"]]);const hD=Qn({__name:"panel-date-pick",props:$k,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=e,r=GS("picker-panel"),o=GS("date-picker"),i=eo(),a=Qr(),{t:s,lang:c}=VS(),l=To("EP_PICKER_BASE"),u=To(cA),{shortcuts:h,disabledDate:p,cellClassName:f,defaultTime:g}=l.props,v=Gt(l.props,"defaultValue"),y=Dt(),_=Dt(cO().locale(c.value)),E=Dt(!1);let b=!1;const T=ma((()=>cO(g).locale(c.value))),S=ma((()=>_.value.month())),w=ma((()=>_.value.year())),C=Dt([]),R=Dt(null),I=Dt(null),A=e=>!(C.value.length>0)||(C.value,n.format,!0),O=e=>!g||Z.value||E.value||b?H.value?e.millisecond(0):e.startOf("day"):T.value.year(e.year()).month(e.month()).date(e.date()),N=(e,...n)=>{if(e)if(d(e)){const r=e.map(O);t("pick",r,...n)}else t("pick",O(e),...n);else t("pick",e,...n);R.value=null,I.value=null,E.value=!1,b=!1},k=async(e,t)=>{if("date"===L.value){let r=n.parsedValue?n.parsedValue.year(e.year()).month(e.month()).date(e.date()):e;A()||(r=C.value[0][0].year(e.year()).month(e.month()).date(e.date())),_.value=r,N(r,H.value||t),"datetime"===n.type&&(await dn(),le())}else"week"===L.value?N(e.date):"dates"===L.value&&N(e,!0)},D=e=>{const t=e?"add":"subtract";_.value=_.value[t](1,"month"),he("month")},x=e=>{const t=_.value,n=e?"add":"subtract";_.value="year"===P.value?t[n](10,"year"):t[n](1,"year"),he("year")},P=Dt("date"),M=ma((()=>{const e=s("el.datepicker.year");if("year"===P.value){const t=10*Math.floor(w.value/10);return e?`${t} ${e} - ${t+9} ${e}`:`${t} - ${t+9}`}return`${w.value} ${e}`})),L=ma((()=>{const{type:e}=n;return["week","month","months","year","years","dates"].includes(e)?e:"date"})),U=ma((()=>"dates"===L.value||"months"===L.value||"years"===L.value)),j=ma((()=>"date"===L.value?P.value:L.value)),V=ma((()=>!!h.length)),B=async(e,t)=>{"month"===L.value?(_.value=eD(_.value.year(),e,c.value,p),N(_.value,!1)):"months"===L.value?N(e,null==t||t):(_.value=eD(_.value.year(),e,c.value,p),P.value="date",["month","year","date","week"].includes(L.value)&&(N(_.value,!0),await dn(),le())),he("month")},z=async(e,t)=>{if("year"===L.value){const t=_.value.startOf("year").year(e);_.value=tD(t,c.value,p),N(_.value,!1)}else if("years"===L.value)N(e,null==t||t);else{const t=_.value.year(e);_.value=tD(t,c.value,p),P.value="month",["month","year","date","week"].includes(L.value)&&(N(_.value,!0),await dn(),le())}he("year")},F=async e=>{P.value=e,await dn(),le()},H=ma((()=>"datetime"===n.type||"datetimerange"===n.type)),G=ma((()=>{const e=H.value||"dates"===L.value,t="years"===L.value,n="months"===L.value,r="date"===P.value,o="year"===P.value,i="month"===P.value;return e&&r||t&&o||n&&i})),W=ma((()=>!!p&&(!n.parsedValue||(d(n.parsedValue)?p(n.parsedValue[0].toDate()):p(n.parsedValue.toDate()))))),K=()=>{if(U.value)N(n.parsedValue);else{let e=n.parsedValue;if(!e){const t=cO(g).locale(c.value),n=ce();e=t.year(n.year()).month(n.month()).date(n.date())}_.value=e,N(e)}},Y=ma((()=>!!p&&p(cO().locale(c.value).toDate()))),X=()=>{const e=cO().locale(c.value).toDate();E.value=!0,p&&p(e)||!A()||(_.value=cO().locale(c.value),N(_.value))},$=ma((()=>n.timeFormat||yO(n.format))),J=ma((()=>n.dateFormat||vO(n.format))),Z=ma((()=>I.value?I.value:n.parsedValue||v.value?(n.parsedValue||_.value).format($.value):void 0)),Q=ma((()=>R.value?R.value:n.parsedValue||v.value?(n.parsedValue||_.value).format(J.value):void 0)),te=Dt(!1),ne=()=>{te.value=!0},re=()=>{te.value=!1},oe=e=>({hour:e.hour(),minute:e.minute(),second:e.second(),year:e.year(),month:e.month(),date:e.date()}),ie=(e,t,r)=>{const{hour:o,minute:i,second:a}=oe(e),s=n.parsedValue?n.parsedValue.hour(o).minute(i).second(a):e;_.value=s,N(_.value,!0),r||(te.value=t)},ae=e=>{const t=cO(e,$.value).locale(c.value);if(t.isValid()&&A()){const{year:e,month:n,date:r}=oe(_.value);_.value=t.year(e).month(n).date(r),I.value=null,te.value=!1,N(_.value,!0)}},se=e=>{const t=cO(e,J.value).locale(c.value);if(t.isValid()){if(p&&p(t.toDate()))return;const{hour:e,minute:n,second:r}=oe(_.value);_.value=t.hour(e).minute(n).second(r),R.value=null,N(_.value,!0)}},ce=()=>{const e=cO(v.value).locale(c.value);if(!v.value){const e=T.value;return cO().hour(e.hour()).minute(e.minute()).second(e.second()).locale(c.value)}return e},le=async()=>{var e;["week","month","year","date"].includes(L.value)&&(null==(e=y.value)||e.focus(),"week"===L.value&&de(pS.down))},ue=e=>{const{code:t}=e;[pS.up,pS.down,pS.left,pS.right,pS.home,pS.end,pS.pageUp,pS.pageDown].includes(t)&&(de(t),e.stopPropagation(),e.preventDefault()),[pS.enter,pS.space,pS.numpadEnter].includes(t)&&null===R.value&&null===I.value&&(e.preventDefault(),N(_.value,!1))},de=e=>{var n;const{up:r,down:o,left:i,right:a,home:s,end:l,pageUp:u,pageDown:d}=pS,h={year:{[r]:-4,[o]:4,[i]:-1,[a]:1,offset:(e,t)=>e.setFullYear(e.getFullYear()+t)},month:{[r]:-4,[o]:4,[i]:-1,[a]:1,offset:(e,t)=>e.setMonth(e.getMonth()+t)},week:{[r]:-1,[o]:1,[i]:-1,[a]:1,offset:(e,t)=>e.setDate(e.getDate()+7*t)},date:{[r]:-7,[o]:7,[i]:-1,[a]:1,[s]:e=>-e.getDay(),[l]:e=>6-e.getDay(),[u]:e=>-new Date(e.getFullYear(),e.getMonth(),0).getDate(),[d]:e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),offset:(e,t)=>e.setDate(e.getDate()+t)}},f=_.value.toDate();for(;Math.abs(_.value.diff(f,"year",!0))<1;){const r=h[j.value];if(!r)return;if(r.offset(f,m(r[e])?r[e](f):null!=(n=r[e])?n:0),p&&p(f))break;const o=cO(f).locale(c.value);_.value=o,t("pick",o,!0);break}},he=e=>{t("panel-change",_.value.toDate(),e,P.value)};return Zo((()=>L.value),(e=>{["month","year"].includes(e)?P.value=e:P.value="years"!==e?"months"!==e?"date":"month":"year"}),{immediate:!0}),Zo((()=>P.value),(()=>{null==u||u.updatePopper()})),Zo((()=>v.value),(e=>{e&&(_.value=ce())}),{immediate:!0}),Zo((()=>n.parsedValue),(e=>{if(e){if(U.value)return;if(d(e))return;_.value=e}else _.value=ce()}),{immediate:!0}),t("set-picker-option",["isValidValue",e=>cO.isDayjs(e)&&e.isValid()&&(!p||!p(e.toDate()))]),t("set-picker-option",["formatToString",e=>d(e)?e.map((e=>e.format(n.format))):e.format(n.format)]),t("set-picker-option",["parseUserInput",e=>cO(e,n.format).locale(c.value)]),t("set-picker-option",["handleFocusPicker",le]),(e,n)=>(Ri(),ki("div",{class:q([Lt(r).b(),Lt(o).b(),{"has-sidebar":e.$slots.sidebar||Lt(V),"has-time":Lt(H)}])},[Ui("div",{class:q(Lt(r).e("body-wrapper"))},[Wr(e.$slots,"sidebar",{class:q(Lt(r).e("sidebar"))}),Lt(V)?(Ri(),ki("div",{key:0,class:q(Lt(r).e("sidebar"))},[(Ri(!0),ki(Ei,null,Hr(Lt(h),((e,n)=>(Ri(),ki("button",{key:n,type:"button",class:q(Lt(r).e("shortcut")),onClick:n=>(e=>{const n=m(e.value)?e.value():e.value;if(n)return b=!0,void N(cO(n).locale(c.value));e.onClick&&e.onClick({attrs:i,slots:a,emit:t})})(e)},ee(e.text),11,["onClick"])))),128))],2)):Hi("v-if",!0),Ui("div",{class:q(Lt(r).e("body"))},[Lt(H)?(Ri(),ki("div",{key:0,class:q(Lt(o).e("time-header"))},[Ui("span",{class:q(Lt(o).e("editor-wrap"))},[ji(Lt(sI),{placeholder:Lt(s)("el.datepicker.selectDate"),"model-value":Lt(Q),size:"small","validate-event":!1,onInput:e=>R.value=e,onChange:se},null,8,["placeholder","model-value","onInput"])],2),Cn((Ri(),ki("span",{class:q(Lt(o).e("editor-wrap"))},[ji(Lt(sI),{placeholder:Lt(s)("el.datepicker.selectTime"),"model-value":Lt(Z),size:"small","validate-event":!1,onFocus:ne,onInput:e=>I.value=e,onChange:ae},null,8,["placeholder","model-value","onInput"]),ji(Lt(bN),{visible:te.value,format:Lt($),"parsed-value":_.value,onPick:ie},null,8,["visible","format","parsed-value"])],2)),[[Lt(VO),re]])],2)):Hi("v-if",!0),Cn(Ui("div",{class:q([Lt(o).e("header"),("year"===P.value||"month"===P.value)&&Lt(o).e("header--bordered")])},[Ui("span",{class:q(Lt(o).e("prev-btn"))},[Ui("button",{type:"button","aria-label":Lt(s)("el.datepicker.prevYear"),class:q(["d-arrow-left",Lt(r).e("icon-btn")]),onClick:e=>x(!1)},[Wr(e.$slots,"prev-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(xg))])),_:1})]))],10,["aria-label","onClick"]),Cn(Ui("button",{type:"button","aria-label":Lt(s)("el.datepicker.prevMonth"),class:q([Lt(r).e("icon-btn"),"arrow-left"]),onClick:e=>D(!1)},[Wr(e.$slots,"prev-month",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(pf))])),_:1})]))],10,["aria-label","onClick"]),[[Za,"date"===P.value]])],2),Ui("span",{role:"button",class:q(Lt(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Qs((e=>F("year")),["enter"]),onClick:e=>F("year")},ee(Lt(M)),43,["onKeydown","onClick"]),Cn(Ui("span",{role:"button","aria-live":"polite",tabindex:"0",class:q([Lt(o).e("header-label"),{active:"month"===P.value}]),onKeydown:Qs((e=>F("month")),["enter"]),onClick:e=>F("month")},ee(Lt(s)(`el.datepicker.month${Lt(S)+1}`)),43,["onKeydown","onClick"]),[[Za,"date"===P.value]]),Ui("span",{class:q(Lt(o).e("next-btn"))},[Cn(Ui("button",{type:"button","aria-label":Lt(s)("el.datepicker.nextMonth"),class:q([Lt(r).e("icon-btn"),"arrow-right"]),onClick:e=>D(!0)},[Wr(e.$slots,"next-month",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(vf))])),_:1})]))],10,["aria-label","onClick"]),[[Za,"date"===P.value]]),Ui("button",{type:"button","aria-label":Lt(s)("el.datepicker.nextYear"),class:q([Lt(r).e("icon-btn"),"d-arrow-right"]),onClick:e=>x(!0)},[Wr(e.$slots,"next-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(Mg))])),_:1})]))],10,["aria-label","onClick"])],2)],2),[[Za,"time"!==P.value]]),Ui("div",{class:q(Lt(r).e("content")),onKeydown:ue},["date"===P.value?(Ri(),Di(sD,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":Lt(L),date:_.value,"parsed-value":e.parsedValue,"disabled-date":Lt(p),"cell-class-name":Lt(f),onPick:k},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Hi("v-if",!0),"year"===P.value?(Ri(),Di(dD,{key:1,ref_key:"currentViewRef",ref:y,"selection-mode":Lt(L),date:_.value,"disabled-date":Lt(p),"parsed-value":e.parsedValue,onPick:z},null,8,["selection-mode","date","disabled-date","parsed-value"])):Hi("v-if",!0),"month"===P.value?(Ri(),Di(lD,{key:2,ref_key:"currentViewRef",ref:y,"selection-mode":Lt(L),date:_.value,"parsed-value":e.parsedValue,"disabled-date":Lt(p),onPick:B},null,8,["selection-mode","date","parsed-value","disabled-date"])):Hi("v-if",!0)],34)],2)],2),Cn(Ui("div",{class:q(Lt(r).e("footer"))},[Cn(ji(Lt(nO),{text:"",size:"small",class:q(Lt(r).e("link-btn")),disabled:Lt(Y),onClick:X},{default:wn((()=>[zi(ee(Lt(s)("el.datepicker.now")),1)])),_:1},8,["class","disabled"]),[[Za,!Lt(U)&&e.showNow]]),ji(Lt(nO),{plain:"",size:"small",class:q(Lt(r).e("link-btn")),disabled:Lt(W),onClick:K},{default:wn((()=>[zi(ee(Lt(s)("el.datepicker.confirm")),1)])),_:1},8,["class","disabled"])],2),[[Za,Lt(G)]])],2))}});var pD=oR(hD,[["__file","panel-date-pick.vue"]]);const fD=rS({...Kk,...Yk,visible:Boolean}),mD=e=>{const{emit:t}=Qi(),n=eo(),r=Qr();return o=>{const i=m(o.value)?o.value():o.value;i?t("pick",[cO(i[0]).locale(e.value),cO(i[1]).locale(e.value)]):o.onClick&&o.onClick({attrs:n,slots:r,emit:t})}},gD=(e,{defaultValue:t,leftDate:n,rightDate:r,unit:o,onParsedValueChanged:i})=>{const{emit:a}=Qi(),{pickerNs:s}=To(Hk),c=GS("date-range-picker"),{t:l,lang:u}=VS(),h=mD(u),p=Dt(),f=Dt(),m=Dt({endDate:null,selecting:!1}),g=e=>{if(d(e)&&2===e.length){const[t,r]=e;p.value=t,n.value=t,f.value=r,i(Lt(p),Lt(f))}else v()},v=()=>{const[i,a]=Zk(Lt(t),{lang:Lt(u),unit:o,unlinkPanels:e.unlinkPanels});p.value=void 0,f.value=void 0,n.value=i,r.value=a};return Zo(t,(e=>{e&&v()}),{immediate:!0}),Zo((()=>e.parsedValue),g,{immediate:!0}),{minDate:p,maxDate:f,rangeState:m,lang:u,ppNs:s,drpNs:c,handleChangeRange:e=>{m.value=e},handleRangeConfirm:(e=!1)=>{const t=Lt(p),n=Lt(f);Jk([t,n])&&a("pick",[t,n],e)},handleShortcutClick:h,onSelect:e=>{m.value.selecting=e,e||(m.value.endDate=null)},onReset:g,t:l}},vD="month",yD=Qn({__name:"panel-date-range",props:fD,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r=To("EP_PICKER_BASE"),{disabledDate:o,cellClassName:i,defaultTime:a,clearable:s}=r.props,c=Gt(r.props,"format"),l=Gt(r.props,"shortcuts"),u=Gt(r.props,"defaultValue"),{lang:h}=VS(),p=Dt(cO().locale(h.value)),f=Dt(cO().locale(h.value).add(1,vD)),{minDate:m,maxDate:g,rangeState:v,ppNs:y,drpNs:_,handleChangeRange:E,handleRangeConfirm:b,handleShortcutClick:T,onSelect:S,onReset:w,t:C}=gD(n,{defaultValue:u,leftDate:p,rightDate:f,unit:vD,onParsedValueChanged:function(e,t){if(n.unlinkPanels&&t){const n=(null==e?void 0:e.year())||0,r=(null==e?void 0:e.month())||0,o=t.year(),i=t.month();f.value=n===o&&r===i?t.add(1,vD):t}else f.value=p.value.add(1,vD),t&&(f.value=f.value.hour(t.hour()).minute(t.minute()).second(t.second()))}});Zo((()=>n.visible),(e=>{!e&&v.value.selecting&&(w(n.parsedValue),S(!1))}));const R=Dt({min:null,max:null}),I=Dt({min:null,max:null}),A=ma((()=>`${p.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${p.value.month()+1}`)}`)),O=ma((()=>`${f.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${f.value.month()+1}`)}`)),N=ma((()=>p.value.year())),k=ma((()=>p.value.month())),D=ma((()=>f.value.year())),x=ma((()=>f.value.month())),P=ma((()=>!!l.value.length)),M=ma((()=>null!==R.value.min?R.value.min:m.value?m.value.format(B.value):"")),L=ma((()=>null!==R.value.max?R.value.max:g.value||m.value?(g.value||m.value).format(B.value):"")),U=ma((()=>null!==I.value.min?I.value.min:m.value?m.value.format(V.value):"")),j=ma((()=>null!==I.value.max?I.value.max:g.value||m.value?(g.value||m.value).format(V.value):"")),V=ma((()=>n.timeFormat||yO(c.value))),B=ma((()=>n.dateFormat||vO(c.value))),z=()=>{p.value=p.value.subtract(1,"year"),n.unlinkPanels||(f.value=p.value.add(1,"month")),$("year")},F=()=>{p.value=p.value.subtract(1,"month"),n.unlinkPanels||(f.value=p.value.add(1,"month")),$("month")},H=()=>{n.unlinkPanels?f.value=f.value.add(1,"year"):(p.value=p.value.add(1,"year"),f.value=p.value.add(1,"month")),$("year")},G=()=>{n.unlinkPanels?f.value=f.value.add(1,"month"):(p.value=p.value.add(1,"month"),f.value=p.value.add(1,"month")),$("month")},W=()=>{p.value=p.value.add(1,"year"),$("year")},K=()=>{p.value=p.value.add(1,"month"),$("month")},Y=()=>{f.value=f.value.subtract(1,"year"),$("year")},X=()=>{f.value=f.value.subtract(1,"month"),$("month")},$=e=>{t("panel-change",[p.value.toDate(),f.value.toDate()],e)},J=ma((()=>{const e=(k.value+1)%12,t=k.value+1>=12?1:0;return n.unlinkPanels&&new Date(N.value+t,e)<new Date(D.value,x.value)})),Z=ma((()=>n.unlinkPanels&&12*D.value+x.value-(12*N.value+k.value+1)>=12)),Q=ma((()=>!(m.value&&g.value&&!v.value.selecting&&Jk([m.value,g.value])))),te=ma((()=>"datetime"===n.type||"datetimerange"===n.type)),ne=(e,t)=>{if(e){if(a){return cO(a[t]||a).locale(h.value).year(e.year()).month(e.month()).date(e.date())}return e}},re=(e,n=!0)=>{const r=e.minDate,o=e.maxDate,i=ne(r,0),a=ne(o,1);g.value===a&&m.value===i||(t("calendar-change",[r.toDate(),o&&o.toDate()]),g.value=a,m.value=i,n&&!te.value&&b())},oe=Dt(!1),ie=Dt(!1),ae=()=>{oe.value=!1},se=()=>{ie.value=!1},ce=(e,t)=>{R.value[t]=e;const r=cO(e,B.value).locale(h.value);if(r.isValid()){if(o&&o(r.toDate()))return;"min"===t?(p.value=r,m.value=(m.value||p.value).year(r.year()).month(r.month()).date(r.date()),n.unlinkPanels||g.value&&!g.value.isBefore(m.value)||(f.value=r.add(1,"month"),g.value=m.value.add(1,"month"))):(f.value=r,g.value=(g.value||f.value).year(r.year()).month(r.month()).date(r.date()),n.unlinkPanels||m.value&&!m.value.isAfter(g.value)||(p.value=r.subtract(1,"month"),m.value=g.value.subtract(1,"month")))}},le=(e,t)=>{R.value[t]=null},ue=(e,t)=>{I.value[t]=e;const n=cO(e,V.value).locale(h.value);n.isValid()&&("min"===t?(oe.value=!0,m.value=(m.value||p.value).hour(n.hour()).minute(n.minute()).second(n.second())):(ie.value=!0,g.value=(g.value||f.value).hour(n.hour()).minute(n.minute()).second(n.second()),f.value=g.value))},de=(e,t)=>{I.value[t]=null,"min"===t?(p.value=m.value,oe.value=!1,g.value&&!g.value.isBefore(m.value)||(g.value=m.value)):(f.value=g.value,ie.value=!1,g.value&&g.value.isBefore(m.value)&&(m.value=g.value))},he=(e,t,n)=>{I.value.min||(e&&(p.value=e,m.value=(m.value||p.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(oe.value=t),g.value&&!g.value.isBefore(m.value)||(g.value=m.value,f.value=e))},pe=(e,t,n)=>{I.value.max||(e&&(f.value=e,g.value=(g.value||f.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(ie.value=t),g.value&&g.value.isBefore(m.value)&&(m.value=g.value))},fe=()=>{p.value=Zk(Lt(u),{lang:Lt(h),unit:"month",unlinkPanels:n.unlinkPanels})[0],f.value=p.value.add(1,"month"),g.value=void 0,m.value=void 0,t("pick",null)};return t("set-picker-option",["isValidValue",e=>Jk(e)&&(!o||!o(e[0].toDate())&&!o(e[1].toDate()))]),t("set-picker-option",["parseUserInput",e=>d(e)?e.map((e=>cO(e,c.value).locale(h.value))):cO(e,c.value).locale(h.value)]),t("set-picker-option",["formatToString",e=>d(e)?e.map((e=>e.format(c.value))):e.format(c.value)]),t("set-picker-option",["handleClear",fe]),(e,t)=>(Ri(),ki("div",{class:q([Lt(y).b(),Lt(_).b(),{"has-sidebar":e.$slots.sidebar||Lt(P),"has-time":Lt(te)}])},[Ui("div",{class:q(Lt(y).e("body-wrapper"))},[Wr(e.$slots,"sidebar",{class:q(Lt(y).e("sidebar"))}),Lt(P)?(Ri(),ki("div",{key:0,class:q(Lt(y).e("sidebar"))},[(Ri(!0),ki(Ei,null,Hr(Lt(l),((e,t)=>(Ri(),ki("button",{key:t,type:"button",class:q(Lt(y).e("shortcut")),onClick:t=>Lt(T)(e)},ee(e.text),11,["onClick"])))),128))],2)):Hi("v-if",!0),Ui("div",{class:q(Lt(y).e("body"))},[Lt(te)?(Ri(),ki("div",{key:0,class:q(Lt(_).e("time-header"))},[Ui("span",{class:q(Lt(_).e("editors-wrap"))},[Ui("span",{class:q(Lt(_).e("time-picker-wrap"))},[ji(Lt(sI),{size:"small",disabled:Lt(v).selecting,placeholder:Lt(C)("el.datepicker.startDate"),class:q(Lt(_).e("editor")),"model-value":Lt(M),"validate-event":!1,onInput:e=>ce(e,"min"),onChange:e=>le(0,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Cn((Ri(),ki("span",{class:q(Lt(_).e("time-picker-wrap"))},[ji(Lt(sI),{size:"small",class:q(Lt(_).e("editor")),disabled:Lt(v).selecting,placeholder:Lt(C)("el.datepicker.startTime"),"model-value":Lt(U),"validate-event":!1,onFocus:e=>oe.value=!0,onInput:e=>ue(e,"min"),onChange:e=>de(0,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),ji(Lt(bN),{visible:oe.value,format:Lt(V),"datetime-role":"start","parsed-value":p.value,onPick:he},null,8,["visible","format","parsed-value"])],2)),[[Lt(VO),ae]])],2),Ui("span",null,[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(vf))])),_:1})]),Ui("span",{class:q([Lt(_).e("editors-wrap"),"is-right"])},[Ui("span",{class:q(Lt(_).e("time-picker-wrap"))},[ji(Lt(sI),{size:"small",class:q(Lt(_).e("editor")),disabled:Lt(v).selecting,placeholder:Lt(C)("el.datepicker.endDate"),"model-value":Lt(L),readonly:!Lt(m),"validate-event":!1,onInput:e=>ce(e,"max"),onChange:e=>le(0,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Cn((Ri(),ki("span",{class:q(Lt(_).e("time-picker-wrap"))},[ji(Lt(sI),{size:"small",class:q(Lt(_).e("editor")),disabled:Lt(v).selecting,placeholder:Lt(C)("el.datepicker.endTime"),"model-value":Lt(j),readonly:!Lt(m),"validate-event":!1,onFocus:e=>Lt(m)&&(ie.value=!0),onInput:e=>ue(e,"max"),onChange:e=>de(0,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),ji(Lt(bN),{"datetime-role":"end",visible:ie.value,format:Lt(V),"parsed-value":f.value,onPick:pe},null,8,["visible","format","parsed-value"])],2)),[[Lt(VO),se]])],2)],2)):Hi("v-if",!0),Ui("div",{class:q([[Lt(y).e("content"),Lt(_).e("content")],"is-left"])},[Ui("div",{class:q(Lt(_).e("header"))},[Ui("button",{type:"button",class:q([Lt(y).e("icon-btn"),"d-arrow-left"]),"aria-label":Lt(C)("el.datepicker.prevYear"),onClick:z},[Wr(e.$slots,"prev-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(xg))])),_:1})]))],10,["aria-label"]),Ui("button",{type:"button",class:q([Lt(y).e("icon-btn"),"arrow-left"]),"aria-label":Lt(C)("el.datepicker.prevMonth"),onClick:F},[Wr(e.$slots,"prev-month",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(pf))])),_:1})]))],10,["aria-label"]),e.unlinkPanels?(Ri(),ki("button",{key:0,type:"button",disabled:!Lt(Z),class:q([[Lt(y).e("icon-btn"),{"is-disabled":!Lt(Z)}],"d-arrow-right"]),"aria-label":Lt(C)("el.datepicker.nextYear"),onClick:W},[Wr(e.$slots,"next-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(Mg))])),_:1})]))],10,["disabled","aria-label"])):Hi("v-if",!0),e.unlinkPanels?(Ri(),ki("button",{key:1,type:"button",disabled:!Lt(J),class:q([[Lt(y).e("icon-btn"),{"is-disabled":!Lt(J)}],"arrow-right"]),"aria-label":Lt(C)("el.datepicker.nextMonth"),onClick:K},[Wr(e.$slots,"next-month",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(vf))])),_:1})]))],10,["disabled","aria-label"])):Hi("v-if",!0),Ui("div",null,ee(Lt(A)),1)],2),ji(sD,{"selection-mode":"range",date:p.value,"min-date":Lt(m),"max-date":Lt(g),"range-state":Lt(v),"disabled-date":Lt(o),"cell-class-name":Lt(i),onChangerange:Lt(E),onPick:re,onSelect:Lt(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Ui("div",{class:q([[Lt(y).e("content"),Lt(_).e("content")],"is-right"])},[Ui("div",{class:q(Lt(_).e("header"))},[e.unlinkPanels?(Ri(),ki("button",{key:0,type:"button",disabled:!Lt(Z),class:q([[Lt(y).e("icon-btn"),{"is-disabled":!Lt(Z)}],"d-arrow-left"]),"aria-label":Lt(C)("el.datepicker.prevYear"),onClick:Y},[Wr(e.$slots,"prev-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(xg))])),_:1})]))],10,["disabled","aria-label"])):Hi("v-if",!0),e.unlinkPanels?(Ri(),ki("button",{key:1,type:"button",disabled:!Lt(J),class:q([[Lt(y).e("icon-btn"),{"is-disabled":!Lt(J)}],"arrow-left"]),"aria-label":Lt(C)("el.datepicker.prevMonth"),onClick:X},[Wr(e.$slots,"prev-month",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(pf))])),_:1})]))],10,["disabled","aria-label"])):Hi("v-if",!0),Ui("button",{type:"button","aria-label":Lt(C)("el.datepicker.nextYear"),class:q([Lt(y).e("icon-btn"),"d-arrow-right"]),onClick:H},[Wr(e.$slots,"next-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(Mg))])),_:1})]))],10,["aria-label"]),Ui("button",{type:"button",class:q([Lt(y).e("icon-btn"),"arrow-right"]),"aria-label":Lt(C)("el.datepicker.nextMonth"),onClick:G},[Wr(e.$slots,"next-month",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(vf))])),_:1})]))],10,["aria-label"]),Ui("div",null,ee(Lt(O)),1)],2),ji(sD,{"selection-mode":"range",date:f.value,"min-date":Lt(m),"max-date":Lt(g),"range-state":Lt(v),"disabled-date":Lt(o),"cell-class-name":Lt(i),onChangerange:Lt(E),onPick:re,onSelect:Lt(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),Lt(te)?(Ri(),ki("div",{key:0,class:q(Lt(y).e("footer"))},[Lt(s)?(Ri(),Di(Lt(nO),{key:0,text:"",size:"small",class:q(Lt(y).e("link-btn")),onClick:fe},{default:wn((()=>[zi(ee(Lt(C)("el.datepicker.clear")),1)])),_:1},8,["class"])):Hi("v-if",!0),ji(Lt(nO),{plain:"",size:"small",class:q(Lt(y).e("link-btn")),disabled:Lt(Q),onClick:e=>Lt(b)(!1)},{default:wn((()=>[zi(ee(Lt(C)("el.datepicker.confirm")),1)])),_:1},8,["class","disabled","onClick"])],2)):Hi("v-if",!0)],2))}});var _D=oR(yD,[["__file","panel-date-range.vue"]]);const ED=rS({...Yk}),bD="year",TD=Qn({...Qn({name:"DatePickerMonthRange"}),props:ED,emits:["pick","set-picker-option","calendar-change"],setup(e,{emit:t}){const n=e,{lang:r}=VS(),o=To("EP_PICKER_BASE"),{shortcuts:i,disabledDate:a}=o.props,s=Gt(o.props,"format"),c=Gt(o.props,"defaultValue"),l=Dt(cO().locale(r.value)),u=Dt(cO().locale(r.value).add(1,bD)),{minDate:h,maxDate:p,rangeState:f,ppNs:m,drpNs:g,handleChangeRange:v,handleRangeConfirm:y,handleShortcutClick:_,onSelect:E}=gD(n,{defaultValue:c,leftDate:l,rightDate:u,unit:bD,onParsedValueChanged:function(e,t){if(n.unlinkPanels&&t){const n=(null==e?void 0:e.year())||0,r=t.year();u.value=n===r?t.add(1,bD):t}else u.value=l.value.add(1,bD)}}),b=ma((()=>!!i.length)),{leftPrevYear:T,rightNextYear:S,leftNextYear:w,rightPrevYear:C,leftLabel:R,rightLabel:I,leftYear:A,rightYear:O}=(({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=VS();return{leftPrevYear:()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},rightNextYear:()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},leftNextYear:()=>{t.value=t.value.add(1,"year")},rightPrevYear:()=>{n.value=n.value.subtract(1,"year")},leftLabel:ma((()=>`${t.value.year()} ${r("el.datepicker.year")}`)),rightLabel:ma((()=>`${n.value.year()} ${r("el.datepicker.year")}`)),leftYear:ma((()=>t.value.year())),rightYear:ma((()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year()))}})({unlinkPanels:Gt(n,"unlinkPanels"),leftDate:l,rightDate:u}),N=ma((()=>n.unlinkPanels&&O.value>A.value+1)),k=(e,n=!0)=>{const r=e.minDate,o=e.maxDate;p.value===o&&h.value===r||(t("calendar-change",[r.toDate(),o&&o.toDate()]),p.value=o,h.value=r,n&&y())};return t("set-picker-option",["isValidValue",Jk]),t("set-picker-option",["formatToString",e=>d(e)?e.map((e=>e.format(s.value))):e.format(s.value)]),t("set-picker-option",["parseUserInput",e=>d(e)?e.map((e=>cO(e,s.value).locale(r.value))):cO(e,s.value).locale(r.value)]),t("set-picker-option",["handleClear",()=>{l.value=Zk(Lt(c),{lang:Lt(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],u.value=l.value.add(1,"year"),t("pick",null)}]),(e,t)=>(Ri(),ki("div",{class:q([Lt(m).b(),Lt(g).b(),{"has-sidebar":Boolean(e.$slots.sidebar)||Lt(b)}])},[Ui("div",{class:q(Lt(m).e("body-wrapper"))},[Wr(e.$slots,"sidebar",{class:q(Lt(m).e("sidebar"))}),Lt(b)?(Ri(),ki("div",{key:0,class:q(Lt(m).e("sidebar"))},[(Ri(!0),ki(Ei,null,Hr(Lt(i),((e,t)=>(Ri(),ki("button",{key:t,type:"button",class:q(Lt(m).e("shortcut")),onClick:t=>Lt(_)(e)},ee(e.text),11,["onClick"])))),128))],2)):Hi("v-if",!0),Ui("div",{class:q(Lt(m).e("body"))},[Ui("div",{class:q([[Lt(m).e("content"),Lt(g).e("content")],"is-left"])},[Ui("div",{class:q(Lt(g).e("header"))},[Ui("button",{type:"button",class:q([Lt(m).e("icon-btn"),"d-arrow-left"]),onClick:Lt(T)},[Wr(e.$slots,"prev-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(xg))])),_:1})]))],10,["onClick"]),e.unlinkPanels?(Ri(),ki("button",{key:0,type:"button",disabled:!Lt(N),class:q([[Lt(m).e("icon-btn"),{[Lt(m).is("disabled")]:!Lt(N)}],"d-arrow-right"]),onClick:Lt(w)},[Wr(e.$slots,"next-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(Mg))])),_:1})]))],10,["disabled","onClick"])):Hi("v-if",!0),Ui("div",null,ee(Lt(R)),1)],2),ji(lD,{"selection-mode":"range",date:l.value,"min-date":Lt(h),"max-date":Lt(p),"range-state":Lt(f),"disabled-date":Lt(a),onChangerange:Lt(v),onPick:k,onSelect:Lt(E)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Ui("div",{class:q([[Lt(m).e("content"),Lt(g).e("content")],"is-right"])},[Ui("div",{class:q(Lt(g).e("header"))},[e.unlinkPanels?(Ri(),ki("button",{key:0,type:"button",disabled:!Lt(N),class:q([[Lt(m).e("icon-btn"),{"is-disabled":!Lt(N)}],"d-arrow-left"]),onClick:Lt(C)},[Wr(e.$slots,"prev-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(xg))])),_:1})]))],10,["disabled","onClick"])):Hi("v-if",!0),Ui("button",{type:"button",class:q([Lt(m).e("icon-btn"),"d-arrow-right"]),onClick:Lt(S)},[Wr(e.$slots,"next-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(Mg))])),_:1})]))],10,["onClick"]),Ui("div",null,ee(Lt(I)),1)],2),ji(lD,{"selection-mode":"range",date:u.value,"min-date":Lt(h),"max-date":Lt(p),"range-state":Lt(f),"disabled-date":Lt(a),onChangerange:Lt(v),onPick:k,onSelect:Lt(E)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var SD=oR(TD,[["__file","panel-month-range.vue"]]);const wD=rS({...Yk}),CD="year";var RD=oR(Qn({...Qn({name:"DatePickerYearRange"}),props:wD,emits:["pick","set-picker-option","calendar-change"],setup(e,{emit:t}){const n=e,{lang:r}=VS(),o=Dt(cO().locale(r.value)),i=Dt(o.value.add(10,"year")),{pickerNs:a}=To(Hk),s=GS("date-range-picker"),c=ma((()=>!!k.length)),l=ma((()=>[a.b(),s.b(),{"has-sidebar":Boolean(Qr().sidebar)||c.value}])),u=ma((()=>({content:[a.e("content"),s.e("content"),"is-left"],arrowLeftBtn:[a.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[a.e("icon-btn"),{[a.is("disabled")]:!T.value},"d-arrow-right"]}))),h=ma((()=>({content:[a.e("content"),s.e("content"),"is-right"],arrowLeftBtn:[a.e("icon-btn"),{"is-disabled":!T.value},"d-arrow-left"],arrowRightBtn:[a.e("icon-btn"),"d-arrow-right"]}))),p=mD(r),{leftPrevYear:f,rightNextYear:m,leftNextYear:g,rightPrevYear:v,leftLabel:y,rightLabel:_,leftYear:E,rightYear:b}=(({unlinkPanels:e,leftDate:t,rightDate:n})=>({leftPrevYear:()=>{t.value=t.value.subtract(10,"year"),e.value||(n.value=n.value.subtract(10,"year"))},rightNextYear:()=>{e.value||(t.value=t.value.add(10,"year")),n.value=n.value.add(10,"year")},leftNextYear:()=>{t.value=t.value.add(10,"year")},rightPrevYear:()=>{n.value=n.value.subtract(10,"year")},leftLabel:ma((()=>{const e=10*Math.floor(t.value.year()/10);return`${e}-${e+9}`})),rightLabel:ma((()=>{const e=10*Math.floor(n.value.year()/10);return`${e}-${e+9}`})),leftYear:ma((()=>10*Math.floor(t.value.year()/10)+9)),rightYear:ma((()=>10*Math.floor(n.value.year()/10)))}))({unlinkPanels:Gt(n,"unlinkPanels"),leftDate:o,rightDate:i}),T=ma((()=>n.unlinkPanels&&b.value>E.value+1)),S=Dt(),w=Dt(),C=Dt({endDate:null,selecting:!1}),R=e=>{C.value=e},I=(e,n=!0)=>{const r=e.minDate,o=e.maxDate;w.value===o&&S.value===r||(t("calendar-change",[r.toDate(),o&&o.toDate()]),w.value=o,S.value=r,n&&A())},A=(e=!1)=>{Jk([S.value,w.value])&&t("pick",[S.value,w.value],e)},O=e=>{C.value.selecting=e,e||(C.value.endDate=null)},N=To("EP_PICKER_BASE"),{shortcuts:k,disabledDate:D}=N.props,x=Gt(N.props,"format"),P=Gt(N.props,"defaultValue"),M=()=>{let e;if(d(P.value)){const e=cO(P.value[0]);let t=cO(P.value[1]);return n.unlinkPanels||(t=e.add(10,CD)),[e,t]}return e=P.value?cO(P.value):cO(),e=e.locale(r.value),[e,e.add(10,CD)]};Zo((()=>P.value),(e=>{if(e){const e=M();o.value=e[0],i.value=e[1]}}),{immediate:!0}),Zo((()=>n.parsedValue),(e=>{if(e&&2===e.length)if(S.value=e[0],w.value=e[1],o.value=S.value,n.unlinkPanels&&w.value){const e=S.value.year(),t=w.value.year();i.value=e===t?w.value.add(10,"year"):w.value}else i.value=o.value.add(10,"year");else{const e=M();S.value=void 0,w.value=void 0,o.value=e[0],i.value=e[1]}}),{immediate:!0});return t("set-picker-option",["isValidValue",e=>Jk(e)&&(!D||!D(e[0].toDate())&&!D(e[1].toDate()))]),t("set-picker-option",["parseUserInput",e=>d(e)?e.map((e=>cO(e,x.value).locale(r.value))):cO(e,x.value).locale(r.value)]),t("set-picker-option",["formatToString",e=>d(e)?e.map((e=>e.format(x.value))):e.format(x.value)]),t("set-picker-option",["handleClear",()=>{const e=M();o.value=e[0],i.value=e[1],w.value=void 0,S.value=void 0,t("pick",null)}]),(e,t)=>(Ri(),ki("div",{class:q(Lt(l))},[Ui("div",{class:q(Lt(a).e("body-wrapper"))},[Wr(e.$slots,"sidebar",{class:q(Lt(a).e("sidebar"))}),Lt(c)?(Ri(),ki("div",{key:0,class:q(Lt(a).e("sidebar"))},[(Ri(!0),ki(Ei,null,Hr(Lt(k),((e,t)=>(Ri(),ki("button",{key:t,type:"button",class:q(Lt(a).e("shortcut")),onClick:t=>Lt(p)(e)},ee(e.text),11,["onClick"])))),128))],2)):Hi("v-if",!0),Ui("div",{class:q(Lt(a).e("body"))},[Ui("div",{class:q(Lt(u).content)},[Ui("div",{class:q(Lt(s).e("header"))},[Ui("button",{type:"button",class:q(Lt(u).arrowLeftBtn),onClick:Lt(f)},[Wr(e.$slots,"prev-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(xg))])),_:1})]))],10,["onClick"]),e.unlinkPanels?(Ri(),ki("button",{key:0,type:"button",disabled:!Lt(T),class:q(Lt(u).arrowRightBtn),onClick:Lt(g)},[Wr(e.$slots,"next-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(Mg))])),_:1})]))],10,["disabled","onClick"])):Hi("v-if",!0),Ui("div",null,ee(Lt(y)),1)],2),ji(dD,{"selection-mode":"range",date:o.value,"min-date":S.value,"max-date":w.value,"range-state":C.value,"disabled-date":Lt(D),onChangerange:R,onPick:I,onSelect:O},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),Ui("div",{class:q(Lt(h).content)},[Ui("div",{class:q(Lt(s).e("header"))},[e.unlinkPanels?(Ri(),ki("button",{key:0,type:"button",disabled:!Lt(T),class:q(Lt(h).arrowLeftBtn),onClick:Lt(v)},[Wr(e.$slots,"prev-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(xg))])),_:1})]))],10,["disabled","onClick"])):Hi("v-if",!0),Ui("button",{type:"button",class:q(Lt(h).arrowRightBtn),onClick:Lt(m)},[Wr(e.$slots,"next-year",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(Mg))])),_:1})]))],10,["onClick"]),Ui("div",null,ee(Lt(_)),1)],2),ji(dD,{"selection-mode":"range",date:i.value,"min-date":S.value,"max-date":w.value,"range-state":C.value,"disabled-date":Lt(D),onChangerange:R,onPick:I,onSelect:O},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}}),[["__file","panel-year-range.vue"]]);cO.extend(RN),cO.extend(Nk),cO.extend(uO),cO.extend(Pk),cO.extend(Lk),cO.extend(jk),cO.extend(Bk),cO.extend(Fk);const ID=lS(Qn({name:"ElDatePicker",install:null,props:Gk,emits:["update:modelValue"],setup(e,{expose:t,emit:n,slots:r}){const o=GS("picker-panel");bo("ElPopperOptions",yt(Gt(e,"popperOptions"))),bo(Hk,{slots:r,pickerNs:o});const i=Dt();t({focus:()=>{var e;null==(e=i.value)||e.focus()},blur:()=>{var e;null==(e=i.value)||e.blur()},handleOpen:()=>{var e;null==(e=i.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=i.value)||e.handleClose()}});const a=e=>{n("update:modelValue",e)};return()=>{var t;const n=null!=(t=e.format)?t:fO[e.type]||pO,o=function(e){switch(e){case"daterange":case"datetimerange":return _D;case"monthrange":return SD;case"yearrange":return RD;default:return pD}}(e.type);return ji(NO,Ki(e,{format:n,type:e.type,ref:i,"onUpdate:modelValue":a}),{default:e=>ji(o,e,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}})),AD=rS({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:[String,Array,Object]},zIndex:{type:[String,Number]}}),OD={click:e=>e instanceof MouseEvent};var ND=Qn({name:"ElOverlay",props:AD,emits:OD,setup(e,{slots:t,emit:n}){const r=GS("overlay"),{onClick:o,onMousedown:i,onMouseup:a}=fC(e.customMaskEvent?void 0:e=>{n("click",e)});return()=>e.mask?ji("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:i,onMouseup:a},[Wr(t,"default")],bS.STYLE|bS.CLASS|bS.PROPS,["onClick","onMouseup","onMousedown"]):ga("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Wr(t,"default")])}});const kD=ND,DD=Symbol("dialogInjectionKey"),xD=rS({center:Boolean,alignCenter:Boolean,closeIcon:{type:oS},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),PD=Qn({...Qn({name:"ElDialogContent"}),props:xD,emits:{close:()=>!0},setup(e,{expose:t}){const n=e,{t:r}=VS(),{Close:o}=iS,{dialogRef:i,headerRef:a,bodyId:s,ns:c,style:l}=To(DD),{focusTrapRef:u}=To(UI),d=ma((()=>[c.b(),c.is("fullscreen",n.fullscreen),c.is("draggable",n.draggable),c.is("align-center",n.alignCenter),{[c.m("center")]:n.center}])),h=hS(u,i),p=ma((()=>n.draggable)),f=ma((()=>n.overflow)),{resetPosition:m}=xS(i,a,p,f);return t({resetPosition:m}),(e,t)=>(Ri(),ki("div",{ref:Lt(h),class:q(Lt(d)),style:z(Lt(l)),tabindex:"-1"},[Ui("header",{ref_key:"headerRef",ref:a,class:q([Lt(c).e("header"),{"show-close":e.showClose}])},[Wr(e.$slots,"header",{},(()=>[Ui("span",{role:"heading","aria-level":e.ariaLevel,class:q(Lt(c).e("title"))},ee(e.title),11,["aria-level"])])),e.showClose?(Ri(),ki("button",{key:0,"aria-label":Lt(r)("el.dialog.close"),class:q(Lt(c).e("headerbtn")),type:"button",onClick:t=>e.$emit("close")},[ji(Lt(aR),{class:q(Lt(c).e("close"))},{default:wn((()=>[(Ri(),Di(Vr(e.closeIcon||Lt(o))))])),_:1},8,["class"])],10,["aria-label","onClick"])):Hi("v-if",!0)],2),Ui("div",{id:Lt(s),class:q(Lt(c).e("body"))},[Wr(e.$slots,"default")],10,["id"]),e.$slots.footer?(Ri(),ki("footer",{key:0,class:q(Lt(c).e("footer"))},[Wr(e.$slots,"footer")],2)):Hi("v-if",!0)],6))}});var MD=oR(PD,[["__file","dialog-content.vue"]]);const LD=rS({...xD,appendToBody:Boolean,appendTo:{type:[String,Object],default:"body"},beforeClose:{type:Function},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),UD={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[gS]:e=>Rp(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},jD=(e,t)=>{var n;const r=Qi().emit,{nextZIndex:o}=MC();let i="";const a=_C(),s=_C(),c=Dt(!1),l=Dt(!1),u=Dt(!1),d=Dt(null!=(n=e.zIndex)?n:o());let h,p;const f=JC("namespace",BS),m=ma((()=>{const t={},n=`--${f.value}-dialog`;return e.fullscreen||(e.top&&(t[`${n}-margin-top`]=e.top),e.width&&(t[`${n}-width`]=qp(e.width))),t})),g=ma((()=>e.alignCenter?{display:"flex"}:{}));function v(){null==p||p(),null==h||h(),e.openDelay&&e.openDelay>0?({stop:h}=Vc((()=>E()),e.openDelay)):E()}function y(){null==h||h(),null==p||p(),e.closeDelay&&e.closeDelay>0?({stop:p}=Vc((()=>b()),e.closeDelay)):b()}function _(){e.beforeClose?e.beforeClose((function(e){e||(l.value=!0,c.value=!1)})):y()}function E(){Oc&&(c.value=!0)}function b(){c.value=!1}return e.lockScroll&&WS(c),Zo((()=>e.modelValue),(n=>{n?(l.value=!1,v(),u.value=!0,d.value=gp(e.zIndex)?o():d.value++,dn((()=>{r("open"),t.value&&(t.value.scrollTop=0)}))):c.value&&y()})),Zo((()=>e.fullscreen),(e=>{t.value&&(e?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)})),Ir((()=>{e.modelValue&&(c.value=!0,u.value=!0,v())})),{afterEnter:function(){r("opened")},afterLeave:function(){r("closed"),r(gS,!1),e.destroyOnClose&&(u.value=!1)},beforeLeave:function(){r("close")},handleClose:_,onModalClick:function(){e.closeOnClickModal&&_()},close:y,doClose:b,onOpenAutoFocus:function(){r("openAutoFocus")},onCloseAutoFocus:function(){r("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&_()},onFocusoutPrevented:function(e){var t;"pointer"===(null==(t=e.detail)?void 0:t.focusReason)&&e.preventDefault()},titleId:a,bodyId:s,closed:l,style:m,overlayDialogStyle:g,rendered:u,visible:c,zIndex:d}};const VD=lS(oR(Qn({...Qn({name:"ElDialog",inheritAttrs:!1}),props:LD,emits:UD,setup(e,{expose:t}){const n=e,r=Qr();DS({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},ma((()=>!!r.title)));const o=GS("dialog"),i=Dt(),a=Dt(),s=Dt(),{visible:c,titleId:l,bodyId:u,style:d,overlayDialogStyle:h,rendered:p,zIndex:f,afterEnter:m,afterLeave:g,beforeLeave:v,handleClose:y,onModalClick:_,onOpenAutoFocus:E,onCloseAutoFocus:b,onCloseRequested:T,onFocusoutPrevented:S}=jD(n,i);bo(DD,{dialogRef:i,headerRef:a,bodyId:u,ns:o,rendered:p,style:d});const w=fC(_),C=ma((()=>n.draggable&&!n.fullscreen));return t({visible:c,dialogContentRef:s,resetPosition:()=>{var e;null==(e=s.value)||e.resetPosition()}}),(e,t)=>(Ri(),Di(Lt(_A),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:wn((()=>[ji(La,{name:"dialog-fade",onAfterEnter:Lt(m),onAfterLeave:Lt(g),onBeforeLeave:Lt(v),persisted:""},{default:wn((()=>[Cn(ji(Lt(kD),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":Lt(f)},{default:wn((()=>[Ui("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:Lt(l),"aria-describedby":Lt(u),class:q(`${Lt(o).namespace.value}-overlay-dialog`),style:z(Lt(h)),onClick:Lt(w).onClick,onMousedown:Lt(w).onMousedown,onMouseup:Lt(w).onMouseup},[ji(Lt(ZI),{loop:"",trapped:Lt(c),"focus-start-el":"container",onFocusAfterTrapped:Lt(E),onFocusAfterReleased:Lt(b),onFocusoutPrevented:Lt(S),onReleaseRequested:Lt(T)},{default:wn((()=>[Lt(p)?(Ri(),Di(MD,Ki({key:0,ref_key:"dialogContentRef",ref:s},e.$attrs,{center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:Lt(C),overflow:e.overflow,fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:Lt(y)}),Gr({header:wn((()=>[e.$slots.title?Wr(e.$slots,"title",{key:1}):Wr(e.$slots,"header",{key:0,close:Lt(y),titleId:Lt(l),titleClass:Lt(o).e("title")})])),default:wn((()=>[Wr(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:wn((()=>[Wr(e.$slots,"footer")]))}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Hi("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])])),_:3},8,["mask","overlay-class","z-index"]),[[Za,Lt(c)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])])),_:3},8,["to","disabled"]))}}),[["__file","dialog.vue"]]));var BD=oR(Qn({inheritAttrs:!1}),[["render",function(e,t,n,r,o,i){return Wr(e.$slots,"default")}],["__file","collection.vue"]]);var zD=oR(Qn({name:"ElCollectionItem",inheritAttrs:!1}),[["render",function(e,t,n,r,o,i){return Wr(e.$slots,"default")}],["__file","collection-item.vue"]]);const FD="data-el-collection-item",HD=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),o=Symbol(n),i={...BD,name:t,setup(){const e=Dt(null),t=new Map;bo(r,{itemMap:t,getItems:()=>{const n=Lt(e);if(!n)return[];const r=Array.from(n.querySelectorAll(`[${FD}]`));return[...t.values()].sort(((e,t)=>r.indexOf(e.ref)-r.indexOf(t.ref)))},collectionRef:e})}},a={...zD,name:n,setup(e,{attrs:t}){const n=Dt(null),i=To(r,void 0);bo(o,{collectionItemRef:n}),Ir((()=>{const e=Lt(n);e&&i.itemMap.set(e,{ref:e,...t})})),Nr((()=>{const e=Lt(n);i.itemMap.delete(e)}))}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:o,ElCollection:i,ElCollectionItem:a}},GD=rS({style:{type:[String,Array,Object]},currentTabId:{type:String},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:String},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:WD,ElCollectionItem:qD,COLLECTION_INJECTION_KEY:KD,COLLECTION_ITEM_INJECTION_KEY:YD}=HD("RovingFocusGroup"),XD=Symbol("elRovingFocusGroup"),$D=Symbol("elRovingFocusGroupItem"),JD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},ZD=e=>{const{activeElement:t}=document;for(const n of e){if(n===t)return;if(n.focus(),t!==document.activeElement)return}},QD="currentTabIdChange",ex="rovingFocusGroup.entryFocus",tx={bubbles:!1,cancelable:!0},nx=Qn({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:GD,emits:[QD,"entryFocus"],setup(e,{emit:t}){var n;const r=Dt(null!=(n=e.currentTabId||e.defaultCurrentTabId)?n:null),o=Dt(!1),i=Dt(!1),a=Dt(null),{getItems:s}=To(KD,void 0),c=ma((()=>[{outline:"none"},e.style])),l=yc((t=>{var n;null==(n=e.onMousedown)||n.call(e,t)}),(()=>{i.value=!0})),u=yc((t=>{var n;null==(n=e.onFocus)||n.call(e,t)}),(e=>{const t=!Lt(i),{target:n,currentTarget:a}=e;if(n===a&&t&&!Lt(o)){const e=new Event(ex,tx);if(null==a||a.dispatchEvent(e),!e.defaultPrevented){const e=s().filter((e=>e.focusable)),t=[e.find((e=>e.active)),e.find((e=>e.id===Lt(r))),...e].filter(Boolean).map((e=>e.ref));ZD(t)}}i.value=!1})),d=yc((t=>{var n;null==(n=e.onBlur)||n.call(e,t)}),(()=>{o.value=!1}));bo(XD,{currentTabbedId:Et(r),loop:Gt(e,"loop"),tabIndex:ma((()=>Lt(o)?-1:0)),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:c,orientation:Gt(e,"orientation"),dir:Gt(e,"dir"),onItemFocus:e=>{t(QD,e)},onItemShiftTab:()=>{o.value=!0},onBlur:d,onFocus:u,onMousedown:l}),Zo((()=>e.currentTabId),(e=>{r.value=null!=e?e:null})),Hc(a,ex,((...e)=>{t("entryFocus",...e)}))}});var rx=oR(Qn({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:WD,ElRovingFocusGroupImpl:oR(nx,[["render",function(e,t,n,r,o,i){return Wr(e.$slots,"default")}],["__file","roving-focus-group-impl.vue"]])}}),[["render",function(e,t,n,r,o,i){const a=Ur("el-roving-focus-group-impl"),s=Ur("el-focus-group-collection");return Ri(),Di(s,null,{default:wn((()=>[ji(a,K(Vi(e.$attrs)),{default:wn((()=>[Wr(e.$slots,"default")])),_:3},16)])),_:3})}],["__file","roving-focus-group.vue"]]);const ox=Qn({components:{ElRovingFocusCollectionItem:qD},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:o,onItemShiftTab:i}=To(XD,void 0),{getItems:a}=To(KD,void 0),s=_C(),c=Dt(null),l=yc((e=>{t("mousedown",e)}),(t=>{e.focusable?o(Lt(s)):t.preventDefault()})),u=yc((e=>{t("focus",e)}),(()=>{o(Lt(s))})),d=yc((e=>{t("keydown",e)}),(e=>{const{code:t,shiftKey:n,target:o,currentTarget:s}=e;if(t===pS.tab&&n)return void i();if(o!==s)return;const c=(e=>{const t=e.code;return JD[t]})(e);if(c){e.preventDefault();let t=a().filter((e=>e.focusable)).map((e=>e.ref));switch(c){case"last":t.reverse();break;case"prev":case"next":{"prev"===c&&t.reverse();const e=t.indexOf(s);t=r.value?(u=e+1,(l=t).map(((e,t)=>l[(t+u)%l.length]))):t.slice(e+1);break}}dn((()=>{ZD(t)}))}var l,u})),h=ma((()=>n.value===Lt(s)));return bo($D,{rovingFocusGroupItemRef:c,tabIndex:ma((()=>Lt(h)?0:-1)),handleMousedown:l,handleFocus:u,handleKeydown:d}),{id:s,handleKeydown:d,handleFocus:u,handleMousedown:l}}});var ix=oR(ox,[["render",function(e,t,n,r,o,i){const a=Ur("el-roving-focus-collection-item");return Ri(),Di(a,{id:e.id,focusable:e.focusable,active:e.active},{default:wn((()=>[Wr(e.$slots,"default")])),_:3},8,["id","focusable","active"])}],["__file","roving-focus-item.vue"]]);const ax=rS({trigger:uA.trigger,effect:{...lA.effect,default:"light"},type:{type:String},placement:{type:String,default:"bottom"},popperOptions:{type:Object,default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:[Number,String],default:0},maxHeight:{type:[Number,String],default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:Object},teleported:lA.teleported}),sx=rS({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:oS}}),cx=rS({onKeydown:{type:Function}}),lx=[pS.down,pS.pageDown,pS.home],ux=[pS.up,pS.pageUp,pS.end],dx=[...lx,...ux],{ElCollection:hx,ElCollectionItem:px,COLLECTION_INJECTION_KEY:fx,COLLECTION_ITEM_INJECTION_KEY:mx}=HD("Dropdown"),gx=Symbol("elDropdown"),{ButtonGroup:vx}=nO,yx=Qn({name:"ElDropdown",components:{ElButton:nO,ElButtonGroup:vx,ElScrollbar:yI,ElDropdownCollection:hx,ElTooltip:bA,ElRovingFocusGroup:rx,ElOnlyChild:RI,ElIcon:aR,ArrowDown:lf},props:ax,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Qi(),r=GS("dropdown"),{t:o}=VS(),i=Dt(),a=Dt(),s=Dt(null),c=Dt(null),l=Dt(null),u=Dt(null),d=Dt(!1),h=[pS.enter,pS.numpadEnter,pS.space,pS.down],p=ma((()=>({maxHeight:qp(e.maxHeight)}))),f=ma((()=>[r.m(_.value)])),m=ma((()=>Md(e.trigger))),g=_C().value,v=ma((()=>e.id||g));function y(){var e;null==(e=s.value)||e.onClose()}Zo([i,m],(([e,t],[n])=>{var r,o,i;(null==(r=null==n?void 0:n.$el)?void 0:r.removeEventListener)&&n.$el.removeEventListener("pointerenter",E),(null==(o=null==e?void 0:e.$el)?void 0:o.removeEventListener)&&e.$el.removeEventListener("pointerenter",E),(null==(i=null==e?void 0:e.$el)?void 0:i.addEventListener)&&t.includes("hover")&&e.$el.addEventListener("pointerenter",E)}),{immediate:!0}),Nr((()=>{var e,t;(null==(t=null==(e=i.value)?void 0:e.$el)?void 0:t.removeEventListener)&&i.value.$el.removeEventListener("pointerenter",E)}));const _=lR();function E(){var e,t;null==(t=null==(e=i.value)?void 0:e.$el)||t.focus()}bo(gx,{contentRef:c,role:ma((()=>e.role)),triggerId:v,isUsingKeyboard:d,onItemEnter:function(){},onItemLeave:function(){const e=Lt(c);m.value.includes("hover")&&(null==e||e.focus()),u.value=null}}),bo("elDropdown",{instance:n,dropdownSize:_,handleClick:function(){y()},commandHandler:function(...e){t("command",...e)},trigger:Gt(e,"trigger"),hideOnClick:Gt(e,"hideOnClick")});return{t:o,ns:r,scrollbar:l,wrapStyle:p,dropdownTriggerKls:f,dropdownSize:_,triggerId:v,triggerKeys:h,currentTabId:u,handleCurrentTabIdChange:function(e){u.value=e},handlerMainButtonClick:e=>{t("click",e)},handleEntryFocus:function(e){d.value||(e.preventDefault(),e.stopImmediatePropagation())},handleClose:y,handleOpen:function(){var e;null==(e=s.value)||e.onOpen()},handleBeforeShowTooltip:function(){t("visible-change",!0)},handleShowTooltip:function(e){"keydown"===(null==e?void 0:e.type)&&c.value.focus()},handleBeforeHideTooltip:function(){t("visible-change",!1)},onFocusAfterTrapped:e=>{var t,n;e.preventDefault(),null==(n=null==(t=c.value)?void 0:t.focus)||n.call(t,{preventScroll:!0})},popperRef:s,contentRef:c,triggeringElementRef:i,referenceElementRef:a}}});var _x=oR(yx,[["render",function(e,t,n,r,o,i){var a;const s=Ur("el-dropdown-collection"),c=Ur("el-roving-focus-group"),l=Ur("el-scrollbar"),u=Ur("el-only-child"),d=Ur("el-tooltip"),h=Ur("el-button"),p=Ur("arrow-down"),f=Ur("el-icon"),m=Ur("el-button-group");return Ri(),ki("div",{class:q([e.ns.b(),e.ns.is("disabled",e.disabled)])},[ji(d,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":"hover"===e.trigger?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":null==(a=e.referenceElementRef)?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":"hover"===e.trigger?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Gr({content:wn((()=>[ji(l,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:wn((()=>[ji(c,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:wn((()=>[ji(s,null,{default:wn((()=>[Wr(e.$slots,"dropdown")])),_:3})])),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])])),_:3},8,["wrap-style","view-class"])])),_:2},[e.splitButton?void 0:{name:"default",fn:wn((()=>[ji(u,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:wn((()=>[Wr(e.$slots,"default")])),_:3},8,["id","tabindex"])]))}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(Ri(),Di(m,{key:0},{default:wn((()=>[ji(h,Ki({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:wn((()=>[Wr(e.$slots,"default")])),_:3},16,["size","type","disabled","tabindex","onClick"]),ji(h,Ki({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:wn((()=>[ji(f,{class:q(e.ns.e("icon"))},{default:wn((()=>[ji(p)])),_:1},8,["class"])])),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])])),_:3})):Hi("v-if",!0)],2)}],["__file","dropdown.vue"]]);const Ex=Qn({name:"DropdownItemImpl",components:{ElIcon:aR},props:sx,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=GS("dropdown"),{role:r}=To(gx,void 0),{collectionItemRef:o}=To(mx,void 0),{collectionItemRef:i}=To(YD,void 0),{rovingFocusGroupItemRef:a,tabIndex:s,handleFocus:c,handleKeydown:l,handleMousedown:u}=To($D,void 0),d=hS(o,i,a),h=ma((()=>"menu"===r.value?"menuitem":"navigation"===r.value?"link":"button")),p=yc((e=>{if([pS.enter,pS.numpadEnter,pS.space].includes(e.code))return e.preventDefault(),e.stopImmediatePropagation(),t("clickimpl",e),!0}),l);return{ns:n,itemRef:d,dataset:{[FD]:""},role:h,tabIndex:s,handleFocus:c,handleKeydown:p,handleMousedown:u}}});var bx=oR(Ex,[["render",function(e,t,n,r,o,i){const a=Ur("el-icon");return Ri(),ki(Ei,null,[e.divided?(Ri(),ki("li",{key:0,role:"separator",class:q(e.ns.bem("menu","item","divided"))},null,2)):Hi("v-if",!0),Ui("li",Ki({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t=>e.$emit("clickimpl",t),onFocus:e.handleFocus,onKeydown:Js(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:t=>e.$emit("pointermove",t),onPointerleave:t=>e.$emit("pointerleave",t)}),[e.icon?(Ri(),Di(a,{key:0},{default:wn((()=>[(Ri(),Di(Vr(e.icon)))])),_:1})):Hi("v-if",!0),Wr(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}],["__file","dropdown-item-impl.vue"]]);const Tx=()=>{const e=To("elDropdown",{}),t=ma((()=>null==e?void 0:e.dropdownSize));return{elDropdown:e,_elDropdownSize:t}},Sx=Qn({name:"ElDropdownItem",components:{ElDropdownCollectionItem:px,ElRovingFocusItem:ix,ElDropdownItemImpl:bx},inheritAttrs:!1,props:sx,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=Tx(),o=Qi(),i=Dt(null),a=ma((()=>{var e,t;return null!=(t=null==(e=Lt(i))?void 0:e.textContent)?t:""})),{onItemEnter:s,onItemLeave:c}=To(gx,void 0),l=yc((e=>(t("pointermove",e),e.defaultPrevented)),_c((t=>{if(e.disabled)return void c(t);const n=t.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(s(t),t.defaultPrevented||null==n||n.focus())}))),u=yc((e=>(t("pointerleave",e),e.defaultPrevented)),_c(c)),d=yc((n=>{if(!e.disabled)return t("click",n),"keydown"!==n.type&&n.defaultPrevented}),(t=>{var n,i,a;e.disabled?t.stopImmediatePropagation():((null==(n=null==r?void 0:r.hideOnClick)?void 0:n.value)&&(null==(i=r.handleClick)||i.call(r)),null==(a=r.commandHandler)||a.call(r,e.command,o,t))}));return{handleClick:d,handlePointerMove:l,handlePointerLeave:u,textContent:a,propsAndAttrs:ma((()=>({...e,...n})))}}});var Cx=oR(Sx,[["render",function(e,t,n,r,o,i){var a;const s=Ur("el-dropdown-item-impl"),c=Ur("el-roving-focus-item"),l=Ur("el-dropdown-collection-item");return Ri(),Di(l,{disabled:e.disabled,"text-value":null!=(a=e.textValue)?a:e.textContent},{default:wn((()=>[ji(c,{focusable:!e.disabled},{default:wn((()=>[ji(s,Ki(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:wn((()=>[Wr(e.$slots,"default")])),_:3},16,["onPointerleave","onPointermove","onClickimpl"])])),_:3},8,["focusable"])])),_:3},8,["disabled","text-value"])}],["__file","dropdown-item.vue"]]);const Rx=Qn({name:"ElDropdownMenu",props:cx,setup(e){const t=GS("dropdown"),{_elDropdownSize:n}=Tx(),r=n.value,{focusTrapRef:o,onKeydown:i}=To(UI,void 0),{contentRef:a,role:s,triggerId:c}=To(gx,void 0),{collectionRef:l,getItems:u}=To(fx,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:h,tabIndex:p,onBlur:f,onFocus:m,onMousedown:g}=To(XD,void 0),{collectionRef:v}=To(KD,void 0),y=ma((()=>[t.b("menu"),t.bm("menu",null==r?void 0:r.value)])),_=hS(a,l,o,d,v),E=yc((t=>{var n;null==(n=e.onKeydown)||n.call(e,t)}),(e=>{const{currentTarget:t,code:n,target:r}=e;if(t.contains(r),pS.tab===n&&e.stopImmediatePropagation(),e.preventDefault(),r!==Lt(a)||!dx.includes(n))return;const o=u().filter((e=>!e.disabled)).map((e=>e.ref));ux.includes(n)&&o.reverse(),ZD(o)}));return{size:r,rovingFocusGroupRootStyle:h,tabIndex:p,dropdownKls:y,role:s,triggerId:c,dropdownListWrapperRef:_,handleKeydown:e=>{E(e),i(e)},onBlur:f,onFocus:m,onMousedown:g}}});var Ix=oR(Rx,[["render",function(e,t,n,r,o,i){return Ri(),ki("ul",{ref:e.dropdownListWrapperRef,class:q(e.dropdownKls),style:z(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:Js(e.handleKeydown,["self"]),onMousedown:Js(e.onMousedown,["self"])},[Wr(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}],["__file","dropdown-menu.vue"]]);const Ax=lS(_x,{DropdownItem:Cx,DropdownMenu:Ix}),Ox=dS(Cx),Nx=dS(Ix),kx=rS({urlList:{type:Array,default:()=>[]},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:String}}),Dx={close:()=>!0,switch:e=>Ip(e),rotate:e=>Ip(e)},xx=Qn({...Qn({name:"ElImageViewer"}),props:kx,emits:Dx,setup(e,{expose:t,emit:n}){var r;const o=e,i={CONTAIN:{name:"contain",icon:At(yy)},ORIGINAL:{name:"original",icon:At(Mb)}},{t:a}=VS(),s=GS("image-viewer"),{nextZIndex:c}=MC(),l=Dt(),u=Dt([]),d=ae(),h=Dt(!0),p=Dt(o.initialIndex),f=xt(i.CONTAIN),m=Dt({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=Dt(null!=(r=o.zIndex)?r:c()),v=ma((()=>{const{urlList:e}=o;return e.length<=1})),y=ma((()=>0===p.value)),_=ma((()=>p.value===o.urlList.length-1)),E=ma((()=>o.urlList[p.value])),b=ma((()=>[s.e("btn"),s.e("prev"),s.is("disabled",!o.infinite&&y.value)])),T=ma((()=>[s.e("btn"),s.e("next"),s.is("disabled",!o.infinite&&_.value)])),S=ma((()=>{const{scale:e,deg:t,offsetX:n,offsetY:r,enableTransition:o}=m.value;let a=n/e,s=r/e;const c=t*Math.PI/180,l=Math.cos(c),u=Math.sin(c);a=a*l+s*u,s=s*l-n/e*u;const d={transform:`scale(${e}) rotate(${t}deg) translate(${a}px, ${s}px)`,transition:o?"transform .3s":""};return f.value.name===i.CONTAIN.name&&(d.maxWidth=d.maxHeight="100%"),d}));function w(){d.stop(),n("close")}function C(){h.value=!1}function R(e){h.value=!1,e.target.alt=a("el.image.error")}function I(e){if(h.value||0!==e.button||!l.value)return;m.value.enableTransition=!1;const{offsetX:t,offsetY:n}=m.value,r=e.pageX,o=e.pageY,i=Tp((e=>{m.value={...m.value,offsetX:t+e.pageX-r,offsetY:n+e.pageY-o}})),a=Hc(document,"mousemove",i);Hc(document,"mouseup",(()=>{a()})),e.preventDefault()}function A(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function O(){if(h.value)return;const e=Mp(i),t=Object.values(i),n=f.value.name,r=(t.findIndex((e=>e.name===n))+1)%e.length;f.value=i[e[r]],A()}function N(e){const t=o.urlList.length;p.value=(e+t)%t}function k(){y.value&&!o.infinite||N(p.value-1)}function D(){_.value&&!o.infinite||N(p.value+1)}function x(e,t={}){if(h.value)return;const{minScale:r,maxScale:i}=o,{zoomRate:a,rotateDeg:s,enableTransition:c}={zoomRate:o.zoomRate,rotateDeg:90,enableTransition:!0,...t};switch(e){case"zoomOut":m.value.scale>r&&(m.value.scale=Number.parseFloat((m.value.scale/a).toFixed(3)));break;case"zoomIn":m.value.scale<i&&(m.value.scale=Number.parseFloat((m.value.scale*a).toFixed(3)));break;case"clockwise":m.value.deg+=s,n("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=s,n("rotate",m.value.deg)}m.value.enableTransition=c}return Zo(E,(()=>{dn((()=>{const e=u.value[0];(null==e?void 0:e.complete)||(h.value=!0)}))})),Zo(p,(e=>{A(),n("switch",e)})),Ir((()=>{var e,t;!function(){const e=Tp((e=>{switch(e.code){case pS.esc:o.closeOnPressEscape&&w();break;case pS.space:O();break;case pS.left:k();break;case pS.up:x("zoomIn");break;case pS.right:D();break;case pS.down:x("zoomOut")}})),t=Tp((e=>{x((e.deltaY||e.deltaX)<0?"zoomIn":"zoomOut",{zoomRate:o.zoomRate,enableTransition:!1})}));d.run((()=>{Hc(document,"keydown",e),Hc(document,"wheel",t)}))}(),null==(t=null==(e=l.value)?void 0:e.focus)||t.call(e)})),t({setActiveItem:N}),(e,t)=>(Ri(),Di(Lt(_A),{to:"body",disabled:!e.teleported},{default:wn((()=>[ji(La,{name:"viewer-fade",appear:""},{default:wn((()=>[Ui("div",{ref_key:"wrapper",ref:l,tabindex:-1,class:q(Lt(s).e("wrapper")),style:z({zIndex:g.value})},[Ui("div",{class:q(Lt(s).e("mask")),onClick:Js((t=>e.hideOnClickModal&&w()),["self"])},null,10,["onClick"]),Hi(" CLOSE "),Ui("span",{class:q([Lt(s).e("btn"),Lt(s).e("close")]),onClick:w},[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(tg))])),_:1})],2),Hi(" ARROW "),Lt(v)?Hi("v-if",!0):(Ri(),ki(Ei,{key:0},[Ui("span",{class:q(Lt(b)),onClick:k},[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(pf))])),_:1})],2),Ui("span",{class:q(Lt(T)),onClick:D},[ji(Lt(aR),null,{default:wn((()=>[ji(Lt(vf))])),_:1})],2)],64)),Hi(" ACTIONS "),Ui("div",{class:q([Lt(s).e("btn"),Lt(s).e("actions")])},[Ui("div",{class:q(Lt(s).e("actions__inner"))},[ji(Lt(aR),{onClick:e=>x("zoomOut")},{default:wn((()=>[ji(Lt(ZT))])),_:1},8,["onClick"]),ji(Lt(aR),{onClick:e=>x("zoomIn")},{default:wn((()=>[ji(Lt(JT))])),_:1},8,["onClick"]),Ui("i",{class:q(Lt(s).e("actions__divider"))},null,2),ji(Lt(aR),{onClick:O},{default:wn((()=>[(Ri(),Di(Vr(Lt(f).icon)))])),_:1}),Ui("i",{class:q(Lt(s).e("actions__divider"))},null,2),ji(Lt(aR),{onClick:e=>x("anticlockwise")},{default:wn((()=>[ji(Lt(Ab))])),_:1},8,["onClick"]),ji(Lt(aR),{onClick:e=>x("clockwise")},{default:wn((()=>[ji(Lt(Ob))])),_:1},8,["onClick"])],2)],2),Hi(" CANVAS "),Ui("div",{class:q(Lt(s).e("canvas"))},[(Ri(!0),ki(Ei,null,Hr(e.urlList,((t,n)=>Cn((Ri(),ki("img",{ref_for:!0,ref:e=>u.value[n]=e,key:t,src:t,style:z(Lt(S)),class:q(Lt(s).e("img")),crossorigin:e.crossorigin,onLoad:C,onError:R,onMousedown:I},null,46,["src","crossorigin"])),[[Za,n===p.value]]))),128))],2),Wr(e.$slots,"default")],6)])),_:3})])),_:3},8,["disabled"]))}});const Px=lS(oR(xx,[["__file","image-viewer.vue"]])),Mx=rS({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:[String,Object]},previewSrcList:{type:Array,default:()=>[]},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:String}}),Lx={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Ip(e),close:()=>!0,show:()=>!0},Ux=Qn({...Qn({name:"ElImage",inheritAttrs:!1}),props:Mx,emits:Lx,setup(e,{emit:t}){const n=e;let r="";const{t:o}=VS(),i=GS("image"),a=eo(),s=ma((()=>pp(Object.entries(a).filter((([e])=>/^(data-|on[A-Z])/i.test(e)||["id","style"].includes(e)))))),c=kS({excludeListeners:!0,excludeKeys:ma((()=>Object.keys(s.value)))}),l=Dt(),u=Dt(!1),h=Dt(!0),p=Dt(!1),f=Dt(),m=Dt(),v=Oc&&"loading"in HTMLImageElement.prototype;let y,_;const E=ma((()=>[i.e("inner"),T.value&&i.e("preview"),h.value&&i.is("loading")])),b=ma((()=>{const{fit:e}=n;return Oc&&e?{objectFit:e}:{}})),T=ma((()=>{const{previewSrcList:e}=n;return d(e)&&e.length>0})),S=ma((()=>{const{previewSrcList:e,initialIndex:t}=n;let r=t;return t>e.length-1&&(r=0),r})),w=ma((()=>"eager"!==n.loading&&(!v&&"lazy"===n.loading||n.lazy))),C=()=>{Oc&&(h.value=!0,u.value=!1,l.value=n.src)};function R(e){h.value=!1,u.value=!1,t("load",e)}function I(e){h.value=!1,u.value=!0,t("error",e)}function A(){((e,t)=>{if(!Oc||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return r=t instanceof Element?t.getBoundingClientRect():{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right})(f.value,m.value)&&(C(),k())}const O=Uc(A,200,!0);async function N(){var e;if(!Oc)return;await dn();const{scrollContainer:t}=n;Op(t)?m.value=t:g(t)&&""!==t?m.value=null!=(e=document.querySelector(t))?e:void 0:f.value&&(m.value=((e,t)=>{if(!Oc)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Kp(n,t))return n;n=n.parentNode}return n})(f.value)),m.value&&(y=Hc(m,"scroll",O),setTimeout((()=>A()),100))}function k(){Oc&&m.value&&O&&(null==y||y(),m.value=void 0)}function D(e){if(e.ctrlKey)return e.deltaY<0||e.deltaY>0?(e.preventDefault(),!1):void 0}function x(){T.value&&(_=Hc("wheel",D,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",p.value=!0,t("show"))}function P(){null==_||_(),document.body.style.overflow=r,p.value=!1,t("close")}function M(e){t("switch",e)}return Zo((()=>n.src),(()=>{w.value?(h.value=!0,u.value=!1,k(),N()):C()})),Ir((()=>{w.value?N():C()})),(e,t)=>(Ri(),ki("div",Ki({ref_key:"container",ref:f},Lt(s),{class:[Lt(i).b(),e.$attrs.class]}),[u.value?Wr(e.$slots,"error",{key:0},(()=>[Ui("div",{class:q(Lt(i).e("error"))},ee(Lt(o)("el.image.error")),3)])):(Ri(),ki(Ei,{key:1},[void 0!==l.value?(Ri(),ki("img",Ki({key:0},Lt(c),{src:l.value,loading:e.loading,style:Lt(b),class:Lt(E),crossorigin:e.crossorigin,onClick:x,onLoad:R,onError:I}),null,16,["src","loading","crossorigin"])):Hi("v-if",!0),h.value?(Ri(),ki("div",{key:1,class:q(Lt(i).e("wrapper"))},[Wr(e.$slots,"placeholder",{},(()=>[Ui("div",{class:q(Lt(i).e("placeholder"))},null,2)]))],2)):Hi("v-if",!0)],64)),Lt(T)?(Ri(),ki(Ei,{key:2},[p.value?(Ri(),Di(Lt(Px),{key:0,"z-index":e.zIndex,"initial-index":Lt(S),infinite:e.infinite,"zoom-rate":e.zoomRate,"min-scale":e.minScale,"max-scale":e.maxScale,"url-list":e.previewSrcList,crossorigin:e.crossorigin,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:P,onSwitch:M},{default:wn((()=>[e.$slots.viewer?(Ri(),ki("div",{key:0},[Wr(e.$slots,"viewer")])):Hi("v-if",!0)])),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Hi("v-if",!0)],64)):Hi("v-if",!0)],16))}});const jx=lS(oR(Ux,[["__file","image.vue"]])),Vx=rS({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:UC,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>null===e||Ip(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...YC(["ariaLabel"])}),Bx={[vS]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[yS]:e=>Ip(e)||mp(e),[gS]:e=>Ip(e)||mp(e)},zx=Qn({...Qn({name:"ElInputNumber"}),props:Vx,emits:Bx,setup(e,{expose:t,emit:n}){const r=e,{t:o}=VS(),i=GS("input-number"),a=Dt(),s=yt({currentValue:r.modelValue,userInput:null}),{formItem:c}=dR(),l=ma((()=>Ip(r.modelValue)&&r.modelValue<=r.min)),u=ma((()=>Ip(r.modelValue)&&r.modelValue>=r.max)),d=ma((()=>{const e=y(r.step);return Cp(r.precision)?Math.max(y(r.modelValue),e):(r.precision,r.precision)})),h=ma((()=>r.controls&&"right"===r.controlsPosition)),p=lR(),f=uR(),m=ma((()=>{if(null!==s.userInput)return s.userInput;let e=s.currentValue;if(mp(e))return"";if(Ip(e)){if(Number.isNaN(e))return"";Cp(r.precision)||(e=e.toFixed(r.precision))}return e})),v=(e,t)=>{if(Cp(t)&&(t=d.value),0===t)return Math.round(e);let n=String(e);const r=n.indexOf(".");if(-1===r)return e;if(!n.replace(".","").split("")[r+t])return e;const o=n.length;return"5"===n.charAt(o-1)&&(n=`${n.slice(0,Math.max(0,o-1))}6`),Number.parseFloat(Number(n).toFixed(t))},y=e=>{if(mp(e))return 0;const t=e.toString(),n=t.indexOf(".");let r=0;return-1!==n&&(r=t.length-n-1),r},_=(e,t=1)=>Ip(e)?v(e+r.step*t):s.currentValue,E=()=>{if(r.readonly||f.value||u.value)return;const e=Number(m.value)||0,t=_(e);S(t),n(yS,s.currentValue),A()},b=()=>{if(r.readonly||f.value||l.value)return;const e=Number(m.value)||0,t=_(e,-1);S(t),n(yS,s.currentValue),A()},T=(e,t)=>{const{max:o,min:i,step:a,precision:s,stepStrictly:c,valueOnClear:l}=r;o<i&&Vp("InputNumber","min should not be greater than max.");let u=Number(e);if(mp(e)||Number.isNaN(u))return null;if(""===e){if(null===l)return null;u=g(l)?{min:i,max:o}[l]:l}return c&&(u=v(Math.round(u/a)*a,s),u!==e&&t&&n(gS,u)),Cp(s)||(u=v(u,s)),(u>o||u<i)&&(u=u>o?o:i,t&&n(gS,u)),u},S=(e,t=!0)=>{var o;const i=s.currentValue,a=T(e);t?i===a&&e||(s.userInput=null,n(gS,a),i!==a&&n(vS,a,i),r.validateEvent&&(null==(o=null==c?void 0:c.validate)||o.call(c,"change").catch((e=>{}))),s.currentValue=a):n(gS,a)},w=e=>{s.userInput=e;const t=""===e?null:Number(e);n(yS,t),S(t,!1)},C=e=>{const t=""!==e?Number(e):"";(Ip(t)&&!Number.isNaN(t)||""===e)&&S(t),A(),s.userInput=null},R=e=>{n("focus",e)},I=e=>{var t;s.userInput=null,n("blur",e),r.validateEvent&&(null==(t=null==c?void 0:c.validate)||t.call(c,"blur").catch((e=>{})))},A=()=>{s.currentValue!==r.modelValue&&(s.currentValue=r.modelValue)},O=e=>{document.activeElement===e.target&&e.preventDefault()};return Zo((()=>r.modelValue),((e,t)=>{const n=T(e,!0);null===s.userInput&&n!==t&&(s.currentValue=n)}),{immediate:!0}),Ir((()=>{var e;const{min:t,max:o,modelValue:i}=r,c=null==(e=a.value)?void 0:e.input;if(c.setAttribute("role","spinbutton"),Number.isFinite(o)?c.setAttribute("aria-valuemax",String(o)):c.removeAttribute("aria-valuemax"),Number.isFinite(t)?c.setAttribute("aria-valuemin",String(t)):c.removeAttribute("aria-valuemin"),c.setAttribute("aria-valuenow",s.currentValue||0===s.currentValue?String(s.currentValue):""),c.setAttribute("aria-disabled",String(f.value)),!Ip(i)&&null!=i){let e=Number(i);Number.isNaN(e)&&(e=null),n(gS,e)}c.addEventListener("wheel",O,{passive:!1})})),Or((()=>{var e,t;const n=null==(e=a.value)?void 0:e.input;null==n||n.setAttribute("aria-valuenow",`${null!=(t=s.currentValue)?t:""}`)})),t({focus:()=>{var e,t;null==(t=null==(e=a.value)?void 0:e.focus)||t.call(e)},blur:()=>{var e,t;null==(t=null==(e=a.value)?void 0:e.blur)||t.call(e)}}),(e,t)=>(Ri(),ki("div",{class:q([Lt(i).b(),Lt(i).m(Lt(p)),Lt(i).is("disabled",Lt(f)),Lt(i).is("without-controls",!e.controls),Lt(i).is("controls-right",Lt(h))]),onDragstart:Js((()=>{}),["prevent"])},[e.controls?Cn((Ri(),ki("span",{key:0,role:"button","aria-label":Lt(o)("el.inputNumber.decrease"),class:q([Lt(i).e("decrease"),Lt(i).is("disabled",Lt(l))]),onKeydown:Qs(b,["enter"])},[Wr(e.$slots,"decrease-icon",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[Lt(h)?(Ri(),Di(Lt(lf),{key:0})):(Ri(),Di(Lt(hE),{key:1}))])),_:1})]))],42,["aria-label","onKeydown"])),[[Lt(FO),b]]):Hi("v-if",!0),e.controls?Cn((Ri(),ki("span",{key:1,role:"button","aria-label":Lt(o)("el.inputNumber.increase"),class:q([Lt(i).e("increase"),Lt(i).is("disabled",Lt(u))]),onKeydown:Qs(E,["enter"])},[Wr(e.$slots,"increase-icon",{},(()=>[ji(Lt(aR),null,{default:wn((()=>[Lt(h)?(Ri(),Di(Lt(bf),{key:0})):(Ri(),Di(Lt(fb),{key:1}))])),_:1})]))],42,["aria-label","onKeydown"])),[[Lt(FO),E]]):Hi("v-if",!0),ji(Lt(sI),{id:e.id,ref_key:"input",ref:a,type:"number",step:e.step,"model-value":Lt(m),placeholder:e.placeholder,readonly:e.readonly,disabled:Lt(f),size:Lt(p),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,onKeydown:[Qs(Js(E,["prevent"]),["up"]),Qs(Js(b,["prevent"]),["down"])],onBlur:I,onFocus:R,onInput:w,onChange:C},Gr({_:2},[e.$slots.prefix?{name:"prefix",fn:wn((()=>[Wr(e.$slots,"prefix")]))}:void 0,e.$slots.suffix?{name:"suffix",fn:wn((()=>[Wr(e.$slots,"suffix")]))}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});const Fx=lS(oR(zx,[["__file","input-number.vue"]])),Hx=Symbol("elPaginationKey"),Gx=rS({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:oS}}),Wx={click:e=>e instanceof MouseEvent},qx=Qn({...Qn({name:"ElPaginationPrev"}),props:Gx,emits:Wx,setup(e){const t=e,{t:n}=VS(),r=ma((()=>t.disabled||t.currentPage<=1));return(e,t)=>(Ri(),ki("button",{type:"button",class:"btn-prev",disabled:Lt(r),"aria-label":e.prevText||Lt(n)("el.pagination.prev"),"aria-disabled":Lt(r),onClick:t=>e.$emit("click",t)},[e.prevText?(Ri(),ki("span",{key:0},ee(e.prevText),1)):(Ri(),Di(Lt(aR),{key:1},{default:wn((()=>[(Ri(),Di(Vr(e.prevIcon)))])),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Kx=oR(qx,[["__file","prev.vue"]]);const Yx=rS({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:oS}}),Xx=Qn({...Qn({name:"ElPaginationNext"}),props:Yx,emits:["click"],setup(e){const t=e,{t:n}=VS(),r=ma((()=>t.disabled||t.currentPage===t.pageCount||0===t.pageCount));return(e,t)=>(Ri(),ki("button",{type:"button",class:"btn-next",disabled:Lt(r),"aria-label":e.nextText||Lt(n)("el.pagination.next"),"aria-disabled":Lt(r),onClick:t=>e.$emit("click",t)},[e.nextText?(Ri(),ki("span",{key:0},ee(e.nextText),1)):(Ri(),Di(Lt(aR),{key:1},{default:wn((()=>[(Ri(),Di(Vr(e.nextIcon)))])),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var $x=oR(Xx,[["__file","next.vue"]]);const Jx=Symbol("ElSelectGroup"),Zx=Symbol("ElSelect");var Qx=oR(Qn({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=GS("select"),n=_C(),r=ma((()=>[t.be("dropdown","item"),t.is("disabled",Lt(s)),t.is("selected",Lt(a)),t.is("hovering",Lt(h))])),o=yt({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:i,itemSelected:a,isDisabled:s,select:c,hoverItem:l,updateOption:u}=function(e,t){const n=To(Zx),r=To(Jx,{disabled:!1}),o=ma((()=>u(Md(n.props.modelValue),e.value))),i=ma((()=>{var e;if(n.props.multiple){const t=Md(null!=(e=n.props.modelValue)?e:[]);return!o.value&&t.length>=n.props.multipleLimit&&n.props.multipleLimit>0}return!1})),a=ma((()=>e.label||(y(e.value)?"":e.value))),s=ma((()=>e.value||e.label||"")),c=ma((()=>e.disabled||t.groupDisabled||i.value)),l=Qi(),u=(t=[],r)=>{if(y(e.value)){const e=n.props.valueKey;return t&&t.some((t=>It(Sd(t,e))===Sd(r,e)))}return t&&t.includes(r)};return Zo((()=>a.value),(()=>{e.created||n.props.remote||n.setSelected()})),Zo((()=>e.value),((t,r)=>{const{remote:o,valueKey:i}=n.props;if(t!==r&&(n.onOptionDestroy(r,l.proxy),n.onOptionCreate(l.proxy)),!e.created&&!o){if(i&&y(t)&&y(r)&&t[i]===r[i])return;n.setSelected()}})),Zo((()=>r.disabled),(()=>{t.groupDisabled=r.disabled}),{immediate:!0}),{select:n,currentLabel:a,currentValue:s,itemSelected:o,isDisabled:c,hoverItem:()=>{e.disabled||r.disabled||(n.states.hoveringIndex=n.optionsArray.indexOf(l.proxy))},updateOption:n=>{const r=new RegExp(xp(n),"i");t.visible=r.test(a.value)||e.created}}}(e,o),{visible:d,hover:h}=zt(o),p=Qi().proxy;return c.onOptionCreate(p),Nr((()=>{const e=p.value,{selected:t}=c.states,n=(c.props.multiple?t:[t]).some((e=>e.value===p.value));dn((()=>{c.states.cachedOptions.get(e)!==p||n||c.states.cachedOptions.delete(e)})),c.onOptionDestroy(e,p)})),{ns:t,id:n,containerKls:r,currentLabel:i,itemSelected:a,isDisabled:s,select:c,hoverItem:l,updateOption:u,visible:d,hover:h,selectOptionClick:function(){s.value||c.handleOptionSelect(p)},states:o}}}),[["render",function(e,t,n,r,o,i){return Cn((Ri(),ki("li",{id:e.id,class:q(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:Js(e.selectOptionClick,["stop"])},[Wr(e.$slots,"default",{},(()=>[Ui("span",null,ee(e.currentLabel),1)]))],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[Za,e.visible]])}],["__file","option.vue"]]);var eP=oR(Qn({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=To(Zx),t=GS("select"),n=ma((()=>e.props.popperClass)),r=ma((()=>e.props.multiple)),o=ma((()=>e.props.fitInputWidth)),i=Dt("");function a(){var t;i.value=`${null==(t=e.selectRef)?void 0:t.offsetWidth}px`}return Ir((()=>{a(),Qc(e.selectRef,a)})),{ns:t,minWidth:i,popperClass:n,isMultiple:r,isFitInputWidth:o}}}),[["render",function(e,t,n,r,o,i){return Ri(),ki("div",{class:q([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:z({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(Ri(),ki("div",{key:0,class:q(e.ns.be("dropdown","header"))},[Wr(e.$slots,"header")],2)):Hi("v-if",!0),Wr(e.$slots,"default"),e.$slots.footer?(Ri(),ki("div",{key:1,class:q(e.ns.be("dropdown","footer"))},[Wr(e.$slots,"footer")],2)):Hi("v-if",!0)],6)}],["__file","select-dropdown.vue"]]);const tP=(e,t)=>{const{t:n}=VS(),r=_C(),o=GS("select"),i=GS("input"),a=yt({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),s=Dt(null),c=Dt(null),l=Dt(null),u=Dt(null),h=Dt(null),p=Dt(null),f=Dt(null),g=Dt(null),v=Dt(null),_=Dt(null),E=Dt(null),b=Dt(null),{isComposing:T,handleCompositionStart:w,handleCompositionUpdate:C,handleCompositionEnd:R}=zC({afterComposition:e=>pe(e)}),{wrapperRef:I,isFocused:A,handleBlur:O}=BC(h,{beforeFocus:()=>U.value,afterFocus(){e.automaticDropdown&&!N.value&&(N.value=!0,a.menuVisibleOnFocus=!0)},beforeBlur(e){var t,n;return(null==(t=l.value)?void 0:t.isFocusInsideContent(e))||(null==(n=u.value)?void 0:n.isFocusInsideContent(e))},afterBlur(){N.value=!1,a.menuVisibleOnFocus=!1}}),N=Dt(!1),k=Dt(),{form:D,formItem:x}=dR(),{inputId:P}=hR(e,{formItemContext:x}),{valueOnClear:M,isEmptyValue:L}=qC(e),U=ma((()=>e.disabled||(null==D?void 0:D.disabled))),j=ma((()=>d(e.modelValue)?e.modelValue.length>0:!L(e.modelValue))),V=ma((()=>{var e;return null!=(e=null==D?void 0:D.statusIcon)&&e})),B=ma((()=>e.clearable&&!U.value&&a.inputHovering&&j.value)),z=ma((()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon)),F=ma((()=>o.is("reverse",z.value&&N.value))),H=ma((()=>(null==x?void 0:x.validateState)||"")),G=ma((()=>cS[H.value])),W=ma((()=>e.remote?300:0)),q=ma((()=>e.loading?e.loadingText||n("el.select.loading"):!(e.remote&&!a.inputValue&&0===a.options.size)&&(e.filterable&&a.inputValue&&a.options.size>0&&0===K.value?e.noMatchText||n("el.select.noMatch"):0===a.options.size?e.noDataText||n("el.select.noData"):null))),K=ma((()=>Y.value.filter((e=>e.visible)).length)),Y=ma((()=>{const e=Array.from(a.options.values()),t=[];return a.optionValues.forEach((n=>{const r=e.findIndex((e=>e.value===n));r>-1&&t.push(e[r])})),t.length>=e.length?t:e})),X=ma((()=>Array.from(a.cachedOptions.values()))),$=ma((()=>{const t=Y.value.filter((e=>!e.created)).some((e=>e.currentLabel===a.inputValue));return e.filterable&&e.allowCreate&&""!==a.inputValue&&!t})),J=()=>{e.filterable&&m(e.filterMethod)||e.filterable&&e.remote&&m(e.remoteMethod)||Y.value.forEach((e=>{var t;null==(t=e.updateOption)||t.call(e,a.inputValue)}))},Z=lR(),Q=ma((()=>["small"].includes(Z.value)?"small":"default")),ee=ma({get:()=>N.value&&!1!==q.value,set(e){N.value=e}}),te=ma((()=>{if(e.multiple&&!Cp(e.modelValue))return 0===Md(e.modelValue).length&&!a.inputValue;const t=d(e.modelValue)?e.modelValue[0]:e.modelValue;return!e.filterable&&!Cp(t)||!a.inputValue})),ne=ma((()=>{var t;const r=null!=(t=e.placeholder)?t:n("el.select.placeholder");return e.multiple||!j.value?r:a.selectedLabel})),re=ma((()=>Dc?null:"mouseenter"));Zo((()=>e.modelValue),((t,n)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(a.inputValue="",oe("")),ae(),!fp(t,n)&&e.validateEvent&&(null==x||x.validate("change").catch((e=>{})))}),{flush:"post",deep:!0}),Zo((()=>N.value),(e=>{e?oe(a.inputValue):(a.inputValue="",a.previousQuery=null,a.isBeforeHide=!0),t("visible-change",e)})),Zo((()=>a.options.entries()),(()=>{var t;if(!Oc)return;const n=(null==(t=s.value)?void 0:t.querySelectorAll("input"))||[];(e.filterable||e.defaultFirstOption||Cp(e.modelValue))&&Array.from(n).includes(document.activeElement)||ae(),e.defaultFirstOption&&(e.filterable||e.remote)&&K.value&&ie()}),{flush:"post"}),Zo((()=>a.hoveringIndex),(e=>{Ip(e)&&e>-1?k.value=Y.value[e]||{}:k.value={},Y.value.forEach((e=>{e.hover=k.value===e}))})),$o((()=>{a.isBeforeHide||J()}));const oe=t=>{a.previousQuery===t||T.value||(a.previousQuery=t,e.filterable&&m(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&m(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&K.value?dn(ie):dn(ce))},ie=()=>{const e=Y.value.filter((e=>e.visible&&!e.disabled&&!e.states.groupDisabled)),t=e.find((e=>e.created)),n=e[0],r=Y.value.map((e=>e.value));a.hoveringIndex=_e(r,t||n)},ae=()=>{if(!e.multiple){const t=d(e.modelValue)?e.modelValue[0]:e.modelValue,n=se(t);return a.selectedLabel=n.currentLabel,void(a.selected=[n])}a.selectedLabel="";const t=[];Cp(e.modelValue)||Md(e.modelValue).forEach((e=>{t.push(se(e))})),a.selected=t},se=t=>{let n;const r=S(t);for(let o=a.cachedOptions.size-1;o>=0;o--){const i=X.value[o];if(r?Sd(i.value,e.valueKey)===Sd(t,e.valueKey):i.value===t){n={value:t,currentLabel:i.currentLabel,get isDisabled(){return i.isDisabled}};break}}if(n)return n;return{value:t,currentLabel:r?t.label:null!=t?t:""}},ce=()=>{a.hoveringIndex=Y.value.findIndex((e=>a.selected.some((t=>we(t)===we(e)))))},le=()=>{a.calculatorWidth=p.value.getBoundingClientRect().width},ue=()=>{var e,t;null==(t=null==(e=l.value)?void 0:e.updatePopper)||t.call(e)},de=()=>{var e,t;null==(t=null==(e=u.value)?void 0:e.updatePopper)||t.call(e)},he=()=>{a.inputValue.length>0&&!N.value&&(N.value=!0),oe(a.inputValue)},pe=t=>{if(a.inputValue=t.target.value,!e.remote)return he();fe()},fe=op((()=>{he()}),W.value),me=n=>{fp(e.modelValue,n)||t(vS,n)},ge=e=>function(e,t){var n=null==e?0:e.length;if(!n)return-1;var r=n-1;return pu(e,Jh(t),r,!0)}(e,(e=>{const t=a.cachedOptions.get(e);return t&&!t.disabled&&!t.states.groupDisabled})),ve=n=>{n.stopPropagation();const r=e.multiple?[]:M.value;if(e.multiple)for(const e of a.selected)e.isDisabled&&r.push(e.value);t(gS,r),me(r),a.hoveringIndex=-1,N.value=!1,t("clear"),Te()},ye=n=>{var r;if(e.multiple){const o=Md(null!=(r=e.modelValue)?r:[]).slice(),i=_e(o,n);i>-1?o.splice(i,1):(e.multipleLimit<=0||o.length<e.multipleLimit)&&o.push(n.value),t(gS,o),me(o),n.created&&oe(""),e.filterable&&!e.reserveKeyword&&(a.inputValue="")}else t(gS,n.value),me(n.value),N.value=!1;Te(),N.value||dn((()=>{Ee(n)}))},_e=(t=[],n)=>Cp(n)?-1:y(n.value)?t.findIndex((t=>fp(Sd(t,e.valueKey),we(n)))):t.indexOf(n.value),Ee=e=>{var t,n,r,i,a;const s=d(e)?e[0]:e;let c=null;if(null==s?void 0:s.value){const e=Y.value.filter((e=>e.value===s.value));e.length>0&&(c=e[0].$el)}if(l.value&&c){const e=null==(i=null==(r=null==(n=null==(t=l.value)?void 0:t.popperRef)?void 0:n.contentRef)?void 0:r.querySelector)?void 0:i.call(r,`.${o.be("dropdown","wrap")}`);e&&$p(e,c)}null==(a=b.value)||a.handleScroll()},be=ma((()=>{var e,t;return null==(t=null==(e=l.value)?void 0:e.popperRef)?void 0:t.contentRef})),Te=()=>{var e;null==(e=h.value)||e.focus()},Se=()=>{U.value||(Dc&&(a.inputHovering=!0),a.menuVisibleOnFocus?a.menuVisibleOnFocus=!1:N.value=!N.value)},we=t=>y(t.value)?Sd(t.value,e.valueKey):t.value,Ce=ma((()=>Y.value.filter((e=>e.visible)).every((e=>e.disabled)))),Re=ma((()=>e.multiple?e.collapseTags?a.selected.slice(0,e.maxCollapseTags):a.selected:[])),Ie=ma((()=>e.multiple&&e.collapseTags?a.selected.slice(e.maxCollapseTags):[])),Ae=e=>{if(N.value){if(0!==a.options.size&&0!==a.filteredOptionsCount&&!T.value&&!Ce.value){"next"===e?(a.hoveringIndex++,a.hoveringIndex===a.options.size&&(a.hoveringIndex=0)):"prev"===e&&(a.hoveringIndex--,a.hoveringIndex<0&&(a.hoveringIndex=a.options.size-1));const t=Y.value[a.hoveringIndex];!0!==t.disabled&&!0!==t.states.groupDisabled&&t.visible||Ae(e),dn((()=>Ee(k.value)))}}else N.value=!0},Oe=ma((()=>{const t=(()=>{if(!c.value)return 0;const e=window.getComputedStyle(c.value);return Number.parseFloat(e.gap||"6px")})();return{maxWidth:`${E.value&&1===e.maxCollapseTags?a.selectionWidth-a.collapseItemWidth-t:a.selectionWidth}px`}})),Ne=ma((()=>({maxWidth:`${a.selectionWidth}px`}))),ke=ma((()=>({width:`${Math.max(a.calculatorWidth,11)}px`})));return Qc(c,(()=>{a.selectionWidth=c.value.getBoundingClientRect().width})),Qc(p,le),Qc(v,ue),Qc(I,ue),Qc(_,de),Qc(E,(()=>{a.collapseItemWidth=E.value.getBoundingClientRect().width})),Ir((()=>{ae()})),{inputId:P,contentId:r,nsSelect:o,nsInput:i,states:a,isFocused:A,expanded:N,optionsArray:Y,hoverOption:k,selectSize:Z,filteredOptionsCount:K,resetCalculatorWidth:le,updateTooltip:ue,updateTagTooltip:de,debouncedOnInputChange:fe,onInput:pe,deletePrevTag:n=>{if(e.multiple&&n.code!==pS.delete&&n.target.value.length<=0){const n=Md(e.modelValue).slice(),r=ge(n);if(r<0)return;const o=n[r];n.splice(r,1),t(gS,n),me(n),t("remove-tag",o)}},deleteTag:(n,r)=>{const o=a.selected.indexOf(r);if(o>-1&&!U.value){const n=Md(e.modelValue).slice();n.splice(o,1),t(gS,n),me(n),t("remove-tag",r.value)}n.stopPropagation(),Te()},deleteSelected:ve,handleOptionSelect:ye,scrollToOption:Ee,hasModelValue:j,shouldShowPlaceholder:te,currentPlaceholder:ne,mouseEnterEventName:re,needStatusIcon:V,showClose:B,iconComponent:z,iconReverse:F,validateState:H,validateIcon:G,showNewOption:$,updateOptions:J,collapseTagSize:Q,setSelected:ae,selectDisabled:U,emptyText:q,handleCompositionStart:w,handleCompositionUpdate:C,handleCompositionEnd:R,onOptionCreate:e=>{a.options.set(e.value,e),a.cachedOptions.set(e.value,e)},onOptionDestroy:(e,t)=>{a.options.get(e)===t&&a.options.delete(e)},handleMenuEnter:()=>{a.isBeforeHide=!1,dn((()=>Ee(a.selected)))},focus:Te,blur:()=>{var e;if(N.value)return N.value=!1,void dn((()=>{var e;return null==(e=h.value)?void 0:e.blur()}));null==(e=h.value)||e.blur()},handleClearClick:e=>{ve(e)},handleClickOutside:e=>{if(N.value=!1,A.value){const t=new FocusEvent("focus",e);dn((()=>O(t)))}},handleEsc:()=>{a.inputValue.length>0?a.inputValue="":N.value=!1},toggleMenu:Se,selectOption:()=>{if(N.value){const e=Y.value[a.hoveringIndex];!e||e.disabled||e.states.groupDisabled||ye(e)}else Se()},getValueKey:we,navigateOptions:Ae,dropdownMenuVisible:ee,showTagList:Re,collapseTagList:Ie,tagStyle:Oe,collapseTagStyle:Ne,inputStyle:ke,popperRef:be,inputRef:h,tooltipRef:l,tagTooltipRef:u,calculatorRef:p,prefixRef:f,suffixRef:g,selectRef:s,wrapperRef:I,selectionRef:c,scrollbarRef:b,menuRef:v,tagMenuRef:_,collapseItemRef:E}};var nP=Qn({name:"ElOptions",setup(e,{slots:t}){const n=To(Zx);let r=[];return()=>{var e,o;const i=null==(e=t.default)?void 0:e.call(t),a=[];return i.length&&function e(t){d(t)&&t.forEach((t=>{var n,r,o,i;const s=null==(n=(null==t?void 0:t.type)||{})?void 0:n.name;"ElOptionGroup"===s?e(g(t.children)||d(t.children)||!m(null==(r=t.children)?void 0:r.default)?t.children:null==(o=t.children)?void 0:o.default()):"ElOption"===s?a.push(null==(i=t.props)?void 0:i.value):d(t.children)&&e(t.children)}))}(null==(o=i[0])?void 0:o.children),fp(a,r)||(r=a,n&&(n.states.optionValues=a)),i}}});const rP=rS({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:UC,effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:lA.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:oS,default:Wm},fitInputWidth:Boolean,suffixIcon:{type:oS,default:lf},tagType:{...mk.type,default:"info"},tagEffect:{...mk.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:sw,default:"bottom-start"},fallbackPlacements:{type:Array,default:["bottom-start","top-start","right","left"]},appendTo:String,...WC,...YC(["ariaLabel"])}),oP="ElSelect";var iP=oR(Qn({name:oP,componentName:oP,components:{ElSelectMenu:eP,ElOption:Qx,ElOptions:nP,ElTag:vk,ElScrollbar:yI,ElTooltip:bA,ElIcon:aR},directives:{ClickOutside:VO},props:rP,emits:[gS,vS,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=ma((()=>{const{modelValue:t,multiple:n}=e,r=n?[]:void 0;return d(t)?n?t:r:n?r:t})),r=yt({...zt(e),modelValue:n}),o=tP(r,t);bo(Zx,yt({props:r,states:o.states,optionsArray:o.optionsArray,handleOptionSelect:o.handleOptionSelect,onOptionCreate:o.onOptionCreate,onOptionDestroy:o.onOptionDestroy,selectRef:o.selectRef,setSelected:o.setSelected}));const i=ma((()=>e.multiple?o.states.selected.map((e=>e.currentLabel)):o.states.selectedLabel));return{...o,modelValue:n,selectedLabel:i}}}),[["render",function(e,t,n,r,o,i){const a=Ur("el-tag"),s=Ur("el-tooltip"),c=Ur("el-icon"),l=Ur("el-option"),u=Ur("el-options"),d=Ur("el-scrollbar"),h=Ur("el-select-menu"),p=Br("click-outside");return Cn((Ri(),ki("div",{ref:"selectRef",class:q([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[D(e.mouseEnterEventName)]:t=>e.states.inputHovering=!0,onMouseleave:t=>e.states.inputHovering=!1},[ji(s,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t=>e.states.isBeforeHide=!1},{default:wn((()=>{var t;return[Ui("div",{ref:"wrapperRef",class:q([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:Js(e.toggleMenu,["prevent"])},[e.$slots.prefix?(Ri(),ki("div",{key:0,ref:"prefixRef",class:q(e.nsSelect.e("prefix"))},[Wr(e.$slots,"prefix")],2)):Hi("v-if",!0),Ui("div",{ref:"selectionRef",class:q([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?Wr(e.$slots,"tag",{key:0},(()=>[(Ri(!0),ki(Ei,null,Hr(e.showTagList,(t=>(Ri(),ki("div",{key:e.getValueKey(t),class:q(e.nsSelect.e("selected-item"))},[ji(a,{closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:z(e.tagStyle),onClose:n=>e.deleteTag(n,t)},{default:wn((()=>[Ui("span",{class:q(e.nsSelect.e("tags-text"))},[Wr(e.$slots,"label",{label:t.currentLabel,value:t.value},(()=>[zi(ee(t.currentLabel),1)]))],2)])),_:2},1032,["closable","size","type","effect","style","onClose"])],2)))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(Ri(),Di(s,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:wn((()=>[Ui("div",{ref:"collapseItemRef",class:q(e.nsSelect.e("selected-item"))},[ji(a,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:z(e.collapseTagStyle)},{default:wn((()=>[Ui("span",{class:q(e.nsSelect.e("tags-text"))}," + "+ee(e.states.selected.length-e.maxCollapseTags),3)])),_:1},8,["size","type","effect","style"])],2)])),content:wn((()=>[Ui("div",{ref:"tagMenuRef",class:q(e.nsSelect.e("selection"))},[(Ri(!0),ki(Ei,null,Hr(e.collapseTagList,(t=>(Ri(),ki("div",{key:e.getValueKey(t),class:q(e.nsSelect.e("selected-item"))},[ji(a,{class:"in-tooltip",closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:wn((()=>[Ui("span",{class:q(e.nsSelect.e("tags-text"))},[Wr(e.$slots,"label",{label:t.currentLabel,value:t.value},(()=>[zi(ee(t.currentLabel),1)]))],2)])),_:2},1032,["closable","size","type","effect","onClose"])],2)))),128))],2)])),_:3},8,["disabled","effect","teleported"])):Hi("v-if",!0)])):Hi("v-if",!0),e.selectDisabled?Hi("v-if",!0):(Ri(),ki("div",{key:1,class:q([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Cn(Ui("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t=>e.states.inputValue=t,type:"text",name:e.name,class:q([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:z(e.inputStyle),role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":(null==(t=e.hoverOption)?void 0:t.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Qs(Js((t=>e.navigateOptions("next")),["stop","prevent"]),["down"]),Qs(Js((t=>e.navigateOptions("prev")),["stop","prevent"]),["up"]),Qs(Js(e.handleEsc,["stop","prevent"]),["esc"]),Qs(Js(e.selectOption,["stop","prevent"]),["enter"]),Qs(Js(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:Js(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[js,e.states.inputValue]]),e.filterable?(Ri(),ki("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:q(e.nsSelect.e("input-calculator")),textContent:ee(e.states.inputValue)},null,10,["textContent"])):Hi("v-if",!0)],2)),e.shouldShowPlaceholder?(Ri(),ki("div",{key:2,class:q([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Wr(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},(()=>[Ui("span",null,ee(e.currentPlaceholder),1)])):(Ri(),ki("span",{key:1},ee(e.currentPlaceholder),1))],2)):Hi("v-if",!0)],2),Ui("div",{ref:"suffixRef",class:q(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(Ri(),Di(c,{key:0,class:q([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:wn((()=>[(Ri(),Di(Vr(e.iconComponent)))])),_:1},8,["class"])):Hi("v-if",!0),e.showClose&&e.clearIcon?(Ri(),Di(c,{key:1,class:q([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:wn((()=>[(Ri(),Di(Vr(e.clearIcon)))])),_:1},8,["class","onClick"])):Hi("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(Ri(),Di(c,{key:2,class:q([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:wn((()=>[(Ri(),Di(Vr(e.validateIcon)))])),_:1},8,["class"])):Hi("v-if",!0)],2)],10,["onClick"])]})),content:wn((()=>[ji(h,{ref:"menuRef"},{default:wn((()=>[e.$slots.header?(Ri(),ki("div",{key:0,class:q(e.nsSelect.be("dropdown","header")),onClick:Js((()=>{}),["stop"])},[Wr(e.$slots,"header")],10,["onClick"])):Hi("v-if",!0),Cn(ji(d,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:q([e.nsSelect.is("empty",0===e.filteredOptionsCount)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:wn((()=>[e.showNewOption?(Ri(),Di(l,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):Hi("v-if",!0),ji(u,null,{default:wn((()=>[Wr(e.$slots,"default")])),_:3})])),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Za,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(Ri(),ki("div",{key:1,class:q(e.nsSelect.be("dropdown","loading"))},[Wr(e.$slots,"loading")],2)):e.loading||0===e.filteredOptionsCount?(Ri(),ki("div",{key:2,class:q(e.nsSelect.be("dropdown","empty"))},[Wr(e.$slots,"empty",{},(()=>[Ui("span",null,ee(e.emptyText),1)]))],2)):Hi("v-if",!0),e.$slots.footer?(Ri(),ki("div",{key:3,class:q(e.nsSelect.be("dropdown","footer")),onClick:Js((()=>{}),["stop"])},[Wr(e.$slots,"footer")],10,["onClick"])):Hi("v-if",!0)])),_:3},512)])),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[p,e.handleClickOutside,e.popperRef]])}],["__file","select.vue"]]);var aP=oR(Qn({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=GS("select"),n=Dt(null),r=Qi(),o=Dt([]);bo(Jx,yt({...zt(e)}));const i=ma((()=>o.value.some((e=>!0===e.visible)))),a=e=>{const t=Md(e),n=[];return t.forEach((e=>{var t,r;(e=>{var t,n;return"ElOption"===(null==(t=e.type)?void 0:t.name)&&!!(null==(n=e.component)?void 0:n.proxy)})(e)?n.push(e.component.proxy):(null==(t=e.children)?void 0:t.length)?n.push(...a(e.children)):(null==(r=e.component)?void 0:r.subTree)&&n.push(...a(e.component.subTree))})),n},s=()=>{o.value=a(r.subTree)};return Ir((()=>{s()})),il(n,s,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:i,ns:t}}}),[["render",function(e,t,n,r,o,i){return Cn((Ri(),ki("ul",{ref:"groupRef",class:q(e.ns.be("group","wrap"))},[Ui("li",{class:q(e.ns.be("group","title"))},ee(e.label),3),Ui("li",null,[Ui("ul",{class:q(e.ns.b("group"))},[Wr(e.$slots,"default")],2)])],2)),[[Za,e.visible]])}],["__file","option-group.vue"]]);const sP=lS(iP,{Option:Qx,OptionGroup:aP}),cP=dS(Qx),lP=dS(aP),uP=()=>To(Hx,{}),dP=rS({pageSize:{type:Number,required:!0},pageSizes:{type:Array,default:()=>[10,20,30,40,50,100]},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:_S},appendSizeTo:String}),hP=Qn({...Qn({name:"ElPaginationSizes"}),props:dP,emits:["page-size-change"],setup(e,{emit:t}){const n=e,{t:r}=VS(),o=GS("pagination"),i=uP(),a=Dt(n.pageSize);Zo((()=>n.pageSizes),((e,r)=>{if(!fp(e,r)&&d(e)){const r=e.includes(n.pageSize)?n.pageSize:n.pageSizes[0];t("page-size-change",r)}})),Zo((()=>n.pageSize),(e=>{a.value=e}));const s=ma((()=>n.pageSizes));function c(e){var t;e!==a.value&&(a.value=e,null==(t=i.handleSizeChange)||t.call(i,Number(e)))}return(e,t)=>(Ri(),ki("span",{class:q(Lt(o).e("sizes"))},[ji(Lt(sP),{"model-value":a.value,disabled:e.disabled,"popper-class":e.popperClass,size:e.size,teleported:e.teleported,"validate-event":!1,"append-to":e.appendSizeTo,onChange:c},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(Lt(s),(e=>(Ri(),Di(Lt(cP),{key:e,value:e,label:e+Lt(r)("el.pagination.pagesize")},null,8,["value","label"])))),128))])),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var pP=oR(hP,[["__file","sizes.vue"]]);const fP=rS({size:{type:String,values:_S}}),mP=Qn({...Qn({name:"ElPaginationJumper"}),props:fP,setup(e){const{t:t}=VS(),n=GS("pagination"),{pageCount:r,disabled:o,currentPage:i,changeEvent:a}=uP(),s=Dt(),c=ma((()=>{var e;return null!=(e=s.value)?e:null==i?void 0:i.value}));function l(e){s.value=e?+e:""}function u(e){e=Math.trunc(+e),null==a||a(e),s.value=void 0}return(e,i)=>(Ri(),ki("span",{class:q(Lt(n).e("jump")),disabled:Lt(o)},[Ui("span",{class:q([Lt(n).e("goto")])},ee(Lt(t)("el.pagination.goto")),3),ji(Lt(sI),{size:e.size,class:q([Lt(n).e("editor"),Lt(n).is("in-pagination")]),min:1,max:Lt(r),disabled:Lt(o),"model-value":Lt(c),"validate-event":!1,"aria-label":Lt(t)("el.pagination.page"),type:"number","onUpdate:modelValue":l,onChange:u},null,8,["size","class","max","disabled","model-value","aria-label"]),Ui("span",{class:q([Lt(n).e("classifier")])},ee(Lt(t)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var gP=oR(mP,[["__file","jumper.vue"]]);const vP=rS({total:{type:Number,default:1e3}}),yP=Qn({...Qn({name:"ElPaginationTotal"}),props:vP,setup(e){const{t:t}=VS(),n=GS("pagination"),{disabled:r}=uP();return(e,o)=>(Ri(),ki("span",{class:q(Lt(n).e("total")),disabled:Lt(r)},ee(Lt(t)("el.pagination.total",{total:e.total})),11,["disabled"]))}});var _P=oR(yP,[["__file","total.vue"]]);const EP=rS({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),bP=Qn({...Qn({name:"ElPaginationPager"}),props:EP,emits:["change"],setup(e,{emit:t}){const n=e,r=GS("pager"),o=GS("icon"),{t:i}=VS(),a=Dt(!1),s=Dt(!1),c=Dt(!1),l=Dt(!1),u=Dt(!1),d=Dt(!1),h=ma((()=>{const e=n.pagerCount,t=(e-1)/2,r=Number(n.currentPage),o=Number(n.pageCount);let i=!1,a=!1;o>e&&(r>e-t&&(i=!0),r<o-t&&(a=!0));const s=[];if(i&&!a){for(let t=o-(e-2);t<o;t++)s.push(t)}else if(!i&&a)for(let n=2;n<e;n++)s.push(n);else if(i&&a){const t=Math.floor(e/2)-1;for(let e=r-t;e<=r+t;e++)s.push(e)}else for(let n=2;n<o;n++)s.push(n);return s})),p=ma((()=>["more","btn-quickprev",o.b(),r.is("disabled",n.disabled)])),f=ma((()=>["more","btn-quicknext",o.b(),r.is("disabled",n.disabled)])),m=ma((()=>n.disabled?-1:0));function g(e=!1){n.disabled||(e?c.value=!0:l.value=!0)}function v(e=!1){e?u.value=!0:d.value=!0}function y(e){const r=e.target;if("li"===r.tagName.toLowerCase()&&Array.from(r.classList).includes("number")){const e=Number(r.textContent);e!==n.currentPage&&t("change",e)}else"li"===r.tagName.toLowerCase()&&Array.from(r.classList).includes("more")&&_(e)}function _(e){const r=e.target;if("ul"===r.tagName.toLowerCase()||n.disabled)return;let o=Number(r.textContent);const i=n.pageCount,a=n.currentPage,s=n.pagerCount-2;r.className.includes("more")&&(r.className.includes("quickprev")?o=a-s:r.className.includes("quicknext")&&(o=a+s)),Number.isNaN(+o)||(o<1&&(o=1),o>i&&(o=i)),o!==a&&t("change",o)}return $o((()=>{const e=(n.pagerCount-1)/2;a.value=!1,s.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-e&&(a.value=!0),n.currentPage<n.pageCount-e&&(s.value=!0))})),(e,t)=>(Ri(),ki("ul",{class:q(Lt(r).b()),onClick:_,onKeyup:Qs(y,["enter"])},[e.pageCount>0?(Ri(),ki("li",{key:0,class:q([[Lt(r).is("active",1===e.currentPage),Lt(r).is("disabled",e.disabled)],"number"]),"aria-current":1===e.currentPage,"aria-label":Lt(i)("el.pagination.currentPage",{pager:1}),tabindex:Lt(m)}," 1 ",10,["aria-current","aria-label","tabindex"])):Hi("v-if",!0),a.value?(Ri(),ki("li",{key:1,class:q(Lt(p)),tabindex:Lt(m),"aria-label":Lt(i)("el.pagination.prevPages",{pager:e.pagerCount-2}),onMouseenter:e=>g(!0),onMouseleave:e=>c.value=!1,onFocus:e=>v(!0),onBlur:e=>u.value=!1},[!c.value&&!u.value||e.disabled?(Ri(),Di(Lt(TE),{key:1})):(Ri(),Di(Lt(xg),{key:0}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Hi("v-if",!0),(Ri(!0),ki(Ei,null,Hr(Lt(h),(t=>(Ri(),ki("li",{key:t,class:q([[Lt(r).is("active",e.currentPage===t),Lt(r).is("disabled",e.disabled)],"number"]),"aria-current":e.currentPage===t,"aria-label":Lt(i)("el.pagination.currentPage",{pager:t}),tabindex:Lt(m)},ee(t),11,["aria-current","aria-label","tabindex"])))),128)),s.value?(Ri(),ki("li",{key:2,class:q(Lt(f)),tabindex:Lt(m),"aria-label":Lt(i)("el.pagination.nextPages",{pager:e.pagerCount-2}),onMouseenter:e=>g(),onMouseleave:e=>l.value=!1,onFocus:e=>v(),onBlur:e=>d.value=!1},[!l.value&&!d.value||e.disabled?(Ri(),Di(Lt(TE),{key:1})):(Ri(),Di(Lt(Mg),{key:0}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Hi("v-if",!0),e.pageCount>1?(Ri(),ki("li",{key:3,class:q([[Lt(r).is("active",e.currentPage===e.pageCount),Lt(r).is("disabled",e.disabled)],"number"]),"aria-current":e.currentPage===e.pageCount,"aria-label":Lt(i)("el.pagination.currentPage",{pager:e.pageCount}),tabindex:Lt(m)},ee(e.pageCount),11,["aria-current","aria-label","tabindex"])):Hi("v-if",!0)],42,["onKeyup"]))}});var TP=oR(bP,[["__file","pager.vue"]]);const SP=e=>"number"!=typeof e,wP=rS({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>Ip(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2==1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Array,default:()=>[10,20,30,40,50,100]},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:oS,default:()=>pf},nextText:{type:String,default:""},nextIcon:{type:oS,default:()=>vf},teleported:{type:Boolean,default:!0},small:Boolean,size:UC,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),CP={"update:current-page":e=>Ip(e),"update:page-size":e=>Ip(e),"size-change":e=>Ip(e),change:(e,t)=>Ip(e)&&Ip(t),"current-change":e=>Ip(e),"prev-click":e=>Ip(e),"next-click":e=>Ip(e)},RP="ElPagination";var IP=Qn({name:RP,props:wP,emits:CP,setup(e,{emit:t,slots:n}){const{t:r}=VS(),o=GS("pagination"),i=Qi().vnode.props||{},a=VC(),s=ma((()=>{var t;return e.small?"small":null!=(t=e.size)?t:a.value}));DS({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},ma((()=>!!e.small)));const c="onUpdate:currentPage"in i||"onUpdate:current-page"in i||"onCurrentChange"in i,l="onUpdate:pageSize"in i||"onUpdate:page-size"in i||"onSizeChange"in i,u=ma((()=>{if(SP(e.total)&&SP(e.pageCount))return!1;if(!SP(e.currentPage)&&!c)return!1;if(e.layout.includes("sizes"))if(SP(e.pageCount)){if(!SP(e.total)&&!SP(e.pageSize)&&!l)return!1}else if(!l)return!1;return!0})),d=Dt(SP(e.defaultPageSize)?10:e.defaultPageSize),h=Dt(SP(e.defaultCurrentPage)?1:e.defaultCurrentPage),p=ma({get:()=>SP(e.pageSize)?d.value:e.pageSize,set(n){SP(e.pageSize)&&(d.value=n),l&&(t("update:page-size",n),t("size-change",n))}}),f=ma((()=>{let t=0;return SP(e.pageCount)?SP(e.total)||(t=Math.max(1,Math.ceil(e.total/p.value))):t=e.pageCount,t})),m=ma({get:()=>SP(e.currentPage)?h.value:e.currentPage,set(n){let r=n;n<1?r=1:n>f.value&&(r=f.value),SP(e.currentPage)&&(h.value=r),c&&(t("update:current-page",r),t("current-change",r))}});function g(e){m.value=e}function v(){e.disabled||(m.value-=1,t("prev-click",m.value))}function y(){e.disabled||(m.value+=1,t("next-click",m.value))}function _(e,t){e&&(e.props||(e.props={}),e.props.class=[e.props.class,t].join(" "))}return Zo(f,(e=>{m.value>e&&(m.value=e)})),Zo([m,p],(e=>{t("change",...e)}),{flush:"post"}),bo(Hx,{pageCount:f,disabled:ma((()=>e.disabled)),currentPage:m,changeEvent:g,handleSizeChange:function(e){p.value=e;const t=f.value;m.value>t&&(m.value=t)}}),()=>{var t,i;if(!u.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout)return null;if(e.hideOnSinglePage&&f.value<=1)return null;const a=[],c=[],l=ga("div",{class:o.e("rightwrapper")},c),d={prev:ga(Kx,{disabled:e.disabled,currentPage:m.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:v}),jumper:ga(gP,{size:s.value}),pager:ga(TP,{currentPage:m.value,pageCount:f.value,pagerCount:e.pagerCount,onChange:g,disabled:e.disabled}),next:ga($x,{disabled:e.disabled,currentPage:m.value,pageCount:f.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:y}),sizes:ga(pP,{pageSize:p.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:s.value,appendSizeTo:e.appendSizeTo}),slot:null!=(i=null==(t=null==n?void 0:n.default)?void 0:t.call(n))?i:null,total:ga(_P,{total:SP(e.total)?0:e.total})},h=e.layout.split(",").map((e=>e.trim()));let E=!1;return h.forEach((e=>{"->"!==e?E?c.push(d[e]):a.push(d[e]):E=!0})),_(a[0],o.is("first")),_(a[a.length-1],o.is("last")),E&&c.length>0&&(_(c[0],o.is("first")),_(c[c.length-1],o.is("last")),a.push(l)),ga("div",{class:[o.b(),o.is("background",e.background),o.m(s.value)]},a)}}});const AP=lS(IP),OP=rS({trigger:uA.trigger,placement:ax.placement,disabled:uA.disabled,visible:lA.visible,transition:lA.transition,popperOptions:ax.popperOptions,tabindex:ax.tabindex,content:lA.content,popperStyle:lA.popperStyle,popperClass:lA.popperClass,enterable:{...lA.enterable,default:!0},effect:{...lA.effect,default:"light"},teleported:lA.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),NP={"update:visible":e=>Rp(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0};var kP=oR(Qn({...Qn({name:"ElPopover"}),props:OP,emits:NP,setup(e,{expose:t,emit:n}){const r=e,o=ma((()=>r["onUpdate:visible"])),i=GS("popover"),a=Dt(),s=ma((()=>{var e;return null==(e=Lt(a))?void 0:e.popperRef})),c=ma((()=>[{width:qp(r.width)},r.popperStyle])),l=ma((()=>[i.b(),r.popperClass,{[i.m("plain")]:!!r.content}])),u=ma((()=>r.transition===`${i.namespace.value}-fade-in-linear`)),d=()=>{n("before-enter")},h=()=>{n("before-leave")},p=()=>{n("after-enter")},f=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:s,hide:()=>{var e;null==(e=a.value)||e.hide()}}),(e,t)=>(Ri(),Di(Lt(bA),Ki({ref_key:"tooltipRef",ref:a},e.$attrs,{trigger:e.trigger,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":Lt(l),"popper-style":Lt(c),teleported:e.teleported,persistent:e.persistent,"gpu-acceleration":Lt(u),"onUpdate:visible":Lt(o),onBeforeShow:d,onBeforeHide:h,onShow:p,onHide:f}),{content:wn((()=>[e.title?(Ri(),ki("div",{key:0,class:q(Lt(i).e("title")),role:"title"},ee(e.title),3)):Hi("v-if",!0),Wr(e.$slots,"default",{},(()=>[zi(ee(e.content),1)]))])),default:wn((()=>[e.$slots.reference?Wr(e.$slots,"reference",{key:0}):Hi("v-if",!0)])),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}}),[["__file","popover.vue"]]);const DP=(e,t)=>{const n=t.arg||t.value,r=null==n?void 0:n.popperRef;r&&(r.triggerRef=e)};const xP=(MP="popover",(PP={mounted(e,t){DP(e,t)},updated(e,t){DP(e,t)}}).install=e=>{e.directive(MP,PP)},PP);var PP,MP;const LP=lS(kP,{directive:xP}),UP=rS({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:[Array,Object],default:()=>["","",""]},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:[Array,Object],default:()=>[iT,iT,iT]},voidIcon:{type:oS,default:()=>aT},disabledVoidIcon:{type:oS,default:()=>iT},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Array,default:()=>["Extremely bad","Disappointed","Fair","Satisfied","Surprise"]},scoreTemplate:{type:String,default:"{value}"},size:UC,clearable:Boolean,...YC(["ariaLabel"])}),jP={[vS]:e=>Ip(e),[gS]:e=>Ip(e)},VP=Qn({...Qn({name:"ElRate"}),props:UP,emits:jP,setup(e,{expose:t,emit:n}){const r=e;function o(e,t){const n=e=>y(e),r=Object.keys(t).map((e=>+e)).filter((r=>{const o=t[r];return!!n(o)&&o.excluded?e<r:e<=r})).sort(((e,t)=>e-t)),o=t[r[0]];return n(o)&&o.value||o}const i=To(sR,void 0),a=To(cR,void 0),s=lR(),c=GS("rate"),{inputId:l,isLabeledByFormItem:u}=hR(r,{formItemContext:a}),h=Dt(r.modelValue),p=Dt(-1),f=Dt(!0),m=ma((()=>[c.b(),c.m(s.value)])),v=ma((()=>r.disabled||(null==i?void 0:i.disabled))),_=ma((()=>c.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":S.value}))),E=ma((()=>{let e="";return r.showScore?e=r.scoreTemplate.replace(/\{\s*value\s*\}/,v.value?`${r.modelValue}`:`${h.value}`):r.showText&&(e=r.texts[Math.ceil(h.value)-1]),e})),b=ma((()=>100*r.modelValue-100*Math.floor(r.modelValue))),T=ma((()=>d(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors)),S=ma((()=>{const e=o(h.value,T.value);return y(e)?"":e})),w=ma((()=>{let e="";return v.value?e=`${b.value}%`:r.allowHalf&&(e="50%"),{color:S.value,width:e}})),C=ma((()=>{let e=d(r.icons)?[...r.icons]:{...r.icons};return e=At(e),d(e)?{[r.lowThreshold]:e[0],[r.highThreshold]:{value:e[1],excluded:!0},[r.max]:e[2]}:e})),R=ma((()=>o(r.modelValue,C.value))),I=ma((()=>v.value?g(r.disabledVoidIcon)?r.disabledVoidIcon:At(r.disabledVoidIcon):g(r.voidIcon)?r.voidIcon:At(r.voidIcon))),A=ma((()=>o(h.value,C.value)));function O(e){const t=v.value&&b.value>0&&e-1<r.modelValue&&e>r.modelValue,n=r.allowHalf&&f.value&&e-.5<=h.value&&e>h.value;return t||n}function N(e){r.clearable&&e===r.modelValue&&(e=0),n(gS,e),r.modelValue!==e&&n("change",e)}function k(e){if(v.value)return;let t=h.value;const o=e.code;return o===pS.up||o===pS.right?(r.allowHalf?t+=.5:t+=1,e.stopPropagation(),e.preventDefault()):o!==pS.left&&o!==pS.down||(r.allowHalf?t-=.5:t-=1,e.stopPropagation(),e.preventDefault()),t=t<0?0:t,t=t>r.max?r.max:t,n(gS,t),n("change",t),t}function D(e,t){if(!v.value){if(r.allowHalf&&t){let n=t.target;Fp(n,c.e("item"))&&(n=n.querySelector(`.${c.e("icon")}`)),(0===n.clientWidth||Fp(n,c.e("decimal")))&&(n=n.parentNode),f.value=2*t.offsetX<=n.clientWidth,h.value=f.value?e-.5:e}else h.value=e;p.value=e}}function x(){v.value||(r.allowHalf&&(f.value=r.modelValue!==Math.floor(r.modelValue)),h.value=r.modelValue,p.value=-1)}return Zo((()=>r.modelValue),(e=>{h.value=e,f.value=r.modelValue!==Math.floor(r.modelValue)})),r.modelValue||n(gS,0),t({setCurrentValue:D,resetCurrentValue:x}),(e,t)=>{var n;return Ri(),ki("div",{id:Lt(l),class:q([Lt(m),Lt(c).is("disabled",Lt(v))]),role:"slider","aria-label":Lt(u)?void 0:e.ariaLabel||"rating","aria-labelledby":Lt(u)?null==(n=Lt(a))?void 0:n.labelId:void 0,"aria-valuenow":h.value,"aria-valuetext":Lt(E)||void 0,"aria-valuemin":"0","aria-valuemax":e.max,tabindex:"0",style:z(Lt(_)),onKeydown:k},[(Ri(!0),ki(Ei,null,Hr(e.max,((e,t)=>(Ri(),ki("span",{key:t,class:q(Lt(c).e("item")),onMousemove:t=>D(e,t),onMouseleave:x,onClick:t=>{return n=e,void(v.value||(r.allowHalf&&f.value?N(h.value):N(n)));var n}},[ji(Lt(aR),{class:q([Lt(c).e("icon"),{hover:p.value===e},Lt(c).is("active",e<=h.value)])},{default:wn((()=>[O(e)?Hi("v-if",!0):(Ri(),ki(Ei,{key:0},[Cn((Ri(),Di(Vr(Lt(A)),null,null,512)),[[Za,e<=h.value]]),Cn((Ri(),Di(Vr(Lt(I)),null,null,512)),[[Za,!(e<=h.value)]])],64)),O(e)?(Ri(),ki(Ei,{key:1},[(Ri(),Di(Vr(Lt(I)),{class:q([Lt(c).em("decimal","box")])},null,8,["class"])),ji(Lt(aR),{style:z(Lt(w)),class:q([Lt(c).e("icon"),Lt(c).e("decimal")])},{default:wn((()=>[(Ri(),Di(Vr(Lt(R))))])),_:1},8,["style","class"])],64)):Hi("v-if",!0)])),_:2},1032,["class"])],42,["onMousemove","onClick"])))),128)),e.showText||e.showScore?(Ri(),ki("span",{key:0,class:q(Lt(c).e("text")),style:z({color:e.textColor})},ee(Lt(E)),7)):Hi("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});const BP=lS(oR(VP,[["__file","rate.vue"]])),zP=Symbol("sliderContextKey"),FP=rS({modelValue:{type:[Number,Array],default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:UC,inputSize:UC,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Function,default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Function,default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:sw,default:"top"},marks:{type:Object},validateEvent:{type:Boolean,default:!0},...YC(["ariaLabel"])}),HP=e=>Ip(e)||d(e)&&e.every(Ip),GP={[gS]:HP,[yS]:HP,[vS]:HP},WP=(e,t,n)=>{const{form:r,formItem:o}=dR(),i=xt(),a=Dt(),s=Dt(),c={firstButton:a,secondButton:s},l=ma((()=>e.disabled||(null==r?void 0:r.disabled)||!1)),u=ma((()=>Math.min(t.firstValue,t.secondValue))),d=ma((()=>Math.max(t.firstValue,t.secondValue))),h=ma((()=>e.range?100*(d.value-u.value)/(e.max-e.min)+"%":100*(t.firstValue-e.min)/(e.max-e.min)+"%")),p=ma((()=>e.range?100*(u.value-e.min)/(e.max-e.min)+"%":"0%")),f=ma((()=>e.vertical?{height:e.height}:{})),m=ma((()=>e.vertical?{height:h.value,bottom:p.value}:{width:h.value,left:p.value})),g=()=>{i.value&&(t.sliderSize=i.value["client"+(e.vertical?"Height":"Width")])},v=n=>{const r=(n=>{const r=e.min+n*(e.max-e.min)/100;if(!e.range)return a;let o;return o=Math.abs(u.value-r)<Math.abs(d.value-r)?t.firstValue<t.secondValue?"firstButton":"secondButton":t.firstValue>t.secondValue?"firstButton":"secondButton",c[o]})(n);return r.value.setPosition(n),r},y=e=>{n(gS,e),n(yS,e)},_=async()=>{await dn(),n(vS,e.range?[u.value,d.value]:e.modelValue)},E=n=>{var r,o,a,s,c,u;if(l.value||t.dragging)return;g();let d=0;if(e.vertical){const e=null!=(a=null==(o=null==(r=n.touches)?void 0:r.item(0))?void 0:o.clientY)?a:n.clientY;d=(i.value.getBoundingClientRect().bottom-e)/t.sliderSize*100}else{d=((null!=(u=null==(c=null==(s=n.touches)?void 0:s.item(0))?void 0:c.clientX)?u:n.clientX)-i.value.getBoundingClientRect().left)/t.sliderSize*100}return d<0||d>100?void 0:v(d)};return{elFormItem:o,slider:i,firstButton:a,secondButton:s,sliderDisabled:l,minValue:u,maxValue:d,runwayStyle:f,barStyle:m,resetSize:g,setPosition:v,emitChange:_,onSliderWrapperPrevent:e=>{var t,n;((null==(t=c.firstButton.value)?void 0:t.dragging)||(null==(n=c.secondButton.value)?void 0:n.dragging))&&e.preventDefault()},onSliderClick:e=>{E(e)&&_()},onSliderDown:async e=>{const t=E(e);t&&(await dn(),t.value.onButtonDown(e))},onSliderMarkerDown:e=>{l.value||t.dragging||v(e)},setFirstValue:n=>{t.firstValue=null!=n?n:e.min,y(e.range?[u.value,d.value]:null!=n?n:e.min)},setSecondValue:n=>{t.secondValue=n,e.range&&y([u.value,d.value])}}},qP=(e,t,n)=>{const{disabled:r,min:o,max:i,step:a,showTooltip:s,precision:c,sliderSize:l,formatTooltip:u,emitChange:d,resetSize:h,updateDragging:p}=To(zP),{tooltip:f,tooltipVisible:m,formatValue:g,displayTooltip:v,hideTooltip:y}=((e,t,n)=>{const r=Dt(),o=Dt(!1),i=ma((()=>t.value instanceof Function)),a=ma((()=>i.value&&t.value(e.modelValue)||e.modelValue)),s=op((()=>{n.value&&(o.value=!0)}),50),c=op((()=>{n.value&&(o.value=!1)}),50);return{tooltip:r,tooltipVisible:o,formatValue:a,displayTooltip:s,hideTooltip:c}})(e,u,s),_=Dt(),E=ma((()=>(e.modelValue-o.value)/(i.value-o.value)*100+"%")),b=ma((()=>e.vertical?{bottom:E.value}:{left:E.value})),T=e=>{r.value||(e.preventDefault(),C(e),window.addEventListener("mousemove",R),window.addEventListener("touchmove",R),window.addEventListener("mouseup",I),window.addEventListener("touchend",I),window.addEventListener("contextmenu",I),_.value.focus())},S=e=>{r.value||(t.newPosition=Number.parseFloat(E.value)+e/(i.value-o.value)*100,A(t.newPosition),d())},w=e=>{let t,n;return e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},C=n=>{t.dragging=!0,t.isClick=!0;const{clientX:r,clientY:o}=w(n);e.vertical?t.startY=o:t.startX=r,t.startPosition=Number.parseFloat(E.value),t.newPosition=t.startPosition},R=n=>{if(t.dragging){let r;t.isClick=!1,v(),h();const{clientX:o,clientY:i}=w(n);e.vertical?(t.currentY=i,r=(t.startY-t.currentY)/l.value*100):(t.currentX=o,r=(t.currentX-t.startX)/l.value*100),t.newPosition=t.startPosition+r,A(t.newPosition)}},I=()=>{t.dragging&&(setTimeout((()=>{t.dragging=!1,t.hovering||y(),t.isClick||A(t.newPosition),d()}),0),window.removeEventListener("mousemove",R),window.removeEventListener("touchmove",R),window.removeEventListener("mouseup",I),window.removeEventListener("touchend",I),window.removeEventListener("contextmenu",I))},A=async r=>{if(null===r||Number.isNaN(+r))return;r<0?r=0:r>100&&(r=100);const s=100/((i.value-o.value)/a.value);let l=Math.round(r/s)*s*(i.value-o.value)*.01+o.value;l=Number.parseFloat(l.toFixed(c.value)),l!==e.modelValue&&n(gS,l),t.dragging||e.modelValue===t.oldValue||(t.oldValue=e.modelValue),await dn(),t.dragging&&v(),f.value.updatePopper()};return Zo((()=>t.dragging),(e=>{p(e)})),Hc(_,"touchstart",T,{passive:!1}),{disabled:r,button:_,tooltip:f,tooltipVisible:m,showTooltip:s,wrapperStyle:b,formatValue:g,handleMouseEnter:()=>{t.hovering=!0,v()},handleMouseLeave:()=>{t.hovering=!1,t.dragging||y()},onButtonDown:T,onKeyDown:e=>{let t=!0;switch(e.code){case pS.left:case pS.down:S(-a.value);break;case pS.right:case pS.up:S(a.value);break;case pS.home:r.value||(A(0),d());break;case pS.end:r.value||(A(100),d());break;case pS.pageDown:S(4*-a.value);break;case pS.pageUp:S(4*a.value);break;default:t=!1}t&&e.preventDefault()},setPosition:A}},KP=rS({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:sw,default:"top"}}),YP={[gS]:e=>Ip(e)};var XP=oR(Qn({...Qn({name:"ElSliderButton"}),props:KP,emits:YP,setup(e,{expose:t,emit:n}){const r=e,o=GS("slider"),i=yt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:a,button:s,tooltip:c,showTooltip:l,tooltipVisible:u,wrapperStyle:d,formatValue:h,handleMouseEnter:p,handleMouseLeave:f,onButtonDown:m,onKeyDown:g,setPosition:v}=qP(r,i,n),{hovering:y,dragging:_}=zt(i);return t({onButtonDown:m,onKeyDown:g,setPosition:v,hovering:y,dragging:_}),(e,t)=>(Ri(),ki("div",{ref_key:"button",ref:s,class:q([Lt(o).e("button-wrapper"),{hover:Lt(y),dragging:Lt(_)}]),style:z(Lt(d)),tabindex:Lt(a)?-1:0,onMouseenter:Lt(p),onMouseleave:Lt(f),onMousedown:Lt(m),onFocus:Lt(p),onBlur:Lt(f),onKeydown:Lt(g)},[ji(Lt(bA),{ref_key:"tooltip",ref:c,visible:Lt(u),placement:e.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!Lt(l),persistent:Lt(l)},{content:wn((()=>[Ui("span",null,ee(Lt(h)),1)])),default:wn((()=>[Ui("div",{class:q([Lt(o).e("button"),{hover:Lt(y),dragging:Lt(_)}])},null,2)])),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}}),[["__file","button.vue"]]);var $P=Qn({name:"ElSliderMarker",props:rS({mark:{type:[String,Object],default:void 0}}),setup(e){const t=GS("slider"),n=ma((()=>g(e.mark)?e.mark:e.mark.label)),r=ma((()=>g(e.mark)?void 0:e.mark.style));return()=>ga("div",{class:t.e("marks-text"),style:r.value},n.value)}});const JP=Qn({...Qn({name:"ElSlider"}),props:FP,emits:GP,setup(e,{expose:t,emit:n}){const r=e,o=GS("slider"),{t:i}=VS(),a=yt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:c,firstButton:l,secondButton:u,sliderDisabled:h,minValue:p,maxValue:f,runwayStyle:m,barStyle:g,resetSize:v,emitChange:y,onSliderWrapperPrevent:_,onSliderClick:E,onSliderDown:b,onSliderMarkerDown:T,setFirstValue:S,setSecondValue:w}=WP(r,a,n),{stops:C,getStopStyle:R}=((e,t,n,r)=>({stops:ma((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const o=(e.max-e.min)/e.step,i=100*e.step/(e.max-e.min),a=Array.from({length:o-1}).map(((e,t)=>(t+1)*i));return e.range?a.filter((t=>t<100*(n.value-e.min)/(e.max-e.min)||t>100*(r.value-e.min)/(e.max-e.min))):a.filter((n=>n>100*(t.firstValue-e.min)/(e.max-e.min)))})),getStopStyle:t=>e.vertical?{bottom:`${t}%`}:{left:`${t}%`}}))(r,a,p,f),{inputId:I,isLabeledByFormItem:A}=hR(r,{formItemContext:s}),O=lR(),N=ma((()=>r.inputSize||O.value)),k=ma((()=>r.ariaLabel||i("el.slider.defaultLabel",{min:r.min,max:r.max}))),D=ma((()=>r.range?r.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):k.value)),x=ma((()=>r.formatValueText?r.formatValueText(B.value):`${B.value}`)),P=ma((()=>r.rangeEndLabel||i("el.slider.defaultRangeEndLabel"))),M=ma((()=>r.formatValueText?r.formatValueText(F.value):`${F.value}`)),L=ma((()=>[o.b(),o.m(O.value),o.is("vertical",r.vertical),{[o.m("with-input")]:r.showInput}])),U=(e=>ma((()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort(((e,t)=>e-t)).filter((t=>t<=e.max&&t>=e.min)).map((t=>({point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]}))):[])))(r);((e,t,n,r,o,i)=>{const a=e=>{o(gS,e),o(yS,e)},s=()=>e.range?![n.value,r.value].every(((e,n)=>e===t.oldValue[n])):e.modelValue!==t.oldValue,c=()=>{var n,r;e.min>e.max&&Vp("Slider","min should not be greater than max.");const o=e.modelValue;e.range&&d(o)?o[1]<e.min?a([e.min,e.min]):o[0]>e.max?a([e.max,e.max]):o[0]<e.min?a([e.min,o[1]]):o[1]>e.max?a([o[0],e.max]):(t.firstValue=o[0],t.secondValue=o[1],s()&&(e.validateEvent&&(null==(n=null==i?void 0:i.validate)||n.call(i,"change").catch((e=>{}))),t.oldValue=o.slice())):e.range||!Ip(o)||Number.isNaN(o)||(o<e.min?a(e.min):o>e.max?a(e.max):(t.firstValue=o,s()&&(e.validateEvent&&(null==(r=null==i?void 0:i.validate)||r.call(i,"change").catch((e=>{}))),t.oldValue=o)))};c(),Zo((()=>t.dragging),(e=>{e||c()})),Zo((()=>e.modelValue),((e,n)=>{t.dragging||d(e)&&d(n)&&e.every(((e,t)=>e===n[t]))&&t.firstValue===e[0]&&t.secondValue===e[1]||c()}),{deep:!0}),Zo((()=>[e.min,e.max]),(()=>{c()}))})(r,a,p,f,n,s);const j=ma((()=>{const e=[r.min,r.max,r.step].map((e=>{const t=`${e}`.split(".")[1];return t?t.length:0}));return Math.max.apply(null,e)})),{sliderWrapper:V}=((e,t,n)=>{const r=Dt();return Ir((async()=>{e.range?(d(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!Ip(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Hc(window,"resize",n),await dn(),n()})),{sliderWrapper:r}})(r,a,v),{firstValue:B,secondValue:F,sliderSize:H}=zt(a);return Hc(V,"touchstart",_,{passive:!1}),Hc(V,"touchmove",_,{passive:!1}),bo(zP,{...zt(r),sliderSize:H,disabled:h,precision:j,emitChange:y,resetSize:v,updateDragging:e=>{a.dragging=e}}),t({onSliderClick:E}),(e,t)=>{var n,r;return Ri(),ki("div",{id:e.range?Lt(I):void 0,ref_key:"sliderWrapper",ref:V,class:q(Lt(L)),role:e.range?"group":void 0,"aria-label":e.range&&!Lt(A)?Lt(k):void 0,"aria-labelledby":e.range&&Lt(A)?null==(n=Lt(s))?void 0:n.labelId:void 0},[Ui("div",{ref_key:"slider",ref:c,class:q([Lt(o).e("runway"),{"show-input":e.showInput&&!e.range},Lt(o).is("disabled",Lt(h))]),style:z(Lt(m)),onMousedown:Lt(b),onTouchstartPassive:Lt(b)},[Ui("div",{class:q(Lt(o).e("bar")),style:z(Lt(g))},null,6),ji(XP,{id:e.range?void 0:Lt(I),ref_key:"firstButton",ref:l,"model-value":Lt(B),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":e.range||!Lt(A)?Lt(D):void 0,"aria-labelledby":!e.range&&Lt(A)?null==(r=Lt(s))?void 0:r.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?Lt(F):e.max,"aria-valuenow":Lt(B),"aria-valuetext":Lt(x),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":Lt(h),"onUpdate:modelValue":Lt(S)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),e.range?(Ri(),Di(XP,{key:0,ref_key:"secondButton",ref:u,"model-value":Lt(F),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":Lt(P),"aria-valuemin":Lt(B),"aria-valuemax":e.max,"aria-valuenow":Lt(F),"aria-valuetext":Lt(M),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":Lt(h),"onUpdate:modelValue":Lt(w)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Hi("v-if",!0),e.showStops?(Ri(),ki("div",{key:1},[(Ri(!0),ki(Ei,null,Hr(Lt(C),((e,t)=>(Ri(),ki("div",{key:t,class:q(Lt(o).e("stop")),style:z(Lt(R)(e))},null,6)))),128))])):Hi("v-if",!0),Lt(U).length>0?(Ri(),ki(Ei,{key:2},[Ui("div",null,[(Ri(!0),ki(Ei,null,Hr(Lt(U),((e,t)=>(Ri(),ki("div",{key:t,style:z(Lt(R)(e.position)),class:q([Lt(o).e("stop"),Lt(o).e("marks-stop")])},null,6)))),128))]),Ui("div",{class:q(Lt(o).e("marks"))},[(Ri(!0),ki(Ei,null,Hr(Lt(U),((e,t)=>(Ri(),Di(Lt($P),{key:t,mark:e.mark,style:z(Lt(R)(e.position)),onMousedown:Js((t=>Lt(T)(e.position)),["stop"])},null,8,["mark","style","onMousedown"])))),128))],2)],64)):Hi("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),e.showInput&&!e.range?(Ri(),Di(Lt(Fx),{key:0,ref:"input","model-value":Lt(B),class:q(Lt(o).e("input")),step:e.step,disabled:Lt(h),controls:e.showInputControls,min:e.min,max:e.max,precision:Lt(j),debounce:e.debounce,size:Lt(N),"onUpdate:modelValue":Lt(S),onChange:Lt(y)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Hi("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});const ZP=lS(oR(JP,[["__file","slider.vue"]])),QP=rS({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:ES},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:oS},activeActionIcon:{type:oS},activeIcon:{type:oS},inactiveIcon:{type:oS},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Function},id:String,tabindex:{type:[String,Number]},...YC(["ariaLabel"])}),eM={[gS]:e=>Rp(e)||g(e)||Ip(e),[vS]:e=>Rp(e)||g(e)||Ip(e),[yS]:e=>Rp(e)||g(e)||Ip(e)},tM="ElSwitch";const nM=lS(oR(Qn({...Qn({name:tM}),props:QP,emits:eM,setup(e,{expose:t,emit:n}){const r=e,{formItem:o}=dR(),i=lR(),a=GS("switch"),{inputId:s}=hR(r,{formItemContext:o}),c=uR(ma((()=>r.loading))),l=Dt(!1!==r.modelValue),u=Dt(),d=Dt(),h=ma((()=>[a.b(),a.m(i.value),a.is("disabled",c.value),a.is("checked",v.value)])),p=ma((()=>[a.e("label"),a.em("label","left"),a.is("active",!v.value)])),f=ma((()=>[a.e("label"),a.em("label","right"),a.is("active",v.value)])),m=ma((()=>({width:qp(r.width)})));Zo((()=>r.modelValue),(()=>{l.value=!0}));const g=ma((()=>!!l.value&&r.modelValue)),v=ma((()=>g.value===r.activeValue));[r.activeValue,r.inactiveValue].includes(g.value)||(n(gS,r.inactiveValue),n(vS,r.inactiveValue),n(yS,r.inactiveValue)),Zo(v,(e=>{var t;u.value.checked=e,r.validateEvent&&(null==(t=null==o?void 0:o.validate)||t.call(o,"change").catch((e=>{})))}));const y=()=>{const e=v.value?r.inactiveValue:r.activeValue;n(gS,e),n(vS,e),n(yS,e),dn((()=>{u.value.checked=v.value}))},_=()=>{if(c.value)return;const{beforeChange:e}=r;if(!e)return void y();const t=e();[E(t),Rp(t)].includes(!0)||Vp(tM,"beforeChange must return type `Promise<boolean>` or `boolean`"),E(t)?t.then((e=>{e&&y()})).catch((e=>{})):t&&y()};return Ir((()=>{u.value.checked=v.value})),t({focus:()=>{var e,t;null==(t=null==(e=u.value)?void 0:e.focus)||t.call(e)},checked:v}),(e,t)=>(Ri(),ki("div",{class:q(Lt(h)),onClick:Js(_,["prevent"])},[Ui("input",{id:Lt(s),ref_key:"input",ref:u,class:q(Lt(a).e("input")),type:"checkbox",role:"switch","aria-checked":Lt(v),"aria-disabled":Lt(c),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:Lt(c),tabindex:e.tabindex,onChange:y,onKeydown:Qs(_,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?Hi("v-if",!0):(Ri(),ki("span",{key:0,class:q(Lt(p))},[e.inactiveIcon?(Ri(),Di(Lt(aR),{key:0},{default:wn((()=>[(Ri(),Di(Vr(e.inactiveIcon)))])),_:1})):Hi("v-if",!0),!e.inactiveIcon&&e.inactiveText?(Ri(),ki("span",{key:1,"aria-hidden":Lt(v)},ee(e.inactiveText),9,["aria-hidden"])):Hi("v-if",!0)],2)),Ui("span",{ref_key:"core",ref:d,class:q(Lt(a).e("core")),style:z(Lt(m))},[e.inlinePrompt?(Ri(),ki("div",{key:0,class:q(Lt(a).e("inner"))},[e.activeIcon||e.inactiveIcon?(Ri(),Di(Lt(aR),{key:0,class:q(Lt(a).is("icon"))},{default:wn((()=>[(Ri(),Di(Vr(Lt(v)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(Ri(),ki("span",{key:1,class:q(Lt(a).is("text")),"aria-hidden":!Lt(v)},ee(Lt(v)?e.activeText:e.inactiveText),11,["aria-hidden"])):Hi("v-if",!0)],2)):Hi("v-if",!0),Ui("div",{class:q(Lt(a).e("action"))},[e.loading?(Ri(),Di(Lt(aR),{key:0,class:q(Lt(a).is("loading"))},{default:wn((()=>[ji(Lt(A_))])),_:1},8,["class"])):Lt(v)?Wr(e.$slots,"active-action",{key:1},(()=>[e.activeActionIcon?(Ri(),Di(Lt(aR),{key:0},{default:wn((()=>[(Ri(),Di(Vr(e.activeActionIcon)))])),_:1})):Hi("v-if",!0)])):Lt(v)?Hi("v-if",!0):Wr(e.$slots,"inactive-action",{key:2},(()=>[e.inactiveActionIcon?(Ri(),Di(Lt(aR),{key:0},{default:wn((()=>[(Ri(),Di(Vr(e.inactiveActionIcon)))])),_:1})):Hi("v-if",!0)]))],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?Hi("v-if",!0):(Ri(),ki("span",{key:1,class:q(Lt(f))},[e.activeIcon?(Ri(),Di(Lt(aR),{key:0},{default:wn((()=>[(Ri(),Di(Vr(e.activeIcon)))])),_:1})):Hi("v-if",!0),!e.activeIcon&&e.activeText?(Ri(),ki("span",{key:1,"aria-hidden":!Lt(v)},ee(e.activeText),9,["aria-hidden"])):Hi("v-if",!0)],2))],10,["onClick"]))}}),[["__file","switch.vue"]])),rM=function(e){var t;return null==(t=e.target)?void 0:t.closest("td")},oM=function(e,t,n,r,o){if(!t&&!r&&(!o||d(o)&&!o.length))return e;n=g(n)?"descending"===n?-1:1:n&&n<0?-1:1;const i=r?null:function(n,r){return o?(d(o)||(o=[o]),o.map((t=>g(t)?Sd(n,t):t(n,r,e)))):("$key"!==t&&y(n)&&"$value"in n&&(n=n.$value),[y(n)?Sd(n,t):n])};return e.map(((e,t)=>({value:e,index:t,key:i?i(e,t):null}))).sort(((e,t)=>{let o=function(e,t){if(r)return r(e.value,t.value);for(let n=0,r=e.key.length;n<r;n++){if(e.key[n]<t.key[n])return-1;if(e.key[n]>t.key[n])return 1}return 0}(e,t);return o||(o=e.index-t.index),o*+n})).map((e=>e.value))},iM=function(e,t){let n=null;return e.columns.forEach((e=>{e.id===t&&(n=e)})),n},aM=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?iM(e,r[0]):null},sM=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(g(t)){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const e of n)r=r[e];return`${r}`}if(m(t))return t.call(null,e)},cM=function(e,t){const n={};return(e||[]).forEach(((e,r)=>{n[sM(e,t)]={row:e,index:r}})),n};function lM(e){return""===e||void 0!==e&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function uM(e){return""===e||void 0!==e&&(e=lM(e),Number.isNaN(e)&&(e=80)),e}function dM(e,t,n,r,o,i){let a=null!=i?i:0,s=!1;const c=e.indexOf(t),l=-1!==c,u=null==o?void 0:o.call(null,t,i),h=n=>{"add"===n?e.push(t):e.splice(c,1),s=!0},p=e=>{let t=0;const n=(null==r?void 0:r.children)&&e[r.children];return n&&d(n)&&(t+=n.length,n.forEach((e=>{t+=p(e)}))),t};return o&&!u||(Rp(n)?n&&!l?h("add"):!n&&l&&h("remove"):h(l?"remove":"add")),!(null==r?void 0:r.checkStrictly)&&(null==r?void 0:r.children)&&d(t[r.children])&&t[r.children].forEach((t=>{dM(e,t,null!=n?n:!l,r,o,a+1),a+=p(t)+1})),s}function hM(e,t,n="children",r="hasChildren"){const o=e=>!(d(e)&&e.length);function i(e,a,s){t(e,a,s),a.forEach((e=>{if(e[r])return void t(e,null,s+1);const a=e[n];o(a)||i(e,a,s+1)}))}e.forEach((e=>{if(e[r])return void t(e,null,0);const a=e[n];o(a)||i(e,a,0)}))}const pM=(e,t)=>({content:t,...e,popperOptions:{strategy:"fixed",...e.popperOptions}});let fM=null;function mM(e){return e.children?dp(e.children,mM):[e]}function gM(e,t){return e+t.colSpan}const vM=(e,t,n,r)=>{let o=0,i=e;const a=n.states.columns.value;if(r){const t=mM(r[e]);o=a.slice(0,a.indexOf(t[0])).reduce(gM,0),i=o+t.reduce(gM,0)-1}else o=e;let s;switch(t){case"left":i<n.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":o>=a.length-n.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:i<n.states.fixedLeafColumnsLength.value?s="left":o>=a.length-n.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:o,after:i}:{}},yM=(e,t,n,r,o,i=0)=>{const a=[],{direction:s,start:c,after:l}=vM(t,n,r,o);if(s){const t="left"===s;a.push(`${e}-fixed-column--${s}`),t&&l+i===r.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):t||c-i!=r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value||a.push("is-first-column")}return a};function _M(e,t){return e+(null===t.realWidth||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const EM=(e,t,n,r)=>{const{direction:o,start:i=0,after:a=0}=vM(e,t,n,r);if(!o)return;const s={},c="left"===o,l=n.states.columns.value;return c?s.left=l.slice(0,i).reduce(_M,0):s.right=l.slice(a+1).reverse().reduce(_M,0),s},bM=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};const TM=e=>{const t=[];return e.forEach((e=>{e.children&&e.children.length>0?t.push.apply(t,TM(e.children)):t.push(e)})),t};function SM(){var e;const t=Qi(),{size:n}=zt(null==(e=t.proxy)?void 0:e.$props),r=Dt(null),o=Dt([]),i=Dt([]),a=Dt(!1),s=Dt([]),c=Dt([]),l=Dt([]),h=Dt([]),p=Dt([]),f=Dt([]),m=Dt([]),v=Dt([]),y=Dt(0),_=Dt(0),E=Dt(0),b=Dt(!1),T=Dt([]),S=Dt(!1),w=Dt(!1),C=Dt(null),R=Dt({}),I=Dt(null),A=Dt(null),O=Dt(null),N=Dt(null),k=Dt(null);Zo(o,(()=>{var e;if(t.state){M(!1);"auto"===t.props.tableLayout&&(null==(e=t.refs.tableHeaderRef)||e.updateFixedColumnStyle())}}),{deep:!0});const D=e=>{var t;null==(t=e.children)||t.forEach((t=>{t.fixed=e.fixed,D(t)}))};let x;const P=()=>{if(s.value.forEach((e=>{D(e)})),h.value=s.value.filter((e=>!0===e.fixed||"left"===e.fixed)),p.value=s.value.filter((e=>"right"===e.fixed)),Cp(x)&&s.value[0]&&"selection"===s.value[0].type&&(x=Boolean(s.value[0].fixed)),h.value.length>0&&s.value[0]&&"selection"===s.value[0].type)if(s.value[0].fixed){h.value.some((e=>"selection"!==e.type))?x=void 0:(s.value[0].fixed=x,x||h.value.shift())}else s.value[0].fixed=!0,h.value.unshift(s.value[0]);const e=s.value.filter((e=>!e.fixed));c.value=[].concat(h.value).concat(e).concat(p.value);const t=TM(e),n=TM(h.value),r=TM(p.value);y.value=t.length,_.value=n.length,E.value=r.length,l.value=[].concat(n).concat(t).concat(r),a.value=h.value.length>0||p.value.length>0},M=(e,n=!1)=>{e&&P(),n?t.state.doLayout():t.state.debouncedUpdateLayout()},L=e=>{var n;if(!t||!t.store)return 0;const{treeData:r}=t.store.states;let o=0;const i=null==(n=r.value[e])?void 0:n.children;return i&&(o+=i.length,i.forEach((e=>{o+=L(e)}))),o},U=(e,t,n)=>{A.value&&A.value!==e&&(A.value.order=null),A.value=e,O.value=t,N.value=n},j=()=>{let e=Lt(i);Object.keys(R.value).forEach((t=>{const n=R.value[t];if(!n||0===n.length)return;const r=iM({columns:l.value},t);r&&r.filterMethod&&(e=e.filter((e=>n.some((t=>r.filterMethod.call(null,t,e,r))))))})),I.value=e},V=()=>{o.value=((e,t)=>{const n=t.sortingColumn;return!n||g(n.sortable)?e:oM(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)})(I.value,{sortingColumn:A.value,sortProp:O.value,sortOrder:N.value})},{setExpandRowKeys:B,toggleRowExpansion:z,updateExpandRows:F,states:H,isRowExpanded:G}=function(e){const t=Qi(),n=Dt(!1),r=Dt([]);return{updateExpandRows:()=>{const t=e.data.value||[],o=e.rowKey.value;if(n.value)r.value=t.slice();else if(o){const e=cM(r.value,o);r.value=t.reduce(((t,n)=>{const r=sM(n,o);return e[r]&&t.push(n),t}),[])}else r.value=[]},toggleRowExpansion:(e,n)=>{dM(r.value,e,n)&&t.emit("expand-change",e,r.value.slice())},setExpandRowKeys:n=>{t.store.assertRowKey();const o=e.data.value||[],i=e.rowKey.value,a=cM(o,i);r.value=n.reduce(((e,t)=>{const n=a[t];return n&&e.push(n.row),e}),[])},isRowExpanded:t=>{const n=e.rowKey.value;return n?!!cM(r.value,n)[sM(t,n)]:r.value.includes(t)},states:{expandRows:r,defaultExpandAll:n}}}({data:o,rowKey:r}),{updateTreeExpandKeys:W,toggleTreeExpansion:q,updateTreeData:K,updateKeyChildren:Y,loadOrToggle:X,states:$}=function(e){const t=Dt([]),n=Dt({}),r=Dt(16),o=Dt(!1),i=Dt({}),a=Dt("hasChildren"),s=Dt("children"),c=Dt(!1),l=Qi(),u=ma((()=>{if(!e.rowKey.value)return{};const t=e.data.value||[];return p(t)})),h=ma((()=>{const t=e.rowKey.value,n=Object.keys(i.value),r={};return n.length?(n.forEach((e=>{if(i.value[e].length){const n={children:[]};i.value[e].forEach((e=>{const o=sM(e,t);n.children.push(o),e[a.value]&&!r[o]&&(r[o]={children:[]})})),r[e]=n}})),r):r})),p=t=>{const n=e.rowKey.value,r={};return hM(t,((e,t,i)=>{const a=sM(e,n);d(t)?r[a]={children:t.map((e=>sM(e,n))),level:i}:o.value&&(r[a]={children:[],lazy:!0,level:i})}),s.value,a.value),r},f=(e=!1,r=(e=>null==(e=l.store)?void 0:e.states.defaultExpandAll.value)())=>{var i;const a=u.value,s=h.value,c=Object.keys(a),d={};if(c.length){const i=Lt(n),l=[],u=(n,o)=>{if(e)return t.value?r||t.value.includes(o):!(!r&&!(null==n?void 0:n.expanded));{const e=r||t.value&&t.value.includes(o);return!(!(null==n?void 0:n.expanded)&&!e)}};c.forEach((e=>{const t=i[e],n={...a[e]};if(n.expanded=u(t,e),n.lazy){const{loaded:r=!1,loading:o=!1}=t||{};n.loaded=!!r,n.loading=!!o,l.push(e)}d[e]=n}));const h=Object.keys(s);o.value&&h.length&&l.length&&h.forEach((e=>{const t=i[e],n=s[e].children;if(l.includes(e)){if(0!==d[e].children.length)throw new Error("[ElTable]children must be an empty array.");d[e].children=n}else{const{loaded:r=!1,loading:o=!1}=t||{};d[e]={lazy:!0,loaded:!!r,loading:!!o,expanded:u(t,e),children:n,level:""}}}))}n.value=d,null==(i=l.store)||i.updateTableScrollY()};Zo((()=>t.value),(()=>{f(!0)})),Zo((()=>u.value),(()=>{f()})),Zo((()=>h.value),(()=>{f()}));const m=(t,r)=>{l.store.assertRowKey();const o=e.rowKey.value,i=sM(t,o),a=i&&n.value[i];if(i&&a&&"expanded"in a){const e=a.expanded;r=Cp(r)?!a.expanded:r,n.value[i].expanded=r,e!==r&&l.emit("expand-change",t,r),l.store.updateTableScrollY()}},g=(e,t,r)=>{const{load:o}=l.props;o&&!n.value[t].loaded&&(n.value[t].loading=!0,o(e,r,(r=>{if(!d(r))throw new TypeError("[ElTable] data must be an array");n.value[t].loading=!1,n.value[t].loaded=!0,n.value[t].expanded=!0,r.length&&(i.value[t]=r),l.emit("expand-change",e,!0)})))};return{loadData:g,loadOrToggle:t=>{l.store.assertRowKey();const r=e.rowKey.value,i=sM(t,r),a=n.value[i];o.value&&a&&"loaded"in a&&!a.loaded?g(t,i,a):m(t,void 0)},toggleTreeExpansion:m,updateTreeExpandKeys:e=>{t.value=e,f()},updateTreeData:f,updateKeyChildren:(e,t)=>{const{lazy:n,rowKey:r}=l.props;if(n){if(!r)throw new Error("[Table] rowKey is required in updateKeyChild");i.value[e]&&(i.value[e]=t)}},normalize:p,states:{expandRowKeys:t,treeData:n,indent:r,lazy:o,lazyTreeNodeMap:i,lazyColumnIdentifier:a,childrenColumnName:s,checkStrictly:c}}}({data:o,rowKey:r}),{updateCurrentRowData:J,updateCurrentRow:Z,setCurrentRowKey:Q,states:ee}=function(e){const t=Qi(),n=Dt(null),r=Dt(null),o=()=>{n.value=null},i=n=>{const{data:o,rowKey:i}=e;let a=null;i.value&&(a=(Lt(o)||[]).find((e=>sM(e,i.value)===n))),r.value=a,t.emit("current-change",r.value,null)};return{setCurrentRowKey:e=>{t.store.assertRowKey(),n.value=e,i(e)},restoreCurrentRowKey:o,setCurrentRowByKey:i,updateCurrentRow:e=>{const n=r.value;if(e&&e!==n)return r.value=e,void t.emit("current-change",r.value,n);!e&&n&&(r.value=null,t.emit("current-change",null,n))},updateCurrentRowData:()=>{const a=e.rowKey.value,s=e.data.value||[],c=r.value;if(!s.includes(c)&&c){if(a){const e=sM(c,a);i(e)}else r.value=null;null===r.value&&t.emit("current-change",null,c)}else n.value&&(i(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}({data:o,rowKey:r});return{assertRowKey:()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},updateColumns:P,scheduleLayout:M,isSelected:e=>T.value.some((t=>fp(t,e))),clearSelection:()=>{b.value=!1;const e=T.value;T.value=[],e.length&&t.emit("selection-change",[])},cleanSelection:()=>{let e;if(r.value){e=[];const t=cM(T.value,r.value),n=cM(o.value,r.value);for(const r in t)u(t,r)&&!n[r]&&e.push(t[r].row)}else e=T.value.filter((e=>!o.value.includes(e)));if(e.length){const n=T.value.filter((t=>!e.includes(t)));T.value=n,t.emit("selection-change",n.slice())}},getSelectionRows:()=>(T.value||[]).slice(),toggleRowSelection:(e,n,r=!0,o=!1)=>{var i,a,s,c;const l={children:null==(a=null==(i=null==t?void 0:t.store)?void 0:i.states)?void 0:a.childrenColumnName.value,checkStrictly:null==(c=null==(s=null==t?void 0:t.store)?void 0:s.states)?void 0:c.checkStrictly.value};if(dM(T.value,e,n,l,o?void 0:C.value)){const n=(T.value||[]).slice();r&&t.emit("select",n,e),t.emit("selection-change",n)}},_toggleAllSelection:()=>{var e,n;const r=w.value?!b.value:!(b.value||T.value.length);b.value=r;let i=!1,a=0;const s=null==(n=null==(e=null==t?void 0:t.store)?void 0:e.states)?void 0:n.rowKey.value,{childrenColumnName:c}=t.store.states,l={children:c.value,checkStrictly:!1};o.value.forEach(((e,t)=>{const n=t+a;dM(T.value,e,r,l,C.value,n)&&(i=!0),a+=L(sM(e,s))})),i&&t.emit("selection-change",T.value?T.value.slice():[]),t.emit("select-all",(T.value||[]).slice())},toggleAllSelection:null,updateSelectionByRowKey:()=>{const e=cM(T.value,r.value);o.value.forEach((t=>{const n=sM(t,r.value),o=e[n];o&&(T.value[o.index]=t)}))},updateAllSelected:()=>{var e;if(0===(null==(e=o.value)?void 0:e.length))return void(b.value=!1);const{childrenColumnName:n}=t.store.states,i=r.value?cM(T.value,r.value):void 0;let a=0,s=0;const c=e=>i?!!i[sM(e,r.value)]:T.value.includes(e),l=e=>{var t;for(const r of e){const e=C.value&&C.value.call(null,r,a);if(c(r))s++;else if(!C.value||e)return!1;if(a++,(null==(t=r[n.value])?void 0:t.length)&&!l(r[n.value]))return!1}return!0},u=l(o.value||[]);b.value=0!==s&&u},updateFilters:(e,t)=>{d(e)||(e=[e]);const n={};return e.forEach((e=>{R.value[e.id]=t,n[e.columnKey||e.id]=t})),n},updateCurrentRow:Z,updateSort:U,execFilter:j,execSort:V,execQuery:(e=void 0)=>{e&&e.filter||j(),V()},clearFilter:e=>{const{tableHeaderRef:n}=t.refs;if(!n)return;const r=Object.assign({},n.filterPanels),o=Object.keys(r);if(o.length)if(g(e)&&(e=[e]),d(e)){const n=e.map((e=>function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const o=e.columns[r];if(o.columnKey===t){n=o;break}}return n||Vp("ElTable",`No column matching with column-key: ${t}`),n}({columns:l.value},e)));o.forEach((e=>{const t=n.find((t=>t.id===e));t&&(t.filteredValue=[])})),t.store.commit("filterChange",{column:n,values:[],silent:!0,multi:!0})}else o.forEach((e=>{const t=l.value.find((t=>t.id===e));t&&(t.filteredValue=[])})),R.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:()=>{A.value&&(U(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},toggleRowExpansion:z,setExpandRowKeysAdapter:e=>{B(e),W(e)},setCurrentRowKey:Q,toggleRowExpansionAdapter:(e,t)=>{l.value.some((({type:e})=>"expand"===e))?z(e,t):q(e,t)},isRowExpanded:G,updateExpandRows:F,updateCurrentRowData:J,loadOrToggle:X,updateTreeData:K,updateKeyChildren:Y,states:{tableSize:n,rowKey:r,data:o,_data:i,isComplex:a,_columns:s,originColumns:c,columns:l,fixedColumns:h,rightFixedColumns:p,leafColumns:f,fixedLeafColumns:m,rightFixedLeafColumns:v,updateOrderFns:[],leafColumnsLength:y,fixedLeafColumnsLength:_,rightFixedLeafColumnsLength:E,isAllSelected:b,selection:T,reserveSelection:S,selectOnIndeterminate:w,selectable:C,filters:R,filteredData:I,sortingColumn:A,sortProp:O,sortOrder:N,hoverRow:k,...H,...$,...ee}}}function wM(e,t){return e.map((e=>{var n;return e.id===t.id?t:((null==(n=e.children)?void 0:n.length)&&(e.children=wM(e.children,t)),e)}))}function CM(e){e.forEach((e=>{var t,n;e.no=null==(t=e.getColumnIndex)?void 0:t.call(e),(null==(n=e.children)?void 0:n.length)&&CM(e.children)})),e.sort(((e,t)=>e.no-t.no))}const RM={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function IM(e,t){if(!e)throw new Error("Table is required.");const n=function(){const e=Qi(),t=SM();return{ns:GS("table"),...t,mutations:{setData(t,n){const r=Lt(t._data)!==n;t.data.value=n,t._data.value=n,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),Lt(t.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):r?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(t,n,r,o){const i=Lt(t._columns);let a=[];r?(r&&!r.children&&(r.children=[]),r.children.push(n),a=wM(i,r)):(i.push(n),a=i),CM(a),t._columns.value=a,t.updateOrderFns.push(o),"selection"===n.type&&(t.selectable.value=n.selectable,t.reserveSelection.value=n.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(t,n){var r;(null==(r=n.getColumnIndex)?void 0:r.call(n))!==n.no&&(CM(t._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(t,n,r,o){const i=Lt(t._columns)||[];if(r)r.children.splice(r.children.findIndex((e=>e.id===n.id)),1),dn((()=>{var e;0===(null==(e=r.children)?void 0:e.length)&&delete r.children})),t._columns.value=wM(i,r);else{const e=i.indexOf(n);e>-1&&(i.splice(e,1),t._columns.value=i)}const a=t.updateOrderFns.indexOf(o);a>-1&&t.updateOrderFns.splice(a,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(t,n){const{prop:r,order:o,init:i}=n;if(r){const n=Lt(t.columns).find((e=>e.property===r));n&&(n.order=o,e.store.updateSort(n,r,o),e.store.commit("changeSortCondition",{init:i}))}},changeSortCondition(t,n){const{sortingColumn:r,sortProp:o,sortOrder:i}=t,a=Lt(r),s=Lt(o),c=Lt(i);null===c&&(t.sortingColumn.value=null,t.sortProp.value=null),e.store.execQuery({filter:!0}),n&&(n.silent||n.init)||e.emit("sort-change",{column:a,prop:s,order:c}),e.store.updateTableScrollY()},filterChange(t,n){const{column:r,values:o,silent:i}=n,a=e.store.updateFilters(r,o);e.store.execQuery(),i||e.emit("filter-change",a),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(t,n){e.store.toggleRowSelection(n),e.store.updateAllSelected()},setHoverRow(e,t){e.hoverRow.value=t},setCurrentRow(t,n){e.store.updateCurrentRow(n)}},commit:function(t,...n){const r=e.store.mutations;if(!r[t])throw new Error(`Action not found: ${t}`);r[t].apply(e,[e.store.states].concat(n))},updateTableScrollY:function(){dn((()=>e.layout.updateScrollY.apply(e.layout)))}}}();return n.toggleAllSelection=op(n._toggleAllSelection,10),Object.keys(RM).forEach((e=>{AM(OM(t,e),e,n)})),function(e,t){Object.keys(RM).forEach((n=>{Zo((()=>OM(t,n)),(t=>{AM(t,n,e)}))}))}(n,t),n}function AM(e,t,n){let r=e,o=RM[t];"object"==typeof RM[t]&&(o=o.key,r=r||RM[t].default),n.states[o].value=r}function OM(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach((e=>{r=r[e]})),r}return e[t]}class NM{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Dt(null),this.scrollX=Dt(!1),this.scrollY=Dt(!1),this.bodyWidth=Dt(null),this.fixedWidth=Dt(null),this.rightFixedWidth=Dt(null),this.gutterWidth=0;for(const t in e)u(e,t)&&(kt(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(null===this.height.value)return!1;const e=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(null==e?void 0:e.wrapRef)){let t=!0;const n=this.scrollY.value;return t=e.wrapRef.scrollHeight>e.wrapRef.clientHeight,this.scrollY.value=t,n!==t}return!1}setHeight(e,t="height"){if(!Oc)return;const n=this.table.vnode.el;var r;if(e=Ip(r=e)?r:g(r)?/^\d+(?:px)?$/.test(r)?Number.parseInt(r,10):r:null,this.height.value=Number(e),!n&&(e||0===e))return dn((()=>this.setHeight(e,t)));Ip(e)?(n.style[t]=`${e}px`,this.updateElsHeight()):g(e)&&(n.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach((t=>{t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)})),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;for(;"DIV"!==t.tagName;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!Oc)return;const e=this.fit,t=this.table.vnode.el.clientWidth;let n=0;const r=this.getFlattenColumns(),o=r.filter((e=>!Ip(e.width)));if(r.forEach((e=>{Ip(e.width)&&e.realWidth&&(e.realWidth=null)})),o.length>0&&e){if(r.forEach((e=>{n+=Number(e.width||e.minWidth||80)})),n<=t){this.scrollX.value=!1;const e=t-n;if(1===o.length)o[0].realWidth=Number(o[0].minWidth||80)+e;else{const t=e/o.reduce(((e,t)=>e+Number(t.minWidth||80)),0);let n=0;o.forEach(((e,r)=>{if(0===r)return;const o=Math.floor(Number(e.minWidth||80)*t);n+=o,e.realWidth=Number(e.minWidth||80)+o})),o[0].realWidth=Number(o[0].minWidth||80)+e-n}}else this.scrollX.value=!0,o.forEach((e=>{e.realWidth=Number(e.minWidth)}));this.bodyWidth.value=Math.max(n,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach((e=>{e.width||e.minWidth?e.realWidth=Number(e.width||e.minWidth):e.realWidth=80,n+=e.realWidth})),this.scrollX.value=n>t,this.bodyWidth.value=n;const i=this.store.states.fixedColumns.value;if(i.length>0){let e=0;i.forEach((t=>{e+=Number(t.realWidth||t.width)})),this.fixedWidth.value=e}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let e=0;a.forEach((t=>{e+=Number(t.realWidth||t.width)})),this.rightFixedWidth.value=e}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach((t=>{var n,r;switch(e){case"columns":null==(n=t.state)||n.onColumnsChange(this);break;case"scrollable":null==(r=t.state)||r.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}}))}}const{CheckboxGroup:kM}=UN,DM=Qn({name:"ElTableFilterPanel",components:{ElCheckbox:UN,ElCheckboxGroup:kM,ElScrollbar:yI,ElTooltip:bA,ElIcon:aR,ArrowDown:lf,ArrowUp:bf},directives:{ClickOutside:VO},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(e){const t=Qi(),{t:n}=VS(),r=GS("table-filter"),o=null==t?void 0:t.parent;o.filterPanels.value[e.column.id]||(o.filterPanels.value[e.column.id]=t);const i=Dt(!1),a=Dt(null),s=ma((()=>e.column&&e.column.filters)),c=ma((()=>e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b())),l=ma({get:()=>{var t;return((null==(t=e.column)?void 0:t.filteredValue)||[])[0]},set:e=>{u.value&&(null!=e?u.value.splice(0,1,e):u.value.splice(0,1))}}),u=ma({get:()=>e.column&&e.column.filteredValue||[],set(t){e.column&&e.upDataColumn("filteredValue",t)}}),d=ma((()=>!e.column||e.column.filterMultiple)),h=()=>{i.value=!1},p=t=>{e.store.commit("filterChange",{column:e.column,values:t}),e.store.updateAllSelected()};Zo(i,(t=>{e.column&&e.upDataColumn("filterOpened",t)}),{immediate:!0});const f=ma((()=>{var e,t;return null==(t=null==(e=a.value)?void 0:e.popperRef)?void 0:t.contentRef}));return{tooltipVisible:i,multiple:d,filterClassName:c,filteredValue:u,filterValue:l,filters:s,handleConfirm:()=>{p(u.value),h()},handleReset:()=>{u.value=[],p(u.value),h()},handleSelect:e=>{l.value=e,p(null!=e?u.value:[]),h()},isActive:e=>e.value===l.value,t:n,ns:r,showFilterPanel:e=>{e.stopPropagation(),i.value=!i.value},hideFilterPanel:()=>{i.value=!1},popperPaneRef:f,tooltip:a}}});var xM=oR(DM,[["render",function(e,t,n,r,o,i){const a=Ur("el-checkbox"),s=Ur("el-checkbox-group"),c=Ur("el-scrollbar"),l=Ur("arrow-up"),u=Ur("arrow-down"),d=Ur("el-icon"),h=Ur("el-tooltip"),p=Br("click-outside");return Ri(),Di(h,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo},{content:wn((()=>[e.multiple?(Ri(),ki("div",{key:0},[Ui("div",{class:q(e.ns.e("content"))},[ji(c,{"wrap-class":e.ns.e("wrap")},{default:wn((()=>[ji(s,{modelValue:e.filteredValue,"onUpdate:modelValue":t=>e.filteredValue=t,class:q(e.ns.e("checkbox-group"))},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(e.filters,(e=>(Ri(),Di(a,{key:e.value,value:e.value},{default:wn((()=>[zi(ee(e.text),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","onUpdate:modelValue","class"])])),_:1},8,["wrap-class"])],2),Ui("div",{class:q(e.ns.e("bottom"))},[Ui("button",{class:q({[e.ns.is("disabled")]:0===e.filteredValue.length}),disabled:0===e.filteredValue.length,type:"button",onClick:e.handleConfirm},ee(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),Ui("button",{type:"button",onClick:e.handleReset},ee(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(Ri(),ki("ul",{key:1,class:q(e.ns.e("list"))},[Ui("li",{class:q([e.ns.e("list-item"),{[e.ns.is("active")]:void 0===e.filterValue||null===e.filterValue}]),onClick:t=>e.handleSelect(null)},ee(e.t("el.table.clearFilter")),11,["onClick"]),(Ri(!0),ki(Ei,null,Hr(e.filters,(t=>(Ri(),ki("li",{key:t.value,class:q([e.ns.e("list-item"),e.ns.is("active",e.isActive(t))]),label:t.value,onClick:n=>e.handleSelect(t.value)},ee(t.text),11,["label","onClick"])))),128))],2))])),default:wn((()=>[Cn((Ri(),ki("span",{class:q([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:e.showFilterPanel},[ji(d,null,{default:wn((()=>[Wr(e.$slots,"filter-icon",{},(()=>[e.column.filterOpened?(Ri(),Di(l,{key:0})):(Ri(),Di(u,{key:1}))]))])),_:3})],10,["onClick"])),[[p,e.hideFilterPanel,e.popperPaneRef]])])),_:3},8,["visible","placement","popper-class","append-to"])}],["__file","filter-panel.vue"]]);function PM(e){const t=Qi();Rr((()=>{n.value.addObserver(t)})),Ir((()=>{r(n.value),o(n.value)})),Or((()=>{r(n.value),o(n.value)})),kr((()=>{n.value.removeObserver(t)}));const n=ma((()=>{const t=e.layout;if(!t)throw new Error("Can not find table layout.");return t})),r=t=>{var n;const r=(null==(n=e.vnode.el)?void 0:n.querySelectorAll("colgroup > col"))||[];if(!r.length)return;const o=t.getFlattenColumns(),i={};o.forEach((e=>{i[e.id]=e}));for(let e=0,a=r.length;e<a;e++){const t=r[e],n=t.getAttribute("name"),o=i[n];o&&t.setAttribute("width",o.realWidth||o.width)}},o=t=>{var n,r;const o=(null==(n=e.vnode.el)?void 0:n.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let e=0,a=o.length;e<a;e++){o[e].setAttribute("width",t.scrollY.value?t.gutterWidth:"0")}const i=(null==(r=e.vnode.el)?void 0:r.querySelectorAll("th.gutter"))||[];for(let e=0,a=i.length;e<a;e++){const n=i[e];n.style.width=t.scrollY.value?`${t.gutterWidth}px`:"0",n.style.display=t.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:o}}const MM=Symbol("ElTable");const LM=e=>{const t=[];return e.forEach((e=>{e.children?(t.push(e),t.push.apply(t,LM(e.children))):t.push(e)})),t},UM=e=>{let t=1;const n=(e,r)=>{if(r&&(e.level=r.level+1,t<e.level&&(t=e.level)),e.children){let t=0;e.children.forEach((r=>{n(r,e),t+=r.colSpan})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,n(e,void 0)}));const r=[];for(let o=0;o<t;o++)r.push([]);return LM(e).forEach((e=>{e.children?(e.rowSpan=1,e.children.forEach((e=>e.isSubColumn=!0))):e.rowSpan=t-e.level+1,r[e.level-1].push(e)})),r};var jM=Qn({name:"ElTableHeader",components:{ElCheckbox:UN},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(e,{emit:t}){const n=Qi(),r=To(MM),o=GS("table"),i=Dt({}),{onColumnsChange:a,onScrollableChange:s}=PM(r),c="auto"===(null==r?void 0:r.props.tableLayout),l=new Map,u=Dt(),d=()=>{setTimeout((()=>{l.size>0&&(l.forEach(((e,t)=>{const n=u.value.querySelector(`.${t.replace(/\s/g,".")}`);if(n){const t=n.getBoundingClientRect().width;e.width=t}})),l.clear())}))};Ir((async()=>{await dn(),await dn();const{prop:t,order:n}=e.defaultSort;null==r||r.store.commit("sort",{prop:t,order:n,init:!0}),d()}));const{handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:f,handleMouseMove:v,handleMouseOut:y,handleSortClick:_,handleFilterClick:E}=function(e,t){const n=Qi(),r=To(MM),o=e=>{e.stopPropagation()},i=Dt(null),a=Dt(!1),s=Dt({}),c=(t,n,o)=>{var i;t.stopPropagation();const a=n.order===o?null:o||(({order:e,sortOrders:t})=>{if(""===e)return t[0];const n=t.indexOf(e||null);return t[n>t.length-2?0:n+1]})(n),s=null==(i=t.target)?void 0:i.closest("th");if(s&&Fp(s,"noclick"))return void Gp(s,"noclick");if(!n.sortable)return;const c=t.currentTarget;if(["ascending","descending"].some((e=>Fp(c,e)&&!n.sortOrders.includes(e))))return;const l=e.store.states;let u,d=l.sortProp.value;const h=l.sortingColumn.value;(h!==n||h===n&&null===h.order)&&(h&&(h.order=null),l.sortingColumn.value=n,d=n.property),u=n.order=a||null,l.sortProp.value=d,l.sortOrder.value=u,null==r||r.store.commit("changeSortCondition")};return{handleHeaderClick:(e,t)=>{!t.filters&&t.sortable?c(e,t,!1):t.filterable&&!t.sortable&&o(e),null==r||r.emit("header-click",t,e)},handleHeaderContextMenu:(e,t)=>{null==r||r.emit("header-contextmenu",t,e)},handleMouseDown:(o,c)=>{if(Oc&&!(c.children&&c.children.length>0)&&i.value&&e.border){a.value=!0;const l=r;t("set-drag-visible",!0);const u=(null==l?void 0:l.vnode.el).getBoundingClientRect().left,d=n.vnode.el.querySelector(`th.${c.id}`),h=d.getBoundingClientRect(),p=h.left-u+30;Hp(d,"noclick"),s.value={startMouseLeft:o.clientX,startLeft:h.right-u,startColumnLeft:h.left-u,tableLeft:u};const f=null==l?void 0:l.refs.resizeProxy;f.style.left=`${s.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const m=e=>{const t=e.clientX-s.value.startMouseLeft,n=s.value.startLeft+t;f.style.left=`${Math.max(p,n)}px`},g=()=>{if(a.value){const{startColumnLeft:n,startLeft:r}=s.value,u=Number.parseInt(f.style.left,10)-n;c.width=c.realWidth=u,null==l||l.emit("header-dragend",c.width,r-n,c,o),requestAnimationFrame((()=>{e.store.scheduleLayout(!1,!0)})),document.body.style.cursor="",a.value=!1,i.value=null,s.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.onselectstart=null,document.ondragstart=null,setTimeout((()=>{Gp(d,"noclick")}),0)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",g)}},handleMouseMove:(t,n)=>{var r;if(n.children&&n.children.length>0)return;const o=t.target;if(!Op(o))return;const s=null==o?void 0:o.closest("th");if(n&&n.resizable&&s&&!a.value&&e.border){const e=s.getBoundingClientRect(),o=document.body.style,c=(null==(r=s.parentNode)?void 0:r.lastElementChild)===s;e.width>12&&e.right-t.pageX<8&&!c?(o.cursor="col-resize",Fp(s,"is-sortable")&&(s.style.cursor="col-resize"),i.value=n):a.value||(o.cursor="",Fp(s,"is-sortable")&&(s.style.cursor="pointer"),i.value=null)}},handleMouseOut:()=>{Oc&&(document.body.style.cursor="")},handleSortClick:c,handleFilterClick:o}}(e,t),{getHeaderRowStyle:b,getHeaderRowClass:T,getHeaderCellStyle:S,getHeaderCellClass:w}=function(e){const t=To(MM),n=GS("table");return{getHeaderRowStyle:e=>{const n=null==t?void 0:t.props.headerRowStyle;return m(n)?n.call(null,{rowIndex:e}):n},getHeaderRowClass:e=>{const n=[],r=null==t?void 0:t.props.headerRowClassName;return g(r)?n.push(r):m(r)&&n.push(r.call(null,{rowIndex:e})),n.join(" ")},getHeaderCellStyle:(n,r,o,i)=>{var a;let s=null!=(a=null==t?void 0:t.props.headerCellStyle)?a:{};m(s)&&(s=s.call(null,{rowIndex:n,columnIndex:r,row:o,column:i}));const c=EM(r,i.fixed,e.store,o);return bM(c,"left"),bM(c,"right"),Object.assign({},s,c)},getHeaderCellClass:(r,o,i,a)=>{const s=yM(n.b(),o,a.fixed,e.store,i),c=[a.id,a.order,a.headerAlign,a.className,a.labelClassName,...s];a.children||c.push("is-leaf"),a.sortable&&c.push("is-sortable");const l=null==t?void 0:t.props.headerCellClassName;return g(l)?c.push(l):m(l)&&c.push(l.call(null,{rowIndex:r,columnIndex:o,row:i,column:a})),c.push(n.e("cell")),c.filter((e=>Boolean(e))).join(" ")}}}(e),{isGroup:C,toggleAllSelection:R,columnRows:I}=function(e){const t=To(MM),n=ma((()=>UM(e.store.states.originColumns.value)));return{isGroup:ma((()=>{const e=n.value.length>1;return e&&t&&(t.state.isGroup.value=!0),e})),toggleAllSelection:e=>{e.stopPropagation(),null==t||t.store.commit("toggleAllSelection")},columnRows:n}}(e);return n.state={onColumnsChange:a,onScrollableChange:s},n.filterPanels=i,{ns:o,filterPanels:i,onColumnsChange:a,onScrollableChange:s,columnRows:I,getHeaderRowClass:T,getHeaderRowStyle:b,getHeaderCellClass:w,getHeaderCellStyle:S,handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:f,handleMouseMove:v,handleMouseOut:y,handleSortClick:_,handleFilterClick:E,isGroup:C,toggleAllSelection:R,saveIndexSelection:l,isTableLayoutAuto:c,theadRef:u,updateFixedColumnStyle:d}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:o,getHeaderRowClass:i,getHeaderRowStyle:a,handleHeaderClick:s,handleHeaderContextMenu:c,handleMouseDown:l,handleMouseMove:u,handleSortClick:d,handleMouseOut:h,store:p,$parent:f,saveIndexSelection:m,isTableLayoutAuto:g}=this;let v=1;return ga("thead",{ref:"theadRef",class:{[e.is("group")]:t}},n.map(((e,t)=>ga("tr",{class:i(t),key:t,style:a(t)},e.map(((n,i)=>{n.rowSpan>v&&(v=n.rowSpan);const a=o(t,i,e,n);return g&&n.fixed&&m.set(a,n),ga("th",{class:a,colspan:n.colSpan,key:`${n.id}-thead`,rowspan:n.rowSpan,style:r(t,i,e,n),onClick:e=>{e.currentTarget.classList.contains("noclick")||s(e,n)},onContextmenu:e=>c(e,n),onMousedown:e=>l(e,n),onMousemove:e=>u(e,n),onMouseout:h},[ga("div",{class:["cell",n.filteredValue&&n.filteredValue.length>0?"highlight":""]},[n.renderHeader?n.renderHeader({column:n,$index:i,store:p,_self:f}):n.label,n.sortable&&ga("span",{onClick:e=>d(e,n),class:"caret-wrapper"},[ga("i",{onClick:e=>d(e,n,"ascending"),class:"sort-caret ascending"}),ga("i",{onClick:e=>d(e,n,"descending"),class:"sort-caret descending"})]),n.filterable&&ga(xM,{store:p,placement:n.filterPlacement||"bottom-start",appendTo:f.appendFilterPanelTo,column:n,upDataColumn:(e,t)=>{n[e]=t}},{"filter-icon":()=>n.renderFilterIcon?n.renderFilterIcon({filterOpened:n.filterOpened}):null})])])}))))))}});function VM(e,t,n=.03){return e-t>n}function BM(e){const t=To(MM),n=Dt(""),r=Dt(ga("div")),o=(n,r,o)=>{var i;const a=t,s=rM(n);let c;const l=null==(i=null==a?void 0:a.vnode.el)?void 0:i.dataset.prefix;s&&(c=aM({columns:e.store.states.columns.value},s,l),c&&(null==a||a.emit(`cell-${o}`,r,c,s,n))),null==a||a.emit(`row-${o}`,r,c,n)},i=op((t=>{e.store.commit("setHoverRow",t)}),30),a=op((()=>{e.store.commit("setHoverRow",null)}),30),s=(e,t,n)=>{let r=t.target.parentNode;for(;e>1&&(r=null==r?void 0:r.nextSibling,r&&"TR"===r.nodeName);)n(r,"hover-row hover-fixed-row"),e--};return{handleDoubleClick:(e,t)=>{o(e,t,"dblclick")},handleClick:(t,n)=>{e.store.commit("setCurrentRow",n),o(t,n,"click")},handleContextMenu:(e,t)=>{o(e,t,"contextmenu")},handleMouseEnter:i,handleMouseLeave:a,handleCellMouseEnter:(n,r,o)=>{var i;const a=t,c=rM(n),l=null==(i=null==a?void 0:a.vnode.el)?void 0:i.dataset.prefix;if(c){const t=aM({columns:e.store.states.columns.value},c,l);c.rowSpan>1&&s(c.rowSpan,n,Hp);const o=a.hoverState={cell:c,column:t,row:r};null==a||a.emit("cell-mouse-enter",o.row,o.column,o.cell,n)}if(!o)return;const u=n.target.querySelector(".cell");if(!Fp(u,`${l}-tooltip`)||!u.childNodes.length)return;const d=document.createRange();d.setStart(u,0),d.setEnd(u,u.childNodes.length);const{width:h,height:p}=d.getBoundingClientRect(),{width:f,height:m}=u.getBoundingClientRect(),{top:g,left:v,right:y,bottom:_}=(e=>{const t=window.getComputedStyle(e,null);return{left:Number.parseInt(t.paddingLeft,10)||0,right:Number.parseInt(t.paddingRight,10)||0,top:Number.parseInt(t.paddingTop,10)||0,bottom:Number.parseInt(t.paddingBottom,10)||0}})(u),E=g+_;(VM(h+(v+y),f)||VM(p+E,m)||VM(u.scrollWidth,f))&&function(e,t,n,r){if((null==fM?void 0:fM.trigger)===n)return void yp(fM.vm.component.props,pM(e,t));null==fM||fM();const o=null==r?void 0:r.refs.tableWrapper,i=null==o?void 0:o.dataset.prefix,a=ji(bA,{virtualTriggering:!0,virtualRef:n,appendTo:o,placement:"top",transition:"none",offset:0,hideAfter:0,...pM(e,t)});a.appContext={...r.appContext,...r};const s=document.createElement("div");ic(a,s),a.component.exposed.onOpen();const c=null==o?void 0:o.querySelector(`.${i}-scrollbar__wrap`);fM=()=>{ic(null,s),null==c||c.removeEventListener("scroll",fM),fM=null},fM.trigger=n,fM.vm=a,null==c||c.addEventListener("scroll",fM)}(o,c.innerText||c.textContent,c,a)},handleCellMouseLeave:e=>{const n=rM(e);if(!n)return;n.rowSpan>1&&s(n.rowSpan,e,Gp);const r=null==t?void 0:t.hoverState;null==t||t.emit("cell-mouse-leave",null==r?void 0:r.row,null==r?void 0:r.column,null==r?void 0:r.cell,e)},tooltipContent:n,tooltipTrigger:r}}var zM=oR(Qn({...Qn({name:"TableTdWrapper"}),props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup:e=>(t,n)=>(Ri(),ki("td",{colspan:e.colspan,rowspan:e.rowspan},[Wr(t.$slots,"default")],8,["colspan","rowspan"]))}),[["__file","td-wrapper.vue"]]);function FM(e){const t=To(MM),n=GS("table"),{handleDoubleClick:r,handleClick:o,handleContextMenu:i,handleMouseEnter:a,handleMouseLeave:s,handleCellMouseEnter:c,handleCellMouseLeave:l,tooltipContent:u,tooltipTrigger:h}=BM(e),{getRowStyle:p,getRowClass:f,getCellStyle:v,getCellClass:y,getSpan:_,getColspanRealWidth:E}=function(e){const t=To(MM),n=GS("table");return{getRowStyle:(e,n)=>{const r=null==t?void 0:t.props.rowStyle;return m(r)?r.call(null,{row:e,rowIndex:n}):r||null},getRowClass:(r,o)=>{const i=[n.e("row")];(null==t?void 0:t.props.highlightCurrentRow)&&r===e.store.states.currentRow.value&&i.push("current-row"),e.stripe&&o%2==1&&i.push(n.em("row","striped"));const a=null==t?void 0:t.props.rowClassName;return g(a)?i.push(a):m(a)&&i.push(a.call(null,{row:r,rowIndex:o})),i},getCellStyle:(n,r,o,i)=>{const a=null==t?void 0:t.props.cellStyle;let s=null!=a?a:{};m(a)&&(s=a.call(null,{rowIndex:n,columnIndex:r,row:o,column:i}));const c=EM(r,null==e?void 0:e.fixed,e.store);return bM(c,"left"),bM(c,"right"),Object.assign({},s,c)},getCellClass:(r,o,i,a,s)=>{const c=yM(n.b(),o,null==e?void 0:e.fixed,e.store,void 0,s),l=[a.id,a.align,a.className,...c],u=null==t?void 0:t.props.cellClassName;return g(u)?l.push(u):m(u)&&l.push(u.call(null,{rowIndex:r,columnIndex:o,row:i,column:a})),l.push(n.e("cell")),l.filter((e=>Boolean(e))).join(" ")},getSpan:(e,n,r,o)=>{let i=1,a=1;const s=null==t?void 0:t.props.spanMethod;if(m(s)){const t=s({row:e,column:n,rowIndex:r,columnIndex:o});d(t)?(i=t[0],a=t[1]):"object"==typeof t&&(i=t.rowspan,a=t.colspan)}return{rowspan:i,colspan:a}},getColspanRealWidth:(e,t,n)=>{if(t<1)return e[n].realWidth;const r=e.map((({realWidth:e,width:t})=>e||t)).slice(n,n+t);return Number(r.reduce(((e,t)=>Number(e)+Number(t)),-1))}}}(e),b=ma((()=>e.store.states.columns.value.findIndex((({type:e})=>"default"===e)))),T=(e,n)=>{const r=t.props.rowKey;return r?sM(e,r):n},S=(u,d,h,m=!1)=>{const{tooltipEffect:g,tooltipOptions:S,store:C}=e,{indent:R,columns:I}=C.states,A=f(u,d);let O=!0;h&&(A.push(n.em("row",`level-${h.level}`)),O=h.display);return ga("tr",{style:[O?null:{display:"none"},p(u,d)],class:A,key:T(u,d),onDblclick:e=>r(e,u),onClick:e=>o(e,u),onContextmenu:e=>i(e,u),onMouseenter:()=>a(d),onMouseleave:s},I.value.map(((n,r)=>{const{rowspan:o,colspan:i}=_(u,n,d,r);if(!o||!i)return null;const a=Object.assign({},n);a.realWidth=E(I.value,i,r);const s={store:e.store,_self:e.context||t,column:a,row:u,$index:d,cellIndex:r,expanded:m};r===b.value&&h&&(s.treeNode={indent:h.level*R.value,level:h.level},Rp(h.expanded)&&(s.treeNode.expanded=h.expanded,"loading"in h&&(s.treeNode.loading=h.loading),"noLazyChildren"in h&&(s.treeNode.noLazyChildren=h.noLazyChildren)));const p=`${T(u,d)},${r}`,f=a.columnKey||a.rawColumnKey||"",C=n.showOverflowTooltip&&yp({effect:g},S,n.showOverflowTooltip);return ga(zM,{style:v(d,r,u,n),class:y(d,r,u,n,i-1),key:`${f}${p}`,rowspan:o,colspan:i,onMouseenter:e=>c(e,u,C),onMouseleave:l},{default:()=>w(r,n,s)})})))},w=(e,t,n)=>t.renderCell(n);return{wrappedRowRender:(r,o)=>{const i=e.store,{isRowExpanded:a,assertRowKey:s}=i,{treeData:c,lazyTreeNodeMap:l,childrenColumnName:u,rowKey:d}=i.states,h=i.states.columns.value;if(h.some((({type:e})=>"expand"===e))){const e=a(r),s=S(r,o,void 0,e),c=t.renderExpanded;return e?c?[[s,ga("tr",{key:`expanded-row__${s.key}`},[ga("td",{colspan:h.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[c({row:r,$index:o,store:i,expanded:e})])])]]:s:[[s]]}if(Object.keys(c.value).length){s();const e=sM(r,d.value);let t=c.value[e],n=null;t&&(n={expanded:t.expanded,level:t.level,display:!0},Rp(t.lazy)&&(Rp(t.loaded)&&t.loaded&&(n.noLazyChildren=!(t.children&&t.children.length)),n.loading=t.loading));const i=[S(r,o,n)];if(t){let n=0;const a=(e,r)=>{e&&e.length&&r&&e.forEach((e=>{const s={display:r.display&&r.expanded,level:r.level+1,expanded:!1,noLazyChildren:!1,loading:!1},h=sM(e,d.value);if(null==h)throw new Error("For nested data item, row-key is required.");if(t={...c.value[h]},t&&(s.expanded=t.expanded,t.level=t.level||s.level,t.display=!(!t.expanded||!s.display),Rp(t.lazy)&&(Rp(t.loaded)&&t.loaded&&(s.noLazyChildren=!(t.children&&t.children.length)),s.loading=t.loading)),n++,i.push(S(e,o+n,s)),t){const n=l.value[h]||e[u.value];a(n,t)}}))};t.display=!0;const s=l.value[e]||r[u.value];a(s,t)}return i}return S(r,o,void 0)},tooltipContent:u,tooltipTrigger:h}}var HM=Qn({name:"ElTableBody",props:{store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean},setup(e){const t=Qi(),n=To(MM),r=GS("table"),{wrappedRowRender:o,tooltipContent:i,tooltipTrigger:a}=FM(e),{onColumnsChange:s,onScrollableChange:c}=PM(n),l=[];return Zo(e.store.states.hoverRow,((n,o)=>{var i;const a=null==t?void 0:t.vnode.el,s=Array.from((null==a?void 0:a.children)||[]).filter((e=>null==e?void 0:e.classList.contains(`${r.e("row")}`)));let c=n;const u=null==(i=s[c])?void 0:i.childNodes;if(null==u?void 0:u.length){let e=0;Array.from(u).reduce(((t,n,r)=>{var o,i;return(null==(o=u[r])?void 0:o.colSpan)>1&&(e=null==(i=u[r])?void 0:i.colSpan),"TD"!==n.nodeName&&0===e&&t.push(r),e>0&&e--,t}),[]).forEach((e=>{var t;for(c=n;c>0;){const n=null==(t=s[c-1])?void 0:t.childNodes;if(n[e]&&"TD"===n[e].nodeName&&n[e].rowSpan>1){Hp(n[e],"hover-cell"),l.push(n[e]);break}c--}}))}else l.forEach((e=>Gp(e,"hover-cell"))),l.length=0;e.store.states.isComplex.value&&Oc&&kp((()=>{const e=s[o],t=s[n];e&&!e.classList.contains("hover-fixed-row")&&Gp(e,"hover-row"),t&&Hp(t,"hover-row")}))})),kr((()=>{var e;null==(e=fM)||e()})),{ns:r,onColumnsChange:s,onScrollableChange:c,wrappedRowRender:o,tooltipContent:i,tooltipTrigger:a}},render(){const{wrappedRowRender:e,store:t}=this;return ga("tbody",{tabIndex:-1},[(t.states.data.value||[]).reduce(((t,n)=>t.concat(e(n,t.length))),[])])}});function GM(e){const{columns:t}=function(){const e=To(MM),t=null==e?void 0:e.store;return{leftFixedLeafCount:ma((()=>t.states.fixedLeafColumnsLength.value)),rightFixedLeafCount:ma((()=>t.states.rightFixedColumns.value.length)),columnsCount:ma((()=>t.states.columns.value.length)),leftFixedCount:ma((()=>t.states.fixedColumns.value.length)),rightFixedCount:ma((()=>t.states.rightFixedColumns.value.length)),columns:t.states.columns}}(),n=GS("table");return{getCellClasses:(t,r)=>{const o=t[r],i=[n.e("cell"),o.id,o.align,o.labelClassName,...yM(n.b(),r,o.fixed,e.store)];return o.className&&i.push(o.className),o.children||i.push(n.is("leaf")),i},getCellStyles:(t,n)=>{const r=EM(n,t.fixed,e.store);return bM(r,"left"),bM(r,"right"),r},columns:t}}var WM=Qn({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:n,columns:r}=GM(e);return{ns:GS("table"),getCellClasses:t,getCellStyles:n,columns:r}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:o}=this,i=this.store.states.data.value;let a=[];return r?a=r({columns:e,data:i}):e.forEach(((e,t)=>{if(0===t)return void(a[t]=o);const n=i.map((t=>Number(t[e.property]))),r=[];let s=!0;n.forEach((e=>{if(!Number.isNaN(+e)){s=!1;const t=`${e}`.split(".")[1];r.push(t?t.length:0)}}));const c=Math.max.apply(null,r);a[t]=s?"":n.reduce(((e,t)=>{const n=Number(t);return Number.isNaN(+n)?e:Number.parseFloat((e+t).toFixed(Math.min(c,20)))}),0)})),ga(ga("tfoot",[ga("tr",{},[...e.map(((r,o)=>ga("td",{key:o,colspan:r.colSpan,rowspan:r.rowSpan,class:n(e,o),style:t(r,o)},[ga("div",{class:["cell",r.labelClassName]},[a[o]])])))])]))}});function qM(e,t,n,r){const o=Dt(!1),i=Dt(null),a=Dt(!1),s=Dt({width:null,height:null,headerHeight:null}),c=Dt(!1),l=Dt(),u=Dt(0),d=Dt(0),h=Dt(0),p=Dt(0),f=Dt(0);$o((()=>{t.setHeight(e.height)})),$o((()=>{t.setMaxHeight(e.maxHeight)})),Zo((()=>[e.currentRowKey,n.states.rowKey]),(([e,t])=>{Lt(t)&&Lt(e)&&n.setCurrentRowKey(`${e}`)}),{immediate:!0}),Zo((()=>e.data),(e=>{r.store.commit("setData",e)}),{immediate:!0,deep:!0}),$o((()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)}));const m=ma((()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0)),g=ma((()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""}))),v=()=>{m.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(_)};Ir((async()=>{await dn(),n.updateColumns(),E(),requestAnimationFrame(v);const t=r.vnode.el,o=r.refs.headerWrapper;e.flexible&&t&&t.parentElement&&(t.parentElement.style.minWidth="0"),s.value={width:l.value=t.offsetWidth,height:t.offsetHeight,headerHeight:e.showHeader&&o?o.offsetHeight:null},n.states.columns.value.forEach((e=>{e.filteredValue&&e.filteredValue.length&&r.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})})),r.$ready=!0}));const y=e=>{const{tableWrapper:n}=r.refs;((e,n)=>{if(!e)return;const r=Array.from(e.classList).filter((e=>!e.startsWith("is-scrolling-")));r.push(t.scrollX.value?n:"is-scrolling-none"),e.className=r.join(" ")})(n,e)},_=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const e="is-scrolling-none";return void((e=>{const{tableWrapper:t}=r.refs;return!(!t||!t.classList.contains(e))})(e)||y(e))}const e=r.refs.scrollBarRef.wrapRef;if(!e)return;const{scrollLeft:n,offsetWidth:o,scrollWidth:i}=e,{headerWrapper:a,footerWrapper:s}=r.refs;a&&(a.scrollLeft=n),s&&(s.scrollLeft=n);y(n>=i-o-1?"is-scrolling-right":0===n?"is-scrolling-left":"is-scrolling-middle")},E=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Hc(r.refs.scrollBarRef.wrapRef,"scroll",_,{passive:!0}),e.fit?Qc(r.vnode.el,b):Hc(window,"resize",b),Qc(r.refs.bodyWrapper,(()=>{var e,t;b(),null==(t=null==(e=r.refs)?void 0:e.scrollBarRef)||t.update()})))},b=()=>{var t,n,o,i;const a=r.vnode.el;if(!r.$ready||!a)return;let c=!1;const{width:g,height:y,headerHeight:_}=s.value,E=l.value=a.offsetWidth;g!==E&&(c=!0);const b=a.offsetHeight;(e.height||m.value)&&y!==b&&(c=!0);const T="fixed"===e.tableLayout?r.refs.headerWrapper:null==(t=r.refs.tableHeaderRef)?void 0:t.$el;e.showHeader&&(null==T?void 0:T.offsetHeight)!==_&&(c=!0),u.value=(null==(n=r.refs.tableWrapper)?void 0:n.scrollHeight)||0,h.value=(null==T?void 0:T.scrollHeight)||0,p.value=(null==(o=r.refs.footerWrapper)?void 0:o.offsetHeight)||0,f.value=(null==(i=r.refs.appendWrapper)?void 0:i.offsetHeight)||0,d.value=u.value-h.value-p.value-f.value,c&&(s.value={width:E,height:b,headerHeight:e.showHeader&&(null==T?void 0:T.offsetHeight)||0},v())},T=lR(),S=ma((()=>{const{bodyWidth:e,scrollY:n,gutterWidth:r}=t;return e.value?e.value-(n.value?r:0)+"px":""})),w=ma((()=>e.maxHeight?"fixed":e.tableLayout)),C=ma((()=>{if(e.data&&e.data.length)return null;let t="100%";e.height&&d.value&&(t=`${d.value}px`);const n=l.value;return{width:n?`${n}px`:"",height:t}})),R=ma((()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${h.value+p.value}px)`}:{maxHeight:e.maxHeight-h.value-p.value+"px"}:{}));return{isHidden:o,renderExpanded:i,setDragVisible:e=>{a.value=e},isGroup:c,handleMouseLeave:()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},handleHeaderFooterMousewheel:(e,t)=>{const{pixelX:n,pixelY:o}=t;Math.abs(n)>=Math.abs(o)&&(r.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},tableSize:T,emptyBlockStyle:C,handleFixedMousewheel:(e,t)=>{const n=r.refs.bodyWrapper;if(Math.abs(t.spinY)>0){const r=n.scrollTop;t.pixelY<0&&0!==r&&e.preventDefault(),t.pixelY>0&&n.scrollHeight-n.clientHeight>r&&e.preventDefault(),n.scrollTop+=Math.ceil(t.pixelY/5)}else n.scrollLeft+=Math.ceil(t.pixelX/5)},resizeProxyVisible:a,bodyWidth:S,resizeState:s,doLayout:v,tableBodyStyles:g,tableLayout:w,scrollbarViewStyle:{display:"inline-block",verticalAlign:"middle"},scrollbarStyle:R}}function KM(e){const t=Dt();Ir((()=>{(()=>{const n=e.vnode.el.querySelector(".hidden-columns"),r=e.store.states.updateOrderFns;t.value=new MutationObserver((()=>{r.forEach((e=>e()))})),t.value.observe(n,{childList:!0,subtree:!0})})()})),kr((()=>{var e;null==(e=t.value)||e.disconnect()}))}var YM={data:{type:Array,default:()=>[]},size:UC,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function XM(e){const t="auto"===e.tableLayout;let n=e.columns||[];t&&n.every((e=>void 0===e.width))&&(n=[]);return ga("colgroup",{},n.map((n=>ga("col",(n=>{const r={key:`${e.tableLayout}_${n.id}`,style:{},name:void 0};return t?r.style={width:`${n.width}px`}:r.name=n.id,r})(n)))))}XM.props=["columns","tableLayout"];let $M=1;const JM=Qn({name:"ElTable",directives:{Mousewheel:yN},components:{TableHeader:jM,TableBody:HM,TableFooter:WM,ElScrollbar:yI,hColgroup:XM},props:YM,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t:t}=VS(),n=GS("table"),r=Qi();bo(MM,r);const o=IM(r,e);r.store=o;const i=new NM({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=i;const a=ma((()=>0===(o.states.data.value||[]).length)),{setCurrentRow:s,getSelectionRows:c,toggleRowSelection:l,clearSelection:u,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:p,clearSort:f,sort:m,updateKeyChildren:g}=function(e){return{setCurrentRow:t=>{e.commit("setCurrentRow",t)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(t,n,r=!0)=>{e.toggleRowSelection(t,n,!1,r),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:t=>{e.clearFilter(t)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(t,n)=>{e.toggleRowExpansionAdapter(t,n)},clearSort:()=>{e.clearSort()},sort:(t,n)=>{e.commit("sort",{prop:t,order:n})},updateKeyChildren:(t,n)=>{e.updateKeyChildren(t,n)}}}(o),{isHidden:v,renderExpanded:y,setDragVisible:_,isGroup:E,handleMouseLeave:b,handleHeaderFooterMousewheel:T,tableSize:S,emptyBlockStyle:w,handleFixedMousewheel:C,resizeProxyVisible:R,bodyWidth:I,resizeState:A,doLayout:O,tableBodyStyles:N,tableLayout:k,scrollbarViewStyle:D,scrollbarStyle:x}=qM(e,i,o,r),{scrollBarRef:P,scrollTo:M,setScrollLeft:L,setScrollTop:U}=(()=>{const e=Dt(),t=(t,n)=>{const r=e.value;r&&Ip(n)&&["Top","Left"].includes(t)&&r[`setScroll${t}`](n)};return{scrollBarRef:e,scrollTo:(t,n)=>{const r=e.value;r&&r.scrollTo(t,n)},setScrollTop:e=>t("Top",e),setScrollLeft:e=>t("Left",e)}})(),j=op(O,50),V=`${n.namespace.value}-table_${$M++}`;r.tableId=V,r.state={isGroup:E,resizeState:A,doLayout:O,debouncedUpdateLayout:j};const B=ma((()=>{var n;return null!=(n=e.sumText)?n:t("el.table.sumText")})),z=ma((()=>{var n;return null!=(n=e.emptyText)?n:t("el.table.emptyText")})),F=ma((()=>UM(o.states.originColumns.value)[0]));return KM(r),Nr((()=>{j.cancel()})),{ns:n,layout:i,store:o,columns:F,handleHeaderFooterMousewheel:T,handleMouseLeave:b,tableId:V,tableSize:S,isHidden:v,isEmpty:a,renderExpanded:y,resizeProxyVisible:R,resizeState:A,isGroup:E,bodyWidth:I,tableBodyStyles:N,emptyBlockStyle:w,debouncedUpdateLayout:j,handleFixedMousewheel:C,setCurrentRow:s,getSelectionRows:c,toggleRowSelection:l,clearSelection:u,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:p,clearSort:f,doLayout:O,sort:m,updateKeyChildren:g,t:t,setDragVisible:_,context:r,computedSumText:B,computedEmptyText:z,tableLayout:k,scrollbarViewStyle:D,scrollbarStyle:x,scrollBarRef:P,scrollTo:M,setScrollLeft:L,setScrollTop:U}}});var ZM=oR(JM,[["render",function(e,t,n,r,o,i){const a=Ur("hColgroup"),s=Ur("table-header"),c=Ur("table-body"),l=Ur("table-footer"),u=Ur("el-scrollbar"),d=Br("mousewheel");return Ri(),ki("div",{ref:"tableWrapper",class:q([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:0!==(e.store.states.data.value||[]).length&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:z(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[Ui("div",{class:q(e.ns.e("inner-wrapper"))},[Ui("div",{ref:"hiddenColumns",class:"hidden-columns"},[Wr(e.$slots,"default")],512),e.showHeader&&"fixed"===e.tableLayout?Cn((Ri(),ki("div",{key:0,ref:"headerWrapper",class:q(e.ns.e("header-wrapper"))},[Ui("table",{ref:"tableHeader",class:q(e.ns.e("header")),style:z(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ji(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ji(s,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[d,e.handleHeaderFooterMousewheel]]):Hi("v-if",!0),Ui("div",{ref:"bodyWrapper",class:q(e.ns.e("body-wrapper"))},[ji(u,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex},{default:wn((()=>[Ui("table",{ref:"tableBody",class:q(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:z({width:e.bodyWidth,tableLayout:e.tableLayout})},[ji(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&"auto"===e.tableLayout?(Ri(),Di(s,{key:0,ref:"tableHeaderRef",class:q(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Hi("v-if",!0),ji(c,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&"auto"===e.tableLayout?(Ri(),Di(l,{key:1,class:q(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Hi("v-if",!0)],6),e.isEmpty?(Ri(),ki("div",{key:0,ref:"emptyBlock",style:z(e.emptyBlockStyle),class:q(e.ns.e("empty-block"))},[Ui("span",{class:q(e.ns.e("empty-text"))},[Wr(e.$slots,"empty",{},(()=>[zi(ee(e.computedEmptyText),1)]))],2)],6)):Hi("v-if",!0),e.$slots.append?(Ri(),ki("div",{key:1,ref:"appendWrapper",class:q(e.ns.e("append-wrapper"))},[Wr(e.$slots,"append")],2)):Hi("v-if",!0)])),_:3},8,["view-style","wrap-style","always","tabindex"])],2),e.showSummary&&"fixed"===e.tableLayout?Cn((Ri(),ki("div",{key:1,ref:"footerWrapper",class:q(e.ns.e("footer-wrapper"))},[Ui("table",{class:q(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:z(e.tableBodyStyles)},[ji(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ji(l,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Za,!e.isEmpty],[d,e.handleHeaderFooterMousewheel]]):Hi("v-if",!0),e.border||e.isGroup?(Ri(),ki("div",{key:2,class:q(e.ns.e("border-left-patch"))},null,2)):Hi("v-if",!0)],2),Cn(Ui("div",{ref:"resizeProxy",class:q(e.ns.e("column-resize-proxy"))},null,2),[[Za,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}],["__file","table.vue"]]);const QM={selection:"table-column--selection",expand:"table__expand-column"},eL={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},tL={selection:{renderHeader:({store:e,column:t})=>ga(UN,{disabled:e.states.data.value&&0===e.states.data.value.length,size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label}),renderCell:({row:e,column:t,store:n,$index:r})=>ga(UN,{disabled:!!t.selectable&&!t.selectable.call(null,e,r),size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:e=>e.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:t.label}),sortable:!1,resizable:!1},index:{renderHeader:({column:e})=>e.label||"#",renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return Ip(r)?n=t+r:m(r)&&(n=r(t)),ga("div",{},[n])},sortable:!1},expand:{renderHeader:({column:e})=>e.label||"",renderCell({row:e,store:t,expanded:n}){const{ns:r}=t,o=[r.e("expand-icon")];n&&o.push(r.em("expand-icon","expanded"));return ga("div",{class:o,onClick:function(n){n.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[ga(aR,null,{default:()=>[ga(vf)]})]})},sortable:!1,resizable:!1}};function nL({row:e,column:t,$index:n}){var r;const o=t.property,i=o&&Up(e,o).value;return t&&t.formatter?t.formatter(e,t,i,n):(null==(r=null==i?void 0:i.toString)?void 0:r.call(i))||""}function rL(e,t){return e.reduce(((e,t)=>(e[t]=t,e)),t)}function oL(e,t,n){const r=Qi(),o=Dt(""),i=Dt(!1),a=Dt(),s=Dt(),c=GS("table");$o((()=>{a.value=e.align?`is-${e.align}`:null,a.value})),$o((()=>{s.value=e.headerAlign?`is-${e.headerAlign}`:a.value,s.value}));const l=ma((()=>{let e=r.vnode.vParent||r.parent;for(;e&&!e.tableId&&!e.columnId;)e=e.vnode.vParent||e.parent;return e})),u=ma((()=>{const{store:e}=r.parent;if(!e)return!1;const{treeData:t}=e.states,n=t.value;return n&&Object.keys(n).length>0})),h=Dt(lM(e.width)),p=Dt(uM(e.minWidth));return{columnId:o,realAlign:a,isSubColumn:i,realHeaderAlign:s,columnOrTableParent:l,setColumnWidth:e=>(h.value&&(e.width=h.value),p.value&&(e.minWidth=p.value),!h.value&&p.value&&(e.width=void 0),e.minWidth||(e.minWidth=80),e.realWidth=Number(void 0===e.width?e.minWidth:e.width),e),setColumnForcedProps:e=>{const t=e.type,n=tL[t]||{};Object.keys(n).forEach((t=>{const r=n[t];"className"!==t&&void 0!==r&&(e[t]=r)}));const r=(e=>QM[e]||"")(t);if(r){const t=`${Lt(c.namespace)}-${r}`;e.className=e.className?`${e.className} ${t}`:t}return e},setColumnRenders:o=>{e.renderHeader||"selection"!==o.type&&(o.renderHeader=e=>(r.columnConfig.value.label,Wr(t,"header",e,(()=>[o.label])))),t["filter-icon"]&&(o.renderFilterIcon=e=>Wr(t,"filter-icon",e));let i=o.renderCell;return"expand"===o.type?(o.renderCell=e=>ga("div",{class:"cell"},[i(e)]),n.value.renderExpanded=e=>t.default?t.default(e):t.default):(i=i||nL,o.renderCell=e=>{let a=null;if(t.default){const n=t.default(e);a=n.some((e=>e.type!==Ti))?n:i(e)}else a=i(e);const{columns:s}=n.value.store.states,l=s.value.findIndex((e=>"default"===e.type)),h=function({row:e,treeNode:t,store:n},r=!1){const{ns:o}=n;if(!t)return r?[ga("span",{class:o.e("placeholder")})]:null;const i=[],a=function(r){r.stopPropagation(),t.loading||n.loadOrToggle(e)};if(t.indent&&i.push(ga("span",{class:o.e("indent"),style:{"padding-left":`${t.indent}px`}})),Rp(t.expanded)&&!t.noLazyChildren){const e=[o.e("expand-icon"),t.expanded?o.em("expand-icon","expanded"):""];let n=vf;t.loading&&(n=A_),i.push(ga("div",{class:e,onClick:a},{default:()=>[ga(aR,{class:{[o.is("loading")]:t.loading}},{default:()=>[ga(n)]})]}))}else i.push(ga("span",{class:o.e("placeholder")}));return i}(e,u.value&&e.cellIndex===l),p={class:"cell",style:{}};return o.showOverflowTooltip&&(p.class=`${p.class} ${Lt(c.namespace)}-tooltip`,p.style={width:(e.column.realWidth||Number(e.column.width))-1+"px"}),(e=>{function t(e){var t;"ElTableColumn"===(null==(t=null==e?void 0:e.type)?void 0:t.name)&&(e.vParent=r)}d(e)?e.forEach((e=>t(e))):t(e)})(a),ga("div",p,[h,a])}),o},getPropsData:(...t)=>t.reduce(((t,n)=>(d(n)&&n.forEach((n=>{t[n]=e[n]})),t)),{}),getColumnElIndex:(e,t)=>Array.prototype.indexOf.call(e,t),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var iL={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every((e=>["ascending","descending",null].includes(e)))}};let aL=1;var sL=Qn({name:"ElTableColumn",components:{ElCheckbox:UN},props:iL,setup(e,{slots:t}){const n=Qi(),r=Dt({}),o=ma((()=>{let e=n.parent;for(;e&&!e.tableId;)e=e.parent;return e})),{registerNormalWatchers:i,registerComplexWatchers:a}=function(e,t){const n=Qi();return{registerComplexWatchers:()=>{const r={realWidth:"width",realMinWidth:"minWidth"},o=rL(["fixed"],r);Object.keys(o).forEach((o=>{const i=r[o];u(t,i)&&Zo((()=>t[i]),(t=>{let r=t;"width"===i&&"realWidth"===o&&(r=lM(t)),"minWidth"===i&&"realMinWidth"===o&&(r=uM(t)),n.columnConfig.value[i]=r,n.columnConfig.value[o]=r;const a="fixed"===i;e.value.store.scheduleLayout(a)}))}))},registerNormalWatchers:()=>{const e={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},r=rL(["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],e);Object.keys(r).forEach((r=>{const o=e[r];u(t,o)&&Zo((()=>t[o]),(e=>{n.columnConfig.value[r]=e}))}))}}}(o,e),{columnId:s,isSubColumn:c,realHeaderAlign:l,columnOrTableParent:d,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:f,getPropsData:m,getColumnElIndex:g,realAlign:v,updateColumnOrder:y}=oL(e,t,o),_=d.value;s.value=`${_.tableId||_.columnId}_column_${aL++}`,Rr((()=>{c.value=o.value!==_;const t=e.type||"default",d=""===e.sortable||e.sortable,g=Cp(e.showOverflowTooltip)?_.props.showOverflowTooltip:e.showOverflowTooltip,y={...eL[t],id:s.value,type:t,property:e.prop||e.property,align:v,headerAlign:l,showOverflowTooltip:g,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:d,index:e.index,rawColumnKey:n.vnode.key};let E=m(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);E=function(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(u(t,r)){const e=t[r];void 0!==e&&(n[r]=e)}return n}(y,E);E=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}(f,h,p)(E),r.value=E,i(),a()})),Ir((()=>{var e;const t=d.value,i=c.value?t.vnode.el.children:null==(e=t.refs.hiddenColumns)?void 0:e.children,a=()=>g(i||[],n.vnode.el);r.value.getColumnIndex=a;a()>-1&&o.value.store.commit("insertColumn",r.value,c.value?t.columnConfig.value:null,y)})),Nr((()=>{const e=r.value.getColumnIndex;(e?e():-1)>-1&&o.value.store.commit("removeColumn",r.value,c.value?_.columnConfig.value:null,y)})),n.columnId=s.value,n.columnConfig=r},render(){var e,t,n;try{const r=null==(t=(e=this.$slots).default)?void 0:t.call(e,{row:{},column:{},$index:-1}),o=[];if(d(r))for(const e of r)"ElTableColumn"===(null==(n=e.type)?void 0:n.name)||2&e.shapeFlag?o.push(e):e.type===Ei&&d(e.children)&&e.children.forEach((e=>{1024===(null==e?void 0:e.patchFlag)||g(null==e?void 0:e.children)||o.push(e)}));return ga("div",o)}catch(kk){return ga("div",[])}}});const cL=lS(ZM,{TableColumn:sL}),lL=dS(sL);function uL(e){let t;const n=Dt(!1),r=yt({...e,originalPosition:"",originalOverflow:"",visible:!1});function o(){var e,t;null==(t=null==(e=s.$el)?void 0:e.parentNode)||t.removeChild(s.$el)}function i(){if(!n.value)return;const e=r.parent;n.value=!1,e.vLoadingAddClassList=void 0,function(){const e=r.parent,t=s.ns;if(!e.vLoadingAddClassList){let n=e.getAttribute("loading-number");n=Number.parseInt(n)-1,n?e.setAttribute("loading-number",n.toString()):(Gp(e,t.bm("parent","relative")),e.removeAttribute("loading-number")),Gp(e,t.bm("parent","hidden"))}o(),a.unmount()}()}const a=ac(Qn({name:"ElLoading",setup(e,{expose:t}){const{ns:n,zIndex:o}=ZC("loading");return t({ns:n,zIndex:o}),()=>{const e=r.spinner||r.svg,t=ga("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...e?{innerHTML:e}:{}},[ga("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),o=r.text?ga("p",{class:n.b("text")},[r.text]):void 0;return ga(La,{name:n.b("fade"),onAfterLeave:i},{default:wn((()=>[Cn(ji("div",{style:{backgroundColor:r.background||""},class:[n.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[ga("div",{class:n.b("spinner")},[t,o])]),[[Za,r.visible]])]))})}}})),s=a.mount(document.createElement("div"));return{...zt(r),setText:function(e){r.text=e},removeElLoadingChild:o,close:function(){var o;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=setTimeout(i,400),r.visible=!1,null==(o=e.closed)||o.call(e))},handleAfterLeave:i,vm:s,get $el(){return s.$el}}}let dL;const hL=function(e={}){if(!Oc)return;const t=pL(e);if(t.fullscreen&&dL)return dL;const n=uL({...t,closed:()=>{var e;null==(e=t.closed)||e.call(t),t.fullscreen&&(dL=void 0)}});fL(t,t.parent,n),mL(t,t.parent,n),t.parent.vLoadingAddClassList=()=>mL(t,t.parent,n);let r=t.parent.getAttribute("loading-number");return r=r?`${Number.parseInt(r)+1}`:"1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(n.$el),dn((()=>n.visible.value=t.visible)),t.fullscreen&&(dL=n),n},pL=e=>{var t,n,r,o;let i;return i=g(e.target)?null!=(t=document.querySelector(e.target))?t:document.body:e.target||document.body,{parent:i===document.body||e.body?document.body:i,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:i===document.body&&(null==(n=e.fullscreen)||n),lock:null!=(r=e.lock)&&r,customClass:e.customClass||"",visible:null==(o=e.visible)||o,beforeClose:e.beforeClose,closed:e.closed,target:i}},fL=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,o={};if(e.fullscreen)n.originalPosition.value=Wp(document.body,"position"),n.originalOverflow.value=Wp(document.body,"overflow"),o.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=Wp(document.body,"position"),await dn();for(const t of["top","left"]){const n="top"===t?"scrollTop":"scrollLeft";o[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt(Wp(document.body,`margin-${t}`),10)+"px"}for(const t of["height","width"])o[t]=`${e.target.getBoundingClientRect()[t]}px`}else n.originalPosition.value=Wp(t,"position");for(const[i,a]of Object.entries(o))n.$el.style[i]=a},mL=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Gp(t,r.bm("parent","relative")):Hp(t,r.bm("parent","relative")),e.fullscreen&&e.lock?Hp(t,r.bm("parent","hidden")):Gp(t,r.bm("parent","hidden"))},gL=Symbol("ElLoading"),vL=(e,t)=>{var n,r,o,i;const a=t.instance,s=e=>y(t.value)?t.value[e]:void 0,c=t=>(e=>{const t=g(e)&&(null==a?void 0:a[e])||e;return t?Dt(t):t})(s(t)||e.getAttribute(`element-loading-${N(t)}`)),l=null!=(n=s("fullscreen"))?n:t.modifiers.fullscreen,u={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:l,target:null!=(r=s("target"))?r:l?void 0:e,body:null!=(o=s("body"))?o:t.modifiers.body,lock:null!=(i=s("lock"))?i:t.modifiers.lock};e[gL]={options:u,instance:hL(u)}},yL={mounted(e,t){t.value&&vL(e,t)},updated(e,t){const n=e[gL];t.oldValue!==t.value&&(t.value&&!t.oldValue?vL(e,t):t.value&&t.oldValue?y(t.value)&&((e,t)=>{for(const n of Object.keys(t))kt(t[n])&&(t[n].value=e[n])})(t.value,n.options):null==n||n.instance.close())},unmounted(e){var t;null==(t=e[gL])||t.instance.close(),e[gL]=null}},_L={install(e){e.directive("loading",yL),e.config.globalProperties.$loading=hL},directive:yL,service:hL},EL=["success","info","warning","error"],bL={customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Oc?document.body:void 0},TL=rS({customClass:{type:String,default:bL.customClass},center:{type:Boolean,default:bL.center},dangerouslyUseHTMLString:{type:Boolean,default:bL.dangerouslyUseHTMLString},duration:{type:Number,default:bL.duration},icon:{type:oS,default:bL.icon},id:{type:String,default:bL.id},message:{type:[String,Object,Function],default:bL.message},onClose:{type:Function,default:bL.onClose},showClose:{type:Boolean,default:bL.showClose},type:{type:String,values:EL,default:bL.type},plain:{type:Boolean,default:bL.plain},offset:{type:Number,default:bL.offset},zIndex:{type:Number,default:bL.zIndex},grouping:{type:Boolean,default:bL.grouping},repeatNum:{type:Number,default:bL.repeatNum}}),SL={destroy:()=>!0},wL=_t([]),CL=e=>{const{prev:t}=(e=>{const t=wL.findIndex((t=>t.id===e)),n=wL[t];let r;return t>0&&(r=wL[t-1]),{current:n,prev:r}})(e);return t?t.vm.exposed.bottom.value:0};var RL=oR(Qn({...Qn({name:"ElMessage"}),props:TL,emits:SL,setup(e,{expose:t}){const n=e,{Close:r}=aS,{ns:o,zIndex:i}=ZC("message"),{currentZIndex:a,nextZIndex:s}=i,c=Dt(),l=Dt(!1),u=Dt(0);let d;const h=ma((()=>n.type?"error"===n.type?"danger":n.type:"info")),p=ma((()=>{const e=n.type;return{[o.bm("icon",e)]:e&&sS[e]}})),f=ma((()=>n.icon||sS[n.type]||"")),m=ma((()=>CL(n.id))),g=ma((()=>((e,t)=>wL.findIndex((t=>t.id===e))>0?16:t)(n.id,n.offset)+m.value)),v=ma((()=>u.value+g.value)),y=ma((()=>({top:`${g.value}px`,zIndex:a.value})));function _(){0!==n.duration&&({stop:d}=Vc((()=>{b()}),n.duration))}function E(){null==d||d()}function b(){l.value=!1}return Ir((()=>{_(),s(),l.value=!0})),Zo((()=>n.repeatNum),(()=>{E(),_()})),Hc(document,"keydown",(function({code:e}){e===pS.esc&&b()})),Qc(c,(()=>{u.value=c.value.getBoundingClientRect().height})),t({visible:l,bottom:v,close:b}),(e,t)=>(Ri(),Di(La,{name:Lt(o).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t=>e.$emit("destroy"),persisted:""},{default:wn((()=>[Cn(Ui("div",{id:e.id,ref_key:"messageRef",ref:c,class:q([Lt(o).b(),{[Lt(o).m(e.type)]:e.type},Lt(o).is("center",e.center),Lt(o).is("closable",e.showClose),Lt(o).is("plain",e.plain),e.customClass]),style:z(Lt(y)),role:"alert",onMouseenter:E,onMouseleave:_},[e.repeatNum>1?(Ri(),Di(Lt(IA),{key:0,value:e.repeatNum,type:Lt(h),class:q(Lt(o).e("badge"))},null,8,["value","type","class"])):Hi("v-if",!0),Lt(f)?(Ri(),Di(Lt(aR),{key:1,class:q([Lt(o).e("icon"),Lt(p)])},{default:wn((()=>[(Ri(),Di(Vr(Lt(f))))])),_:1},8,["class"])):Hi("v-if",!0),Wr(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(Ri(),ki(Ei,{key:1},[Hi(" Caution here, message could've been compromised, never use user's input as message "),Ui("p",{class:q(Lt(o).e("content")),innerHTML:e.message},null,10,["innerHTML"])],2112)):(Ri(),ki("p",{key:0,class:q(Lt(o).e("content"))},ee(e.message),3))])),e.showClose?(Ri(),Di(Lt(aR),{key:2,class:q(Lt(o).e("closeBtn")),onClick:Js(b,["stop"])},{default:wn((()=>[ji(Lt(r))])),_:1},8,["class","onClick"])):Hi("v-if",!0)],46,["id"]),[[Za,l.value]])])),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}}),[["__file","message.vue"]]);let IL=1;const AL=e=>{const t=!e||g(e)||xi(e)||m(e)?{message:e}:e,n={...bL,...t};if(n.appendTo){if(g(n.appendTo)){let e=document.querySelector(n.appendTo);Op(e)||(e=document.body),n.appendTo=e}}else n.appendTo=document.body;return Rp(nR.grouping)&&!n.grouping&&(n.grouping=nR.grouping),Ip(nR.duration)&&3e3===n.duration&&(n.duration=nR.duration),Ip(nR.offset)&&16===n.offset&&(n.offset=nR.offset),Rp(nR.showClose)&&!n.showClose&&(n.showClose=nR.showClose),n},OL=({appendTo:e,...t},n)=>{const r="message_"+IL++,o=t.onClose,i=document.createElement("div"),a={...t,id:r,onClose:()=>{null==o||o(),(e=>{const t=wL.indexOf(e);if(-1===t)return;wL.splice(t,1);const{handler:n}=e;n.close()})(u)},onDestroy:()=>{ic(null,i)}},s=ji(RL,a,m(a.message)||xi(a.message)?{default:m(a.message)?a.message:()=>a.message}:null);s.appContext=n||NL._context,ic(s,i),e.appendChild(i.firstElementChild);const c=s.component,l={close:()=>{c.exposed.visible.value=!1}},u={id:r,vnode:s,vm:c,handler:l,props:s.component.props};return u},NL=(e={},t)=>{if(!Oc)return{close:()=>{}};const n=AL(e);if(n.grouping&&wL.length){const e=wL.find((({vnode:e})=>{var t;return(null==(t=e.props)?void 0:t.message)===n.message}));if(e)return e.props.repeatNum+=1,e.props.type=n.type,e.handler}if(Ip(nR.max)&&wL.length>=nR.max)return{close:()=>{}};const r=OL(n,t);return wL.push(r),r.handler};EL.forEach((e=>{NL[e]=(t={},n)=>{const r=AL(t);return NL({...r,type:e},n)}})),NL.closeAll=function(e){for(const t of wL)e&&e!==t.props.type||t.handler.close()},NL._context=null;const kL=uS(NL,"$message"),DL=Qn({name:"ElMessageBox",directives:{TrapFocus:qO},components:{ElButton:nO,ElFocusTrap:ZI,ElInput:sI,ElOverlay:kD,ElIcon:aR,...aS},inheritAttrs:!1,props:{buttonSize:{type:String,validator:ES},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:o,size:i}=ZC("message-box",ma((()=>e.buttonSize))),{t:a}=n,{nextZIndex:s}=r,c=Dt(!1),l=yt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:At(A_),cancelButtonLoadingIcon:At(A_),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:s()}),u=ma((()=>{const e=l.type;return{[o.bm("icon",e)]:e&&sS[e]}})),d=_C(),h=_C(),p=ma((()=>l.icon||sS[l.type]||"")),f=ma((()=>!!l.message)),v=Dt(),y=Dt(),_=Dt(),E=Dt(),b=Dt(),T=ma((()=>l.confirmButtonClass));Zo((()=>l.inputValue),(async t=>{await dn(),"prompt"===e.boxType&&null!==t&&O()}),{immediate:!0}),Zo((()=>c.value),(t=>{var n,r;t&&("prompt"!==e.boxType&&(l.autofocus?_.value=null!=(r=null==(n=b.value)?void 0:n.$el)?r:v.value:_.value=v.value),l.zIndex=s()),"prompt"===e.boxType&&(t?dn().then((()=>{var e;E.value&&E.value.$el&&(l.autofocus?_.value=null!=(e=N())?e:v.value:_.value=v.value)})):(l.editorErrorMessage="",l.validateError=!1))}));const S=ma((()=>e.draggable)),w=ma((()=>e.overflow));function C(){c.value&&(c.value=!1,dn((()=>{l.action&&t("action",l.action)})))}xS(v,y,S,w),Ir((async()=>{await dn(),e.closeOnHashChange&&window.addEventListener("hashchange",C)})),Nr((()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",C)}));const R=()=>{e.closeOnClickModal&&A(l.distinguishCancelAndClose?"close":"cancel")},I=fC(R),A=t=>{var n;("prompt"!==e.boxType||"confirm"!==t||O())&&(l.action=t,l.beforeClose?null==(n=l.beforeClose)||n.call(l,t,l,C):C())},O=()=>{if("prompt"===e.boxType){const e=l.inputPattern;if(e&&!e.test(l.inputValue||""))return l.editorErrorMessage=l.inputErrorMessage||a("el.messagebox.error"),l.validateError=!0,!1;const t=l.inputValidator;if(m(t)){const e=t(l.inputValue);if(!1===e)return l.editorErrorMessage=l.inputErrorMessage||a("el.messagebox.error"),l.validateError=!0,!1;if(g(e))return l.editorErrorMessage=e,l.validateError=!0,!1}}return l.editorErrorMessage="",l.validateError=!1,!0},N=()=>{const e=E.value.$refs;return e.input||e.textarea},k=()=>{A("close")};return e.lockScroll&&WS(c),{...zt(l),ns:o,overlayEvent:I,visible:c,hasMessage:f,typeClass:u,contentId:d,inputId:h,btnSize:i,iconComponent:p,confirmButtonClasses:T,rootRef:v,focusStartRef:_,headerRef:y,inputRef:E,confirmRef:b,doClose:C,handleClose:k,onCloseRequested:()=>{e.closeOnPressEscape&&k()},handleWrapperClick:R,handleInputEnter:e=>{if("textarea"!==l.inputType)return e.preventDefault(),A("confirm")},handleAction:A,t:a}}});var xL=oR(DL,[["render",function(e,t,n,r,o,i){const a=Ur("el-icon"),s=Ur("close"),c=Ur("el-input"),l=Ur("el-button"),u=Ur("el-focus-trap"),d=Ur("el-overlay");return Ri(),Di(La,{name:"fade-in-linear",onAfterLeave:t=>e.$emit("vanish"),persisted:""},{default:wn((()=>[Cn(ji(d,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:wn((()=>[Ui("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:q(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[ji(u,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:wn((()=>[Ui("div",{ref:"rootRef",class:q([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:z(e.customStyle),tabindex:"-1",onClick:Js((()=>{}),["stop"])},[null!==e.title&&void 0!==e.title?(Ri(),ki("div",{key:0,ref:"headerRef",class:q([e.ns.e("header"),{"show-close":e.showClose}])},[Ui("div",{class:q(e.ns.e("title"))},[e.iconComponent&&e.center?(Ri(),Di(a,{key:0,class:q([e.ns.e("status"),e.typeClass])},{default:wn((()=>[(Ri(),Di(Vr(e.iconComponent)))])),_:1},8,["class"])):Hi("v-if",!0),Ui("span",null,ee(e.title),1)],2),e.showClose?(Ri(),ki("button",{key:0,type:"button",class:q(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:Qs(Js((t=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),["prevent"]),["enter"])},[ji(a,{class:q(e.ns.e("close"))},{default:wn((()=>[ji(s)])),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Hi("v-if",!0)],2)):Hi("v-if",!0),Ui("div",{id:e.contentId,class:q(e.ns.e("content"))},[Ui("div",{class:q(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(Ri(),Di(a,{key:0,class:q([e.ns.e("status"),e.typeClass])},{default:wn((()=>[(Ri(),Di(Vr(e.iconComponent)))])),_:1},8,["class"])):Hi("v-if",!0),e.hasMessage?(Ri(),ki("div",{key:1,class:q(e.ns.e("message"))},[Wr(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(Ri(),Di(Vr(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(Ri(),Di(Vr(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:wn((()=>[zi(ee(e.dangerouslyUseHTMLString?"":e.message),1)])),_:1},8,["for"]))]))],2)):Hi("v-if",!0)],2),Cn(Ui("div",{class:q(e.ns.e("input"))},[ji(c,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t=>e.inputValue=t,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:q({invalid:e.validateError}),onKeydown:Qs(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Ui("div",{class:q(e.ns.e("errormsg")),style:z({visibility:e.editorErrorMessage?"visible":"hidden"})},ee(e.editorErrorMessage),7)],2),[[Za,e.showInput]])],10,["id"]),Ui("div",{class:q(e.ns.e("btns"))},[e.showCancelButton?(Ri(),Di(l,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:q([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t=>e.handleAction("cancel"),onKeydown:Qs(Js((t=>e.handleAction("cancel")),["prevent"]),["enter"])},{default:wn((()=>[zi(ee(e.cancelButtonText||e.t("el.messagebox.cancel")),1)])),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Hi("v-if",!0),Cn(ji(l,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:q([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t=>e.handleAction("confirm"),onKeydown:Qs(Js((t=>e.handleAction("confirm")),["prevent"]),["enter"])},{default:wn((()=>[zi(ee(e.confirmButtonText||e.t("el.messagebox.confirm")),1)])),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[Za,e.showConfirmButton]])],2)],14,["onClick"])])),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])])),_:3},8,["z-index","overlay-class","mask"]),[[Za,e.visible]])])),_:3},8,["onAfterLeave"])}],["__file","index.vue"]]);const PL=new Map,ML=(e,t,n=null)=>{const r=ji(xL,e,m(e.message)||xi(e.message)?{default:m(e.message)?e.message:()=>e.message}:null);return r.appContext=n,ic(r,t),(e=>{let t=document.body;return e.appendTo&&(g(e.appendTo)&&(t=document.querySelector(e.appendTo)),Op(e.appendTo)&&(t=e.appendTo),Op(t)||(t=document.body)),t})(e).appendChild(t.firstElementChild),r.component},LL=(e,t)=>{const n=document.createElement("div");e.onVanish=()=>{ic(null,n),PL.delete(o)},e.onAction=t=>{const n=PL.get(o);let i;i=e.showInput?{value:o.inputValue,action:t}:t,e.callback?e.callback(i,r.proxy):"cancel"===t||"close"===t?e.distinguishCancelAndClose&&"cancel"!==t?n.reject("close"):n.reject("cancel"):n.resolve(i)};const r=ML(e,n,t),o=r.proxy;for(const i in e)u(e,i)&&!u(o.$props,i)&&(o[i]=e[i]);return o.visible=!0,o};function UL(e,t=null){if(!Oc)return Promise.reject();let n;return g(e)||xi(e)?e={message:e}:n=e.callback,new Promise(((r,o)=>{const i=LL(e,null!=t?t:UL._context);PL.set(i,{options:e,callback:n,resolve:r,reject:o})}))}const jL={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};["alert","confirm","prompt"].forEach((e=>{UL[e]=function(e){return(t,n,r,o)=>{let i="";return y(n)?(r=n,i=""):i=Cp(n)?"":n,UL(Object.assign({title:i,message:t,type:"",...jL[e]},r,{boxType:e}),o)}}(e)})),UL.close=()=>{PL.forEach(((e,t)=>{t.doClose()})),PL.clear()},UL._context=null;const VL=UL;VL.install=e=>{VL._context=e._context,e.config.globalProperties.$msgbox=VL,e.config.globalProperties.$messageBox=VL,e.config.globalProperties.$alert=VL.alert,e.config.globalProperties.$confirm=VL.confirm,e.config.globalProperties.$prompt=VL.prompt};const BL=VL;
/*! Element Plus v2.8.8 */var zL={name:"zh-cn",el:{breadcrumb:{label:""},colorpicker:{confirm:"",clear:"",defaultLabel:"",description:" {color} Enter ",alphaLabel:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"",dateTablePrompt:" Enter ",monthTablePrompt:" Enter ",yearTablePrompt:" Enter ",selectedDate:"",selectDate:"",selectTime:"",startDate:"",startTime:"",endDate:"",endTime:"",prevYear:"",nextYear:"",prevMonth:"",nextMonth:"",year:"",month1:"1 ",month2:"2 ",month3:"3 ",month4:"4 ",month5:"5 ",month6:"6 ",month7:"7 ",month8:"8 ",month9:"9 ",month10:"10 ",month11:"11 ",month12:"12 ",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},weeksFull:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},inputNumber:{decrease:"",increase:""},select:{loading:"",noMatch:"",noData:"",placeholder:""},dropdown:{toggleDropdown:""},mention:{loading:""},cascader:{noMatch:"",loading:"",placeholder:"",noData:""},pagination:{goto:"",pagesize:"/",total:" {total} ",pageClassifier:"",page:"",prev:"",next:"",currentPage:" {pager} ",prevPages:" {pager} ",nextPages:" {pager} ",deprecationWarning:" el-pagination "},dialog:{close:""},drawer:{close:""},messagebox:{title:"",confirm:"",cancel:"",error:"!",close:""},upload:{deleteTip:" delete ",delete:"",preview:"",continue:""},slider:{defaultLabel:" {min}  {max}",defaultRangeStartLabel:"",defaultRangeEndLabel:""},table:{emptyText:"",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tour:{next:"",previous:"",finish:""},tree:{emptyText:""},transfer:{noMatch:"",noData:"",titles:[" 1"," 2"],filterPlaceholder:"",noCheckedFormat:" {total} ",hasCheckedFormat:" {checked}/{total} "},image:{error:""},pageHeader:{title:""},popconfirm:{confirmButtonText:"",cancelButtonText:""},carousel:{leftArrow:"",rightArrow:"",indicator:" {index}"}}};const FL="rtcCallWithAgora",HL={0:"",1:"",2:""},GL={SINGLE_VOICE:0,SINGLE_VIDEO:1,MULTI_VIDEO:2},WL={[GL.SINGLE_VOICE]:0,[GL.SINGLE_VIDEO]:1,[GL.MULTI_VIDEO]:2},qL={idle:0,inviting:1,alerting:2,confirmRing:3,receivedConfirmRing:4,answerCall:5,receivedAnswerCall:6,confirmCallee:7},KL="invite",YL="rtcCall",XL="cancelCall",$L="answerCall",JL="alert",ZL="confirmRing",QL="confirmCallee",eU="videoToVoice",tU="busy",nU="accept",rU="refuse";let oU=null,iU=null;class aU{constructor(){this.action="rtcCall",this.IMClient=oU,this.msgCreateFn=iU}sendInviteMsg(e,t,n){const{channelName:r,callId:o,inviteMsgContent:i}=n,a={type:"txt",chatType:"singleChat",msg:i,to:e,ext:{action:KL,channelName:r,type:t,callerDevId:this.IMClient.context.jid.clientResource,callId:o,ts:Date.now(),msgType:FL,callerIMName:this.IMClient.context.jid.name}};return 2===t&&n.groupId&&(a.ext.ext={groupId:n.groupId}),new Promise(((e,t)=>{const n=this.msgCreateFn.create(a);this.IMClient.send(n).then((t=>{e(t)})).catch((e=>{t(e)}))}))}sendConfirmRing(e){const{status:t,targetId:n,sendBody:r}=e,o={type:"cmd",chatType:"singleChat",to:n,action:this.action,ext:{action:ZL,status:t,callerDevId:r.callerDevId,calleeDevId:r.calleeDevId,callId:r.callId,ts:Date.now(),msgType:FL}},i=this.msgCreateFn.create(o);this.IMClient.send(i).then((e=>{})).catch((e=>{}))}sendVideoToVioce(e,t){try{const n={type:"cmd",chatType:"singleChat",to:e,action:this.action,ext:{action:eU,callId:t,ts:Date.now(),msgType:FL}},r=this.msgCreateFn.create(n);this.IMClient.send(r).then((e=>{})).catch((e=>{}))}catch(n){}}sendConfirmCallee(e){const{targetId:t,sendBody:n}=e;try{const e={type:"cmd",chatType:"singleChat",to:t,action:this.action,ext:{action:QL,result:n.result,callerDevId:this.IMClient.context.jid.clientResource,calleeDevId:n.calleeDevId,callId:n.callId,ts:Date.now(),msgType:FL}},r=this.msgCreateFn.create(e);this.IMClient.send(r).then((e=>{})).catch((e=>{}))}catch(r){}}sendAlertMsg(e){const{from:t,ext:n}=e,r={type:"cmd",chatType:"singleChat",to:t,action:this.action,ext:{action:JL,calleeDevId:this.IMClient.context.jid.clientResource,callerDevId:n.callerDevId,callId:n.callId,ts:Date.now(),msgType:FL}},o=this.msgCreateFn.create(r);this.IMClient.send(o).then((e=>{})).catch((e=>{}))}sendAnswerMsg(e,t){const{targetId:n,sendBody:r}=e,o={type:"cmd",chatType:"singleChat",to:n,action:this.action,ext:{action:$L,result:t,callerDevId:r.callerDevId,calleeDevId:this.IMClient.context.jid.clientResource,callId:r.callId,ts:Date.now(),msgType:FL}},i=this.msgCreateFn.create(o);this.IMClient.send(i).then((e=>{})).catch((e=>{}))}sendCannelMsg(e){const{targetId:t,callId:n}=e,r={type:"cmd",chatType:"singleChat",to:t,action:this.action,ext:{action:XL,callerDevId:this.IMClient.context.jid.clientResource,callId:n||"",ts:Date.now(),msgType:FL}},o=this.msgCreateFn.create(r);this.IMClient.send(o).then((e=>{})).catch((e=>{}))}}function sU(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}const cU={CALLER_ACCPET:0,CALLEE_ACCPET:1,CALLER_BUSY:2,CALLEE_BUSY:3,CALLER_REFUSE:4,CALLEE_REFUSE:5,HANGUP:6,TIMEOUT:7,CANCEL:8,CALLER_CANCEL:9,OTHER_HANDLE:10,NOT_HAVE_CAMERA:11,NOT_HAVE_MICROPHONE:12},lU={[cU.CALLER_ACCPET]:{code:cU.CALLER_ACCPET,description:"CALLER_ACCPET"},[cU.CALLEE_ACCPET]:{code:cU.CALLEE_ACCPET,description:"CALLEE_ACCPET"},[cU.CALLER_BUSY]:{code:cU.CALLER_BUSY,description:"CALLER_BUSY"},[cU.CALLEE_BUSY]:{code:cU.CALLEE_BUSY,description:"CALLEE_BUSY"},[cU.CALLER_REFUSE]:{code:cU.CALLER_REFUSE,description:"CALLER_REFUSE"},[cU.CALLEE_REFUSE]:{code:cU.CALLEE_REFUSE,description:"CALLEE_REFUSE"},[cU.HANGUP]:{code:cU.HANGUP,description:"HANGUP"},[cU.TIMEOUT]:{code:cU.TIMEOUT,description:"TIMEOUT"},[cU.CANCEL]:{code:cU.CANCEL,description:"CANCEL"},[cU.CALLER_CANCEL]:{code:cU.CALLER_CANCEL,description:"CALLER_CANCEL"},[cU.OTHER_HANDLE]:{code:cU.OTHER_HANDLE,description:"OTHER_HANDLE"},[cU.NOT_HAVE_CAMERA]:{code:cU.NOT_HAVE_CAMERA,description:"NOT_HAVE_CAMERA"},[cU.NOT_HAVE_MICROPHONE]:{code:cU.NOT_HAVE_MICROPHONE,description:"NOT_HAVE_MICROPHONE"}},uU=yt({}),dU={0:"SUCCESS",1:"WARNING",2:"FAIL",3:"INFO"};function hU(){return{EVENT_NAME:"EASECALLKIT",EVENT_LEVEL:dU,CALLKIT_EVENT_CODE:cU,CALLKIT_EVENT_TYPE:lU,SUB_CHANNEL_EVENT:(e="EASECALLKIT",t)=>{uU[e]||(uU[e]=[]),uU[e].push(t)},PUB_CHANNEL_EVENT:(e="EASECALLKIT",t)=>{uU[e]&&uU[e].length&&uU[e].forEach((e=>{e(t)}))},UN_SUB_CHANNEL_ENENT:(e="EASECALLK")=>{uU[e]&&delete uU[e]}}}const{EVENT_NAME:pU,EVENT_LEVEL:fU,CALLKIT_EVENT_TYPE:mU,CALLKIT_EVENT_CODE:gU,PUB_CHANNEL_EVENT:vU}=hU(),yU=Dt(""),_U=yt({localClientStatus:qL.idle,channelInfos:{channelName:"",agoraChannelToken:"",agoraUserId:"",callType:GL.SINGLE_VOICE,callId:null,channelUsers:{},callerDevId:"",calleeDevId:"",callerIMName:"",calleeIMName:"",groupId:""},inviteTarget:null}),EU=Dt(null);function bU(){Zo((()=>_U.localClientStatus),((e,n)=>{t(e)}));const e=()=>{yU.value="",_U.localClientStatus=qL.idle,_U.channelInfos={channelName:"",agoraChannelToken:"",agoraUid:"",callType:GL.SINGLE_VOICE,callId:null,channelUsers:{},callerDevId:"",calleeDevId:"",confrontId:"",callerIMName:"",calleeIMName:"",groupId:""},_U.inviteTarget=null,EU.value&&clearTimeout(EU.value)},t=t=>{switch(t){case qL.idle:e();break;case qL.inviting:_U.channelInfos.callType<=1&&(yU.value="singleCall"),2===_U.channelInfos.callType&&(yU.value="multiCall");break;case qL.receivedConfirmRing:break;case qL.answerCall:_U.channelInfos.callType<=1&&(yU.value="singleCall"),2===_U.channelInfos.callType&&(yU.value="multiCall");case qL.confirmCallee:}},n=e=>{_U.localClientStatus=e},r=e=>{var t;const{from:n,to:r,ext:o}=e||{},i={channelName:o.channelName||_U.channelInfos.channelName,callId:o.callId||_U.channelInfos.callId,callType:WL[o.type]||_U.channelInfos.callType,callerDevId:o.callerDevId||0,calleeDevId:o.calleeDevId,callerIMName:n,calleeIMName:r,groupId:(null==(t=null==o?void 0:o.ext)?void 0:t.groupId)?o.ext.groupId:""};Object.assign(_U.channelInfos,i)},o=new aU,i=()=>{EU.value&&(clearTimeout(EU.value),EU.value=null),EU.value=setTimeout((()=>{const e=_U.inviteTarget;o.sendCannelMsg({targetId:e,callId:_U.channelInfos.callId});const t={type:mU[gU.TIMEOUT],ext:{message:""},callType:_U.channelInfos.callType,eventHxId:e};vU(pU,{...t}),n(qL.idle)}),3e4)};return{CALL_TYPES:GL,callComponents:yU,callKitStatus:_U,callKitTimer:EU,initChannelInfos:e,updateLocalStatus:n,updateChannelInfos:r,sendInviteMessage:async(e,t,a)=>{if(2!==t&&_U.localClientStatus!==qL.idle)return;if(!e)throw"targetId must pass";if(null==t||t<0)throw"callType must pass";if(Array.isArray(e)&&e.length<1||e.length>15)throw"targetId length  > 15 or length < 1";const s={channelName:`${t}_${sU()}`,callId:sU(),inviteMsgContent:HL[t],groupId:a};_U.inviteTarget=e;try{Array.isArray(e)?e.forEach((e=>{o.sendInviteMsg(e,t,s)})):await o.sendInviteMsg(e,t,s),n(qL.inviting)}catch(l){}const c={from:oU.user,to:t===GL.MULTI_VIDEO?"":e,ext:{channelName:s.channelName,callId:s.callId,type:t,callerDevId:oU.context.jid.clientResource}};t===GL.MULTI_VIDEO&&a&&(c.ext.ext={groupId:a}),r(c),t!==GL.MULTI_VIDEO&&i()},inMultiChanelSendInviteMsg:async(e,t)=>{if(!e)throw"targetId must pass";if(null==t||t<0)throw"callType must pass";if(Array.isArray(e)&&e.length<1||e.length>15)throw"targetId length  > 15 or length < 1";const n={channelName:_U.channelInfos.channelName,callId:_U.channelInfos.callId,inviteMsgContent:HL[t],groupId:_U.channelInfos.groupId};_U.inviteTarget=e;try{Array.isArray(e)&&e.forEach((e=>{o.sendInviteMsg(e,t,n)}))}catch(r){}}}}const TU="/png/avatar-big@2x-BDy6AWeh.png",SU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABF1BMVEUAAAD/////VVX/Ozv/QED/PT3/Ozv/PDf/PTj/Ojf/PDf/PDf/PDf/Ozf/PDj/PDb/Ozj/Ozb/Ozf/Ozf/Ozb/Ojf/Ozf/Ojf/Ojf/Ozb/Ojb/Ozf/Ojb/Ojb/Ojb/Pzv/QDz/Qz//RED/R0T/Tkr/WFT/WVb/Wlf/W1f/Xlv/Yl7/bGr/bWr/dHH/dXL/dnP/enf/enj/fXr/hIH/h4T/iof/j43/kI7/kpD/lJL/lZP/mJb/pKL/pqX/qqn/rq3/r63/t7b/uLf/vLv/vr3/x8b/yMf/ycj/y8r/zMr/zMv/zcz/0dD/1NP/2tn/3d3/3t3/4uH/4+L/4+P/6Oj/6un/7+//8PD/+Pf/+/v//f3//v7///9gMC4FAAAAHnRSTlMAAQMNEBUeMztTYWJzfoCNjqWxxMvS1d/p6uzu+f4xjky/AAACA0lEQVRYw61Xd1/CQAw9lFX2KLsEFdwobhEHAjIcIC4c8P0/h0hL8a5XbRven8nL6+/ukjQhRAcOwR8WE2lJSifEsF9wEFNwBWNZoJCNBV1Goxd9ceAi7ls0EG4PZEAXmYD9n3CbJwV/IuWx/RXvjMK/iDr1491JMICkWy/eK4EhSF5u+EIIDCO0wImPgAlEtAohMIWQ5vxgEsw9uCWzAhL1Fs4kmEbyVz7YomAB0VlOesASPGr9pKwJpKaVFQCLCCj1n7EqkJH7gw8swzcRiFsXiE/6HyDw0yeDGIHgWCCGEYiN+38WI5B1EAFQEIhfz5UrVi5r7V6vXbusFHN6LD8Jc+0b5dbH6Bc+WuV1LjFMRI51uzPioLPNoYokobGVukrEcNC/bzTu++9DxdAtacgJkmYshTuZ/FTdy09t+f3qs2y9LTD0NGF62e5AZr6yn1IUBjtMZ6MFclfqiTdp4qrquMrRAtQR6rMrq9ACJzNPnT4CdYkvM9q5rsAzfYnUMx6rrIcVWmCpqbqO6WekE+lMuaoj7YsfvMm+MyaRmFQ+HVO+rvO8pFu++Bw7y2wqs8V0+NTc0kv8tZvHQ00xocsZ3VDwLQ3dVNFtHf9jQf/a0D9X/O8dPWDgRxz0kIUf8/CDJn7UxQ/b6HEfv3DMYeXBL134tQ+/eM5h9Z3D8m1u/f8GKYarOyEnL8cAAAAASUVORK5CYII=",wU=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},CU={class:"container"},RU={class:"alert_header"},IU={class:"avatar"},AU=["src"],OU={class:"name"},NU={class:"alert_footer"},kU={class:"alert_btns"},DU=["src"],xU=["src"],PU=wU({__name:"alertModal",props:{callKitStatus:{type:Object,default:()=>({})}},emits:["updateLocalStatus","handleSendAnswerMsg"],setup(e,{emit:t}){const n=e,{callKitStatus:r}=zt(n),o=ma((()=>r.value.channelInfos??{})),i=t,a=()=>{i("handleSendAnswerMsg",nU)},s=()=>{i("handleSendAnswerMsg",rU)};return(e,t)=>(Ri(),ki("div",CU,[Ui("div",RU,[Ui("div",IU,[Ui("img",{src:Lt(TU),alt:""},null,8,AU)]),Ui("div",OU,ee(o.value.callerIMName||""),1)]),Ui("div",NU,[Ui("p",null,ee(Lt(HL)[o.value.callType]||""),1),Ui("div",kU,[Ui("img",{src:Lt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAA/FBMVEUAAAD///9V/6o7xIkwv38xwoYzu38yuX0wun0xuH4vuH4xuX0xuHwxuH0wt34vuH0wt34wuH0wuH0wt30wt3wvt30wt30wuH0vuH0wt3wwuHwvt3wvt30vuHwvt3wxt30zuH82uYA3uoE6uoNBvYdDvohEvolGv4pQwpFTw5NaxZdfx5piyJxlyZ5oyp9py6Bqy6Fzzqd0z6d/0q6A06+D1LGU2rub3MCn4Miq4cqt4suu48yv48y15dC25dG45tLB6dfF6trG69vJ7N3L7d7N7d/R7+LT8OPV8OTW8OXY8ebd8+ng9Ovh9Ozi9e3s+PP5/fv6/fz+/v7////QaJQSAAAAHnRSTlMAAQMNEBUeMztTYWJzfoCNjqWxxMvS1d/p6uzu+f4xjky/AAACE0lEQVRYw62X6XaCMBCFY60LKioVBRSnq3bf7d5q99ai3Xj/dykgtVImJhDvL85w5juQTG5mCKEoJcmKqtVNs66piiylSCRlStUmBNSsljK82clCDVDVCkmO9PliA6hqFOcZ6YmcAVNl5BLT8tMVYKqSpudndeCQnqXl503gkplH0+fKwK3yHJK/ABG0ECaUIZLKof+HiPq3DlkzKsAM7EVah8jSJ+ohUYEYqvzVZA5iKTc+P0Y8gPF7sooQU0X//DfiAhojfyhAbBU8QNh/Nh6H1tvLwyETUPP8Lxzv2Z6+WkyC65OlcLg7Atj7TEDJAVTD4TMfcMwEVB3/b4bDHR9wzgQ0U0RCwrs+YMjeB4nISLTlA+wlJkAmChZ+HeU/s79AISoWPvXyB202QCUaFt7kzQeN1NG45QCueIq5TnAvO3IA3zs8zkYBeMs4XOUB4L8Ae+4q3C1y/IJGeXPjEq59wtKURVQpb5b7LuF2xXlsP9vvFycHa/g2KjT2+odLsLahPRiV1ecBWkgy9eu2PML35eC3sO/RUpboC7TetwN6QQ8TdpzH69ANAN7Q44wZysRuvk4ALNRQMEsL1KQ1BgxxS8uwamXz1P+MJ9xUSY1dsK3dzlm3t4HbuvjFIny1CV+u4te7cIMh3uIIN1nibZ54oyne6oo328LtvvjAMYORR3zoEh/7xAfPGYy+Mxi+o43/P04SoQFYzkiwAAAAAElFTkSuQmCC"),onClick:a,alt:""},null,8,DU),Ui("img",{src:Lt(SU),onClick:s,alt:""},null,8,xU)])])]))}},[["__scopeId","data-v-c0a1fab1"]]);var MU={exports:{}};MU.exports=function(){function e(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==oO?oO:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r=function(e){try{return!!e()}catch(t){return!0}},o=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),i=o,a=Function.prototype,s=a.call,c=i&&a.bind.bind(s,s),l=i?c:function(e){return function(){return s.apply(e,arguments)}},u=l({}.isPrototypeOf),d=function(e){return e&&e.Math==Math&&e},h=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof t&&t)||function(){return this}()||t||Function("return this")(),p=o,f=Function.prototype,m=f.apply,g=f.call,v="object"==typeof Reflect&&Reflect.apply||(p?g.bind(m):function(){return g.apply(m,arguments)}),y=l,_=y({}.toString),E=y("".slice),b=function(e){return E(_(e),8,-1)},T=b,S=l,w=function(e){if("Function"===T(e))return S(e)},C="object"==typeof document&&document.all,R={all:C,IS_HTMLDDA:void 0===C&&void 0!==C},I=R.all,A=R.IS_HTMLDDA?function(e){return"function"==typeof e||e===I}:function(e){return"function"==typeof e},O={},N=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),k=o,D=Function.prototype.call,x=k?D.bind(D):function(){return D.apply(D,arguments)},P={},M={}.propertyIsEnumerable,L=Object.getOwnPropertyDescriptor,U=L&&!M.call({1:2},1);P.f=U?function(e){var t=L(this,e);return!!t&&t.enumerable}:M;var j,V,B=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},z=r,F=b,H=Object,G=l("".split),W=z((function(){return!H("z").propertyIsEnumerable(0)}))?function(e){return"String"==F(e)?G(e,""):H(e)}:H,q=function(e){return null==e},K=q,Y=TypeError,X=function(e){if(K(e))throw Y("Can't call method on "+e);return e},$=W,J=X,Z=function(e){return $(J(e))},Q=A,ee=R.all,te=R.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:Q(e)||e===ee}:function(e){return"object"==typeof e?null!==e:Q(e)},ne={},re=ne,oe=h,ie=A,ae=function(e){return ie(e)?e:void 0},se=function(e,t){return arguments.length<2?ae(re[e])||ae(oe[e]):re[e]&&re[e][t]||oe[e]&&oe[e][t]},ce="undefined"!=typeof navigator&&String(navigator.userAgent)||"",le=h,ue=ce,de=le.process,he=le.Deno,pe=de&&de.versions||he&&he.version,fe=pe&&pe.v8;fe&&(V=(j=fe.split("."))[0]>0&&j[0]<4?1:+(j[0]+j[1])),!V&&ue&&(!(j=ue.match(/Edge\/(\d+)/))||j[1]>=74)&&(j=ue.match(/Chrome\/(\d+)/))&&(V=+j[1]);var me=V,ge=me,ve=r,ye=h.String,_e=!!Object.getOwnPropertySymbols&&!ve((function(){var e=Symbol();return!ye(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ge&&ge<41})),Ee=_e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,be=se,Te=A,Se=u,we=Object,Ce=Ee?function(e){return"symbol"==typeof e}:function(e){var t=be("Symbol");return Te(t)&&Se(t.prototype,we(e))},Re=String,Ie=function(e){try{return Re(e)}catch(t){return"Object"}},Ae=A,Oe=Ie,Ne=TypeError,ke=function(e){if(Ae(e))return e;throw Ne(Oe(e)+" is not a function")},De=ke,xe=q,Pe=function(e,t){var n=e[t];return xe(n)?void 0:De(n)},Me=x,Le=A,Ue=te,je=TypeError,Ve={exports:{}},Be=h,ze=Object.defineProperty,Fe=function(e,t){try{ze(Be,e,{value:t,configurable:!0,writable:!0})}catch(n){Be[e]=t}return t},He="__core-js_shared__",Ge=h[He]||Fe(He,{}),We=Ge;(Ve.exports=function(e,t){return We[e]||(We[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var qe=Ve.exports,Ke=X,Ye=Object,Xe=function(e){return Ye(Ke(e))},$e=Xe,Je=l({}.hasOwnProperty),Ze=Object.hasOwn||function(e,t){return Je($e(e),t)},Qe=l,et=0,tt=Math.random(),nt=Qe(1..toString),rt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+nt(++et+tt,36)},ot=qe,it=Ze,at=rt,st=_e,ct=Ee,lt=h.Symbol,ut=ot("wks"),dt=ct?lt.for||lt:lt&&lt.withoutSetter||at,ht=function(e){return it(ut,e)||(ut[e]=st&&it(lt,e)?lt[e]:dt("Symbol."+e)),ut[e]},pt=x,ft=te,mt=Ce,gt=Pe,vt=function(e,t){var n,r;if(Le(n=e.toString)&&!Ue(r=Me(n,e)))return r;if(Le(n=e.valueOf)&&!Ue(r=Me(n,e)))return r;throw je("Can't convert object to primitive value")},yt=TypeError,_t=ht("toPrimitive"),Et=function(e,t){if(!ft(e)||mt(e))return e;var n,r=gt(e,_t);if(r){if(n=pt(r,e,t),!ft(n)||mt(n))return n;throw yt("Can't convert object to primitive value")}return vt(e)},bt=Ce,Tt=function(e){var t=Et(e,"string");return bt(t)?t:t+""},St=te,wt=h.document,Ct=St(wt)&&St(wt.createElement),Rt=function(e){return Ct?wt.createElement(e):{}},It=Rt,At=!N&&!r((function(){return 7!=Object.defineProperty(It("div"),"a",{get:function(){return 7}}).a})),Ot=N,Nt=x,kt=P,Dt=B,xt=Z,Pt=Tt,Mt=Ze,Lt=At,Ut=Object.getOwnPropertyDescriptor;O.f=Ot?Ut:function(e,t){if(e=xt(e),t=Pt(t),Lt)try{return Ut(e,t)}catch(n){}if(Mt(e,t))return Dt(!Nt(kt.f,e,t),e[t])};var jt=r,Vt=A,Bt=/#|\.prototype\./,zt=function(e,t){var n=Ht[Ft(e)];return n==Wt||n!=Gt&&(Vt(t)?jt(t):!!t)},Ft=zt.normalize=function(e){return String(e).replace(Bt,".").toLowerCase()},Ht=zt.data={},Gt=zt.NATIVE="N",Wt=zt.POLYFILL="P",qt=zt,Kt=ke,Yt=o,Xt=w(w.bind),$t=function(e,t){return Kt(e),void 0===t?e:Yt?Xt(e,t):function(){return e.apply(t,arguments)}},Jt={},Zt=N&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Qt=te,en=String,tn=TypeError,nn=function(e){if(Qt(e))return e;throw tn(en(e)+" is not an object")},rn=N,on=At,an=Zt,sn=nn,cn=Tt,ln=TypeError,un=Object.defineProperty,dn=Object.getOwnPropertyDescriptor,hn="enumerable",pn="configurable",fn="writable";Jt.f=rn?an?function(e,t,n){if(sn(e),t=cn(t),sn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&fn in n&&!n[fn]){var r=dn(e,t);r&&r[fn]&&(e[t]=n.value,n={configurable:pn in n?n[pn]:r[pn],enumerable:hn in n?n[hn]:r[hn],writable:!1})}return un(e,t,n)}:un:function(e,t,n){if(sn(e),t=cn(t),sn(n),on)try{return un(e,t,n)}catch(r){}if("get"in n||"set"in n)throw ln("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var mn=Jt,gn=B,vn=N?function(e,t,n){return mn.f(e,t,gn(1,n))}:function(e,t,n){return e[t]=n,e},yn=h,_n=v,En=w,bn=A,Tn=O.f,Sn=qt,wn=ne,Cn=$t,Rn=vn,In=Ze,An=function(e){var t=function(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return _n(e,this,arguments)};return t.prototype=e.prototype,t},On=function(e,t){var n,r,o,i,a,s,c,l,u,d=e.target,h=e.global,p=e.stat,f=e.proto,m=h?yn:p?yn[d]:(yn[d]||{}).prototype,g=h?wn:wn[d]||Rn(wn,d,{})[d],v=g.prototype;for(i in t)r=!(n=Sn(h?i:d+(p?".":"#")+i,e.forced))&&m&&In(m,i),s=g[i],r&&(c=e.dontCallGetSet?(u=Tn(m,i))&&u.value:m[i]),a=r&&c?c:t[i],r&&typeof s==typeof a||(l=e.bind&&r?Cn(a,yn):e.wrap&&r?An(a):f&&bn(a)?En(a):a,(e.sham||a&&a.sham||s&&s.sham)&&Rn(l,"sham",!0),Rn(g,i,l),f&&(In(wn,o=d+"Prototype")||Rn(wn,o,{}),Rn(wn[o],i,a),e.real&&v&&(n||!v[i])&&Rn(v,i,a)))},Nn=Math.ceil,kn=Math.floor,Dn=Math.trunc||function(e){var t=+e;return(t>0?kn:Nn)(t)},xn=function(e){var t=+e;return t!=t||0===t?0:Dn(t)},Pn=xn,Mn=Math.max,Ln=Math.min,Un=function(e,t){var n=Pn(e);return n<0?Mn(n+t,0):Ln(n,t)},jn=xn,Vn=Math.min,Bn=function(e){return e>0?Vn(jn(e),9007199254740991):0},zn=Bn,Fn=function(e){return zn(e.length)},Hn=Z,Gn=Un,Wn=Fn,qn=function(e){return function(t,n,r){var o,i=Hn(t),a=Wn(i),s=Gn(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},Kn={includes:qn(!0),indexOf:qn(!1)},Yn=Kn.includes;On({target:"Array",proto:!0,forced:r((function(){return!Array(1).includes()}))},{includes:function(e){return Yn(this,e,arguments.length>1?arguments[1]:void 0)}});var Xn=ne,$n=function(e){return Xn[e+"Prototype"]},Jn=$n("Array").includes,Zn=te,Qn=b,er=ht("match"),tr=function(e){var t;return Zn(e)&&(void 0!==(t=e[er])?!!t:"RegExp"==Qn(e))},nr=tr,rr=TypeError,or={};or[ht("toStringTag")]="z";var ir="[object z]"===String(or),ar=ir,sr=A,cr=b,lr=ht("toStringTag"),ur=Object,dr="Arguments"==cr(function(){return arguments}()),hr=ar?cr:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=ur(e),lr))?n:dr?cr(t):"Object"==(r=cr(t))&&sr(t.callee)?"Arguments":r},pr=hr,fr=String,mr=function(e){if("Symbol"===pr(e))throw TypeError("Cannot convert a Symbol value to a string");return fr(e)},gr=ht("match"),vr=On,yr=function(e){if(nr(e))throw rr("The method doesn't accept regular expressions");return e},_r=X,Er=mr,br=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[gr]=!1,"/./"[e](t)}catch(r){}}return!1},Tr=l("".indexOf);vr({target:"String",proto:!0,forced:!br("includes")},{includes:function(e){return!!~Tr(Er(_r(this)),Er(yr(e)),arguments.length>1?arguments[1]:void 0)}});var Sr=$n("String").includes,wr=u,Cr=Jn,Rr=Sr,Ir=Array.prototype,Ar=String.prototype,Or=n((function(e){var t=e.includes;return e===Ir||wr(Ir,e)&&t===Ir.includes?Cr:"string"==typeof e||e===Ar||wr(Ar,e)&&t===Ar.includes?Rr:t})),Nr=ke,kr=Xe,Dr=W,xr=Fn,Pr=TypeError,Mr=function(e){return function(t,n,r,o){Nr(n);var i=kr(t),a=Dr(i),s=xr(i),c=e?s-1:0,l=e?-1:1;if(r<2)for(;;){if(c in a){o=a[c],c+=l;break}if(c+=l,e?c<0:s<=c)throw Pr("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=l)c in a&&(o=n(o,a[c],c,i));return o}},Lr={left:Mr(!1),right:Mr(!0)},Ur=r,jr=function(e,t){var n=[][e];return!!n&&Ur((function(){n.call(null,t||function(){return 1},1)}))},Vr="undefined"!=typeof process&&"process"==b(process),Br=Lr.left;On({target:"Array",proto:!0,forced:!Vr&&me>79&&me<83||!jr("reduce")},{reduce:function(e){var t=arguments.length;return Br(this,e,t,t>1?arguments[1]:void 0)}});var zr=$n("Array").reduce,Fr=u,Hr=zr,Gr=Array.prototype,Wr=function(e){var t=e.reduce;return e===Gr||Fr(Gr,e)&&t===Gr.reduce?Hr:t},qr=n(Wr);let Kr=!0,Yr=!0;function Xr(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function $r(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return o.apply(this,arguments);const i=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,i),o.apply(this,[e,i])};const i=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(n))return i.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function Jr(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Kr=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Zr(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Yr=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Qr(){if("object"==typeof window){if(Kr)return;"undefined"!=typeof console&&console.log}}function eo(e,t){}function to(e){return"[object Object]"===Object.prototype.toString.call(e)}function no(e){var t;return to(e)?qr(t=Object.keys(e)).call(t,(function(t,n){const r=to(e[n]),o=r?no(e[n]):e[n],i=r&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,{[n]:o})}),{}):e}function ro(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((r=>{r.endsWith("Id")?ro(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((t=>{ro(e,e.get(t),n)}))})))}function oo(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const i=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&ro(e,n,o)}))})),o}var io=rt,ao=qe("keys"),so=function(e){return ao[e]||(ao[e]=io(e))},co=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),lo=Ze,uo=A,ho=Xe,po=co,fo=so("IE_PROTO"),mo=Object,go=mo.prototype,vo=po?mo.getPrototypeOf:function(e){var t=ho(e);if(lo(t,fo))return t[fo];var n=t.constructor;return uo(n)&&t instanceof n?n.prototype:t instanceof mo?go:null},yo=l,_o=ke,Eo=A,bo=String,To=TypeError,So=function(e,t,n){try{return yo(_o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(r){}},wo=nn,Co=function(e){if("object"==typeof e||Eo(e))return e;throw To("Can't set "+bo(e)+" as a prototype")},Ro=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=So(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return wo(n),Co(r),t?e(n,r):n.__proto__=r,n}}():void 0),Io={},Ao={},Oo=Ze,No=Z,ko=Kn.indexOf,Do=Ao,xo=l([].push),Po=function(e,t){var n,r=No(e),o=0,i=[];for(n in r)!Oo(Do,n)&&Oo(r,n)&&xo(i,n);for(;t.length>o;)Oo(r,n=t[o++])&&(~ko(i,n)||xo(i,n));return i},Mo=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Lo=Po,Uo=Mo.concat("length","prototype");Io.f=Object.getOwnPropertyNames||function(e){return Lo(e,Uo)};var jo={};jo.f=Object.getOwnPropertySymbols;var Vo=se,Bo=Io,zo=jo,Fo=nn,Ho=l([].concat),Go=Vo("Reflect","ownKeys")||function(e){var t=Bo.f(Fo(e)),n=zo.f;return n?Ho(t,n(e)):t},Wo=Ze,qo=Go,Ko=O,Yo=Jt,Xo={},$o=Po,Jo=Mo,Zo=Object.keys||function(e){return $o(e,Jo)},Qo=N,ei=Zt,ti=Jt,ni=nn,ri=Z,oi=Zo;Xo.f=Qo&&!ei?Object.defineProperties:function(e,t){ni(e);for(var n,r=ri(t),o=oi(t),i=o.length,a=0;i>a;)ti.f(e,n=o[a++],r[n]);return e};var ii,ai=se("document","documentElement"),si=nn,ci=Xo,li=Mo,ui=Ao,di=ai,hi=Rt,pi="prototype",fi="script",mi=so("IE_PROTO"),gi=function(){},vi=function(e){return"<"+fi+">"+e+"</"+fi+">"},yi=function(e){e.write(vi("")),e.close();var t=e.parentWindow.Object;return e=null,t},_i=function(){try{ii=new ActiveXObject("htmlfile")}catch(o){}var e,t,n;_i="undefined"!=typeof document?document.domain&&ii?yi(ii):(t=hi("iframe"),n="java"+fi+":",t.style.display="none",di.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(vi("document.F=Object")),e.close(),e.F):yi(ii);for(var r=li.length;r--;)delete _i[pi][li[r]];return _i()};ui[mi]=!0;var Ei=Object.create||function(e,t){var n;return null!==e?(gi[pi]=si(e),n=new gi,gi[pi]=null,n[mi]=e):n=_i(),void 0===t?n:ci.f(n,t)},bi=te,Ti=vn,Si=Error,wi=l("".replace),Ci=String(Si("zxcasd").stack),Ri=/\n\s*at [^:]*:[^\n]*/,Ii=Ri.test(Ci),Ai=B,Oi=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",Ai(1,7)),7!==e.stack)})),Ni=vn,ki=function(e,t){if(Ii&&"string"==typeof e&&!Si.prepareStackTrace)for(;t--;)e=wi(e,Ri,"");return e},Di=Oi,xi=Error.captureStackTrace,Pi={},Mi=Pi,Li=ht("iterator"),Ui=Array.prototype,ji=function(e){return void 0!==e&&(Mi.Array===e||Ui[Li]===e)},Vi=hr,Bi=Pe,zi=q,Fi=Pi,Hi=ht("iterator"),Gi=function(e){if(!zi(e))return Bi(e,Hi)||Bi(e,"@@iterator")||Fi[Vi(e)]},Wi=x,qi=ke,Ki=nn,Yi=Ie,Xi=Gi,$i=TypeError,Ji=function(e,t){var n=arguments.length<2?Xi(e):t;if(qi(n))return Ki(Wi(n,e));throw $i(Yi(e)+" is not iterable")},Zi=x,Qi=nn,ea=Pe,ta=function(e,t,n){var r,o;Qi(e);try{if(!(r=ea(e,"return"))){if("throw"===t)throw n;return n}r=Zi(r,e)}catch(i){o=!0,r=i}if("throw"===t)throw n;if(o)throw r;return Qi(r),n},na=$t,ra=x,oa=nn,ia=Ie,aa=ji,sa=Fn,ca=u,la=Ji,ua=Gi,da=ta,ha=TypeError,pa=function(e,t){this.stopped=e,this.result=t},fa=pa.prototype,ma=function(e,t,n){var r,o,i,a,s,c,l,u=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),m=na(t,u),g=function(e){return r&&da(r,"normal",e),new pa(!0,e)},v=function(e){return d?(oa(e),f?m(e[0],e[1],g):m(e[0],e[1])):f?m(e,g):m(e)};if(h)r=e.iterator;else if(p)r=e;else{if(!(o=ua(e)))throw ha(ia(e)+" is not iterable");if(aa(o)){for(i=0,a=sa(e);a>i;i++)if((s=v(e[i]))&&ca(fa,s))return s;return new pa(!1)}r=la(e,o)}for(c=h?e.next:r.next;!(l=ra(c,r)).done;){try{s=v(l.value)}catch(y){da(r,"throw",y)}if("object"==typeof s&&s&&ca(fa,s))return s}return new pa(!1)},ga=mr,va=On,ya=u,_a=vo,Ea=Ro,ba=function(e,t,n){for(var r=qo(t),o=Yo.f,i=Ko.f,a=0;a<r.length;a++){var s=r[a];Wo(e,s)||n&&Wo(n,s)||o(e,s,i(t,s))}},Ta=Ei,Sa=vn,wa=B,Ca=function(e,t){bi(t)&&"cause"in t&&Ti(e,"cause",t.cause)},Ra=function(e,t,n,r){Di&&(xi?xi(e,t):Ni(e,"stack",ki(n,r)))},Ia=ma,Aa=function(e,t){return void 0===e?arguments.length<2?"":t:ga(e)},Oa=ht("toStringTag"),Na=Error,ka=[].push,Da=function(e,t){var n,r=ya(xa,this);Ea?n=Ea(Na(),r?_a(this):xa):(n=r?this:Ta(xa),Sa(n,Oa,"Error")),void 0!==t&&Sa(n,"message",Aa(t)),Ra(n,Da,n.stack,1),arguments.length>2&&Ca(n,arguments[2]);var o=[];return Ia(e,ka,{that:o}),Sa(n,"errors",o),n};Ea?Ea(Da,Na):ba(Da,Na,{name:!0});var xa=Da.prototype=Ta(Na.prototype,{constructor:wa(1,Da),message:wa(1,""),name:wa(1,"AggregateError")});va({global:!0,constructor:!0,arity:2},{AggregateError:Da});var Pa,Ma,La,Ua=A,ja=h.WeakMap,Va=Ua(ja)&&/native code/.test(String(ja)),Ba=h,za=te,Fa=vn,Ha=Ze,Ga=Ge,Wa=so,qa=Ao,Ka="Object already initialized",Ya=Ba.TypeError,Xa=Ba.WeakMap;if(Va||Ga.state){var $a=Ga.state||(Ga.state=new Xa);$a.get=$a.get,$a.has=$a.has,$a.set=$a.set,Pa=function(e,t){if($a.has(e))throw Ya(Ka);return t.facade=e,$a.set(e,t),t},Ma=function(e){return $a.get(e)||{}},La=function(e){return $a.has(e)}}else{var Ja=Wa("state");qa[Ja]=!0,Pa=function(e,t){if(Ha(e,Ja))throw Ya(Ka);return t.facade=e,Fa(e,Ja,t),t},Ma=function(e){return Ha(e,Ja)?e[Ja]:{}},La=function(e){return Ha(e,Ja)}}var Za,Qa,es,ts={set:Pa,get:Ma,has:La,enforce:function(e){return La(e)?Ma(e):Pa(e,{})},getterFor:function(e){return function(t){var n;if(!za(t)||(n=Ma(t)).type!==e)throw Ya("Incompatible receiver, "+e+" required");return n}}},ns=N,rs=Ze,os=Function.prototype,is=ns&&Object.getOwnPropertyDescriptor,as=rs(os,"name"),ss={EXISTS:as,PROPER:as&&"something"===function(){}.name,CONFIGURABLE:as&&(!ns||ns&&is(os,"name").configurable)},cs=vn,ls=function(e,t,n,r){return r&&r.enumerable?e[t]=n:cs(e,t,n),e},us=r,ds=A,hs=te,ps=Ei,fs=vo,ms=ls,gs=ht("iterator"),vs=!1;[].keys&&("next"in(es=[].keys())?(Qa=fs(fs(es)))!==Object.prototype&&(Za=Qa):vs=!0);var ys=!hs(Za)||us((function(){var e={};return Za[gs].call(e)!==e}));ds((Za=ys?{}:ps(Za))[gs])||ms(Za,gs,(function(){return this}));var _s={IteratorPrototype:Za,BUGGY_SAFARI_ITERATORS:vs},Es=hr,bs=ir?{}.toString:function(){return"[object "+Es(this)+"]"},Ts=ir,Ss=Jt.f,ws=vn,Cs=Ze,Rs=bs,Is=ht("toStringTag"),As=function(e,t,n,r){if(e){var o=n?e:e.prototype;Cs(o,Is)||Ss(o,Is,{configurable:!0,value:t}),r&&!Ts&&ws(o,"toString",Rs)}},Os=_s.IteratorPrototype,Ns=Ei,ks=B,Ds=As,xs=Pi,Ps=function(){return this},Ms=function(e,t,n,r){var o=t+" Iterator";return e.prototype=Ns(Os,{next:ks(+!r,n)}),Ds(e,o,!1,!0),xs[o]=Ps,e},Ls=On,Us=x,js=Ms,Vs=vo,Bs=As,zs=ls,Fs=Pi,Hs=_s,Gs=ss.PROPER,Ws=Hs.BUGGY_SAFARI_ITERATORS,qs=ht("iterator"),Ks="keys",Ys="values",Xs="entries",$s=function(){return this},Js=function(e,t,n,r,o,i,a){js(n,t,r);var s,c,l,u=function(e){if(e===o&&m)return m;if(!Ws&&e in p)return p[e];switch(e){case Ks:case Ys:case Xs:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,p=e.prototype,f=p[qs]||p["@@iterator"]||o&&p[o],m=!Ws&&f||u(o),g="Array"==t&&p.entries||f;if(g&&(s=Vs(g.call(new e)))!==Object.prototype&&s.next&&(Bs(s,d,!0,!0),Fs[d]=$s),Gs&&o==Ys&&f&&f.name!==Ys&&(h=!0,m=function(){return Us(f,this)}),o)if(c={values:u(Ys),keys:i?m:u(Ks),entries:u(Xs)},a)for(l in c)(Ws||h||!(l in p))&&zs(p,l,c[l]);else Ls({target:t,proto:!0,forced:Ws||h},c);return a&&p[qs]!==m&&zs(p,qs,m,{name:o}),Fs[t]=m,c},Zs=function(e,t){return{value:e,done:t}},Qs=Z,ec=Pi,tc=ts;Jt.f;var nc=Js,rc=Zs,oc="Array Iterator",ic=tc.set,ac=tc.getterFor(oc);nc(Array,"Array",(function(e,t){ic(this,{type:oc,target:Qs(e),index:0,kind:t})}),(function(){var e=ac(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,rc(void 0,!0)):rc("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values"),ec.Arguments=ec.Array;var sc=Jt,cc=function(e,t,n){return sc.f(e,t,n)},lc=se,uc=cc,dc=N,hc=ht("species"),pc=u,fc=TypeError,mc=function(e,t){if(pc(t,e))return e;throw fc("Incorrect invocation")},gc=A,vc=Ge,yc=l(Function.toString);gc(vc.inspectSource)||(vc.inspectSource=function(e){return yc(e)});var _c=vc.inspectSource,Ec=l,bc=r,Tc=A,Sc=hr,wc=_c,Cc=function(){},Rc=[],Ic=se("Reflect","construct"),Ac=/^\s*(?:class|function)\b/,Oc=Ec(Ac.exec),Nc=!Ac.exec(Cc),kc=function(e){if(!Tc(e))return!1;try{return Ic(Cc,Rc,e),!0}catch(t){return!1}},Dc=function(e){if(!Tc(e))return!1;switch(Sc(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Nc||!!Oc(Ac,wc(e))}catch(t){return!0}};Dc.sham=!0;var xc,Pc,Mc,Lc,Uc=!Ic||bc((function(){var e;return kc(kc.call)||!kc(Object)||!kc((function(){e=!0}))||e}))?Dc:kc,jc=Uc,Vc=Ie,Bc=TypeError,zc=nn,Fc=function(e){if(jc(e))return e;throw Bc(Vc(e)+" is not a constructor")},Hc=q,Gc=ht("species"),Wc=function(e,t){var n,r=zc(e).constructor;return void 0===r||Hc(n=zc(r)[Gc])?t:Fc(n)},qc=l([].slice),Kc=TypeError,Yc=function(e,t){if(e<t)throw Kc("Not enough arguments");return e},Xc=/(?:ipad|iphone|ipod).*applewebkit/i.test(ce),$c=h,Jc=v,Zc=$t,Qc=A,el=Ze,tl=r,nl=ai,rl=qc,ol=Rt,il=Yc,al=Xc,sl=Vr,cl=$c.setImmediate,ll=$c.clearImmediate,ul=$c.process,dl=$c.Dispatch,hl=$c.Function,pl=$c.MessageChannel,fl=$c.String,ml=0,gl={},vl="onreadystatechange";tl((function(){xc=$c.location}));var yl=function(e){if(el(gl,e)){var t=gl[e];delete gl[e],t()}},_l=function(e){return function(){yl(e)}},El=function(e){yl(e.data)},bl=function(e){$c.postMessage(fl(e),xc.protocol+"//"+xc.host)};cl&&ll||(cl=function(e){il(arguments.length,1);var t=Qc(e)?e:hl(e),n=rl(arguments,1);return gl[++ml]=function(){Jc(t,void 0,n)},Pc(ml),ml},ll=function(e){delete gl[e]},sl?Pc=function(e){ul.nextTick(_l(e))}:dl&&dl.now?Pc=function(e){dl.now(_l(e))}:pl&&!al?(Lc=(Mc=new pl).port2,Mc.port1.onmessage=El,Pc=Zc(Lc.postMessage,Lc)):$c.addEventListener&&Qc($c.postMessage)&&!$c.importScripts&&xc&&"file:"!==xc.protocol&&!tl(bl)?(Pc=bl,$c.addEventListener("message",El,!1)):Pc=vl in ol("script")?function(e){nl.appendChild(ol("script"))[vl]=function(){nl.removeChild(this),yl(e)}}:function(e){setTimeout(_l(e),0)});var Tl={set:cl,clear:ll},Sl=function(){this.head=null,this.tail=null};Sl.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var wl,Cl,Rl,Il,Al,Ol=Sl,Nl=/ipad|iphone|ipod/i.test(ce)&&"undefined"!=typeof Pebble,kl=/web0s(?!.*chrome)/i.test(ce),Dl=h,xl=$t,Pl=O.f,Ml=Tl.set,Ll=Ol,Ul=Xc,jl=Nl,Vl=kl,Bl=Vr,zl=Dl.MutationObserver||Dl.WebKitMutationObserver,Fl=Dl.document,Hl=Dl.process,Gl=Dl.Promise,Wl=Pl(Dl,"queueMicrotask"),ql=Wl&&Wl.value;if(!ql){var Kl=new Ll,Yl=function(){var e,t;for(Bl&&(e=Hl.domain)&&e.exit();t=Kl.get();)try{t()}catch(n){throw Kl.head&&wl(),n}e&&e.enter()};Ul||Bl||Vl||!zl||!Fl?!jl&&Gl&&Gl.resolve?((Il=Gl.resolve(void 0)).constructor=Gl,Al=xl(Il.then,Il),wl=function(){Al(Yl)}):Bl?wl=function(){Hl.nextTick(Yl)}:(Ml=xl(Ml,Dl),wl=function(){Ml(Yl)}):(Cl=!0,Rl=Fl.createTextNode(""),new zl(Yl).observe(Rl,{characterData:!0}),wl=function(){Rl.data=Cl=!Cl}),ql=function(e){Kl.head||wl(),Kl.add(e)}}var Xl=ql,$l=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},Jl=h.Promise,Zl="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Ql=!Zl&&!Vr&&"object"==typeof window&&"object"==typeof document,eu=h,tu=Jl,nu=A,ru=qt,ou=_c,iu=ht,au=Ql,su=Zl,cu=me,lu=tu&&tu.prototype,uu=iu("species"),du=!1,hu=nu(eu.PromiseRejectionEvent),pu={CONSTRUCTOR:ru("Promise",(function(){var e=ou(tu),t=e!==String(tu);if(!t&&66===cu)return!0;if(!lu.catch||!lu.finally)return!0;if(!cu||cu<51||!/native code/.test(e)){var n=new tu((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[uu]=r,!(du=n.then((function(){}))instanceof r))return!0}return!t&&(au||su)&&!hu})),REJECTION_EVENT:hu,SUBCLASSING:du},fu={},mu=ke,gu=TypeError,vu=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw gu("Bad Promise constructor");t=e,n=r})),this.resolve=mu(t),this.reject=mu(n)};fu.f=function(e){return new vu(e)};var yu,_u,Eu=On,bu=Vr,Tu=h,Su=x,wu=ls,Cu=As,Ru=function(e){var t=lc(e);dc&&t&&!t[hc]&&uc(t,hc,{configurable:!0,get:function(){return this}})},Iu=ke,Au=A,Ou=te,Nu=mc,ku=Wc,Du=Tl.set,xu=Xl,Pu=function(e,t){},Mu=$l,Lu=Ol,Uu=ts,ju=Jl,Vu=pu,Bu=fu,zu="Promise",Fu=Vu.CONSTRUCTOR,Hu=Vu.REJECTION_EVENT,Gu=Uu.getterFor(zu),Wu=Uu.set,qu=ju&&ju.prototype,Ku=ju,Yu=qu,Xu=Tu.TypeError,$u=Tu.document,Ju=Tu.process,Zu=Bu.f,Qu=Zu,ed=!!($u&&$u.createEvent&&Tu.dispatchEvent),td="unhandledrejection",nd=function(e){var t;return!(!Ou(e)||!Au(t=e.then))&&t},rd=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(a||(2===t.rejection&&cd(t),t.rejection=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),o=!0)),n===e.promise?l(Xu("Promise-chain cycle")):(r=nd(n))?Su(r,n,c,l):c(n)):l(i)}catch(d){u&&!o&&u.exit(),l(d)}},od=function(e,t){e.notified||(e.notified=!0,xu((function(){for(var n,r=e.reactions;n=r.get();)rd(n,e);e.notified=!1,t&&!e.rejection&&ad(e)})))},id=function(e,t,n){var r,o;ed?((r=$u.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),Tu.dispatchEvent(r)):r={promise:t,reason:n},!Hu&&(o=Tu["on"+e])?o(r):e===td&&Pu("Unhandled promise rejection",n)},ad=function(e){Su(Du,Tu,(function(){var t,n=e.facade,r=e.value;if(sd(e)&&(t=Mu((function(){bu?Ju.emit("unhandledRejection",r,n):id(td,n,r)})),e.rejection=bu||sd(e)?2:1,t.error))throw t.value}))},sd=function(e){return 1!==e.rejection&&!e.parent},cd=function(e){Su(Du,Tu,(function(){var t=e.facade;bu?Ju.emit("rejectionHandled",t):id("rejectionhandled",t,e.value)}))},ld=function(e,t,n){return function(r){e(t,r,n)}},ud=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,od(e,!0))},dd=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Xu("Promise can't be resolved itself");var r=nd(t);r?xu((function(){var n={done:!1};try{Su(r,t,ld(dd,n,e),ld(ud,n,e))}catch(o){ud(n,o,e)}})):(e.value=t,e.state=1,od(e,!1))}catch(o){ud({done:!1},o,e)}}};Fu&&(Yu=(Ku=function(e){Nu(this,Yu),Iu(e),Su(yu,this);var t=Gu(this);try{e(ld(dd,t),ld(ud,t))}catch(n){ud(t,n)}}).prototype,(yu=function(e){Wu(this,{type:zu,done:!1,notified:!1,parent:!1,reactions:new Lu,rejection:!1,state:0,value:void 0})}).prototype=wu(Yu,"then",(function(e,t){var n=Gu(this),r=Zu(ku(this,Ku));return n.parent=!0,r.ok=!Au(e)||e,r.fail=Au(t)&&t,r.domain=bu?Ju.domain:void 0,0==n.state?n.reactions.add(r):xu((function(){rd(r,n)})),r.promise})),_u=function(){var e=new yu,t=Gu(e);this.promise=e,this.resolve=ld(dd,t),this.reject=ld(ud,t)},Bu.f=Zu=function(e){return e===Ku||void 0===e?new _u(e):Qu(e)}),Eu({global:!0,constructor:!0,wrap:!0,forced:Fu},{Promise:Ku}),Cu(Ku,zu,!1,!0),Ru(zu);var hd=ht("iterator"),pd=!1;try{var fd=0,md={next:function(){return{done:!!fd++}},return:function(){pd=!0}};md[hd]=function(){return this},Array.from(md,(function(){throw 2}))}catch(vp){}var gd=Jl,vd=function(e,t){if(!pd)return!1;var n=!1;try{var r={};r[hd]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(o){}return n},yd=pu.CONSTRUCTOR||!vd((function(e){gd.all(e).then(void 0,(function(){}))})),_d=x,Ed=ke,bd=fu,Td=$l,Sd=ma;On({target:"Promise",stat:!0,forced:yd},{all:function(e){var t=this,n=bd.f(t),r=n.resolve,o=n.reject,i=Td((function(){var n=Ed(t.resolve),i=[],a=0,s=1;Sd(e,(function(e){var c=a++,l=!1;s++,_d(n,t,e).then((function(e){l||(l=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise}});var wd=On,Cd=pu.CONSTRUCTOR;Jl&&Jl.prototype,wd({target:"Promise",proto:!0,forced:Cd,real:!0},{catch:function(e){return this.then(void 0,e)}});var Rd=x,Id=ke,Ad=fu,Od=$l,Nd=ma;On({target:"Promise",stat:!0,forced:yd},{race:function(e){var t=this,n=Ad.f(t),r=n.reject,o=Od((function(){var o=Id(t.resolve);Nd(e,(function(e){Rd(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var kd=x,Dd=fu;On({target:"Promise",stat:!0,forced:pu.CONSTRUCTOR},{reject:function(e){var t=Dd.f(this);return kd(t.reject,void 0,e),t.promise}});var xd=nn,Pd=te,Md=fu,Ld=function(e,t){if(xd(e),Pd(t)&&t.constructor===e)return t;var n=Md.f(e);return(0,n.resolve)(t),n.promise},Ud=On,jd=Jl,Vd=pu.CONSTRUCTOR,Bd=Ld,zd=se("Promise"),Fd=!Vd;Ud({target:"Promise",stat:!0,forced:!0},{resolve:function(e){return Bd(Fd&&this===zd?jd:this,e)}});var Hd=x,Gd=ke,Wd=fu,qd=$l,Kd=ma;On({target:"Promise",stat:!0,forced:yd},{allSettled:function(e){var t=this,n=Wd.f(t),r=n.resolve,o=n.reject,i=qd((function(){var n=Gd(t.resolve),o=[],i=0,a=1;Kd(e,(function(e){var s=i++,c=!1;a++,Hd(n,t,e).then((function(e){c||(c=!0,o[s]={status:"fulfilled",value:e},--a||r(o))}),(function(e){c||(c=!0,o[s]={status:"rejected",reason:e},--a||r(o))}))})),--a||r(o)}));return i.error&&o(i.value),n.promise}});var Yd=x,Xd=ke,$d=se,Jd=fu,Zd=$l,Qd=ma,eh="No one promise resolved";On({target:"Promise",stat:!0,forced:yd},{any:function(e){var t=this,n=$d("AggregateError"),r=Jd.f(t),o=r.resolve,i=r.reject,a=Zd((function(){var r=Xd(t.resolve),a=[],s=0,c=1,l=!1;Qd(e,(function(e){var u=s++,d=!1;c++,Yd(r,t,e).then((function(e){d||l||(l=!0,o(e))}),(function(e){d||l||(d=!0,a[u]=e,--c||i(new n(a,eh)))}))})),--c||i(new n(a,eh))}));return a.error&&i(a.value),r.promise}});var th=On,nh=Jl,rh=r,oh=se,ih=A,ah=Wc,sh=Ld,ch=nh&&nh.prototype;th({target:"Promise",proto:!0,real:!0,forced:!!nh&&rh((function(){ch.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=ah(this,oh("Promise")),n=ih(e);return this.then(n?function(n){return sh(t,e()).then((function(){return n}))}:e,n?function(n){return sh(t,e()).then((function(){throw n}))}:e)}});var lh=l,uh=xn,dh=mr,hh=X,ph=lh("".charAt),fh=lh("".charCodeAt),mh=lh("".slice),gh=function(e){return function(t,n){var r,o,i=dh(hh(t)),a=uh(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=fh(i,a))<55296||r>56319||a+1===s||(o=fh(i,a+1))<56320||o>57343?e?ph(i,a):r:e?mh(i,a,a+2):o-56320+(r-55296<<10)+65536}},vh={codeAt:gh(!1),charAt:gh(!0)},yh=vh.charAt,_h=mr,Eh=ts,bh=Js,Th=Zs,Sh="String Iterator",wh=Eh.set,Ch=Eh.getterFor(Sh);bh(String,"String",(function(e){wh(this,{type:Sh,string:_h(e),index:0})}),(function(){var e,t=Ch(this),n=t.string,r=t.index;return r>=n.length?Th(void 0,!0):(e=yh(n,r),t.index+=e.length,Th(e,!1))}));var Rh=ne.Promise,Ih={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ah=h,Oh=hr,Nh=vn,kh=Pi,Dh=ht("toStringTag");for(var xh in Ih){var Ph=Ah[xh],Mh=Ph&&Ph.prototype;Mh&&Oh(Mh)!==Dh&&Nh(Mh,Dh,xh),kh[xh]=kh.Array}var Lh=Rh,Uh=n(Lh);const jh=Qr;function Vh(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[o("min",n)]=r.ideal,t.optional.push(e),e={},e[o("max",n)]=r.ideal,t.optional.push(e)):(e[o("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let i=e.video.facingMode;i=i&&("object"==typeof i?i:{ideal:i});const a=t.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?t=["back","rear"]:"user"!==i.exact&&"user"!==i.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let a=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>{var n;return Or(n=e.label.toLowerCase()).call(n,t)}))));return!a&&n.length&&Or(t).call(t,"back")&&(a=n[n.length-1]),a&&(e.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=r(e.video),jh("chrome: "+JSON.stringify(e)),o(e)}))}e.video=r(e.video)}return jh("chrome: "+JSON.stringify(e)),o(e)},i=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){o(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(i(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return o(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Uh.reject(i(e))))))}}}function Bh(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function zh(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const o=new Event("track");o.track=n.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],this.dispatchEvent(o)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],this.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else $r(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function Fh(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let o=n.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Hh(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},i=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const r=function(e){n(i(o(e)))};return t.apply(this,[r,e])}return new Uh(((e,n)=>{t.apply(this,[function(t){e(i(o(t)))},n])})).then(n,r)}}function Gh(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>oo(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),$r(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>oo(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?Uh.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Uh.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Wh(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),o.apply(this,arguments)}}function qh(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Wh(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],o=e._streams[r.id];n=n.replace(new RegExp(o.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===t)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[n.id];if(o)o.addTrack(t),Uh.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=i(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>i(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],o=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),o.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Kh(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function Yh(e,t){$r(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var Xh=Object.freeze({__proto__:null,fixNegotiationNeeded:Yh,shimAddTrackRemoveTrack:qh,shimAddTrackRemoveTrackWithNative:Wh,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&"function"==typeof t&&(e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const r=n.video&&n.video.width,o=n.video&&n.video.height,i=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},r&&(n.video.mandatory.maxWidth=r),o&&(n.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(n)}))})},shimGetSendersWithDtmf:Fh,shimGetStats:Hh,shimGetUserMedia:Vh,shimMediaStream:Bh,shimOnTrack:zh,shimPeerConnection:Kh,shimSenderReceiverGetStats:Gh});function $h(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){eo("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function Jh(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Zh(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!o)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(r){if("TypeError"!==r.name)throw r;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(o,i)}}function Qh(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Uh.resolve(new Map)}}function ep(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),$r(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function tp(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){eo("removeStream","removeTrack"),this.getSenders().forEach((t=>{var n;t.track&&Or(n=e.getTracks()).call(n,t.track)&&this.removeTrack(t)}))})}function np(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function rp(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function op(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function ip(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Uh.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function ap(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Uh.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var sp=Object.freeze({__proto__:null,shimAddTransceiver:rp,shimCreateAnswer:ap,shimCreateOffer:ip,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Uh.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:op,shimGetUserMedia:$h,shimOnTrack:Jh,shimPeerConnection:Zh,shimRTCDataChannel:np,shimReceiverGetStats:ep,shimRemoveStream:tp,shimSenderGetStats:Qh});function cp(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n;this._localStreams||(this._localStreams=[]),Or(n=this._localStreams).call(n,e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r&&r.forEach((e=>{var t;this._localStreams?Or(t=this._localStreams).call(t,e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{Or(n).call(n,e.track)&&this.removeTrack(e)}))})}}function lp(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{var t;if(this._remoteStreams||(this._remoteStreams=[]),Or(t=this._remoteStreams).call(t,e))return;this._remoteStreams.push(e);const n=new Event("addstream");n.stream=e,this.dispatchEvent(n)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function up(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Uh.resolve()):o},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Uh.resolve()):o};let s=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Uh.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Uh.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),Uh.resolve()):r},t.addIceCandidate=s}function dp(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(hp(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function hp(e){return e&&void 0!==e.video?Object.assign({},e,{video:no(e.video)}):e}function pp(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(eo("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function fp(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function mp(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function gp(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var vp,yp=Object.freeze({__proto__:null,shimAudioContext:gp,shimCallbacksAPI:up,shimConstraints:hp,shimCreateOfferLegacy:mp,shimGetUserMedia:dp,shimLocalStreamsAPI:cp,shimRTCIceServerUrls:pp,shimRemoteStreamsAPI:lp,shimTrackEventTransceiver:fp}),_p="\t\n\v\f\r \u2028\u2029\ufeff",Ep=X,bp=mr,Tp=_p,Sp=l("".replace),wp=RegExp("^["+Tp+"]+"),Cp=RegExp("(^|[^"+Tp+"])["+Tp+"]+$"),Rp=function(e){return function(t){var n=bp(Ep(t));return 1&e&&(n=Sp(n,wp,"")),2&e&&(n=Sp(n,Cp,"$1")),n}},Ip={start:Rp(1),end:Rp(2),trim:Rp(3)},Ap=ss.PROPER,Op=r,Np=_p,kp=Ip.trim;On({target:"String",proto:!0,forced:(vp="trim",Op((function(){return!!Np[vp]()||""!==""[vp]()||Ap&&Np[vp].name!==vp})))},{trim:function(){return kp(this)}});var Dp=$n("String").trim,xp=u,Pp=Dp,Mp=String.prototype,Lp=n((function(e){var t=e.trim;return"string"==typeof e||e===Mp||xp(Mp,e)&&t===Mp.trim?Pp:t})),Up={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const r=e.substring(e.indexOf(" ")+1).split(";");for(let o=0;o<r.length;o++)n=r[o].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const r=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substring(t+1,r),n.value=e.substring(r+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],o=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&o?{usernameFragment:r.substring(12),password:o.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");n.profile=r[2];for(let i=3;i<r.length;i++){const o=r[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){const r=t.parseRtpMap(a),i=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(r.parameters=i.length?t.parseFmtp(i[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))}));const o=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach((e=>{o.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));let o=0;return n.codecs.forEach((e=>{e.maxptime>o&&(o=e.maxptime)})),o>0&&(r+="a=maxptime:"+o+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){const n=[],r=t.parseRtpParameters(e),o=-1!==r.fecMechanisms.indexOf("RED"),i=-1!==r.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=a.length>0&&a[0].ssrc;let c;const l=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));l.length>0&&l[0].length>1&&l[0][0]===s&&(c=l[0][1]),r.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&c&&(t.rtx={ssrc:c}),n.push(t),o&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:i?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&s&&n.push({ssrc:s});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substring(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=u}))),n},t.parseRtcpParameters=function(e){const n={},r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const o=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=o.length>0,n.compound=0===o.length;const i=t.matchPrefix(e,"a=rtcp-mux");return n.mux=i.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const r=t.matchPrefix(e,"a=msid:");if(1===r.length)return n=r[0].substring(7).split(" "),{stream:n[0],track:n[1]};const o=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return o.length>0?(n=o[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");let o;r.length>0&&(o=parseInt(r[0].substring(19),10)),isNaN(o)&&(o=65536);const i=t.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substring(12),10),protocol:n.fmt,maxMessageSize:o};const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:o}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,r){let o;const i=void 0!==n?n:2;return o=e||t.generateSessionId(),"v=0\r\no="+(r||"thisisadapterortc")+" "+o+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const r=t.splitLines(e);for(let t=0;t<r.length;t++)switch(r[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[t].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let t=0;t<n.length;t++)if(n[t].length<2||"="!==n[t].charAt(1))return!1;return!0},e.exports=t}(Up);var jp=Up.exports,Vp=n(jp),Bp=e({__proto__:null,default:Vp},[jp]);function zp(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=Vp.parseCandidate(e.candidate),o=Object.assign(n,r);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,$r(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function Fp(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||$r(e,"icecandidate",(e=>{if(e.candidate){const t=Vp.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function Hp(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=Vp.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=Vp.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n},o=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},i=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const o=Vp.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?r=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=r(arguments[0]),t=o(e),n=i(arguments[0],e);let a;a=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>a}),this._sctp=s}return a.apply(this,arguments)}}function Gp(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],o=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},$r(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function Wp(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function qp(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==Lp(e).call(e))).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function Kp(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Uh.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Uh.resolve())})}function Yp(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?n.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>n.apply(this,[e])))})}var Xp=Object.freeze({__proto__:null,removeExtmapAllowMixed:qp,shimAddIceCandidateNullOrEmpty:Kp,shimConnectionState:Wp,shimMaxMessageSize:Hp,shimParameterlessSetLocalDescription:Yp,shimRTCIceCandidate:zp,shimRTCIceCandidateRelayProtocol:Fp,shimSendThrowTypeError:Gp});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=Qr,r=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=Xr(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Xr(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=Xr(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),o={browserDetails:r,commonShim:Xp,extractVersion:Xr,disableLog:Jr,disableWarnings:Zr,sdp:Bp};switch(r.browser){case"chrome":if(!Xh||!Kh||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),o;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),o;n("adapter.js shimming chrome."),o.browserShim=Xh,Kp(e,r),Yp(e),Vh(e,r),Bh(e),Kh(e,r),zh(e),qh(e,r),Fh(e),Hh(e),Gh(e),Yh(e,r),zp(e),Fp(e),Wp(e),Hp(e,r),Gp(e),qp(e,r);break;case"firefox":if(!sp||!Zh||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),o;n("adapter.js shimming firefox."),o.browserShim=sp,Kp(e,r),Yp(e),$h(e,r),Zh(e,r),Jh(e),tp(e),Qh(e),ep(e),np(e),rp(e),op(e),ip(e),ap(e),zp(e),Wp(e),Hp(e,r),Gp(e);break;case"safari":if(!yp||!t.shimSafari)return n("Safari shim is not included in this adapter release."),o;n("adapter.js shimming safari."),o.browserShim=yp,Kp(e,r),Yp(e),pp(e),mp(e),up(e),cp(e),lp(e),fp(e),dp(e),gp(e),zp(e),Fp(e),Hp(e,r),Gp(e),qp(e,r);break;default:n("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});var $p=$n("Array").keys,Jp=hr,Zp=Ze,Qp=u,ef=$p,tf=Array.prototype,nf={DOMTokenList:!0,NodeList:!0},rf=n((function(e){var t=e.keys;return e===tf||Qp(tf,e)&&t===tf.keys||Zp(nf,Jp(e))?ef:t})),of=Ie,af=TypeError,sf=Tt,cf=Jt,lf=B,uf=function(e,t,n){var r=sf(t);r in e?cf.f(e,r,lf(0,n)):e[r]=n},df=Un,hf=Fn,pf=uf,ff=Array,mf=Math.max,gf=function(e,t,n){for(var r=hf(e),o=df(t,r),i=df(void 0===n?r:n,r),a=ff(mf(i-o,0)),s=0;o<i;o++,s++)pf(a,s,e[o]);return a.length=s,a},vf=gf,yf=Math.floor,_f=function(e,t){var n=e.length,r=yf(n/2);return n<8?Ef(e,t):bf(e,_f(vf(e,0,r),t),_f(vf(e,r),t),t)},Ef=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},bf=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?r(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e},Tf=_f,Sf=ce.match(/firefox\/(\d+)/i),wf=!!Sf&&+Sf[1],Cf=/MSIE|Trident/.test(ce),Rf=ce.match(/AppleWebKit\/(\d+)\./),If=!!Rf&&+Rf[1],Af=On,Of=l,Nf=ke,kf=Xe,Df=Fn,xf=function(e,t){if(!delete e[t])throw af("Cannot delete property "+of(t)+" of "+of(e))},Pf=mr,Mf=r,Lf=Tf,Uf=jr,jf=wf,Vf=Cf,Bf=me,zf=If,Ff=[],Hf=Of(Ff.sort),Gf=Of(Ff.push),Wf=Mf((function(){Ff.sort(void 0)})),qf=Mf((function(){Ff.sort(null)})),Kf=Uf("sort"),Yf=!Mf((function(){if(Bf)return Bf<70;if(!(jf&&jf>3)){if(Vf)return!0;if(zf)return zf<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Ff.push({k:t+r,v:n})}for(Ff.sort((function(e,t){return t.v-e.v})),r=0;r<Ff.length;r++)t=Ff[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));Af({target:"Array",proto:!0,forced:Wf||!qf||!Kf||!Yf},{sort:function(e){void 0!==e&&Nf(e);var t=kf(this);if(Yf)return void 0===e?Hf(t):Hf(t,e);var n,r,o=[],i=Df(t);for(r=0;r<i;r++)r in t&&Gf(o,t[r]);for(Lf(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:Pf(t)>Pf(n)?1:-1}}(e)),n=Df(o),r=0;r<n;)t[r]=o[r++];for(;r<i;)xf(t,r++);return t}});var Xf=$n("Array").sort,$f=u,Jf=Xf,Zf=Array.prototype,Qf=n((function(e){var t=e.sort;return e===Zf||$f(Zf,e)&&t===Zf.sort?Jf:t})),em={exports:{}};!function(e,n){!function(t,r){var o="function",i="undefined",a="object",s="string",c="major",l="model",u="name",d="type",h="vendor",p="version",f="architecture",m="console",g="mobile",v="tablet",y="smarttv",_="wearable",E="embedded",b="Amazon",T="Apple",S="ASUS",w="BlackBerry",C="Browser",R="Chrome",I="Firefox",A="Google",O="Huawei",N="LG",k="Microsoft",D="Motorola",x="Opera",P="Samsung",M="Sharp",L="Sony",U="Xiaomi",j="Zebra",V="Facebook",B="Chromium OS",z="Mac OS",F=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},H=function(e,t){return typeof e===s&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},W=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===i?e:e.substring(0,350)},q=function(e,t){for(var n,i,s,c,l,u,d=0;d<t.length&&!l;){var h=t[d],p=t[d+1];for(n=i=0;n<h.length&&!l&&h[n];)if(l=h[n++].exec(e))for(s=0;s<p.length;s++)u=l[++i],typeof(c=p[s])===a&&c.length>0?2===c.length?typeof c[1]==o?this[c[0]]=c[1].call(this,u):this[c[0]]=c[1]:3===c.length?typeof c[1]!==o||c[1].exec&&c[1].test?this[c[0]]=u?u.replace(c[1],c[2]):r:this[c[0]]=u?c[1].call(this,u,c[2]):r:4===c.length&&(this[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):r):this[c]=u||r;d+=2}},K=function(e,t){for(var n in t)if(typeof t[n]===a&&t[n].length>0){for(var o=0;o<t[n].length;o++)if(H(t[n][o],e))return"?"===n?r:n}else if(H(t[n],e))return"?"===n?r:n;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,p],[/opios[\/ ]+([\w\.]+)/i],[p,[u,x+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[u,x]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[u,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+C],p],[/\bfocus\/([\w\.]+)/i],[p,[u,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[u,x+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[u,x+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[u,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[p,[u,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+C]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+C],p],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,V],p],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[u,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,R+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[u,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[p,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[u,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,p],[/(cobalt)\/([\w\.]+)/i],[u,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,G]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,P],[d,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,P],[d,g]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,T],[d,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,T],[d,v]],[/(macintosh);/i],[l,[h,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,M],[d,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,O],[d,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,O],[d,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,U],[d,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,U],[d,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[d,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[d,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[d,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,D],[d,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,D],[d,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,N],[d,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,N],[d,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[d,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,g]],[/(pixel c)\b/i],[l,[h,A],[d,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,A],[d,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,L],[d,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,L],[d,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,b],[d,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,b],[d,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[d,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,w],[d,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,S],[d,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,S],[d,g]],[/(nexus 9)/i],[l,[h,"HTC"],[d,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[d,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[d,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[d,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[d,v]],[/(surface duo)/i],[l,[h,k],[d,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[d,g]],[/(u304aa)/i],[l,[h,"AT&T"],[d,g]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[d,g]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[d,v]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[d,v]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[d,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[d,v]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[d,v]],[/\b(k88) b/i],[l,[h,"ZTE"],[d,v]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[d,g]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[d,g]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[d,v]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[d,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[d,v]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[d,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[d,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[d,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[d,g]],[/\b(ph-1) /i],[l,[h,"Essential"],[d,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[d,v]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[d,v]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[d,v]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[d,v]],[/(sprint) (\w+)/i],[h,l,[d,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,k],[d,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,j],[d,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,j],[d,g]],[/smart-tv.+(samsung)/i],[h,[d,y]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,P],[d,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,N],[d,y]],[/(apple) ?tv/i],[h,[l,T+" TV"],[d,y]],[/crkey/i],[[l,R+"cast"],[h,A],[d,y]],[/droid.+aft(\w)( bui|\))/i],[l,[h,b],[d,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,M],[d,y]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,L],[d,y]],[/(mitv-\w{5}) bui/i],[l,[h,U],[d,y]],[/Hbbtv.*(technisat) (.*);/i],[h,l,[d,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,W],[l,W],[d,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[d,m]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[d,m]],[/(playstation [345portablevi]+)/i],[l,[h,L],[d,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,k],[d,m]],[/((pebble))app/i],[h,l,[d,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[h,T],[d,_]],[/droid.+; (glass) \d/i],[l,[h,A],[d,_]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,j],[d,_]],[/(quest( 2| pro)?)/i],[l,[h,V],[d,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[p,K,Y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[p,K,Y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,z],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,p],[/\(bb(10);/i],[p,[u,w]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[u,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[u,R+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,B],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,p],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,p]]},$=function(e,n){if(typeof e===a&&(n=e,e=r),!(this instanceof $))return new $(e,n).getResult();var m=typeof t!==i&&t.navigator?t.navigator:r,y=e||(m&&m.userAgent?m.userAgent:""),_=m&&m.userAgentData?m.userAgentData:r,E=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(X,n):X;return this.getBrowser=function(){var e,t={};return t[u]=r,t[p]=r,q.call(t,y,E.browser),t[c]=typeof(e=t[p])===s?e.replace(/[^\d\.]/g,"").split(".")[0]:r,m&&m.brave&&typeof m.brave.isBrave==o&&(t[u]="Brave"),t},this.getCPU=function(){var e={};return e[f]=r,q.call(e,y,E.cpu),e},this.getDevice=function(){var e={};return e[h]=r,e[l]=r,e[d]=r,q.call(e,y,E.device),!e[d]&&_&&_.mobile&&(e[d]=g),"Macintosh"==e[l]&&m&&typeof m.standalone!==i&&m.maxTouchPoints&&m.maxTouchPoints>2&&(e[l]="iPad",e[d]=v),e},this.getEngine=function(){var e={};return e[u]=r,e[p]=r,q.call(e,y,E.engine),e},this.getOS=function(){var e={};return e[u]=r,e[p]=r,q.call(e,y,E.os),!e[u]&&_&&"Unknown"!=_.platform&&(e[u]=_.platform.replace(/chrome os/i,B).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return y},this.setUA=function(e){return y=typeof e===s&&e.length>350?W(e,350):e,this},this.setUA(y),this};$.VERSION="0.7.34",$.BROWSER=F([u,p,c]),$.CPU=F([f]),$.DEVICE=F([l,h,d,m,g,y,v,_,E]),$.ENGINE=$.OS=F([u,p]),e.exports&&(n=e.exports=$),n.UAParser=$;var J=typeof t!==i&&(t.jQuery||t.Zepto);if(J&&!J.ua){var Z=new $;J.ua=Z.getResult(),J.ua.get=function(){return Z.getUA()},J.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var n in t)J.ua[n]=t[n]}}}("object"==typeof window?window:t)}(em,em.exports);var tm=n(em.exports),nm=hr,rm=Ze,om=q,im=Pi,am=ht("iterator"),sm=Object,cm=n((function(e){if(om(e))return!1;var t=sm(e);return void 0!==t[am]||"@@iterator"in t||rm(im,nm(t))})),lm=h;On({global:!0,forced:lm.globalThis!==lm},{globalThis:lm});var um=n(h),dm=Tl.clear;On({global:!0,bind:!0,enumerable:!0,forced:h.clearImmediate!==dm},{clearImmediate:dm});var hm="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,pm=h,fm=v,mm=A,gm=hm,vm=ce,ym=qc,_m=Yc,Em=pm.Function,bm=/MSIE .\./.test(vm)||gm&&function(){var e=pm.Bun.version.split(".");return e.length<3||0==e[0]&&(e[1]<3||3==e[1]&&0==e[2])}(),Tm=On,Sm=h,wm=Tl.set,Cm=function(e,t){var n=1;return bm?function(t,r){var o=_m(arguments.length,1)>n,i=mm(t)?t:Em(t),a=o?ym(arguments,n):[];return e(o?function(){fm(i,this,a)}:i)}:e},Rm=Sm.setImmediate?Cm(wm):wm;Tm({global:!0,bind:!0,enumerable:!0,forced:Sm.setImmediate!==Rm},{setImmediate:Rm});var Im=n(ne.setImmediate),Am=On,Om=Xl,Nm=ke,km=Yc,Dm=Vr,xm=h.process;Am({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){km(arguments.length,1),Nm(e);var t=Dm&&xm.domain;Om(t?t.bind(e):e)}});var Pm=n(ne.queueMicrotask);function Mm(e,t){return function(){return e.apply(t,arguments)}}const{toString:Lm}=Object.prototype,{getPrototypeOf:Um}=Object,jm=(Vm=Object.create(null),e=>{const t=Lm.call(e);return Vm[t]||(Vm[t]=t.slice(8,-1).toLowerCase())});var Vm;const Bm=e=>(e=e.toLowerCase(),t=>jm(t)===e),zm=e=>t=>typeof t===e,{isArray:Fm}=Array,Hm=zm("undefined"),Gm=Bm("ArrayBuffer"),Wm=zm("string"),qm=zm("function"),Km=zm("number"),Ym=e=>null!==e&&"object"==typeof e,Xm=e=>{if("object"!==jm(e))return!1;const t=Um(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||cm(e))},$m=Bm("Date"),Jm=Bm("File"),Zm=Bm("Blob"),Qm=Bm("FileList"),eg=Bm("URLSearchParams"),[tg,ng,rg,og]=["ReadableStream","Request","Response","Headers"].map(Bm);function ig(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e)if("object"!=typeof e&&(e=[e]),Fm(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function ag(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const sg=void 0!==um?um:"undefined"!=typeof self?self:"undefined"!=typeof window?window:oO,cg=e=>!Hm(e)&&e!==sg,lg=(ug="undefined"!=typeof Uint8Array&&Um(Uint8Array),e=>ug&&e instanceof ug);var ug;const dg=Bm("HTMLFormElement"),hg=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),pg=Bm("RegExp"),fg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ig(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},mg="abcdefghijklmnopqrstuvwxyz",gg="0123456789",vg={DIGIT:gg,ALPHA:mg,ALPHA_DIGIT:mg+mg.toUpperCase()+gg},yg=Bm("AsyncFunction"),_g=(Eg="function"==typeof Im,bg=qm(sg.postMessage),Eg?Im:bg?(Tg="axios@".concat(Math.random()),Sg=[],sg.addEventListener("message",(e=>{let{source:t,data:n}=e;t===sg&&n===Tg&&Sg.length&&Sg.shift()()}),!1),e=>{Sg.push(e),sg.postMessage(Tg,"*")}):e=>setTimeout(e));var Eg,bg,Tg,Sg;const wg=void 0!==Pm?Pm.bind(sg):"undefined"!=typeof process&&process.nextTick||_g;var Cg={isArray:Fm,isArrayBuffer:Gm,isBuffer:function(e){return null!==e&&!Hm(e)&&null!==e.constructor&&!Hm(e.constructor)&&qm(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||qm(e.append)&&("formdata"===(t=jm(e))||"object"===t&&qm(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Gm(e.buffer),t},isString:Wm,isNumber:Km,isBoolean:e=>!0===e||!1===e,isObject:Ym,isPlainObject:Xm,isReadableStream:tg,isRequest:ng,isResponse:rg,isHeaders:og,isUndefined:Hm,isDate:$m,isFile:Jm,isBlob:Zm,isRegExp:pg,isFunction:qm,isStream:e=>Ym(e)&&qm(e.pipe),isURLSearchParams:eg,isTypedArray:lg,isFileList:Qm,forEach:ig,merge:function e(){const{caseless:t}=cg(this)&&this||{},n={},r=(r,o)=>{const i=t&&ag(n,o)||o;Xm(n[i])&&Xm(r)?n[i]=e(n[i],r):Xm(r)?n[i]=e({},r):Fm(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&ig(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ig(t,((t,r)=>{n&&qm(t)?e[r]=Mm(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>Lp(e)?Lp(e).call(e):e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Um(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:jm,kindOfTest:Bm,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Fm(e))return e;let t=e.length;if(!Km(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:dg,hasOwnProperty:hg,hasOwnProp:hg,reduceDescriptors:fg,freezeMethods:e=>{fg(e,((t,n)=>{if(qm(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];qm(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Fm(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ag,global:sg,isContextDefined:cg,ALPHABET:vg,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vg.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&qm(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ym(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=Fm(e)?[]:{};return ig(e,((e,t)=>{const i=n(e,r+1);!Hm(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:yg,isThenable:e=>e&&(Ym(e)||qm(e))&&qm(e.then)&&qm(e.catch),setImmediate:_g,asap:wg};function Rg(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Cg.inherits(Rg,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Cg.toJSONObject(this.config),code:this.code,status:this.status}}});const Ig=Rg.prototype,Ag={};function Og(e){return Cg.isPlainObject(e)||Cg.isArray(e)}function Ng(e){return Cg.endsWith(e,"[]")?e.slice(0,-2):e}function kg(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ng(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ag[e]={value:e}})),Object.defineProperties(Rg,Ag),Object.defineProperty(Ig,"isAxiosError",{value:!0}),Rg.from=(e,t,n,r,o,i)=>{const a=Object.create(Ig);return Cg.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Rg.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Dg=Cg.toFlatObject(Cg,{},null,(function(e){return/^is[A-Z]/.test(e)}));function xg(e,t,n){if(!Cg.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Cg.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Cg.isUndefined(t[e])}))).metaTokens,o=n.visitor||l,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Cg.isSpecCompliantForm(t);if(!Cg.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Cg.isDate(e))return e.toISOString();if(!s&&Cg.isBlob(e))throw new Rg("Blob is not supported. Use a Buffer instead.");return Cg.isArrayBuffer(e)||Cg.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(Cg.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Cg.isArray(e)&&(l=e,Cg.isArray(l)&&!l.some(Og))||(Cg.isFileList(e)||Cg.endsWith(n,"[]"))&&(s=Cg.toArray(e)))return n=Ng(n),s.forEach((function(e,r){!Cg.isUndefined(e)&&null!==e&&t.append(!0===a?kg([n],r,i):null===a?n:n+"[]",c(e))})),!1;var l;return!!Og(e)||(t.append(kg(o,n,i),c(e)),!1)}const u=[],d=Object.assign(Dg,{defaultVisitor:l,convertValue:c,isVisitable:Og});if(!Cg.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Cg.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Cg.forEach(n,(function(n,i){!0===(!(Cg.isUndefined(n)||null===n)&&o.call(t,n,Cg.isString(i)?Lp(i).call(i):i,r,d))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t}function Pg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Mg(e,t){this._pairs=[],e&&xg(e,this,t)}const Lg=Mg.prototype;function Ug(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jg(e,t,n){if(!t)return e;const r=n&&n.encode||Ug,o=n&&n.serialize;let i;if(i=o?o(t,n):Cg.isURLSearchParams(t)?t.toString():new Mg(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}Lg.append=function(e,t){this._pairs.push([e,t])},Lg.toString=function(e){const t=e?function(t){return e.call(this,t,Pg)}:Pg;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Vg=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Cg.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Bg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zg={exports:{}},Fg=On,Hg=N,Gg=Jt.f;Fg({target:"Object",stat:!0,forced:Object.defineProperty!==Gg,sham:!Hg},{defineProperty:Gg});var Wg=ne.Object,qg=zg.exports=function(e,t,n){return Wg.defineProperty(e,t,n)};Wg.defineProperty.sham&&(qg.sham=!0);var Kg=n(zg.exports),Yg=b,Xg=Array.isArray||function(e){return"Array"==Yg(e)},$g=TypeError,Jg=Xg,Zg=Uc,Qg=te,ev=ht("species"),tv=Array,nv=function(e){var t;return Jg(e)&&(t=e.constructor,(Zg(t)&&(t===tv||Jg(t.prototype))||Qg(t)&&null===(t=t[ev]))&&(t=void 0)),void 0===t?tv:t},rv=function(e,t){return new(nv(e))(0===t?0:t)},ov=r,iv=me,av=ht("species"),sv=function(e){return iv>=51||!ov((function(){var t=[];return(t.constructor={})[av]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},cv=On,lv=r,uv=Xg,dv=te,hv=Xe,pv=Fn,fv=function(e){if(e>9007199254740991)throw $g("Maximum allowed index exceeded");return e},mv=uf,gv=rv,vv=sv,yv=me,_v=ht("isConcatSpreadable"),Ev=yv>=51||!lv((function(){var e=[];return e[_v]=!1,e.concat()[0]!==e})),bv=function(e){if(!dv(e))return!1;var t=e[_v];return void 0!==t?!!t:uv(e)};cv({target:"Array",proto:!0,arity:1,forced:!Ev||!vv("concat")},{concat:function(e){var t,n,r,o,i,a=hv(this),s=gv(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(bv(i=-1===t?a:arguments[t]))for(o=pv(i),fv(c+o),n=0;n<o;n++,c++)n in i&&mv(s,c,i[n]);else fv(c+1),mv(s,c++,i);return s.length=c,s}});var Tv={},Sv=b,wv=Z,Cv=Io.f,Rv=gf,Iv="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Tv.f=function(e){return Iv&&"Window"==Sv(e)?function(e){try{return Cv(e)}catch(t){return Rv(Iv)}}(e):Cv(wv(e))};var Av={},Ov=ht;Av.f=Ov;var Nv=ne,kv=Ze,Dv=Av,xv=Jt.f,Pv=function(e){var t=Nv.Symbol||(Nv.Symbol={});kv(t,e)||xv(t,e,{value:Dv.f(e)})},Mv=x,Lv=se,Uv=ht,jv=ls,Vv=function(){var e=Lv("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=Uv("toPrimitive");t&&!t[r]&&jv(t,r,(function(e){return Mv(n,this)}),{arity:1})},Bv=$t,zv=W,Fv=Xe,Hv=Fn,Gv=rv,Wv=l([].push),qv=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,s=5==e||i;return function(c,l,u,d){for(var h,p,f=Fv(c),m=zv(f),g=Bv(l,u),v=Hv(m),y=0,_=d||Gv,E=t?_(c,v):n||a?_(c,0):void 0;v>y;y++)if((s||y in m)&&(p=g(h=m[y],y,f),e))if(t)E[y]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:Wv(E,h)}else switch(e){case 4:return!1;case 7:Wv(E,h)}return i?-1:r||o?o:E}},Kv={forEach:qv(0),map:qv(1),filter:qv(2),some:qv(3),every:qv(4),find:qv(5),findIndex:qv(6),filterReject:qv(7)},Yv=On,Xv=h,$v=x,Jv=l,Zv=N,Qv=_e,ey=r,ty=Ze,ny=u,ry=nn,oy=Z,iy=Tt,ay=mr,sy=B,cy=Ei,ly=Zo,uy=Io,dy=Tv,hy=jo,py=O,fy=Jt,my=Xo,gy=P,vy=ls,yy=cc,_y=qe,Ey=Ao,by=rt,Ty=ht,Sy=Av,wy=Pv,Cy=Vv,Ry=As,Iy=ts,Ay=Kv.forEach,Oy=so("hidden"),Ny="Symbol",ky="prototype",Dy=Iy.set,xy=Iy.getterFor(Ny),Py=Object[ky],My=Xv.Symbol,Ly=My&&My[ky],Uy=Xv.TypeError,jy=Xv.QObject,Vy=py.f,By=fy.f,zy=dy.f,Fy=gy.f,Hy=Jv([].push),Gy=_y("symbols"),Wy=_y("op-symbols"),qy=_y("wks"),Ky=!jy||!jy[ky]||!jy[ky].findChild,Yy=Zv&&ey((function(){return 7!=cy(By({},"a",{get:function(){return By(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Vy(Py,t);r&&delete Py[t],By(e,t,n),r&&e!==Py&&By(Py,t,r)}:By,Xy=function(e,t){var n=Gy[e]=cy(Ly);return Dy(n,{type:Ny,tag:e,description:t}),Zv||(n.description=t),n},$y=function(e,t,n){e===Py&&$y(Wy,t,n),ry(e);var r=iy(t);return ry(n),ty(Gy,r)?(n.enumerable?(ty(e,Oy)&&e[Oy][r]&&(e[Oy][r]=!1),n=cy(n,{enumerable:sy(0,!1)})):(ty(e,Oy)||By(e,Oy,sy(1,{})),e[Oy][r]=!0),Yy(e,r,n)):By(e,r,n)},Jy=function(e,t){ry(e);var n=oy(t),r=ly(n).concat(t_(n));return Ay(r,(function(t){Zv&&!$v(Zy,n,t)||$y(e,t,n[t])})),e},Zy=function(e){var t=iy(e),n=$v(Fy,this,t);return!(this===Py&&ty(Gy,t)&&!ty(Wy,t))&&(!(n||!ty(this,t)||!ty(Gy,t)||ty(this,Oy)&&this[Oy][t])||n)},Qy=function(e,t){var n=oy(e),r=iy(t);if(n!==Py||!ty(Gy,r)||ty(Wy,r)){var o=Vy(n,r);return!o||!ty(Gy,r)||ty(n,Oy)&&n[Oy][r]||(o.enumerable=!0),o}},e_=function(e){var t=zy(oy(e)),n=[];return Ay(t,(function(e){ty(Gy,e)||ty(Ey,e)||Hy(n,e)})),n},t_=function(e){var t=e===Py,n=zy(t?Wy:oy(e)),r=[];return Ay(n,(function(e){!ty(Gy,e)||t&&!ty(Py,e)||Hy(r,Gy[e])})),r};Qv||(My=function(){if(ny(Ly,this))throw Uy("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?ay(arguments[0]):void 0,t=by(e),n=function(e){this===Py&&$v(n,Wy,e),ty(this,Oy)&&ty(this[Oy],t)&&(this[Oy][t]=!1),Yy(this,t,sy(1,e))};return Zv&&Ky&&Yy(Py,t,{configurable:!0,set:n}),Xy(t,e)},vy(Ly=My[ky],"toString",(function(){return xy(this).tag})),vy(My,"withoutSetter",(function(e){return Xy(by(e),e)})),gy.f=Zy,fy.f=$y,my.f=Jy,py.f=Qy,uy.f=dy.f=e_,hy.f=t_,Sy.f=function(e){return Xy(Ty(e),e)},Zv&&yy(Ly,"description",{configurable:!0,get:function(){return xy(this).description}})),Yv({global:!0,constructor:!0,wrap:!0,forced:!Qv,sham:!Qv},{Symbol:My}),Ay(ly(qy),(function(e){wy(e)})),Yv({target:Ny,stat:!0,forced:!Qv},{useSetter:function(){Ky=!0},useSimple:function(){Ky=!1}}),Yv({target:"Object",stat:!0,forced:!Qv,sham:!Zv},{create:function(e,t){return void 0===t?cy(e):Jy(cy(e),t)},defineProperty:$y,defineProperties:Jy,getOwnPropertyDescriptor:Qy}),Yv({target:"Object",stat:!0,forced:!Qv},{getOwnPropertyNames:e_}),Cy(),Ry(My,Ny),Ey[Oy]=!0;var n_=_e&&!!Symbol.for&&!!Symbol.keyFor,r_=On,o_=se,i_=Ze,a_=mr,s_=qe,c_=n_,l_=s_("string-to-symbol-registry"),u_=s_("symbol-to-string-registry");r_({target:"Symbol",stat:!0,forced:!c_},{for:function(e){var t=a_(e);if(i_(l_,t))return l_[t];var n=o_("Symbol")(t);return l_[t]=n,u_[n]=t,n}});var d_=On,h_=Ze,p_=Ce,f_=Ie,m_=n_,g_=qe("symbol-to-string-registry");d_({target:"Symbol",stat:!0,forced:!m_},{keyFor:function(e){if(!p_(e))throw TypeError(f_(e)+" is not a symbol");if(h_(g_,e))return g_[e]}});var v_=Xg,y_=A,__=b,E_=mr,b_=l([].push),T_=On,S_=se,w_=v,C_=x,R_=l,I_=r,A_=A,O_=Ce,N_=qc,k_=function(e){if(y_(e))return e;if(v_(e)){for(var t=e.length,n=[],r=0;r<t;r++){var o=e[r];"string"==typeof o?b_(n,o):"number"!=typeof o&&"Number"!=__(o)&&"String"!=__(o)||b_(n,E_(o))}var i=n.length,a=!0;return function(e,t){if(a)return a=!1,t;if(v_(this))return t;for(var r=0;r<i;r++)if(n[r]===e)return t}}},D_=_e,x_=String,P_=S_("JSON","stringify"),M_=R_(/./.exec),L_=R_("".charAt),U_=R_("".charCodeAt),j_=R_("".replace),V_=R_(1..toString),B_=/[\uD800-\uDFFF]/g,z_=/^[\uD800-\uDBFF]$/,F_=/^[\uDC00-\uDFFF]$/,H_=!D_||I_((function(){var e=S_("Symbol")();return"[null]"!=P_([e])||"{}"!=P_({a:e})||"{}"!=P_(Object(e))})),G_=I_((function(){return'"\\udf06\\ud834"'!==P_("\udf06\ud834")||'"\\udead"'!==P_("\udead")})),W_=function(e,t){var n=N_(arguments),r=k_(t);if(A_(r)||void 0!==e&&!O_(e))return n[1]=function(e,t){if(A_(r)&&(t=C_(r,this,x_(e),t)),!O_(t))return t},w_(P_,null,n)},q_=function(e,t,n){var r=L_(n,t-1),o=L_(n,t+1);return M_(z_,e)&&!M_(F_,o)||M_(F_,e)&&!M_(z_,r)?"\\u"+V_(U_(e,0),16):e};P_&&T_({target:"JSON",stat:!0,arity:3,forced:H_||G_},{stringify:function(e,t,n){var r=N_(arguments),o=w_(H_?W_:P_,null,r);return G_&&"string"==typeof o?j_(o,B_,q_):o}});var K_=jo,Y_=Xe;On({target:"Object",stat:!0,forced:!_e||r((function(){K_.f(1)}))},{getOwnPropertySymbols:function(e){var t=K_.f;return t?t(Y_(e)):[]}}),Pv("asyncIterator"),Pv("hasInstance"),Pv("isConcatSpreadable"),Pv("iterator"),Pv("match"),Pv("matchAll"),Pv("replace"),Pv("search"),Pv("species"),Pv("split");var X_=Vv;Pv("toPrimitive"),X_();var $_=se,J_=As;Pv("toStringTag"),J_($_("Symbol"),"Symbol"),Pv("unscopables"),As(h.JSON,"JSON",!0);var Z_=ne.Symbol,Q_=ht,eE=Jt.f,tE=Q_("metadata"),nE=Function.prototype;void 0===nE[tE]&&eE(nE,tE,{value:null}),Pv("dispose"),Pv("metadata");var rE=Z_;Pv("asyncDispose");var oE=l,iE=se("Symbol"),aE=iE.keyFor,sE=oE(iE.prototype.valueOf),cE=iE.isRegisteredSymbol||function(e){try{return void 0!==aE(sE(e))}catch(t){return!1}};On({target:"Symbol",stat:!0},{isRegisteredSymbol:cE});for(var lE=qe,uE=se,dE=l,hE=Ce,pE=ht,fE=uE("Symbol"),mE=fE.isWellKnownSymbol,gE=uE("Object","getOwnPropertyNames"),vE=dE(fE.prototype.valueOf),yE=lE("wks"),_E=0,EE=gE(fE),bE=EE.length;_E<bE;_E++)try{var TE=EE[_E];hE(fE[TE])&&pE(TE)}catch(vp){}var SE=function(e){if(mE&&mE(e))return!0;try{for(var t=vE(e),n=0,r=gE(yE),o=r.length;n<o;n++)if(yE[r[n]]==t)return!0}catch(i){}return!1};On({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:SE}),Pv("matcher"),Pv("observable"),On({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:cE}),On({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:SE}),Pv("metadataKey"),Pv("patternMatch"),Pv("replaceAll");var wE=n(rE),CE=n(Av.f("iterator"));function RE(e){return(RE="function"==typeof wE&&"symbol"==typeof CE?function(e){return typeof e}:function(e){return e&&"function"==typeof wE&&e.constructor===wE&&e!==wE.prototype?"symbol":typeof e})(e)}var IE=n(Av.f("toPrimitive"));function AE(e){var t=function(e,t){if("object"!==RE(e)||null===e)return e;var n=e[IE];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==RE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===RE(t)?t:String(t)}function OE(e,t,n){return(t=AE(t))in e?Kg(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NE=r,kE=ht("iterator"),DE=!NE((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),n.delete("a",2),!e.toJSON||!n.has("a",1)||n.has("a",2)||!t.size&&!0||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[kE]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),xE=ls,PE=On,ME=h,LE=x,UE=l,jE=N,VE=DE,BE=ls,zE=cc,FE=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:xE(e,r,t[r],n);return e},HE=As,GE=Ms,WE=ts,qE=mc,KE=A,YE=Ze,XE=$t,$E=hr,JE=nn,ZE=te,QE=mr,eb=Ei,tb=B,nb=Ji,rb=Gi,ob=Yc,ib=Tf,ab=ht("iterator"),sb="URLSearchParams",cb=sb+"Iterator",lb=WE.set,ub=WE.getterFor(sb),db=WE.getterFor(cb),hb=Object.getOwnPropertyDescriptor,pb=function(e){if(!jE)return ME[e];var t=hb(ME,e);return t&&t.value},fb=pb("fetch"),mb=pb("Request"),gb=pb("Headers"),vb=mb&&mb.prototype,yb=gb&&gb.prototype,_b=ME.RegExp,Eb=ME.TypeError,bb=ME.decodeURIComponent,Tb=ME.encodeURIComponent,Sb=UE("".charAt),wb=UE([].join),Cb=UE([].push),Rb=UE("".replace),Ib=UE([].shift),Ab=UE([].splice),Ob=UE("".split),Nb=UE("".slice),kb=/\+/g,Db=Array(4),xb=function(e){return Db[e-1]||(Db[e-1]=_b("((?:%[\\da-f]{2}){"+e+"})","gi"))},Pb=function(e){try{return bb(e)}catch(t){return e}},Mb=function(e){var t=Rb(e,kb," "),n=4;try{return bb(t)}catch(r){for(;n;)t=Rb(t,xb(n--),Pb);return t}},Lb=/[!'()~]|%20/g,Ub={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},jb=function(e){return Ub[e]},Vb=function(e){return Rb(Tb(e),Lb,jb)},Bb=GE((function(e,t){lb(this,{type:cb,iterator:nb(ub(e).entries),kind:t})}),"Iterator",(function(){var e=db(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),zb=function(e){this.entries=[],this.url=null,void 0!==e&&(ZE(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Sb(e,0)?Nb(e,1):e:QE(e)))};zb.prototype={type:sb,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,i,a,s,c=rb(e);if(c)for(n=(t=nb(e,c)).next;!(r=LE(n,t)).done;){if(i=(o=nb(JE(r.value))).next,(a=LE(i,o)).done||(s=LE(i,o)).done||!LE(i,o).done)throw Eb("Expected sequence with length 2");Cb(this.entries,{key:QE(a.value),value:QE(s.value)})}else for(var l in e)YE(e,l)&&Cb(this.entries,{key:l,value:QE(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=Ob(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(n=Ob(t,"="),Cb(this.entries,{key:Mb(Ib(n)),value:Mb(wb(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],Cb(n,Vb(e.key)+"="+Vb(e.value));return wb(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Fb=function(){qE(this,Hb);var e=lb(this,new zb(arguments.length>0?arguments[0]:void 0));jE||(this.size=e.entries.length)},Hb=Fb.prototype;if(FE(Hb,{append:function(e,t){var n=ub(this);ob(arguments.length,2),Cb(n.entries,{key:QE(e),value:QE(t)}),jE||this.length++,n.updateURL()},delete:function(e){for(var t=ub(this),n=ob(arguments.length,1),r=t.entries,o=QE(e),i=n<2?void 0:arguments[1],a=void 0===i?i:QE(i),s=0;s<r.length;){var c=r[s];if(c.key!==o||void 0!==a&&c.value!==a)s++;else if(Ab(r,s,1),void 0!==a)break}jE||(this.size=r.length),t.updateURL()},get:function(e){var t=ub(this).entries;ob(arguments.length,1);for(var n=QE(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=ub(this).entries;ob(arguments.length,1);for(var n=QE(e),r=[],o=0;o<t.length;o++)t[o].key===n&&Cb(r,t[o].value);return r},has:function(e){for(var t=ub(this).entries,n=ob(arguments.length,1),r=QE(e),o=n<2?void 0:arguments[1],i=void 0===o?o:QE(o),a=0;a<t.length;){var s=t[a++];if(s.key===r&&(void 0===i||s.value===i))return!0}return!1},set:function(e,t){var n=ub(this);ob(arguments.length,1);for(var r,o=n.entries,i=!1,a=QE(e),s=QE(t),c=0;c<o.length;c++)(r=o[c]).key===a&&(i?Ab(o,c--,1):(i=!0,r.value=s));i||Cb(o,{key:a,value:s}),jE||(this.size=o.length),n.updateURL()},sort:function(){var e=ub(this);ib(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=ub(this).entries,r=XE(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new Bb(this,"keys")},values:function(){return new Bb(this,"values")},entries:function(){return new Bb(this,"entries")}},{enumerable:!0}),BE(Hb,ab,Hb.entries,{name:"entries"}),BE(Hb,"toString",(function(){return ub(this).serialize()}),{enumerable:!0}),jE&&zE(Hb,"size",{get:function(){return ub(this).entries.length},configurable:!0,enumerable:!0}),HE(Fb,sb),PE({global:!0,constructor:!0,forced:!VE},{URLSearchParams:Fb}),!VE&&KE(gb)){var Gb=UE(yb.has),Wb=UE(yb.set),qb=function(e){if(ZE(e)){var t,n=e.body;if($E(n)===sb)return t=e.headers?new gb(e.headers):new gb,Gb(t,"content-type")||Wb(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),eb(e,{body:tb(0,QE(n)),headers:tb(0,t)})}return e};if(KE(fb)&&PE({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return fb(e,arguments.length>1?qb(arguments[1]):{})}}),KE(mb)){var Kb=function(e){return qE(this,vb),new mb(e,arguments.length>1?qb(arguments[1]):{})};vb.constructor=Kb,Kb.prototype=vb,PE({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Kb})}}var Yb={URLSearchParams:Fb,getState:ub},Xb=n(ne.URLSearchParams),$b={isBrowser:!0,classes:{URLSearchParams:void 0!==Xb?Xb:Mg,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const Jb="undefined"!=typeof window&&"undefined"!=typeof document,Zb="object"==typeof navigator&&navigator||void 0,Qb=Jb&&(!Zb||["ReactNative","NativeScript","NS"].indexOf(Zb.product)<0),eT="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,tT=Jb&&window.location.href||"http://localhost";function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nT(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oT=rT(rT({},Object.freeze({__proto__:null,hasBrowserEnv:Jb,hasStandardBrowserEnv:Qb,hasStandardBrowserWebWorkerEnv:eT,navigator:Zb,origin:tT})),$b),iT=nn,aT=x,sT=Ze,cT=u,lT=function(){var e=iT(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},uT=RegExp.prototype,dT=function(e){var t=e.flags;return void 0!==t||"flags"in uT||sT(e,"flags")||!cT(uT,e)?t:aT(lT,e)},hT=vh.charAt,pT=x,fT=nn,mT=A,gT=b,vT=/./.exec,yT=TypeError,_T=On,ET=x,bT=w,TT=Ms,ST=Zs,wT=X,CT=Bn,RT=mr,IT=nn,AT=q,OT=b,NT=tr,kT=dT,DT=Pe,xT=r,PT=Wc,MT=function(e,t,n){return t+(n?hT(e,t).length:1)},LT=function(e,t){var n=e.exec;if(mT(n)){var r=pT(n,e,t);return null!==r&&fT(r),r}if("RegExp"===gT(e))return pT(vT,e,t);throw yT("RegExp#exec called on incompatible receiver")},UT=ts,jT=ht("matchAll"),VT="RegExp String",BT=VT+" Iterator",zT=UT.set,FT=UT.getterFor(BT),HT=TypeError,GT=bT("".indexOf),WT=bT("".matchAll),qT=!!WT&&!xT((function(){WT("a",/./)})),KT=TT((function(e,t,n,r){zT(this,{type:BT,regexp:e,string:t,global:n,unicode:r,done:!1})}),VT,(function(){var e=FT(this);if(e.done)return ST(void 0,!0);var t=e.regexp,n=e.string,r=LT(t,n);return null===r?(e.done=!0,ST(void 0,!0)):e.global?(""===RT(r[0])&&(t.lastIndex=MT(n,CT(t.lastIndex),e.unicode)),ST(r,!1)):(e.done=!0,ST(r,!1))})),YT=function(e){var t,n,r,o=IT(this),i=RT(e),a=PT(o,RegExp),s=RT(kT(o));return t=new a(a===RegExp?o.source:o,s),n=!!~GT(s,"g"),r=!!~GT(s,"u"),t.lastIndex=CT(o.lastIndex),new KT(t,i,n,r)};_T({target:"String",proto:!0,forced:qT},{matchAll:function(e){var t,n,r,o,i=wT(this);if(AT(e)){if(qT)return WT(i,e)}else{if(NT(e)&&(t=RT(wT(kT(e))),!~GT(t,"g")))throw HT("`.matchAll` does not allow non-global regexes");if(qT)return WT(i,e);if(void 0===(r=DT(e,jT))&&"RegExp"==OT(e)&&(r=YT),r)return ET(r,e,i)}return n=RT(i),o=new RegExp(e,"g"),ET(YT,o,n)}});var XT=$n("String").matchAll,$T=u,JT=XT,ZT=String.prototype,QT=n((function(e){var t=e.matchAll;return"string"==typeof e||e===ZT||$T(ZT,e)&&t===ZT.matchAll?JT:t}));function eS(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;return i=!i&&Cg.isArray(r)?r.length:i,s?(Cg.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&Cg.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&Cg.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a)}if(Cg.isFormData(e)&&Cg.isFunction(e.entries)){const n={};return Cg.forEachEntry(e,((e,r)=>{var o;t((o=e,QT(Cg).call(Cg,/\w+|\[(\w*)]/g,o).map((e=>"[]"===e[0]?"":e[1]||e[0]))),r,n,0)})),n}return null}const tS={transitional:Bg,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Cg.isObject(e);if(o&&Cg.isHTMLForm(e)&&(e=new FormData(e)),Cg.isFormData(e))return r?JSON.stringify(eS(e)):e;if(Cg.isArrayBuffer(e)||Cg.isBuffer(e)||Cg.isStream(e)||Cg.isFile(e)||Cg.isBlob(e)||Cg.isReadableStream(e))return e;if(Cg.isArrayBufferView(e))return e.buffer;if(Cg.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return(a=e,s=this.formSerializer,xg(a,new oT.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return oT.isNode&&Cg.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},s))).toString();if((i=Cg.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return xg(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}var a,s;return o||r?(t.setContentType("application/json",!1),function(e,t){if(Cg.isString(e))try{return(t||JSON.parse)(e),Lp(Cg).call(Cg,e)}catch(n){if("SyntaxError"!==n.name)throw n}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||tS.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Cg.isResponse(e)||Cg.isReadableStream(e))return e;if(e&&Cg.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(n){if("SyntaxError"===o.name)throw Rg.from(o,Rg.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oT.classes.FormData,Blob:oT.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Cg.forEach(["delete","get","head","post","put","patch"],(e=>{tS.headers[e]={}}));var nS=tS;const rS=Cg.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oS=Symbol("internals");function iS(e){var t;return e&&Lp(t=String(e)).call(t).toLowerCase()}function aS(e){return!1===e||null==e?e:Cg.isArray(e)?e.map(aS):String(e)}function sS(e,t,n,r,o){return Cg.isFunction(r)?r.call(this,t,n):(o&&(t=n),Cg.isString(t)?Cg.isString(r)?-1!==t.indexOf(r):Cg.isRegExp(r)?r.test(t):void 0:void 0)}class cS{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=iS(t);if(!o)throw new Error("header name must be a non-empty string");const i=Cg.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=aS(e))}const i=(e,t)=>Cg.forEach(e,((e,n)=>o(e,n,t)));if(Cg.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Cg.isString(e)&&(e=Lp(e).call(e))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Lp(a=e).call(a)))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){var i,a;o=e.indexOf(":"),n=Lp(i=e.substring(0,o)).call(i).toLowerCase(),r=Lp(a=e.substring(o+1)).call(a),!n||t[n]&&rS[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Cg.isHeaders(e))for(const[s,c]of e.entries())o(c,s,n);else null!=e&&o(t,e,n);var a;return this}get(e,t){if(e=iS(e)){const n=Cg.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Cg.isFunction(t))return t.call(this,e,n);if(Cg.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=iS(e)){const n=Cg.findKey(this,e);return!(!n||void 0===this[n]||t&&!sS(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=iS(e)){const o=Cg.findKey(n,e);!o||t&&!sS(0,n[o],o,t)||(delete n[o],r=!0)}}return Cg.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!sS(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Cg.forEach(this,((r,o)=>{var i;const a=Cg.findKey(n,o);if(a)return t[a]=aS(r),void delete t[o];const s=e?Lp(c=o).call(c).toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n)):Lp(i=String(o)).call(i);var c;s!==o&&delete t[o],t[s]=aS(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Cg.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Cg.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[oS]=this[oS]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=iS(e);t[r]||(function(e,t){const n=Cg.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return Cg.isArray(e)?e.forEach(r):r(e),this}}cS.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Cg.reduceDescriptors(cS.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Cg.freezeMethods(cS);var lS=cS;function uS(e,t){const n=this||nS,r=t||n,o=lS.from(r.headers);let i=r.data;return Cg.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function dS(e){return!(!e||!e.__CANCEL__)}function hS(e,t,n){Rg.call(this,null==e?"canceled":e,Rg.ERR_CANCELED,t,n),this.name="CanceledError"}function pS(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Rg("Request failed with status code "+n.status,[Rg.ERR_BAD_REQUEST,Rg.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}Cg.inherits(hS,Rg,{__CANCEL__:!0});const fS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),l=r[a];o||(o=c),n[i]=s,r[i]=c;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,r,o=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];t>=i?a(c,e):(n=c,r||(r=setTimeout((()=>{r=null,a(n)}),i-t)))},()=>n&&a(n)]}((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,c=o(s);r=i,e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&i<=a?(a-i)/c:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},mS=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},gS=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Cg.asap((()=>e(...n)))};var vS=oT.hasStandardBrowserEnv?function(){const e=oT.navigator&&/(msie|trident)/i.test(oT.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Cg.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},yS=oT.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];Cg.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Cg.isString(r)&&a.push("path="+r),Cg.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function _S(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function ES(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const bS=e=>e instanceof lS?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ES(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e):e;function TS(e,t){t=t||{};const n={};function r(e,t,n){return Cg.isPlainObject(e)&&Cg.isPlainObject(t)?Cg.merge.call({caseless:n},e,t):Cg.isPlainObject(t)?Cg.merge({},t):Cg.isArray(t)?t.slice():t}function o(e,t,n){return Cg.isUndefined(t)?Cg.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!Cg.isUndefined(t))return r(void 0,t)}function a(e,t){return Cg.isUndefined(t)?Cg.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>o(bS(e),bS(t),!0)};return Cg.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=c[r]||o,a=i(e[r],t[r],r);Cg.isUndefined(a)&&i!==s||(n[r]=a)})),n}var SS=e=>{const t=TS({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=lS.from(s),t.url=jg(_S(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Cg.isFormData(r))if(oT.hasStandardBrowserEnv||oT.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>Lp(e).call(e))).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(oT.hasStandardBrowserEnv&&(o&&Cg.isFunction(o)&&(o=o(t)),o||!1!==o&&vS(t.url))){const e=i&&a&&yS.read(a);e&&s.set(i,e)}return t},wS="undefined"!=typeof XMLHttpRequest&&function(e){return new Uh((function(t,n){const r=SS(e);let o=r.data;const i=lS.from(r.headers).normalize();let a,s,c,l,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){l&&l(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=lS.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());pS((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Rg("Request aborted",Rg.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Rg("Network Error",Rg.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||Bg;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Rg(t,o.clarifyTimeoutError?Rg.ETIMEDOUT:Rg.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&Cg.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Cg.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([c,u]=fS(p,!0),m.addEventListener("progress",c)),h&&m.upload&&([s,l]=fS(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new hS(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===oT.protocols.indexOf(v)?n(new Rg("Unsupported protocol "+v+":",Rg.ERR_BAD_REQUEST,e)):m.send(o||null)}))},CS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Rg?t:new hS(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new Rg("timeout ".concat(t," of ms exceeded"),Rg.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>Cg.asap(a),s}},RS=Lh,IS=fu;On({target:"Promise",stat:!0,forced:!0},{withResolvers:function(){var e=IS.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var AS=fu,OS=$l;On({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=AS.f(this),n=OS(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var NS=n(RS),kS=Av.f("asyncIterator"),DS=n(kS);function xS(e,t){this.v=e,this.k=t}function PS(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,s=a instanceof xS;NS.resolve(s?a.v:a).then((function(n){if(s){var c="return"===t?"return":"next";if(!a.k||n.done)return r(c,n);n=e[c](n).value}o(i.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(c){o("throw",c)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new NS((function(i,a){var s={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function MS(e){return function(){return new PS(e.apply(this,arguments))}}function LS(e){return new xS(e,0)}function US(e){var t={},n=!1;function r(t,r){return n=!0,{done:!1,value:new xS(r=new NS((function(n){n(e[t](r))})),1)}}return t[void 0!==wE&&CE||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}PS.prototype["function"==typeof wE&&DS||"@@asyncIterator"]=function(){return this},PS.prototype.next=function(e){return this._invoke("next",e)},PS.prototype.throw=function(e){return this._invoke("throw",e)},PS.prototype.return=function(e){return this._invoke("return",e)};var jS=n(kS);function VS(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=jS,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new BS(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function BS(e){function t(e){if(Object(e)!==e)return Uh.reject(new TypeError(e+" is not an object."));var t=e.done;return Uh.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(BS=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Uh.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Uh.reject(e):t(n.apply(this.s,arguments))}},new BS(e)}const zS=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},FS=function(){var e=MS((function*(e,t){var n,r=!1,o=!1;try{for(var i,a=VS(HS(e));r=!(i=yield LS(a.next())).done;r=!1){const e=i.value;yield*US(VS(zS(e,t)))}}catch(s){o=!0,n=s}finally{try{r&&null!=a.return&&(yield LS(a.return()))}finally{if(o)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),HS=function(){var e=MS((function*(e){if(e[jS])return void(yield*US(VS(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield LS(t.read());if(e)break;yield n}}finally{yield LS(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),GS=(e,t,n,r)=>{const o=FS(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})};function WS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WS(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const KS="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,YS=KS&&"function"==typeof ReadableStream,XS=KS&&("function"==typeof TextEncoder?($S=new TextEncoder,e=>$S.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var $S;const JS=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(o){return!1}},ZS=YS&&JS((()=>{let e=!1;const t=new Request(oT.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),QS=YS&&JS((()=>Cg.isReadableStream(new Response("").body))),ew={stream:QS&&(e=>e.body)};var tw;KS&&(tw=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ew[e]&&(ew[e]=Cg.isFunction(tw[e])?t=>t[e]():(t,n)=>{throw new Rg("Response type '".concat(e,"' is not supported"),Rg.ERR_NOT_SUPPORT,n)})})));const nw=async(e,t)=>{const n=Cg.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Cg.isBlob(e))return e.size;if(Cg.isSpecCompliantForm(e)){const t=new Request(oT.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Cg.isArrayBufferView(e)||Cg.isArrayBuffer(e)?e.byteLength:(Cg.isURLSearchParams(e)&&(e+=""),Cg.isString(e)?(await XS(e)).byteLength:void 0)})(t):n},rw={http:null,xhr:wS,fetch:KS&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=SS(e);l=l?(l+"").toLowerCase():"text";let p,f=CS([o,i&&i.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(c&&ZS&&"get"!==n&&"head"!==n&&0!==(g=await nw(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Cg.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=mS(g,fS(gS(c)));r=GS(n.body,65536,e,t)}}Cg.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;p=new Request(t,qS(qS({},h),{},{signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0}));let i=await fetch(p);const a=QS&&("stream"===l||"response"===l);if(QS&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=Cg.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&mS(t,fS(gS(s),!0))||[];i=new Response(GS(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}l=l||"text";let v=await ew[Cg.findKey(ew,l)||"text"](i,e);return!a&&m&&m(),await new Uh(((t,n)=>{pS(t,n,{data:v,headers:lS.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new Rg("Network Error",Rg.ERR_NETWORK,e,p),{cause:v.cause||v});throw Rg.from(v,v&&v.code,e,p)}})};Cg.forEach(rw,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const ow=e=>"- ".concat(e),iw=e=>Cg.isFunction(e)||null===e||!1===e;var aw={getAdapter:e=>{e=Cg.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!iw(n)&&(r=rw[(t=String(n)).toLowerCase()],void 0===r))throw new Rg("Unknown adapter '".concat(t,"'"));if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));throw new Rg("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(ow).join("\n"):" "+ow(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:rw};function sw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hS(null,e)}function cw(e){return sw(e),e.headers=lS.from(e.headers),e.data=uS.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),aw.getAdapter(e.adapter||nS.adapter)(e).then((function(t){return sw(e),t.data=uS.call(e,e.transformResponse,t),t.headers=lS.from(t.headers),t}),(function(t){return dS(t)||(sw(e),t&&t.response&&(t.response.data=uS.call(e,e.transformResponse,t.response),t.response.headers=lS.from(t.response.headers))),Uh.reject(t)}))}const lw="1.7.7",uw={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{uw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const dw={};uw.transitional=function(e,t,n){function r(e,t){return"[Axios v"+lw+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Rg(r(o," has been removed"+(t?" in "+t:"")),Rg.ERR_DEPRECATED);return t&&!dw[o]&&(dw[o]=!0),!e||e(n,o,i)}};var hw={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Rg("options must be an object",Rg.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Rg("option "+i+" must be "+n,Rg.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Rg("Unknown option "+i,Rg.ERR_BAD_OPTION)}},validators:uw};const pw=hw.validators;let fw=class{constructor(e){this.defaults=e,this.interceptors={request:new Vg,response:new Vg}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=TS(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&hw.assertOptions(n,{silentJSONParsing:pw.transitional(pw.boolean),forcedJSONParsing:pw.transitional(pw.boolean),clarifyTimeoutError:pw.transitional(pw.boolean)},!1),null!=r&&(Cg.isFunction(r)?t.paramsSerializer={serialize:r}:hw.assertOptions(r,{encode:pw.function,serialize:pw.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&Cg.merge(o.common,o[t.method]);o&&Cg.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=lS.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[cw.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),u=e.length,l=Uh.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{l=cw.call(this,h)}catch(f){return Uh.reject(f)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return jg(_S((e=TS(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}};Cg.forEach(["delete","get","head","options"],(function(e){fw.prototype[e]=function(t,n){return this.request(TS(n||{},{method:e,url:t,data:(n||{}).data}))}})),Cg.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(TS(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}fw.prototype[e]=t(),fw.prototype[e+"Form"]=t(!0)}));var mw=fw;class gw{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Uh((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Uh((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new hS(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new gw((function(t){e=t})),cancel:e}}}var vw=gw;const yw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yw).forEach((e=>{let[t,n]=e;yw[n]=t}));var _w=yw;const Ew=function e(t){const n=new mw(t),r=Mm(mw.prototype.request,n);return Cg.extend(r,mw.prototype,n,{allOwnKeys:!0}),Cg.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(TS(t,n))},r}(nS);Ew.Axios=mw,Ew.CanceledError=hS,Ew.CancelToken=vw,Ew.isCancel=dS,Ew.VERSION=lw,Ew.toFormData=xg,Ew.AxiosError=Rg,Ew.Cancel=Ew.CanceledError,Ew.all=function(e){return Uh.all(e)},Ew.spread=function(e){return function(t){return e.apply(null,t)}},Ew.isAxiosError=function(e){return Cg.isObject(e)&&!0===e.isAxiosError},Ew.mergeConfig=TS,Ew.AxiosHeaders=lS,Ew.formToJSON=e=>eS(Cg.isHTMLForm(e)?new FormData(e):e),Ew.getAdapter=aw.getAdapter,Ew.HttpStatusCode=_w,Ew.default=Ew;var bw=Ew;const Tw=()=>{};function Sw(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:Tw};return e.promise=new Uh(((t,n)=>{e.resolve=n=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(n),e.value=n)},e.reject=t=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,n(t))}})),e}const ww=new Map,Cw=new Map,Rw=new Map;let Iw=function(e){return e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.HARMONY_OS="HarmonyOS",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.CHROMIUM_OS="Chromium OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot",e}({}),Aw=function(e){return e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger",e}({});const Ow=new tm;let Nw=Ow.getResult(),kw=null;function Dw(e){if(!kw){Nw=Ow.getResult();const e=function(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return Aw.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return Aw.CHROME;case"Safari":case"Mobile Safari":return Aw.SAFARI;case"Edge":return Aw.EDGE;case"Firefox":return Aw.FIREFOX;case"QQ":case"QQBrowser":return Aw.QQ;case"Opera":return Aw.OPERA;case"WeChat":return Aw.WECHAT;default:return e.browser.name||""}}(Nw),n=xw(Nw),r="Windows"===(t=Nw).os.name?t.os.version?t.os.name+" "+t.os.version:t.os.name:t.os.name||"",o=Nw.os.version,i=xw(Nw,!1),a=Nw.device.type;if(!(e&&n&&r&&o))return{name:e,version:n,os:r,osVersion:o,browserVersion:i,deviceType:a};kw={name:e,version:n,os:r,osVersion:o,browserVersion:i,deviceType:a}}var t;return kw}function xw(e){let t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t="Blink"===e.engine.name?e.engine.version||"":e.browser.version||"",n?t.split(".")[0]:t}function Pw(){return Dw().os}function Mw(){const e=Dw();return"".concat(e.os," ").concat(e.osVersion)}function Lw(){const e=Dw();return!!("WebKit"===Nw.engine.name&&e.os===Iw.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==Aw.SAFARI||zw()&&e.name!==Aw.SAFARI)}function Uw(){return Dw().name===Aw.CHROME}function jw(){return Dw().name===Aw.SAFARI}function Vw(){return Dw().name===Aw.EDGE}function Bw(){return Dw().name===Aw.FIREFOX}function zw(){return Dw().os===Iw.IOS}function Fw(e){const t=Dw();return!(t.name!==Aw.CHROME||!t.osVersion)&&Number(t.version)>=e}function Hw(e){const t=Dw();return!(t.name!==Aw.CHROME||!t.osVersion)&&Number(t.version)<e}function Gw(e){const t=Dw();return!(t.name!==Aw.EDGE||!t.osVersion)&&Number(t.version)>=e}function Ww(e){const t=Dw();return!(t.name!==Aw.SAFARI||!t.osVersion)&&Number(t.version)>=e}function qw(e,t,n){const r=Dw();if(r.os!==Iw.IOS||!r.osVersion)return!1;const o=r.osVersion.split(".");return t&&Number(o[0])===e&&Number(o[1])<t||Number(o[0])<e}function Kw(e,t,n){const r=Dw();if(r.name!==Aw.SAFARI||!r.osVersion||!r.browserVersion)return!1;const o=r.browserVersion.split(".");return t&&Number(o[0])===e&&Number(o[1])<t||Number(o[0])<e}function Yw(e){const t=Dw();return!(t.name!==Aw.OPERA||!t.osVersion)&&Number(t.version)>=e}function Xw(){const e=Dw();if(e.os!==Iw.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6}function $w(){const e=Dw();if(e.os!==Iw.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])}function Jw(){const e=Dw();if(e.os!==Iw.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 16===Number(t[0])}function Zw(){const e=Dw();if(e.os!==Iw.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=1}function Qw(){return jw()&&navigator.maxTouchPoints>0}function eC(){return Dw().name===Aw.WECHAT}function tC(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function nC(){const e=Pw();return function(){const{deviceType:e}=Dw();return"mobile"===e||"tablet"===e}()||e===Iw.ANDROID||e===Iw.IOS||e===Iw.HARMONY_OS}function rC(){const e=Dw();return e.name!==Aw.EDGE&&e.name!==Aw.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function oC(){return Pw()===Iw.ANDROID}function iC(){const e=Dw();return oC()&&(e.name===Aw.CHROME||e.name===Aw.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function aC(e,t,n){return(t="symbol"==typeof(r=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var r}function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sC(Object(n),!0).forEach((function(t){aC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let lC=function(e){return e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",e.DATACHANNEL_FAILED="DATACHANNEL_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",e.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",e.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",e.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",e.PROHIBITED_OPERATION="PROHIBITED_OPERATION",e.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",e.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",e}({}),uC=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;super(t),aC(this,"code",void 0),aC(this,"message",void 0),aC(this,"data",void 0),aC(this,"name","AgoraRTCException"),this.code=e,this.message="AgoraRTCError ".concat(this.code,": ").concat(t),this.data=n}toString(){return this.data?"".concat(this.message,"\ndata: ").concat(JSON.stringify(this.data)):this.message}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",t=arguments.length>1?arguments[1]:void 0;return"error"===e&&(t||console).error(this.toString()),"warning"===e&&(t||console).warn(this.toString()),this}throw(e){throw this.print("error",e),this}};function dC(e,t){if("boolean"!=typeof e)throw new uC(lC.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function hC(e,t,n){if(!Or(n).call(n,e))throw new uC(lC.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(n)))}function pC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<n||e>r||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&("number"!=typeof(o=e)||o%1!=0))throw new uC(lC.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(n,", ").concat(r,"]. integer only"));var o}function fC(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new uC(lC.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"));void 0!==e.min&&pC(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&pC(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&pC(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&pC(e.ideal,"".concat(t,".ideal"),1,1/0)}else pC(e,t,1,1/0)}function mC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new uC(lC.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!yC(e,n,r,o))throw new uC(lC.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(o?" ASCII characters only.":""))}function gC(e,t){if(!Array.isArray(e))throw new uC(lC.INVALID_PARAMS,"".concat(t," should be an array"))}function vC(e){return null==e}function yC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&e.length<=n&&e.length>=t&&(!r||function(e){if("string"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}(e))}var _C=function(e){return e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE",e}(_C||{}),EC=function(e){return e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",e}(EC||{});const bC=new class{constructor(){aC(this,"_clientSize",null),aC(this,"getClientWidth",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),aC(this,"getClientHeight",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),aC(this,"getStyle",(e=>window.getComputedStyle(e,null))),aC(this,"checkCssVisibleProperty",(e=>{var t;let n=!0;const r=this.getStyle(e),{display:o,visibility:i,opacity:a,filter:s}=r;return("none"===o||Or(t=["hidden","collapse"]).call(t,i)||Number(a)<.1)&&(n=!1),!!n&&(s&&s.split(" ").filter((e=>{var t;const n=e.split("(")[0];return Or(t=["brightness","blur","opacity"]).call(t,n)})).map((e=>{const[t,n]=e.split(/\(|\)/);return[t,Number(n.match(/^[0-9\.]+/))]})).forEach((e=>{const[t,r]=e;switch(t){case"brightness":(r<.1||r>3)&&(n=!1);break;case"blur":r>3&&(n=!1);break;case"opacity":r<.1&&(n=!1)}})),n)})),aC(this,"checkPropertyUpToAllParentNodes",((e,t)=>{let n=!0,r=!0;const o=e=>t(e);let i=e;for(;i&&r;)o(i)||(n=!1,r=!1),i=i.parentElement,i||(r=!1);return n})),aC(this,"checkActualCssVisibleIncludeInherit",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),aC(this,"getSizeAboutClient",(e=>{const{width:t,height:n,left:r,right:o,top:i,bottom:a}=e.getBoundingClientRect(),s=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:n,left:r,right:o,top:i,bottom:a,clientWidth:s,clientHeight:c,clientMin:Math.min(s,c)}})),aC(this,"checkActualSize",(()=>{const{width:e,height:t,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(e,t,n)})),aC(this,"elementFromPoint",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),aC(this,"checkCoverForAPoint",((e,t,n)=>{const r=this.elementFromPoint(e,t);return null!==r&&r!==n})),aC(this,"getPointPositionList",(()=>{const{width:e,height:t,left:n,top:r}=this._clientSize,o=e/6,i=t/6,a=[],s=10**6;for(let c=0;c<5;c++)for(let e=0;e<5;e++){const t=(n*s+(0===c?.1:4===c?(o*c*s-1e5)/s:o*c)*s)/s,l=(r*s+(0===e?.1:4===e?(i*e*s-1e5)/s:i*e)*s)/s;a.push({x:t,y:l})}return[...a]})),aC(this,"checkElementCover",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),aC(this,"checkSizeIsVisible",((e,t,n)=>(e>50||n/e<=10)&&(t>50||n/t<=10))),aC(this,"checkSizeOfPartInClient",(()=>{const{left:e,right:t,top:n,bottom:r,clientHeight:o,clientWidth:i,clientMin:a}=this._clientSize;let s,c,l,u;if(e<0)s=0;else{if(!(e<i))return!1;s=e}if(t<0)return!1;if(c=t<i?t:i,n<0)l=0;else{if(!(n<o))return!1;l=n}if(r<0)return!1;u=r<o?r:o;const d=c-s,h=u-l;return this.checkSizeIsVisible(d,h,a)})),aC(this,"returnHiddenResult",(e=>(this._clientSize=null,{visible:!1,reason:e}))),aC(this,"checkOneElementVisible",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(_C.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(_C.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(_C.SIZE)}}return this.returnHiddenResult(_C.STYLE)}return this.returnHiddenResult(EC.UNMOUNTED)}return this.returnHiddenResult(EC.INVALID_HTML_ELEMENT)})),aC(this,"checkElementIsMountedOnDom",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function TC(e){return(new TextEncoder).encode(e)}const SC=function(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n},wC=async e=>function(e,t){let n="";return new Uint8Array(e).forEach((e=>{n+=e.toString(t).padStart(2,"0")})),n}(await crypto.subtle.digest("SHA-256",TC(e)),16);class CC{constructor(){aC(this,"_events",{}),aC(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(let i=0;i<t.length;i+=1){const n=t[i];n.once&&this.off(e,n.listener),n.listener.apply(this,r||[])}}safeEmit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];[...this._events[e]||[]].forEach((t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,n)}catch(r){}}))}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}}let RC=null;function IC(){if(RC)return RC;if(window.electron)return RC=window.electron;if(!window.require)return null;try{return RC=window.require("electron"),RC}catch(vp){return null}}let AC=function(e){return e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.PRELOAD="PRELOAD",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",e.IMAGE_MODERATION_UPLOAD="imageModerationUpload",e}({}),OC=function(e){return e.TRACER="tracer",e}({});function NC(e){return pC(e.timeout,"config.timeout",0,1e5),pC(e.timeoutFactor,"config.timeoutFactor",0,100,!1),pC(e.maxRetryCount,"config.maxRetryConfig",0,1/0),pC(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}let kC=function(e){return e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY",e}({}),DC=function(e){return e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.FALLBACK="FALLBACK",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.LICENSE_MISSING="LICENSE_MISSING",e.LICENSE_EXPIRED="LICENSE_EXPIRED",e.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",e.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",e.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",e.LICENSE_ILLEGAL="LICENSE_ILLEGAL",e.TOKEN_EXPIRE="TOKEN_EXPIRE",e}({});function xC(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(t){return!1}return!0}function PC(e){return mC(e.turnServerURL,"turnServerURL"),mC(e.username,"username"),mC(e.password,"password"),e.udpport&&pC(e.udpport,"udpport",1,99999,!0),e.forceturn&&dC(e.forceturn,"forceturn"),e.security&&dC(e.security,"security"),e.tcpport&&pC(e.tcpport,"tcpport",1,99999,!0),!0}function MC(e){return void 0!==e.level&&hC(e.level,"level",[1,2,3]),void 0!==e.delay&&pC(e.delay,"delay",0,3e3,!0),!0}let LC=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change",e}({}),UC=function(e){return e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK",e}({}),jC=function(e){return e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e}({}),VC=function(e){return e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e}({});function BC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return 0===e.getListeners(t).length?Uh.reject(new uC(lC.UNEXPECTED_ERROR,"can not emit promise")):new Uh(((n,o)=>{e.emit(t,...r,n,o)}))}function zC(e,t){if(0===e.getListeners(t).length)return Uh.resolve();for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return BC(e,t,...r)}function FC(e,t){if(0===e.getListeners(t).length)return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return HC(e,t,...r)}function HC(e,t){let n=null,r=null;for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];if(e.emit(t,...i,(e=>{n=e}),(e=>{r=e})),null!==r)throw r;if(null===n)throw new uC(lC.UNEXPECTED_ERROR,"handler is not sync");return n}const GC=new class extends CC{set networkState(e){this.emit(VC.NETWORK_STATE_CHANGE,e,this._networkState),e===jC.ONLINE?this.emit(VC.ONLINE):e===jC.OFFLINE&&(this.onlineWaiter=new Uh((e=>{this.once(VC.ONLINE,(()=>{this.onlineWaiter=void 0,e(jC.ONLINE)}))})),this.emit(VC.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===jC.ONLINE}constructor(){super(),aC(this,"_moduleName","network-indicator"),aC(this,"_networkState",jC.ONLINE),aC(this,"onlineWaiter",void 0),window.addEventListener("online",(()=>{this.networkState=jC.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=jC.OFFLINE}))}};function WC(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function qC(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function KC(e){void 0!==Uh?Uh.resolve().then(e):setTimeout(e,0)}function YC(e){return JSON.parse(JSON.stringify(e))}function XC(e){try{return YC(e)}catch(t){return e}}const $C={};function JC(e,t){$C[t]||($C[t]=!0,e())}function ZC(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n}function QC(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}function eR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=(new TextEncoder).encode(e);if(n.length>t)n=n.slice(0,t);else if(n.length<t){const e=new Uint8Array(t);e.set(n),n=e}return n}function tR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=qr(t).call(t,((e,t)=>e+t.length),0),o=new Uint8Array(new ArrayBuffer(r));let i=0;return t.forEach((e=>{o.set(e,i),i+=e.length})),o}function nR(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function rR(e){let t=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+="string"==typeof e?nR(e):e.size})),t+138}function oR(e){const t=new uC(lC.TIMEOUT,"timeout");return new Uh(((n,r)=>{window.setTimeout((()=>r(t)),e)}))}function iR(e){return new Uh((t=>{window.setTimeout(t,e)}))}function aR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+aR(e-n.length,"")}function sR(){return aR(32,"").toUpperCase()}const cR=()=>{},lR=new class{constructor(){aC(this,"fnMap",new Map)}throttleByKey(e,t,n,r){for(var o=arguments.length,i=new Array(o>4?o-4:0),a=4;a<o;a++)i[a-4]=arguments[a];if(this.fnMap.has(t)){const o=this.fnMap.get(t);if(o.threshold!==n){o.fn(...o.args),clearTimeout(o.timer);const a=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:a,args:i,skipFn:r})}else o.skipFn&&o.skipFn(...o.args),this.fnMap.set(t,cC(cC({},o),{},{fn:e,args:i,skipFn:r}))}else{const o=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:o,args:i,skipFn:r})}}},uR=lR.throttleByKey.bind(lR);function dR(e){return"object"==typeof e&&null!==e&&!(e instanceof RegExp)}function hR(e,t){if(!dR(e)||!dR(t))return t;if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){const n=[...e];for(let r=0;r<t.length;r++)n[r]=hR(e[r],t[r]);return n}{const n=cC({},e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Object.prototype.hasOwnProperty.call(e,r)?n[r]=hR(e[r],t[r]):n[r]=t[r]);return n}}function pR(e,t){let n=[0];if(n=new Array(t).fill(0),0===e)return n;let r=0;for(;e>0&&(n[r]=255&e,e>>=8,r++,r!==t););return n}function fR(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function mR(e){const t="0123456789abcdef";function n(e){let n,r="";for(n=0;n<=3;n++)r+=t.charAt(e>>8*n+4&15)+t.charAt(e>>8*n&15);return r}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,o,i,a){return r((s=r(r(t,e),r(o,a)))<<(c=i)|s>>>32-c,n);var s,c}function i(e,t,n,r,i,a,s){return o(t&n|~t&r,e,t,i,a,s)}function a(e,t,n,r,i,a,s){return o(t&r|n&~r,e,t,i,a,s)}function s(e,t,n,r,i,a,s){return o(t^n^r,e,t,i,a,s)}function c(e,t,n,r,i,a,s){return o(n^(t|~r),e,t,i,a,s)}const l=function(e){let t;const n=1+(e.length+8>>6),r=new Array(16*n);for(t=0;t<16*n;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<t%4*8;return r[t>>2]|=128<<t%4*8,r[16*n-2]=8*e.length,r}(e);let u,d,h,p,f,m=1732584193,g=-271733879,v=-1732584194,y=271733878;for(u=0;u<l.length;u+=16)d=m,h=g,p=v,f=y,m=i(m,g,v,y,l[u+0],7,-680876936),y=i(y,m,g,v,l[u+1],12,-389564586),v=i(v,y,m,g,l[u+2],17,606105819),g=i(g,v,y,m,l[u+3],22,-1044525330),m=i(m,g,v,y,l[u+4],7,-176418897),y=i(y,m,g,v,l[u+5],12,1200080426),v=i(v,y,m,g,l[u+6],17,-1473231341),g=i(g,v,y,m,l[u+7],22,-45705983),m=i(m,g,v,y,l[u+8],7,1770035416),y=i(y,m,g,v,l[u+9],12,-1958414417),v=i(v,y,m,g,l[u+10],17,-42063),g=i(g,v,y,m,l[u+11],22,-1990404162),m=i(m,g,v,y,l[u+12],7,1804603682),y=i(y,m,g,v,l[u+13],12,-40341101),v=i(v,y,m,g,l[u+14],17,-1502002290),g=i(g,v,y,m,l[u+15],22,1236535329),m=a(m,g,v,y,l[u+1],5,-165796510),y=a(y,m,g,v,l[u+6],9,-1069501632),v=a(v,y,m,g,l[u+11],14,643717713),g=a(g,v,y,m,l[u+0],20,-373897302),m=a(m,g,v,y,l[u+5],5,-701558691),y=a(y,m,g,v,l[u+10],9,38016083),v=a(v,y,m,g,l[u+15],14,-660478335),g=a(g,v,y,m,l[u+4],20,-405537848),m=a(m,g,v,y,l[u+9],5,568446438),y=a(y,m,g,v,l[u+14],9,-1019803690),v=a(v,y,m,g,l[u+3],14,-187363961),g=a(g,v,y,m,l[u+8],20,1163531501),m=a(m,g,v,y,l[u+13],5,-1444681467),y=a(y,m,g,v,l[u+2],9,-51403784),v=a(v,y,m,g,l[u+7],14,1735328473),g=a(g,v,y,m,l[u+12],20,-1926607734),m=s(m,g,v,y,l[u+5],4,-378558),y=s(y,m,g,v,l[u+8],11,-2022574463),v=s(v,y,m,g,l[u+11],16,1839030562),g=s(g,v,y,m,l[u+14],23,-35309556),m=s(m,g,v,y,l[u+1],4,-1530992060),y=s(y,m,g,v,l[u+4],11,1272893353),v=s(v,y,m,g,l[u+7],16,-155497632),g=s(g,v,y,m,l[u+10],23,-1094730640),m=s(m,g,v,y,l[u+13],4,681279174),y=s(y,m,g,v,l[u+0],11,-358537222),v=s(v,y,m,g,l[u+3],16,-722521979),g=s(g,v,y,m,l[u+6],23,76029189),m=s(m,g,v,y,l[u+9],4,-640364487),y=s(y,m,g,v,l[u+12],11,-421815835),v=s(v,y,m,g,l[u+15],16,530742520),g=s(g,v,y,m,l[u+2],23,-995338651),m=c(m,g,v,y,l[u+0],6,-198630844),y=c(y,m,g,v,l[u+7],10,1126891415),v=c(v,y,m,g,l[u+14],15,-1416354905),g=c(g,v,y,m,l[u+5],21,-57434055),m=c(m,g,v,y,l[u+12],6,1700485571),y=c(y,m,g,v,l[u+3],10,-1894986606),v=c(v,y,m,g,l[u+10],15,-1051523),g=c(g,v,y,m,l[u+1],21,-2054922799),m=c(m,g,v,y,l[u+8],6,1873313359),y=c(y,m,g,v,l[u+15],10,-30611744),v=c(v,y,m,g,l[u+6],15,-1560198380),g=c(g,v,y,m,l[u+13],21,1309151649),m=c(m,g,v,y,l[u+4],6,-145523070),y=c(y,m,g,v,l[u+11],10,-1120210379),v=c(v,y,m,g,l[u+2],15,718787259),g=c(g,v,y,m,l[u+9],21,-343485551),m=r(m,d),g=r(g,h),v=r(v,p),y=r(y,f);return n(m)+n(g)+n(v)+n(y)}let gR=1,vR=console,yR=class{static setLogger(e){vR=e}constructor(e,t){aC(this,"id",void 0),aC(this,"lockingPromise",Uh.resolve()),aC(this,"locks",0),aC(this,"name",""),aC(this,"lockId",void 0),this.lockId=gR++,e&&(this.name=e),t&&(this.id=t),this.logger("created")}logger(e,t){const n=(this.id?"[".concat(this.id,"]"):"")+"[lock-".concat(this.name,"-").concat(this.lockId,"]"),r="created"===e?"is ".concat(e,"."):"is ".concat(e,", current queue ").concat(this.locks,". ").concat(null!=t?t:"");vR.debug("".concat(n," ").concat(r))}setId(e){this.id=e}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,this.logger("locked",e);const n=new Uh((n=>{t=()=>{this.locks-=1,this.logger("unlocked",e),n()}})),r=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>n)),r}};function _R(e,t){return function(n,r,o){const i=o.value;if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return o.value=async function(){const n=this[t];if(!n)throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));const o=await n.lock("From ".concat(e,".").concat(r));try{for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return await i.apply(this,s)}finally{o()}},o}}const ER={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function bR(e,t){const n=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,n)}function TR(e,t,n,r){const o=Object.assign({},ER,r);let i=o.timeout;const a=async()=>{var e;await(e=i,new Uh((t=>{window.setTimeout(t,e)}))),i*=o.timeoutFactor,i=Math.min(o.maxRetryTimeout,i)};let s=!1;const c=new Uh((async(r,i)=>{t=t||(()=>!1),n=n||(()=>!0);for(let l=0;l<o.maxRetryCount;l+=1){if(s)return i(new uC(lC.OPERATION_ABORTED));try{const n=await e();if(!t(n,l))return r(n);if(l+1===o.maxRetryCount)return r(n);await a()}catch(c){if(!n(c,l))return i(c);if(l+1===o.maxRetryCount)return i(c);await a()}}}));return c.cancel=()=>s=!0,c}class SR{constructor(e){aC(this,"input",[]),aC(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:qr(e=this.input).call(e,((e,t)=>e+t))/this.input.length}}let wR,CR=0,RR=0;function IR(e,t,n,r){return new Uh(((r,o)=>{t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),CR+=nR(t.data)):n&&(t.data.size?CR+=t.data.size:t.data instanceof FormData?CR+=rR(t.data):CR+=nR(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,bw.request(t).then((e=>{"string"==typeof e.data?RR+=nR(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?RR+=e.data.byteLength:RR+=nR(JSON.stringify(e.data)),r(e.data)})).catch((e=>{bw.isCancel(e)?o(new uC(lC.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?o(new uC(lC.NETWORK_TIMEOUT,e.message)):e.response?o(new uC(lC.NETWORK_RESPONSE_ERROR,e.response.status)):o(new uC(lC.NETWORK_ERROR,e.message))}))}))}async function AR(e,t){const n=new Blob([t.data],{type:"buffer"});return await IR(e,cC(cC({},t),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0)}const OR=()=>void 0!==window.isSecureContext,NR=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;const t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],n=t[2];return"".concat(e,".").concat(n)}return"4.0.0.999"}("4.22.2"),kR=function(){try{return!0===JSON.parse("true")}catch(vp){return!0}}();let DR=function(e){return e.Default="default",e.Auto="auto",e.Relay="relay",e.SdRtn="sd-rtn",e}({});const xR=function(){const e="us".concat("erna","me"),t="pa".concat("sswo","rd"),n=["t","s","t"];n.splice(1,0,"e");const r=n.join(""),o=[];for(let s=0;s<6;s++)o.push("1");const i=o.join(""),a={};return a[e]=r,a[t]=i,Object.assign(a,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=xR;const PR={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},MR="v4.22.2-0-g4caa29bb(10/28/2024, 2:37:34 PM)",LR=cC(cC({PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,SHOW_REPORT_USER_INVOKER_LOG:!0,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,FIRST_H264_PROFILE_LEVEL_ID:"42001f",FIRST_PACKETIZATION_MODE:"",X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:PR,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,CUSTOM_ADAPTATION_DEFAULT_MODE:"",ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,ENABLE_PRELOAD:!0,DISABLE_SCREEN_SHARE_REMB:!1},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,USE_PUB_RTX:!0,USE_SUB_RTX:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_DATASTREAM_2:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,USE_XR:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,ENABLE_PREALLOC_PC:!1,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_PRE_SUB:!1,ENABLE_AUT_FEEDBACK:!1}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0,COMPATIBLE_SDP_EXTENSION:["gdpr_forbidden"]});function UR(e,t,n){var r,o,i;Or(r=Object.keys(LR)).call(r,e)&&(!n&&Or(o=Object.keys(VR)).call(o,e)||(LR[e]=t,"ENABLE_VIDEO_SEI"===e&&!0===t&&(LR.ENABLE_ENCODED_TRANSFORM=!0),"USE_NEW_NETWORK_CONFIG"===e&&t&&(i=!!t,LR.USE_NEW_NETWORK_CONFIG=i,i&&(LR.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],LR.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],LR.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],LR.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],LR.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",LR.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",LR.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),"ENABLE_PRE_SUB"===e&&t&&(LR.ENABLE_INSTANT_VIDEO=!0,LR.ENABLE_PREALLOC_PC=!0),"ENABLE_SVC"===e&&t&&(LR.ENABLE_AUT_CC=!0)))}function jR(e){return LR[e]}kR||(LR.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],LR.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],LR.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],LR.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],LR.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],LR.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],LR.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",LR.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",LR.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",LR.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",LR.AREAS=["NORTH_AMERICA","OVERSEA"]);const VR={};var BR=function(e){return e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_DC_ID="SET_DC_id",e.SET_UID="SET_UID",e.SET_INT_UID="SET_INT_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.AVOID_JOIN_START="AVOID_JOIN_START",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",e.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS",e.SET_USE_P2P="SET_USE_P2P",e.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",e}(BR||{});class zR{constructor(e,t,n,r){aC(this,"state",void 0),this.state={codec:e,audioCodec:t,mode:n,clientId:r,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useP2P:!1,p2pTransport:DR.Default}}dispatch(e){this.state=function(e,t){switch(t.type){case BR.SET_SESSION_ID:return cC(cC({},e),{},{sessionId:t.sessionId});case BR.SET_P2P_ID:return cC(cC({},e),{},{p2pId:t.p2pId});case BR.SET_UID:return cC(cC({},e),{},{uid:t.uid});case BR.SET_INT_UID:return cC(cC({},e),{},{intUid:t.intUid});case BR.SET_PUB_ID:return cC(cC({},e),{},{pubId:t.pubId});case BR.KEY_METRIC_CLIENT_CREATED:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{clientCreated:t.metric})});case BR.KEY_METRIC_JOIN_START:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{joinStart:t.metric})});case BR.AVOID_JOIN_START:return cC(cC({},e),{},{avoidJoinStart:t.avoidJoinStart});case BR.KEY_METRIC_JOIN_END:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{joinEnd:t.metric})});case BR.KEY_METRIC_REQUEST_AP_START:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{requestAPStart:t.metric})});case BR.KEY_METRIC_REQUEST_AP_END:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{requestAPEnd:t.metric})});case BR.KEY_METRIC_JOIN_GATEWAY_START:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case BR.KEY_METRIC_JOIN_GATEWAY_END:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case BR.KEY_METRIC_PEER_CONNECTION_START:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case BR.KEY_METRIC_PEER_CONNECTION_END:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case BR.KEY_METRIC_DESCRIPTION_START:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{descriptionStart:t.metric})});case BR.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case BR.KEY_METRIC_ICE_CONNECTION_END:return cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case BR.KEY_METRIC_PUBLISH:{const n=e.keyMetrics.publish,r=n.findIndex((e=>e.trackId===t.metric.trackId));return-1!==r?(n[r]=cC(cC({},n[r]),t.metric),cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{publish:[...n]})})):cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case BR.KEY_METRIC_SUBSCRIBE:{const n=e.keyMetrics.subscribe,r=n.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==r?(n[r]=cC(cC({},n[r]),t.metric),cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{subscribe:[...n]})})):cC(cC({},e),{},{keyMetrics:cC(cC({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case BR.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case BR.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=cC(cC({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case BR.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case BR.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;case BR.SET_USE_P2P:return cC(cC({},e),{},{useP2P:t.val});case BR.SET_TRANSPORT_TYPE:return cC(cC({},e),{},{p2pTransport:t.val});default:return e}}(this.state,e)}set sessionId(e){this.dispatch({type:BR.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}set codec(e){this.state.codec=e}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:BR.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:BR.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:BR.SET_UID,uid:e})}get uid(){return this.state.uid}set intUid(e){this.dispatch({type:BR.SET_INT_UID,intUid:e})}get intUid(){return this.state.intUid}set pubId(e){this.dispatch({type:BR.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:BR.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(e){this.dispatch({type:BR.SET_USE_P2P,val:e})}get useP2P(){return this.state.useP2P}set p2pTransport(e){this.dispatch({type:BR.SET_TRANSPORT_TYPE,val:e})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:BR.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:BR.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:BR.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:BR.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:BR.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:BR.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:BR.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:BR.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:BR.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:BR.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:BR.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:BR.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,n,r){this.dispatch({type:BR.KEY_METRIC_PUBLISH,metric:cC(cC({trackId:e,type:t},n&&{publishStart:n}),r&&{publishEnd:r})})}subscribe(e,t,n,r,o,i,a){this.dispatch({type:BR.KEY_METRIC_SUBSCRIBE,metric:cC(cC(cC(cC(cC({userId:e,type:t},n&&{subscribeStart:n}),r&&{subscribeEnd:r}),o&&{firstFrame:o}),i&&{streamAdded:i}),a&&{firstDecoded:a})})}massSubscribe(e,t,n,r){e.forEach((e=>{this.dispatch({type:BR.KEY_METRIC_SUBSCRIBE,metric:cC(cC(cC({userId:e.userId,type:e.type},t&&{subscribeStart:t}),n&&{subscribeEnd:n}),r&&{firstFrame:r})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2"))));try{return"number"!=typeof t?(this.dispatch({type:BR.RECORD_JOIN_CHANNEL_SERVICE,record:cC(cC({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:BR.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(n){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:BR.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:BR.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(vp){return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(e){this.dispatch({type:BR.AVOID_JOIN_START,avoidJoinStart:e})}}let FR=function(e){return e.h264="h264",e.h265="h265",e.vp8="vp8",e.vp9="vp9",e.av1="av1",e}({});!function(e){e.opus="opus",e.pcma="pcma",e.pcmu="pcmu",e.g722="g722"}({});const HR=128,GR=96,WR=1e3,qR=10;let KR=0;function YR(e,t,n){return(t="symbol"==typeof(r=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var r}function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XR(Object(n),!0).forEach((function(t){YR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const JR=new class extends CC{constructor(){super(...arguments),YR(this,"currentUploadLogID",0)}reportLogUploadError(e){const{errorRange:t}=e;t[t.length-1]&&t[t.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=t[t.length-1],this.emit("REPORT_LOG_UPLOAD",e))}};class ZR{constructor(e){YR(this,"logger",void 0),YR(this,"prefixLists",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}function QR(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}function eI(){const e=new Date,t=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+":"+e.getUTCMilliseconds():e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const tI={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},nI=Date.now(),rI=e=>{for(const t in tI)if(Object.prototype.hasOwnProperty.call(tI,t)&&tI[t]===e)return t;return"DEFAULT"},oI=new class{constructor(){YR(this,"proxyServerURL",void 0),YR(this,"logLevel",tI.DEBUG),YR(this,"uploadState","collecting"),YR(this,"uploadLogWaitingList",[]),YR(this,"uploadLogUploadingList",[]),YR(this,"uploadErrorCount",0),YR(this,"currentLogID",0),YR(this,"url",void 0),YR(this,"extLog",((e,t)=>{this.appendLogToWaitingList(e,...t)}))}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[tI.DEBUG].concat(t);this.log.apply(this,r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[tI.INFO].concat(t);this.log.apply(this,r)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[tI.WARNING].concat(t);this.log.apply(this,r)}warn(){this.warning(...arguments)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[tI.ERROR].concat(t);this.log.apply(this,r)}upload(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[tI.DEBUG].concat(t);this.uploadLog.apply(this,r)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){UR("UPLOAD_LOG",!0)}disableLogUpload(){UR("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new ZR(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-nI<100)return void setTimeout((()=>{this.log(...t)}),Date.now()-nI);const r=Math.max(0,Math.min(4,t[0]));if(t[0]=QR()+" Agora-SDK [".concat(rI(r),"]:"),this.appendLogToWaitingList(r,...t),r<this.logLevel)return;const o=QR()+" %cAgora-SDK [".concat(rI(r),"]:");let i=[];if(!jR("USE_NEW_LOG"))switch(r){case tI.DEBUG:i=[o,"color: #64B5F6;"].concat(t.slice(1));break;case tI.INFO:i=[o,"color: #1E88E5; font-weight: bold;"].concat(t.slice(1));break;case tI.WARNING:i=[o,"color: #FB8C00; font-weight: bold;"].concat(t.slice(1));break;case tI.ERROR:i=[o,"color: #B00020; font-weight: bold;"].concat(t.slice(1))}}uploadLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-nI<100)return void setTimeout((()=>{this.uploadLog(...t)}),Date.now()-nI);const r=Math.max(0,Math.min(4,t[0]));t[0]=QR()+" Agora-SDK [".concat(rI(r),"]:"),this.appendLogToWaitingList(r,...t)}appendLogToWaitingList(e){if(!jR("UPLOAD_LOG"))return;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Array.isArray(n[0])?n[0][0]=eI()+" Agora-SDK [".concat(rI(e),"]:"):n[0]=eI()+" Agora-SDK [".concat(rI(e),"]:");let o="";n.forEach((e=>{"object"==typeof e&&(e=JSON.stringify(e)),o+="".concat(e," ")})),this.uploadLogWaitingList.push({payload_str:o,log_level:e,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:NR,process_id:jR("PROCESS_ID"),payload:JSON.stringify(e)};return TR((async()=>{const e=await bw.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(jR("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(jR("LOG_UPLOAD_SERVER"),"/upload/v1")),t,{responseType:"text"});if("OK"!==e.data){const t=new Error("unexpected upload log response");throw t.response=e,t}}),(()=>(this.uploadLogUploadingList=[],!1)),(t=>{const n={status:-1,message:t.message,errorRange:e.map((e=>e.log_item_id))};return t.response?(n.status=t.response.status,n.data=t.response.data,n.headers=t.response.headers):t.request&&(n.status=t.request.status),JR.reportLogUploadError(n),!0}),{timeout:jR("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:jR("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,jR("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),jR("UPLOAD_LOG_INTERVAL"))})).catch((e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),jR("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout((()=>this.uploadLogInterval()),jR("UPLOAD_LOG_RETRY_INTERVAL_V1"))})))}};var iI;function aI(e){return mC(e.reportId,"params.reportId",0,100,!1),mC(e.category,"params.category",0,100,!1),mC(e.event,"params.event",0,100,!1),mC(e.label,"params.label",0,100,!1),pC(e.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(iI={}).FREE="free",iI.UPLOADING="uploading",function(e){e[e.MISC=0]="MISC",e[e.INTERNAL_EVENT=1]="INTERNAL_EVENT",e[e.PUBLIC_EVENT=2]="PUBLIC_EVENT",e[e.WEB_EVENT=3]="WEB_EVENT",e[e.INTERNAL_API=4]="INTERNAL_API",e[e.WEB_API=5]="WEB_API",e[e.PUBLIC_API=6]="PUBLIC_API"}({});const sI={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let cI=function(e){return e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.WS_COMPRESSOR_INIT="ws_compressor_init",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.REJOIN_GATEWAY="rejoin_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics",e.PC_STATS="pc_stats",e.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities",e}({}),lI=function(e){return e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",e.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",e.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",e.PC_STATS="io.agora.pb.Wrtc.PCStats",e.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities",e}({});!function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}({});let uI=function(e){return e[e.SESSION=26]="SESSION",e[e.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",e[e.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",e[e.JOIN_GATEWAY=28]="JOIN_GATEWAY",e[e.PUBLISH=30]="PUBLISH",e[e.SUBSCRIBE=29]="SUBSCRIBE",e[e.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",e[e.STREAM_SWITCH=32]="STREAM_SWITCH",e[e.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",e[e.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",e[e.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",e[e.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",e[e.API_INVOKE=41]="API_INVOKE",e[e.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",e[e.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",e[e.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",e[e.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",e[e.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",e[e.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",e[e.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",e[e.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",e[e.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",e[e.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",e[e.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",e[e.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",e[e.USER_ANALYTICS=1e4]="USER_ANALYTICS",e[e.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED",e}({});function dI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r){const o=r.value;if("function"==typeof o){const i=e.className||t.__className__||("AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name);r.value=function(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];let c=a;if(e.argsMap)try{c=e.argsMap(this,...a)}catch(u){oI.warning(u),c=[]}try{JSON.stringify(c)}catch(u){oI.warning("arguments for method ".concat(i,".").concat(String(n)," not serializable for apiInvoke.")),c=[]}const l=(e.report||hI).reportApiInvoke(this._sessionId||null,{id:this._clientId||(null===(t=this.store)||void 0===t?void 0:t.clientId)||this._ID,name:"".concat(i,".").concat(String(n)),options:c,tag:OC.TRACER,reportResult:e.reportResult},e.throttleTime);try{const t=o.apply(this,a);return t instanceof Uh?t.then((t=>(l.onSuccess(e.reportResult&&t),t))).catch((e=>{throw l.onError(e),e})):(l.onSuccess(e.reportResult&&t),t)}catch(u){throw l.onError(u),u}}}return r}}const hI=new class{constructor(){YR(this,"baseInfoMap",new Map),YR(this,"proxyServer",void 0),YR(this,"eventUploadTimer",void 0),YR(this,"setSessionIdTimer",void 0),YR(this,"url",void 0),YR(this,"sids",new Set),YR(this,"backupUrl",void 0),YR(this,"_appId",void 0),YR(this,"keyEventUploadPendingItems",[]),YR(this,"normalEventUploadPendingItems",[]),YR(this,"apiInvokeUploadPendingItems",[]),YR(this,"apiInvokeCount",0),YR(this,"apiInvokeLoggedCount",0),YR(this,"ltsList",[]),YR(this,"lastSendNormalEventTime",Date.now()),YR(this,"customReportCounterTimer",void 0),YR(this,"customReportCount",0),YR(this,"extApiInvoke",(async e=>{for(const t of e){const e=$R($R({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:OC.TRACER});this.sendApiInvoke(e)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),jR("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),jR("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}setAppId(e){this._appId=e}reportApiInvoke(e,t,n){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const r=Date.now();this.apiInvokeCount+=1;const o=this.apiInvokeCount,i=!!jR("SHOW_REPORT_INVOKER_LOG"),a=!!jR("SHOW_REPORT_USER_INVOKER_LOG"),s=i||a&&t.id;s&&(this.apiInvokeLoggedCount+=1);const c=this.apiInvokeLoggedCount;function l(e,n){if(s){let r="[apiInvoke-".concat(c,"]");t.id&&(r+="[".concat(t.id,"]")),t.name&&(r+="[".concat(t.name,"]")),oI.info("".concat(r," ").concat(e),"start"===e?t.options:n||"")}}const u=()=>({tag:t.tag,invokeId:o,sid:e,name:t.name,apiInvokeTime:r,options:t.options,states:t.states||null});l("start");let d=!1;iR(t.timeout).then((()=>{d||(this.sendApiInvoke($R($R({},u()),{},{error:lC.API_INVOKE_TIMEOUT,success:!1})),l("timeout"))}));const h=new uC(lC.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:e=>{const r=()=>{if(d)throw h;return d=!0,this.sendApiInvoke($R($R({},u()),{},{success:!0},t.reportResult&&{result:e})),l("onSuccess"),e};return n?uR(r,t.name+"Success",n,(()=>d=!0)):r()},onError:e=>{const r=()=>{if(d)throw e;d=!0,this.sendApiInvoke($R($R({},u()),{},{success:!1,error:e})),l("onFailure",e.toString())};return n?uR(r,t.name+"Error",n,(()=>d=!0)):r()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const n=Date.now(),r=this.createBaseInfo(e,n);r.cname=t.cname;const o=Object.assign({},{willUploadConsoleLog:jR("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:kR?"global":"oversea",areas:jR("AREAS")&&jR("AREAS").join(",")},t.extend),{stringUid:i,channelProfile:a,channelMode:s,isABTestSuccess:c,lsid:l,clientRole:u}=t,d=Date.now(),h=$R($R({},r),{},{eventType:cI.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,buildFormat:t.buildFormat,build:MR,lts:d,elapse:d-n,extend:JSON.stringify(o),mode:t.mode,process:jR("PROCESS_ID"),appType:jR("APP_TYPE"),success:!0,version:NR,stringUid:i,channelProfile:a,channelMode:s,isABTestSuccess:c,lsid:l,clientType:Or(p=window.navigator.userAgent).call(p,"AgoraWebView")?42:20,clientRole:u,serviceId:jR("PROCESS_ID"),extensionID:jR("PLUGIN_INFO").join(",")||""});var p;this.send({type:lI.SESSION,data:h},!0)}joinChooseServer(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R({},r),{},{eventType:cI.JOIN_CHOOSE_SERVER,lts:o,eventElapse:t.elapse||o-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:o-n.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||"",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3,corssRegionTagReq:t.corssRegionTagReq||void 0,corssRegionTagRes:t.corssRegionTagRes||void 0});this.send({type:lI.JOIN_CHOOSE_SERVER,data:i},!0)}reqUserAccount(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R({},r),{},{eventType:cI.REQ_USER_ACCOUNT,lts:o,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:t.elapse||o-n.startTime,eventElapse:o-t.lts,extend:JSON.stringify(t.extend)});this.send({type:lI.REQ_USER_ACCOUNT,data:i},!0)}joinGateway(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info;t.vid&&(r.vid=t.vid),r.uid=t.uid,r.cid=t.cid;const o=Date.now(),{firstSuccess:i,avoidJoinStartTime:a}=t,s=o-(i&&a?a:n.startTime),c=$R($R({},r),{},{eventType:cI.JOIN_GATEWAY,lts:o,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,errorMsg:t.errorMsg||"",elapse:s,eventElapse:o-t.lts,firstSuccess:i,signalChannel:t.signalChannel,preload:t.preload?1:0});t.succ&&(n.lastJoinSuccessTime=o),this.send({type:lI.JOIN_GATEWAY,data:c},!0)}joinChannelTimeout(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=Date.now(),o=$R($R({},n.info),{},{lts:r,timeout:t,elapse:r-n.startTime});this.send({type:lI.JOIN_CHANNEL_TIMEOUT,data:o},!0)}publish(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R({},r),{},{eventType:cI.PUBLISH,lts:o,eventElapse:t.eventElapse,elapse:o-n.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:lI.PUBLISH,data:i},!0)}subscribe(e,t,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,i=Date.now(),a=$R($R({},o),{},{eventType:cI.SUBSCRIBE,lts:i,eventElapse:t.eventElapse,elapse:i-r.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid,preSsrc:t.preSsrc?1:0},n&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof t.peerid?a.peerSuid=t.peerid:a.peer=t.peerid,this.send({type:lI.SUBSCRIBE,data:a},!0)}wsCompressorInit(e){var t;const n=[...rf(t=this.baseInfoMap).call(t)],r=n.length?n[0]:"UnableToGetSid",o=this.baseInfoMap.get(r);if(!o)return;const i=o.info,a=Date.now(),s=$R($R({},i),{},{eventType:cI.WS_COMPRESSOR_INIT,lts:a,eventElapse:e.eventElapse,elapse:a-o.startTime,status:e.status?1:2});this.send({type:lI.WS_COMPRESSOR_INIT,data:s},!0)}firstRemoteVideoDecode(e,t,n,r){const o=this.baseInfoMap.get(e);if(!o)return;const i=o.info,a=Date.now(),s=$R($R($R({},i),r),{},{elapse:a-o.startTime,eventType:t,lts:a,firstDecodeFrame:Math.max((r.firstFrame||a)-o.startTime,0),apEnd:Math.max(r.apEnd-o.startTime,0),apStart:Math.max(r.apStart-o.startTime,0),joinGwEnd:Math.max(r.joinGwEnd-o.startTime,0),joinGwStart:Math.max(r.joinGwStart-o.startTime,0),pcEnd:Math.max(r.pcEnd-o.startTime,0),pcStart:Math.max(r.pcStart-o.startTime,0),subscriberEnd:Math.max(r.subscriberEnd-o.startTime,0),subscriberStart:Math.max(r.subscriberStart-o.startTime,0),videoAddNotify:Math.max(r.videoAddNotify-o.startTime,0)});this.send({type:n,data:s},!0)}firstRemoteFrame(e,t,n,r){const o=this.baseInfoMap.get(e);if(!o)return;const i=o.info,a=Date.now(),s=$R($R($R({},i),r),{},{elapse:a-o.startTime,eventType:t,lts:a});this.send({type:n,data:s},!0)}pcStats(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R($R({},r),t),{},{vid:void 0===r.vid?0:Number(r.vid),elapse:o-n.startTime,eventType:cI.PC_STATS,lts:o,preallocation:t.preallocation?1:0});this.send({type:lI.PC_STATS,data:i},!0)}updateRemoteRTPCapabilities(e,t){if(e){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R($R({},r),t),{},{vid:void 0===r.vid?0:Number(r.vid),eventType:cI.UPDATE_REMOTE_RTPCAPABILITIES,lts:o});this.send({type:lI.UPDATE_REMOTE_RTPCAPABILITIES,data:i},!0)}}onGatewayStream(e,t,n,r){const o=this.baseInfoMap.get(e);if(!o)return;const i=o.info,a=Date.now(),s=$R($R($R({},i),r),{},{eventType:t,lts:a});this.send({type:n,data:s},!0)}streamSwitch(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R({},r),{},{eventType:cI.STREAM_SWITCH,lts:o,isDual:t.isdual,elapse:o-n.startTime,success:t.succ});this.send({type:lI.STREAM_SWITCH,data:i},!0)}requestProxyAppCenter(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R({},r),{},{eventType:cI.REQUEST_PROXY_APPCENTER,lts:o,eventElapse:o-t.lts,elapse:o-n.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:lI.REQUEST_PROXY_APPCENTER,data:i},!0)}requestProxyWorkerManager(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R({},r),{},{eventType:cI.REQUEST_PROXY_WORKER_MANAGER,lts:o,eventElapse:o-t.lts,elapse:o-n.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:lI.REQUEST_PROXY_WORKER_MANAGER,data:i},!0)}setProxyServer(e){this.proxyServer=e,e?oI.debug("reportProxyServerurl: ".concat(e)):oI.debug("disable reportProxyServerurl: ".concat(e))}peerPublishStatus(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R({},r),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:o,elapse:o-n.startTime,joinChannelSuccessElapse:o-(n.lastJoinSuccessTime||o),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:lI.PEER_PUBLISH_STATUS,data:i},!0)}workerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now();(function(e,t,n){const r=e[t];if(!r||"string"!=typeof r)return[e];e[t]="";const o=nR(JSON.stringify(e));let i=0;const a=[];let s=0;for(let c=0;c<r.length;c++)s+=r.charCodeAt(c)<=127?1:3,s<=n-o||(a[a.length]=cC(cC({},e),{},{[t]:r.substring(i,c)}),i=c,s=r.charCodeAt(c)<=127?1:3);return i!==r.length-1&&(a[a.length]=cC(cC({},e),{},{[t]:r.substring(i)})),a})($R($R($R({},r),t),{},{elapse:o-n.startTime,lts:o,productType:"WebRTC"}),"payload",1300).forEach((e=>this.send({type:lI.WORKER_EVENT,data:e},!0)))}apworkerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R($R({},r),t),{},{elapse:o-n.startTime,lts:o});this.send({type:lI.AP_WORKER_EVENT,data:i},!0)}joinWebProxyAP(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R($R({},r),t),{},{elapse:o-n.startTime,lts:o,extend:t.extend||void 0});this.send({type:lI.JOIN_WEB_PROXY_AP,data:i},!0)}WebSocketQuit(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=$R($R($R({},r),t),{},{elapse:o-n.startTime,lts:o});this.send({type:lI.WEBSOCKET_QUIT,data:i},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>jR("CUSTOM_REPORT_LIMIT"))throw new uC(lC.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const n=Date.now(),r=t.map((t=>({type:lI.USER_ANALYTICS,data:$R($R({sid:e},t),{},{lts:n})})));try{jR("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(r):await this.postDataToStatsCollector(r)}catch(o){throw oI.error("send custom report message failed",o.toString()),new uC(lC.CUSTOM_REPORT_SEND_FAILED,o.message)}}sendApiInvoke(e){const t=jR("NOT_REPORT_EVENT");if(e.tag&&Or(t)&&Or(t).call(t,e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const n=this.baseInfoMap.get(e.sid);if(!n)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:r,uid:o,cid:i}=n.info;let a;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof uC){const{code:t,message:n}=e.error;a=t||n||e.error.toString()}else a=e.error.toString();const s={invokeId:e.invokeId,sid:e.sid,cname:r,cid:i,uid:o,lts:e.lts,success:e.success,elapse:e.lts-n.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?a:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:lI.API_INVOKE,data:s},!1),!0}addSid(e){this.sids.add(e)}removeSid(e){this.sids.delete(e)}appendSessionId(){const e=this.apiInvokeUploadPendingItems;if(0===e.length)return;const t=Array.from(this.sids).find((e=>null!==e));t&&e.forEach((e=>{e&&(e.sid=t,this.sendApiInvoke(Object.assign({},e)))})),e.length=0}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>jR("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const n=[],r=[];for(;e.length;){const t=e.shift();n.length<20?n.push(t):r.push(t)}e.push(...r);for(const i of[...n]){var o;-1!==this.ltsList.indexOf(i.data.lts)?(i.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(i.data.lts)):(this.ltsList.push(i.data.lts),Qf(o=this.ltsList).call(o,((e,t)=>e-t)))}return t||(this.lastSendNormalEventTime=Date.now()),jR("ENABLE_EVENT_REPORT")?(n.length&&(jR("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(n):this.postDataToStatsCollector(n)).catch((e=>n=>{jR("EVENT_REPORT_RETRY")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>jR("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-jR("NORMAL_EVENT_QUEUE_CAPACITY")),oI.warning("report: drop normal events"))))})(n)),e):e}async postDataToStatsCollector2(e){GC.networkState===jC.OFFLINE&&await Uh.race([GC.onlineWaiter,iR(2*ER.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach((e=>{const n=TC(JSON.stringify(e.data)),r=new ArrayBuffer(5),o=(e=>{let t=0;return Object.entries(lI).forEach((n=>{let[r,o]=n;o===e.type&&(t=uI[r])})),t})(e),i=new DataView(r);i.setUint16(0,n.byteLength,!0),i.setUint8(2,255&o),i.setUint8(3,o>>>8&255),i.setUint8(4,o>>>16&255),t=SC(t,new Uint8Array(r)),t=SC(t,n)})),t},n="event";let r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(jR("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(n):"https://".concat(jR("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(n);for(let i=0;i<2;i+=1){1===i&&(r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(jR("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(n):"https://".concat(jR("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(n));try{await IR(r,{timeout:1e4,data:t(e),headers:$R($R({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(o){if(1===i)throw o;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:e.map((e=>JSON.stringify(e))),vid:(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0])};GC.networkState===jC.OFFLINE&&await Uh.race([GC.onlineWaiter,iR(2*ER.maxRetryTimeout)]);const r=t?"/events/proto-raws":"/events/messages";let o=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(jR("EVENT_REPORT_DOMAIN"),"&p=").concat(jR("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(jR("EVENT_REPORT_DOMAIN"),":").concat(jR("STATS_COLLECTOR_PORT")).concat(r));for(let a=0;a<2;a+=1){1===a&&(o=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(jR("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(jR("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(jR("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(jR("STATS_COLLECTOR_PORT")).concat(r)));try{t?await AR(o,{timeout:1e4,data:n}):await IR(o,{timeout:1e4,data:n})}catch(i){if(1===a)throw i;continue}return}}createBaseInfo(e,t){const n=Object.assign({},sI);return n.sid=e,this.baseInfoMap.set(e,{info:n,startTime:t}),n}reportResourceTiming(e,t){const n=performance.getEntriesByName(e),r=n[n.length-1];r&&this.reportApiInvoke(t,{name:"Client.resourceTiming",options:r,tag:OC.TRACER}).onSuccess()}};JR.on("REPORT_LOG_UPLOAD",(e=>{e.networkState=GC.networkState,hI.reportApiInvoke(null,{name:"logUploadError",options:e,tag:OC.TRACER}).onSuccess("logUploadError")}));class pI extends uC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2?arguments[2]:void 0),YR(this,"name","AgoraRTCException")}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return super.print(e,oI)}throw(){super.throw(oI)}}const fI=["CHINA","GLOBAL"],mI=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],gI=[];function vI(e,t){return!!t&&gI.some((n=>n.uid===e&&n.channelName===t))}var yI=Kv.forEach,_I=jr("forEach")?[].forEach:function(e){return yI(this,e,arguments.length>1?arguments[1]:void 0)};On({target:"Array",proto:!0,forced:[].forEach!=_I},{forEach:_I});var EI=$n("Array").forEach,bI=hr,TI=Ze,SI=u,wI=EI,CI=Array.prototype,RI={DOMTokenList:!0,NodeList:!0},II=n((function(e){var t=e.forEach;return e===CI||SI(CI,e)&&t===CI.forEach||TI(RI,bI(e))?wI:t})),AI=Xe,OI=Zo;On({target:"Object",stat:!0,forced:r((function(){OI(1)}))},{keys:function(e){return OI(AI(e))}});var NI=n(ne.Object.keys),kI=n(Wr),DI=On,xI=Xg,PI=l([].reverse),MI=[1,2];DI({target:"Array",proto:!0,forced:String(MI)===String(MI.reverse())},{reverse:function(){return xI(this)&&(this.length=this.length),PI(this)}});var LI=$n("Array").reverse,UI=u,jI=LI,VI=Array.prototype,BI=function(e){var t=e.reverse;return e===VI||UI(VI,e)&&t===VI.reverse?jI:t},zI=n(BI),FI=On,HI=Xg,GI=Uc,WI=te,qI=Un,KI=Fn,YI=Z,XI=uf,$I=ht,JI=qc,ZI=sv("slice"),QI=$I("species"),eA=Array,tA=Math.max;FI({target:"Array",proto:!0,forced:!ZI},{slice:function(e,t){var n,r,o,i=YI(this),a=KI(i),s=qI(e,a),c=qI(void 0===t?a:t,a);if(HI(i)&&(n=i.constructor,(GI(n)&&(n===eA||HI(n.prototype))||WI(n)&&null===(n=n[QI]))&&(n=void 0),n===eA||void 0===n))return JI(i,s,c);for(r=new(void 0===n?eA:n)(tA(c-s,0)),o=0;s<c;s++,o++)s in i&&XI(r,o,i[s]);return r.length=o,r}});var nA=$n("Array").slice,rA=u,oA=nA,iA=Array.prototype,aA=n((function(e){var t=e.slice;return e===iA||rA(iA,e)&&t===iA.slice?oA:t}));function sA(e,t,n,r,o){var i,a,s,c={};return II(i=NI(r)).call(i,(function(e){c[e]=r[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=kI(a=zI(s=aA(n).call(n)).call(s)).call(a,(function(n,r){return r(e,t,n)||n}),c),o&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(o):void 0,c.initializer=void 0),void 0===c.initializer&&(Kg(e,t,c),c=null),c}let cA=function(e){return e.L1T1="L1T1",e.L1T2="L1T2",e.L1T3="L1T3",e.L1T3_KEY="L1T3_KEY",e.L2T1_KEY="L2T1_KEY",e.L2T2_KEY="L2T2_KEY",e.L2T3_KEY="L2T3_KEY",e.L3T1_KEY="L3T1_KEY",e.L3T2_KEY="L3T2_KEY",e.L3T3_KEY="L3T3_KEY",e}({}),lA=function(e){return e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver",e}({}),uA=function(e){return e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR",e}({}),dA=function(e){return e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR",e}({}),hA=function(e){return e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND",e}({}),pA=function(e){return e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",e[e.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV",e}({}),fA=function(e){return e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.K_AUTO_REBALANCE=28]="K_AUTO_REBALANCE",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",e[e.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",e[e.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",e[e.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",e[e.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY",e}({}),mA=function(e){return e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed",e}({}),gA=function(e){return e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.ABORT_P2P_EXECUTION="abort_p2p_execution",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success",e.JOIN_RESPONSE="join_response",e.PRE_CONNECT_PC="pre_connect_pc",e.P2P_CONNECTION="p2p_connection",e.P2P_REMOTE_CANDIDATE_UPDATE="p2p_remote_candidate_update",e.P2P_SUBSCRIBE="p2p_subscribe",e.P2P_UNSUBSCRIBE="p2p_unsubscribe",e.P2P_EXCHANGE_SDP="p2p_exchange_sdp",e.P2P_ON_ADD_VIDEO_STREAM="p2p_on_add_video_stream",e.P2P_ON_ADD_AUDIO_STREAM="p2p_on_add_audio_stream",e.RECOVER_NOTIFICATION="recover_notification",e}({}),vA=function(e){return e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v3",e.REJOIN="rejoin_v3",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.PUBLISH_DATASTREAM="publish_datastream",e.UNPUBLISH="unpublish",e.UNPUBLISH_DATASTREAM="unpublish_datastream",e.SUBSCRIBE="subscribe",e.PRE_SUBSCRIBE="pre_subscribe",e.SUBSCRIBE_DATASTREAM="subscribe_datastream",e.SUBSCRIBE_STREAMS="subscribe_streams",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_DATASTREAM="unsubscribe_datastream",e.UNSUBSCRIBE_STREAMS="unsubscribe_streams",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.DEFAULT_VIDEO_STREAM="default_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer",e.RESTART_ICE="restart_ice",e.CONNECT_PC="connect_pc",e.SET_VIDEO_PROFILE="set_video_profile",e.SET_PARAMETER="set_parameter",e.SET_RTM2_FLAG="set_rtm2_flag",e}({}),yA=function(e){return e.WRTC_STATS="wrtc_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",e.DENOISER_STATS="denoiser_stats",e.EXTENSION_USAGE_STATS="extension_usage_stats",e}({}),_A=function(e){return e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_USER_LICENSE_BANNED="on_user_license_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.ON_P2P_OK="on_p2p_ok",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ON_RTP_CAPABILITY_CHANGE="on_rtp_capability_change",e.ON_REMOTE_DATASTREAM_UPDATE="on_remote_datastream_update",e.ON_REMOTE_FULL_DATASTREAM_INFO="on_remote_full_datastream_info",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio",e.ON_PUBLISHED_USER_LIST="on_published_user_list",e}({}),EA=function(e){return e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY",e}({}),bA=function(e){return e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls",e.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire",e}({});function TA(e){if("string"!=typeof e||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e))throw oI.error("Invalid Channel Name ".concat(e)),new pI(lC.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function SA(e){if(!("number"==typeof(t=e)&&Math.floor(t)===t&&0<=t&&t<=4294967295||yC(e,1,255)))throw new pI(lC.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");var t;"string"==typeof e&&oI.warn("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}let wA=function(e){return e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e}({});const CA={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},RA={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function IA(e,t){mC(e.url,"".concat(t,".url"),1,1e3,!1),vC(e.x)||pC(e.x,"".concat(t,".x"),0,1e4),vC(e.y)||pC(e.y,"".concat(t,".y"),0,1e4),vC(e.width)||pC(e.width,"".concat(t,".width"),0,1e4),vC(e.height)||pC(e.height,"".concat(t,".height"),0,1e4),vC(e.zOrder)||pC(e.zOrder,"".concat(t,".zOrder"),0,255),vC(e.alpha)||pC(e.alpha,"".concat(t,".alpha"),0,1,!1)}const AA={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""};let OA=function(e){return e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address",e}({}),NA=function(e){return e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager",e}({}),kA=function(e){return e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN",e}({});function DA(e){if(!e.channelName)throw new pI(lC.INVALID_PARAMS,"invalid channelName in info");if("number"!=typeof e.uid)throw new pI(lC.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&mC(e.token,"info.token",1,2047),SA(e.uid),TA(e.channelName),!0}let xA=function(e){return e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile",e}({}),PA=function(e){return e.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",e.NETWORK_CONNECTED="NETWORK_CONNECTED",e.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",e.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",e.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",e.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",e.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",e.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE",e}({}),MA=function(e){return e.RELAY_STATE_IDLE="RELAY_STATE_IDLE",e.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",e.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",e.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE",e}({}),LA=function(e){return e.RELAY_OK="RELAY_OK",e.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",e.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",e.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED",e}({}),UA=function(e){return e.High="high",e.Low="low",e.Audio="audio",e.Screen="screen",e.ScreenLow="screen_low",e}({}),jA=function(e){return e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid",e.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",e.JOIN_RESPONSE="join-response",e.RESET_CONNECTION_EVENTS="reset-connection-events",e.PRE_CONNECT_PC="pre-connect_pc",e}({}),VA=function(e){return e.P2P_DISCONNECTED="P2P_DISCONNECTED",e.A_ROUND_WS_FAILED="A_ROUND_WS_FAILED",e.TIMEOUT="TIMEOUT",e.UNKNOWN_REASON="UNKNOWN_REASON",e}({}),BA=function(e){return e[e.Nothing=0]="Nothing",e[e.Audio=1]="Audio",e[e.LwoVideo=2]="LwoVideo",e[e.Video=4]="Video",e[e.Data=8]="Data",e[e.DataStream0=256]="DataStream0",e[e.DataStream1=512]="DataStream1",e[e.DataStream2=1024]="DataStream2",e[e.DataStream3=2048]="DataStream3",e[e.DataStream4=4096]="DataStream4",e[e.DataStream5=8192]="DataStream5",e[e.DataStream6=16384]="DataStream6",e[e.DataStream7=32768]="DataStream7",e}({}),zA=function(e){return e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.KOREA="KOREA",e.HKMC="HKMC",e.US="US",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="EXTENSIONS",e}({});const FA=[zA.AFRICA,zA.ASIA,zA.CHINA,zA.EUROPE,zA.GLOBAL,zA.INDIA,zA.JAPAN,zA.NORTH_AMERICA,zA.OCEANIA,zA.OVERSEA,zA.SOUTH_AMERICA];let HA=function(e){return e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.KOREA="KR",e.HKMC="HK",e.US="US",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="GLOBAL",e}({});const GA={CHINA:{},ASIA:{CODE:HA.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:HA.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:HA.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:HA.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","uap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:HA.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:HA.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:HA.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:HA.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:HA.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:HA.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:HA.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:HA.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:HA.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]},EXTENSIONS:{}};kR&&(GA.CHINA={CODE:HA.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]});let WA=function(e){return e.UPDATE_BITRATE_LIMIT="update_bitrate_limit",e}({});class qA extends CC{constructor(e,t){super(),OE(this,"onICEConnectionStateChange",void 0),OE(this,"onConnectionStateChange",void 0),OE(this,"onDTLSTransportStateChange",void 0),OE(this,"onDTLSTransportError",void 0),OE(this,"onICETransportStateChange",void 0),OE(this,"onFirstAudioReceived",void 0),OE(this,"onFirstVideoReceived",void 0),OE(this,"onFirstAudioDecoded",void 0),OE(this,"onFirstVideoDecoded",void 0),OE(this,"onFirstVideoDecodedTimeout",void 0),OE(this,"onSelectedLocalCandidateChanged",void 0),OE(this,"onSelectedRemoteCandidateChanged",void 0),OE(this,"getLocalVideoStats",void 0)}}class KA extends qA{constructor(e,t){super(e,t),OE(this,"establishPromise",void 0)}}let YA=function(e){return e.VIDEO="video",e.AUDIO="audio",e}({}),XA=function(e){return e[e.UDP=0]="UDP",e[e.TCP=1]="TCP",e[e.RELAY=2]="RELAY",e}({}),$A=function(e){return e[e.FIRST_CONNECTION=0]="FIRST_CONNECTION",e[e.TCP_RESTART=1]="TCP_RESTART",e[e.RELAY_RESTART=2]="RELAY_RESTART",e[e.OLD_FIRST_CONNECTION=10]="OLD_FIRST_CONNECTION",e[e.OLD_RESTART=11]="OLD_RESTART",e[e.DISCONNECTED_OR_FAILED=20]="DISCONNECTED_OR_FAILED",e}({}),JA=function(e){return e.LocalVideoTrack="videoTrack",e.LocalAudioTrack="audioTrack",e.LocalVideoLowTrack="videoLowTrack",e}({}),ZA=function(e){return e.New="new",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnected="disconnected",e}({}),QA=function(e){return e.StateChange="stateChange",e.IceConnectionStateChange="iceConnectionStateChange",e.RequestMuteLocal="requestMuteLocal",e.RequestUnmuteLocal="requestUnmuteLocal",e.RequestRePublish="requestRePublish",e.RequestRePublishDataChannel="requestRePublishDataChannel",e.RequestReSubscribe="requestReSubscribe",e.RequestUploadStats="requestUploadStats",e.RequestUpload="requestUpload",e.MediaReconnectStart="MediaReconnectStart",e.MediaReconnectEnd="MediaReconnectEnd",e.NeedSignalRTT="NeedSignalRTT",e.RequestRestartICE="RequestRestartIce",e.PeerConnectionStateChange="PeerConnectionStateChange",e.RequestReconnect="RequestReconnect",e.RequestReconnectPC="RequestReconnectPC",e.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",e.P2PLost="P2PLost",e.UpdateVideoEncoder="UpdateVideoEncoder",e.ConnectionTypeChange="ConnectionTypeChange",e.RequestLowStreamParameter="RequestLowStreamParameter",e.QueryClientConnectionState="QueryClientConnectionState",e.LocalCandidate="LocalCandidate",e.RequestP2PMuteLocal="requestP2PMuteLocal",e.RequestP2PUnPublish="RequestP2PUnPublish",e.RequestP2PUnmuteRemote="RequestP2PUnmuteRemote",e.RequestP2PMuteRemote="RequestP2PMuteRemote",e.RequestP2PRestartICE="RequestP2PRestartICE",e}({}),eO=function(e){return e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED",e}({}),tO=function(e){return e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED",e}({}),nO=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url",e}({}),rO=function(e){return e.CONNECTED="transmitter:connected",e.RECONNECTING="transmitter:reconnecting",e.WILL_RECONNECT="transmitter:will_reconnect",e.CLOSED="transmitter:closed",e.FAILED="transmitter:failed",e.ON_MESSAGE="transmitter:on_message",e.REQUEST_NEW_URLS="transmitter:request_new_urls",e.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",e.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",e.FAILBACK="transmitter:failback",e.PRE_CONNECT_PC="transmitter:pre_connect_pc",e}({}),iO=function(e){return e.CAMERA_CHANGED="camera-changed",e.MICROPHONE_CHANGED="microphone-changed",e.PLAYBACK_DEVICE_CHANGED="playback-device-changed",e.AUDIO_AUTOPLAY_FAILED="audio-autoplay-failed",e.AUTOPLAY_FAILED="autoplay-failed",e.AUDIO_CONTEXT_STATE_CHANGED="audio-context-state-changed",e.SECURITY_POLICY_VIOLATION="security-policy-violation",e}({}),aO=function(e){return e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED",e}({}),sO=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url",e}({}),cO=function(e){return e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED",e}({}),lO=function(e){return e.CALL="call",e.CANDIDATE="candidate",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.CONTROL="control",e.RESTART_ICE="restart_ice",e.ACK="ack",e.RESPONSE="response",e.JOIN="join",e.CHECK="check",e}({}),uO=function(e){return e.ABORT="abort",e}({}),dO=function(e){return e.MUTE_LOCAL_AUDIO="mute_local_audio",e.MUTE_LOCAL_VIDEO="mute_local_video",e.UNMUTE_LOCAL_AUDIO="unmute_local_audio",e.UNMUTE_LOCAL_VIDEO="unmute_local_video",e}({}),hO=function(e){return e.P2P_TOKEN_TIMEOUT="p2p_token_timeout",e.P2P_TOKEN_CHANGED="p2p_token_changed",e}({});const pO={[uA.ACCESS_POINT]:{[pA.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[pA.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[pA.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[pA.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[pA.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[pA.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_VOICE]:{desc:"no unilbs voice service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[pA.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[uA.UNILBS]:{[hA.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[hA.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[hA.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[hA.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[hA.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[hA.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[hA.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[hA.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[hA.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[hA.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[hA.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[hA.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[uA.STRING_UID_ALLOCATOR]:{[dA.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[dA.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[dA.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function fO(e){const t=pO[Math.floor(e/1e4)];if(!t)return{desc:"unknown error",retry:!1};const n=t[e%1e4];if(!n){if(Math.floor(e/1e4)===uA.ACCESS_POINT){const t=e%1e4;if("1"===t.toString()[0])return{desc:e.toString(),retry:!1};if("2"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:"unknown error",retry:!1}}return n}const mO={[fA.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[fA.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[fA.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[fA.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[fA.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[fA.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[fA.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[fA.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[fA.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[fA.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[fA.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[fA.K_AUTO_REBALANCE]:{desc:"k_AUTO_REBALANCE",action:"recover"},[fA.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[fA.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[fA.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[fA.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[fA.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[fA.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[fA.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[fA.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[fA.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[fA.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[fA.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[fA.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[fA.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[fA.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[fA.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[fA.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[fA.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[fA.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[fA.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[fA.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[fA.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[fA.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[fA.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[fA.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[fA.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[fA.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[fA.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[fA.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[fA.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[fA.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[fA.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[fA.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[fA.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[fA.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[fA.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[fA.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[fA.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[fA.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[fA.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[fA.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[fA.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[fA.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[fA.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[fA.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[fA.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[fA.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[fA.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[fA.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[fA.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[fA.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[fA.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function gO(e){return mO[e]||{desc:"UNKNOWN_ERROR_".concat(e),action:"failed"}}function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vO(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _O(e){return e.every((e=>e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING))}function EO(e,t){if("string"==typeof e)return e;const{proxy:n,host:r,port:o}=e;if(t){const e=jR("JOIN_GATEWAY_FALLBACK_PORT")||443;return 443===e?"wss://".concat(r,"/ws/?p=").concat(Number(o)+150):"wss://".concat(r,":").concat(e,"/ws/?p=").concat(Number(o)+150)}return n?"wss://".concat(n,"/ws/?h=").concat(r,"&p=").concat(o):"wss://".concat(r,":").concat(o)}const bO=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,TO=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,SO=/wss:\/\/(.+):([0-9]+)\/?/,wO=/wss:\/\/(.[^\/]+)\/?/;let CO=0;class RO{constructor(e,t){OE(this,"id",0),OE(this,"store",void 0),OE(this,"recordIndex",void 0),OE(this,"websockets",[]),OE(this,"try443PortDuration",2e3),OE(this,"forceCloseWSDuration",5e3),OE(this,"try443PortTimeout",null),OE(this,"forceCloseTimeout",null),OE(this,"isTry443PortFailed",!1),OE(this,"isNormalPortFailed",!1),OE(this,"useDoubleDomain",!1),OE(this,"useProxy",!1),OE(this,"startTime",Date.now()),this.id=++CO,this.try443PortDuration=jR("JOIN_GATEWAY_TRY_443PORT_DURATION")||2e3,this.forceCloseWSDuration=e||5e3,this.store=t}closeAllWebsockets(){this.websockets.forEach((e=>{e.onopen=null,e.onclose=null,e.onmessage=null,e.close()})),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var e;const t=Date.now()-this.startTime;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];oI.debug("[choose-best-ws ".concat(null===(e=this.store)||void 0===e?void 0:e.clientId," ").concat(this.id,"] ").concat(t,"ms:"),...r)}createWebSocket(e,t,n){this.logger("createWebSocket:",e,{isTry443Port:t,hasTimeoutDetection:n});const r=jR("GATEWAY_DOMAINS"),o=Date.now(),i=[],a=r.find((t=>{var n;return Or(n=e.host).call(n,t)}));a||(this.useDoubleDomain=!1);const s=[];if(this.useDoubleDomain)r.forEach((n=>{s.push(EO(yO(yO({},e),{},{host:e.host.replace(a,n)}),t))}));else{const n=yO({},e);if(t&&a){const e=r.find((e=>e!==a));e&&(n.host=n.host.replace(a,e))}s.push(EO(n,t))}try{s.forEach((e=>{const t=new WebSocket(e);t.binaryType="arraybuffer",i.push(t),this.logger("ws is connecting:",t.url)}))}catch(l){if(this.logger("ws create failed"),i.forEach((e=>e.close())),i.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,t,n);if(!t&&443!==Number(e.port))return this.createWebSocket(e,!0,n);throw new pI(lC.WS_ERR,"init websocket failed! Error: ".concat(l.toString()))}const c=Sw();return this.store&&this.store.recordJoinChannelService({urls:i.map((e=>e.url)),service:"gateway"},this.recordIndex),i.forEach((e=>{e.onopen=()=>{this.logger("onopen: ws ".concat(e.url," open cost ").concat(Date.now()-o,"ms")),this.websockets.forEach((t=>{t!==e&&(t.onopen=null,t.onclose=null,t.onmessage=null,t.close(),this.logger("close backup websocket: ".concat(t.url)))})),this.websockets.length=0,c.resolve(e)},e.onclose=n=>{this.logger("onclose: ws ".concat(e.url," closed cost ").concat(Date.now()-o,"ms state: ").concat(e.readyState)),t?this.isTry443PortFailed=_O(i):this.isNormalPortFailed=_O(i),this.logger("443: ".concat(this.useProxy?"not try":this.isTry443PortFailed?"failed":"trying"," 47xx: ").concat(this.isNormalPortFailed?"failed":"trying")),(t&&this.isTry443PortFailed||!t&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger("onclose: all websocket is closed, ".concat(n.reason)),c.reject({code:n.code,reason:VA.A_ROUND_WS_FAILED}))},e.onmessage=t=>this.logger("".concat(e.url," onmessage: ").concat(t.data))})),this.websockets.push(...i),n||(()=>{const n=()=>{this.logger("5s timeout close un-opens, isWebsocket created: ",c.isResolved),this.websockets.forEach((e=>e.readyState!==WebSocket.OPEN&&e.close()))};if(t||this.useProxy)return this.logger("add 5s timeout at ".concat(t?"try-443":"proxy"," condition")),this.forceCloseTimeout=window.setTimeout(n,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout((()=>{if(this.logger("2s timeout, isWebsocket created: ",c.isResolved),c.isResolved)return n();Dw().os===Iw.MAC_OS&&Bw()&&n(),this.createWebSocket(e,!0,!0).then((e=>c.resolve(e))).catch((e=>{this.isNormalPortFailed&&c.reject(e),this.logger("try 443 port to create ws failed")})),this.forceCloseTimeout=window.setTimeout(n,this.forceCloseWSDuration)}),this.try443PortDuration)})(),c.promise}chooseBestWebsocket(e,t,n,r){return this.useDoubleDomain=!!t,"string"==typeof e&&(e=function(e){let t,n,r;return[,t,n,r]=e.match(bO)||[],t||([,n,r]=e.match(TO)||[]),n&&r||([,n,r]=e.match(SO)||[]),n&&r||([,n]=e.match(wO)||[]),n||oI.warning("un-destructible url: ",e),{proxy:t,host:n,port:r||"443"}}(e)),this.recordIndex=r,this.useProxy=!!e.proxy,n&&this.useProxy&&(oI.warn("cannot use 443 only when use proxy"),n=!1),this.createWebSocket(e,!!n,!1).finally((()=>this.clearTimeout()))}}function IO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}class AO extends CC{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Or(t=["tryNext","recover"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(bA.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(bA.CONNECTED):"closed"===this._state?this.emit(bA.CLOSED):"failed"===this._state&&this.emit(bA.FAILED))}resetReconnectCount(e){oI.debug("websocket reset reconnect count, reason: "+e),this.reconnectCount=0}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0;super(),OE(this,"connectionID",0),OE(this,"currentURLIndex",0),OE(this,"urls",[]),OE(this,"_reconnectMode","tryNext"),OE(this,"reconnectReason",void 0),OE(this,"_initMutex",void 0),OE(this,"name",void 0),OE(this,"_state","closed"),OE(this,"reconnectInterrupter",void 0),OE(this,"websocket",void 0),OE(this,"retryConfig",void 0),OE(this,"reconnectCount",0),OE(this,"forceCloseTimeout",5e3),OE(this,"onlineReconnectListener",void 0),OE(this,"useCompress",void 0),OE(this,"tryDoubleDomain",!1),OE(this,"use443PortOnly",!1),OE(this,"wsInflateLength",0),OE(this,"wsDeflateLength",0),OE(this,"closeEstablishingWs",(()=>{})),OE(this,"store",void 0),OE(this,"joinGatewayRecordIndex",void 0),this.store=i,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IO(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),this.useCompress=n,this.tryDoubleDomain=r,this.use443PortOnly=o,this._initMutex=new yR("websocket",i?i.clientId:void 0);const{timeout:a,timeoutFactor:s}=t,c=Math.max(300,Math.floor(3*a/5)),l=Math.max(1.2,Math.floor(8*s)/10);jC.ONLINE&&(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=l),GC.on(VC.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===jC.ONLINE?(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=l):(this.retryConfig.timeout=a,this.retryConfig.timeoutFactor=s))}))}getConnection(){return this.websocket||void 0}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=await this._initMutex.lock();this.forceCloseTimeout=t,this.urls=e,this.state="connecting";try{const e=Sw(),t=this.urls[this.currentURLIndex];jR("ENABLE_PREALLOC_PC")&&this.emit(rO.PRE_CONNECT_PC),this.createWebSocketConnection(t).then(e.resolve).catch(e.reject),this.once(bA.CLOSED,(()=>{e.reject(new uC(lC.WS_DISCONNECT))})),this.once(bA.CONNECTED,e.resolve),await e.promise}catch(r){}finally{n()}}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout((()=>e.close()),500):e.close(),this.websocket=void 0}this.state=e?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return void oI.warning("[".concat(this.name,"] can not reconnect, no websocket"));void 0!==e&&(this.reconnectMode=e),oI.debug("[".concat(this.name,"] reconnect is triggered initiative")),"number"==typeof this.joinGatewayRecordIndex&&this.store&&this.store.recordJoinChannelService({status:"error",errors:[new Error(t)]},this.joinGatewayRecordIndex);const n=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),n&&n.bind(this.websocket)({code:9999,reason:t})}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new uC(lC.WS_ABORT,"websocket is not ready");try{t||(e=JSON.stringify(e)),this.websocket.send(e)}catch(n){throw new uC(lC.WS_ERR,"send websocket message error"+n.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e){var t;const n=Sw();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const r=e=>{var t;null===(t=this.store)||void 0===t||t.signalChannelOpen(),oI.debug("[".concat(this.name,"] websocket opened:"),e),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),n.resolve()},o=async e=>{var t;if(oI.debug("[".concat(this.name,"] websocket close ").concat(null===(t=this.websocket)||void 0===t?void 0:t.url,", code: ").concat(e.code,", reason: ").concat(e.reason,", current mode: ").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)n.reject(new uC(lC.WS_DISCONNECT,"websocket close: ".concat(e.code))),this.close();else{"connected"===this.state&&(this.reconnectReason=e.reason,this.state="reconnecting");const t=FC(this,bA.WILL_RECONNECT,this.reconnectMode,e.reason)||this.reconnectMode,r=await this.reconnectWithAction(t);if("closed"===this.state)return void oI.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect"));if(!r)return n.reject(new uC(lC.WS_DISCONNECT,"websocket reconnect failed: ".concat(e.code))),this.close(!0);n.resolve()}},i=e=>{this.emit(bA.ON_MESSAGE,e)},a=e=>{oI.warn("[".concat(this.connectionID,"] ws open error ").concat(e))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),jR("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(e=jR("GATEWAY_WSS_ADDRESS")),oI.debug("[".concat(this.name,"] start connect, url:"),e);const s=null===(t=this.store)||void 0===t?void 0:t.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});try{var c;const t=await this.chooseBestWebsocketConnection(e);this.websocket=t,r&&r(this.websocket.url),this.websocket.onclose=o,this.websocket.onmessage=i,this.websocket.onerror=a,null===(c=this.store)||void 0===c||c.recordJoinChannelService({endTs:Date.now(),status:"success"},s),this.joinGatewayRecordIndex=s}catch(l){const e="closed"===this.state,t=l instanceof uC,r=t&&l.code===lC.WS_ABORT,i=t&&l.code===lC.WS_ERR,a=t?l.message:l&&(l.reason||l.toString());oI.warning("[choose-best-ws] chooseBestWebsocket error: ".concat(a)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:r?"aborted":"error",errors:[l]},s),e||i?(n.reject(e?new uC(lC.WS_DISCONNECT,"websocket is closed: ".concat(a)):new uC(lC.WS_ERR,"init websocket failed: ".concat(a))),i&&oI.error("[".concat(this.name,"] init websocket failed: ").concat(a))):o&&o(l)}return n.promise}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(0===this.urls.length)return!1;if("closed"===this.state)return!1;oI.warning("[choose-best-ws] action: =>",e),this.onlineReconnectListener||GC.isOnline||!GC.onlineWaiter||(this.onlineReconnectListener=GC.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let n=!0;if(this.reconnectInterrupter=()=>n=!1,t){const t=bR(this.reconnectCount,this.retryConfig);oI.debug("[".concat(this.name,"] wait ").concat(t,"ms to reconnect websocket, mode: ").concat(e)),await Uh.race([iR(t),this.onlineReconnectListener||new Uh((()=>{}))])}if("closed"===this._state||!n)return!1;this.reconnectCount+=1;const r=async(e,t)=>{this.emit(bA.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if("retry"===e)await r(this.urls[this.currentURLIndex],e);else if("tryNext"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction("recover",!1);oI.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),await r(this.urls[this.currentURLIndex],e)}else"recover"===e&&(oI.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.urls=await BC(this,bA.REQUEST_NEW_URLS),this.currentURLIndex=0,await r(this.urls[this.currentURLIndex],e))}catch(i){var o;oI.error("[".concat(this.name,"] reconnect failed ").concat(i&&i.toString()));const n=null==i||null===(o=i.data)||void 0===o?void 0:o.desc;return Array.isArray(n)&&Or(n).call(n,"dynamic key expired")?(this.emit(bA.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(e,t)}return!0}}class OO extends AO{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){const n=Sw(),r=(o=this.forceCloseTimeout,i=this.store,new RO(o,i));var o,i;this.closeEstablishingWs=()=>{oI.debug("[choose-best-ws] close establishing websockets"),r.closeAllWebsockets(),n.reject(new uC(lC.WS_ABORT,"choose best websocket aborted"))};const a=jR("GATEWAY_DOMAINS");return oI.debug("[choose-best-ws] currentDomain: ",e,", domains: ",a,"total: ".concat(this.urls.length),"current: ".concat(this.currentURLIndex+1)),r.chooseBestWebsocket(e,this.tryDoubleDomain,this.use443PortOnly,t).then(n.resolve).catch(n.reject),n.promise.finally((()=>{this.closeEstablishingWs=void 0}))}}class NO extends AO{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){return new Uh(((n,r)=>{let o=!1;const i=[];this.closeEstablishingWs=()=>{oI.debug("[choose-best-ws] close establishing websockets"),i.forEach((e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),r(new uC(lC.WS_ABORT,"choose best websocket aborted"))};const a=jR("GATEWAY_DOMAINS");let s;const c=e.indexOf("?h="),l=a.find((t=>-1!==c?Or(e).call(e,t,c):Or(e).call(e,t)));oI.debug("[choose-best-ws] currentDomain: ",l,", domains: ",a);let u=!this.tryDoubleDomain||!l;if(!u&&l){var d;const h=Date.now();try{a.forEach((t=>{const n=-1===c?e.replace(l,t):e.substr(0,c)+e.substr(c).replace(l,t),r=new WebSocket(n);r.binaryType="arraybuffer",i.push(r),oI.debug("[choose-best-ws] ws is connecting:",r.url)}))}catch(p){for(oI.debug("[choose-best-ws] ws create failed, fallback to single url"),i.forEach((e=>e.close()));i.length;)i.pop();u=!0}null===(d=this.store)||void 0===d||d.recordJoinChannelService({urls:i.map((e=>e.url)),service:"gateway"},t),i.forEach((e=>{e.onopen=()=>{if(o)return;const t=Date.now()-h;oI.debug("[choose-best-ws] ws open cost ".concat(t,"ms")),i.filter((t=>t!==e)).forEach((e=>{oI.debug("[choose-best-ws]close backup websocket: ".concat(e.url)),e.close()})),o=!0,n(e)},e.onclose=e=>{s=e,o||i.find((e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)))||(oI.debug("[choose-best-ws] all websocket is closed"),o=!0,r(s))},e.onmessage=t=>{oI.debug("[choose-best-ws]".concat(e.url," onmessage: ").concat(t.data))}})),iR(this.forceCloseTimeout).then((()=>{i.forEach((e=>{e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(u){var h;let o;oI.debug("[choose-best-ws] use single url: ",e),null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:[e],service:"gateway"},t);try{o=new WebSocket(e),i.push(o),o.binaryType="arraybuffer"}catch(p){const e=new uC(lC.WS_ERR,"init websocket failed! Error: ".concat(p.toString()));return oI.error("[".concat(this.name,"]").concat(e)),void r(e)}o.onopen=()=>{n(o)},o.onclose=e=>{r(e)},o.onmessage=e=>{oI.debug("[choose-best-ws]".concat(o.url," onmessage: ").concat(e.data))},iR(this.forceCloseTimeout).then((()=>{o&&o.readyState!==WebSocket.OPEN&&o.close()}))}})).then((e=>(this.closeEstablishingWs=void 0,e))).catch((e=>{throw this.closeEstablishingWs=void 0,e}))}}class kO extends CC{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===mA.CONNECTED?this.emit(gA.WS_CONNECTED):e===mA.RECONNECTING?this.emit(gA.WS_RECONNECTING,this._websocketReconnectReason):e===mA.CLOSED&&this.emit(gA.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),OE(this,"_disconnectedReason",void 0),OE(this,"_websocketReconnectReason",void 0),OE(this,"_connectionState",mA.CLOSED),OE(this,"reconnectToken",void 0),OE(this,"websocket",void 0),OE(this,"openConnectionTime",void 0),OE(this,"clientId",void 0),OE(this,"lastMsgTime",Date.now()),OE(this,"uploadCache",[]),OE(this,"uploadCacheInterval",void 0),OE(this,"rttRolling",new SR(5)),OE(this,"pingpongTimer",void 0),OE(this,"wsInflateDataTimer",void 0),OE(this,"pingpongTimeoutCount",0),OE(this,"joinResponse",void 0),OE(this,"multiIpOption",void 0),OE(this,"initError",void 0),OE(this,"spec",void 0),OE(this,"store",void 0),OE(this,"onWebsocketMessage",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(gA.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")){if(this.emit(t._type,t._message),t._type===_A.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===_A.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(DC.UID_BANNED);break;case 15:this.close(DC.IP_BANNED);break;case 16:this.close(DC.CHANNEL_BANNED)}if(t._type===_A.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case fA.ERR_LICENSE_MISSING:this.close(DC.LICENSE_MISSING);break;case fA.ERR_LICENSE_EXPIRED:this.close(DC.LICENSE_EXPIRED);break;case fA.ERR_LICENSE_MINUTES_EXCEEDED:this.close(DC.LICENSE_MINUTES_EXCEEDED);break;case fA.ERR_LICENSE_PERIOD_INVALID:this.close(DC.LICENSE_PERIOD_INVALID);break;case fA.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(DC.LICENSE_MULTIPLE_SDK_SERVICE);break;case fA.ERR_LICENSE_ILLEGAL:this.close(DC.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new OO("gateway-".concat(this.clientId),this.spec.retryConfig,!0,jR("JOIN_GATEWAY_USE_DUAL_DOMAIN"),jR("JOIN_GATEWAY_USE_443PORT_ONLY"),t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===mA.CONNECTED&&this.reconnect("retry",UC.OFFLINE)}))}async request(e,t,n,r){const o=aR(6,""),i={_id:o,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new Uh(((t,n)=>{if(this.connectionState===mA.CONNECTED)return t();const r=()=>{this.off(gA.WS_CLOSED,o),t()},o=()=>{this.off(gA.WS_CONNECTED,r),n(new pI(lC.WS_ABORT))};this.once(gA.WS_CONNECTED,r),this.once(gA.WS_CLOSED,o),e!==vA.PUBLISH&&e!==vA.PUBLISH_DATASTREAM&&e!==vA.SUBSCRIBE&&e!==vA.SUBSCRIBE_DATASTREAM&&e!==vA.UNSUBSCRIBE&&e!==vA.UNSUBSCRIBE_DATASTREAM&&e!==vA.UNPUBLISH&&e!==vA.UNPUBLISH_DATASTREAM&&e!==vA.CONTROL&&e!==vA.RESTART_ICE||this.once(gA.DISCONNECT_P2P,(()=>{n(new pI(lC.DISCONNECT_P2P))})),e!==vA.PUBLISH&&e!==vA.RESTART_ICE||this.once(gA.ABORT_P2P_EXECUTION,(()=>{n(new pI(lC.DISCONNECT_P2P))}))}));if(this.connectionState!==mA.CONNECTING&&this.connectionState!==mA.RECONNECTING||e===vA.JOIN||e===vA.REJOIN||await s(),this.websocket.sendMessage(i,!0),r)return;const c=new Uh(((n,r)=>{let i=!1;const s=(r,o)=>{i=!0,n({isSuccess:"success"===r,message:o||{}}),this.off(gA.WS_CLOSED,c),this.off(gA.WS_RECONNECTING,c),this.emit(gA.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(o),s);const c=()=>{r(new pI(lC.WS_ABORT,"type: ".concat(e))),this.off(gA.WS_CLOSED,c),this.off(gA.WS_RECONNECTING,c),this.off("res-@".concat(o),s)};this.once(gA.WS_CLOSED,c),this.once(gA.WS_RECONNECTING,c),iR(jR("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||i||(oI.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(e)),this.emit(gA.REQUEST_TIMEOUT,e,t))}))}));let l=null;try{l=await c}catch(p){if(this.connectionState===mA.CLOSED||e===vA.LEAVE)throw new pI(lC.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?p.throw():e===vA.JOIN||e===vA.REJOIN?null:(await s(),await this.request(e,t))}if(l.isSuccess)return l.message;const u=Number(l.message.error_code||l.message.code),d=gO(u),h=new pI(lC.UNEXPECTED_RESPONSE,"".concat(d.desc,": ").concat(l.message.error_str),{code:u,data:l.message,desc:d.desc});return"success"===d.action?l.message:(oI.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(u,", message: ").concat(d.desc,", action: ").concat(d.action)),u===fA.ERR_TOO_MANY_BROADCASTERS?e===vA.JOIN||e===vA.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===d.action?h.throw():"quit"===d.action?(this.initError=h,this.close(),h.throw()):(u===fA.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,oI.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",UC.MULTI_IP)):this.reconnect(d.action,UC.SERVER_ERROR),e===vA.JOIN||e===vA.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new Uh((n=>{const r=o=>{(!t||t(o))&&(this.off(e,r),n(o))};this.on(e,r)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void oI.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(yA.WRTC_STATS,t)}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(r){const e=jR("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>e&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==mA.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),jR("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Uh(((t,n)=>{this.once(gA.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(gA.WS_CLOSED,(()=>n(this.initError||new pI(lC.WS_ABORT)))),this.connectionState=mA.CONNECTING,this.websocket.init(e).catch(n),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||DC.LEAVE,this.connectionState=mA.CLOSED,oI.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close()}async join(){if(!this.joinResponse){this.emit(gA.ABORT_P2P_EXECUTION);const e=await BC(this,gA.REQUEST_JOIN_INFO),t=await this.request(vA.JOIN,e);if(!t)return this.emit(gA.REPORT_JOIN_GATEWAY,VA.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(gA.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=mA.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new pI(lC.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const e=HC(this,gA.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(vA.REJOIN,e);return!!t&&(this.connectionState=mA.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(_A.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(_A.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(_A.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(_A.MUTE_AUDIO,{uid:e.uid}):this.emit(_A.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(_A.MUTE_VIDEO,{uid:e.uid}):this.emit(_A.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(_A.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(_A.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(_A.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(_A.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(_A.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){oI.debug("[".concat(this.clientId,"] receive notification: "),e);const t=gO(e.code);if(28===e.code&&"detail"in e&&(oI.info("[".concat(this.clientId,"] receive recover notification: "),e.detail),this.emit(gA.RECOVER_NOTIFICATION,e.detail)),"success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(DC.UID_BANNED),void this.close()):void this.reconnect(t.action,UC.SERVER_ERROR);oI.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=jR("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(oI.warning("[".concat(this.clientId,"] PING-PONG Timeout. Last Socket Message: ").concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>jR("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",UC.TIMEOUT):this.request(vA.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),jR("REPORT_STATS")&&this.send(vA.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(yA.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(bA.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(gA.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(bA.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(bA.CLOSED,(()=>{this.connectionState=mA.CLOSED})),this.websocket.on(bA.FAILED,(()=>{this._disconnectedReason=DC.NETWORK_ERROR,this.connectionState=mA.CLOSED})),this.websocket.on(bA.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===mA.CONNECTED?this.connectionState=mA.RECONNECTING:this.connectionState=mA.CONNECTING})),this.websocket.on(bA.WILL_RECONNECT,((e,t,n)=>{const r=HC(this,gA.IS_P2P_DISCONNECTED),o=r||"retry"!==e;r&&"retry"===e&&(oI.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),e="tryNext",t=VA.P2P_DISCONNECTED),o&&(oI.debug("".concat(this.clientId," will renewSession, reconnect mode: ").concat(e)),this.emit(gA.REPORT_JOIN_GATEWAY,t||VA.UNKNOWN_REASON,this.url||""),this.reconnectToken=void 0,this.emit(gA.DISCONNECT_P2P)),n(e)})),this.websocket.on(bA.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{oI.warning("[".concat(this.clientId,"] rejoin failed ").concat(e)),this.reconnect("tryNext",UC.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(gA.REPORT_JOIN_GATEWAY,e,this.url||""),e instanceof pI){if(e.code===lC.UNEXPECTED_RESPONSE&&e.data.code===fA.ERR_NO_AUTHORIZED)return this.initError=new pI(lC.CAN_NOT_GET_GATEWAY_SERVER,"AgoraRTCError CAN_NOT_GET_GATEWAY_SERVER: dynamic key expired"),oI.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",UC.SERVER_ERROR);oI.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",UC.SERVER_ERROR):(this.initError=e,this.close())}}))})),this.websocket.on(bA.REQUEST_NEW_URLS,((e,t)=>{BC(this,gA.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(bA.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(_A.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(rO.PRE_CONNECT_PC,(()=>{this.emit(gA.PRE_CONNECT_PC)}))}}let DO=function(e){return e[e.CHOOSE_SERVER=11]="CHOOSE_SERVER",e[e.CLOUD_PROXY=18]="CLOUD_PROXY",e[e.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",e[e.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK",e}({});function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xO(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MO(e){return e.match(/^[\.\:\d]+$/)?"".concat(e.replace(/[^\d]/g,"-"),".").concat(jR("TURN_DOMAIN")):(oI.debug("Cannot recognized as ip address: ".concat(e,", use as host")),e)}function LO(e,t){e.addresses||(e.addresses=[]);const n=function(e,t){if(jR("CONNECT_GATEWAY_WITHOUT_DOMAIN"))return e.map((e=>{let{ip:t,port:n}=e;return{address:"".concat(t,":").concat(n)}}));const n=jR("GATEWAY_DOMAINS");let r=n[1]&&Or(t).call(t,n[1])?1:0;return e.map((e=>{let{domain_prefix:t,port:o,ip:i}=e;if(t)return{address:"".concat(t,".").concat(n[r++%n.length],":").concat(o)};const a=/^[\.\:\d]+$/.test(i),s=a?"".concat(i.replace(/[^\d]/g,"-"),".").concat(n[r++%n.length],":").concat(o):"".concat(i,":").concat(o);return a||oI.debug("Cannot recognized as ip address: ".concat(i,", use as host")),{ip:i,port:o,address:s}}))}(e.addresses,t),r=Array.isArray(e.detail)&&e.detail[18];if(r&&"string"==typeof r){const e=r.split(";");for(let t=0;t<e.length;t++){var o;const r=Lp(o=e[t]).call(o);n[t]&&r&&(n[t].ip6=r)}}const i=e.detail&&e.detail.candidate;let a;if(i){const[e,t]=i.split(":");e&&t&&(a={port:Number(t),ip:e,address:"".concat(e,":").concat(t)})}return{gatewayAddrs:n,apGatewayAddress:a,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function UO(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function jO(e){const t=e._encoderConfig;if(!t)return{};const n={resolution:t.width&&t.height?"".concat(UO(t.width),"x").concat(UO(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return"number"==typeof t.frameRate?(n.maxFrameRate=t.frameRate,n.minFrameRate=t.frameRate):t.frameRate&&(n.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,n.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),n}function VO(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function BO(e,t){let n,r,o;switch(t){case DO.CHOOSE_SERVER:r=4096,o="choose server";break;case DO.CLOUD_PROXY:r=1048576,o="proxy";break;case DO.CLOUD_PROXY_5:r=4194304,o="proxy5";break;case DO.CLOUD_PROXY_FALLBACK:r=4194310,o="proxy fallback";break;default:throw new pI(lC.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((t=>{t.buffer&&t.buffer.flag===r&&(n={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((e=>PO(PO({},e),{},{ticket:t.buffer.cert}))),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:PO(PO({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})})),!n)throw new pI(lC.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(o," from multi unilbs response"),{csIp:e.detail&&e.detail[502]});return n}async function zO(e,t){return await Uh.all(e.addresses.map((async e=>({address:MO(e.ip),tcpport:e.port,udpport:e.port,username:t&&jR("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?t.toString():xR.username,password:t&&jR("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await wC(t.toString()):xR.password}))))}function FO(e,t){const n=t.getMediaStreamTrack(!0).getSettings(),r=t.videoHeight||n.height,o=t.videoWidth||n.width;return r&&o?Math.max(Math.min(r,o)/Math.min(UO(e.height),UO(e.width)),1):(oI.warning("can't get ori-track's height, default scale down 4 times for low stream"),4)}function HO(e){let{candidateType:t,relayProtocol:n,type:r,address:o,port:i,protocol:a}=e;const s={candidateType:t,relayProtocol:n,protocol:a};if("local-candidate"!==r){const e=o.split(".");e.length>=4&&(e[1]="*",e[2]="*"),s.address=e.join("."),s.port=i}return s}var GO,WO=n(BI),qO=$n("Array").values,KO=hr,YO=Ze,XO=u,$O=qO,JO=Array.prototype,ZO={DOMTokenList:!0,NodeList:!0},QO=n((function(e){var t=e.values;return e===JO||XO(JO,e)&&t===JO.values||YO(ZO,KO(e))?$O:t})),eN=N,tN=l,nN=x,rN=r,oN=Zo,iN=jo,aN=P,sN=Xe,cN=W,lN=Object.assign,uN=Object.defineProperty,dN=tN([].concat),hN=!lN||rN((function(){if(eN&&1!==lN({b:1},lN(uN({},"a",{enumerable:!0,get:function(){uN(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=lN({},e)[n]||oN(lN({},t)).join("")!=r}))?function(e,t){for(var n=sN(e),r=arguments.length,o=1,i=iN.f,a=aN.f;r>o;)for(var s,c=cN(arguments[o++]),l=i?dN(oN(c),i(c)):oN(c),u=l.length,d=0;u>d;)s=l[d++],eN&&!nN(a,c,s)||(n[s]=c[s]);return n}:lN,pN=nn,fN=ta,mN=$t,gN=x,vN=Xe,yN=function(e,t,n,r){try{return r?t(pN(n)[0],n[1]):t(n)}catch(o){fN(e,"throw",o)}},_N=ji,EN=Uc,bN=Fn,TN=uf,SN=Ji,wN=Gi,CN=Array,RN=l,IN=2147483647,AN=/[^\0-\u007E]/,ON=/[.\u3002\uFF0E\uFF61]/g,NN="Overflow: input needs wider integers to process",kN=RangeError,DN=RN(ON.exec),xN=Math.floor,PN=String.fromCharCode,MN=RN("".charCodeAt),LN=RN([].join),UN=RN([].push),jN=RN("".replace),VN=RN("".split),BN=RN("".toLowerCase),zN=function(e){return e+22+75*(e<26)},FN=function(e,t,n){var r=0;for(e=n?xN(e/700):e>>1,e+=xN(e/t);e>455;)e=xN(e/35),r+=36;return xN(r+36*e/(e+38))},HN=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=MN(e,n++);if(o>=55296&&o<=56319&&n<r){var i=MN(e,n++);56320==(64512&i)?UN(t,((1023&o)<<10)+(1023&i)+65536):(UN(t,o),n--)}else UN(t,o)}return t}(e)).length,i=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&UN(r,PN(n));var c=r.length,l=c;for(c&&UN(r,"-");l<o;){var u=IN;for(t=0;t<e.length;t++)(n=e[t])>=i&&n<u&&(u=n);var d=l+1;if(u-i>xN((IN-a)/d))throw kN(NN);for(a+=(u-i)*d,i=u,t=0;t<e.length;t++){if((n=e[t])<i&&++a>IN)throw kN(NN);if(n==i){for(var h=a,p=36;;){var f=p<=s?1:p>=s+26?26:p-s;if(h<f)break;var m=h-f,g=36-f;UN(r,PN(zN(f+m%g))),h=xN(m/g),p+=36}UN(r,PN(zN(h))),s=FN(a,d,l==c),a=0,l++}}a++,i++}return LN(r,"")},GN=On,WN=N,qN=DE,KN=h,YN=$t,XN=l,$N=ls,JN=cc,ZN=mc,QN=Ze,ek=hN,tk=function(e){var t=vN(e),n=EN(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=mN(o,r>2?arguments[2]:void 0));var a,s,c,l,u,d,h=wN(t),p=0;if(!h||this===CN&&_N(h))for(a=bN(t),s=n?new this(a):CN(a);a>p;p++)d=i?o(t[p],p):t[p],TN(s,p,d);else for(u=(l=SN(t,h)).next,s=n?new this:[];!(c=gN(u,l)).done;p++)d=i?yN(l,o,[c.value,p],!0):c.value,TN(s,p,d);return s.length=p,s},nk=gf,rk=vh.codeAt,ok=function(e){var t,n,r=[],o=VN(jN(BN(e),ON,"."),".");for(t=0;t<o.length;t++)n=o[t],UN(r,DN(AN,n)?"xn--"+HN(n):n);return LN(r,".")},ik=mr,ak=As,sk=Yc,ck=Yb,lk=ts,uk=lk.set,dk=lk.getterFor("URL"),hk=ck.URLSearchParams,pk=ck.getState,fk=KN.URL,mk=KN.TypeError,gk=KN.parseInt,vk=Math.floor,yk=Math.pow,_k=XN("".charAt),Ek=XN(/./.exec),bk=XN([].join),Tk=XN(1..toString),Sk=XN([].pop),wk=XN([].push),Ck=XN("".replace),Rk=XN([].shift),Ik=XN("".split),Ak=XN("".slice),Ok=XN("".toLowerCase),Nk=XN([].unshift),kk="Invalid scheme",Dk="Invalid host",xk="Invalid port",Pk=/[a-z]/i,Mk=/[\d+-.a-z]/i,Lk=/\d/,Uk=/^0x/i,jk=/^[0-7]+$/,Vk=/^\d+$/,Bk=/^[\da-f]+$/i,zk=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Fk=/[\0\t\n\r #/:<>?@[\\\]^|]/,Hk=/^[\u0000-\u0020]+/,Gk=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Wk=/[\t\n\r]/g,qk=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)Nk(t,e%256),e=vk(e/256);return bk(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=Tk(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},Kk={},Yk=ek({},Kk,{" ":1,'"':1,"<":1,">":1,"`":1}),Xk=ek({},Yk,{"#":1,"?":1,"{":1,"}":1}),$k=ek({},Xk,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Jk=function(e,t){var n=rk(e,0);return n>32&&n<127&&!QN(t,e)?e:encodeURIComponent(e)},Zk={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Qk=function(e,t){var n;return 2==e.length&&Ek(Pk,_k(e,0))&&(":"==(n=_k(e,1))||!t&&"|"==n)},eD=function(e){var t;return e.length>1&&Qk(Ak(e,0,2))&&(2==e.length||"/"===(t=_k(e,2))||"\\"===t||"?"===t||"#"===t)},tD=function(e){return"."===e||"%2e"===Ok(e)},nD={},rD={},oD={},iD={},aD={},sD={},cD={},lD={},uD={},dD={},hD={},pD={},fD={},mD={},gD={},vD={},yD={},_D={},ED={},bD={},TD={},SD=function(e,t,n){var r,o,i,a=ik(e);if(t){if(o=this.parse(a))throw mk(o);this.searchParams=null}else{if(void 0!==n&&(r=new SD(n,!0)),o=this.parse(a,null,r))throw mk(o);(i=pk(new hk)).bindURL(this),this.searchParams=i}};SD.prototype={type:"URL",parse:function(e,t,n){var r,o,i,a,s,c=this,l=t||nD,u=0,d="",h=!1,p=!1,f=!1;for(e=ik(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=Ck(e,Hk,""),e=Ck(e,Gk,"$1")),e=Ck(e,Wk,""),r=tk(e);u<=r.length;){switch(o=r[u],l){case nD:if(!o||!Ek(Pk,o)){if(t)return kk;l=oD;continue}d+=Ok(o),l=rD;break;case rD:if(o&&(Ek(Mk,o)||"+"==o||"-"==o||"."==o))d+=Ok(o);else{if(":"!=o){if(t)return kk;d="",l=oD,u=0;continue}if(t&&(c.isSpecial()!=QN(Zk,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&Zk[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=mD:c.isSpecial()&&n&&n.scheme==c.scheme?l=iD:c.isSpecial()?l=lD:"/"==r[u+1]?(l=aD,u++):(c.cannotBeABaseURL=!0,wk(c.path,""),l=ED)}break;case oD:if(!n||n.cannotBeABaseURL&&"#"!=o)return kk;if(n.cannotBeABaseURL&&"#"==o){c.scheme=n.scheme,c.path=nk(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=TD;break}l="file"==n.scheme?mD:sD;continue;case iD:if("/"!=o||"/"!=r[u+1]){l=sD;continue}l=uD,u++;break;case aD:if("/"==o){l=dD;break}l=_D;continue;case sD:if(c.scheme=n.scheme,o==GO)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=nk(n.path),c.query=n.query;else if("/"==o||"\\"==o&&c.isSpecial())l=cD;else if("?"==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=nk(n.path),c.query="",l=bD;else{if("#"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=nk(n.path),c.path.length--,l=_D;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=nk(n.path),c.query=n.query,c.fragment="",l=TD}break;case cD:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=_D;continue}l=dD}else l=uD;break;case lD:if(l=uD,"/"!=o||"/"!=_k(d,u+1))continue;u++;break;case uD:if("/"!=o&&"\\"!=o){l=dD;continue}break;case dD:if("@"==o){h&&(d="%40"+d),h=!0,i=tk(d);for(var m=0;m<i.length;m++){var g=i[m];if(":"!=g||f){var v=Jk(g,$k);f?c.password+=v:c.username+=v}else f=!0}d=""}else if(o==GO||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(h&&""==d)return"Invalid authority";u-=tk(d).length+1,d="",l=hD}else d+=o;break;case hD:case pD:if(t&&"file"==c.scheme){l=vD;continue}if(":"!=o||p){if(o==GO||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==d)return Dk;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(d))return a;if(d="",l=yD,t)return;continue}"["==o?p=!0:"]"==o&&(p=!1),d+=o}else{if(""==d)return Dk;if(a=c.parseHost(d))return a;if(d="",l=fD,t==pD)return}break;case fD:if(!Ek(Lk,o)){if(o==GO||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||t){if(""!=d){var y=gk(d,10);if(y>65535)return xk;c.port=c.isSpecial()&&y===Zk[c.scheme]?null:y,d=""}if(t)return;l=yD;continue}return xk}d+=o;break;case mD:if(c.scheme="file","/"==o||"\\"==o)l=gD;else{if(!n||"file"!=n.scheme){l=_D;continue}if(o==GO)c.host=n.host,c.path=nk(n.path),c.query=n.query;else if("?"==o)c.host=n.host,c.path=nk(n.path),c.query="",l=bD;else{if("#"!=o){eD(bk(nk(r,u),""))||(c.host=n.host,c.path=nk(n.path),c.shortenPath()),l=_D;continue}c.host=n.host,c.path=nk(n.path),c.query=n.query,c.fragment="",l=TD}}break;case gD:if("/"==o||"\\"==o){l=vD;break}n&&"file"==n.scheme&&!eD(bk(nk(r,u),""))&&(Qk(n.path[0],!0)?wk(c.path,n.path[0]):c.host=n.host),l=_D;continue;case vD:if(o==GO||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&Qk(d))l=_D;else if(""==d){if(c.host="",t)return;l=yD}else{if(a=c.parseHost(d))return a;if("localhost"==c.host&&(c.host=""),t)return;d="",l=yD}continue}d+=o;break;case yD:if(c.isSpecial()){if(l=_D,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=GO&&(l=_D,"/"!=o))continue}else c.fragment="",l=TD;else c.query="",l=bD;break;case _D:if(o==GO||"/"==o||"\\"==o&&c.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(s=Ok(s=d))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||wk(c.path,"")):tD(d)?"/"==o||"\\"==o&&c.isSpecial()||wk(c.path,""):("file"==c.scheme&&!c.path.length&&Qk(d)&&(c.host&&(c.host=""),d=_k(d,0)+":"),wk(c.path,d)),d="","file"==c.scheme&&(o==GO||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)Rk(c.path);"?"==o?(c.query="",l=bD):"#"==o&&(c.fragment="",l=TD)}else d+=Jk(o,Xk);break;case ED:"?"==o?(c.query="",l=bD):"#"==o?(c.fragment="",l=TD):o!=GO&&(c.path[0]+=Jk(o,Kk));break;case bD:t||"#"!=o?o!=GO&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":Jk(o,Kk)):(c.fragment="",l=TD);break;case TD:o!=GO&&(c.fragment+=Jk(o,Yk))}u++}},parseHost:function(e){var t,n,r;if("["==_k(e,0)){if("]"!=_k(e,e.length-1))return Dk;if(!(t=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return _k(e,d)};if(":"==h()){if(":"!=_k(e,1))return;d+=2,u=++l}for(;h();){if(8==l)return;if(":"!=h()){for(t=n=0;n<4&&Ek(Bk,h());)t=16*t+gk(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,l>6)return;for(r=0;h();){if(o=null,r>0){if(!("."==h()&&r<4))return;d++}if(!Ek(Lk,h()))return;for(;Ek(Lk,h());){if(i=gk(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}c[l]=256*c[l]+o,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c}(Ak(e,1,-1))))return Dk;this.host=t}else if(this.isSpecial()){if(e=ok(e),Ek(zk,e))return Dk;if(null===(t=function(e){var t,n,r,o,i,a,s,c=Ik(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==_k(o,0)&&(i=Ek(Uk,o)?16:8,o=Ak(o,8==i?1:2)),""===o)a=0;else{if(!Ek(10==i?Vk:8==i?jk:Bk,o))return e;a=gk(o,i)}wk(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=yk(256,5-t))return null}else if(a>255)return null;for(s=Sk(n),r=0;r<n.length;r++)s+=n[r]*yk(256,3-r);return s}(e)))return Dk;this.host=t}else{if(Ek(Fk,e))return Dk;for(t="",n=tk(e),r=0;r<n.length;r++)t+=Jk(n[r],Kk);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return QN(Zk,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&Qk(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,l=t+":";return null!==o?(l+="//",e.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=qk(o),null!==i&&(l+=":"+i)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+bk(a,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw mk(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new wD(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+qk(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(ik(e)+":",nD)},getUsername:function(){return this.username},setUsername:function(e){var t=tk(ik(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=Jk(t[n],$k)}},getPassword:function(){return this.password},setPassword:function(e){var t=tk(ik(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=Jk(t[n],$k)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?qk(e):qk(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,hD)},getHostname:function(){var e=this.host;return null===e?"":qk(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,pD)},getPort:function(){var e=this.port;return null===e?"":ik(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=ik(e))?this.port=null:this.parse(e,fD))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+bk(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,yD))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=ik(e))?this.query=null:("?"==_k(e,0)&&(e=Ak(e,1)),this.query="",this.parse(e,bD)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=ik(e))?("#"==_k(e,0)&&(e=Ak(e,1)),this.fragment="",this.parse(e,TD)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var wD=function(e){var t=ZN(this,CD),n=sk(arguments.length,1)>1?arguments[1]:void 0,r=uk(t,new SD(e,!1,n));WN||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},CD=wD.prototype,RD=function(e,t){return{get:function(){return dk(this)[e]()},set:t&&function(e){return dk(this)[t](e)},configurable:!0,enumerable:!0}};if(WN&&(JN(CD,"href",RD("serialize","setHref")),JN(CD,"origin",RD("getOrigin")),JN(CD,"protocol",RD("getProtocol","setProtocol")),JN(CD,"username",RD("getUsername","setUsername")),JN(CD,"password",RD("getPassword","setPassword")),JN(CD,"host",RD("getHost","setHost")),JN(CD,"hostname",RD("getHostname","setHostname")),JN(CD,"port",RD("getPort","setPort")),JN(CD,"pathname",RD("getPathname","setPathname")),JN(CD,"search",RD("getSearch","setSearch")),JN(CD,"searchParams",RD("getSearchParams")),JN(CD,"hash",RD("getHash","setHash"))),$N(CD,"toJSON",(function(){return dk(this).serialize()}),{enumerable:!0}),$N(CD,"toString",(function(){return dk(this).serialize()}),{enumerable:!0}),fk){var ID=fk.createObjectURL,AD=fk.revokeObjectURL;ID&&$N(wD,"createObjectURL",YN(ID,fk)),AD&&$N(wD,"revokeObjectURL",YN(AD,fk))}ak(wD,"URL"),GN({global:!0,constructor:!0,forced:!qN,sham:!WN},{URL:wD});var OD=On,ND=r,kD=Yc,DD=mr,xD=DE,PD=se("URL");OD({target:"URL",stat:!0,forced:!(xD&&ND((function(){PD.canParse()})))},{canParse:function(e){var t=kD(arguments.length,1),n=DD(e),r=t<2||void 0===arguments[1]?void 0:DD(arguments[1]);try{return!!new PD(n,r)}catch(o){return!1}}});var MD=n(ne.URL);const LD={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1};function UD(){return LD}function jD(){return"setSinkId"in HTMLAudioElement.prototype&&(!jR("RESTRICTION_SET_PLAYBACK_DEVICE")||(Uw()||Vw())&&!nC())}function VD(){return!LD.supportUnifiedPlan||jR("CHROME_FORCE_PLAN_B")&&rC()}let BD=function(e){return e.IOS_15_16_INTERRUPTION_START="ios15_16-interruption-start",e.IOS_15_16_INTERRUPTION_END="ios15_16-interruption-end",e.IOS_INTERRUPTION_START="ios-interruption-start",e.IOS_INTERRUPTION_END="ios-interruption-end",e.STATE_CHANGE="state-change",e}({});function zD(e,t,n){return{sampleRate:e,stereo:t,bitrate:n}}function FD(e,t,n,r,o){return{width:e,height:t,frameRate:n,bitrateMin:r,bitrateMax:o}}function HD(e,t,n,r,o){return{width:{max:e},height:{max:t},frameRate:n,bitrateMin:r,bitrateMax:o}}function GD(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}const WD={"90p":FD(160,90),"90p_1":FD(160,90),"120p":FD(160,120,15,30,65),"120p_1":FD(160,120,15,30,65),"120p_3":FD(120,120,15,30,50),"120p_4":FD(212,120),"180p":FD(320,180,15,30,140),"180p_1":FD(320,180,15,30,140),"180p_3":FD(180,180,15,30,100),"180p_4":FD(240,180,15,30,120),"240p":FD(320,240,15,40,200),"240p_1":FD(320,240,15,40,200),"240p_3":FD(240,240,15,40,140),"240p_4":FD(424,240,15,40,220),"360p":FD(640,360,15,80,400),"360p_1":FD(640,360,15,80,400),"360p_3":FD(360,360,15,80,260),"360p_4":FD(640,360,30,80,600),"360p_6":FD(360,360,30,80,400),"360p_7":FD(480,360,15,80,320),"360p_8":FD(480,360,30,80,490),"360p_9":FD(640,360,15,80,800),"360p_10":FD(640,360,24,80,800),"360p_11":FD(640,360,24,80,1e3),"480p":FD(640,480,15,100,500),"480p_1":FD(640,480,15,100,500),"480p_2":FD(640,480,30,100,1e3),"480p_3":FD(480,480,15,100,400),"480p_4":FD(640,480,30,100,750),"480p_6":FD(480,480,30,100,600),"480p_8":FD(848,480,15,100,610),"480p_9":FD(848,480,30,100,930),"480p_10":FD(640,480,10,100,400),"720p":FD(1280,720,15,120,1130),"720p_auto":FD(1280,720,30,900,3e3),"720p_1":FD(1280,720,15,120,1130),"720p_2":FD(1280,720,30,120,2e3),"720p_3":FD(1280,720,30,120,1710),"720p_5":FD(960,720,15,120,910),"720p_6":FD(960,720,30,120,1380),"1080p":FD(1920,1080,15,120,2080),"1080p_1":FD(1920,1080,15,120,2080),"1080p_2":FD(1920,1080,30,120,3e3),"1080p_3":FD(1920,1080,30,120,3150),"1080p_5":FD(1920,1080,60,120,4780),"1440p":FD(2560,1440,30,120,4850),"1440p_1":FD(2560,1440,30,120,4850),"1440p_2":FD(2560,1440,60,120,7350),"4k":FD(3840,2160,30,120,8910),"4k_1":FD(3840,2160,30,120,8910),"4k_3":FD(3840,2160,60,120,13500)},qD={"480p":HD(640,480,5),"480p_1":HD(640,480,5),"480p_2":HD(640,480,30),"480p_3":HD(640,480,15),"720p":HD(1280,720,5),"720p_auto":FD(1280,720,30,900,3e3),"720p_1":HD(1280,720,5),"720p_2":HD(1280,720,30),"720p_3":HD(1280,720,15),"1080p":HD(1920,1080,5),"1080p_1":HD(1920,1080,5),"1080p_2":HD(1920,1080,30),"1080p_3":HD(1920,1080,15)},KD={"1SL1TL":GD(1,1),"3SL3TL":GD(3,3),"2SL3TL":GD(2,3)};function YD(e){return e||(e="480p_1"),"string"==typeof e?Object.assign({},WD[e]):e}function XD(e){return"string"==typeof e?Object.assign({},qD[e]):e}function $D(e){return"string"==typeof e?Object.assign({},KD[e]):e}const JD={speech_low_quality:zD(16e3,!1),speech_standard:zD(32e3,!1,18),music_standard:zD(48e3,!1),standard_stereo:zD(48e3,!0,56),high_quality:zD(48e3,!1,128),high_quality_stereo:zD(48e3,!0,192)};function ZD(e){return"string"==typeof e?Object.assign({},JD[e]):e}const QD=[];function ex(e){return hC(e,"mediaSource",["screen","window","application"]),!0}let tx=function(e){return e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_REPLACE_MIXING_TRACK="@need_replace_mixing_track",e.NEED_CLOSE="@need_close",e.NEED_ENABLE_TRACK="@need_enable_track",e.NEED_DISABLE_TRACK="@need_disable_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_RTC_STATS="@get_rtc_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",e.NEED_UPDATE_VIDEO_SEND_PARAMETERS="@need_update_video_send_parameters",e.NEED_MUTE_TRACK="@need_mute_track",e.NEED_UNMUTE_TRACK="@need_unmute_track",e}({}),nx=function(e){return e.SCREEN_TRACK="screen_track",e.CUSTOM_TRACK="custome_track",e.LOW_STREAM="low_stream",e.SCREEN_LOW_TRACK="screen_low_track",e}({}),rx=function(e){return e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM",e}({}),ox=function(e){return e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.HIGH_STREAM_LAYER1=4]="HIGH_STREAM_LAYER1",e[e.HIGH_STREAM_LAYER2=5]="HIGH_STREAM_LAYER2",e[e.HIGH_STREAM_LAYER3=6]="HIGH_STREAM_LAYER3",e[e.HIGH_STREAM_LAYER4=7]="HIGH_STREAM_LAYER4",e[e.HIGH_STREAM_LAYER5=8]="HIGH_STREAM_LAYER5",e[e.HIGH_STREAM_LAYER6=9]="HIGH_STREAM_LAYER6",e}({}),ix=function(e){return e[e.DISABLE=0]="DISABLE",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.AUDIO_ONLY=2]="AUDIO_ONLY",e[e.HIGH_STREAM_LAYER1=3]="HIGH_STREAM_LAYER1",e[e.HIGH_STREAM_LAYER2=4]="HIGH_STREAM_LAYER2",e[e.HIGH_STREAM_LAYER3=5]="HIGH_STREAM_LAYER3",e[e.HIGH_STREAM_LAYER4=6]="HIGH_STREAM_LAYER4",e[e.HIGH_STREAM_LAYER5=7]="HIGH_STREAM_LAYER5",e[e.HIGH_STREAM_LAYER6=8]="HIGH_STREAM_LAYER6",e}({}),ax=function(e){return e.TRANSCEIVER_UPDATED="transceiver-updated",e.SEI_TO_SEND="sei-to-send",e.SEI_RECEIVED="sei-received",e.TRACK_UPDATED="track-updated",e}({}),sx=function(e){return e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.CLOSED="closed",e}({}),cx=function(e){return e.FIRST_FRAME_DECODED="first-frame-decoded",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.VIDEO_STATE_CHANGED="video-state-changed",e}({}),lx=function(e){return e.AUDIO="audio",e.VIDEO="video",e.DATA="data",e}({}),ux=function(e){return e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer",e.UPDATE_SOURCE="update_source",e}({});const dx={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},hx={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},px={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},fx={uplinkNetworkQuality:0,downlinkNetworkQuality:0},mx={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let gx=function(e){return e.ON_TRACK="on_track",e.ON_NODE="on_node",e}({}),vx=function(e){return e.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",e.REQUEST_CONSTRAINTS="request_constraints",e}({}),yx=function(e){return e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND",e}({}),_x=function(e){return e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged",e}({}),Ex=function(e){return e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied",e.LOADEDDATA="loadeddata",e}({}),bx=function(e){return e[e.VideoStateStopped=0]="VideoStateStopped",e[e.VideoStateStarting=1]="VideoStateStarting",e[e.VideoStateDecoding=2]="VideoStateDecoding",e[e.VideoStateFrozen=3]="VideoStateFrozen",e}({});const Tx={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};let Sx=function(e){return e.OPEN="open",e.MESSAGE="message",e.CLOSE="close",e.CLOSING="closing",e.ERROR="error",e}({});function wx(e,t,n,r,o){var i,a,s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=qr(i=WO(a=n.slice()).call(a)).call(i,(function(n,r){return r(e,t,n)||n}),s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}function Cx(e,t,n){return(t="symbol"==typeof(r=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var r}function Rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ix(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rx(Object(n),!0).forEach((function(t){Cx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Ax extends CC{set _mediaStreamTrack(e){e!==this.mediaStreamTrack&&(this.safeEmit(ax.TRACK_UPDATED,e),this.mediaStreamTrack=e)}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(e,t){var n;super(),Cx(this,"trackMediaType",void 0),Cx(this,"_ID",void 0),Cx(this,"_rtpTransceiver",void 0),Cx(this,"_lowRtpTransceiver",void 0),Cx(this,"_hints",[]),Cx(this,"_isClosed",!1),Cx(this,"_originMediaStreamTrack",void 0),Cx(this,"mediaStreamTrack",void 0),Cx(this,"_external",{}),this._ID=t||aR(8,"track-"),this._originMediaStreamTrack=e,this.mediaStreamTrack=e,n=this,Or(QD).call(QD,n)||QD.push(n)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){return e||JC((()=>{var e;hI.reportApiInvoke(null,{name:AC.GET_MEDIA_STREAM_TRACK,options:[],tag:OC.TRACER}).onSuccess((null===(e=this._mediaStreamTrack)||void 0===e?void 0:e.label)||"")}),this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===rx.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){const t=QD.indexOf(e);-1!==t&&QD.splice(t,1)}(this),this.emit(sx.CLOSED),this.removeAllListeners(ax.SEI_RECEIVED)}_updateRtpTransceiver(e,t){if(t===rx.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e}else{if(this._rtpTransceiver===e)return;this._rtpTransceiver=e}this.emit(ax.TRANSCEIVER_UPDATED,e,t)}}class Ox extends Ax{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(e,t){super(e,t),Cx(this,"_enabled",!0),Cx(this,"_muted",!1),Cx(this,"_isExternalTrack",!1),Cx(this,"_isClosed",!1),Cx(this,"_enabledMutex",void 0),Cx(this,"processor",void 0),Cx(this,"_processorContext",void 0),Cx(this,"_handleTrackEnded",(()=>{this.onTrackEnded()})),this._enabledMutex=new yR("".concat(this.getTrackId())),e.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){var e,t;return null!==(e=null===(t=this._originMediaStreamTrack)||void 0===t?void 0:t.label)&&void 0!==e?e:""}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,oI.debug("[".concat(this.getTrackId(),"] close")),this.emit(tx.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isExternalTrack=n,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await zC(this,tx.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){oI.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(sx.TRACK_ENDED)}stateCheck(e,t){if(oI.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(e,": ").concat(t,"]")),dC(t,e),this._enabled&&this._muted&&"enabled"===e&&!1===t)throw new uC(lC.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print("error",oI);if(!this._enabled&&!this._muted&&"muted"===e&&!0===t)throw new uC(lC.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print("error",oI)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():Uh.resolve([])}}const Nx=window.AudioContext||window.webkitAudioContext;let kx=null;const Dx=new class extends CC{constructor(){super(...arguments),Cx(this,"prevState",void 0),Cx(this,"curState",void 0),Cx(this,"currentTime",void 0),Cx(this,"currentTimeStuckAt",void 0),Cx(this,"interruptDetectorTrack",void 0),Cx(this,"onLocalAudioTrackMute",(()=>{oI.info("ios15-interruption-start"),this.emit(BD.IOS_15_16_INTERRUPTION_START)})),Cx(this,"onLocalAudioTrackUnmute",(async()=>{oI.info("ios15-interruption-end"),"running"!==this.curState||this.duringInterruption?oI.info("ios15-interruption-end-canceled"):(kx&&await kx.suspend(),this.emit(BD.IOS_15_16_INTERRUPTION_END))}))}get duringInterruption(){return"running"===this.prevState&&"interrupted"===this.curState}bindInterruptDetectorTrack(e){oI.debug("webaudio bindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){oI.debug("webaudio unbindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function xx(){if(!kx){if(function(){if(!Nx)return void oI.error("your browser is not support web audio");oI.info("create audio context");const e=Ix({},jR("WEBAUDIO_INIT_OPTIONS"));oI.debug("audio context init option:",JSON.stringify(e)),kx=new Nx(e),Dx.curState=kx.state,kx.onstatechange=()=>{Dx.prevState=Dx.curState,Dx.curState=kx?kx.state:void 0;const{prevState:e,curState:t}=Dx,n="running"===t,r="interrupted"===t,o="running"===e,i="suspended"===e,a="interrupted"===e,s=Dw().osVersion;(zw()||Qw())&&o&&r&&(oI.info("ios".concat(s,"-interruption-start")),Dx.emit(BD.IOS_INTERRUPTION_START)),(zw()||Qw())&&(i||a)&&n&&(oI.info("ios".concat(s,"-interruption-end")),Dx.emit(BD.IOS_INTERRUPTION_END)),e!==t&&Dx.emit(BD.STATE_CHANGE,t,e)},setInterval((()=>{var e;const t=null===(e=kx)||void 0===e?void 0:e.currentTime;Dx.currentTime!==t?(Dx.currentTimeStuckAt&&(oI.debug("AudioContext current time resume at ".concat(t)),Dx.currentTimeStuckAt=void 0),Dx.currentTime=t):(t!==Dx.currentTimeStuckAt&&(hI.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:t},tag:OC.TRACER}).onSuccess(),oI.warning("AudioContext current time stuck at ".concat(t))),Dx.currentTimeStuckAt=t)}),5e3),async function(e){const t=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let n,r=!1,o=!1,i=!1;function a(t){"running"===e.state?s(!1):zw()||Qw()?"suspended"===e.state&&(s(!0),t&&e.resume().then(c,c)):"closed"!==e.state&&(s(!0),t&&e.resume().then(c,c))}function s(e){if(r!==e){r=e;for(let n=0,r=t;n<r.length;n+=1){const t=r[n];e?window.addEventListener(t,l,{capture:!0,passive:!0}):window.removeEventListener(t,l,{capture:!0,passive:!0})}}}function c(){a(!1)}function l(){a(!0)}function u(e){if(!i)if(n.paused)if(e){let e;d(!1),i=!0;try{e=n.play(),e?e.then(h,h):(n.addEventListener("playing",h),n.addEventListener("abort",h),n.addEventListener("error",h))}catch(t){h()}}else d(!0);else d(!1)}function d(e){if(o!==e){o=e;for(let n=0,r=t;n<r.length;n++){const t=r[n];e?window.addEventListener(t,p,{capture:!0,passive:!0}):window.removeEventListener(t,p,{capture:!0,passive:!0})}}}function h(){n.removeEventListener("playing",h),n.removeEventListener("abort",h),n.removeEventListener("error",h),i=!1,u(!1)}function p(){u(!0)}if(zw()){const t=e.createMediaStreamDestination(),r=document.createElement("div");r.innerHTML="<audio x-webkit-airplay='deny'></audio>",n=r.children.item(0),n.controls=!1,n.disableRemotePlayback=!0,n.preload="auto",n.srcObject=t.stream,u(!0)}Dx.on(BD.STATE_CHANGE,(function(){a(!0)})),a(!1)}(kx)}(),!kx)throw new uC(lC.NOT_SUPPORTED,"can not create audio context");return kx}return kx}function Px(e){if(function(){if(null!==Mx)return Mx;const e=xx(),t=e.createBufferSource(),n=e.createGain(),r=e.createGain();t.connect(n),t.connect(r),t.disconnect(n);let o=!1;try{t.disconnect(n)}catch(i){o=!0}return t.disconnect(),Mx=o,o}())return;const t=e.connect,n=e.disconnect;e.connect=(n,r,o)=>{var i;return e._inputNodes||(e._inputNodes=[]),Or(i=e._inputNodes).call(i,n)||(n instanceof AudioNode?(e._inputNodes.push(n),t.call(e,n,r,o)):t.call(e,n,r)),e},e.disconnect=(r,o,i)=>{n.call(e),r?WC(e._inputNodes,r):e._inputNodes=[];for(const n of e._inputNodes)t.call(e,n)}}let Mx=null;function Lx(e,t){let n=!1;const r=1/t;if(jR("DISABLE_WEBAUDIO")){const t=window.setInterval((()=>{n?window.clearInterval(t):e(performance.now()/1e3)}),1e3*r)}else{const t=xx();let o=t.createGain();o.gain.value=0,o.connect(t.destination);const i=()=>{if(n)return void(o=null);const a=t.createOscillator();a.onended=i,a.connect(o),a.start(0),a.stop(t.currentTime+r),e(t.currentTime)};i()}return()=>{n=!0}}class Ux{constructor(){Cx(this,"context",void 0),Cx(this,"analyserNode",void 0),Cx(this,"sourceNode",void 0),this.context=xx(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(t){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||zw()||Qw()||"running"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let n=0;n<e.length;++n)e[n]=t[n]/128-1}const t=qr(e).call(e,((e,t)=>e+t*t),0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(n){oI.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class jx extends CC{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var n;null===(n=this.sourceNode)||void 0===n||n.disconnect(this.outputNode)}catch(r){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),Cx(this,"outputNode",void 0),Cx(this,"outputTrack",void 0),Cx(this,"isPlayed",!1),Cx(this,"sourceNode",void 0),Cx(this,"context",void 0),Cx(this,"audioBufferNode",void 0),Cx(this,"destNode",void 0),Cx(this,"audioOutputLevel",0),Cx(this,"volumeLevelAnalyser",void 0),Cx(this,"_processedNode",void 0),Cx(this,"playNode",void 0),Cx(this,"isDestroyed",!1),Cx(this,"onNoAudioInput",void 0),Cx(this,"isNoAudioInput",!1),Cx(this,"_noAudioInputCount",0),this.context=xx(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),Px(this.outputNode),this.volumeLevelAnalyser=new Ux}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(ux.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const n=e.outputBuffer.getChannelData(t);for(let e=0;e<n.length;e+=1)n[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!UD().webAudioMediaStreamDest)throw new uC(lC.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){"running"!==this.context.state&&KC((()=>{Dx.emit("autoplay-failed")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(vp){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;zw()||Qw()?"suspended"===this.context.state&&this.context.resume():"running"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let n;t.getFloatTimeDomainData?(n=new Float32Array(t.fftSize),t.getFloatTimeDomainData(n)):(n=new Uint8Array(t.fftSize),t.getByteTimeDomainData(n));let r=!1;for(let o=0;o<n.length;o++)0!==n[o]&&(r=!0);return r?(this.isNoAudioInput=!1,!0):(await iR(200),await this.checkHasAudioInput(e?e+1:1)&&r)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class Vx extends jx{get isFreeze(){return!1}constructor(e,t,n){var r;if(super(),Cx(this,"sourceNode",void 0),Cx(this,"track",void 0),Cx(this,"clonedTrack",void 0),Cx(this,"audioElement",void 0),Cx(this,"isCurrentTrackCloned",!1),Cx(this,"isRemoteTrack",!1),Cx(this,"originVolumeLevelAnalyser",void 0),Cx(this,"rebuildWebAudio",(async()=>{if(oI.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void oI.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then((()=>oI.info("resume success"))),oI.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),Px(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const n=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(n,this.context.currentTime),Px(this.outputNode),this.emit(ux.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),"audio"!==e.kind)throw new uC(lC.UNEXPECTED_ERROR);this.track=e;const o=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(o),Px(this.sourceNode),n){const e=n.clone();e.enabled=!0,this.clonedTrack=e,oI.debug("create an unmuted track ".concat(e.id," from the original track ").concat(n.id," to get the volume"));const t=this.context.createMediaStreamSource(new MediaStream([e]));Px(t),this.originVolumeLevelAnalyser=new Ux,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=o;const i=Dw();t&&i.os===Iw.IOS&&Number(null===(r=i.osVersion)||void 0===r?void 0:r.split(".")[0])<15&&(Dx.on(BD.STATE_CHANGE,(()=>{"suspended"===this.context.state?document.body.addEventListener("click",this.rebuildWebAudio,!0):"running"===this.context.state&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e=>{e||document.body.addEventListener("click",this.rebuildWebAudio,!0)})))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),Px(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(ux.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),Dx.off("state-change",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),oI.debug("create an unmuted track ".concat(t.id," from the original track ").concat(e.id," to get the volume"));const n=this.context.createMediaStreamSource(new MediaStream([t]));Px(n),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(n)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function Bx(e,t,n){const r=(e,t)=>e?"number"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,o={audio:!!n&&{mandatory:{chromeMediaSource:"desktop"}},video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:r(t.height,1080),maxWidth:r(t.width,1920)}}};return t.frameRate&&"number"!=typeof t.frameRate?(o.video.mandatory.maxFrameRate=t.frameRate.max,o.video.mandatory.minFrameRate=t.frameRate.min):"number"==typeof t.frameRate&&(o.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(o)}async function zx(e,t){const n=await Fx(e.mediaSource),{sourceId:r,audio:o}=await function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Uh(((n,r)=>{const o=document.createElement("div");o.innerText="share screen",o.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const i=document.createElement("div");i.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const a=document.createElement("div");a.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",a.setAttribute("style","height: 12%;");const s=document.createElement("div");s.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const c=document.createElement("div");c.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const l=document.createElement("button");l.innerHTML="cancel",l.setAttribute("style","width: 85px;"),l.onclick=()=>{document.body.removeChild(h);const e=new Error("NotAllowedError");e.name="NotAllowedError",r(e)};let u=t;const d=document.createElement("div");if(t){const e=document.createElement("input");e.setAttribute("type","checkbox");const t=document.createElement("span");e.setAttribute("style","margin-right: 6px;"),t.innerText="Share audio",e.checked=u,e.onchange=()=>{u=e.checked},d.appendChild(e),d.appendChild(t)}c.appendChild(d),c.appendChild(l),i.appendChild(a),i.appendChild(s),i.appendChild(c);const h=document.createElement("div");h.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),h.appendChild(o),h.appendChild(i),document.body.appendChild(h),e.map((e=>{if(e.id){const r=document.createElement("div");r.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let o=e.thumbnail;try{const{width:e}=o.getSize();e>1920&&(o=o.resize({width:1920}))}catch(t){throw t&&t.message.startsWith("Illegal invocation"),t}r.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+o.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",r.onclick=()=>{document.body.removeChild(h),n({sourceId:e.id,audio:u})},s.appendChild(r)}}))}))}(n,t);return await Bx(r,e,o)}async function Fx(e){let t=["window","screen"];"application"!==e&&"window"!==e||(t=["window"]),"screen"===e&&(t=["screen"]);const n=IC();if(!n)throw new uC(lC.ELECTRON_IS_NULL);let r=null;try{var o;r=(null===(o=n.desktopCapturer)||void 0===o?void 0:o.getSources({types:t}))||n.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:t})}catch(i){r=null}r&&r.then||(r=new Uh(((e,r)=>{n.desktopCapturer.getSources({types:t},((t,n)=>{t?r(t):e(n)}))})));try{return await r}catch(i){throw new uC(lC.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,i.toString())}}const Hx=new yR("safari");let Gx=!1,Wx=!1;async function qx(e,t){let n=0,r=null;for(;n<2;)try{r=await Kx(e,t,n>0);break}catch(o){if(o instanceof uC)throw oI.error("[".concat(t,"] ").concat(o.toString())),o;const e=Yx(o.name||o.code||o,o.message);if(e.code===lC.MEDIA_OPTION_INVALID){oI.debug("[".concat(t,"] detect media option invalid, retry")),n+=1,await iR(500);continue}throw oI.error("[".concat(t,"] ").concat(e.toString())),e}if(!r)throw new uC(lC.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return r}async function Kx(e,t,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new uC(lC.NOT_SUPPORTED,"can not find getUserMedia");n&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const r=UD(),o=new MediaStream;if(e.audioSource&&o.addTrack(e.audioSource),e.videoSource&&o.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return oI.debug("Using Video Source/ Audio Source"),o;if(e.screen)if(IC())e.screen.sourceId?Xx(o,await Bx(e.screen.sourceId,e.screen,!!e.screenAudio)):Xx(o,await zx(e.screen,!!e.screenAudio));else if(Uw()&&e.screen.extensionId&&e.screen.mandatory){if(!r.getStreamFromExtension)throw new uC(lC.NOT_SUPPORTED,"This browser does not support screen sharing");oI.debug("[".concat(t,'] Screen access on chrome stable, looking for extension"'));const n=await(a=e.screen.extensionId,s=t,new Uh(((e,t)=>{try{chrome.runtime.sendMessage(a,{getStream:!0},(n=>{if(!n||!n.streamId)return oI.error("[".concat(s,"] No response from Chrome Plugin. Plugin not installed properly"),n),void t(new uC(lC.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));e(n.streamId)}))}catch(n){oI.error("[".concat(s,"] AgoraRTC screensharing plugin is not accessible(").concat(a,")"),n.toString()),t(new uC(lC.CHROME_PLUGIN_NOT_INSTALL))}})));e.screen.mandatory.chromeMediaSourceId=n,Xx(o,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(r.getDisplayMedia){var i;e.screen.mediaSource&&ex(e.screen.mediaSource);const n={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:null!==(i=e.screen.displaySurface)&&void 0!==i?i:"screen"===e.screen.mediaSource?"monitor":e.screen.mediaSource},{selfBrowserSurface:r,surfaceSwitching:a,systemAudio:s}=e.screen,c={selfBrowserSurface:r,surfaceSwitching:a,systemAudio:s};!r&&delete c.selfBrowserSurface,!a&&delete c.surfaceSwitching,!s&&delete c.systemAudio,oI.debug("[".concat(t,"] getDisplayMedia:"),JSON.stringify({video:n,audio:e.screenAudio,controls:c})),Xx(o,await navigator.mediaDevices.getDisplayMedia(Ix({video:n,audio:e.screenAudio},c)))}else{if(!Bw())throw oI.error("[".concat(t,"] This browser does not support screenSharing")),new uC(lC.NOT_SUPPORTED,"This browser does not support screen sharing");{e.screen.mediaSource&&ex(e.screen.mediaSource);const n={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};oI.debug("[".concat(t,"] getUserMedia: ").concat(JSON.stringify(n))),Xx(o,await navigator.mediaDevices.getUserMedia(n))}}var a,s;if(!e.video&&!e.audio)return o;let c={video:e.video,audio:e.audio},l=jR("MEDIA_DEVICE_CONSTRAINTS");if(l)try{"string"==typeof l&&(l=JSON.parse(l)),c=hR(c,l)}catch(h){}oI.debug("[".concat(t,"] GetUserMedia"),JSON.stringify(c)),Dw();let u,d=null;(jw()||zw()||Lw())&&(d=await Hx.lock());try{u=await navigator.mediaDevices.getUserMedia(c)}catch(h){throw d&&d(),h}return c.audio&&(Gx=!0),c.video&&(Wx=!0),Xx(o,u),d&&d(),o}function Yx(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new uC(lC.MEDIA_OPTION_INVALID,"".concat(e,": ").concat(t));case"NotFoundError":case"DevicesNotFoundError":return new uC(lC.DEVICE_NOT_FOUND,"".concat(e,": ").concat(t));case"NotSupportedError":return new uC(lC.NOT_SUPPORTED,"".concat(e,": ").concat(t));case"NotReadableError":return new uC(lC.NOT_READABLE,"".concat(e,": ").concat(t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new uC(lC.PERMISSION_DENIED,"".concat(e,": ").concat(t));case"ConstraintNotSatisfiedError":return new uC(lC.CONSTRAINT_NOT_SATISFIED,"".concat(e,": ").concat(t));default:return oI.error("getUserMedia unexpected error",e),new uC(lC.UNEXPECTED_ERROR,"".concat(e,": ").concat(t))}}function Xx(e,t){const n=e.getVideoTracks()[0],r=e.getAudioTracks()[0],o=t.getVideoTracks()[0],i=t.getAudioTracks()[0];i&&(r&&e.removeTrack(r),e.addTrack(i)),o&&(n&&e.removeTrack(n),e.addTrack(o))}const $x=new class extends CC{get state(){return this._state}set state(e){e!==this._state&&(this.emit(_x.STATE_CHANGE,e),this._state=e)}constructor(){super(),Cx(this,"_state",yx.IDLE),Cx(this,"isAccessMicrophonePermission",!1),Cx(this,"isAccessCameraPermission",!1),Cx(this,"lastAccessMicrophonePermission",!1),Cx(this,"lastAccessCameraPermission",!1),Cx(this,"checkdeviceMatched",!1),Cx(this,"deviceInfoMap",new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(jR("ENUMERATE_DEVICES_INTERVAL")||(oC()||Pw()===Iw.HARMONY_OS)&&rC())&&this.updateDevicesInfo()}),jR("ENUMERATE_DEVICES_INTERVAL_TIME"))})).catch((e=>oI.error(e.toString())))}async enumerateDevices(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new uC(lC.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const r=await navigator.mediaDevices.enumerateDevices(),o=this.checkMediaDeviceInfoIsOk(r);let i=!this.isAccessMicrophonePermission&&e,a=!this.isAccessCameraPermission&&t;o.audio&&(i=!1),o.video&&(a=!1);let s=null,c=null,l=null;if(!n&&(i||a)){if(Hx.isLocked&&(oI.debug("[device manager] wait GUM lock"),(await Hx.lock())(),oI.debug("[device manager] GUM unlock")),Gx&&(i=!1,this.isAccessMicrophonePermission=!0),Wx&&(a=!1,this.isAccessCameraPermission=!0),oI.debug("[device manager] check media device permissions",e,t,i,a),i&&a){try{l=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(u){const e=Yx(u.name||u.code||u,u.message);if(e.code===lC.PERMISSION_DENIED)throw e;oI.warning("getUserMedia failed in getDevices",e)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(i){try{s=await navigator.mediaDevices.getUserMedia({audio:e})}catch(u){const e=Yx(u.name||u.code||u,u.message);if(e.code===lC.PERMISSION_DENIED)throw e;oI.warning("getUserMedia failed in getDevices",e)}this.isAccessMicrophonePermission=!0}else if(a){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(u){const e=Yx(u.name||u.code||u,u.message);if(e.code===lC.PERMISSION_DENIED)throw e;oI.warning("getUserMedia failed in getDevices",e)}this.isAccessCameraPermission=!0}oI.debug("[device manager] mic permission",e,"cam permission",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),l&&l.getTracks().forEach((e=>e.stop())),s=null,c=null,l=null,e}catch(u){return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),l&&l.getTracks().forEach((e=>e.stop())),s=null,c=null,l=null,new uC(lC.ENUMERATE_DEVICES_FAILED,u.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audioinput"===e.kind))}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter((e=>"videoinput"===e.kind))}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audiooutput"===e.kind))}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach((n=>{n.device.label===e&&(t=n.device.deviceId)})),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find((t=>t.deviceId===e));if(!t)throw new uC(lC.DEVICE_NOT_FOUND,"deviceId: ".concat(e));return t}async init(){this.state=yx.INITING;try{await this.updateDevicesInfo(),this.state=yx.INITEND}catch(vp){throw oI.warning("Device Detection functionality cannot start properly.",vp.toString()),this.state=yx.IDLE,("boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname)||new uC(lC.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),vp}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),n=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find((e=>"audioinput"===e.kind&&"default"===e.deviceId)),n=e.find((e=>"audiooutput"===e.kind&&"default"===e.deviceId));t&&n?n.groupId===t.groupId?oI.debug("[device-check] default input ".concat(t.label," and output ").concat(n.label," is the same group")):oI.debug("[device-check] default input ".concat(t.label," and output ").concat(n.label," is not the same group")):oI.debug("[device-check] default input or output not found")}const r=this.checkMediaDeviceInfoIsOk(e);if(e.forEach((e=>{if(!e.deviceId)return;const r=this.deviceInfoMap.get("".concat(e.kind,"_").concat(e.deviceId));if("ACTIVE"!==(r?r.state:"INACTIVE")){const r={initAt:t,updateAt:t,device:e,state:"ACTIVE"};this.deviceInfoMap.set("".concat(e.kind,"_").concat(e.deviceId),r),n.push(r)}r&&(r.updateAt=t)})),this.deviceInfoMap.forEach(((e,r)=>{"ACTIVE"===e.state&&e.updateAt!==t&&(e.state="INACTIVE",n.push(e))})),this.state!==yx.INITEND)return r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach((e=>{switch(e.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(_x.RECORDING_DEVICE_CHANGED,e);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(_x.CAMERA_DEVICE_CHANGED,e);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(_x.PLAYOUT_DEVICE_CHANGED,e)}})),r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter((e=>"audioinput"===e.kind)),n=e.filter((e=>"videoinput"===e.kind)),r={audio:!1,video:!1};for(const o of t)if(o.label&&o.deviceId){r.audio=!0;break}for(const o of n)if(o.label&&o.deviceId){r.video=!0;break}return r}};let Jx=!1;const Zx=new class extends CC{constructor(){super(...arguments),Cx(this,"onAutoplayFailed",void 0),Cx(this,"onAudioAutoplayFailed",void 0)}};function Qx(){if(Dw(),!Jx){const e=t=>{t.preventDefault(),Jx=!1,iC()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};Jx=!0,iC()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),oI.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),Zx.onAutoplayFailed?Zx.onAutoplayFailed():Zx.onAudioAutoplayFailed?oI.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):oI.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."),Zx.emit("autoplay-failed")}}function eP(e,t,n,r){if(!e)return;const o=hI.getBaseInfoBySessionId(e);if(!o)return;const i=o.info,a=Date.now(),s=Ix(Ix({},i),{},{vid:void 0===i.vid?0:Number(i.vid),lts:a,elapse:a-o.startTime,cbRegistered:Zx.onAutoplayFailed||Zx.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:t,trackId:r,extend:void 0});hI.send({type:lI.AUTOPLAY_FAILED,data:s},!0)}const tP=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","error"],nP=new class{constructor(){Cx(this,"onAutoplayFailed",void 0),Cx(this,"elementMap",new Map),Cx(this,"elementStateMap",new Map),Cx(this,"elementsNeedToResume",[]),Cx(this,"sinkIdMap",new Map),Cx(this,"autoResumeAfterInterruption",(e=>{Array.from(this.elementMap.entries()).forEach((t=>{let[n,r]=t;const o=this.elementStateMap.get(n),i=r.srcObject.getAudioTracks()[0],a=i&&i.readyState;if(oI.debug("resume after interrupted, ele: ".concat(o," audio: ").concat(a," ").concat(e)),"live"===a){if(e)return r.pause(),void r.play();if("running"===Dx.curState)return $w()?(r.pause(),void r.play()):void(o&&"paused"===o&&r.play())}}))})),Cx(this,"autoResumeAfterInterruptionOnIOS15_16",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,n]=e;const r=n.srcObject.getAudioTracks()[0];r&&"live"===r.readyState&&(oI.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),n.pause(),n.play())}))})),this.autoResumeAudioElement(),Dx.on(BD.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),Dx.on(BD.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),Dx.on(BD.STATE_CHANGE,(()=>{zw()&&"suspended"===Dx.prevState&&"running"===Dx.curState&&this.autoResumeAfterInterruption()}))}async setSinkID(e,t){const n=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),n)try{await n.setSinkId(t)}catch(r){throw new uC(lC.PERMISSION_DENIED,"can not set sink id: "+r.toString())}}play(e,t,n,r){if(this.elementMap.has(t))return;const o=document.createElement("audio");o.autoplay=!0,o.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,o),this.elementMap.set(t,o),this.elementStateMap.set(t,Ex.INIT),this.setVolume(t,n);const i=this.sinkIdMap.get(t);if(i)try{o.setSinkId(i).catch((e=>{oI.warning("[".concat(t,"] set sink id failed"),e.toString())}))}catch(s){oI.warning("[".concat(t,"] set sink id failed"),s.toString())}const a=o.play();a&&a.then&&a.catch((e=>{r&&eP(r,"audio",e.message,t),oI.warning("audio element play warning",e.toString()),this.elementMap.has(t)&&"NotAllowedError"===e.name&&(oI.warning("detected audio element autoplay failed"),this.elementsNeedToResume.push(o),KC((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),Qx()})))}))}updateTrack(e,t){const n=this.elementMap.get(e);n&&(n.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)&&"playing"===this.elementStateMap.get(e)}setVolume(e,t){const n=this.elementMap.get(e);n&&(t=Math.max(0,Math.min(100,t)),n.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const n=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(n,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){tP.forEach((n=>{t.addEventListener(n,(n=>{const r=this.elementStateMap.get(e),o="pause"===n.type?"paused":n.type;if(oI.debug("[".concat(e,"] audio-element-status change ").concat(r," => ").concat(o)),"error"===n.type){const n=null==t?void 0:t.error;n&&oI.error("[".concat(e,"] media error, code: ").concat(n.code,", message: ").concat(n.message))}this.elementStateMap.set(e,o)}))}))}getPlayerState(e){return this.elementStateMap.get(e)||"uninit"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach((e=>{e.play().then((e=>{oI.debug("Auto resume audio element success")})).catch((e=>{oI.warning("Auto resume audio element failed!",e)}))})),this.elementsNeedToResume=[]};new Uh((e=>{document.body?e():window.addEventListener("load",(()=>e()))})).then((()=>{iC()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0))}))}};function rP(){return function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=function(){this._isClosed&&new uC(lC.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning",oI);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=r.apply(this,t);return o instanceof Uh?new Uh(((e,t)=>{o.then(e).catch(t)})):o}),n}}class oP extends CC{constructor(e){super(),Cx(this,"name","VideoProcessorDestination"),Cx(this,"ID","0"),Cx(this,"_source",void 0),Cx(this,"videoContext",void 0),Cx(this,"inputTrack",void 0),this.videoContext=e}get kind(){return"video"}get enabled(){return!0}pipe(){throw new uC(lC.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new uC(lC.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(gx.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(gx.ON_TRACK,void 0)}}class iP extends CC{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t){super(),Cx(this,"constraintsMap",new Map),Cx(this,"statsRegistry",[]),Cx(this,"usageRegistry",[]),Cx(this,"trackId",void 0),Cx(this,"direction",void 0),Cx(this,"_chained",!1),this.trackId=e,this.direction=t}async getConstraints(){return await BC(this,vx.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var n;return oI.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),zC(this,vx.REQUEST_UPDATE_CONSTRAINTS,Array.from(QO(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return oI.info("processor ".concat(e.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(e),zC(this,vx.REQUEST_UPDATE_CONSTRAINTS,Array.from(QO(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t));-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:n,processorName:r,type:o,cb:i}of this.statsRegistry)try{const t=i();e.push({processorID:n,processorName:r,type:o,stats:t})}catch(t){oI.error(new uC(lC.UNEXPECTED_ERROR,t.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:n}of this.usageRegistry)try{let t=n();t instanceof Uh&&(t=await t),e.push(Ix(Ix({},t),{},{direction:this.direction}))}catch(t){oI.error("gather extension usage error",t)}return e}getDirection(){return this.direction}}class aP extends CC{constructor(e){super(),Cx(this,"name","AudioProcessorDestination"),Cx(this,"ID","0"),Cx(this,"inputTrack",void 0),Cx(this,"inputNode",void 0),Cx(this,"audioProcessorContext",void 0),Cx(this,"_source",void 0),this.audioProcessorContext=e}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new uC(lC.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new uC(lC.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(gx.ON_TRACK,void 0),this.emit(gx.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error("ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(gx.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(gx.ON_NODE,this.inputNode))}}class sP extends CC{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t,n){super(),Cx(this,"constraintsMap",new Map),Cx(this,"statsRegistry",[]),Cx(this,"audioContext",void 0),Cx(this,"trackId",void 0),Cx(this,"direction",void 0),Cx(this,"usageRegistry",[]),Cx(this,"_chained",!1),this.audioContext=e,this.trackId=t,this.direction=n}async getConstraints(){return BC(this,vx.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var n;return oI.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),zC(this,vx.REQUEST_UPDATE_CONSTRAINTS,Array.from(QO(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),zC(this,vx.REQUEST_UPDATE_CONSTRAINTS,Array.from(QO(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t));-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:n,processorName:r,type:o,cb:i}of this.statsRegistry)try{const t=i();e.push({processorID:n,processorName:r,type:o,stats:t})}catch(t){oI.error(new uC(lC.UNEXPECTED_ERROR,t.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:n}of this.usageRegistry)try{let t=n();t instanceof Uh&&(t=await t),e.push(Ix(Ix({},t),{},{direction:this.direction}))}catch(t){oI.error("gather extension usage error",t)}return e}getDirection(){return this.direction}}class cP extends CC{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),Cx(this,"context",void 0),Cx(this,"processSourceNode",void 0),Cx(this,"outputTrack",void 0),Cx(this,"processedNode",void 0),Cx(this,"clonedTrack",void 0),Cx(this,"outputNode",void 0),this.outputNode=new lP}setVolume(){}createOutputTrack(){throw new uC(lC.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class lP{disconnect(){}connect(){}}function uP(e){return new Uh(((t,n)=>{let r=!1;const o=document.createElement("video");o.setAttribute("autoplay",""),o.setAttribute("muted",""),o.muted=!0,o.autoplay=!0,o.setAttribute("playsinline",""),o.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(o);const i=zw()?"canplay":"playing";o.addEventListener(i,(()=>{const e=o.videoWidth,n=o.videoHeight;!e&&Bw()||(r=!0,o.srcObject=null,o.remove(),t([e,n]))})),o.srcObject=new MediaStream([e]),o.play().catch(cR),setTimeout((()=>{r||(o.srcObject=null,o.remove(),t([o.videoWidth,o.videoHeight]))}),4e3)}))}function dP(e){const t={};e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId});const n=YD(e.encoderConfig);return null!=n.width&&(t.width=n.width),null!=n.height&&(t.height=n.height),!tC()&&n.frameRate&&(t.frameRate=n.frameRate),Vw()&&"object"==typeof t.frameRate&&(t.frameRate.max=60),Bw()&&(t.frameRate={ideal:30,max:30}),t}function hP(e){const t={};return tC()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,Uw()&&e.ANS&&(t.googHighpassFilter=e.ANS))),t}function pP(e){const t=hP(e);if(e.encoderConfig){const n=ZD(e.encoderConfig);t.channelCount=n.stereo?2:1,t.sampleRate=n.sampleRate,t.sampleSize=n.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),oC()&&(t.sampleRate=void 0),t}const fP=e=>{const t=e._encoderConfig;if(!t)return;const{frameRate:n,width:r,height:o}=e.getMediaStreamTrackSettings();let{frameRate:i=n,width:a=r,height:s=o}=t;if(!i||!a||!s)return;a=fR(a),s=fR(s),i=fR(i);const{max:c,min:l}=function(e,t,n){const r=200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75);return{min:Math.floor(r),max:Math.floor(4*r)}}(a,s,i),{bitrateMax:u,bitrateMin:d}=t||{};u||oI.debug("calculate bitrate: [w: ".concat(a,", h: ").concat(s,", fps: ").concat(i,"] => [brMax: ").concat(u,", brMin: ").concat(d,"]"));const{maxFramerate:h}=jR("ENCODER_CONFIG_LIMIT");return h&&"number"==typeof h&&(i=Math.min(i,h)),{frameRate:i,bitrateMax:u||c,bitrateMin:d||l,scaleResolutionDownBy:1,scale:0}},mP=async(e,t,n)=>await(async(e,t,n)=>{const r=function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(parseInt(e.slice(n,n+2),16));return Uint8Array.from(t)}(mR(""+t+n)).slice(0,16),o=r.slice(0,12),i=await window.crypto.subtle.importKey("raw",r,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:o},i,e))})(e.buffer,t,n),gP=e=>{const t=document.createElement("canvas");return t.width=2,t.height=2,new Uh(((n,r)=>{t.toBlob((async e=>{if(t.remove(),e){const r=await vP(e);n({buffer:r,width:t.width,height:t.height})}else r(new uC(lC.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,1)}))},vP=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};var yP,_P,EP,bP,TP,SP,wP,CP,RP,IP,AP,OP,NP,kP,DP,xP,PP,MP,LP,UP,jP,VP,BP,zP,FP,HP,GP,WP,qP,KP,YP,XP,$P,JP,ZP,QP,eM,tM,nM,rM;let oM=(yP=dI({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),_P=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),EP=rP(),bP=_R("LocalAudioTrack","_enabledMutex"),TP=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),SP=rP(),wP=_R("LocalAudioTrack","_enabledMutex"),CP=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),RP=rP(),IP=rP(),AP=rP(),OP=dI({argsMap:e=>[e.getTrackId()]}),NP=rP(),kP=dI({argsMap:e=>[e.getTrackId()]}),DP=rP(),xP=dI({argsMap:e=>[e.getTrackId()]}),PP=dI({argsMap:(e,t)=>[e.getTrackId(),t.name]}),MP=dI({argsMap:e=>[e.getTrackId()]}),wx((LP=class extends Ox{get _source(){return this.initWebAudio()}set _source(e){this._trackSource=e}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?nP.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"LocalAudioTrack"}constructor(e,t,n,r){super(e,n),Cx(this,"trackMediaType",lx.AUDIO),Cx(this,"_encoderConfig",void 0),Cx(this,"_trackSource",void 0),Cx(this,"_enabled",!0),Cx(this,"_volume",100),Cx(this,"_useAudioElement",!0),Cx(this,"_bypassWebAudio",!1),Cx(this,"processor",void 0),Cx(this,"_processorContext",void 0),Cx(this,"_processorDestination",void 0),Cx(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!r,this._trackSource=new cP,jR("DISABLE_WEBAUDIO")&&(this._bypassWebAudio=!0),jR("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1),jw()&&!kx?setTimeout((()=>this.initWebAudio())):this.initWebAudio()}setVolume(e){pC(e,"volume",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&nP.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void oI.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,zC(this,tx.NEED_REPLACE_TRACK,this).then((()=>{oI.debug("[".concat(this.getTrackId(),"] replace web audio track success"))})).catch((e=>{oI.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),e)})))}catch(t){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement||!jD())throw new uC(lC.NOT_SUPPORTED,"your browser does not support setting the audio output device");await nP.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,n){return this._setEnabled(e,t,n)}async _setEnabled(e,t,n){if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(oI.info("[".concat(this.getTrackId(),"] start setEnabled"),e),e){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await zC(this,tx.NEED_ENABLE_TRACK,this),oI.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(e," success"))}catch(r){throw n||(this._enabled=!1),oI.error("[".concat(this.getTrackId(),"] setEnabled to true error"),r.toString()),r}}else{this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await zC(this,tx.NEED_DISABLE_TRACK,this)}catch(r){throw n||(this._enabled=!0),oI.error("[".concat(this.getTrackId(),"] setEnabled to false error"),r.toString()),r}}}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,oI.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await zC(this,tx.NEED_MUTE_TRACK,this):await zC(this,tx.NEED_UNMUTE_TRACK,this))}getStats(){return JC((()=>{oI.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")}),"localAudioTrackGetStatsWarning"),FC(this,tx.GET_STATS)||Ix({},dx)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(ux.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(ux.ON_AUDIO_BUFFER),this._source.on(ux.ON_AUDIO_BUFFER,(t=>e(t)))}play(){oI.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(oI.debug("[".concat(this.getTrackId(),"] start audio playback in element")),nP.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){oI.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?nP.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];oI.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&nP.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:e,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await zC(this,tx.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return Uh.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new uC(lC.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===e)return e;if(e._source)throw new uC(lC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(e){e.on(gx.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await zC(this,tx.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await zC(this,tx.NEED_REPLACE_TRACK,this))})),e.on(gx.ON_NODE,(e=>{this._source.processedNode=e}))}unbindProcessorDestinationEvents(e){e.removeAllListeners(gx.ON_TRACK),e.removeAllListeners(gx.ON_NODE)}bindProcessorContextEvents(e){e.on(vx.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}unbindProcessorContextEvents(e){e.removeAllListeners(vx.REQUEST_CONSTRAINTS)}initWebAudio(){return this._trackSource instanceof cP&&(this._trackSource=new Vx(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){const e=new sP(this._source.context,this.getTrackId(),"local"),t=new aP(e);return this._processorContext=e,this._processorDestination=t,this.bindProcessorContextEvents(e),this.bindProcessorDestinationEvents(t),this._source.on(ux.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:e})})),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(nP.stop(this.getTrackId()),this._source.play()),zC(this,tx.NEED_REPLACE_MIXING_TRACK,this).then((()=>{oI.debug("[".concat(this.getTrackId(),"] replace from origin track to web audio track success"))})).catch((e=>{oI.warning("[".concat(this.getTrackId(),"] replace from origin track to web audio track failed"),e)}))),{processorContext:e,processorDestination:t}}}).prototype,"setVolume",[yP],Object.getOwnPropertyDescriptor(LP.prototype,"setVolume"),LP.prototype),wx(LP.prototype,"setPlaybackDevice",[_P,EP],Object.getOwnPropertyDescriptor(LP.prototype,"setPlaybackDevice"),LP.prototype),wx(LP.prototype,"setEnabled",[bP,TP,SP],Object.getOwnPropertyDescriptor(LP.prototype,"setEnabled"),LP.prototype),wx(LP.prototype,"setMuted",[wP,CP,RP],Object.getOwnPropertyDescriptor(LP.prototype,"setMuted"),LP.prototype),wx(LP.prototype,"getStats",[IP],Object.getOwnPropertyDescriptor(LP.prototype,"getStats"),LP.prototype),wx(LP.prototype,"setAudioFrameCallback",[AP],Object.getOwnPropertyDescriptor(LP.prototype,"setAudioFrameCallback"),LP.prototype),wx(LP.prototype,"play",[OP,NP],Object.getOwnPropertyDescriptor(LP.prototype,"play"),LP.prototype),wx(LP.prototype,"stop",[kP,DP],Object.getOwnPropertyDescriptor(LP.prototype,"stop"),LP.prototype),wx(LP.prototype,"close",[xP],Object.getOwnPropertyDescriptor(LP.prototype,"close"),LP.prototype),wx(LP.prototype,"pipe",[PP],Object.getOwnPropertyDescriptor(LP.prototype,"pipe"),LP.prototype),wx(LP.prototype,"unpipe",[MP],Object.getOwnPropertyDescriptor(LP.prototype,"unpipe"),LP.prototype),LP),iM=(UP=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),jP=rP(),VP=_R("MicrophoneAudioTrack","_enabledMutex"),BP=dI({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),zP=rP(),FP=dI({argsMap:e=>[e.getTrackId()]}),wx((HP=class extends oM{get __className__(){return"MicrophoneAudioTrack"}constructor(e,t,n,r){super(e,t.encoderConfig?ZD(t.encoderConfig):{},r,jR("GET_VOLUME_OF_MUTED_AUDIO_TRACK")),Cx(this,"_config",void 0),Cx(this,"_deviceName","default"),Cx(this,"_constraints",void 0),Cx(this,"_originalConstraints",void 0),Cx(this,"_enabled",!0),this._config=t,this._constraints=n,this._originalConstraints=n,this._deviceName=e.label,"boolean"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),($w()||Jw())&&Dx.bindInterruptDetectorTrack(this)}async setDevice(e){if(oI.info("[".concat(this.getTrackId(),"] start set device to ").concat(e)),this._enabled)try{const n=await $x.getDeviceById(e),r={};r.audio=Ix({},this._constraints),r.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let o=null;try{o=await qx(r,this.getTrackId())}catch(t){throw oI.error("[".concat(this.getTrackId(),"] setDevice failed"),t.toString()),o=await qx({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(o.getAudioTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(o.getAudioTracks()[0],!1),this._deviceName=n.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(t){throw oI.error("[".concat(this.getTrackId(),"] setDevice error"),t.toString()),t}else try{const t=await $x.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(t){throw oI.error("[".concat(this.getTrackId(),"] setDevice error"),t.toString()),t}oI.info("[".concat(this.getTrackId(),"] set device to ").concat(e," success"))}async setEnabled(e,t,n){if(t)return oI.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),await super._setEnabled(e);if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(oI.info("[".concat(this.getTrackId(),"] start setEnabled"),e),jR("AUTO_RESET_AUDIO_ROUTE")&&(zw()||Qw())){const t=navigator.audioSession;t&&(e||(t.type="playback"),t.type="auto")}if(!e){var r;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(r=this._source.clonedTrack)||void 0===r||r.stop(),n||(this._enabled=!1);try{await zC(this,tx.NEED_DISABLE_TRACK,this)}catch(a){throw oI.error("[".concat(this.getTrackId(),"] setEnabled false failed"),a.toString()),a}return}const o=Ix({},this._constraints),i=$x.searchDeviceIdByName(this._deviceName);i&&!o.deviceId&&(o.deviceId=i);try{n||(this._enabled=!0);const e=await qx({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await zC(this,tx.NEED_ENABLE_TRACK,this)}catch(a){throw n||(this._enabled=!1),oI.error("[".concat(this.getTrackId(),"] setEnabled true failed"),a.toString()),a}oI.info("[".concat(this.getTrackId(),"] setEnabled success"))}close(){super.close(),($w()||Jw())&&Dx.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((zw()||Qw())&&this._enabled&&!this._isClosed&&Dx.duringInterruption){const e=async()=>{Dx.off(BD.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(oI.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};Dx.on(BD.IOS_INTERRUPTION_END,e)}else oI.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(sx.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=$x.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId=n),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const e=await qx({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!0)}}bindProcessorContextEvents(e){super.bindProcessorContextEvents(e),e.on(vx.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(r){n(r)}}))}unbindProcessorContextEvents(e){super.unbindProcessorContextEvents(e),e.removeAllListeners(vx.REQUEST_UPDATE_CONSTRAINTS)}}).prototype,"setDevice",[UP,jP],Object.getOwnPropertyDescriptor(HP.prototype,"setDevice"),HP.prototype),wx(HP.prototype,"setEnabled",[VP,BP,zP],Object.getOwnPropertyDescriptor(HP.prototype,"setEnabled"),HP.prototype),wx(HP.prototype,"close",[FP],Object.getOwnPropertyDescriptor(HP.prototype,"close"),HP.prototype),HP),aM=(GP=dI({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),WP=rP(),qP=dI({argsMap:e=>[e.getTrackId()]}),KP=rP(),YP=dI({argsMap:e=>[e.getTrackId()]}),XP=rP(),$P=dI({argsMap:e=>[e.getTrackId()]}),JP=rP(),ZP=dI({argsMap:e=>[e.getTrackId()]}),QP=rP(),eM=dI({argsMap:e=>[e.getTrackId()]}),tM=dI({argsMap:e=>[e.getTrackId()]}),nM=rP(),wx((rM=class extends oM{get __className__(){return"BufferSourceAudioTrack"}constructor(e,t,n,r){super(t.createOutputTrack(),n,r),Cx(this,"source",void 0),Cx(this,"_bufferSource",void 0),this._useAudioElement=!1,this.source=e,this._bufferSource=t,this._bufferSource.on(ux.AUDIO_SOURCE_STATE_CHANGE,(e=>{this.safeEmit(sx.SOURCE_STATE_CHANGE,e)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(o){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(e){pC(e,"speed",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}).prototype,"startProcessAudioBuffer",[GP,WP],Object.getOwnPropertyDescriptor(rM.prototype,"startProcessAudioBuffer"),rM.prototype),wx(rM.prototype,"pauseProcessAudioBuffer",[qP,KP],Object.getOwnPropertyDescriptor(rM.prototype,"pauseProcessAudioBuffer"),rM.prototype),wx(rM.prototype,"seekAudioBuffer",[YP,XP],Object.getOwnPropertyDescriptor(rM.prototype,"seekAudioBuffer"),rM.prototype),wx(rM.prototype,"resumeProcessAudioBuffer",[$P,JP],Object.getOwnPropertyDescriptor(rM.prototype,"resumeProcessAudioBuffer"),rM.prototype),wx(rM.prototype,"stopProcessAudioBuffer",[ZP,QP],Object.getOwnPropertyDescriptor(rM.prototype,"stopProcessAudioBuffer"),rM.prototype),wx(rM.prototype,"close",[eM],Object.getOwnPropertyDescriptor(rM.prototype,"close"),rM.prototype),wx(rM.prototype,"setAudioBufferPlaybackSpeed",[tM,nM],Object.getOwnPropertyDescriptor(rM.prototype,"setAudioBufferPlaybackSpeed"),rM.prototype),rM);class sM extends oM{get __className__(){return"MixingAudioTrack"}get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=xx().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,aR(8,"track-mix-")),Cx(this,"trackList",void 0),Cx(this,"destNode",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(t){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){-1===this.trackList.indexOf(e)?(oI.debug("add ".concat(e.getTrackId()," to mixing track")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):oI.debug("track ".concat(e.getTrackId()," is already added"))}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){oI.debug("remove ".concat(e.getTrackId()," from mixing track"));try{e._source.outputNode.disconnect(this.destNode)}catch(t){}WC(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach((t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach((t=>{t instanceof sM?t.emit(ax.TRANSCEIVER_UPDATED,e):t._updateRtpTransceiver(e)})))}}class cM extends jx{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(ux.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Cx(this,"audioBuffer",void 0),Cx(this,"sourceNode",void 0),Cx(this,"startPlayTime",0),Cx(this,"startPlayOffset",0),Cx(this,"pausePlayTime",0),Cx(this,"options",void 0),Cx(this,"currentLoopCount",0),Cx(this,"currentPlaybackSpeed",100),Cx(this,"_currentState","stopped"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e){"stopped"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):oI.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(vp){}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(e){this.sourceNode&&("playing"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const lM=new Map;class uM{get rendFrameRate(){if(this.renderStats&&this.renderStats.curTs!==this.renderStats.lastTs){const e=this.renderStats.curTs-this.renderStats.lastTs,t=(this.renderStats.renderNum-this.renderStats.lastRenderNum)/e;return this.renderStats.lastRenderNum=this.renderStats.renderNum,this.renderStats.lastTs=this.renderStats.curTs,t}return 0}get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(oI.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(e)),this._videoElementStatus=e)}get videoState(){return this._videoState}set videoState(e){var t;e!==this._videoState&&(this._videoState=e,null===(t=this.onVideoStateChanged)||void 0===t||t.call(this,this.videoState))}constructor(e){Cx(this,"trackId",void 0),Cx(this,"config",void 0),Cx(this,"onFirstVideoFrameDecoded",void 0),Cx(this,"onVideoStateChanged",void 0),Cx(this,"freezeTimeCounterList",[]),Cx(this,"renderFreezeAccTime",0),Cx(this,"isKeepLastFrame",!1),Cx(this,"timeUpdatedCount",0),Cx(this,"freezeTime",0),Cx(this,"playbackTime",0),Cx(this,"lastTimeUpdatedTime",0),Cx(this,"autoplayFailed",!1),Cx(this,"videoTrack",void 0),Cx(this,"videoElement",void 0),Cx(this,"cacheVideoElement",void 0),Cx(this,"renderStats",void 0),Cx(this,"_videoState",bx.VideoStateStopped),Cx(this,"videoElementCheckInterval",void 0),Cx(this,"videoElementFreezeTimeout",void 0),Cx(this,"_videoElementStatus",Ex.NONE),Cx(this,"isGettingVideoDimensions",!1),Cx(this,"startGetVideoDimensions",(()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return oI.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()})),Cx(this,"autoResumeAfterInterruption",(()=>{this.videoTrack&&"live"===this.videoTrack.readyState&&"running"===Dx.curState&&(oI.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(Mw())),Zw()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),Cx(this,"handleVideoEvents",(e=>{switch(e.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=Ex.PLAYING;break;case"loadeddata":if(this.videoState=bx.VideoStateStarting,this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch(t){}this.cacheVideoElement=void 0}break;case"canplay":this.videoElementStatus=Ex.CANPLAY;break;case"stalled":this.videoElementStatus=Ex.STALLED;break;case"suspend":this.videoElementStatus=Ex.SUSPEND;break;case"pause":this.videoElementStatus=Ex.PAUSED,zw()||Qw()||jw()&&this.autoplayFailed||!this.videoTrack||"live"!==this.videoTrack.readyState||(oI.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),this.videoElement.play());break;case"waiting":this.videoElementStatus=Ex.WAITING;break;case"abort":this.videoElementStatus=Ex.ABORT;break;case"ended":this.videoElementStatus=Ex.ENDED;break;case"emptied":this.videoElementStatus=Ex.EMPTIED;break;case"error":{const e=this.videoElement.error;e&&(this.videoElementStatus=Ex.ERROR,oI.error("[".concat(this.trackId,"] media error: ").concat(e.message," (").concat(e.code,")")));break}case"timeupdate":{const e=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime,n=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e,dL.lastVisibleTime<dL.lastHiddenTime||n<dL.lastHiddenTime||n<dL.lastVisibleTime)return;for(t>jR("VIDEO_FREEZE_DURATION")&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;){this.playbackTime-=6e3;const e=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}})),Cx(this,"autoResumeAfterInterruptionOnIOS15_16",(()=>{this.videoTrack&&"live"===this.videoTrack.readyState&&(oI.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(Mw())),Zw()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement("video"),Dx.on(BD.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),Dx.on(BD.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var e;return null!==(e=this.videoElement.parentElement)&&void 0!==e?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement())}play(e){const t=this.videoElement.play();t&&t.catch&&t.catch((t=>{e&&eP(e,"video",t.message,this.trackId),"NotAllowedError"===t.name?(oI.warning("detected video element autoplay failed",t),this.autoplayFailed=!0,this.handleAutoPlayFailed()):oI.warning("[".concat(this.trackId,"] play warning: "),t)}));const n=Dw();if(("Safari"===n.name&&15===Number(n.version)||$w())&&t&&t.then){const e=()=>{this.config.mirror&&(this.videoElement.style.transform="rotateY(180deg)")};t.then(e).catch(e)}}getCurrentFrame(){const e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext("2d");if(!t)return oI.error("create canvas context failed!"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const n=t.getImageData(0,0,e.width,e.height);return e.remove(),n}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=document.createElement("canvas");n.width=this.videoElement.videoWidth,n.height=this.videoElement.videoHeight;const r=n.getContext("2d");return r?(r.drawImage(this.videoElement,0,0,n.width,n.height),new Uh(((r,o)=>{n.toBlob((async e=>{if(n.remove(),e){const t=await vP(e);r({buffer:t,width:n.width,height:n.height})}else o(new uC(lC.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,t<0?.1:t>1?1:t)}))):await gP(e)}destroy(){this.renderStats=void 0,Dx.off(BD.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),Dx.off(BD.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=bx.VideoStateStopped}initVideoElement(){if(this.videoElementStatus=Ex.INIT,!this.videoElementCheckInterval&&(dM.forEach((e=>{this.videoElement.addEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{var e;(e=this.videoElement)!==document.body&&document.body.contains(e)||(this.videoElementStatus=Ex.DESTROYED)}),1e3),jR("ENABLE_VIDEO_FRAME_CALLBACK"))){var e,t;let n;const r=()=>{"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",r),this.videoElementFreezeTimeout=window.setTimeout(o,jR("VIDEO_FREEZE_DURATION")))},o=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===bx.VideoStateDecoding&&("visible"===document.visibilityState?this.videoState=bx.VideoStateFrozen:document.addEventListener("visibilitychange",r))},i=(e,t)=>{if(this.videoElementStatus===Ex.PLAYING){if(this.renderStats?(this.renderStats.renderNum++,this.renderStats.curTs=t.mediaTime):this.renderStats={lastTs:t.mediaTime,curTs:t.mediaTime,lastRenderNum:0,renderNum:0},n){const e=t.presentationTime-n.presentationTime;this.videoState===bx.VideoStateStarting&&(this.videoState=bx.VideoStateDecoding),this.videoState===bx.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(o,jR("VIDEO_FREEZE_DURATION"))),e<jR("VIDEO_FREEZE_DURATION")&&this.videoState===bx.VideoStateFrozen&&(this.videoState=bx.VideoStateDecoding),e>jR("VIDEO_FREEZE_DURATION")&&dL.lastVisibleTime>=dL.lastHiddenTime&&n.timestamp>dL.lastVisibleTime&&n.timestamp>dL.lastHiddenTime&&(this.renderFreezeAccTime+=e)}n=Ix(Ix({},t),{},{timestamp:e})}var r,a;jR("ENABLE_VIDEO_FRAME_CALLBACK")&&(null===(r=(a=this.videoElement).requestVideoFrameCallback)||void 0===r||r.call(a,i))};null===(e=(t=this.videoElement).requestVideoFrameCallback)||void 0===e||e.call(t,i)}this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),oC()&&!jR("HIDE_NO_POSTER")&&(this.videoElement.poster="noposter");const n=Dw();"Safari"===n.name&&15===Number(n.version)||$w()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Bw()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Bw()&&this.videoElement.load());const r=this.videoElement.play();void 0!==r&&r.catch((e=>{oI.debug("[".concat(this.trackId,"] playback interrupted"),e.toString())}))}resetVideoElement(){dM.forEach((e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=Ex.NONE}handleAutoPlayFailed(){const e=t=>{t.preventDefault(),this.videoElement.play().then((()=>{oI.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed."))})).catch((e=>{oI.error(e)})),this.autoplayFailed=!1,iC()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};iC()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),Qx()}}const dM=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate","error"];class hM extends uM{constructor(e){super(e),Cx(this,"container",void 0),Cx(this,"slot",void 0),this.slot=e.element,this.updateConfig(e)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){var t;null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)&&super.play(e)}getCurrentFrame(){var e;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,n):await gP(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement("video"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(vp){}this.container=void 0}}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",jR("KEEP_LAST_FRAME")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var e;!this.container||null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.style.left="0",this.videoElement.style.top="0"}unmountedVideoElement(){var e;if(null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch(t){}this.videoElement=document.createElement("video")}}resetVideoElement(){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement("video"))}getContainerElement(){return this.container}}var pM,fM,mM,gM,vM,yM,_M,EM,bM,TM,SM,wM,CM,RM,IM,AM,OM,NM,kM,DM,xM,PM,MM,LM,UM,jM,VM,BM,zM,FM,HM,GM,WM,qM;let KM=(pM=dI({argsMap:(e,t,n)=>[e.getTrackId(),"string"==typeof t?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),fM=rP(),mM=dI({argsMap:e=>[e.getTrackId()]}),gM=_R("LocalVideoTrack","_enabledMutex"),vM=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),yM=rP(),_M=_R("LocalVideoTrack","_enabledMutex"),EM=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),bM=rP(),TM=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),SM=rP(),wM=rP(),CM=dI({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),RM=rP(),IM=rP(),AM=rP(),OM=rP(),NM=rP(),kM=rP(),DM=rP(),xM=dI({argsMap:(e,t)=>[e.getTrackId(),t.name]}),PM=dI({argsMap:e=>[e.getTrackId()]}),MM=dI({argsMap:e=>[e.getTrackId()]}),LM=dI({argsMap:(e,t,n)=>[e.getTrackId(),t.label,n]}),UM=class e extends Ox{get videoHeight(){if(jw()){const{height:e}=this._mediaStreamTrack.getSettings();return this._videoHeight=e,this._videoHeight}return this._videoHeight}get videoWidth(){if(jw()){const{width:e}=this._mediaStreamTrack.getSettings();return this._videoWidth=e,this._videoWidth}return this._videoWidth}get isPlaying(){return!(!this._player||this._player.videoElementStatus!==Ex.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get __className__(){return"LocalVideoTrack"}constructor(e,t,n,r,o,i){if(super(e,o),Cx(this,"trackMediaType",lx.VIDEO),Cx(this,"_player",void 0),Cx(this,"isUseScaleResolutionDownBy",!1),Cx(this,"_videoVisibleTimer",null),Cx(this,"_previousVideoVisibleStatus",void 0),Cx(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),Cx(this,"_encoderConfig",void 0),Cx(this,"_scalabilityMode",{numSpatialLayers:1,numTemporalLayers:1}),Cx(this,"_optimizationMode",void 0),Cx(this,"_videoHeight",void 0),Cx(this,"_videoWidth",void 0),Cx(this,"_forceBitrateLimit",void 0),Cx(this,"_enabled",!0),Cx(this,"_processorDestination",void 0),Cx(this,"_processorContext",void 0),jw()){const{width:t,height:n}=e.getSettings();this._videoWidth=t,this._videoHeight=n}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=t,this._scalabilityMode=n,this._optimizationMode=r,this._hints=i||[],-1===this._hints.indexOf(nx.SCREEN_TRACK))this.updateBitrateFromProfile();else if(function(e,t){const n=Dw();return!(n.name!==e||!n.osVersion)&&Number(n.version)===t}(Aw.CHROME,115)&&-1!==Pw().indexOf("Windows")){const t=function(e){if("VideoFrame"in window&&"TransformStream"in window&&UD().supportWebRTCInsertableStream){const t=new MediaStreamTrackProcessor(e),n=new MediaStreamTrackGenerator({kind:"video"});let r,o,i=Date.now();const a=()=>{s&&(clearInterval(s),s=void 0),r&&(r.close(),r=void 0),e.stop(),o=void 0,n.removeEventListener("ended",a)};let s=window.setInterval((()=>{if(o&&r&&Date.now()-i>1e3)try{"live"===n.readyState?o.enqueue(r.clone()):a()}catch(e){a()}}),1e3);const c=new TransformStream({transform:(e,t)=>{"live"===n.readyState?(o=t,i=Date.now(),void 0===r?(r=e,t.enqueue(e.clone())):(t.enqueue(r),r=e)):e.close()}});return n.addEventListener("ended",a),t.readable.pipeThrough(c).pipeTo(n.writable),n}}(e);t&&(oI.info("local screen video track begin to inject frame"),this._mediaStreamTrack=t)}t&&-1!==this._hints.indexOf(nx.CUSTOM_TRACK)&&this.setEncoderConfiguration(t),this._processorContext=new iP(this.getTrackId(),"local"),this._processorDestination=new oP(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){const t=document.getElementById(e);t?e=t:(oI.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}oI.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(t));const n=Ix(Ix(Ix({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(n):(e instanceof HTMLVideoElement?this._player=new uM(n):this._player=new hM(n),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(sx.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),jR("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,oI.debug("[".concat(this.getTrackId(),"] stop video playback")))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(oI.info("[".concat(this.getTrackId(),"] start setEnabled"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await zC(this,tx.NEED_DISABLE_TRACK,this)}catch(n){throw oI.error("[".concat(this.getTrackId(),"] setEnabled to false error"),n.toString()),n}return t||(this._enabled=!1),void oI.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}this._originMediaStreamTrack.enabled=!0;try{await zC(this,tx.NEED_ENABLE_TRACK,this)}catch(n){throw oI.error("[".concat(this.getTrackId(),"] setEnabled to true error"),n.toString()),n}oI.info("[".concat(this.getTrackId(),"] setEnabled to true success")),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,oI.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await zC(this,tx.NEED_MUTE_TRACK,this):await zC(this,tx.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(e,t){if(!this._enabled)throw new uC(lC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");if(e=YD(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){const t=dP({encoderConfig:e});(jw()||zw()||Qw())&&(t.deviceId=void 0),oI.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(t));try{await this._originMediaStreamTrack.applyConstraints(t),this.updateMediaStreamTrackResolution()}catch(n){const e=new uC(lC.UNEXPECTED_ERROR,n.toString());throw oI.error("[".concat(this.getTrackId(),"] applyConstraints error"),e.toString()),e}}this._encoderConfig=e,-1===this._hints.indexOf(nx.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await zC(this,tx.NEED_UPDATE_VIDEO_ENCODER,this)}catch(n){return n.throw(oI)}}getStats(){return JC((()=>{oI.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")}),"localVideoTrackGetStatsWarning"),FC(this,tx.GET_STATS)||Ix({},hx)}async setBeautyEffect(e){oI.error("LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await gP(e)}async setBitrateLimit(e){if(oI.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(e))),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await zC(this,tx.NEED_UPDATE_VIDEO_ENCODER,this)}catch(t){return t.throw(oI)}}}async setOptimizationMode(e){if("motion"!==e&&"detail"!==e&&"balanced"!==e)return void oI.error(lC.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");const t=this._optimizationMode;try{this._optimizationMode=e,await zC(this,tx.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this)}catch(n){throw this._optimizationMode=t,oI.error("[".concat(this.getTrackId(),"] set optimization mode failed"),n.toString()),n}oI.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(e,")"))}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return oI.error(lC.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,oI.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(e,")"))}updateMediaStreamTrackResolution(){uP(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(cR)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}async setSenderConfiguration(e){if(!this._enabled)throw new uC(lC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");oI.debug("[".concat(this.getTrackId(),"] setSenderConfiguration applyConstraints"),JSON.stringify(e)),e=YD(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),this._encoderConfig=e,-1===this._hints.indexOf(nx.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await zC(this,tx.NEED_UPDATE_VIDEO_ENCODER,this)}catch(t){return t.throw(oI)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:n}=this.getMediaStreamTrackSettings();if(!e||!t||!n)return;const{bitrateMax:r,bitrateMin:o}=this._encoderConfig;if(null==o||null==r){const{max:i,min:a}=function(e,t,n,r,o){const i=jR("BITRATE_ADAPTER_TYPE");if("DEFAULT_BITRATE"===i)return{min:r,max:o};if(void 0===o){var a;const s=Math.floor(200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75));o="STANDARD_BITRATE"===i?4*s:2*s,r=null!==(a=r)&&void 0!==a?a:s}else{var s;r=null!==(s=r)&&void 0!==s?s:Math.floor(o/10)}return{min:r,max:o}}(e,t,n,o,r);this._encoderConfig.bitrateMin=a,this._encoderConfig.bitrateMax=i,oI.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(e,", h: ").concat(t,", fps: ").concat(n,"] => [brMax: ").concat(i,", brMin: ").concat(a,"]"))}}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:o,slot:i}=r;if(this.isPlaying&&o instanceof HTMLVideoElement&&i instanceof HTMLElement){const e=bC.checkOneElementVisible(o),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=hI.reportApiInvoke(null,{tag:OC.TRACER,name:AC.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(n){throw new uC(lC.GET_VIDEO_ELEMENT_VISIBLE_ERROR,n.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new uC(lC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this._encoderConfig;t&&(r=Ix(Ix({},r),YD(t))),r=XC(r);const o=aR(8,"track-video-cloned-"),i=new e(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,r,XC(this._scalabilityMode),this._optimizationMode,o,XC(this._hints));return t&&r&&i.setEncoderConfiguration(r),oI.debug("clone video track from ".concat(this.getTrackId()," to ").concat(o,", clone ").concat(n)),i}async replaceTrack(e,t){if(!(e instanceof MediaStreamTrack))throw new uC(lC.INVALID_PARAMS,"track should be an instance of MediaStreamTrack");if("video"!==e.kind)throw new uC(lC.INVALID_PARAMS,"track should be a video MediaStreamTrack");await this._updateOriginMediaStreamTrack(e,t,!0),this.updateMediaStreamTrackResolution()}sendSeiData(e){if(JC((()=>{hI.reportApiInvoke(null,{name:AC.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:OC.TRACER}).onSuccess("")}),this._mediaStreamTrack.id||this.getTrackId()),!jR("ENABLE_VIDEO_SEI")||!jR("ENABLE_ENCODED_TRANSFORM"))return void oI.warning('To send/receive SEI, please call AgoraRTC.setParameter("ENABLE_VIDEO_SEI", true) before instantiate IAgoraRtcClient');if(e instanceof Uint8Array==0)return new uC(lC.INVALID_PARAMS,"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.").throw();const t=this.getRTCRtpTransceiver();if(!t)return void oI.warning("Video track is not published, SEI can not be send");const n=t.sender.getParameters();if(0===n.codecs.length)return;const r=n.codecs[0].mimeType.toLocaleLowerCase();"video/h264"===r?this.safeEmit("sei-to-send",e):oI.warning("SEI is not supported by ".concat(r))}bindProcessorDestinationEvents(){this.processorDestination.on(gx.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await zC(this,tx.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await zC(this,tx.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(gx.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(vx.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(vx.REQUEST_CONSTRAINTS)}},wx(UM.prototype,"play",[pM,fM],Object.getOwnPropertyDescriptor(UM.prototype,"play"),UM.prototype),wx(UM.prototype,"stop",[mM],Object.getOwnPropertyDescriptor(UM.prototype,"stop"),UM.prototype),wx(UM.prototype,"setEnabled",[gM,vM,yM],Object.getOwnPropertyDescriptor(UM.prototype,"setEnabled"),UM.prototype),wx(UM.prototype,"setMuted",[_M,EM,bM],Object.getOwnPropertyDescriptor(UM.prototype,"setMuted"),UM.prototype),wx(UM.prototype,"setEncoderConfiguration",[TM,SM],Object.getOwnPropertyDescriptor(UM.prototype,"setEncoderConfiguration"),UM.prototype),wx(UM.prototype,"getStats",[wM],Object.getOwnPropertyDescriptor(UM.prototype,"getStats"),UM.prototype),wx(UM.prototype,"setBeautyEffect",[CM,RM],Object.getOwnPropertyDescriptor(UM.prototype,"setBeautyEffect"),UM.prototype),wx(UM.prototype,"getCurrentFrameData",[IM],Object.getOwnPropertyDescriptor(UM.prototype,"getCurrentFrameData"),UM.prototype),wx(UM.prototype,"getCurrentFrameImage",[AM],Object.getOwnPropertyDescriptor(UM.prototype,"getCurrentFrameImage"),UM.prototype),wx(UM.prototype,"setBitrateLimit",[OM],Object.getOwnPropertyDescriptor(UM.prototype,"setBitrateLimit"),UM.prototype),wx(UM.prototype,"setOptimizationMode",[NM],Object.getOwnPropertyDescriptor(UM.prototype,"setOptimizationMode"),UM.prototype),wx(UM.prototype,"setScalabiltyMode",[kM],Object.getOwnPropertyDescriptor(UM.prototype,"setScalabiltyMode"),UM.prototype),wx(UM.prototype,"updateMediaStreamTrackResolution",[DM],Object.getOwnPropertyDescriptor(UM.prototype,"updateMediaStreamTrackResolution"),UM.prototype),wx(UM.prototype,"pipe",[xM],Object.getOwnPropertyDescriptor(UM.prototype,"pipe"),UM.prototype),wx(UM.prototype,"unpipe",[PM],Object.getOwnPropertyDescriptor(UM.prototype,"unpipe"),UM.prototype),wx(UM.prototype,"close",[MM],Object.getOwnPropertyDescriptor(UM.prototype,"close"),UM.prototype),wx(UM.prototype,"replaceTrack",[LM],Object.getOwnPropertyDescriptor(UM.prototype,"replaceTrack"),UM.prototype),UM),YM=(jM=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),VM=rP(),BM=_R("CameraVideoTrack","_enabledMutex"),zM=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),FM=rP(),HM=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),GM=rP(),WM=dI({argsMap:e=>[e.getTrackId()]}),qM=class e extends KM{get __className__(){return"CameraVideoTrack"}constructor(e,t,n,r,o,i){super(e,YD(t.encoderConfig),r,o,i),Cx(this,"_config",void 0),Cx(this,"_originalConstraints",void 0),Cx(this,"_constraints",void 0),Cx(this,"_enabled",!0),Cx(this,"_deviceName","default"),Cx(this,"tryResumeVideoForIOS15_16WeChat",(async()=>{($w()||Jw())&&!function(){const e=Dw();if(e.os!==Iw.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=2}()&&eC()&&this._enabled&&!this._isClosed&&(oI.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())})),this._config=t,this._originalConstraints=n,this._constraints=n,this._deviceName=e.label,this._encoderConfig=YD(this._config.encoderConfig),Dx.on(BD.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),Dx.on(BD.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(e){return"string"==typeof e?this._setDeviceById(e):e.deviceId?this._setDeviceById(e.deviceId):e.facingMode?this._setDeviceByFacingModel(e.facingMode):void 0}async _setDeviceById(e){if(oI.info("[".concat(this.getTrackId(),"] set device to ").concat(e)),this._enabled)try{const n=await $x.getDeviceById(e),r={};r.video=Ix({},this._constraints),r.video.deviceId={exact:e},r.video.facingMode=void 0,this._originMediaStreamTrack.stop();let o=null;try{o=await qx(r,this.getTrackId())}catch(t){throw oI.error("[".concat(this.getTrackId(),"] setDevice failed"),t.toString()),o=await qx({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(o.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(o.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=n.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(t){throw oI.error("[".concat(this.getTrackId(),"] setDevice error"),t.toString()),t}else try{const t=await $x.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(t){throw oI.error("[".concat(this.getTrackId(),"] setDevice error"),t.toString()),t}oI.info("[".concat(this.getTrackId(),"] setDevice success"))}async _setDeviceByFacingModel(e){oI.info("[".concat(this.getTrackId(),"] set facingMode ").concat(e));const t={video:Ix(Ix({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e}})};if(this._enabled){this._originMediaStreamTrack.stop();let e=null;try{e=await qx(t,this.getTrackId())}catch(n){throw oI.error("[".concat(this.getTrackId(),"] setDeviceByFacingModel failed"),n.toString()),e=await qx({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),n}await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName="",this._config.facingMode=e,this._config.cameraId=void 0,this._constraints=Ix({},t.video),oI.info("[".concat(this.getTrackId(),"] setDeviceByFacingModel success"))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(oI.info("[".concat(this.getTrackId(),"] start setEnabled"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const e=await qx({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1)}await zC(this,tx.NEED_ENABLE_TRACK,this)}catch(n){throw oI.error("[".concat(this.getTrackId(),"] setEnabled true error"),n.toString()),n}this.updateMediaStreamTrackResolution(),oI.info("[".concat(this.getTrackId(),"] setEnabled to true success")),t||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),t||(this._enabled=!1);try{await zC(this,tx.NEED_DISABLE_TRACK,this)}catch(n){throw oI.error("[".concat(this.getTrackId(),"] setEnabled to false error"),n.toString()),n}oI.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new uC(lC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");e=YD(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate||e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate||e.bitrateMin);const n=YC(this._config);n.encoderConfig=e;const r=dP(n);(jw()||zw()||Qw())&&(r.deviceId=void 0),oI.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(r));try{await this._originMediaStreamTrack.applyConstraints(r),this.updateMediaStreamTrackResolution()}catch(o){const e=new uC(lC.UNEXPECTED_ERROR,o.toString());throw oI.error("[".concat(this.getTrackId(),"] applyConstraints error"),e.toString()),e}this._config=n,this._constraints=r,this._originalConstraints=r,this._encoderConfig=e,-1===this._hints.indexOf(nx.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await zC(this,tx.NEED_UPDATE_VIDEO_ENCODER,this)}catch(o){return o.throw(oI)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((zw()||Qw())&&this._enabled&&!this._isClosed&&Dx.duringInterruption){const e=async()=>{Dx.off(BD.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(oI.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};Dx.on(BD.IOS_INTERRUPTION_END,e)}else oI.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(sx.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=$x.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId={exact:n}),this._enabled){const e=await qx({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),Dx.off(BD.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),Dx.off(BD.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this._encoderConfig;t&&(r=Ix(Ix({},r),YD(t))),r=XC(r);const o=aR(8,"track-cam-cloned-"),i=new e(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,XC(Ix(Ix({},this._config),{},{encoderConfig:r})),XC(this._constraints),XC(this._scalabilityMode),this._optimizationMode,o);return t&&r&&i.setEncoderConfiguration(r),oI.debug("clone track from ".concat(this.getTrackId()," to ").concat(o,", clone ").concat(n)),i}bindProcessorContextEvents(){this.processorContext.on(vx.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(r){n(r)}})),this.processorContext.on(vx.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}},wx(qM.prototype,"setDevice",[jM,VM],Object.getOwnPropertyDescriptor(qM.prototype,"setDevice"),qM.prototype),wx(qM.prototype,"setEnabled",[BM,zM,FM],Object.getOwnPropertyDescriptor(qM.prototype,"setEnabled"),qM.prototype),wx(qM.prototype,"setEncoderConfiguration",[HM,GM],Object.getOwnPropertyDescriptor(qM.prototype,"setEncoderConfiguration"),qM.prototype),wx(qM.prototype,"close",[WM],Object.getOwnPropertyDescriptor(qM.prototype,"close"),qM.prototype),qM);function XM(e,t,n,r){n.optimizationMode&&(r&&r.width&&r.height?(n.encoderConfig=Ix(Ix({},r),{},{bitrateMin:r.bitrateMin,bitrateMax:r.bitrateMax}),"motion"!==n.optimizationMode&&"detail"!==n.optimizationMode||(t.contentHint=n.optimizationMode,t.contentHint===n.optimizationMode?oI.debug("[".concat(e,"] set content hint to"),n.optimizationMode):oI.debug("[".concat(e,"] set content hint failed")))):oI.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")))}var $M,JM,ZM,QM,eL,tL,nL,rL,oL,iL,aL,sL;class cL extends Ax{getUserId(){return this._userId}constructor(e,t,n,r){super(e,"track-".concat(e.kind,"-").concat(t,"-").concat(r.clientId,"_").concat(aR(5,""))),Cx(this,"_userId",void 0),Cx(this,"_uintId",void 0),Cx(this,"_isDestroyed",!1),Cx(this,"store",void 0),Cx(this,"processor",void 0),Cx(this,"processorContext",void 0),this._userId=t,this._uintId=n,this.store=r}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,oI.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let lL=($M=dI({argsMap:(e,t,n)=>[e.getTrackId(),"string"==typeof t?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),JM=dI({argsMap:e=>[e.getTrackId()]}),ZM=dI({argsMap:(e,t)=>[e.getTrackId(),t.name]}),QM=dI({argsMap:e=>[e.getTrackId()]}),wx((eL=class extends cL{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==Ex.PLAYING)}get __className__(){return"RemoteVideoTrack"}constructor(e,t,n,r){super(e,t,n,r),Cx(this,"_videoVisibleTimer",null),Cx(this,"_previousVideoVisibleStatus",void 0),Cx(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),Cx(this,"trackMediaType",lx.VIDEO),Cx(this,"_videoWidth",void 0),Cx(this,"_videoHeight",void 0),Cx(this,"_player",void 0),Cx(this,"processorDestination",void 0),Cx(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new iP(this.getTrackId(),"remote"),this.processorDestination=new oP(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return JC((()=>{oI.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")}),"remoteVideoTrackGetStatsWarning"),FC(this,tx.GET_STATS)||Ix({},mx)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){const t=document.getElementById(e);t?e=t:(oI.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}oI.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(t));const n=Ix(Ix({fit:"cover"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(n):(e instanceof HTMLVideoElement?this._player=new uM(n):this._player=new hM(n),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.safeEmit(cx.FIRST_FRAME_DECODED)},this._player.onVideoStateChanged=e=>{this.safeEmit(cx.VIDEO_STATE_CHANGED,e)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(cx.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),jR("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,oI.debug("[".concat(this.getTrackId(),"] stop video playback")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){uP(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(cR)}_updatePlayerSource(){oI.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:o,slot:i}=r;if(this.isPlaying&&o instanceof HTMLVideoElement&&i instanceof HTMLElement){const e=bC.checkOneElementVisible(o),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=hI.reportApiInvoke(null,{tag:OC.TRACER,name:AC.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(n){throw new uC(lC.GET_VIDEO_ELEMENT_VISIBLE_ERROR,n.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new uC(lC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(gx.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(gx.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}_onSei(e){this.emit(ax.SEI_RECEIVED,e)}}).prototype,"play",[$M],Object.getOwnPropertyDescriptor(eL.prototype,"play"),eL.prototype),wx(eL.prototype,"stop",[JM],Object.getOwnPropertyDescriptor(eL.prototype,"stop"),eL.prototype),wx(eL.prototype,"pipe",[ZM],Object.getOwnPropertyDescriptor(eL.prototype,"pipe"),eL.prototype),wx(eL.prototype,"unpipe",[QM],Object.getOwnPropertyDescriptor(eL.prototype,"unpipe"),eL.prototype),eL),uL=(tL=dI({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),nL=dI({argsMap:(e,t)=>[e.getTrackId(),t]}),rL=dI({argsMap:e=>[e.getTrackId()]}),oL=dI({argsMap:e=>[e.getTrackId()]}),iL=dI({argsMap:(e,t)=>[e.getTrackId(),t.name]}),aL=dI({argsMap:e=>[e.getTrackId()]}),wx((sL=class extends cL{get isPlaying(){return this._useAudioElement?nP.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"RemoteAudioTrack"}constructor(e,t,n,r){super(e,t,n,r),Cx(this,"trackMediaType",lx.AUDIO),Cx(this,"_source",void 0),Cx(this,"_useAudioElement",!0),Cx(this,"_volume",100),Cx(this,"processorContext",void 0),Cx(this,"processorDestination",void 0),Cx(this,"_played",!1),Cx(this,"_bypassWebAudio",!1),jR("DISABLE_WEBAUDIO")?(this._source=new cP,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new Vx(e,!0),jR("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1)),this._source.once(ux.RECEIVE_TRACK_BUFFER,(()=>{this.safeEmit(cx.FIRST_FRAME_DECODED)})),this.processorContext=new sP(this._source.context,this.getTrackId(),"remote"),this.processorDestination=new aP(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(ux.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(ux.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(ux.ON_AUDIO_BUFFER),this._source.on(ux.ON_AUDIO_BUFFER,(t=>e(t)))}setVolume(e){this._volume=e,this._useAudioElement?nP.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement||!jD())throw new uC(lC.NOT_SUPPORTED,"your browser does not support setting the audio output device");await nP.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return JC((()=>{oI.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")}),"remoteAudioTrackGetStatsWarning"),FC(this,tx.GET_STATS)||Ix({},px)}play(){oI.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?(oI.debug("[".concat(this.getTrackId(),"] use audio element to play")),nP.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){oI.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?nP.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];oI.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&nP.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new uC(lC.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===e)return e;if(e._source)throw new uC(lC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new uC(lC.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(gx.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(gx.ON_NODE,(e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(gx.ON_TRACK),this.processorDestination.removeAllListeners(gx.ON_NODE)}}).prototype,"setVolume",[tL],Object.getOwnPropertyDescriptor(sL.prototype,"setVolume"),sL.prototype),wx(sL.prototype,"setPlaybackDevice",[nL],Object.getOwnPropertyDescriptor(sL.prototype,"setPlaybackDevice"),sL.prototype),wx(sL.prototype,"play",[rL],Object.getOwnPropertyDescriptor(sL.prototype,"play"),sL.prototype),wx(sL.prototype,"stop",[oL],Object.getOwnPropertyDescriptor(sL.prototype,"stop"),sL.prototype),wx(sL.prototype,"pipe",[iL],Object.getOwnPropertyDescriptor(sL.prototype,"pipe"),sL.prototype),wx(sL.prototype,"unpipe",[aL],Object.getOwnPropertyDescriptor(sL.prototype,"unpipe"),sL.prototype),sL);const dL=new class extends CC{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),Cx(this,"_lastHiddenTime",0),Cx(this,"_lastVisibleTime",0),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),oI.debug("current web page is ".concat(document.visibilityState)),this.emit("VISIBILITY_CHANGE",document.visibilityState)}))}};class hL extends CC{constructor(e,t){super(),Cx(this,"trackMediaType",lx.DATA),Cx(this,"_version",1),Cx(this,"_type",3),Cx(this,"_config",void 0),Cx(this,"_originDataChannel",void 0),Cx(this,"_dataStreamPacketHeader",new ArrayBuffer(4)),Cx(this,"_dataStreamPacketHandler",{serialize:e=>e,deserialize:e=>e}),Cx(this,"_datachannelEventMap",new Map),this._config=e,t&&(this._originDataChannel=t,this._bandDataChannelEvents(t)),this._initPacketHeader()}useDataStream(e){this._dataStreamPacketHandler=e}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return jR("DATASTREAM_MAX_RETRANSMITS")}get metadata(){return this._config.metadata}get readyState(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.readyState)&&void 0!==e?e:"connecting"}get _originDataChannelId(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.id)&&void 0!==e?e:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new Uh(((e,t)=>{if(this._originDataChannel){"open"===this._originDataChannel.readyState&&e();const n=setTimeout((()=>{var e;t(new uC(lC.DATACHANNEL_CONNECTION_TIMEOUT,"Cannot create datachannel, id: ".concat(null===(e=this._originDataChannel)||void 0===e?void 0:e.id)))}),1e4);this._originDataChannel.onopen=()=>{clearTimeout(n),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e()},this._originDataChannel.onerror=()=>{throw clearTimeout(n),new uC(lC.DATACHANNEL_CONNECTION_TIMEOUT)}}else t(new uC(lC.DATACHANNEL_CONNECTION_TIMEOUT,"cannot find dataChannel"))}))}_updateOriginDataChannel(e){this._originDataChannel=e,this._bandDataChannelEvents(e)}_initPacketHeader(){const e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id)}_bandDataChannelEvents(e){this._unbindDataChannelEvents(e),[Sx.OPEN,Sx.CLOSE,Sx.ERROR].forEach((t=>{const n=()=>{this.emit(t)};this._datachannelEventMap.set(t,n),e.addEventListener(t,n)}))}_unbindDataChannelEvents(e){Array.from(this._datachannelEventMap.entries()).forEach((t=>{let[n,r]=t;e.removeEventListener(n,r)})),this._datachannelEventMap.clear()}}class pL extends hL{constructor(e){super(e),Cx(this,"_messageListener",void 0),this._messageListener=e=>{if(e.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error("invalid byteLength: the byte length must exceed "+this._dataStreamPacketHeader.byteLength);const t=e.data.slice(0,this._dataStreamPacketHeader.byteLength),n=new DataView(t).getUint8(3);if(n!==this.id)return void(jR("SHOW_DATASTREAM2_LOG")&&oI.debug("invalid datachannel id: ".concat(n," !== ").concat(this.id)));let r=e.data.slice(this._dataStreamPacketHeader.byteLength);r=this._dataStreamPacketHandler.deserialize(r),this.emit(Sx.MESSAGE,r)}}_updateOriginDataChannel(e){super._updateOriginDataChannel(e),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener("message",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener("message",this._messageListener)}}class fL extends hL{send(e){if(this._originDataChannel){let t=e;t=this._dataStreamPacketHandler.serialize(e);const n=new Uint8Array(this._dataStreamPacketHeader.byteLength+t.byteLength);n.set(new Uint8Array(this._dataStreamPacketHeader),0),n.set(new Uint8Array(t),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(n.buffer)}}}function mL(){const e=new Blob([atob("ZnVuY3Rpb24gZShlLHQsbil7bGV0IHI9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLGE9W10sbz0wO2Zvcig7YS5sZW5ndGg8bjspbyszPG4mJjA9PT1yW29dJiYwPT09cltvKzFdJiYzPT09cltvKzJdJiYoMD09PXJbbyszXXx8MT09PXJbbyszXXx8Mj09PXJbbyszXXx8Mz09PXJbbyszXSk/KGEucHVzaChyW29dLHJbbysxXSxyW28rM10pLG8rPTQpOihhLnB1c2gocltvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSl9ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgbj1bXSxyPTA7Zm9yKDtyPHQ7KXIrMjx0JiYwPT09ZVtyXSYmMD09PWVbcisxXSYmKDA9PT1lW3IrMl18fDE9PT1lW3IrMl18fDI9PT1lW3IrMl18fDM9PT1lW3IrMl0pPyhuLnB1c2goZVtyXSxlW3IrMV0sMyxlW3IrMl0pLHIrPTMpOihuLnB1c2goZVtyXSkscisrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobil9KHQpLHI9bi5sZW5ndGgsYT1NYXRoLmZsb29yKHIvMjU1KSxvPXIlMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNithKzErcitlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTYsc1s1XT0xMDE7bGV0IGk9MDtmb3IoO2k8YTspc1s2K2ldPTI1NSxpKys7cmV0dXJuIHNbNitpXT1vLGkrKyxzLnNldChuLDYraSkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZSksNitpK3IpLHMuYnVmZmVyfW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSYmKHNlbGYub25ydGN0cmFuc2Zvcm09bj0+e2NvbnN0IHI9bi50cmFuc2Zvcm1lcjtsZXQgYT1bXTtyLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9ZT0+e2UuZGF0YS5zZWkmJmEucHVzaChlLmRhdGEuc2VpKX0sc2VsZi5wb3N0TWVzc2FnZSgic3RhcnRlZCIpO2NvbnN0IG89ci5yZWFkYWJsZS5nZXRSZWFkZXIoKSxzPXIud3JpdGFibGUuZ2V0V3JpdGVyKCk7InJ4Ij09PXIub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBEYXRhVmlldyh0LmRhdGEpO2xldCByPTA7Zm9yKDtyKzQ8dC5kYXRhLmJ5dGVMZW5ndGg7KXtpZigwPT09bi5nZXRVaW50OChyKzApJiYwPT09bi5nZXRVaW50OChyKzEpJiYwPT09bi5nZXRVaW50OChyKzIpJiYxPT09bi5nZXRVaW50OChyKzMpJiY2PT09bi5nZXRVaW50OChyKzQpKXtsZXQgYT1yKzYsbz0wLHM9MDtmb3IoOzI1NT09PShzPW4uZ2V0VWludDgoYSsrKSk7KW8rPTI1NTtvKz1zO2NvbnN0IGk9ZSh0LmRhdGEsYSxvKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSl9cisrfXJldHVybiBudWxsfShyLnZhbHVlKTt0JiZuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7c2VpOnR9KX1zLndyaXRlKHIudmFsdWUpLG4ub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQobil9fSkpfShyKToidHgiPT09ci5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIGUobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgZT1hLnNoaWZ0KCk7ZSYmKHIudmFsdWUuZGF0YT10KHIudmFsdWUuZGF0YSxlKSl9cy53cml0ZShyLnZhbHVlKSxuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSxlKG4pfX0pKX0ocil9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKSk7Cg==")],{type:"text/javascript"});return setTimeout((()=>MD.revokeObjectURL(e)),0),new Worker(MD.createObjectURL(e))}const gL=new Map,vL=new Map;function yL(e,t,n){let r=new Uint8Array(e,t,n),o=[],i=0;for(;o.length<n;)i+3<n&&0===r[i]&&0===r[i+1]&&3===r[i+2]&&(0===r[i+3]||1===r[i+3]||2===r[i+3]||3===r[i+3])?(o.push(r[i],r[i+1],r[i+3]),i+=4):(o.push(r[i]),i++);return new Uint8Array(o)}const _L=new Map;async function EL(e,t){if(!UD().supportWebRTCEncodedTransform)return void oI.warning("browser not support video encoded transform");if(_L.has(e))return;if(!e.track)return;const n={track:e.track};if(Uw()){if(!e.createEncodedStreams)return void oI.warning("browser not support createEncodedStreams() API");let i=null;try{i=e.createEncodedStreams()}catch(o){return void oI.error("create video-encoded-streams error",o&&o.message)}let a=[];t.on("sei-to-send",(e=>{a.push(e)}));const s=new TransformStream({transform(t,o){n.controller||(n.controller=o),e.track&&e.track.id!==n.track.id&&(oI.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",r),n.track=e.track,n.track.addEventListener("ended",r));const i=a.shift();i&&(t.data=function(e,t){const n=function(e){const t=e.length;let n=[],r=0;for(;r<t;)r+2<t&&0===e[r]&&0===e[r+1]&&(0===e[r+2]||1===e[r+2]||2===e[r+2]||3===e[r+2])?(n.push(e[r],e[r+1],3,e[r+2]),r+=3):(n.push(e[r]),r++);return new Uint8Array(n)}(t),r=n.length,o=Math.floor(r/255),i=r%255,a=new Uint8Array(6+o+1+r+e.byteLength);a[0]=0,a[1]=0,a[2]=0,a[3]=1,a[4]=6,a[5]=101;let s=0;for(;s<o;)a[6+s]=255,s++;return a[6+s]=i,s++,a.set(n,6+s),a.set(new Uint8Array(e),6+s+r),a.buffer}(t.data,i)),o.enqueue(t)}});i.readable.pipeThrough(s).pipeTo(i.writable)}else{if(!jw())return;{if("undefined"==typeof RTCRtpScriptTransform)return void oI.warning("browser not support RTCRtpScriptTransform");const o=mL(),i=new MessageChannel;await new Uh((e=>o.onmessage=t=>{"registered"===t.data&&e(void 0)}));const a=new RTCRtpScriptTransform(o,{name:"tx",port:i.port2},[i.port2]);e.transform=a,await new Uh((e=>o.onmessage=t=>{"started"===t.data&&e(void 0)})),t.on("sei-to-send",(e=>{i.port1.postMessage({sei:e})})),i.port1.onmessage=t=>{var o;t.data.transformed&&e.track&&(null===(o=e.track)||void 0===o?void 0:o.id)!==n.track.id&&(oI.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",r),n.track=e.track,n.track.addEventListener("ended",r))},n.worker=o}}function r(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener("ended",r)}const t=_L.get(e);if(t){_L.delete(e);try{var n,i;null===(n=t.controller)||void 0===n||n.terminate(),null===(i=t.worker)||void 0===i||i.terminate()}catch(o){oI.warning(o&&o.message)}}}_L.set(e,n),e.track.addEventListener("ended",r)}const bL=new Map;!function(){const e=Dw();LD.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),LD.getStreamFromExtension=e.name===Aw.CHROME&&Number(e.version)>34,LD.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver("audio"),t=!0}catch(n){}return e.close(),t}(),LD.supportMinBitrate=e.name===Aw.CHROME||e.name===Aw.EDGE,LD.supportSetRtpSenderParameters=function(){const e=Dw();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!rC()||!(!jw()&&!Lw())||e.name===Aw.FIREFOX&&Number(e.version)>=64)}(),e.name===Aw.SAFARI&&(Number(e.version)>=14?LD.supportDualStream=!0:LD.supportDualStream=!1),LD.webAudioMediaStreamDest=function(){const e=Dw();return!(e.name===Aw.SAFARI&&Number(e.version)<12)}(),LD.supportReplaceTrack=!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack,LD.supportWebGL="undefined"!=typeof WebGLRenderingContext,LD.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,rC()||(LD.webAudioWithAEC=!0),LD.supportShareAudio=function(){const e=Dw();return(e.os===Iw.WIN_10||e.os===Iw.WIN_81||e.os===Iw.WIN_7||e.os===Iw.LINUX||e.os===Iw.MAC_OS||e.os===Iw.CHROMIUM_OS)&&e.name===Aw.CHROME&&Number(e.version)>=74}(),LD.supportDataChannel=!!(Fw(76)||function(e){const t=Dw();return!(t.name!==Aw.FIREFOX||!t.osVersion)&&Number(t.version)>=e}(68)||Ww(14)),LD.supportPCSetConfiguration=function(){const e=window.RTCPeerConnection;return!Bw()&&!!e&&e.prototype.setConfiguration instanceof Function}(),LD.supportWebRTCEncodedTransform=function(){const e=Dw();return"Chrome"===e.name&&Number(e.version)>=86||"Safari"===e.name&&Number(e.version)>=15}(),LD.supportWebRTCInsertableStream=function(){const e=Dw();return(e.name===Aw.CHROME||e.name===Aw.EDGE)&&Number(e.version)>=94&&"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window}(),LD.supportRequestVideoFrameCallback="requestVideoFrameCallback"in HTMLVideoElement.prototype,LD.supportWebCrypto="undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.subtle,KC((()=>{LD.supportDualStreamEncoding=function(){const e=Dw();return!!jR("DISABLE_WEBAUDIO")||"Safari"===e.name&&Number(e.version)>=14||!!("Chrome"===e.name&&/Windows/i.test(e.os||"")&&Number(e.version)>=100&&jR("CHROME_DUAL_STREAM_USE_ENCODING"))}(),oI.debug("browser ua: ",navigator.userAgent),oI.info("browser info: ",e),oI.info("browser compatibility: ",LD)}))}();class TL extends CC{constructor(e,t){super(),OE(this,"signal",void 0),OE(this,"token",void 0),OE(this,"tokenTimeout",void 0),OE(this,"tokenInterval",void 0),OE(this,"_sequence",0),OE(this,"userMap",new Map),OE(this,"encoder",new TextEncoder),this.signal=e,this.token=t;const n=()=>{this.signal.connectionState===mA.CONNECTED&&this.check(),0===this.userMap.size?this.tokenInterval=window.setTimeout(n,1e3):this.tokenInterval=window.setTimeout(n,3*jR("P2P_TOKEN_INTERVAL"))};n()}async send(e,t,n,r,o){var i,a,s;if(0===this.userMap.size)return;const c=Array.from(QO(i=this.userMap).call(i))[0].token;"string"!=typeof t&&(t=JSON.stringify(t)),r=null!==(a=r)&&void 0!==a?a:aR(6,""),o=null!==(s=o)&&void 0!==s?s:this._sequence++;const l={_id:r,_type:e,_seq:o,_message:t,token:"".concat(this.token,"_").concat(c)};jR("SHOW_P2P_LOG")&&oI.debug("send message",l,"noNeedResponse : ".concat(n)),this.splitMessage(JSON.stringify(l)).forEach((e=>{this.signal.request(vA.DATA_STREAM,{payload:QC(this.encoder.encode(e))})}));const u=new Uh(((t,o)=>{const i=window.setTimeout((()=>{this.off("res-@".concat(r,"_ack"),a),this.off("res-@".concat(r),c),this.off(uO.ABORT,s),oI.debug("[external-signal] request timeout, type: ".concat(e,", requestId: ").concat(r)),0===this.userMap.size?o(new uC(lC.INVALID_REMOTE_USER)):o(new uC(lC.TIMEOUT))}),jR("EXTERNAL_SIGNAL_REQUEST_TIMEOUT")),a=()=>{i&&window.clearTimeout(i),this.off(uO.ABORT,s),n&&t()},s=()=>{i&&window.clearTimeout(i),this.off("res-@".concat(r,"_ack"),a),this.off("res-@".concat(r),c),o(new uC(lC.EXTERNAL_SIGNAL_ABORT,"type: ".concat(e,", requestId: ").concat(r)))};this.once(uO.ABORT,s),this.once("res-@".concat(r,"_ack"),a);const c=(n,c)=>{u=!0,i&&window.clearTimeout(i),this.off("res-@".concat(r,"_ack"),a),this.off(uO.ABORT,s),"success"===n?t(c):o(new uC(lC.P2P_MESSAGE_FAILED,"request ".concat(e," failed, requestId: ").concat(r)))};let u=!1;n||(this.once("res-@".concat(r),c),iR(jR("SIGNAL_REQUEST_TIMEOUT")).then((()=>{u||oI.warning("external_signal request timeout, type: ".concat(e,", requestId: ").concat(r,", ").concat(l))})))}));try{return await u}catch(d){if(d.code===lC.TIMEOUT)return await this.send(e,t,n,r,o);throw d}}onMessage(e){var t;const{_uid:n}=e;let r,o=this.userMap.get(n);if(o)r=o.splitMessageMap;else{if(this.userMap.size>0||!("_type"in e)||e._type!==lO.CHECK)return;const{token:t}=e;r=new Map,o={uid:n,isStart:!0,token:t,splitMessageMap:r,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(n,o),this.signal.emit(_A.ON_USER_ONLINE,{uid:n}),this.handleUserOnline()}if("id"in e&&"total"in e){var i;const{id:t,total:o}=e,a=null!==(i=r.get(t))&&void 0!==i?i:[];if(a.push(e),r.has(t)||r.set(t,a),a.length!==o)return;{const o=Qf(a).call(a,((e,t)=>e.index-t.index)).map((e=>e.payload)).join("");r.delete(t),(e=JSON.parse(o))._uid=n}}const{_type:a,token:s}=e;if(Or(t=[lO.ACK,lO.CHECK]).call(t,a))return a===lO.CHECK&&this.handleCheckToken(o,s),void this.receiveMessage(e);s==="".concat(o.token,"_").concat(this.token)?this.handleReceivedMessage(e):oI.debug('Receive unexpected message", '.concat(s,", cur_token: ").concat(o.token,"_").concat(this.token),e)}check(){const e={_id:aR(6,""),token:this.token,_type:lO.CHECK};jR("SHOW_P2P_LOG")&&oI.debug("send message",e),this.signal.request(vA.DATA_STREAM,{payload:QC(this.encoder.encode(JSON.stringify(e)))})}ack(e){const t={_id:e,_type:lO.ACK,token:this.token};jR("SHOW_P2P_LOG")&&oI.debug("send message",t),this.signal.request(vA.DATA_STREAM,{payload:QC(this.encoder.encode(JSON.stringify(t)))})}response(e,t,n){this.send(lO.RESPONSE,JSON.stringify({success:!n,message:t}),!0,e)}handleReceivedMessage(e){const t=()=>{this.userMap.forEach((e=>{const{receivedMessagesMap:t,nextExpectedSequenceNumber:n}=e;for(;t.has(n);){const r=t.get(n);t.delete(n),this.receiveMessage(r),e.nextExpectedSequenceNumber++}}))};if(!e)return void t();const{_uid:n,_seq:r}=e,o=this.userMap.get(n),{receivedMessagesMap:i,isStart:a,nextExpectedSequenceNumber:s}=o;if(r<s)return this.ack(e._id),void oI.debug("[external-signal] receive old message, seq: ".concat(r,", ").concat(e._message));i.set(r,e),a&&r===s&&(this.receiveMessage(e),i.delete(s),o.nextExpectedSequenceNumber++,t())}receiveMessage(e){const{_id:t,_type:n,_message:r,_uid:o}=e;if(jR("SHOW_P2P_LOG")&&oI.debug("receive message",e),t){let i;switch(e._type!==lO.ACK&&(r&&(i=JSON.parse(r)),this.ack(e._id)),e._type){case lO.CANDIDATE:case lO.CONTROL:this.signal.emit(n,i,o);break;case lO.PUBLISH:case lO.UNPUBLISH:case lO.RESTART_ICE:case lO.CALL:i.uid=o,BC(this.signal,n,i).then((t=>{this.response(e._id,t)})).catch((()=>{this.response(e._id,void 0,!0)}));break;case lO.ACK:this.getListeners("res-@".concat(t,"_ack")).length>0&&this.emit("res-@".concat(t,"_ack"));break;case lO.RESPONSE:{const{success:e,message:n}=i;this.emit("res-@".concat(t),e?"success":"failed",n);break}}}}splitMessage(e){if(e.length<TL.MAX_MESSAGE_SIZE)return[e];const t=[],{remoteToken:n}=JSON.parse(e),r=aR(6,"");let o=0,i=800;const a=Math.ceil(e.length/i);for(;e.length>0;){o++;const s={id:r,index:o,total:a,payload:e.slice(0,i),token:"".concat(this.token,"_").concat(n)};JSON.stringify(s).length>TL.MAX_MESSAGE_SIZE?i-=50:(t.push(s),e=e.slice(i))}return t.map((e=>JSON.stringify(e)))}handleCheckToken(e,t){return e.token!==t?(oI.debug("token changed, from ".concat(e.token," to ").concat(t)),this.reset(e.uid,t),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout((()=>{oI.debug("token timeout, ".concat(t)),this.reset(e.uid)}),jR("MAX_P2P_TIMEOUT")),!0)}async handleUserOnline(){const e=await BC(this.signal,lO.CALL,void 0),t=await this.send(lO.CALL,e);this.signal.emit(gA.P2P_CONNECTION,t,!0)}async reset(e,t){const n=this.userMap.get(e);n&&(this.emit(uO.ABORT),this.signal.emit(_A.ON_USER_OFFLINE,{uid:n.uid,reason:hO.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),t||(oI.debug("change local token from ".concat(t," to ").concat(t)),this.token=aR(6,"")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(uO.ABORT)}}OE(TL,"MAX_SIZE",1),OE(TL,"MAX_MESSAGE_SIZE",1024);class SL extends CC{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===mA.CONNECTED?this.emit(gA.WS_CONNECTED):e===mA.RECONNECTING?this.emit(gA.WS_RECONNECTING,this._websocketReconnectReason):e===mA.CLOSED&&this.emit(gA.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),OE(this,"_disconnectedReason",void 0),OE(this,"_websocketReconnectReason",void 0),OE(this,"_connectionState",mA.CLOSED),OE(this,"reconnectToken",void 0),OE(this,"p2pToken",void 0),OE(this,"websocket",void 0),OE(this,"openConnectionTime",void 0),OE(this,"clientId",void 0),OE(this,"lastMsgTime",Date.now()),OE(this,"uploadCache",[]),OE(this,"uploadCacheInterval",void 0),OE(this,"rttRolling",new SR(5)),OE(this,"pingpongTimer",void 0),OE(this,"pingpongTimeoutCount",0),OE(this,"joinResponse",void 0),OE(this,"multiIpOption",void 0),OE(this,"initError",void 0),OE(this,"spec",void 0),OE(this,"store",void 0),OE(this,"_external_signal",void 0),OE(this,"onWebsocketMessage",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(gA.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")){switch(t._type){case _A.ON_DATA_STREAM:return void this.handleDataStream(t._message);case _A.MUTE_AUDIO:case _A.MUTE_VIDEO:case _A.ON_P2P_LOST:case _A.ON_USER_ONLINE:return;case _A.ON_USER_OFFLINE:const{uid:e}=t._message;return oI.debug("[".concat(this.clientId,"] user-offline uid: ").concat(e)),void this._external_signal.reset(e)}if(this.emit(t._type,t._message),t._type===_A.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===_A.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(DC.UID_BANNED);break;case 15:this.close(DC.IP_BANNED);break;case 16:this.close(DC.CHANNEL_BANNED)}if(t._type===_A.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case fA.ERR_LICENSE_MISSING:this.close(DC.LICENSE_MISSING);break;case fA.ERR_LICENSE_EXPIRED:this.close(DC.LICENSE_EXPIRED);break;case fA.ERR_LICENSE_MINUTES_EXCEEDED:this.close(DC.LICENSE_MINUTES_EXCEEDED);break;case fA.ERR_LICENSE_PERIOD_INVALID:this.close(DC.LICENSE_PERIOD_INVALID);break;case fA.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(DC.LICENSE_MULTIPLE_SDK_SERVICE);break;case fA.ERR_LICENSE_ILLEGAL:this.close(DC.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new OO("gateway-".concat(this.clientId),this.spec.retryConfig,!0,jR("JOIN_GATEWAY_USE_DUAL_DOMAIN"),jR("JOIN_GATEWAY_USE_443PORT_ONLY"),t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===mA.CONNECTED&&this.reconnect("retry",UC.OFFLINE)})),this.p2pToken=aR(6,""),this._external_signal=new TL(this,this.p2pToken)}async request(e,t,n,r){const o=aR(6,""),i={_id:o,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new Uh(((e,t)=>{if(this.connectionState===mA.CONNECTED)return e();const n=()=>{this.off(gA.WS_CLOSED,r),e()},r=()=>{this.off(gA.WS_CONNECTED,n),t(new uC(lC.WS_ABORT))};this.once(gA.WS_CONNECTED,n),this.once(gA.WS_CLOSED,r)}));if(this.connectionState!==mA.CONNECTING&&this.connectionState!==mA.RECONNECTING||e===vA.JOIN||e===vA.REJOIN||await s(),this.websocket.sendMessage(i,!0),r)return;const c=new Uh(((n,r)=>{let i=!1;const s=(r,o)=>{i=!0,n({isSuccess:"success"===r,message:o||{}}),this.off(gA.WS_CLOSED,c),this.off(gA.WS_RECONNECTING,c),this.emit(gA.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(o),s);const c=()=>{r(new uC(lC.WS_ABORT,"type: ".concat(e))),this.off(gA.WS_CLOSED,c),this.off(gA.WS_RECONNECTING,c),this.off("res-@".concat(o),s)};this.once(gA.WS_CLOSED,c),this.once(gA.WS_RECONNECTING,c),iR(jR("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||i||(oI.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(e)),this.emit(gA.REQUEST_TIMEOUT,e,t))}))}));let l=null;try{l=await c}catch(p){if(this.connectionState===mA.CLOSED||e===vA.LEAVE)throw new uC(lC.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?p.throw():e===vA.JOIN||e===vA.REJOIN?null:(await s(),await this.request(e,t))}if(l.isSuccess)return l.message;const u=Number(l.message.error_code||l.message.code),d=gO(u),h=new uC(lC.UNEXPECTED_RESPONSE,"".concat(d.desc,": ").concat(l.message.error_str),{code:u,data:l.message,desc:d.desc});return"success"===d.action?l.message:(oI.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(u,", message: ").concat(d.desc,", action: ").concat(d.action)),u===fA.ERR_TOO_MANY_BROADCASTERS?e===vA.JOIN||e===vA.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===d.action?h.throw():"quit"===d.action?(this.initError=h,this.close(),h.throw()):(u===fA.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,oI.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",UC.MULTI_IP)):this.reconnect(d.action,UC.SERVER_ERROR),e===vA.JOIN||e===vA.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new Uh((n=>{const r=o=>{(!t||t(o))&&(this.off(e,r),n(o))};this.on(e,r)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void oI.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(yA.WRTC_STATS,t)}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(r){const e=jR("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>e&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==mA.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),jR("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}async sendExtensionMessage(e,t,n){return await this._external_signal.send(e,t,n)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Uh(((t,n)=>{this.once(gA.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(gA.WS_CLOSED,(()=>n(this.initError||new uC(lC.WS_ABORT)))),this.connectionState=mA.CONNECTING,this.websocket.init(e).catch(n)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=e||DC.LEAVE,this.connectionState=mA.CLOSED,oI.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),this.p2pToken=aR(6,""),this._external_signal.clear(),this._external_signal=new TL(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(gA.ABORT_P2P_EXECUTION);const e=await BC(this,gA.REQUEST_JOIN_INFO),t=await this.request(vA.JOIN,e);if(!t)return this.emit(gA.REPORT_JOIN_GATEWAY,lC.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(gA.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=mA.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleDataStream(e){try{var t;const n=ZC(e.payload),r=(new TextDecoder).decode(n),o=JSON.parse(r);"total"in o&&"id"in o||Or(t=Object.values(lO)).call(t,o._type)?(o._uid=e.uid,this._external_signal.onMessage(o)):this.emit(_A.ON_DATA_STREAM,e)}catch(n){this.emit(_A.ON_DATA_STREAM,e)}}handleNotification(e){oI.debug("[".concat(this.clientId,"] receive notification: "),e);const t=gO(e.code);if("success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(DC.UID_BANNED),void this.close()):void this.reconnect(t.action,UC.SERVER_ERROR);oI.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=jR("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(oI.warning("[".concat(this.clientId,"] PINGPONG Timeout. Last Socket Message: ").concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>jR("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",UC.TIMEOUT):this.request(vA.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),jR("REPORT_STATS")&&this.send(vA.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWebsocketEvents(){this.websocket.on(bA.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(gA.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(bA.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(bA.CLOSED,(()=>{this.connectionState=mA.CLOSED})),this.websocket.on(bA.FAILED,(()=>{this._disconnectedReason=DC.NETWORK_ERROR,this.connectionState=mA.CLOSED})),this.websocket.on(bA.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===mA.CONNECTED?this.connectionState=mA.RECONNECTING:this.connectionState=mA.CONNECTING})),this.websocket.on(bA.WILL_RECONNECT,((e,t,n)=>{"retry"!==e?(oI.debug("".concat(this.clientId," websocket will_connect event, renewSession reconnectMode is ").concat(e)),this.reconnectToken=void 0):oI.debug("".concat(this.clientId," reconnect mode is retry, no need to renew session")),n(e)})),this.websocket.on(bA.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.join().catch((e=>{if(this.emit(gA.REPORT_JOIN_GATEWAY,e,this.url||""),e instanceof uC&&e.code===lC.UNEXPECTED_RESPONSE&&e.data.code===fA.ERR_NO_AUTHORIZED)return oI.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",UC.SERVER_ERROR);oI.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",UC.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(bA.REQUEST_NEW_URLS,((e,t)=>{BC(this,gA.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(bA.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(_A.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}var wL={exports:{}};!function(e){e.exports=(()=>{var e={8:(e,t,n)=>{n.r(t),n.d(t,{Parser:()=>S,Printer:()=>A,parse:()=>D,print:()=>x});const r="\n",o="".concat("\r").concat(r),i=" ";let a;function s(e){return e>="0"&&e<="9"}function c(e){return e>="!"&&e<="~"}function l(e){return c(e)||e>=""&&e<=""}function u(e){return"!"===e||e>="#"&&e<="'"||e>="*"&&e<="+"||e>="-"&&e<="."||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="^"&&e<="~"}function d(e){return e>="1"&&e<="9"}function h(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"}function p(e){return"d"===e||"h"===e||"m"===e||"s"===e}function f(e){return e>""&&e<"\t"||e>"\v"&&e<"\f"||e>""&&e<""}function m(e){return h(e)||s(e)||"+"===e||"/"===e}function g(e){return s(e)||h(e)||"+"===e||"/"===e||"-"===e||"_"===e}function v(e){return h(e)||s(e)||"+"===e||"/"===e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b;(b=a||(a={})).VERSION="v",b.ORIGIN="o",b.SESSION_NAME="s",b.INFORMATION="i",b.URI="u",b.EMAIL="e",b.PHONE="p",b.CONNECTION="c",b.BANDWIDTH="b",b.TIME="t",b.REPEAT="r",b.ZONE_ADJUSTMENTS="z",b.KEY="k",b.ATTRIBUTE="a",b.MEDIA="m";class T{consumeText(e,t){let n=t;for(;n<e.length;){const t=e[n];if("\0"===t||"\r"===t||t===r)break;n+=1}if(n-t==0)throw new Error("Invalid text, at ".concat(e));return n}consumeUnicastAddress(e,t,n){return this.consumeTill(e,t,i)}consumeOneOrMore(e,t,n){let r=t;for(;n(e[r]);)r++;if(r-t==0)throw new Error("Invalid rule at ".concat(t,"."));return r}consumeSpace(e,t){if(e[t]===i)return t+1;throw new Error("Invalid space at ".concat(t,"."))}consumeIP4Address(e,t){let n=t;for(let r=0;r<4;r++)if(n=this.consumeDecimalUChar(e,n),3!==r){if("."!==e[n])throw new Error("Invalid IP4 address.");n++}return n}consumeDecimalUChar(e,t){let n=t;for(let o=0;o<3&&s(e[n]);o++,n++);if(n-t==0)throw new Error("Invalid decimal uchar.");const r=parseInt(e.slice(t,n));if(r>=0&&r<=255)return n;throw new Error("Invalid decimal uchar")}consumeIP6Address(e,t){let n=this.consumeHexpart(e,t);return":"===e[n]?(n+=1,n=this.consumeIP4Address(e,n),n):n}consumeHexpart(e,t){let n=t;if(":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(r){}return n}if(n=this.consumeHexseq(e,n),":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(r){}return n}return n}consumeHexseq(e,t){let n=t;for(;n=this.consumeHex4(e,n),":"===e[n]&&":"!==e[n+1];)n+=1;return n}consumeHex4(e,t){let n=0;for(;n<4;n++)if(!((r=e[t+n])>="0"&&r<="9"||r>="a"&&r<="f"||r>="A"&&r<="F")){if(0===n)throw new Error("Invalid hex 4");break}var r;return t+n}consumeFQDN(e,t){let n=t;for(;s(e[n])||h(e[n])||"-"===e[n]||"."===e[n];)n+=1;if(n-t<4)throw new Error("Invalid FQDN");return n}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,l)}consumeMulticastAddress(e,t,n){switch(n){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(e,t);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(r){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const n=this.consumeHexpart(e,t);return"/"===e[n]?this.consumeInteger(e,n+1):n}consumeIP4MulticastAddress(e,t){let n=t+3;const r=e.slice(t,n),o=parseInt(r);if(o<224||o>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let i=0;i<3;i++){if("."!==e[n])throw new Error("Invalid IP4 multicast address.");n+=1,n=this.consumeDecimalUChar(e,n)}return"/"===e[n]&&(n+=1),n=this.consumeTTL(e,n),"/"===e[n]&&(n=this.consumeInteger(e,n)),n}consumeInteger(e,t){if(!d(e[t]))throw new Error("Invalid integer.");for(t+=1;s(e[t]);)t+=1;return t}consumeTTL(e,t){if("0"===e[t])return t+1;if(!d(e[t]))throw new Error("Invalid TTL.");t+=1;for(let n=0;n<2&&s(e[t]);n++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,u)}consumeTime(e,t){let n=t;if("0"===e[n])return n+1;for(d(e[n])&&(n+=1);s(e[n]);)n++;if(n-t<10)throw new Error("Invalid time");return n}consumeAddress(e,t){return this.consumeTill(e,t,i)}consumeTypedTime(e,t){let n=t;return n=this.consumeOneOrMore(e,n,s),p(e[n])?n+1:n}consumeRepeatInterval(e,t){if(!d(e[t]))throw new Error("Invalid repeat interval");for(t+=1;s(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,s)}consume(e,t,n){for(let r=0;r<n.length;r++){if(t+r>=e.length)throw new Error("consume exceeding value length");if(e[t+r]!==n[r])throw new Error("consume ".concat(n," failed at ").concat(r))}return t+n.length}consumeTill(e,t,n){let r=t;for(;r<e.length&&("string"!=typeof n||e[r]!==n)&&("function"!=typeof n||!n(e[r]));)r++;return r}}class S extends T{constructor(){super(),E(this,"records",[]),E(this,"currentLine",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!Lp(e).call(e))).map(this.parseLine),this.currentLine=0;const n=this.parseVersion(),r=this.parseOrigin(),o=this.parseSessionName(),i=this.parseInformation(),a=this.parseUri(),s=this.parseEmail(),c=this.parsePhone(),l=this.parseConnection(),u=this.parseBandWidth(),d=this.parseTimeFields(),h=this.parseKey(),p=this.parseSessionAttribute(),f=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:n,origin:r,sessionName:o,information:i,uri:a,emails:s,phones:c,connection:l,bandwidths:u,timeFields:d,key:h,attributes:p,mediaDescriptions:f}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error("Record doesn't exit.");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===r)return"\r"===e[t-1]?o:r;throw new Error("Invalid newline character.")}parseLine(e,t){if(e.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const n=e[0];if("="!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:n,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new C;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(t,(e=>u(e)&&":"!==e)),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,n.attValue=this.extractOneOrMore(t,f)),e.parse(n),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new R(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(e,(e=>u(e)&&":"!==e)),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,n.attValue=this.extractOneOrMore(e,f)),t.parse(n),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===a.KEY){if("prompt"===e.value||"clear:"===e.value||"base64:"===e.value||"uri:"===e.value)return e.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const e=this.getCurrentRecord();if(e.type===a.ZONE_ADJUSTMENTS){const n=[];for(;;)try{const t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let r=!1;"-"===e.value[e.cur]&&(r=!0,e.cur+=1);const o=this.extract(e,this.consumeTypedTime);n.push({time:t,typedTime:o,back:r})}catch(t){break}if(0===n.length)throw new Error("Invalid zone adjustments");return this.currentLine++,n}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.REPEAT)break;{const n=this.extract(t,this.consumeRepeatInterval),r=this.parseTypedTime(t);e.push({repeatInterval:n,typedTimes:r}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(n){break}if(0===t.length)throw new Error("Invalid typed time.");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:n}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.BANDWIDTH)break;{const n=this.extractOneOrMore(t,u);if(":"!==t.value[t.cur])throw new Error("Invalid bandwidth field.");t.cur++;const r=this.extractOneOrMore(t,s);e.push({bwtype:n,bandwidth:r}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==a.VERSION)throw new Error("first sdp record must be version");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,s));if(t.length!==e.value.length)throw new Error('invalid proto version, "v='.concat(e.value,'"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==a.ORIGIN)throw new Error("second line of sdp must be origin");const t=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const o=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:n,sessVersion:r,nettype:o,addrtype:i,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===a.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==a.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===a.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===a.CONNECTION){const t=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const r=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:n,address:r}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let n=this.extract(e,this.consumePort);"/"===e.value[e.cur]&&(e.cur+=1,n+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const r=[];for(r.push(this.extract(e,this.consumeToken));"/"===e.value[e.cur];)e.cur+=1,r.push(this.extract(e,this.consumeToken));if(0===r.length)throw new Error("Invalid proto");const o=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:n,protos:r,fmts:o}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===a.TIME;){const t=this.parseTime(),n=this.parseRepeat(),r=this.parseZone();e.push({time:t,repeats:n,zones:r})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.MEDIA;){const t=this.parseMedia(),n=this.parseInformation(),r=this.parseConnections(),o=this.parseBandWidth(),i=this.parseKey(),a=this.parseMediaAttributes(t);e.push({media:t,information:n,connections:r,bandwidths:o,key:i,attributes:a})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(n){break}if(0===t.length)throw new Error("Invalid fmts");return t}extract(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];const i=t.call(this,e.value,e.cur,...r),a=e.value.slice(e.cur,i);return e.cur=i,a}extractOneOrMore(e,t){const n=this.consumeOneOrMore(e.value,e.cur,t),r=e.value.slice(e.cur,n);return e.cur=n,r}consumeSpaceForRecord(e){if(e.value[e.cur]!==i)throw new Error("Invalid space at ".concat(e.cur,"."));e.cur+=1}}class w extends T{constructor(){super(...arguments),E(this,"attributes",void 0),E(this,"digested",!1)}extractOneOrMore(e,t,n){const r=this.consumeOneOrMore(e.attValue,e._cur,t),o=e.attValue.slice(e._cur,r),[i,a]=n||[];if("number"==typeof i&&o.length<i)throw new Error("error in length, should be more or equal than ".concat(i," characters."));if("number"==typeof a&&o.length>a)throw new Error("error in length, should be less or equal than ".concat(a," characters."));return e._cur=r,o}consumeAttributeSpace(e){if(e.attValue[e._cur]!==i)throw new Error("Invalid space at ".concat(e._cur,"."));e._cur+=1}extract(e,t){if(!e.attValue)throw new Error("Nothing to extract from attValue.");for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];const i=t.call(this,e.attValue,e._cur,...r),a=e.attValue.slice(e._cur,i);return e._cur=i,a}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let n=0;n<t.length;n++)if(t[n]!==e.attValue[e._cur+n])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(e,m,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(e,m,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,m));try{this.consumeAttributeSpace(e)}catch(n){if(this.atEnd(e))break;throw n}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:n})}parseExtmap(e){const t=this.extractOneOrMore(e,s);let n;"/"===this.peekChar(e)&&(this.extract(e,this.consume,"/"),n=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeTill,i),o=_(_({entry:parseInt(t,10)},n&&{direction:n}),{},{extensionName:r});this.peekChar(e)===i&&(this.consumeAttributeSpace(e),o.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(o)}parseSetup(e){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const t=this.extract(e,this.consumeTill);if("active"!==t&&"passive"!==t&&"actpass"!==t&&"holdconn"!==t)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=t}}class C extends w{constructor(){super(...arguments),E(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"group":this.parseGroup(e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"fingerprint":this.parseFingerprint(e);break;case"setup":this.parseSetup(e);break;case"tls-id":this.parseTlsId(e);break;case"identity":this.parseIdentity(e);break;case"extmap":this.parseExtmap(e);break;case"msid-semantic":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===i;)this.consumeAttributeSpace(e),n.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:n})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(e,g)}parseIdentity(e){const t=this.extractOneOrMore(e,v),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===i;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,"=");const r=this.extractOneOrMore(e,(e=>e!==i&&f(e)));n.push({name:t,value:r})}this.attributes.identities.push({assertionValue:t,extensions:n})}parseMsidSemantic(e){this.peekChar(e)===i&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(n){break}if("*"===this.peekChar(e)){this.extract(e,this.consume,"*"),t.applyForAll=!0;break}{const n=this.extract(e,this.consumeTill,i);t.identifierList.push(n)}}this.attributes.msidSemantic=t}}class R extends w{constructor(e){super(),E(this,"attributes",void 0),-1!==e.protos.indexOf("RTP")||e.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"extmap":this.parseExtmap(e);break;case"setup":this.parseSetup(e);break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"candidate":this.parseCandidate(e);break;case"remote-candidate":this.parseRemoteCandidate(e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(e);break;case"rtpmap":this.parseRtpmap(e);break;case"ptime":this.parsePtime(e);break;case"maxptime":this.parseMaxPtime(e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(e);break;case"ssrc":this.parseSSRC(e);break;case"fmtp":this.parseFmtp(e);break;case"rtcp-fb":this.parseRtcpFb(e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(e);break;case"mid":this.parseMid(e);break;case"msid":this.parseMsid(e);break;case"imageattr":this.parseImageAttr(e);break;case"rid":this.parseRid(e);break;case"simulcast":this.parseSimulcast(e);break;case"sctp-port":this.parseSctpPort(e);break;case"max-message-size":this.parseMaxMessageSize(e);break;case"ssrc-group":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}parseCandidate(e){const t=this.extractOneOrMore(e,m,[1,32]);this.consumeAttributeSpace(e);const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const o=this.extractOneOrMore(e,s,[1,10]);this.consumeAttributeSpace(e);const a=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const l=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,"typ"),this.consumeAttributeSpace(e);const u={foundation:t,componentId:n,transport:r,priority:o,connectionAddress:a,port:l,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e," raddr")&&(this.extract(e,this.consume," raddr"),this.consumeAttributeSpace(e),u.relAddr=this.extract(e,this.consumeAddress)),this.peek(e," rport")&&(this.extract(e,this.consume," rport"),this.consumeAttributeSpace(e),u.relPort=this.extract(e,this.consumePort));this.peekChar(e)===i;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),u.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(u)}parseRemoteCandidate(e){const t=[];for(;;){const r=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const o=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumePort);t.push({componentId:r,connectionAddress:o,port:i});try{this.consumeAttributeSpace(e)}catch(n){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,"/");this.extract(e,this.consume,"/");const r={encodingName:n,clockRate:this.extractOneOrMore(e,s)};this.atEnd(e)||"/"!==this.peekChar(e)||(this.extract(e,this.consume,"/"),r.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const o=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));o?o.rtpMap=r:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:r,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,s);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,":");let r;":"===this.peekChar(e)&&(this.extract(e,this.consume,":"),r=this.extract(e,this.consumeTill));const o=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));o?o.attributes[n]=r:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[n]:r}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,i);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill),r={};n.split(";").forEach((e=>{let[t,n]=e.split("=");t=Lp(t).call(t);const o="string"==typeof n?Lp(n).call(n):null;"string"==typeof t&&t.length>0&&(r[t]=o)}));const o=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));o?o.fmtp={parameters:r}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:r}})}parseFmtParameters(e){const t={},n=this.extract(e,this.consumeTill,"=");e._cur++;const r=this.extract(e,this.consumeTill,";");for(t[n]=r;";"===e.attValue[e._cur];){const n=this.extract(e,this.consumeTill,"=");e._cur++;const r=this.extract(e,this.consumeTill,";");t[n]=r}return t}parseRtcpFb(e){let t="";t="*"===this.peekChar(e)?this.extract(e,this.consume,"*"):this.extract(e,this.consumeTill,i),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,i);let r;if("trr-int"===n)r={type:n,interval:this.extract(e,this.consumeTill)};else{const t={type:n};this.peekChar(e)===i&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===i&&(t.additional=this.extract(e,this.consumeTill))),r=t}if("*"===t)this.attributes.rtcpFeedbackWildcards.push(r);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(r):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[r]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===i&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,u),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,u),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,u,[1,64])};this.peekChar(e)===i&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,u,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>h(e)||s(e)||"_"===e||"-"===e));this.consumeAttributeSpace(e);const n={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===i){if(this.consumeAttributeSpace(e),this.peek(e,"pt=")){this.extract(e,this.consume,"pt=");const t=[];for(;;){const n=this.extract(e,this.consumeToken);t.push(n);try{this.extract(e,this.consume,",")}catch(r){break}}n.payloads=t,this.peekChar(e)===i&&this.extract(e,this.consume,i)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case"depend":{const r={type:t,rids:this.extract(e,this.consume,"=").split(",")};n.params.push(r);break}default:{const r={type:t};"="===this.peekChar(e)&&(this.extract(e,this.consume,"="),r.val=this.extract(e,this.consumeTill,";")),n.params.push(r)}}try{this.extract(e,this.consume,";")}catch(r){break}}}this.attributes.rids.push(n)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,s,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,s,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);n.push(parseInt(t,10))}catch(r){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:n})}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A{constructor(){I(this,"eol",o)}print(e,t){let n="";return t&&(this.eol=t),n+=this.printVersion(e.version),n+=this.printOrigin(e.origin),n+=this.printSessionName(e.sessionName),n+=this.printInformation(e.information),n+=this.printUri(e.uri),n+=this.printEmail(e.emails),n+=this.printPhone(e.phones),n+=this.printConnection(e.connection),n+=this.printBandwidth(e.bandwidths),n+=this.printTimeFields(e.timeFields),n+=this.printKey(e.key),n+=this.printSessionAttributes(e.attributes),n+=this.printMediaDescription(e.mediaDescriptions),n}printVersion(e){return"v=".concat(e).concat(this.eol)}printOrigin(e){return"o=".concat(e.username," ").concat(e.sessId," ").concat(e.sessVersion," ").concat(e.nettype," ").concat(e.addrtype," ").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?"s=".concat(e).concat(this.eol):""}printInformation(e){return e?"i=".concat(e).concat(this.eol):""}printUri(e){return e?"u=".concat(e).concat(this.eol):""}printEmail(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printPhone(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printConnection(e){return e?"c=".concat(e.nettype," ").concat(e.addrtype," ").concat(e.address).concat(this.eol):""}printBandwidth(e){let t="";for(const n of e)t+="b=".concat(n.bwtype,":").concat(n.bandwidth).concat(this.eol);return t}printTimeFields(e){let t="";for(const n of e){t+="t=".concat(n.time.startTime," ").concat(n.time.startTime).concat(this.eol);for(const e of n.repeats)t+="r=".concat(e.repeatInterval," ").concat(e.typedTimes.join(" ")).concat(this.eol);n.zoneAdjustments&&(t+="z=",t+="z=".concat(n.zoneAdjustments.map((e=>"".concat(e.time," ").concat(e.back?"-":""," ").concat(e.typedTime))).join(" ")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?"k=".concat(e).concat(this.eol):""}printAttributes(e){let t="";for(const n of e)t+="a=".concat(n.attField).concat(n.attValue?":".concat(n.attValue):"").concat(this.eol);return t}printMediaDescription(e){let t="";for(const n of e)t+=this.printMedia(n.media),t+=this.printInformation(n.information),t+=this.printConnections(n.connections),t+=this.printBandwidth(n.bandwidths),t+=this.printKey(n.key),t+=this.printMediaAttributes(n);return t}printConnections(e){let t="";for(const n of e)t+=this.printConnection(n);return t}printMedia(e){return"m=".concat(e.mediaType," ").concat(e.port," ").concat(e.protos.join("/")," ").concat(e.fmts.join(" ")).concat(this.eol)}printSessionAttributes(e){return new N(this.eol).print(e)}printMediaAttributes(e){return new k(this.eol).print(e)}}class O{constructor(e){I(this,"eol",void 0),this.eol=e}printIceUfrag(e){return void 0===e?"":"a=ice-ufrag:".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?"":"a=ice-pwd:".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?"":"a=ice-options:".concat(e.join(i)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>"a=fingerprint:".concat(e.hashFunction).concat(i).concat(e.fingerprint))).join(this.eol)+this.eol:""}printExtmap(e){return e.map((e=>"a=extmap:".concat(e.entry).concat(e.direction?"/".concat(e.direction):"").concat(i).concat(e.extensionName).concat(e.extensionAttributes?"".concat(i).concat(e.extensionAttributes):"").concat(this.eol))).join("")}printSetup(e){return void 0===e?"":"a=setup:".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>"a=".concat(e.attField).concat(e.attValue?":".concat(e.attValue):"").concat(this.eol))).join("")}}class N extends O{print(e){let t="";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t="";return e.length>0&&(t+=e.map((e=>"a=group:".concat(e.semantic).concat(e.identificationTag.map((e=>"".concat(i).concat(e))).join("")).concat(this.eol))).join("")),t}printIceLite(e){return void 0===e?"":"a=ice-lite"+this.eol}printTlsId(e){return e?"a=tls-id:".concat(e).concat(this.eol):""}printIdentity(e){return 0===e.length?"":e.map((e=>"a=identity:".concat(e.assertionValue).concat(e.extensions.map((e=>"".concat(i).concat(e.name).concat(e.value?"=".concat(e.value):"")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return"";let t="a=msid-semantic:".concat(e.semantic);return e.applyForAll?t+="".concat(i,"*"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>"".concat(i).concat(e)))),t+this.eol}}class k extends O{print(e){const t=e.attributes;let n="";return n+=this.printRTCP(t.rtcp),n+=this.printIceUfrag(t.iceUfrag),n+=this.printIcePwd(t.icePwd),n+=this.printIceOptions(t.iceOptions),n+=this.printCandidates(t.candidates),n+=this.printRemoteCandidatesList(t.remoteCandidatesList),n+=this.printEndOfCandidates(t.endOfCandidates),n+=this.printFingerprints(t.fingerprints),n+=this.printSetup(t.setup),n+=this.printMid(t.mid),n+=this.printExtmap(t.extmaps),n+=this.printRTPRelated(t),n+=this.printPtime(t.ptime),n+=this.printMaxPtime(t.maxPtime),n+=this.printDirection(t.direction),n+=this.printSSRCGroups(t.ssrcGroups),n+=this.printSSRC(t.ssrcs),n+=this.printRTCPMux(t.rtcpMux),n+=this.printRTCPMuxOnly(t.rtcpMuxOnly),n+=this.printRTCPRsize(t.rtcpRsize),n+=this.printMSId(t.msids),n+=this.printImageattr(t.imageattr),n+=this.printRid(t.rids),n+=this.printSimulcast(t.simulcast),n+=this.printSCTPPort(t.sctpPort),n+=this.printMaxMessageSize(t.maxMessageSize),n+=this.printUnrecognized(t.unrecognized),n}printCandidates(e){return e.map((e=>"a=candidate:".concat(e.foundation).concat(i).concat(e.componentId).concat(i).concat(e.transport).concat(i).concat(e.priority).concat(i).concat(e.connectionAddress).concat(i).concat(e.port).concat(i,"typ").concat(i).concat(e.type).concat(e.relAddr?"".concat(i,"raddr").concat(i).concat(e.relAddr):"").concat(e.relPort?"".concat(i,"rport").concat(i).concat(e.relPort):"").concat(Object.keys(e.extension).map((t=>"".concat(i).concat(t).concat(i).concat(e.extension[t]))).join("")).concat(this.eol))).join("")}printRemoteCandidatesList(e){return e.map((e=>"a=remote-candidates:".concat(e.join(i)).concat(this.eol))).join("")}printEndOfCandidates(e){return void 0===e?"":"a=end-of-candidates"+this.eol}printRTPRelated(e){if(!e.payloads)return"";const t=e.payloads;let n="";n+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback("*",e))).join("");for(const r of t)n+=this.printRtpMap(r.payloadType,r.rtpMap),n+=this.printFmtp(r.payloadType,r.fmtp),n+=r.rtcpFeedbacks.map((e=>this.printRTCPFeedback(r.payloadType,e))).join("");return n}printFmtp(e,t){if(!t)return"";const n=Object.keys(t.parameters);return 1===n.length&&null===t.parameters[n[0]]?"a=fmtp:".concat(e).concat(i).concat(n[0]).concat(this.eol):"a=fmtp:".concat(e).concat(i).concat(Object.keys(t.parameters).map((e=>"".concat(e,"=").concat(t.parameters[e]))).join(";")).concat(this.eol)}printRtpMap(e,t){return t?"a=rtpmap:".concat(e).concat(i).concat(t.encodingName,"/").concat(t.clockRate).concat(t.encodingParameters?"/".concat(t.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(e,t){let n="a=rtcp-fb:".concat(e).concat(i),r=t;return"trr-int"===r.type?n+="ttr-int".concat(i).concat(r.interval):(n+="".concat(r.type),r.parameter&&(n+="".concat(i).concat(r.parameter),r.additional&&(n+="".concat(i).concat(r.additional)))),n+this.eol}printPtime(e){return void 0===e?"":"a=ptime:".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?"":"a=maxptime:".concat(e).concat(this.eol)}printDirection(e){return void 0===e?"":"a=".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>"a=ssrc:".concat(e.ssrcId.toString(10)).concat(i).concat(t).concat(e.attributes[t]?":".concat(e.attributes[t]):"").concat(this.eol))).join(""))).join("")}printRTCPMux(e){return void 0===e?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(e){return void 0===e?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(e){if(void 0===e)return"";let t="a=rtcp:".concat(e.port);return e.netType&&(t+="".concat(i).concat(e.netType)),e.addressType&&(t+="".concat(i).concat(e.addressType)),e.address&&(t+="".concat(i).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>"a=msid:".concat(e.id).concat(e.appdata?"".concat(i).concat(e.appdata):"").concat(this.eol))).join("")}printImageattr(e){return e.map((e=>"a=imageattr:".concat(e).concat(this.eol))).join("")}printRid(e){return e.map((e=>{let t="a=rid:".concat(e.id).concat(i).concat(e.direction);return e.payloads&&(t+="".concat(i,"pt=").concat(e.payloads.join(","))),e.params.length>0&&(t+="".concat(i).concat(e.params.map((e=>"depend"===e.type?"depend=".concat(e.rids.join(",")):"".concat(e.type,"=").concat(e.val))).join(";"))),t+this.eol})).join("")}printSimulcast(e){return void 0===e?"":"a=simulcast:".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?"":"a=sctp-port:".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?"":"a=max-message-size:".concat(e).concat(this.eol)}printMid(e){return void 0===e?"":"a=mid:".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>"a=ssrc-group:".concat(e.semantic).concat(e.ssrcIds.map((e=>"".concat(i).concat(e.toString(10)))).join("")).concat(this.eol))).join("")}}function D(e){return(new S).parse(e)}function x(e,t){return(new A).print(e,t)}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(8)})()}(wL);var CL=wL.exports;function RL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jR("SVC_MODE");if(jR("ENABLE_SVC"))return e in cA?e:cA.L1T3}const IL={[YA.VIDEO]:[{key:"abs-send-time",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"},{key:"video-orientation",extensionName:"urn:3gpp:video-orientation"},{key:"draft-holmer-rmcat-transport-wide-cc-extensions-01",extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"},{key:"playout-delay",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay"},{key:"video-content-type",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/video-content-type"},{key:"color-space",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/color-space"},{key:"video-timing",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/video-timing"}],[YA.AUDIO]:[{key:"ssrc-audio-level",extensionName:"urn:ietf:params:rtp-hdrext:ssrc-audio-level"},{key:"draft-holmer-rmcat-transport-wide-cc-extensions-01",extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"},{key:"abs-send-time",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}]};function AL(e,t,n){t.forEach((t=>{var r;const o=IL[e].find((e=>{var n;let{key:r}=e;return Or(n=t.extensionName).call(n,r)}));if(!o)return;const i=n.find((e=>{let{extensionName:t}=e;return Or(t).call(t,o.key)}));i&&Or(r=i.extensionName).call(r,"gdpr_forbidden")&&(t.extensionName=i.extensionName)}))}function OL(e,t){t.forEach((t=>{var n;const r=IL[e].find((e=>{var n;let{key:r}=e;return Or(n=t.extensionName).call(n,r)}));Or(n=t.extensionName).call(n,"gdpr_forbidden")&&r&&(t.extensionName=r.extensionName)}))}function NL(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e||Or(e).call(e,"abs-send-time")}function kL(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e||Or(e).call(e,"draft-holmer-rmcat-transport-wide-cc-extensions-01")}function DL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DL(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;const{filterRTX:o,filterVideoFec:i,filterAudioFec:a,filterAudioCodec:s,filterVideoCodec:c}=t,{useXR:l}=n;let u=[],d=[],h=[],p=[],f=!1,m=!1;if(CL.parse(e).mediaDescriptions.forEach((e=>{r&&r!==e.attributes.direction||("video"!==e.media.mediaType||f||(d=e.attributes.payloads,p=e.attributes.extmaps,f=!0),"audio"!==e.media.mediaType||m||(u=e.attributes.payloads,h=e.attributes.extmaps,m=!0))})),!p||0===d.length)throw new Error("Cannot get video capabilities from SDP.");if(!h||0===u.length)throw new Error("Cannot get audio capabilities from SDP.");if(d.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),l&&e.rtcpFeedbacks.push({type:"rrtr"})})),u.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),l&&e.rtcpFeedbacks.push({type:"rrtr"})})),o&&(u=u.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),d=d.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),i&&(d=d.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),a&&(u=u.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),s&&(null==s?void 0:s.length)>0&&(u=u.filter((e=>{var t;return Or(s).call(s,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),c&&(null==c?void 0:c.length)>0){const e=d.filter((e=>{var t;return Or(c).call(c,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}));d=e.concat(o?[]:ZL(e,d))}const g=jR("UNSUPPORTED_VIDEO_CODEC");return g&&g.length>0&&(d=d.filter((e=>!(e.rtpMap&&Or(g).call(g,e.rtpMap.encodingName.toLowerCase()))))),{audioCodecs:u,videoCodecs:d,audioExtensions:h,videoExtensions:p}}function ML(e){const t=CL.parse(e);let n,r;for(const o of t.mediaDescriptions){if(!n){const e=o.attributes.iceUfrag,t=o.attributes.icePwd;if(!e||!t)throw new Error("Cannot get iceUfrag or icePwd from SDP.");n={iceUfrag:e,icePwd:t}}if(!r){const e=o.attributes.fingerprints;e.length>0&&(r={fingerprints:e})}}if(!r&&t.attributes.fingerprints.length>0&&(r={fingerprints:t.attributes.fingerprints}),!r||!n)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:n,dtlsParameters:r}}function LL(e,t){const n=[],r=e.attributes.ssrcGroups.filter((e=>"FID"===e.semantic)),o=e.attributes.ssrcGroups.find((e=>"SIM"===e.semantic)),i=e.attributes.ssrcs;if(o)o.ssrcIds.forEach((e=>{var o;const i=null===(o=r.find((t=>t.ssrcIds[0]===e)))||void 0===o?void 0:o.ssrcIds[1];n.push({ssrcId:e,rtx:t?i:void 0})}));else if(r.length>0){const e=r[0].ssrcIds[0],o=r[0].ssrcIds[1];n.push({ssrcId:e,rtx:t?o:void 0})}else{if(0===i.length)throw new Error("No ssrcs found on local media description.");n.push({ssrcId:i[0].ssrcId})}return n}function UL(e,t,n){const{cname:r}=e;let o=[];t&&(o=jL(t)),0===o.length&&(o=e.iceParameters.candidates.map((e=>({foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}}))),oI.debug("Using candidates from gateway."));const i={fingerprints:e.dtlsParameters.fingerprints.map((e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint})))},a={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let s;switch(e.dtlsParameters.role){case"server":s="passive";break;case"client":s="active";break;case"auto":s="actpass"}const c=XL(e.rtpCapabilities),l=[];return Array.isArray(n)&&n.length>0&&n.forEach((e=>{l.push({kind:YA.VIDEO,ssrcId:e.v,rtx:e.v_rtx,mslabel:"".concat(e.v,"_").concat(e.a)},{kind:YA.AUDIO,ssrcId:e.a,mslabel:"".concat(e.v,"_").concat(e.a)})})),{dtlsParameters:i,iceParameters:a,candidates:o,rtpCapabilities:c,setup:s,cname:r,preSSRCs:l}}function jL(e){let t=[];return e.ip&&"number"==typeof e.port&&(t=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:e.ip,port:e.port.toString(),type:"host",extension:{}}],oI.debug("Using remote candidate from AP ".concat(e.ip,":").concat(e.port)),e.ip6&&(t.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:e.ip6,port:e.port.toString(),type:"host",extension:{}}),oI.debug("Using IPV6 remote candidate from AP ".concat(e.ip6,":").concat(e.port)))),t}function VL(e,t,n){const r=[],o=[];return e.forEach((e=>{let{ssrcId:i,rtx:a}=e;const s=aR(8,"track-"),c={ssrcId:i,attributes:xL({label:s,mslabel:n=n||aR(10,""),msid:"".concat(n," ").concat(s)},t&&{cname:t})};if(r.push(c),void 0!==a){const e={ssrcId:a,attributes:xL({label:s,mslabel:n,msid:"".concat(n," ").concat(s)},t&&{cname:t})};r.push(e),o.push({semantic:"FID",ssrcIds:[i,a]})}})),e.length>1&&o.push({semantic:"SIM",ssrcIds:e.map((e=>{let{ssrcId:t}=e;return t}))}),{ssrcs:r,ssrcGroups:o}}function BL(e,t){t instanceof oM&&e.attributes.payloads.forEach((e=>{var n;const r=null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase();if(!r||-1===["opus","pcmu","pcma","g722"].indexOf(r))return;e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime="10",e.fmtp.parameters.useinbandfec="1";const o=t._encoderConfig;o&&"pcmu"!==r&&"pcma"!==r&&"g722"!==r&&(o.bitrate&&!Bw()&&(e.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*o.bitrate))),o.sampleRate&&(e.fmtp.parameters.maxplaybackrate="".concat(o.sampleRate),e.fmtp.parameters["sprop-maxcapturerate"]="".concat(o.sampleRate)),o.stereo&&(e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"))}))}function zL(e){const t=e.attributes.unrecognized.findIndex((e=>"x-google-flag"===e.attField&&"conference"===e.attValue));-1!==t&&e.attributes.unrecognized.splice(t,1)}function FL(e,t){var n;if(!(t instanceof KM&&t._encoderConfig&&-1===t._hints.indexOf(nx.SCREEN_TRACK)))return;const r=t._encoderConfig;UD().supportMinBitrate&&r.bitrateMin&&e.attributes.payloads.forEach((e=>{var t,n;Or(t=["h264","h265","vp8","vp9","av1"]).call(t,(null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-min-bitrate"]="".concat(r.bitrateMin))})),UD().supportMinBitrate&&!Or(n=t._hints).call(n,nx.LOW_STREAM)&&r.bitrateMax&&e.attributes.payloads.forEach((e=>{var t,n;Or(t=["h264","h265","vp8","vp9","av1"]).call(t,(null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-start-bitrate"]="".concat(jR("X_GOOGLE_START_BITRATE")||Math.floor(r.bitrateMax)))}))}function HL(e){if("video"!==e.media.mediaType)return;const t=Dw();if(t.name!==Aw.SAFARI&&t.os!==Iw.IOS)return;const n=e.attributes.extmaps.findIndex((e=>/video-orientation/g.test(e.extensionName)));-1!==n&&e.attributes.extmaps.splice(n,1)}function GL(e,t,n){if(!t)return;let r,o;if("video"===e.media.mediaType?(r=n.videoExtensions,o=n.videoCodecs):(r=n.audioExtensions,o=n.audioCodecs),!0===t.twcc){const t=r.find((e=>kL(e.extensionName)));if(t){const n=t.extensionName;e.attributes.extmaps.find((e=>kL(e.extensionName)))||e.attributes.extmaps.push({entry:t.entry,extensionName:n}),(i=o,e.attributes.payloads.filter((e=>!!i.find((t=>t.payloadType===e.payloadType&&!!t.rtcpFeedbacks.find((e=>"transport-cc"===e.type))))))).forEach((e=>{e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))||e.rtcpFeedbacks.push({type:"transport-cc"})}))}}else if(!1===t.twcc){const t=e.attributes.extmaps.findIndex((e=>kL(e.extensionName)));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}var i;if(!0===t.remb){const t=r.find((e=>NL(e.extensionName)));if(t){const n=t.extensionName;e.attributes.extmaps.find((e=>e.extensionName===n))||e.attributes.extmaps.push({entry:t.entry,extensionName:n});const r=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))))))}(o,e.attributes.payloads);r.forEach((e=>{e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))||e.rtcpFeedbacks.push({type:"goog-remb"})}))}}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex((e=>NL(e.extensionName)));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"goog-remb"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}function WL(e,t,n){if(Bw())return;if("video"!==e.media.mediaType)return;if(!(t instanceof KM))return;if("vp9"!==n&&"vp8"!==n)return;if("vp8"===n&&!jR("SIMULCAST"))return;if("vp9"===n&&jR("ENABLE_SVC"))return;if(void 0===t._scalabilityMode||t._scalabilityMode.numSpatialLayers<=1)return;const r="vp8"===n?2:t._scalabilityMode.numSpatialLayers,o=e.attributes.ssrcs[0],i=e.attributes.ssrcGroups.find((e=>"FID"===e.semantic&&e.ssrcIds[0]===o.ssrcId)),a={semantic:"SIM",ssrcIds:[o.ssrcId]};for(let s=1;s<r;s++)e.attributes.ssrcs.push({ssrcId:o.ssrcId+s,attributes:YC(o.attributes)}),a.ssrcIds.push(o.ssrcId+s),i&&(e.attributes.ssrcs.push({ssrcId:i.ssrcIds[1]+s,attributes:YC(o.attributes)}),e.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[o.ssrcId+s,i.ssrcIds[1]+s]}));e.attributes.ssrcGroups.unshift(a)}async function qL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new RTCPeerConnection;n.addTransceiver("video",{direction:"sendonly"}),n.addTransceiver("audio",{direction:"sendonly"}),n.addTransceiver("video",{direction:"recvonly"}),n.addTransceiver("audio",{direction:"recvonly"});const r=(await n.createOffer()).sdp,{send:o,recv:i,sendrecv:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=PL(n,e,t,"sendonly"),o=PL(n,e,t,"recvonly"),i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},a={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(YL(r,o,"videoExtensions",i,a,s),YL(r,o,"videoCodecs",i,a,s),YL(r,o,"audioExtensions",i,a,s),YL(r,o,"audioCodecs",i,a,s),jR("RAISE_H264_BASELINE_PRIORITY")){const e=[],t=[];s.videoCodecs.forEach(((n,r)=>{var o;if("h264"===(null===(o=n.rtpMap)||void 0===o?void 0:o.encodingName.toLocaleLowerCase())){var i,a;const o=s.videoCodecs[r+1],c=o&&rU(n,o),l=null===(i=n.fmtp)||void 0===i?void 0:i.parameters["profile-level-id"],u=null===(a=n.fmtp)||void 0===a?void 0:a.parameters["packetization-mode"];!l||l!==jR("FIRST_H264_PROFILE_LEVEL_ID")||jR("FIRST_PACKETIZATION_MODE")&&u!==jR("FIRST_PACKETIZATION_MODE")?c?t.push([n,o]):t.push([n]):c?e.push([n,o]):e.push([n])}})),e.length>0&&t.length>0&&(oI.debug("raising H264 baseline profile priority"),s.videoCodecs.forEach(((n,r)=>{var o;if("h264"===(null===(o=n.rtpMap)||void 0===o?void 0:o.encodingName.toLocaleLowerCase())){const o=rU(n,s.videoCodecs[r+1]),i=e.shift()||t.shift()||[];i.length>0&&(o?s.videoCodecs.splice(r,2,...i):s.videoCodecs.splice(r,1,...i))}})),a.videoCodecs=a.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])!==jR("FIRST_H264_PROFILE_LEVEL_ID"))})),jR("FILTER_SEND_H264_BASELINE")&&(i.videoCodecs=i.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])!==jR("FIRST_H264_PROFILE_LEVEL_ID"))}))))}return{send:i,recv:a,sendrecv:s}}(e,t,r);try{n.close()}catch(s){}return{send:o,recv:i,sendrecv:a}}function KL(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=PL(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"recvonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(YL(e,t,"videoExtensions",n,r,o),YL(e,t,"videoCodecs",n,r,o),YL(e,t,"audioExtensions",n,r,o),YL(e,t,"audioCodecs",n,r,o),jR("RAISE_H264_BASELINE_PRIORITY")){const e=o.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"===e.fmtp.parameters["profile-level-id"]));if(-1!==e){const t=o.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()));if(t<e){oI.debug("raising H264 baseline profile priority");const n=o.videoCodecs[e];o.videoCodecs.splice(e,1),o.videoCodecs.splice(t,0,n)}-1!==t&&(r.videoCodecs=r.videoCodecs.filter((e=>!(e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"!==e.fmtp.parameters["profile-level-id"]))))}}return{send:n,recv:r,sendrecv:o}}function YL(e,t,n,r,o,i){if("videoExtensions"===n||"audioExtensions"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return a.push(n),!0}))?i[n].push(e):r[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&o[n].push(e)}))}if("videoCodecs"===n||"audioCodecs"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return a.push(n),!0}))?i[n].push(e):r[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&o[n].push(e)}))}}function XL(e){const{send:t,recv:n,sendrecv:r}=e;if(!r){if(!t||!n)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:t,recv:n}}let o,i;return t?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...t.audioCodecs,...r.audioCodecs],o.videoCodecs=[...t.videoCodecs,...r.videoCodecs],o.audioExtensions=[...t.audioExtensions,...r.audioExtensions],o.videoExtensions=[...t.videoExtensions,...r.videoExtensions]):o=r,n?(i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i.audioCodecs=[...n.audioCodecs,...r.audioCodecs],i.videoCodecs=[...n.videoCodecs,...r.videoCodecs],i.audioExtensions=[...n.audioExtensions,...r.audioExtensions],i.videoExtensions=[...n.videoExtensions,...r.videoExtensions]):i=r,{send:o,recv:i}}function $L(e){"audio"===e.media.mediaType&&e.attributes.payloads.filter((e=>{var t;return"opus"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"}))}function JL(e,t,n,r){let o=[];if(e===YA.VIDEO){if(jR("H264_PROFILE_LEVEL_ID")&&"h264"===r&&(o=t.videoCodecs.filter((e=>{var t;return Or(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,r)&&e&&e.fmtp&&e.fmtp.parameters["profile-level-id"]===jR("H264_PROFILE_LEVEL_ID")}))),!Array.isArray(o)||0===o.length){let e=[];const i=[],a=[],s=[];if(n.videoCodecs.forEach((t=>{const n=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"";Or(n).call(n,r)?e.push(t):Or(n).call(n,"vp9")?i.push(t):Or(n).call(n,"vp8")?a.push(t):Or(n).call(n,"h264")&&s.push(t)})),0===e.length){let t="";0!==i.length?(e=i,t="vp9"):0!==a.length?(e=a,t="vp8"):0!==s.length&&(e=s,t="h264"),oI.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(t))}0!==e.length&&(o=t.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(0===o.length&&(oI.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(t.videoCodecs[0].rtpMap&&t.videoCodecs[0].rtpMap.encodingName)),o=t.videoCodecs),jR("USE_PUB_RTX")||jR("USE_SUB_RTX")){const e=ZL(o,t.videoCodecs);o=[...o,...e]}}else o=t.audioCodecs.filter((e=>{var t;return Or(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,r)})),0===o.length&&(oI.warning("codec ".concat(r," not included in rtpCapabilities, fallback to opus")),o=t.audioCodecs.filter((e=>{var t;return Or(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,"opus")})));return o}function ZL(e,t){const n=e.map((e=>e.payloadType.toString()));return t.filter((e=>e.rtpMap&&"rtx"===e.rtpMap.encodingName&&e.fmtp&&e.fmtp.parameters.apt&&Or(n).call(n,e.fmtp&&e.fmtp.parameters.apt)))}async function QL(e,t,n){const r=t.toString(),o=tU(r,"offer","remote","exchangeSDP");await e.setRemoteDescription({type:"offer",sdp:r});const i=await e.createAnswer();if(!i.sdp)throw new Error("cannot get answer sdp");let a=i.sdp;a=eU(a,n||{}),null==o||o(a||""),await e.setLocalDescription({type:"answer",sdp:a})}function eU(e,t,n){const r=CL.parse(e),{useXR:o}=t;return r.mediaDescriptions.forEach((e=>{var t;e.attributes.mid&&(Array.isArray(n)&&!Or(n).call(n,e.attributes.mid)||("audio"===e.media.mediaType&&$L(e),o&&Or(t=["audio","video"]).call(t,e.media.mediaType)&&e.attributes.payloads.forEach((e=>{-1===e.rtcpFeedbacks.findIndex((e=>"rrtr"===e.type))&&e.rtcpFeedbacks.push({type:"rrtr"})}))))})),CL.print(r)}function tU(e,t,n,r){if(jR("SDP_LOGGING"))return oI.upload("exchanging ".concat(n," ").concat(t," SDP during P2PConnection.").concat(r,"\n"),e),"offer"===t?e=>{tU(e,"answer","local"===n?"remote":"local",r)}:void 0}function nU(e){const t=jR("COMPATIBLE_SDP_EXTENSION");return!!(Array.isArray(t)&&t.length>0)&&t.some((t=>Or(e).call(e,t)))}function rU(e,t){try{var n;return(null===(n=e.fmtp)||void 0===n?void 0:n.parameters.apt)===t.payloadType.toString()}catch(r){return!1}}function oU(e,t){return typeof jR(e)===t?jR(e):void 0}function iU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iU(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const sU=new Map;class cU extends CC{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,"DISCONNECTED"===e&&this._disconnectedReason?this.emit(jA.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(jA.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){oI.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){super(),OE(this,"store",void 0),OE(this,"joinInfo",void 0),OE(this,"key",void 0),OE(this,"ntpOffset",0),OE(this,"signal",void 0),OE(this,"role",void 0),OE(this,"inChannelInfo",{joinAt:null,duration:0}),OE(this,"spec",void 0),OE(this,"_state","DISCONNECTED"),OE(this,"_statsCollector",void 0),OE(this,"_disconnectedReason",void 0),OE(this,"isSignalRecover",!1),OE(this,"hasChangeBGPAddress",!1),OE(this,"trafficStatsInterval",void 0),OE(this,"networkQualityInterval",void 0),OE(this,"_joinGatewayStartTime",0),OE(this,"_signalTimeout",!1),OE(this,"_clientRoleOptions",void 0),OE(this,"_isProactiveJoin",!1),this.store=e,this.spec=t,this.signal=this.store.useP2P?new SL(aU(aU({},t),{},{retryConfig:t.websocketRetryConfig}),e):new kO(aU(aU({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||"audience",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,n){this.store.joinGatewayStart(),"disabled"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const r=Date.now();let o=sU.get(e.cname);if(o||(o=new Map,sU.set(e.cname,o)),this._isProactiveJoin=!0,o.has(e.uid)){const t=new pI(lC.UID_CONFLICT);throw hI.joinGateway(e.sid,{lts:r,succ:!1,ec:t.code,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer,signalChannel:"0",preload:e.preload}),this._isProactiveJoin=!1,t}o.set(e.uid,!0),this.joinInfo=e,this.key=t;let i=0;this.joinGatewayStartTime=r;const a=e.proxyServer;try{oI.debug("[".concat(this.store.clientId,"] use websocket join uid ").concat(i));const t=e.gatewayAddrs.map((t=>{let{address:n}=t;const[r,o]=n.split(":"),i={host:r,port:o};return e.proxyServer&&(i.proxy=e.proxyServer),i}));i=(await this.signal.init(t,n)).uid,oI.debug("[".concat(this.store.clientId,"] websocket join uid ").concat(i," cost ").concat(Date.now()-this.joinGatewayStartTime))}catch(c){var s;throw oI.error("[".concat(this.store.clientId,"] User join failed"),c.toString()),hI.joinGateway(e.sid,{lts:r,succ:!1,ec:(null===(s=c.data)||void 0===s?void 0:s.desc)||c.code,errorMsg:c.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!a,signalChannel:"0",preload:e.preload}),this._isProactiveJoin=!1,o.delete(e.uid),this.signal.close(),c}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),oI.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e=>{oI.warning("[".concat(this.store.clientId,"] get traffic stats error"),e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(jA.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(jA.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===this.state&&this._statsCollector.trafficStats?this.emit(jA.NETWORK_QUALITY,{uplinkNetworkQuality:VO(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:VO(this._statsCollector.trafficStats.B_dnq)}):this.emit(jA.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),i}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if("DISCONNECTED"!==this.state){t!==DC.FALLBACK&&(this.state="DISCONNECTING");try{e||this.signal.connectionState!==mA.CONNECTED||await(n=this.signal.request(vA.LEAVE,void 0,!0),r=3e3,r===1/0?n:Uh.race([n,oR(r)]))}catch(n){oI.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),n)}this.signal.close(t),t!==DC.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}var n,r}async publish(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new pI(lC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const r={state:"offer",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:jR("PUB_EXTEND"),twcc:!!jR("PUBLISH_TWCC"),rtx:!!jR("USE_PUB_RTX")};try{return(await this.signal.request(vA.PUBLISH,r,!0))._message}catch(o){if(n&&o.data&&o.data.code===fA.ERR_PUBLISH_REQUEST_INVALID)return oI.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),o.toString()),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw o}}async publishDataChannel(e,t,n){var r;if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new pI(lC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const o={stream_id:t.streamId,ordered:t.ordered?1:0,max_retrans_times:null!==(r=t.maxRetransmits)&&void 0!==r?r:10,channel_id:t.channelId,metadata:t.metadata};try{await this.signal.request(vA.PUBLISH_DATASTREAM,o,!0)}catch(i){if(n&&i.data&&i.data.code===fA.ERR_PUBLISH_REQUEST_INVALID)return oI.warning("[".concat(this.store.clientId,"] receive publish datachannels error code, retry"),i.toString()),await this.tryUnpubDataChannelBeforeRepub(e,t),this.publishDataChannel(e,t,!1);throw i}}async unpublish(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new pI(lC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(vA.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(n){oI.warning("[".concat(this.store.clientId,"] unpublish warning: "),n)}}async unpublishDataChannel(e){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new pI(lC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await Uh.all(e.map((e=>this.signal.request(vA.UNPUBLISH_DATASTREAM,{channel_id:e},!0))))}catch(t){oI.warning("unpublish datachannels warning: ",t)}}async presubscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new pI(lC.INVALID_OPERATION,"can not presubscribe when connection state is ".concat(this.state));const r={stream_id:e,stream_type:t,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!jR("SUBSCRIBE_TWCC"),rtx:!!jR("USE_SUB_RTX")||void 0,extend:jR("SUB_EXTEND"),svc:Array.isArray(jR("SVC"))&&0!==jR("SVC").length?jR("SVC"):void 0};try{return await this.signal.request(vA.PRE_SUBSCRIBE,r,!0)}catch(o){if(n&&o.data&&o.data.code===fA.ERR_SUBSCRIBE_REQUEST_INVALID)return oI.warning("[".concat(this.store.clientId,"] pre-subscribe error, retry"),o.toString()),this.presubscribe(e,t,!1);throw o}}async subscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new pI(lC.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const r={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!jR("SUBSCRIBE_TWCC"),rtx:!!jR("USE_SUB_RTX"),extend:jR("SUB_EXTEND"),ssrcId:t.ssrcId,svc:Array.isArray(jR("SVC"))&&0!==jR("SVC").length?jR("SVC"):void 0};try{return(await this.signal.request(vA.SUBSCRIBE,r,!0))._message}catch(o){if(n&&o.data&&o.data.code===fA.ERR_SUBSCRIBE_REQUEST_INVALID)return oI.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),o.toString()),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw o}}async subscribeDataChannel(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new pI(lC.INVALID_OPERATION,"can not subscribe datachannel when connection state is ".concat(this.state));const r={uid:e,stream_id:t.id,channel_id:t.datachannelId};try{return void(await this.signal.request(vA.SUBSCRIBE_DATASTREAM,r,!0))}catch(o){if(n&&o.data&&o.data.code===fA.ERR_SUBSCRIBE_REQUEST_INVALID)return oI.warning("[".concat(this.store.clientId,"] receiver subscribe datachannel error code, retry"),o.toString()),await this.tryUnsubDataChannelBeforeResub(e,t),await this.subscribeDataChannel(e,t,!1);throw o}}async subscribeAll(e,t){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new pI(lC.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const n={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!jR("USE_SUB_RTX"),twcc:!!jR("SUBSCRIBE_TWCC"),svc:Array.isArray(jR("SVC"))&&0!==jR("SVC").length?jR("SVC"):void 0};try{return await this.signal.request(vA.SUBSCRIBE_STREAMS,n,!0)}catch(r){if(t&&r.data&&r.data.code===fA.ERR_SUBSCRIBE_REQUEST_INVALID)return oI.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),r.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw r}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,n=e.width,r=e.height,o=!0;return"number"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(o=!1)),"number"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,n||(o=!1)),"number"!=typeof r&&(r=r.exact||r.ideal||r.max||r.min||0,t||(o=!1)),o?{stream_type:0,width:n,height:r,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);if(t)return this.signal.request(vA.SET_VIDEO_PROFILE,t);oI.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"))}async unsubscribe(e,t){try{await this.signal.request(vA.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(n){oI.warning("[".concat(this.store.clientId,"] unsubscribe warning: "),n)}}async unsubscribeDataChannel(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new pI(lC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await Uh.all(e.map((e=>this.signal.request(vA.UNSUBSCRIBE_DATASTREAM,{stream_id:e,uid:t},!0))))}catch(n){oI.warning("unsubscribeDataChannel warning: ",n)}}async massUnsubscribe(e){try{await this.signal.request(vA.UNSUBSCRIBE_STREAMS,e,!0)}catch(t){oI.warning("[".concat(this.store.clientId,"] massUnsubscribeAll warning: "),t)}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=e;return{gatewayEstablishParams:await this.signal.request(vA.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(vA.GATEWAY_INFO)}async renewToken(e){await this.signal.request(vA.RENEW_TOKEN,e),this.key=e.token}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),"CONNECTED"!==this.state)return void(this.role=e);let n,r=0;"audience"===e?this._clientRoleOptions&&this._clientRoleOptions.delay?(n=this._clientRoleOptions.delay,r=1):r=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:r=0,await this.signal.request(vA.SET_CLIENT_ROLE,{role:e,level:r,delay:n,client_ts:Date.now()}),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(vA.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(vA.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(vA.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(vA.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}async setRTM2Flag(e){await this.signal.request(vA.SET_RTM2_FLAG,{rtm2_flag:e})}async sendExtensionMessage(e,t,n){if(this.signal instanceof SL)return this.signal.sendExtensionMessage(e,t,n)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),aU({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(vA.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=sU.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){let t;return t=e.startsWith("dc")?e.match(/(dc\:\/\/)?([^:]+):(\d+)/):e.match(/(wss\:\/\/)?([^:]+):(\d+)/),t?{username:xR.username,password:xR.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}(("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],e&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(aU(aU({},xR),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if("CONNECTED"!==this.state)return;const e=await this.signal.request(vA.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),null!=e.ntp_offset&&(this.ntpOffset=e.ntp_offset),e.peer_delay.forEach((e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t=>t.peer_uid===e.peer_uid));t&&t.B_st!==e.B_st&&KC((()=>{this.emit(jA.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new pI(lC.UNEXPECTED_ERROR,"can not generate join message, no join info");const t=Object.assign({},this.joinInfo.apResponse);let n=jR("REPORT_APP_SCENARIO");if("string"!=typeof n)try{n=JSON.stringify(n)}catch(a){n=void 0}n&&n.length>128&&(n=void 0);const r=!(Bw()||Hw(87)||VD())&&"boolean"==typeof jR("ENABLE_PRE_SUB")&&jR("ENABLE_PRE_SUB"),o=!VD()&&oU("ENABLE_PREALLOC_PC","boolean"),i=aU({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:NR,browser:navigator.userAgent,process_id:jR("PROCESS_ID"),mode:this.store.useP2P?"p2p":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:jR("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":"proxy5"===this.joinInfo.cloudProxyServer?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:n,attributes:{userAttributes:{enablePublishedUserList:jR("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:jR("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:"number"==typeof jR("SUBSCRIBE_AUDIO_FILTER_TOPN")?jR("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:"boolean"==typeof jR("ENABLE_PUBLISH_AUDIO_FILTER")?jR("ENABLE_PUBLISH_AUDIO_FILTER"):void 0,enableUserLicenseCheck:"boolean"==typeof jR("ENABLE_USER_LICENSE_CHECK")?jR("ENABLE_USER_LICENSE_CHECK"):void 0,enableRTX:!0===jR("USE_PUB_RTX")||!0===jR("USE_SUB_RTX")||void 0,disableFEC:jR("DISABLE_FEC"),enableNTPReport:!!jR("ENABLE_NTP_REPORT")||void 0,enableInstantVideo:!!jR("ENABLE_INSTANT_VIDEO")||void 0,enableFulllinkAvSync:!!jR("ENABLE_FULL_LINK_AV_SYNC")||void 0,enableDataStream2:oU("ENABLE_DATASTREAM_2","boolean"),enableAutFeedback:!!jR("ENABLE_AUT_FEEDBACK")||void 0,rtm2Flag:"number"==typeof this.joinInfo.rtmFlag?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!jR("ENABLE_USER_AUTO_REBALANCE_CHECK"),enableXR:oU("USE_XR","boolean"),enableLossbasedBwe:oU("ENABLE_LOSSBASED_BWE","boolean"),enableAutCC:!!jR("ENABLE_AUT_CC")||void 0,enableCCFallback:oU("ENABLE_CC_FALLBACK","boolean"),enablePreallocPC:o,preSubNum:r?oU("PRE_SUB_NUM","number"):void 0,enablePubTWCC:oU("PUBLISH_TWCC","boolean"),enableSubTWCC:oU("SUBSCRIBE_TWCC","boolean"),enablePubRTX:oU("USE_PUB_RTX","boolean"),enableSubRTX:oU("USE_SUB_RTX","boolean"),enableSubSVC:jR("ENABLE_SVC")?jR("ENABLE_SVC_DEFAULT_CODECS"):Array.isArray(jR("SVC"))&&0!==jR("SVC").length?jR("SVC"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(i.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(i.aes_mode=this.joinInfo.aesmode,jR("ENCRYPT_AES")?(i.aes_secret=this.joinInfo.aespassword,i.aes_encrypt=!0):i.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(i.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(i.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(i.default_video_stream=this.joinInfo.defaultVideoStream),i}getRejoinMessage(){if(!this.joinInfo)throw new pI(lC.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(gA.WS_RECONNECT_CREATE_CONNECTION,(e=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(gA.WS_RECONNECTING,(e=>{this.joinInfo&&hI.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||UC.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",hI.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:"live"===this.spec.mode?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:"audience"===this.role?2:1,buildFormat:1}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(gA.WS_CLOSED,(e=>{let t;switch(e){case DC.LEAVE:t=UC.LEAVE;break;case DC.UID_BANNED:case DC.IP_BANNED:case DC.CHANNEL_BANNED:case DC.SERVER_ERROR:t=UC.SERVER_ERROR;break;case DC.FALLBACK:t=UC.FALLBACK;break;case DC.LICENSE_MISSING:case DC.LICENSE_EXPIRED:case DC.LICENSE_MINUTES_EXCEEDED:case DC.LICENSE_PERIOD_INVALID:case DC.LICENSE_MULTIPLE_SDK_SERVICE:case DC.LICENSE_ILLEGAL:case DC.TOKEN_EXPIRE:t=e;break;default:t=UC.NETWORK_ERROR}oI.debug("[".concat(this.store.clientId,"] [signal] websocket closed, reason: ").concat(t||"undefined -> "+UC.NETWORK_ERROR)),this.joinInfo&&hI.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===DC.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==DC.FALLBACK&&(this.state="DISCONNECTED"),this.reset()})),this.signal.on(gA.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&("audience"===this.role&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(oI.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions.level,", delay: ").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),hI.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion)){const e=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!e)return void oI.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(e));UR("EVENT_REPORT_DOMAIN",e[1]),UR("EVENT_REPORT_BACKUP_DOMAIN",e[1]),UR("LOG_UPLOAD_SERVER","".concat(e[1],":6444"))}})),this.signal.on(_A.ON_UPLINK_STATS,(e=>{this._statsCollector.updateUplinkStats(e)})),this.signal.on(gA.REQUEST_RECOVER,((e,t,n)=>{if(!this.joinInfo)return n(new pI(lC.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,BC(this,jA.REQUEST_NEW_GATEWAY_LIST).then(t).catch(n)})),this.signal.on(gA.REQUEST_JOIN_INFO,(async e=>{var t;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e(this.getJoinMessage({ortc:{}}));const{iceParameters:n,dtlsParameters:r,rtpCapabilities:o}=await BC(this,jA.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(t=this.joinInfo)||void 0===t?void 0:t.turnServer});e(this.getJoinMessage({ortc:{iceParameters:n,dtlsParameters:r,rtpCapabilities:o,version:"2"}}))})),this.signal.on(gA.REQUEST_REJOIN_INFO,(e=>{e(this.getRejoinMessage())})),this.signal.on(gA.REPORT_JOIN_GATEWAY,((e,t)=>{if(!this.joinInfo)return;let n,r="";var o;e instanceof pI?(n=(null===(o=e.data)||void 0===o?void 0:o.desc)||e.code,r=e.message):n=e,hI.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:n,errorMsg:r,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1})),this.signal.on(gA.IS_P2P_DISCONNECTED,(e=>{e(HC(this,jA.IS_P2P_DISCONNECTED))})),this.signal.on(gA.DISCONNECT_P2P,(()=>{this.emit(jA.DISCONNECT_P2P)})),this.signal.on(gA.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(gA.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(gA.JOIN_RESPONSE,(e=>{const t=this.getCurrentGatewayAddress();this.emit(jA.JOIN_RESPONSE,e,t)})),this.signal.on(gA.PRE_CONNECT_PC,(async()=>{if(this.joinInfo){this.updateTurnConfigFromSignal();const e=this.getCurrentGatewayAddress(),t=jR("FINGERPRINT")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(e&&t){const n=jL(e);this.emit(jA.PRE_CONNECT_PC,{candidates:n,fingerprint:t})}}})),this.signal.on(gA.RECOVER_NOTIFICATION,(e=>{this.joinInfo&&"string"==typeof jR("AP_REQUEST_DETAIL")&&(this.joinInfo.apRequestDetail="".concat(jR("AP_REQUEST_DETAIL"),";").concat(e))}))}async tryUnsubBeforeResub(e,t){try{await this.signal.request(vA.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(n){throw oI.warning("[".concat(this.store.clientId,"] tryUnsubBeforeResub warning"),n),n}}async tryUnsubDataChannelBeforeResub(e,t){try{await this.signal.request(vA.UNSUBSCRIBE,{stream_id:t.id},!0)}catch(n){throw oI.warning("unsubscribe datachannel warning",n),n}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(vA.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(n){throw oI.warning("[".concat(this.store.clientId,"] tryUnpubBeforeRepub warning: "),n),n}}async tryUnpubDataChannelBeforeRepub(e,t){try{await this.signal.request(vA.UNPUBLISH_DATASTREAM,{channnel_id:t.channelId},!0)}catch(n){throw oI.warning("unpublish datastream warning: ",n),n}}async tryMassUnsubBeforeResub(e){const t={users:e.map((e=>({stream_id:e.stream_id,stream_type:e.stream_type})))};try{await this.signal.request(vA.UNSUBSCRIBE_STREAMS,t,!0)}catch(n){throw oI.warning("[".concat(this.store.clientId,"] tryMassUnsubBeforeResub warning"),n),n}}async muteLocal(e,t){const n={action:e.find((e=>e.stream_type===UA.Audio))?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(vA.CONTROL,n,!0,!0)}catch(r){throw oI.warning("[".concat(this.store.clientId,"] gateway muteLocal warning: "),r),r}}async unmuteLocal(e,t){const n={action:e.find((e=>e.stream_type===UA.Audio))?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(vA.CONTROL,n,!0,!0)}catch(r){throw oI.warning("[".concat(this.store.clientId,"] gateway unmuteLocal warning: "),r),r}}async muteRemote(e,t){const n={action:e===YA.AUDIO?"mute_remote_audio":"mute_remote_video",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(vA.CONTROL,n,!0,!0)}catch(r){throw oI.warning("[".concat(this.store.clientId,"] gateway muteRemote warning: "),r),r}}async unmuteRemote(e,t){const n={action:e===YA.AUDIO?"unmute_remote_audio":"unmute_remote_video",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(vA.CONTROL,n,!0,!0)}catch(r){throw oI.warning("[".concat(this.store.clientId,"] gateway unmuteRemote warning: "),r),r}}uploadWRTCStats(e){this.signal.uploadWRTCStats(e)}upload(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(vA.RESTART_ICE,t,!0)}catch(n){throw oI.warning("[".concat(this.store.clientId,"] P2PChannel.restartICE warning: "),n),n}}reconnect(){"CONNECTED"===this.state&&this.signal.reconnect(void 0,UC.P2P_FAILED)}getCurrentGatewayAddress(){var e,t;if(!jR("GATEWAY_WSS_ADDRESS"))return jR("USE_CANDIDATE_FROM_AP_DETAIL")&&null!==(e=this.joinInfo)&&void 0!==e&&e.apGatewayAddress?(oI.debug("[".concat(this.store.clientId,"] use candidate from ap detail, ").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):null!==(t=this.joinInfo)&&void 0!==t&&t.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(vA.SET_PARAMETER,{enablePublishAudioFilter:e})}}let lU=0,uU=0;function dU(e,t,n,r){return new Uh(((o,i)=>{t.timeout=t.timeout||jR("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),lU+=nR(t.data)):n&&(t.data.size?lU+=t.data.size:t.data instanceof FormData?lU+=rR(t.data):lU+=nR(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,bw.request(t).then((e=>{"string"==typeof e.data?uU+=nR(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?uU+=e.data.byteLength:uU+=nR(JSON.stringify(e.data)),r&&o({data:e.data,headers:e.headers}),o(e.data)})).catch((e=>{bw.isCancel(e)?i(new pI(lC.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?i(new pI(lC.NETWORK_TIMEOUT,e.message)):e.response?i(new pI(lC.NETWORK_RESPONSE_ERROR,e.response.status)):i(new pI(lC.NETWORK_ERROR,e.message))}))}))}
/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */!function(){var e;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r,o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=i;e=e.split(".");for(var r=0;r<e.length-1;r++){var a=e[r];if(!(a in n))break e;n=n[a]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}if(a("Symbol",(function(e){function t(e,t){this.A=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(o){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(o||"")+"_"+r++,o)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var a=i[t[r]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&o(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(n(this))}})}return e})),"function"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var l;e:{var u={};try{u.__proto__={a:!0},l=u.a;break e}catch(P){}l=!1}r=l?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=r;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function f(e,t){return e.h=3,{value:t}}function m(e){this.g=new h,this.G=e}function g(e,t,n,r){try{var o=t.call(e.g.j,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return e.g.m=!1,o;var i=o.value}catch(a){return e.g.j=null,e.g.s(a),v(e)}return e.g.j=null,r.call(e.g,i),v(e)}function v(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(n){e.g.v=void 0,e.g.s(n)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){p(e.g);var n=e.g.j;return n?g(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),v(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function _(e,t){return t=new y(new m(t)),d&&e.prototype&&d(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},m.prototype.o=function(e){return p(this.g),this.g.j?g(this,this.g.j.next,e,this.g.o):(this.g.o(e),v(this))},m.prototype.s=function(e){return p(this.g),this.g.j?g(this,this.g.j.throw,e,this.g.o):(this.g.s(e),v(this))},a("Array.prototype.entries",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e,t){return[e,t]}))}})),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var E=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},b=function(e){return e.replace(/\r?\n|\r/g,"\r\n")},T=function(e,t,n){return t instanceof Blob?(n=void 0!==n?String(n+""):"string"==typeof t.name?t.name:"blob",t.name===n&&"[object Blob]"!==Object.prototype.toString.call(t)||(t=new File([t],n)),[String(e),t]):[String(e),String(t)]},S=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},w="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,C=w.FormData,R=w.XMLHttpRequest&&w.XMLHttpRequest.prototype.send,I=w.Request&&w.fetch,A=w.navigator&&w.navigator.sendBeacon,O=w.Element&&w.Element.prototype,N=w.Symbol&&Symbol.toStringTag;N&&(Blob.prototype[N]||(Blob.prototype[N]="Blob"),"File"in w&&!File.prototype[N]&&(File.prototype[N]="File"));try{new File([],"")}catch(P){w.File=function(e,t,n){return e=new Blob(e,n||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(n&&void 0!==n.lastModified?new Date(n.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),N&&Object.defineProperty(e,N,{value:"File"}),e}}var k=function(e){return e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},D=function(e){this.i=[];var t=this;e&&E(e.elements,(function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type&&!e.matches("form fieldset[disabled] *"))if("file"===e.type){var n=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];E(n,(function(n){t.append(e.name,n)}))}else"select-multiple"===e.type||"select-one"===e.type?E(e.options,(function(n){!n.disabled&&n.selected&&t.append(e.name,n.value)})):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(n="textarea"===e.type?b(e.value):e.value,t.append(e.name,n))}))};if((e=D.prototype).append=function(e,t,n){S(arguments,2),this.i.push(T(e,t,n))},e.delete=function(e){S(arguments,1);var t=[];e=String(e),E(this.i,(function(n){n[0]!==e&&t.push(n)})),this.i=t},e.entries=function e(){var t,n=this;return _(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<n.i.length?e=f(e,n.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},e.forEach=function(e,t){S(arguments,1);for(var n=c(this),r=n.next();!r.done;r=n.next()){var o=c(r.value);r=o.next().value,o=o.next().value,e.call(t,o,r,this)}},e.get=function(e){S(arguments,1);var t=this.i;e=String(e);for(var n=0;n<t.length;n++)if(t[n][0]===e)return t[n][1];return null},e.getAll=function(e){S(arguments,1);var t=[];return e=String(e),E(this.i,(function(n){n[0]===e&&t.push(n[1])})),t},e.has=function(e){S(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,n,r,o=this;return _(e,(function(e){if(1==e.h&&(t=c(o),n=t.next()),3!=e.h)return n.done?void(e.h=0):(r=n.value,f(e,c(r).next().value));n=t.next(),e.h=2}))},e.set=function(e,t,n){S(arguments,2),e=String(e);var r=[],o=T(e,t,n),i=!0;E(this.i,(function(t){t[0]===e?i&&(i=!r.push(o)):r.push(t)})),i&&r.push(o),this.i=r},e.values=function e(){var t,n,r,o,i=this;return _(e,(function(e){if(1==e.h&&(t=c(i),n=t.next()),3!=e.h)return n.done?void(e.h=0):(r=n.value,(o=c(r)).next(),f(e,o.next().value));n=t.next(),e.h=2}))},D.prototype._asNative=function(){for(var e=new C,t=c(this),n=t.next();!n.done;n=t.next()){var r=c(n.value);n=r.next().value,r=r.next().value,e.append(n,r)}return e},D.prototype._blob=function(){var e="----formdata-polyfill-"+Math.random(),t=[],n="--"+e+'\r\nContent-Disposition: form-data; name="';return this.forEach((function(e,r){return"string"==typeof e?t.push(n+k(b(r))+'"\r\n\r\n'+b(e)+"\r\n"):t.push(n+k(b(r))+'"; filename="'+k(e.name)+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+"\r\n\r\n",e,"\r\n")})),t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},D.prototype[Symbol.iterator]=function(){return this.entries()},D.prototype.toString=function(){return"[object FormData]"},O&&!O.matches&&(O.matches=O.matchesSelector||O.mozMatchesSelector||O.msMatchesSelector||O.oMatchesSelector||O.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),N&&(D.prototype[N]="FormData"),R){var x=w.XMLHttpRequest.prototype.setRequestHeader;w.XMLHttpRequest.prototype.setRequestHeader=function(e,t){x.call(this,e,t),"content-type"===e.toLowerCase()&&(this.B=!0)},w.XMLHttpRequest.prototype.send=function(e){e instanceof D?(e=e._blob(),this.B||this.setRequestHeader("Content-Type",e.type),R.call(this,e)):R.call(this,e)}}I&&(w.fetch=function(e,t){return t&&t.body&&t.body instanceof D&&(t.body=t.body._blob()),I.call(this,e,t)}),A&&(w.navigator.sendBeacon=function(e,t){return t instanceof D&&(t=t._asNative()),A.call(this,e,t)}),w.FormData=D}}();const hU=()=>{const e=jR("AREAS");return 0===e.length&&e.push(zA.GLOBAL),qr(e).call(e,((e,t,n)=>{const r=pU(t);return r?0===n?r:"".concat(e,",").concat(r):e}),"")},pU=e=>e===zA.OVERSEA?"".concat(HA.ASIA,",").concat(HA.EUROPE,",").concat(HA.AFRICA,",").concat(HA.NORTH_AMERICA,",").concat(HA.SOUTH_AMERICA,",").concat(HA.OCEANIA):HA[e],fU=e=>{const t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((e=>{const n=GA[e],r=Object.keys(n);r&&r.map((e=>{"CODE"!==e&&(t[e]=t[e].concat(n[e]))}))})),t},mU={GLOBAL:{ASIA:[zA.CHINA,zA.JAPAN,zA.INDIA,zA.KOREA,zA.HKMC],EUROPE:[],NORTH_AMERICA:[zA.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},gU=Object.keys(mU[zA.GLOBAL]),vU=[zA.CHINA,zA.NORTH_AMERICA,zA.EUROPE,zA.ASIA,zA.JAPAN,zA.INDIA,zA.OCEANIA,zA.SOUTH_AMERICA,zA.AFRICA,zA.KOREA,zA.HKMC,zA.US],yU=function(e,t){let n=[];if(Or(e).call(e,zA.GLOBAL)){const i=[zA.GLOBAL,zA.OVERSEA],a=Object.keys(GA);if(t===zA.GLOBAL)throw new pI(lC.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(t===zA.CHINA)n=[zA.OVERSEA];else if(o=t,Or(gU).call(gU,o)){const e=(r=t,mU[zA.GLOBAL][r]||[]),o=[...i,t,...e];n=a.filter((e=>!Or(o).call(o,e)))}else if(function(e){let t=!1;return gU.forEach((n=>{var r;Or(r=mU[zA.GLOBAL][n]).call(r,e)&&(t=!0)})),t}(t)){const e=function(e){let t;return gU.forEach((n=>{var r;Or(r=mU[zA.GLOBAL][n]).call(r,e)&&(t=n)})),t}(t),r=[...i,e,t];n=a.filter((e=>!Or(r).call(r,e)))}else n=e;n=function(e){const t=[];return vU.forEach((n=>{Or(e).call(e,n)&&t.push(n)})),t.concat(e.filter((e=>!Or(vU).call(vU,e))))}(n)}else n=e;var r,o;return n};function _U(e){var t,n;if(!e&&Or(t=jR("AREAS")).call(t,zA.EXTENSIONS))return oI.debug("update area from ap : reset"),void EU(fI,!0);if(!Or(n=jR("AREAS")).call(n,zA.GLOBAL)||!e)return;let r=GA.EXTENSIONS;r&&(r={CODE:pU(zA.EXTENSIONS),WEBCS_DOMAIN:["ap-web-1-".concat(e,".agora.io")],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-".concat(e,".ap.sd-rtn.com")],PROXY_CS:["proxy-ap-web-".concat(e,".agora.io")],CDS_AP:["cds-ap-web-1-".concat(e,".agora.io"),"cds-ap-web-2-".concat(e,".ap.sd-rtn.com")],ACCOUNT_REGISTER:["sua-ap-web-1-".concat(e,".agora.io"),"sua-ap-web-2-".concat(e,".ap.sd-rtn.com")],UAP_AP:["uap-ap-web-1-".concat(e,".agora.io"),"uap-ap-web-2-".concat(e,".ap.sd-rtn.com")],EVENT_REPORT_DOMAIN:["statscollector-1-".concat(e,".agora.io")],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-".concat(e,".agora.io")],LOG_UPLOAD_SERVER:["logservice-".concat(e,".agora.io")],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy-".concat(e,".agora.io")]},oI.debug("update area from ap success: ".concat(e,",config is "),r),UR("AREAS",[zA.EXTENSIONS],!0),Object.keys(r).map((e=>{UR(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?r[e][0]:r[e])})))}function EU(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=hI.reportApiInvoke(null,{name:AC.SET_AREA,options:e,tag:OC.TRACER});try{let r=[];if("string"==typeof e&&(r=[e]),Array.isArray(e)&&(e.forEach((e=>{if(!Or(FA).call(FA,e))throw new pI(lC.INVALID_PARAMS,"invalid area code")})),r=e),"[object Object]"===Object.prototype.toString.call(e)){const{areaCode:t,excludedArea:n}=e;if(!t)throw new pI(lC.INVALID_PARAMS,"area code is needed");let o=t;"string"==typeof t&&(o=[t]),r=n?yU(o,n):o}if(!t){if(VR.AREAS){const e=new pI(lC.PROHIBITED_OPERATION,"setArea is prohibited because of config-distribute");return n.onError(e),void oI.warning("setArea is prohibited because of config-distribute")}if(Or(r).call(r,zA.GLOBAL)&&jR("AREAS")===zA.EXTENSIONS){const e=new pI(lC.PROHIBITED_OPERATION,"setArea is prohibited because of ap extensions");return n.onError(e),void oI.warning("setArea is prohibited because of ap extensions")}}UR("AREAS",r,t);const o=fU(r);Object.keys(o).map((e=>{UR(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?o[e][0]:o[e])})),oI.debug("set area success:",r.join(","))}catch(r){throw n.onError(r),r}n.onSuccess()}function bU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bU(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let SU=1;function wU(e,t,n,r,o){SU+=1;const i={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:SU,requestId:SU,version:NR,cname:n.cname},a={service_name:t,json_body:JSON.stringify(i)};let s,c,l=e[0];return TR((async()=>{s=Date.now();const e=await dU(l,{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(c=Date.now()-s,0!==e.code){const t=new pI(lC.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0,responseTime:c});throw oI.error(t.toString()),t}const n=JSON.parse(e.json_body);if(200!==n.code){const e=new pI(lC.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(n.code,", reason: ").concat(n.reason),{code:n.code,responseTime:c});throw oI.error(e.toString()),e}if(!n.servers||0===n.servers.length){const e=new pI(lC.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:n.code,responseTime:c});throw oI.error(e.toString()),e}const o=(u=t,{addressList:(i=n).servers.map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(jR("WORKER_DOMAIN"),":").concat(e.wss,"?serviceName=").concat(encodeURIComponent(u)))),workerToken:i.workerToken,vid:i.vid});var i,u;return jR("LIVE_STREAMING_ADDRESS")&&(o.addressList=jR("LIVE_STREAMING_ADDRESS")instanceof Array?jR("LIVE_STREAMING_ADDRESS"):[jR("LIVE_STREAMING_ADDRESS")]),TU(TU({},o),{},{responseTime:c})}),((r,o)=>(hI.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(r.addressList),firstSuccess:0===o,responseTime:c,serverIp:e[o%e.length]}),!1)),((r,o)=>(hI.apworkerEvent(n.sid,{success:!1,sc:r.data&&r.data.code||200,serviceName:t,responseTime:c,serverIp:e[o%e.length]}),!!(r.code!==lC.OPERATION_ABORTED&&r.code!==lC.UNEXPECTED_RESPONSE||r.data&&r.data.retry)&&(l=e[(o+1)%e.length],!0))),o)}let CU=1;function RU(e,t,n,r){let{url:o,areaCode:i}=e;const{clientId:a,sid:s}=t,c=Date.now();let l;const[u,d]=kU(t,i,[DO.CHOOSE_SERVER]);let h=GC.networkState;return TR((async()=>{h&&GC.networkState===jC.OFFLINE&&GC.onlineWaiter&&await Uh.race([GC.onlineWaiter,iR(r&&r.maxRetryTimeout||ER.maxRetryTimeout)]),h=GC.networkState;const{data:e,headers:i}=await dU(o,{data:u,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);l="1"===i.http3?1:-1,hI.reportResourceTiming(o,s),AU(e,o,t,c,[DO.CHOOSE_SERVER],l);const a=BO(e,DO.CHOOSE_SERVER);return OU(a),LO(a,o)}),(e=>(e&&hI.joinChooseServer(s,{lts:c,succ:!0,csAddr:o,opid:d,serverList:e.gatewayAddrs.map((e=>e.address)),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[DO.CHOOSE_SERVER].toString(),isHttp3:l,corssRegionTagReq:t.apRequestDetail,corssRegionTagRes:e.res.detail&&e.res.detail[38]}),!1)),(e=>e.code!==lC.OPERATION_ABORTED&&(e.code===lC.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(hI.joinChooseServer(s,{lts:c,succ:!1,csAddr:o,serverList:null,opid:d,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[DO.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:h}),isHttp3:l,corssRegionTagReq:t.apRequestDetail}),oI.warning("[".concat(a||"sid-".concat(s.slice(0,6)),"] Choose server network error, retry"),e),!0))),r)}function IU(e,t,n,r){let o,{url:i,areaCode:a,serviceIds:s}=e;const c=Date.now(),[l,u]=kU(t,a,s);let d;return TR((async()=>{d&&GC.networkState===jC.OFFLINE&&GC.onlineWaiter&&await Uh.race([GC.onlineWaiter,iR(r&&r.maxRetryTimeout||ER.maxRetryTimeout)]),d=GC.networkState;const{data:e,headers:a}=await dU(i,{data:l,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);o="1"===a.http3?1:-1,hI.reportResourceTiming(i,t.sid),AU(e,i,t,c,s,o);const u=BO(e,DO.CHOOSE_SERVER),h=BO(e,"proxy5"===t.cloudProxyServer?DO.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?DO.CLOUD_PROXY:DO.CLOUD_PROXY_FALLBACK);return OU(u),{gatewayInfo:LO(u,i),proxyInfo:h,url:i}}),(e=>(e.gatewayInfo&&hI.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:i,serverList:e.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,opid:u,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:s.toString(),isHttp3:o,corssRegionTagReq:t.apRequestDetail,corssRegionTagRes:e.gatewayInfo.res.detail&&e.gatewayInfo.res.detail[38]}),e.proxyInfo&&hI.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:i,turnServerAddrList:e.proxyInfo.addresses.map((e=>e.ip)).join(","),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:s.toString()}),!1)),(e=>e.code!==lC.OPERATION_ABORTED&&(e.code===lC.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(hI.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:i,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:s.toString(),extend:JSON.stringify({networkState:d})}),oI.warning("[".concat(t.clientId,"] multi unilbs network error, retry"),e),!0))),r)}const AU=(e,t,n,r,o,i)=>{const{sid:a,clientId:s,cloudProxyServer:c}=n,l=[],u=s=>{4096===s.flag?hI.joinChooseServer(a,{lts:r,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:s.error.message,csIp:s.error.data&&s.error.data.csIp,unilbsServerIds:o.toString(),isHttp3:i,corssRegionTagReq:n.apRequestDetail}):1048576!==s.flag&&4194304!==s.flag&&4194310!==s.flag||hI.joinWebProxyAP(a,{lts:r,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:s.error.code,eventType:c,unilbsServerIds:o.toString()})};if(e.response_body.forEach((t=>{const n=t.buffer.code;if(23===t.uri&&0===n&&!t.buffer.edges_services)if(4194310===t.buffer.flag)oI.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),t.buffer.edges_services=[];else{const n={error:new pI(lC.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};l.push(n),u(n)}if(0!==n){const r=fO(n),o={error:new pI(lC.CAN_NOT_GET_GATEWAY_SERVER,r.desc,{desc:r.desc,retry:r.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?oI.warning(o.error.toString()):l.push(o),u(o)}})),l.length)throw oI.warning("[".concat(s||"sid-".concat(a.slice(0,6)),"] multi unilbs ").concat(t," failed, ").concat(l.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message,", retry: ").concat(e.error.data.retry))).join(" | "))),new pI(lC.CAN_NOT_GET_GATEWAY_SERVER,l.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message))).join(" | "),{retry:!!l.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(l.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})},OU=e=>{var t,n,r,o;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new pI(lC.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:e.detail&&e.detail[502]});if(jR("AP_AREA")&&(null!==(r=e.detail)&&void 0!==r&&r[23]&&"string"==typeof(null===(o=e.detail)||void 0===o?void 0:o[23])?_U(e.detail[23].toLowerCase()):_U()),null!==(t=e.detail)&&void 0!==t&&t[19]&&"string"==typeof(null===(n=e.detail)||void 0===n?void 0:n[19])){const t=e.detail[19],n=null==t?void 0:t.split(";");for(let r=0;r<n.length;r++){var i;const t=Lp(i=n[r]).call(i);e.addresses[r]&&n&&(e.addresses[r].fingerprint=t)}}if(jR("GATEWAY_ADDRESS")&&jR("GATEWAY_ADDRESS").length>0){oI.debug("assign gateway address to",jR("GATEWAY_ADDRESS"));const t=jR("GATEWAY_ADDRESS").map((t=>{var n,r;const o=null!==(n=null===(r=e.addresses.find((e=>e.ip===t.ip&&e.port===t.port)))||void 0===r?void 0:r.fingerprint)&&void 0!==n?n:"";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:o}}));e.addresses=t}},NU=(e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=fO(t.buffer.code);throw new pI(lC.UPDATE_TICKET_FAILED,"[".concat(t.buffer.code,"]: ").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw oI.debug("update ticket request received ap response without response body:",t),new pI(lC.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},kU=(e,t,n)=>{const r=Math.floor(Math.random()*10**12),o={appid:e.appId,client_ts:Date.now(),opid:r,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:TU(TU({6:e.stringUid,11:t,12:jR("USE_NEW_TOKEN")?"1":void 0,22:t},e.apRequestDetail?{33:e.apRequestDetail}:{}),e.apRTM?{26:"RTM2"}:{}),key:e.token,service_ids:n,uid:e.uid||0}}]};o.request_bodies.forEach((t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));const i=new FormData;return i.append("request",JSON.stringify(o)),[i,r]},DU=(e,t)=>{const n=Math.floor(Math.random()*10**12),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:"",6:e.stringUid,12:"1"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((e=>({ip:e.ip,port:e.port})))}}]},o=new FormData;return o.append("request",JSON.stringify(r)),[o,n]};let xU=0;function PU(e){return Uh.all(e.map((e=>e.then((e=>{throw e}),(e=>e))))).then((e=>{throw e}),(e=>e))}const MU=async e=>{let{fragementLength:t,referenceList:n,asyncMapHandler:r,allFailedhandler:o,promisesCollector:i}=e,a=0;const s=t;let c,l=0;const u=async()=>{const e=(()=>{const e=a*s,t=e+s;return n.slice(e,t).map(r)})();i&&i.push(...e);try{c=await PU(e)}catch(t){if(l+=s,a++,!(l>=n.length))return void(await u());o(t)}e.forEach((e=>e.cancel()))};return await u(),c},LU=async e=>{let{referenceList:t,asyncMapHandler:n,closeFn:r}=e;const o=t.length;let i=0;const a=async()=>{const e=n(t.shift());try{return await e}catch(s){if(i++,i>=o||null!=r&&r(s))throw s;return a()}};return a()};async function UU(e,t,n,r){const o=async function(e,t,n,r){let o=null;const i=[],a=async()=>{const o=jR("WEBCS_DOMAIN").slice(0,jR("AJAX_REQUEST_CONCURRENT")).map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:hU()}))),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:o.map((e=>e.url))}),s=await MU({fragementLength:jR("FRAGEMENT_LENGTH"),referenceList:o,asyncMapHandler:r=>(oI.debug("[".concat(e.clientId,"] Connect to choose_server:"),r.url),RU(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:i});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),s},s=async()=>{if(await iR(1e3),null!==o)return o;const a=jR("WEBCS_DOMAIN_BACKUP_LIST").map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:hU()}))),s=r.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:a.map((e=>e.url))}),c=await MU({fragementLength:jR("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:r=>(oI.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),r.url),RU(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:i});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},s),c};try{return o=await PU([a(),s()]),i.length&&i.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),o}catch(c){throw c[0]}}(e,t,n,r);return{gatewayInfo:await o}}async function jU(e,t,n,r,o){const i=e.cloudProxyServer;if("disabled"===i){if(e.useLocalAccessPoint)return await UU(e,t,n,o);if(jR("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:r,proxyInfo:i}=await HU(e,t,n,o);if(e.turnServer&&"auto"!==e.turnServer.mode)return{gatewayInfo:r};const s=i.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||xR.tcpport,udpport:e.udpport||xR.udpport,username:e.username||xR.username,password:e.password||xR.password,forceturn:!1,security:!0})));if(o.useP2P){var a;const t=null!==(a=e.uid)&&void 0!==a?a:r.uid,n="glb:".concat(t.toString()),o=await wC(n),c=i.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||xR.tcpport,udpport:e.udpport||xR.udpport,username:n,password:o,forceturn:!1,security:!0})));s.push(...c)}return e.turnServer={mode:"manual",servers:s},{gatewayInfo:r}}return await UU(e,t,n,o)}const{proxyInfo:s,gatewayInfo:c}=await HU(e,t,n,o),l={gatewayInfo:c},u=s.map((e=>({turnServerURL:e.address,tcpport:"proxy3"===i?void 0:e.tcpport?e.tcpport:xR.tcpport,udpport:"proxy4"===i?void 0:e.udpport?e.udpport:xR.udpport,username:e.username||xR.username,password:e.password||xR.password,forceturn:"proxy4"!==i,security:"proxy5"===i})));if(o.useP2P){var d;const t=null!==(d=e.uid)&&void 0!==d?d:c.uid,n="glb:".concat(t.toString()),r=await wC(n),o=s.map((e=>({turnServerURL:e.address,tcpport:"proxy3"===i?void 0:e.tcpport||xR.tcpport,udpport:"proxy4"===i?void 0:e.udpport||xR.udpport,username:n,password:r,forceturn:"proxy4"!==i,security:"proxy5"===i})));u.push(...o)}return e.turnServer={mode:"manual",servers:u},oI.debug("[".concat(e.clientId,"] set proxy server: ").concat(e.proxyServer,", mode: ").concat(i)),l}async function VU(e,t,n,r,o){const i=jR("ACCOUNT_REGISTER").slice(0,jR("AJAX_REQUEST_CONCURRENT"));let a=[];a=t.proxyServer?i.map((e=>"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"))):i.map((e=>"https://".concat(e,"/api/v1")));const s=null==o?void 0:o.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:a});try{const i=await async function(e,t,n,r,o){const i=Date.now(),a={sid:n.sid,opid:10,appid:n.appId,string_uid:t};let s=e[0];const c=await TR((()=>dU(s+"".concat(-1===s.indexOf("?")?"?":"&","action=stringuid"),{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}})),((n,r)=>{if(0===n.code){if(n.uid<=0||n.uid>=Math.pow(2,32))throw oI.error("Invalid Uint Uid ".concat(t," => ").concat(n.uid),n),hI.reqUserAccount(a.sid,{lts:i,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:lC.INVALID_UINT_UID_FROM_STRING_UID,extend:a}),new pI(lC.INVALID_UINT_UID_FROM_STRING_UID);return hI.reqUserAccount(a.sid,{lts:i,success:!0,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:null,extend:a}),!1}const o=fO(n.code);return o.retry&&(s=e[(r+1)%e.length]),hI.reqUserAccount(a.sid,{lts:i,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:o.desc,extend:a}),o.retry}),((t,n)=>t.code!==lC.OPERATION_ABORTED&&(hI.reqUserAccount(a.sid,{lts:i,success:!1,serverAddr:s,stringUid:a.string_uid,uid:null,errorCode:t.code,extend:a}),s=e[(n+1)%e.length],!0)),o);if(0!==c.code){const e=fO(c.code);throw new pI(lC.UNEXPECTED_RESPONSE,e.desc)}return c}(a,e,t,n,r);return null==o||o.recordJoinChannelService({status:"success",endTs:Date.now()},s),i.uid}catch(c){throw null==o||o.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[c]},s),c}}async function BU(e,t,n){const r=jR("ACCOUNT_REGISTER");let o=[];o=t.proxyServer?r.map((e=>"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"))):r.map((e=>"https://".concat(e,"/api/v1")));try{return await LU({referenceList:o,asyncMapHandler:r=>async function(e,t,n,r){const o=Date.now(),i={sid:n.sid,opid:10,appid:n.appId,string_uid:t};try{const t=await dU(e+"".concat(-1===e.indexOf("?")?"?":"&","action=stringuid"),{data:i,cancelToken:r,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}});if(0!==t.code){const e=fO(t.code);throw new pI(lC.UNEXPECTED_RESPONSE,"preload sua error:".concat(e.desc),e)}if(t.uid<=0||t.uid>=Math.pow(2,32))throw new pI(lC.INVALID_UINT_UID_FROM_STRING_UID);return{requestTime:o,url:e,req:i,uid:t.uid,elapse:Date.now()-o}}catch(a){throw a}}(r,e,t,n),closeFn:e=>e.code===lC.OPERATION_ABORTED||e.code===lC.UNEXPECTED_RESPONSE&&!e.data.retry})}catch(i){throw i}}async function zU(e,t,n){const r=jR("CDS_AP").slice(0,jR("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1"):"https://".concat(t,"/api/v1?action=config"))).map((r=>function(e,t,n,r){const o=Dw(),i={flag:64,cipher_method:0,features:{device:o.name,system:o.os,system_general:navigator.userAgent,vendor:t.appId,version:NR,cname:t.cname,sid:t.sid,session_id:t.sid,detail:"",proxyServer:t.proxyServer}};return TR((()=>dU(e,{data:i,timeout:1e3,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}})),void 0,(e=>e.code!==lC.OPERATION_ABORTED),r)}(r,e,t,n)));let o=null,i=null,a={};try{o=await PU(r)}catch(s){if(s.code===lC.OPERATION_ABORTED)throw s;i=s}if(r.forEach((e=>e.cancel())),hI.reportApiInvoke(e.sid,{name:AC.REQUEST_CONFIG_DISTRIBUTE,options:{error:i,res:o}}).onSuccess(),o&&o.test_tags)try{a=function(e){if(!e.test_tags)return{};const t=e.test_tags,n=Object.keys(t),r={};return n.forEach((e=>{var n;const o=Lp(n=e.slice(4)).call(n),i=JSON.parse(t[e])[1];r[o]=i})),r}(o)}catch(s){}return a}async function FU(e,t){const n=jR("WEBCS_DOMAIN").concat(jR("WEBCS_DOMAIN_BACKUP_LIST")).map((e=>({url:"https://".concat(e,"/api/v2/transpond/webrtc?v=2"),areaCode:hU(),serviceIds:[DO.CHOOSE_SERVER,DO.CLOUD_PROXY_FALLBACK]})));try{return await LU({referenceList:n,asyncMapHandler:n=>async function(e,t,n){let r,{url:o,areaCode:i,serviceIds:a}=e;const s=Date.now(),[c,l]=kU(t,i,a);let u=GC.networkState;try{u&&GC.networkState===jC.OFFLINE&&GC.onlineWaiter&&await Uh.race([GC.onlineWaiter,iR(ER.maxRetryTimeout)]),u=GC.networkState;const{data:e,headers:t}=await dU(o,{data:c,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);r="1"===t.http3?1:-1,(e=>{const t=[];if(e.response_body.forEach((n=>{const r=n.buffer.code;if(23===n.uri&&0===r&&!n.buffer.edges_services)if(4194310===n.buffer.flag)n.buffer.edges_services=[];else{const r={error:new pI(lC.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:n.buffer.flag};t.push(r)}if(0!==r){const o=fO(r),i={error:new pI(lC.CAN_NOT_GET_GATEWAY_SERVER,o.desc,{desc:o.desc,retry:o.retry,csIp:e.detail[502]}),flag:n.buffer.flag};4194310===n.buffer.flag?oI.warning(i.error.toString()):t.push(i)}})),t.length)throw new pI(lC.CAN_NOT_GET_GATEWAY_SERVER,t.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message))).join(" | "),{retry:!!t.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(t.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})})(e);const i=BO(e,DO.CHOOSE_SERVER),a=BO(e,DO.CLOUD_PROXY_FALLBACK);return OU(i),{gatewayInfo:LO(i,o),proxyInfo:a,opid:l,requestTime:s,url:o,isHttp3:r,elapse:Date.now()-s}}catch(d){throw d}}(n,e,t),closeFn:e=>e.code===lC.OPERATION_ABORTED||e.code===lC.CAN_NOT_GET_GATEWAY_SERVER&&!e.data.retry})}catch(r){throw r}}async function HU(e,t,n,r){const o=jR("PROXY_SERVER_TYPE3"),i=(e,t,n)=>{let r=n||o;return Array.isArray(r)&&(r=t%2==0?o[1]:o[0]),"https://".concat(r,"/ap/?url=").concat(e)};let a=null;const s=[],c=async()=>{const o=jR("WEBCS_DOMAIN").slice(0,jR("AJAX_REQUEST_CONCURRENT")).map(((t,n)=>{let r;return r="disabled"===e.cloudProxyServer&&e.proxyServer?i("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):i("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:r,areaCode:hU(),serviceIds:[DO.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?DO.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?DO.CLOUD_PROXY:DO.CLOUD_PROXY_FALLBACK]}})),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:o.map((e=>e.url))}),c=await MU({fragementLength:jR("FRAGEMENT_LENGTH"),referenceList:o,asyncMapHandler:r=>(oI.debug("[".concat(e.clientId,"] Connect to choose_server:"),r.url),IU(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:s});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),c},l=async()=>{if(await iR(1e3),null!==a)return a;const o=jR("WEBCS_DOMAIN_BACKUP_LIST").map(((t,n)=>{let r;return r="disabled"===e.cloudProxyServer&&e.proxyServer?i("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):i("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:r,areaCode:hU(),serviceIds:[DO.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?DO.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?DO.CLOUD_PROXY:DO.CLOUD_PROXY_FALLBACK]}})),c=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:o.map((e=>e.url))}),l=await MU({fragementLength:jR("FRAGEMENT_LENGTH"),referenceList:o,asyncMapHandler:r=>(oI.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),r.url),IU(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},c),e[0]},promisesCollector:s});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},c),l};let u,d,h;try{({gatewayInfo:u,proxyInfo:d,url:h}=await PU([c(),l()]))}catch(p){throw p[0]}if(s.length&&s.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),!u||!d)throw new pI(lC.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(e.apUrl=h,"disabled"!==e.cloudProxyServer&&Array.isArray(o)&&h){const t=/^https?:\/\/(.+?)(\/.*)?$/.exec(h)[1];Or(o).call(o,t)&&(e.proxyServer=t,oI.setProxyServer(t),hI.setProxyServer(t))}return a={gatewayInfo:u,proxyInfo:await zO(d,u.uid)},a}async function GU(e,t,n){const r=jR("UAP_AP").slice(0,jR("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1?action=uap"):"https://".concat(t,"/api/v1?action=uap"))).map((r=>function(e,t,n,r){const o={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:NR,cname:t.cname,uid:t.uid.toString(),requestId:CU,seq:CU};CU+=1;const i={service_name:"tele_channel",json_body:JSON.stringify(o)};return TR((async()=>{const t=await dU(e,{data:i,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(0!==t.code){const e=new pI(lC.UNEXPECTED_RESPONSE,"cross channel ap error, code"+t.code,{retry:!0});throw oI.error(e.toString()),e}const r=JSON.parse(t.json_body);if(200!==r.code){const e=new pI(lC.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(r.code,", reason: ").concat(r.reason));throw oI.error(e.toString()),e}if(!r.servers||0===r.servers.length){const e=new pI(lC.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw oI.error(e.toString()),e}return{vid:r.vid,workerToken:r.workerToken,addressList:(jR("CHANNEL_MEDIA_RELAY_SERVERS")||r.servers).map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(jR("WORKER_DOMAIN"),":").concat(e.wss)))}}),void 0,(e=>!!(e.code!==lC.OPERATION_ABORTED&&e.code!==lC.UNEXPECTED_RESPONSE||e.data&&e.data.retry)),r)}(r,e,t,n)));try{const e=await PU(r);return r.forEach((e=>e.cancel())),e}catch(o){throw o[0]}}async function WU(e,t,n){let r=null;const o=[],i=async i=>{const a=jR(i?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2")));return i&&(await iR(1e3),null!==r)?r:await MU({fragementLength:jR("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:r=>(oI.debug("[".concat(e.clientId,"] update ticket, Connect to ").concat(i?"backup":""," choose_server:"),r),function(e,t,n,r){const[o]=DU(t,[DO.CHOOSE_SERVER]);let i=GC.networkState;return TR((async()=>{i&&GC.networkState===jC.OFFLINE&&GC.onlineWaiter&&await Uh.race([GC.onlineWaiter,iR(r&&r.maxRetryTimeout||ER.maxRetryTimeout)]),i=GC.networkState;const t=await dU(e,{data:o,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0);return NU(t,e)}),(()=>!1),(e=>e.code!==lC.OPERATION_ABORTED&&(e.code===lC.UPDATE_TICKET_FAILED?e.data.retry:(oI.warning("[".concat(t.clientId,"] update ticket network error, retry"),e),!0))),r)}(r,e,t,n)),allFailedhandler:e=>{throw e[0]},promisesCollector:o})};try{return r=await PU([i(!1),i(!0)]),o.length&&o.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),r}catch(a){throw a[0]}}function qU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qU(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class YU extends CC{get isSuccess(){return!!this.configs}constructor(e){super(),OE(this,"configs",void 0),OE(this,"joinInfo",void 0),OE(this,"cancelToken",void 0),OE(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),OE(this,"interval",void 0),OE(this,"mutex",void 0),OE(this,"mutableParamsRead",!1),this.mutex=new yR("config-distribute",e)}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),jR("ENABLE_CONFIG_DISTRIBUTE")&&(this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),jR("CONFIG_DISTRIBUTE_INTERVAL")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,hI.reportApiInvoke(null,{options:void 0,name:AC.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:OC.TRACER}).onSuccess(JSON.stringify(VR))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void oI.debug("[config-distribute] get config distribute interrupted have no joininfo");let e;const t=await this.mutex.lock();try{e=await zU(this.joinInfo,this.cancelToken,this.retryConfig),oI.debug("[config-distribute] get config distribute",JSON.stringify(e)),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e}catch(n){const e=new pI(lC.NETWORK_RESPONSE_ERROR,n);oI.warning("[config-distribute] ".concat(e.toString()))}finally{t()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(WA.UPDATE_BITRATE_LIMIT,e):this.emit(WA.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&KU({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var t;const n=Qf(t=Object.keys(e).filter((e=>/^webrtc_ng_global_parameter/.test(e)))).call(t);for(let i=0;i<n.length;i++)for(let t=n.length-1;t>i;t--){const r=n[t];if("number"==typeof e[r].__priority){const o=e[r].__priority,i=n[t-1];if("number"==typeof e[i].__priority){if(!(o>e[i].__priority))continue;{const e=r;n[t]=n[t-1],n[t-1]=e}}else{const e=r;n[t]=n[t-1],n[t-1]=e}}}const r={};n.forEach((t=>{const n=e[t],o=n.__expires;Object.keys(n).forEach((e=>{"__priority"===e||"__expires"===e||Object.prototype.hasOwnProperty.call(r,e)||(r[e]=KU({value:n[e]},o&&{expires:o}))}))}));try{!function(e){try{const t=Date.now();Object.keys(e).forEach((n=>{switch(n){case"ENABLE_EVENT_REPORT":case"UPLOAD_LOG":case"ENABLE_AG_ADAPTATION":case"FORCE_AG_HIGH_FRAMERATE":case"FORCE_SUPPORT_AG_ADAPTATION":case"ENCODER_CONFIG_LIMIT":case"CAMERA_CAPTURE_CONFIG":case"ENABLE_PRELOAD":if(Object.prototype.hasOwnProperty.call(LR,n)){const{value:r,expires:o}=e[n];if(o&&o<=t)return;VR[n]=r,LR[n]=r,oI.debug("Update global parameters from config distribute",n,r)}}}))}catch(t){oI.error("Error update config immediately: ".concat(e),t.message)}}(r);const e=JSON.stringify(r),t=window.btoa(e);window.localStorage.setItem("websdk_ng_global_parameter",t),oI.debug("Caching global parameters ".concat(e))}catch(o){oI.error("Error caching global parameters:",o.message)}}}class XU extends CC{constructor(){super(...arguments),OE(this,"resultStorage",new Map)}setLocalAudioStats(e,t,n){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",e,this.checkAudioInputLevel(n,t)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",e,this.checkSendAudioBitrate(n,t))}setLocalVideoStats(e,t,n){this.record("SEND_VIDEO_BITRATE_TOO_LOW",e,this.checkSendVideoBitrate(n,t)),this.record("FRAMERATE_INPUT_TOO_LOW",e,this.checkFramerateInput(n,t)),this.record("FRAMERATE_SENT_TOO_LOW",e,this.checkFramerateSent(n))}setRemoteAudioStats(e,t){const n=e.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",n,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const n=e.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",n,this.checkVideoDecode(t))}record(e,t,n){if(jR("STATS_UPDATE_INTERVAL")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const r=this.resultStorage.get(e);if(r&&(r.result.push(n),r.result.length>=5)){var o;const n=Or(o=r.result).call(o,!0);r.isPrevNormal&&!n&&this.emit("exception",$U[e],e,t),!r.isPrevNormal&&n&&this.emit("exception",$U[e]+2e3,e+"_RECOVER",t),r.isPrevNormal=n,r.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof sM&&!t.isActive||!!t.muted||0!==e.sendVolumeLevel}checkFramerateInput(e,t){let n=null;t._encoderConfig&&t._encoderConfig.frameRate&&(n=UO(t._encoderConfig.frameRate));const r=e.captureFrameRate;return!n||!r||!(n>10&&r<5||n<10&&n>=5&&r<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof sM&&!t.isActive||!!t.muted||0!==e.sendBitrate}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const $U={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},JU=new class{markSubscribeStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/subscribe-").concat(t))}markPublishStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/publish-").concat(t))}measureFromSubscribeStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/subscribe-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/publish-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}};var ZU=n(ne.Object.getOwnPropertySymbols),QU=On,ej=Kn.indexOf,tj=jr,nj=w([].indexOf),rj=!!nj&&1/nj([1],1,-0)<0;QU({target:"Array",proto:!0,forced:rj||!tj("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return rj?nj(this,e,t)||0:ej(this,e,t)}});var oj=$n("Array").indexOf,ij=u,aj=oj,sj=Array.prototype,cj=n((function(e){var t=e.indexOf;return e===sj||ij(sj,e)&&t===sj.indexOf?aj:t}));function lj(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=NI(e);for(r=0;r<i.length;r++)n=i[r],cj(t).call(t,n)>=0||(o[n]=e[n]);return o}(e,t);if(ZU){var i=ZU(e);for(r=0;r<i.length;r++)n=i[r],cj(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function uj(e){if(Array.isArray(e))return e.map((e=>e));if(!dj(e))return e;const t={};for(const n in e){const r=e[n];dj(r)||Array.isArray(r)?t[n]=uj(r):t[n]=r}return t}function dj(e){return!("object"!=typeof e||Array.isArray(e)||!e)}class hj{constructor(e){OE(this,"input",[]),OE(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const pj={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},fj={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:pj,remoteCandidate:pj},updateInterval:0},mj={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0,packetsDiscarded:0,framesAssembledFromMultiplePackets:0,totalProcessingDelay:0,avgDecodeMs:0,avgFramesAssembledFromMultiplePacketsMs:0,avgProcessingDelayMs:0,avgInterFrameDelayMs:0,totalAssemblyTime:0},gj={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},vj={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},yj={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function _j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ej(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_j(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class bj{constructor(e,t){OE(this,"onFirstVideoReceived",void 0),OE(this,"onFirstVideoDecoded",void 0),OE(this,"onFirstAudioReceived",void 0),OE(this,"onFirstVideoDecodedTimeout",void 0),OE(this,"onFirstAudioDecoded",void 0),OE(this,"onSelectedLocalCandidateChanged",void 0),OE(this,"onSelectedRemoteCandidateChanged",void 0),OE(this,"videoIsReady",!1),OE(this,"videoIsReady2",{}),OE(this,"pc",void 0),OE(this,"options",void 0),OE(this,"intervalTimer",void 0),OE(this,"stats",uj(fj)),OE(this,"isFirstVideoReceived",{}),OE(this,"isFirstVideoDecoded",{}),OE(this,"isFirstAudioReceived",{}),OE(this,"isFirstAudioDecoded",{}),OE(this,"isFirstVideoDecodedTimeout",{}),OE(this,"lossRateWindowStats",[]),this.pc=e,this.options=t,this.intervalTimer=window.setInterval((async()=>{this.updateStats()}),this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new Uh((e=>{e({local:Ej({},pj),remote:Ej({},pj)})}))}setVideoIsReady(e){this.videoIsReady=e}setVideoIsReady2(e,t){this.videoIsReady2[e]=t}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const t=this.lossRateWindowStats.length,n=["videoSend","audioSend","videoRecv","audioRecv"];let r=0,o=0,i=0,a=0;for(const s of n)e[s].forEach(((e,n)=>{if(!this.lossRateWindowStats[t-1][s][n]||!this.lossRateWindowStats[0][s][n])return;const c=this.lossRateWindowStats[t-1][s][n].packets-this.lossRateWindowStats[0][s][n].packets,l=this.lossRateWindowStats[t-1][s][n].packetsLost-this.lossRateWindowStats[0][s][n].packetsLost;"videoSend"===s||"audioSend"===s?(r+=c,i+=l):(o+=c,a+=l),Number.isNaN(c)||Number.isNaN(c)?e.packetLostRate=0:e.packetLostRate=c<=0||l<=0?0:l/(c+l)}));e.sendPacketLossRate=r<=0||i<=0?0:i/(r+i),e.recvPacketLossRate=o<=0||a<=0?0:a/(o+a)}}function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tj(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class wj extends bj{constructor(){super(...arguments),OE(this,"_stats",fj),OE(this,"lastDecodeVideoReceiverStats",new Map)}async updateStats(){const e=await this._getStats(),t=this.statsResponsesToObjects(e);this._stats=uj(fj);const n=t.filter((e=>"ssrc"===e.type));this.processSSRCStats(n);const r=t.find((e=>"VideoBwe"===e.type));r&&this.processBandwidthStats(r),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}processSSRCStats(e){e.forEach((e=>{var t;const n=Or(t=e.id).call(t,"send");switch("".concat(e.mediaType,"_").concat(n?"send":"recv")){case"video_send":{const t=uj(gj);t.codec=e.googCodecName,t.adaptionChangeReason="none",e.googCpuLimitedResolution&&(t.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(t.adaptionChangeReason="bandwidth"),t.avgEncodeMs=Number(e.googAvgEncodeMs),t.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.firsCount=Number(e.googFirReceived),t.nacksCount=Number(e.googNacksReceived),t.plisCount=Number(e.googPlisReceived),t.frameCount=Number(e.framesEncoded),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.videoSend.push(t),this._stats.rtt=t.rttMs;break}case"video_recv":{const t=uj(mj),n=this.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(t.codec=e.googCodecName,t.targetDelayMs=Number(e.googTargetDelayMs),t.renderDelayMs=Number(e.googRenderDelayMs),t.currentDelayMs=Number(e.googCurrentDelayMs),t.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),t.decodeMs=Number(e.googDecodeMs),t.maxDecodeMs=Number(e.googMaxDecodeMs),t.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},t.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},t.decodeFrameRate=Number(e.googFrameRateDecoded),t.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},t.jitterBufferMs=Number(e.googJitterBufferMs),t.firsCount=Number(e.googFirsSent),t.nacksCount=Number(e.googNacksSent),t.plisCount=Number(e.googPlisSent),t.framesDecodeCount=Number(e.framesDecoded),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,t.decodedFrame.width,t.decodedFrame.height),this.isFirstVideoDecoded[t.ssrc]=!0),n){const r=n.stats,o=Date.now()-n.lts;t.framesDecodeFreezeTime=r.framesDecodeFreezeTime,t.framesDecodeInterval=r.framesDecodeInterval,t.framesDecodeCount>r.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=o,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc,10))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<n.stats.framesDecodeCount&&(t.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:Sj({},t),lts:Date.now()}),this._stats.videoRecv.push(t);break}case"audio_recv":{const t=uj(yj);t.codec=e.googCodecName,t.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,t.decodingCNG=Number(e.googDecodingCNG),t.decodingCTN=Number(e.googDecodingCTN),t.decodingCTSG=Number(e.googDecodingCTSG),t.decodingNormal=Number(e.googDecodingNormal),t.decodingPLC=Number(e.googDecodingPLC),t.decodingPLCCNG=Number(e.googDecodingPLCCNG),t.expandRate=Number(e.googExpandRate),t.accelerateRate=Number(e.googAccelerateRate),t.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),t.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),t.speechExpandRate=Number(e.googSpeechExpandRate),t.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),t.jitterBufferMs=Number(e.googJitterBufferMs),t.jitterMs=Number(e.googJitterReceived),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),t.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.decodingNormal>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),this._stats.audioRecv.push(t);break}case"audio_send":{const t=uj(vj);t.codec=e.googCodecName,t.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,t.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),t.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),t.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),t.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.rtt=t.rttMs,this._stats.audioSend.push(t);break}}}))}_getStats(){return new Uh(((e,t)=>{this.pc.getStats(e,t)}))}statsResponsesToObjects(e){const t=[];return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t.push(n)})),t}}var Cj=function(e){return e[e.kNone=1]="kNone",e[e.kMillisecondsFromSeconds=1e3]="kMillisecondsFromSeconds",e[e.kBytesToBits=8]="kBytesToBits",e}(Cj||{});function Rj(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cj.kNone;if(!t)return;const i=Number(t[n]);if("number"!=typeof i)return;const a=Number(t[r]);if("number"!=typeof a)return;if(!e)return a?i/a*o:void 0;const s=Number(e[n]);if("number"!=typeof s)return;const c=Number(e[r]);if("number"!=typeof c)return;const l=a-c;return l?(i-s)/l*o:void 0}function Ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ij(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Oj extends bj{constructor(){super(...arguments),OE(this,"_stats",fj),OE(this,"report",void 0),OE(this,"lastDecodeVideoReceiverStats",new Map),OE(this,"lastVideoFramesRecv",new Map),OE(this,"lastVideoFramesSent",new Map),OE(this,"lastVideoFramesDecode",new Map),OE(this,"lastVideoFramesOutput",new Map),OE(this,"lastVideoJBDelay",new Map),OE(this,"lastAudioJBDelay",new Map),OE(this,"mediaBytesSent",new Map),OE(this,"mediaBytesRetransmit",new Map),OE(this,"mediaBytesTargetEncode",new Map),OE(this,"lastDecodeAudioReceiverStats",new Map),OE(this,"lastEncoderMs",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=uj(fj),this.report.forEach((e=>{switch(e.type){case lA.OUTBOUND:case lA.INBOUND:{const t=e.mediaType||e.kind,n=!t&&"frameWidth"in e,r=!t&&!("frameWidth"in e);e.type===lA.OUTBOUND?"audio"===t||r?this.processAudioOutboundStats(e):("video"===t||n)&&this.processVideoOutboundStats(e):e.type===lA.INBOUND&&("audio"===t||r?this.processAudioInboundStats(e):("video"===t||n)&&this.processVideoInboundStats(e));break}case lA.TRANSPORT:{const t=this.report.get(e.selectedCandidatePairId);t&&this.processCandidatePairStats(t);break}case lA.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.updateInterval=Date.now()-this.stats.timestamp,this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const e=await this.pc.getStats(),t={local:Aj({},pj),remote:Aj({},pj)};return e.forEach((n=>{let r;if(n.type===lA.TRANSPORT&&(r=e.get(n.selectedCandidatePairId)),n.type===lA.CANDIDATE_PAIR&&n.selected&&(r=n),r){const n=(e,t)=>{e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)};if(r.localCandidateId){const o=e.get(r.localCandidateId);o&&n(t.local,o)}if(r.remoteCandidateId){const o=e.get(r.remoteCandidateId);o&&n(t.remote,o)}}})),t}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){const t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){const t=this.report.get(e.remoteCandidateId);t&&this.processCandidateStats(t)}}processCandidateStats(e){let t;e.type===lA.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===lA.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===lA.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(Aj({},t),Aj({},this.stats.selectedCandidatePair.localCandidate)),e.type===lA.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(Aj({},t),Aj({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e){let t=this._stats.audioRecv.find((t=>t.ssrc===e.ssrc));t||(t=uj(yj),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.packetsDiscarded=e.packetsDiscarded,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,t.retransmittedBytesReceived=e.retransmittedBytesReceived,t.retransmittedPacketsReceived=e.retransmittedPacketsReceived,t.totalProcessingDelay=e.totalProcessingDelay,t.jitterBufferEmittedCount=e.jitterBufferEmittedCount;const n=this.lastDecodeAudioReceiverStats.get(t.ssrc);t.avgProcessingDelayMs=Rj(n,t,"totalProcessingDelay","jitterBufferEmittedCount",Cj.kMillisecondsFromSeconds),this.processAudioTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),"number"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples),this.lastDecodeAudioReceiverStats.set(t.ssrc,Aj({},t))}processVideoInboundStats(e){let t=this._stats.videoRecv.find((t=>t.ssrc===e.ssrc));t||(t=uj(mj),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.framesDroppedCount=e.framesDropped,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay,t.totalFreezesDuration=e.totalFreezesDuration,t.totalProcessingDelay=e.totalProcessingDelay,t.packetsDiscarded=e.packetsDiscarded,t.framesAssembledFromMultiplePackets=e.framesAssembledFromMultiplePackets,t.totalAssemblyTime=e.totalAssemblyTime,t.keyFramesDecoded=e.keyFramesDecoded,t.retransmittedBytesReceived=e.retransmittedBytesReceived,t.retransmittedPacketsReceived=e.retransmittedPacketsReceived;const n=this.lastDecodeVideoReceiverStats.get(t.ssrc),r=this.lastVideoFramesDecode.get(t.ssrc),o=this.lastVideoFramesOutput.get(t.ssrc),i=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){const e=t.decodedFrame?t.decodedFrame.width:0,n=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,e,n),this.isFirstVideoDecoded[t.ssrc]=!0}if(n){const r=n.stats,o=i-n.lts;t.framesDecodeFreezeTime=r.framesDecodeFreezeTime,t.framesDecodeInterval=r.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&o>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>r.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=o,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<r.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(n.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-n.qpSum)/(e.framesDecoded-n.stats.framesDecodeCount))}e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime,t.avgDecodeMs=Rj(null==n?void 0:n.stats,t,"decodeMs","framesDecodeCount")),t.avgProcessingDelayMs=Rj(null==n?void 0:n.stats,t,"totalProcessingDelay","framesDecodeCount",Cj.kMillisecondsFromSeconds),t.avgFramesAssembledFromMultiplePacketsMs=Rj(null==n?void 0:n.stats,t,"totalAssemblyTime","framesAssembledFromMultiplePackets",Cj.kMillisecondsFromSeconds),t.avgInterFrameDelayMs=Rj(null==n?void 0:n.stats,t,"totalInterFrameDelay","framesDecodeCount",Cj.kMillisecondsFromSeconds),r&&i-r.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-r.count)/((i-r.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:i,rate:t.decodeFrameRate})):r?t.decodeFrameRate=r.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:i,rate:0}),t.framesDroppedCount&&e.framesReceived&&(o&&i-o.lts>=800?(t.outputFrameRate=Math.round((e.framesReceived-t.framesDroppedCount-o.count)/((i-o.lts)/1e3)),this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:i,rate:Math.max(t.outputFrameRate,0)})):o?t.outputFrameRate=o.rate:this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:i,rate:0})),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:Aj({},t),lts:n?n.lts:Date.now(),qpSum:e.qpSum})}processVideoOutboundStats(e){let t=this._stats.videoSend.find((t=>t.ssrc===e.ssrc));t||(t=uj(gj),this._stats.videoSend.push(t));const n=this.mediaBytesSent.get(e.ssrc);if(n)n.add(e.bytesSent);else{const t=new hj(10);t.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,t)}if(void 0!==e.retransmittedBytesSent){const t=this.mediaBytesRetransmit.get(e.ssrc);if(t)t.add(e.retransmittedBytesSent);else{const t=new hj(10);t.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,t)}}if(e.totalEncodedBytesTarget){const t=this.mediaBytesTargetEncode.get(e.ssrc);if(t)t.add(e.totalEncodedBytesTarget);else{const t=new hj(10);t.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,t)}}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,t.retransmittedBytesSent=e.retransmittedBytesSent,t.retransmittedPacketsSent=e.retransmittedPacketsSent,t.hugeFramesSent=e.hugeFramesSent,t.keyFramesEncoded=e.keyFramesEncoded,e.totalEncodeTime&&e.framesEncoded){const n=this.lastEncoderMs.get(e.ssrc);if(!n||n.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{const r=e.framesEncoded-n.lastFrameCount,o=e.totalEncodeTime-n.lastEncoderTime;t.avgEncodeMs=1e3*o/r}}if(e.framesEncoded&&e.qpSum){const n=this.lastEncoderMs.get(e.ssrc);!n||n.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-n.lastQpSum)/(e.framesEncoded-n.lastFrameCount)}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const n=this.findRemoteStatsId(e.ssrc,lA.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}}processAudioOutboundStats(e){let t=this._stats.audioSend.find((t=>t.ssrc===e.ssrc));if(t||(t=uj(vj),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,t.retransmittedBytesSent=e.retransmittedBytesSent,t.retransmittedPacketsSent=e.retransmittedPacketsSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const n=this.findRemoteStatsId(e.ssrc,lA.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}}findRemoteStatsId(e,t){var n;const r=Array.from(QO(n=this.report).call(n)).find((n=>n.type===t&&n.ssrc===e));return r?r.id:null}processVideoMediaSource(e,t){const n=this.report.get(e);n&&n.width&&n.height&&n.framesPerSecond&&(t.inputFrame={width:n.width,height:n.height,frameRate:n.framesPerSecond})}processAudioMediaSource(e,t){const n=this.report.get(e);n&&(t.inputLevel=n.audioLevel)}processVideoTrackSenderStats(e,t,n){var r,o,i,a;const s=t?this.report.get(t):void 0,c=null!==(r=null==s?void 0:s.framesSent)&&void 0!==r?r:e.framesSent;if("number"!=typeof c)return;let l=null!==(o=null==s?void 0:s.frameWidth)&&void 0!==o?o:e.frameWidth,u=null!==(i=null==s?void 0:s.frameHeight)&&void 0!==i?i:e.frameHeight,d=null!==(a=null==s?void 0:s.framesPerSecond)&&void 0!==a?a:e.framesPerSecond;if("number"==typeof l&&"number"==typeof u||(l=0,u=0),null==d){const e=Date.now(),t=this.lastVideoFramesSent.get(n.ssrc);t&&e-t.lts>=800?(d=Math.round((c-t.count)/((e-t.lts)/1e3)),this.lastVideoFramesSent.set(n.ssrc,{count:c,lts:e,rate:d})):t?d=t.rate:this.lastVideoFramesSent.set(n.ssrc,{count:c,lts:e,rate:0})}n.sentFrame={width:l,height:u,frameRate:Math.max(0,d)}}processVideoTrackReceiverStats(e,t,n){var r,o,i,a,s;const c=t?this.report.get(t):void 0,l=null!==(r=null==c?void 0:c.framesReceived)&&void 0!==r?r:e.framesReceived,u=null!==(o=null==c?void 0:c.frameWidth)&&void 0!==o?o:e.frameWidth,d=null!==(i=null==c?void 0:c.frameHeight)&&void 0!==i?i:e.frameHeight,h=null!==(a=null==c?void 0:c.jitterBufferDelay)&&void 0!==a?a:e.jitterBufferDelay,p=null!==(s=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==s?s:e.jitterBufferEmittedCount;if("number"==typeof l){const e=this.lastVideoFramesRecv.get(n.ssrc),t=Date.now();n.framesReceivedCount=l;let r=0;e&&t-e.lts>=800?(r=Math.round((l-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesRecv.set(n.ssrc,{count:l,lts:t,rate:r})):e?r=e.rate:this.lastVideoFramesRecv.set(n.ssrc,{count:l,lts:t,rate:0}),n.receivedFrame={width:u||0,height:d||0,frameRate:r||0},n.decodedFrame={width:u||0,height:d||0,frameRate:n.decodeFrameRate||0},n.outputFrame={width:u||0,height:d||0,frameRate:n.outputFrameRate||n.decodeFrameRate||0}}if(h&&p){const e=this.lastVideoJBDelay.get(n.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const r=p-e.jitterBufferEmittedCount;r>0&&(t=1e3*(h-e.jitterBufferDelay)/r),n.jitterBufferMs=t,n.currentDelayMs=Math.round(t),this.lastVideoJBDelay.set(n.ssrc,{jitterBufferDelay:h,jitterBufferEmittedCount:p,jitterBufferMs:n.currentDelayMs})}}processAudioTrackSenderStats(e,t,n){var r,o,i,a;const s=t?this.report.get(t):void 0,c=null!==(r=null!==(o=null==s?void 0:s.echoReturnLoss)&&void 0!==o?o:e.echoReturnLoss)&&void 0!==r?r:0,l=null!==(i=null!==(a=null==s?void 0:s.echoReturnLossEnhancement)&&void 0!==a?a:e.echoReturnLossEnhancement)&&void 0!==i?i:0;n.aecReturnLoss=c,n.aecReturnLossEnhancement=l}processAudioTrackReceiverStats(e,t,n){var r,o,i,a,s,c,l;const u=t?this.report.get(t):void 0,d=null!==(r=null==u?void 0:u.removedSamplesForAcceleration)&&void 0!==r?r:e.removedSamplesForAcceleration,h=null!==(o=null==u?void 0:u.totalSamplesReceived)&&void 0!==o?o:e.totalSamplesReceived,p=null!==(i=null==u?void 0:u.jitterBufferDelay)&&void 0!==i?i:e.jitterBufferDelay,f=null!==(a=null==u?void 0:u.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount,m=null!==(s=null==u?void 0:u.audioLevel)&&void 0!==s?s:null==e?void 0:e.audioLevel,g=null!==(c=null==u?void 0:u.totalSamplesDuration)&&void 0!==c?c:null==e?void 0:e.totalSamplesDuration,v=null!==(l=null==u?void 0:u.concealedSamples)&&void 0!==l?l:e.concealedSamples;if(d&&h&&(n.accelerateRate=d/h),p&&f){const e=this.lastAudioJBDelay.get(n.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const r=f-e.jitterBufferEmittedCount;r>0&&(t=1e3*(p-e.jitterBufferDelay)/r),n.jitterBufferMs=Math.round(t),this.lastAudioJBDelay.set(n.ssrc,{jitterBufferDelay:p,jitterBufferEmittedCount:f,jitterBufferMs:n.jitterBufferMs})}n.outputLevel=m;let y=1920;g&&h&&(y=h/g/50,n.receivedFrames=Math.round(h/y)),v&&(n.droppedFrames=Math.round(v/y))}processRemoteInboundStats(e,t){const n=this.report.get(e);n&&(t.packetsLost=n.packetsLost,n.roundTripTime&&(t.rttMs=1e3*n.roundTripTime),n.jitter&&(t.jitterMs=1e3*n.jitter),n.timestamp&&(t.timestamp=n.timestamp))}getCodecFromCodecStats(e){const t=this.report.get(e);if(!t)return"";const n=t.mimeType.match(/\/(.*)$/);return n&&n[1]?n[1]:""}updateSendBitrate(){let e=0,t=null,n=null;this.mediaBytesSent.forEach((t=>{e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((e=>{t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((e=>{n=null===n?e.diffMean():n+e.diffMean()}));const r=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*r/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==n&&(this._stats.bitrate.targetEncoded=8*n/(this.options.updateInterval/1e3))}}class Nj extends bj{updateStats(){return Uh.resolve()}}function kj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const i=function(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return e&&e[0]?Number(e[0].split("/")[1]):null}();return i?i<76?new wj(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:o}):new Oj(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:o}):function(e){if(!window.RTCStatsReport)return!1;const t=e.getStats();return!(!(t instanceof Uh)&&(n=t,!n||"object"!=typeof n&&"function"!=typeof n||"function"!=typeof n.then));var n}(e)?new Oj(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:o}):new Nj(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:o})}let Dj=class{get localCapabilities(){return YC(this._localCapabilities)}get rtpCapabilities(){return YC(this._rtpCapabilities)}get candidates(){return YC(this._candidates)}get iceParameters(){return YC(this._iceParameters)}get dtlsParameters(){return YC(this._dtlsParameters)}constructor(e){OE(this,"sessionDesc",void 0),OE(this,"_localCapabilities",void 0),OE(this,"_rtpCapabilities",void 0),OE(this,"_candidates",void 0),OE(this,"_iceParameters",void 0),OE(this,"_dtlsParameters",void 0),OE(this,"setup",void 0),OE(this,"currentMidIndex",void 0),OE(this,"cname","o/i14u9pJrxRKAsu"),OE(this,"firefoxSsrcMidMap",new Map),e=YC(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:o,localCapabilities:i,direction:a,setup:s,videoCodec:c,audioCodec:l}=e;let u;this.setup=s,u=a===EA.RECEIVE_ONLY?CL.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"):CL.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"),this._rtpCapabilities=o,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=i;const d=a===EA.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,h=a===EA.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,p=a===EA.RECEIVE_ONLY?o.send.videoCodecs:JL(YA.VIDEO,d,h,c),f=a===EA.RECEIVE_ONLY?o.send.audioCodecs:JL(YA.AUDIO,d,h,l);for(const m of u.mediaDescriptions)m.attributes.iceUfrag=t.iceUfrag,m.attributes.icePwd=t.icePwd,m.attributes.fingerprints=n.fingerprints,m.attributes.candidates=r,m.attributes.setup=this.setup,"application"===m.media.mediaType&&(m.attributes.sctpPort="5000"),"video"===m.media.mediaType&&(m.media.fmts=p.map((e=>e.payloadType.toString(10))),m.attributes.payloads=p,m.attributes.extmaps=d.videoExtensions),"audio"===m.media.mediaType&&(m.media.fmts=f.map((e=>e.payloadType.toString(10))),m.attributes.payloads=f,m.attributes.extmaps=d.audioExtensions,$L(m));this.sessionDesc=u,this.currentMidIndex=u.mediaDescriptions.length-1}toString(){return CL.print(this.sessionDesc)}hasMid(e){return Array.isArray(e)?e.every((e=>this.hasMid(e))):this.sessionDesc.mediaDescriptions.some((t=>t.attributes.mid===e))}send(e,t,n,r,o){n=n.replace(/ /g,"-");const{ssrcs:i,ssrcGroups:a}=VL(t,this.cname,jR("SYNC_GROUP")?n:void 0),s=this.findPreloadMediaDesc(i);if(s){if(Bw()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,s.attributes.mid),o&&(o.twcc||o.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(s);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(s,o),{mid:s.attributes.mid,needExchangeSDP:!0}}return{mid:s.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,i,r);let n;return-1===t?(n=this.createOrRecycleSendMedia(e,i,a,"sendonly",r,o),this.updateBundleMids()):(n=YC(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=i,n.attributes.ssrcGroups=a,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,o)),Bw()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,n.attributes.mid),{needExchangeSDP:!0,mid:n.attributes.mid}}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{e.attributes.ssrcs=[]})),this.updateBundleMids()}receive(e,t,n){const r=[];return e.forEach((e=>{const o=e._mediaStreamTrack.kind,i=this.findAvailableRecvMediaIndex(o);let a,s=!1;-1===i?(s=!0,a=this.createOrRecycleRecvMedia(e,[],"recvonly",t,n),this.updateBundleMids()):(a=YC(this.sessionDesc.mediaDescriptions[i]),a.attributes.direction="recvonly"),r.push({mid:a.attributes.mid,needCreateTransceiver:s})})),r}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}addRemoteCandidate(e){const{foundation:t,protocol:n,address:r,port:o,type:i,relatedAddress:a,relatedPort:s,priority:c}=new RTCIceCandidate(e),l={foundation:null!=t?t:"",componentId:"1",transport:null!=n?n:"",priority:c?c+"":"",connectionAddress:null!=r?r:"",port:o?o+"":"",type:i?i+"":"",relAddr:null!=a?a:"",relPort:s?s+"":"",extension:{}};this.candidates.some((e=>e.priority===l.priority&&e.connectionAddress===l.connectionAddress&&e.port===l.port))||(this._candidates.push(l),this.sessionDesc.mediaDescriptions.forEach((e=>{e.attributes.candidates=this.candidates})))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(e,t,n,r,o){const i=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,s=JL(i,a,this.localCapabilities.send,i===YA.AUDIO?o:r),c=i===YA.VIDEO?a.videoExtensions:a.audioExtensions,l="".concat(++this.currentMidIndex);let u={media:{mediaType:i,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:s.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(l)}};u=this.mungRecvMediaDsec(u,e);const d=this.findFirstClosedMedia(i);if(d){const e=this.sessionDesc.mediaDescriptions.indexOf(d);this.sessionDesc.mediaDescriptions[e]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Or(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Or(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}findAvailableMediaIndex(e,t,n){return this.sessionDesc.mediaDescriptions.findIndex((r=>{const o=r.media.mediaType===e&&"0"!==r.media.port&&("sendonly"===r.attributes.direction||"sendrecv"===r.attributes.direction)&&0===r.attributes.ssrcs.length;if(Bw()){if(o){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==r.attributes.mid&&"1"!==r.attributes.mid)||!(!e||e!==r.attributes.mid)}return!1}return o&&r.attributes.mid===n}))}findAvailableRecvMediaIndex(e){return this.sessionDesc.mediaDescriptions.findIndex((t=>{const n=t.media.mediaType===e&&"0"!==t.media.port&&("recvonly"===t.attributes.direction||"sendrecv"===t.attributes.direction);return"0"!==t.attributes.mid&&"1"!==t.attributes.mid&&n}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}restartICE(e){e=YC(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}createOrRecycleSendMedia(e,t,n,r,o,i){const a=this.rtpCapabilities.send,s=e===YA.VIDEO?a.videoCodecs:a.audioCodecs,c=e===YA.VIDEO?a.videoExtensions:a.audioExtensions;Bw()&&(o="".concat(++this.currentMidIndex));let l={media:{mediaType:e,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:s.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:o}};l=this.mungSendMediaDesc(l,i);const u=this.findFirstClosedMedia(e);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}mungRecvMediaDsec(e,t,n){const r=YC(e);return zL(r),BL(r,t),FL(r,t),HL(r),GL(r,n,this.localCapabilities.send),r}mungSendMediaDesc(e,t){const n=YC(e);return GL(n,t,this.localCapabilities.recv),$L(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n;return(null===(n=t.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId}))}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>Bw()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}};const xj=["sdp"];var Pj;function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mj(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Uj=(Pj=class e extends qA{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[]}set isInRestartIce(e){this._isInRestartIce=e}get isInRestartIce(){return this._isInRestartIce}constructor(t,n,r){super(t,n),OE(this,"direction",void 0),OE(this,"name",void 0),OE(this,"store",void 0),OE(this,"spec",void 0),OE(this,"peerConnection",void 0),OE(this,"initialOffer",void 0),OE(this,"transport",void 0),OE(this,"statsFilter",void 0),OE(this,"localCandidateCount",0),OE(this,"_isInRestartIce",!1),OE(this,"mutex",void 0),OE(this,"onLocalCandidate",void 0),OE(this,"remoteSDP",void 0),OE(this,"pendingCandidates",[]),OE(this,"localCapabilities",void 0),OE(this,"isReady",!1),OE(this,"restartCnt",0),OE(this,"curTurnServerIndex",0),this.store=n,this.spec=t,this.mutex=new yR("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t,n.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=null!=r?r:EA.SEND_ONLY,this.name=this.direction===EA.SEND_ONLY?"sendP2PConnection":"recvP2PConnection",this.statsFilter=kj(this.peerConnection,jR("STATS_UPDATE_INTERVAL"),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(e){try{const t=await qL();if(this.localCapabilities=XL(t),e){const{sdp:t}=e,n=lj(e,xj),r=function(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=PL(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"sendonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(YL(t,e,"videoExtensions",n,r,o),YL(t,e,"videoCodecs",n,r,o),YL(t,e,"audioExtensions",n,r,o),YL(t,e,"audioCodecs",n,r,o),jR("RAISE_H264_BASELINE_PRIORITY")){const e=o.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"===e.fmtp.parameters["profile-level-id"]));if(-1!==e){const t=o.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()));if(t<e){oI.debug("raising H264 baseline profile priority");const n=o.videoCodecs[e];o.videoCodecs.splice(e,1),o.videoCodecs.splice(t,0,n)}-1!==t&&jR("FILTER_SEND_H264_BASELINE")&&(n.videoCodecs=n.videoCodecs.filter((e=>!(e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"!==e.fmtp.parameters["profile-level-id"]))))}}return{send:n,recv:r,sendrecv:o}}({},{},t);this.remoteSDP=new Dj({remoteIceParameters:n.iceParameters,remoteDtlsParameters:n.dtlsParameters,candidates:[],remoteRTPCapabilities:r,localCapabilities:this.localCapabilities,direction:this.direction,setup:"actpass",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()}),this.isReady=!0;const o=await this.peerConnection.createAnswer();if(!o.sdp)throw new Error("Cannot get answer sdp when trying to establish PeerConnection.");const i=ML(o.sdp);await this.peerConnection.setLocalDescription(o);const a=await KL({},{},o.sdp);this.localCapabilities=XL(a);const s=this.peerConnection.getTransceivers()[0];return null!=s&&s.receiver&&s.receiver.transport&&this.tryBindTransportEvents(s.receiver.transport),Lj(Lj({},i),{},{sdp:o.sdp})}{this.peerConnection.addTransceiver("video",{direction:"sendonly"}),this.peerConnection.addTransceiver("audio",{direction:"sendonly"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=ML(e.sdp);return this.initialOffer=e,Lj(Lj({},t),{},{sdp:e.sdp})}}catch(t){throw new uC(lC.GET_LOCAL_CONNECTION_PARAMS_FAILED,t.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:t,iceParameters:n,dtlsParameters:r}=e,o=await KL({},{},t);this.remoteSDP=new Dj({remoteIceParameters:n,remoteDtlsParameters:r,candidates:[],remoteRTPCapabilities:o,localCapabilities:this.localCapabilities,direction:this.direction,setup:"active",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});const i=this.peerConnection.getTransceivers()[0];null!=i&&i.sender&&i.sender.transport&&this.tryBindTransportEvents(i.sender.transport)}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(t.toString()))}}async addRemoteCandidate(e){try{e&&this.pendingCandidates.push(e),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach((e=>{this.peerConnection.addIceCandidate(e)})),this.pendingCandidates=[])}catch(t){throw new uC(lC.ADD_CANDIDATE_FAILED,"P2PConnection.addRemoteCandidate failed; ".concat(t.toString()))}}send(e,t,n){var r=this;return MS((function*(){const o=yield LS(r.mutex.lock("From P2PConnection.send"));try{if(!r.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const o=[],a=r.remoteSDP.receive(e,t,n);e.forEach(((e,t)=>{if(a[t].needCreateTransceiver){const t=r.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});o.push(t),e._updateRtpTransceiver(t)}else{const n=r.peerConnection.getTransceivers().find((e=>e.mid===a[t].mid));if(!n)throw new Error("cannot find transceiver when sendPeerconnection send, mid is ".concat(a[t].mid));o.push(n),e._updateRtpTransceiver(n)}})),Bw()&&!0===jR("SIMULCAST")&&(yield LS(r.applySimulcastForFirefox(o,e)));const s=a.map((e=>e.mid)),c=yield LS(r.peerConnection.createOffer()),l=r.mungSendOfferSDP(c.sdp,e,s),u=CL.parse(l),d=s.map((e=>{const t=u.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return LL(t,jR("USE_PUB_RTX"))})),h=o.map(((e,t)=>{const n=s[t];return{localSSRC:d[t],id:n}}));yield LS(r.peerConnection.setLocalDescription({type:"offer",sdp:l}));try{yield h}catch(i){const e=r.remoteSDP.toString();throw yield LS(r.peerConnection.setLocalDescription({type:"offer",sdp:l})),yield LS(r.peerConnection.setRemoteDescription({type:"answer",sdp:e})),yield LS(r.stopSending(s,!0)),i}yield LS(r.applySimulcastEncodings(o,e)),yield LS(r.applySendEncodings(o,e));const p=r.remoteSDP.toString(),f=r.logSDPExchange(l,"offer","local","send");return null==f||f(p),yield LS(r.setRemoteDescription({type:"answer",sdp:p})),o.map(((e,t)=>{const n=s[t];return{localSSRC:d[t],id:n}}))}catch(i){throw i instanceof uC?i:new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(i.toString()))}finally{o()}}))()}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length (".concat(t.length,") doesn't match mids' length (").concat(e.length,") when trying to call P2PConnection.stopSending."));t.map((e=>{var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const o=this.remoteSDP.toString();null==r||r(o),await this.setRemoteDescription({type:"answer",sdp:o})}catch(r){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(r.toString()))}finally{n&&n()}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:o,needExchangeSDP:i}=this.remoteSDP.send(e,t,n,r);if(i){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer(),i=this.mungReceiveAnswerSDP(r.sdp,o,e);null==n||n(i||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:i}),oI.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP."))}else oI.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," no need to exchange SDP."));const a=this.peerConnection.getTransceivers().find((e=>e.mid===o));if(!a||null===a.mid)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,mid:a.mid,transceiver:a}}catch(o){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async mockReceive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:o,needExchangeSDP:i}=this.remoteSDP.send(e,t,n,r);if(i){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer(),i=this.mungReceiveAnswerSDP(r.sdp,o,e);null==n||n(i||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:i}),oI.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP."))}else oI.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," no need to exchange SDP."))}catch(o){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(t.toString()))}}async restartICE(t){try{if(this.store.p2pTransport===DR.Auto&&(this.store.p2pTransport=DR.SdRtn,UD().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,UD().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!t){this.restartCnt++,this.isReady=!1;const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const{iceParameters:t}=ML(e.sdp);return this.store.descriptionStart(),this.direction===EA.SEND_ONLY&&await this.peerConnection.setLocalDescription(e),t}if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");if(this.remoteSDP.restartICE(t),this.store.descriptionStart(),this.direction===EA.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});const e=await this.peerConnection.createAnswer();if(!e.sdp)throw new Error("Cannot get answer sdp when trying to iceRestart.");const{iceParameters:t}=ML(e.sdp);return await this.peerConnection.setLocalDescription(e),t}await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(n){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(n.toString()))}}close(){var e;this.peerConnection.close(),this.peerConnection.onicecandidate=null,null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const o=this.remoteSDP.toString(),i=this.logSDPExchange(r,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:r}),null==i||i(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(n){throw new uC(lC.EXCHANGE_SDP_FAILED,n.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?Bw()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:n,remote:r}=t.getSelectedCandidatePair();return{local:Lj(Lj({},pj),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port}),remote:Lj(Lj({},pj),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e,t;Or(e=["connected","completed"]).call(e,this.peerConnection.iceConnectionState)&&(this.isReady=!1),null===(t=this.onICEConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;"connected"===this.peerConnection.connectionState&&(this.restartCnt=0),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=e=>{var t;e.candidate?(e.candidate.candidate&&(null===(t=this.onLocalCandidate)||void 0===t||t.call(this,e.candidate.toJSON())),this.localCandidateCount+=1):oI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o={iceServers:[]};var i;return t.iceServers?o.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(xC(t.turnServer.servers)?o.iceServers=t.turnServer.servers:(o.iceServers&&o.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers,n,r)),jR("USE_TURN_SERVER_OF_GATEWAY")&&o.iceServers&&t.turnServer.serversFromGateway&&o.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway,n,r)),Or(i=[DR.Relay,DR.SdRtn]).call(i,n)&&(o.iceTransportPolicy="relay"),jR("FORCE_TURN_TCP")?o.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(o.iceTransportPolicy="relay")})))),jR("ENABLE_ENCODED_TRANSFORM")&&UD().supportWebRTCEncodedTransform&&(o.encodedInsertableStreams=!0),oI.debug("P2PConnection p2pTransport is ".concat(n)),o}static turnServerConfigToIceServers(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[],o=e.filter((e=>e.tcpport));oI.debug("P2PConnection turnServers is ".concat(o,", current index is ").concat(n));const i=o.length>n?o[n]:o[0];switch(t){case DR.SdRtn:const t=e.filter((e=>{var t;return Or(t=e.username).call(t,"glb:")&&e.turnServerURL==e.turnServerURL})),o=t.length>n?t[n]:t[0];o&&(r.push({username:o.username,credential:o.password,credentialType:"password",urls:"turn:".concat(MO(o.turnServerURL),":").concat(o.tcpport,"?transport=udp")}),r.push({username:o.username,credential:o.password,credentialType:"password",urls:"turns:".concat(MO(o.turnServerURL),":").concat(o.tcpport,"?transport=tcp")}));break;case DR.Relay:i&&(r.push({username:i.username,credential:i.password,credentialType:"password",urls:"turn:".concat(i.turnServerURL,":").concat(i.tcpport,"?transport=udp")}),r.push({username:i.username,credential:i.password,credentialType:"password",urls:"turns:".concat(MO(i.turnServerURL),":").concat(i.tcpport,"?transport=tcp")}));break;default:i&&(r.push({username:i.username,credential:i.password,credentialType:"password",urls:"turn:".concat(i.turnServerURL,":").concat(i.tcpport,"?transport=udp")}),r.push({username:i.username,credential:i.password,credentialType:"password",urls:"turns:".concat(MO(i.turnServerURL),":").concat(i.tcpport,"?transport=tcp")}),r.push({username:i.username,credential:i.password,credentialType:"password",urls:"stun:".concat(i.turnServerURL,":").concat(i.tcpport)}))}return r}tryBindTransportEvents(e){if(e){this.transport=e,e.onstatechange=()=>{var t;null!=e&&e.state&&(null===(t=this.onDTLSTransportStateChange)||void 0===t||t.call(this,e.state))},e.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,"error"in e?e.error:e)};const t=e.iceTransport;t&&(t.onstatechange=()=>{const t=null==e?void 0:e.iceTransport.state;var n;t&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,t))},t.getSelectedCandidatePair&&(t.onselectedcandidatepairchange=()=>{if(t.getSelectedCandidatePair()){const{local:e,remote:n}=t.getSelectedCandidatePair();oI.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),", remote ").concat(JSON.stringify({candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})," )"))}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var n;if(t||(t=this.peerConnection.getSenders().find((t=>t.track===e._mediaStreamTrack))),!t)return oI.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(e))return oI.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!UD().supportSetRtpSenderParameters)return oI.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const r={},o={};switch(e._optimizationMode){case"motion":r.degradationPreference="maintain-framerate";break;case"detail":r.degradationPreference="maintain-resolution";break;default:r.degradationPreference="balanced"}if(e._encoderConfig){var i;const{bitrateMax:t,frameRate:n,scaleResolutionDownBy:r}=e._encoderConfig;t&&(o.maxBitrate=1e3*t),Or(i=e._hints).call(i,nx.LOW_STREAM)&&(n&&(o.maxFramerate=UO(n)),r&&r>=1&&(o.scaleResolutionDownBy=r))}if(jR("DSCP_TYPE")&&rC()){var a;const e=jR("DSCP_TYPE");Or(a=["very-low","low","medium","high"]).call(a,e)&&(o.networkPriority=e)}const s=t.getParameters(),c=null===(n=s.encodings)||void 0===n?void 0:n[0];Bw()&&!c&&(r.encodings=[o]),c&&Object.assign(c,o),Object.assign(s,r),oI.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(s.encodings))),await t.setParameters(s)}async applySendEncodings(e,t){try{if(!UD().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const r=e[n],o=t[n];o instanceof KM&&!this.isVP8Simulcast(o)&&await this.updateRtpSenderEncodings(o,r.sender)}}catch(n){oI.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t,n){const r=CL.parse(e);return t.forEach(((e,t)=>{const o=n[t],i=r.mediaDescriptions.find((e=>e.attributes.mid===o));i&&(BL(i,e),WL(i,e,this.store.codec))})),CL.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let s=0;s<e.length;s++){var n,r,o,i,a;const c=e[s],l=t[s];if(l instanceof KM&&!Or(n=l._hints).call(n,nx.LOW_STREAM)&&null!==(r=l._encoderConfig)&&void 0!==r&&r.bitrateMax&&(null===(o=l._encoderConfig)||void 0===o?void 0:o.bitrateMax)>200&&null!==(i=l._scalabilityMode)&&void 0!==i&&i.numSpatialLayers&&(null===(a=l._scalabilityMode)||void 0===a?void 0:a.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=c.sender.getParameters();await c.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!Bw()&&e.length===t.length)for(let n=0;n<e.length;n++){const r=t[n];if(r instanceof KM&&this.isVP8Simulcast(r)){const t=e[n],o={},i={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};o.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:i.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:i.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,o))}}}isVP8Simulcast(e){var t,n,r,o,i;return!!(e instanceof KM&&jR("SIMULCAST")&&"vp8"===this.store.codec&&!Or(t=e._hints).call(t,nx.LOW_STREAM)&&null!==(n=e._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=e._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=e._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(i=e._scalabilityMode)||void 0===i?void 0:i.numSpatialLayers)>1)}logSDPExchange(e,t,n,r){if(jR("SDP_LOGGING"))return oI.upload("[".concat(this.store.clientId,"] exchanging ").concat(n," ").concat(t," SDP during P2PConnection.").concat(r,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",r)}:void 0}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const o=this.remoteSDP.toString();null==r||r(o),await this.setRemoteDescription({type:"answer",sdp:o})}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(t.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async e=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const o=this.remoteSDP.toString();null==r||r(o),await this.setRemoteDescription({type:"answer",sdp:o})}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(t.toString()))}}async getRemoteSSRC(e,t){var n,r;if(t=null!==(n=t)&&void 0!==n?n:null===(r=this.currentRemoteDescription)||void 0===r?void 0:r.sdp){var o;const n=null===(o=CL.parse(t).mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===o?void 0:o.attributes.ssrcs;return null==n?void 0:n[0].ssrcId}}async setRemoteDescription(e){var t;await this.peerConnection.setRemoteDescription(e),Or(t=["connected","completed"]).call(t,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(e,t,n){const r=CL.parse(e),o=r.mediaDescriptions.find((e=>e.attributes.mid===t));return o&&n===YA.AUDIO&&"audio"===o.media.mediaType&&$L(o),CL.print(r)}},sA(Pj.prototype,"establish",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"establish"),Pj.prototype),sA(Pj.prototype,"connect",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"connect"),Pj.prototype),sA(Pj.prototype,"receive",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"receive"),Pj.prototype),sA(Pj.prototype,"mockReceive",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"mockReceive"),Pj.prototype),sA(Pj.prototype,"stopReceiving",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"stopReceiving"),Pj.prototype),sA(Pj.prototype,"restartICE",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"restartICE"),Pj.prototype),sA(Pj.prototype,"close",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"close"),Pj.prototype),sA(Pj.prototype,"updateEncoderConfig",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"updateEncoderConfig"),Pj.prototype),sA(Pj.prototype,"updateSendParameters",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"updateSendParameters"),Pj.prototype),sA(Pj.prototype,"replaceTrack",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"replaceTrack"),Pj.prototype),sA(Pj.prototype,"muteLocal",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"muteLocal"),Pj.prototype),sA(Pj.prototype,"unmuteLocal",[jj],Object.getOwnPropertyDescriptor(Pj.prototype,"unmuteLocal"),Pj.prototype),Pj);function jj(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return await r.apply(this,i)}finally{n()}},n}function Vj(e,t){let n=document.createElement("video"),r=document.createElement("canvas");n.setAttribute("style","display:none"),r.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),r.width=UO(t.width),r.height=UO(t.height);const o=UO(t.framerate||15);document.body.append(n),document.body.append(r);let i=e._mediaStreamTrack;n.srcObject=new MediaStream([i]),n.play();const a=r.getContext("2d");if(!a)throw new pI(lC.UNEXPECTED_ERROR,"can not get canvas context");const s=UD(),c=r.captureStream(s.supportRequestFrame?0:o).getVideoTracks()[0];c.canvas||(c.canvas=r),r.startCapture=()=>{if(!n)return r.stopCapture&&r.stopCapture();if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){const e=n.videoWidth,t=n.videoHeight/e,o=r.width*t;Math.abs(o-r.height)>=2&&(oI.debug("adjust low stream resolution","".concat(r.width,"x").concat(r.height," -> ").concat(r.width,"x").concat(o)),r.height=o)}a.drawImage(n,0,0,r.width,r.height),c.requestFrame&&c.requestFrame(),i!==e._mediaStreamTrack&&(i=e._mediaStreamTrack,n.srcObject=new MediaStream([i]))},r.stopCapture=Lx((()=>r.startCapture&&r.startCapture()),o);const l=c.stop;return c.stop=()=>{l.call(c),n&&(n.remove(),n.srcObject=null,n=null),r&&(r.width=0,r.remove(),r.stopCapture&&r.stopCapture(),r.startCapture=void 0,r.stopCapture=void 0,r=null),oI.debug("clean low stream renderer")},c}var Bj=function(e){return e[e.HEIGHT=2033]="HEIGHT",e[e.FRAME_RATE=2034]="FRAME_RATE",e[e.WIDTH=2035]="WIDTH",e}(Bj||{}),zj=function(e){return e[e.FRAME_RATE=2002]="FRAME_RATE",e[e.WIDTH=2003]="WIDTH",e[e.HEIGHT=2004]="HEIGHT",e[e.PACKAGE_LOST=2005]="PACKAGE_LOST",e[e.AVG_ENCODE=2007]="AVG_ENCODE",e[e.NACKS=2009]="NACKS",e[e.PLIS=2010]="PLIS",e[e.FIRS=2011]="FIRS",e[e.BITRATE=2012]="BITRATE",e[e.PACKAGE_RATE=2031]="PACKAGE_RATE",e[e.ADAPTATION=2032]="ADAPTATION",e[e.ACTUAL_ENCODED=2060]="ACTUAL_ENCODED",e[e.BANDWIDTH=2061]="BANDWIDTH",e[e.RETRANSMIT=2062]="RETRANSMIT",e[e.TARGET_ENCODED=2064]="TARGET_ENCODED",e[e.TRANSMIT=2066]="TRANSMIT",e[e.FREEZE=2082]="FREEZE",e[e.DISABLED=2095]="DISABLED",e[e.PLAYER_STATUS=2128]="PLAYER_STATUS",e[e.QP_SUM=2143]="QP_SUM",e[e.BYTES_RETRANSMIT=2173]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2172]="PACKAGES_RETRANSMIT",e[e.HUGE_FRAME_SENT=2174]="HUGE_FRAME_SENT",e[e.KEY_FRAMES_ENCODED=2207]="KEY_FRAMES_ENCODED",e}(zj||{}),Fj=function(e){return e[e.BITRATE=2069]="BITRATE",e[e.PACKAGE_LOST=2070]="PACKAGE_LOST",e[e.PACKAGE_RATE=2071]="PACKAGE_RATE",e[e.HEIGHT=2073]="HEIGHT",e[e.FRAME_RATE=2075]="FRAME_RATE",e[e.WIDTH=2077]="WIDTH",e}(Fj||{}),Hj=function(e){return e[e.JITTER=-1]="JITTER",e[e.PACKAGE_LOST=2014]="PACKAGE_LOST",e[e.WIDTH=2018]="WIDTH",e[e.HEIGHT=2019]="HEIGHT",e[e.FRAME_RATE=2020]="FRAME_RATE",e[e.JITTER_BUFFER=2023]="JITTER_BUFFER",e[e.CURRENT_DELAY=2024]="CURRENT_DELAY",e[e.NACKS=2026]="NACKS",e[e.PLIS=2027]="PLIS",e[e.FIRS=2028]="FIRS",e[e.BITRATE=2029]="BITRATE",e[e.PACKAGE_RATE=2078]="PACKAGE_RATE",e[e.FREEZE=2084]="FREEZE",e[e.DISABLED=2101]="DISABLED",e[e.PLAYER_STATUS=2129]="PLAYER_STATUS",e[e.QP_SUM=2144]="QP_SUM",e[e.I_FRAME_DELAY=2149]="I_FRAME_DELAY",e[e.FRAMES_DROPPED=2181]="FRAMES_DROPPED",e[e.BYTES_RETRANSMIT=2175]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2176]="PACKAGES_RETRANSMIT",e[e.PACKAGES_DISCARDED=2198]="PACKAGES_DISCARDED",e[e.AVG_DECODE=2200]="AVG_DECODE",e[e.AVG_PROCESSING_DELAY=2202]="AVG_PROCESSING_DELAY",e[e.AVG_ASSEMBLY_TIME=2203]="AVG_ASSEMBLY_TIME",e[e.AVG_INTER_FRAME_DELAY=2204]="AVG_INTER_FRAME_DELAY",e[e.KEY_FRAMES_DECODED=2206]="KEY_FRAMES_DECODED",e}(Hj||{}),Gj=function(e){return e[e.FRAME_RATE_DECODE=2021]="FRAME_RATE_DECODE",e[e.FRAME_RATE_RENDER=2022]="FRAME_RATE_RENDER",e[e.FRAME_RATE_OUTPUT=2155]="FRAME_RATE_OUTPUT",e[e.FREEZE_TIME=2109]="FREEZE_TIME",e[e.FREEZE_TIME_RENDER=2147]="FREEZE_TIME_RENDER",e[e.FREEZE_DURATION=2156]="FREEZE_DURATION",e}(Gj||{}),Wj=function(e){return e[e.PCM_LEVEL=2104]="PCM_LEVEL",e}(Wj||{}),qj=function(e){return e[e.PACKAGE_LOST=-1]="PACKAGE_LOST",e[e.LEVEL=2038]="LEVEL",e[e.BITRATE=2039]="BITRATE",e[e.PACKAGE_RATE=2040]="PACKAGE_RATE",e[e.AEC_RETURN_LOSS=2041]="AEC_RETURN_LOSS",e[e.AEC_RETURN_LOSS_ENH=2042]="AEC_RETURN_LOSS_ENH",e[e.FREEZE=2081]="FREEZE",e[e.DISABLED=2096]="DISABLED",e[e.BYTES_RETRANSMIT=2179]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2180]="PACKAGES_RETRANSMIT",e}(qj||{}),Kj=function(e){return e[e.BITRATE=2044]="BITRATE",e[e.PACKAGE_LOST=2045]="PACKAGE_LOST",e[e.PACKAGE_RATE=2046]="PACKAGE_RATE",e[e.CURRENT_DELAY=2047]="CURRENT_DELAY",e[e.JITTER_BUFFER=2054]="JITTER_BUFFER",e[e.JITTER=2055]="JITTER",e[e.FREEZE=2083]="FREEZE",e[e.DISABLED=2102]="DISABLED",e[e.PCM_LEVEL=2105]="PCM_LEVEL",e[e.PLAYER_STATUS=2130]="PLAYER_STATUS",e[e.CONCEALED_SAMPLES=2148]="CONCEALED_SAMPLES",e[e.BYTES_RETRANSMIT=2178]="BYTES_RETRANSMIT",e[e.PACKAGES_RETRANSMIT=2177]="PACKAGES_RETRANSMIT",e[e.PACKAGES_DISCARDED=2199]="PACKAGES_DISCARDED",e[e.AVG_PROCESSING_DELAY=2201]="AVG_PROCESSING_DELAY",e}(Kj||{}),Yj=function(e){return e[e.FREEZE_TIME=-1]="FREEZE_TIME",e[e.LEVEL=2043]="LEVEL",e}(Yj||{}),Xj=function(e){return e[e.RTT=2006]="RTT",e[e.CONN_TYPE=801]="CONN_TYPE",e[e.STATS_UPDATE_INTERVAL=2205]="STATS_UPDATE_INTERVAL",e}(Xj||{});const $j=1e3,Jj=3;function Zj(e,t,n){null!=n&&Number.isFinite(n)&&(e[t]=Math.round(Math.max(0,n)))}function Qj(e){const t={[Xj.CONN_TYPE]:0,[Xj.RTT]:e.rtt,[Xj.STATS_UPDATE_INTERVAL]:e.updateInterval?Math.round(Math.max(0,e.updateInterval)):void 0};switch(e.selectedCandidatePair.localCandidate.candidateType){case"relay":{const n=e.selectedCandidatePair.localCandidate.relayProtocol;"udp"===n&&(t[Xj.CONN_TYPE]=1),"tcp"===n&&(t[Xj.CONN_TYPE]=3),"tls"===n&&(t[Xj.CONN_TYPE]=4);break}case"srflx":t[Xj.CONN_TYPE]=2}return t}function eV(e){let t=0;switch(e){case"none":t=0;break;case"cpu":t=1;break;case"bandwidth":t=2;break;case"other":t=3}return t}class tV extends CC{constructor(e){super(),OE(this,"store",void 0),OE(this,"uploadWRTCStatsTimer",void 0),OE(this,"uploadOutboundDenoiserStatsTimer",void 0),OE(this,"uploadExtStatsTimer",void 0),OE(this,"uploadExtUsageStatsTimer",void 0),OE(this,"uploadInboundExtStatsTimer",void 0),OE(this,"requestStats",void 0),OE(this,"requestTransportStats",void 0),OE(this,"requestLocalMedia",void 0),OE(this,"requestRemoteMedia",void 0),OE(this,"requestAllTracks",void 0),OE(this,"requestVideoIsReady",void 0),OE(this,"requestUploadStats",void 0),OE(this,"requestUpload",void 0),OE(this,"uploadOutboundStarted",!1),OE(this,"uploadInboundStarted",!1),OE(this,"uploadTransportStarted",!1),OE(this,"uploadExtensionUsageStarted",!1),OE(this,"lastRecvStats",void 0),OE(this,"lastSendStats",void 0),OE(this,"lastFullRecvStats",void 0),OE(this,"lastFullSendStats",void 0),OE(this,"needUploadRenderFreezeTime",!0),this.store=e}uploadWRTCStats(e){if(!this.requestStats||!this.requestUploadStats)return;let t,n;if(this.uploadTransportStarted&&(t=this.requestStats(),this.store.useP2P&&(n=this.requestStats(!0))),!t&&this.uploadOutboundStarted&&(t=this.requestStats()),!n&&this.uploadInboundStarted&&(n=this.requestStats(!0)),t||n){const r={};if(this.uploadTransportStarted&&t){const o=this.getTransportStats(t,n,e);o&&(r.misc=[o])}if(this.uploadOutboundStarted&&t){const n=this.getOutboundStats(t,e?this.lastSendStats:this.lastFullSendStats,e);n&&(r.outbound=[n])}if(this.uploadInboundStarted&&n){const t=this.getInboundStats(n,e?this.lastRecvStats:this.lastFullRecvStats,e);t&&(r.inbound=t)}this.requestUploadStats(r)}this.lastRecvStats=n,this.lastSendStats=t,e||(this.lastFullRecvStats=n,this.lastFullSendStats=t)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let e=1;this.uploadWRTCStatsTimer=window.setInterval((()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(e!==Jj),++e===Jj+1&&(e=1)}),$j)}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0)}getTransportStats(e,t,n){if(!this.requestStats)return;if(n)return null==e.rtt?void 0:{addition:{[Xj.RTT]:e.rtt,[Xj.CONN_TYPE]:void 0,[Xj.STATS_UPDATE_INTERVAL]:e.updateInterval||void 0}};const r=Qj(e);if(this.store.useP2P){if(t){const e=Qj(t);r[Xj.CONN_TYPE]+=e[Xj.CONN_TYPE]<<3}r[Xj.CONN_TYPE]+=110}else r[Xj.CONN_TYPE]+=100;return{addition:r}}getOutboundStats(e,t,n){if(!this.requestUploadStats||!this.requestLocalMedia)return;const r=this.requestLocalMedia();if(!r||0===r.length)return;let o,i,a;return r.forEach((r=>{let[s,{track:c,ssrcs:l}]=r;switch(s){case JA.LocalVideoLowTrack:case JA.LocalVideoTrack:if(s===JA.LocalVideoTrack){const r=function(e,t,n,r,o){const i=t.videoSend.find((t=>t.ssrc===e));if(!i)return;const a={},{sentFrame:s,inputFrame:c}=i;if(c&&s){const e=c.frameRate,t=s.frameRate;a[zj.FREEZE]=function(e,t){let n=!0;return n=!(e<=5)&&(e<=10?t<3:e<=20?t<4:t<5),n}(e,t)?1:0}if(Zj(a,zj.QP_SUM,i.qpSumPerFrame),o)return a;switch(s&&(Zj(a,zj.HEIGHT,s.height),Zj(a,zj.WIDTH,s.width),Zj(a,zj.FRAME_RATE,s.frameRate)),a[zj.DISABLED]=r._originMediaStreamTrack&&!r._originMediaStreamTrack.enabled||r._mediaStreamTrack&&!r._mediaStreamTrack.enabled?1:0,i.adaptionChangeReason){case"none":a[zj.ADAPTATION]=0;break;case"cpu":a[zj.ADAPTATION]=1;break;case"bandwidth":a[zj.ADAPTATION]=2;break;case"other":a[zj.ADAPTATION]=3}let l=0;i.adaptionChangeReason&&(l+=eV(i.adaptionChangeReason)),t.qualityLimitationReason&&(l+=eV(t.qualityLimitationReason)<<3),a[zj.ADAPTATION]=l,a[zj.PLAYER_STATUS]=Tx[r._player?r._player.videoElementStatus:"uninit"],Zj(a,zj.NACKS,i.nacksCount),Zj(a,zj.PLIS,i.plisCount),Zj(a,zj.FIRS,i.firsCount),Zj(a,zj.AVG_ENCODE,i.avgEncodeMs),Zj(a,zj.HUGE_FRAME_SENT,i.hugeFramesSent),Zj(a,zj.BYTES_RETRANSMIT,i.retransmittedBytesSent),Zj(a,zj.PACKAGES_RETRANSMIT,i.retransmittedPacketsSent),Zj(a,zj.KEY_FRAMES_ENCODED,i.keyFramesEncoded);const u=n&&n.videoSend.find((t=>t.ssrc===e));if(u){let e=o?$j:$j*Jj;u.timestamp&&i.timestamp&&(e=i.timestamp-u.timestamp),null!=u.packets&&null!=i.packets&&Zj(a,zj.PACKAGE_RATE,1e3*(i.packets-u.packets)/e),null!=i.packetsLost&&null!=u.packetsLost&&Zj(a,zj.PACKAGE_LOST,i.packetsLost-u.packetsLost),null!=u.bytes&&null!=i.bytes&&Zj(a,zj.BITRATE,8*(i.bytes-u.bytes)/e)}return a}(l[0].ssrcId,e,t,c,n),o=n?null:function(e,t,n){const r=t.videoSend.find((t=>t.ssrc===e));if(!r)return null;const o={},i=r.inputFrame,a=i&&i.height||n&&n.videoHeight||0,s=i&&i.width||n&&n.videoWidth||0,c=i&&i.frameRate||0;return Zj(o,Bj.HEIGHT,a),Zj(o,Bj.WIDTH,s),Zj(o,Bj.FRAME_RATE,c),o}(l[0].ssrcId,e,c),a=n?null:function(e){const t={};return Zj(t,zj.RETRANSMIT,e.bitrate.retransmit),Zj(t,zj.TARGET_ENCODED,e.bitrate.targetEncoded),Zj(t,zj.ACTUAL_ENCODED,e.bitrate.actualEncoded),Zj(t,zj.TRANSMIT,e.bitrate.transmit),Zj(t,zj.BANDWIDTH,e.sendBandwidth),t}(e);i=Object.assign({},r,o,a)}else a=n?void 0:function(e,t,n){const r=t.videoSend.find((t=>t.ssrc===e));if(!r)return;const o={},i=r.sentFrame;if(i&&(Zj(o,Fj.HEIGHT,i.height),Zj(o,Fj.WIDTH,i.width),Zj(o,Fj.FRAME_RATE,i.frameRate)),n){const t=n.videoSend.find((t=>t.ssrc===e));if(t){let e=$j*Jj;t.timestamp&&r.timestamp&&(e=r.timestamp-t.timestamp),null!=t.packets&&null!=r.packets&&Zj(o,Fj.PACKAGE_RATE,1e3*(r.packets-t.packets)/e),null!=r.packetsLost&&null!=t.packetsLost&&Zj(o,Fj.PACKAGE_LOST,r.packetsLost-t.packetsLost),null!=t.bytes&&null!=r.bytes&&Zj(o,Fj.BITRATE,8*(r.bytes-t.bytes)/e)}}return o}(l[0].ssrcId,e,t);break;case JA.LocalAudioTrack:o=n?void 0:function(e,t,n,r){const o=t.audioSend.find((t=>t.ssrc===e));if(!o)return;const i={};i[qj.DISABLED]=r._originMediaStreamTrack&&!r._originMediaStreamTrack.enabled||r._mediaStreamTrack&&!r._mediaStreamTrack.enabled?1:0;const a=100*r._source.getAccurateVolumeLevel(),s=o.inputLevel;if(null!=s){const e=Math.ceil(50*Math.log10(100*s+1));Zj(i,qj.LEVEL,e)}else Zj(i,qj.LEVEL,a);Zj(i,Wj.PCM_LEVEL,a),Zj(i,qj.AEC_RETURN_LOSS,o.aecReturnLoss),Zj(i,qj.AEC_RETURN_LOSS_ENH,o.aecReturnLossEnhancement),Zj(i,qj.BYTES_RETRANSMIT,o.retransmittedBytesSent),Zj(i,qj.PACKAGES_RETRANSMIT,o.retransmittedPacketsSent),i[qj.FREEZE]=0;const c=n&&n.audioSend.find((t=>t.ssrc===e));if(c){let e=$j*Jj;c.timestamp&&o.timestamp&&(e=o.timestamp-c.timestamp),null!=c.bytes&&null!=o.bytes&&Zj(i,qj.BITRATE,8*(o.bytes-c.bytes)/e),null!=c.packets&&null!=o.packets&&Zj(i,qj.PACKAGE_RATE,1e3*(o.packets-c.packets)/e)}return i}(l[0].ssrcId,e,t,c)}})),{high:i,low:a,audio:o}}getInboundStats(e,t,n){if(!this.requestRemoteMedia)return;const r=this.requestRemoteMedia()||[],o=[];return r.forEach((r=>{let[i,a]=r;const s={peer:i.uid};if(a.has(YA.VIDEO)&&i.videoTrack){const r=i._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(i._videoSSRC)||!1,o=i.videoTrack?function(e,t,n,r,o,i,a){var s;const c=t.videoRecv.find((t=>t.ssrc===e));if(!c)return;const l={},{receivedFrame:u,outputFrame:d,decodeFrameRate:h}=c,p=n&&n.videoRecv.find((t=>t.ssrc===e));if(l[Hj.FREEZE]=o&&CV.isRemoteVideoFreeze(r,c,p)?1:0,Zj(l,Gj.FRAME_RATE_DECODE,h),Zj(l,Hj.QP_SUM,c.qpSumPerFrame),c.framesRateFirefox&&Zj(l,Hj.FRAME_RATE,c.framesRateFirefox),u&&Zj(l,Hj.FRAME_RATE,u.frameRate),Zj(l,Hj.FRAMES_DROPPED,c.framesDroppedCount),Zj(l,Hj.BYTES_RETRANSMIT,c.retransmittedBytesReceived),Zj(l,Hj.PACKAGES_RETRANSMIT,c.retransmittedPacketsReceived),Zj(l,Hj.PACKAGES_DISCARDED,c.packetsDiscarded),Zj(l,Hj.AVG_DECODE,c.avgDecodeMs),Zj(l,Hj.AVG_PROCESSING_DELAY,c.avgProcessingDelayMs),Zj(l,Hj.AVG_ASSEMBLY_TIME,c.avgFramesAssembledFromMultiplePacketsMs),Zj(l,Hj.AVG_INTER_FRAME_DELAY,c.avgInterFrameDelayMs),Zj(l,Hj.KEY_FRAMES_DECODED,c.keyFramesDecoded),p){const e=t.timestamp-n.timestamp||(a?$j:Jj*$j);null!=c.packetsLost&&null!=p.packetsLost&&Zj(l,Hj.PACKAGE_LOST,c.packetsLost-p.packetsLost),null!=p.bytes&&null!=c.bytes&&Zj(l,Hj.BITRATE,8*(c.bytes-p.bytes)/e),null!=p.packets&&null!=c.packets&&Zj(l,Hj.PACKAGE_RATE,1e3*(c.packets-p.packets)/e)}if(a)return l;u?(Zj(l,Hj.HEIGHT,u.height),Zj(l,Hj.WIDTH,u.width)):r&&(Zj(l,Hj.HEIGHT,r._videoHeight||0),Zj(l,Hj.WIDTH,r._videoWidth||0)),d&&Zj(l,Gj.FRAME_RATE_OUTPUT,d.frameRate);const f=null===(s=r._player)||void 0===s?void 0:s.rendFrameRate.toFixed(0);if(f&&Zj(l,Gj.FRAME_RATE_RENDER,+f),Zj(l,Hj.JITTER_BUFFER,c.jitterBufferMs),Zj(l,Hj.CURRENT_DELAY,c.currentDelayMs),Zj(l,Hj.FIRS,c.firsCount),Zj(l,Hj.NACKS,c.nacksCount),Zj(l,Hj.PLIS,c.plisCount),r){l[Hj.DISABLED]=r._originMediaStreamTrack.enabled&&r._mediaStreamTrack.enabled?0:1;const e=r._player;if(e){const{freezeTimeCounterList:t,renderFreezeAccTime:n,videoElementStatus:r}=e;if(t&&t.length>0&&Zj(l,Gj.FREEZE_TIME,t.splice(0,1)[0]),i&&"visible"===dL.visibility&&r===Ex.PLAYING&&UD().supportRequestVideoFrameCallback){const t=Math.min(6e3,n);e.renderFreezeAccTime=Math.max(0,n-t),Zj(l,Gj.FREEZE_TIME_RENDER,t)}if("number"==typeof c.totalFreezesDuration){const e=p&&p.totalFreezesDuration?c.totalFreezesDuration-p.totalFreezesDuration:c.totalFreezesDuration;Zj(l,Gj.FREEZE_DURATION,1e3*e)}}}if(l[Hj.PLAYER_STATUS]=Tx[r._player?r._player.videoElementStatus:"uninit"],p&&void 0!==c.totalInterFrameDelay&&void 0!==c.totalSquaredInterFrameDelay&&void 0!==p.totalInterFrameDelay&&void 0!==p.totalSquaredInterFrameDelay){const e=c.totalInterFrameDelay-p.totalInterFrameDelay,t=c.totalSquaredInterFrameDelay-p.totalSquaredInterFrameDelay,n=c.framesDecodeCount-p.framesDecodeCount,r=e/n*1e3,o=Math.round(1e3*Math.sqrt((t-Math.pow(e,2)/n)/n));!isNaN(o)&&r+o>Math.max(3*r,r+150)&&(l[Hj.I_FRAME_DELAY]=o)}return l}(i._videoSSRC,e,t,i.videoTrack,!0===r,this.needUploadRenderFreezeTime,n):void 0;o&&(s.video=o)}if(a.has(YA.AUDIO)&&i.audioTrack){const r=i.audioTrack?function(e,t,n,r,o){const i=t.audioRecv.find((t=>t.ssrc===e));if(!i)return;const a={},s=n&&n.audioRecv.find((t=>t.ssrc===e)),{receivedFrames:c,droppedFrames:l}=i;var u;if(Zj(a,Kj.JITTER,i.jitterMs),Zj(a,Kj.BYTES_RETRANSMIT,i.retransmittedBytesReceived),Zj(a,Kj.PACKAGES_RETRANSMIT,i.retransmittedPacketsReceived),Zj(a,Kj.PACKAGES_DISCARDED,i.packetsDiscarded),Zj(a,Kj.AVG_PROCESSING_DELAY,i.avgProcessingDelayMs),null!=c&&null!=l&&(a[Kj.FREEZE]=0===(u=c)||100*l/u>20?1:0),s){const e=t.timestamp-n.timestamp||(o?$j:$j*Jj);null!=i.packets&&null!=s.packets&&Zj(a,Kj.PACKAGE_RATE,1e3*(i.packets-s.packets)/e),null!=s.bytes&&null!=i.bytes&&Zj(a,Kj.BITRATE,8*(i.bytes-s.bytes)/e),null!=i.packetsLost&&null!=s.packetsLost&&Zj(a,Kj.PACKAGE_LOST,i.packetsLost-s.packetsLost)}if(o)return a;const d=100*r._source.getAccurateVolumeLevel(),h=i.outputLevel;if(null!=h){const e=Math.ceil(50*Math.log10(100*h+1));Zj(a,Yj.LEVEL,e)}if(Zj(a,Kj.PCM_LEVEL,d),r&&(a[Kj.DISABLED]=r._originMediaStreamTrack.enabled&&r._mediaStreamTrack.enabled?0:1),Zj(a,Kj.JITTER_BUFFER,i.jitterBufferMs),Zj(a,Kj.CURRENT_DELAY,i.jitterBufferMs),a[Kj.PLAYER_STATUS]=Tx[nP.getPlayerState(r.getTrackId())],s){const e=i.concealedSamples-s.concealedSamples;e>0&&Zj(a,Kj.CONCEALED_SAMPLES,e)}return a}(i._audioSSRC,e,t,i.audioTrack,n):void 0;r&&(s.audio=r)}(s.video||s.audio)&&o.push(s)})),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,o}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval((()=>{if(!this.requestAllTracks||!this.requestUpload)return;const e=(this.requestAllTracks()||[]).find((e=>e instanceof iM));if(e&&e._external.getDenoiserStats){const t=e._external.getDenoiserStats();t&&this.requestUpload(yA.DENOISER_STATS,t)}}),2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval((()=>{this.requestAllTracks&&this.requestUpload&&this.requestAllTracks().forEach((e=>{e.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}))}),2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval((()=>{this.requestUpload&&this.requestRemoteMedia&&(this.requestRemoteMedia()||[]).forEach((e=>{let[t,n]=e;n.has(YA.VIDEO)&&t.videoTrack&&t.videoTrack.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)})),n.has(YA.AUDIO)&&t.audioTrack&&t.audioTrack.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}))}),2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const e=new Map;this.uploadExtUsageStatsTimer=window.setInterval((async()=>{const t=Date.now(),n={connectionInterval:jR("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3,details:[],lts:t};let r=[];const o=this.requestAllTracks&&this.requestAllTracks()||[];for(const e of o)!e.muted&&e.enabled&&(r=r.concat(await e.getProcessorUsage()));const i=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[e,c]of i)c.has(YA.VIDEO)&&e.videoTrack&&(r=r.concat(await e.videoTrack.getProcessorUsage())),c.has(YA.AUDIO)&&e.audioTrack&&(r=r.concat(await e.audioTrack.getProcessorUsage()));if(0===r.length)return;n.details=function(e,t){const n={};for(const{id:a,value:s,level:c,direction:l}of e){var r;const e=null!==(r=t.get(a))&&void 0!==r?r:0,u=2===s?e+jR("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3:e;var o,i;t.set(a,u),n[a]?(2===s&&(n[a].value=s),c>n[a].level&&(n[a].level=c),"remote"===l&&(n[a].remoteUidCount+=1),n[a].totalTs=null!==(o=t.get(a))&&void 0!==o?o:0):n[a]={value:s,level:c,remoteUidCount:"local"===l?0:1,totalTs:null!==(i=t.get(a))&&void 0!==i?i:0}}return Object.keys(n).map((e=>{const{level:t,value:r,totalTs:o}=n[e];return{id:e,level:t,value:r,totalTs:o}}))}(r,e);const a=Date.now(),s=a>t?a:t+1;this.requestUpload&&this.requestUpload(yA.EXTENSION_USAGE_STATS,{usageStats:n,sendTs:s})}),jR("EXTENSION_USAGE_UPLOAD_INTERVAL"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}}class nV{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e,t){OE(this,"uid",void 0),OE(this,"_uintid",void 0),OE(this,"_trust_in_room_",!0),OE(this,"_trust_audio_enabled_state_",!0),OE(this,"_trust_video_enabled_state_",!0),OE(this,"_trust_audio_mute_state_",!0),OE(this,"_trust_video_mute_state_",!0),OE(this,"_audio_muted_",!1),OE(this,"_video_muted_",!1),OE(this,"_audio_enabled_",!0),OE(this,"_video_enabled_",!0),OE(this,"_audio_added_",!1),OE(this,"_video_added_",!1),OE(this,"_is_pre_created",!1),OE(this,"_video_pre_subscribed",!1),OE(this,"_audio_pre_subscribed",!1),OE(this,"_trust_video_stream_added_state_",!0),OE(this,"_trust_audio_stream_added_state_",!0),OE(this,"_audioTrack",void 0),OE(this,"_videoTrack",void 0),OE(this,"_dataChannels",[]),OE(this,"_audioSSRC",void 0),OE(this,"_videoSSRC",void 0),OE(this,"_audioOrtc",void 0),OE(this,"_videoOrtc",void 0),OE(this,"_cname",void 0),OE(this,"_rtxSsrcId",void 0),OE(this,"_videoMid",void 0),OE(this,"_audioMid",void 0),this.uid=e,this._uintid=t}}let rV=function(e){return e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY",e}({});function oV(e,t){var n;let r;switch(t){case JA.LocalAudioTrack:r=UA.Audio;break;case JA.LocalVideoTrack:r=Or(n=e._hints).call(n,nx.SCREEN_TRACK)?UA.Screen:UA.High;break;case JA.LocalVideoLowTrack:r=UA.Low}return r}function iV(e){const t=UD();if(e.some((e=>e._bypassWebAudio)))throw new uC(lC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");if(!t.webAudioMediaStreamDest)throw new uC(lC.NOT_SUPPORTED,"cannot publish multiple tracks because your browser does not support audio mixing")}function aV(e,t){iV(e);const n=new sM;return e.forEach((e=>n.addAudioTrack(e))),n}var sV,cV,lV,uV,dV,hV,pV,fV,mV,gV,vV,yV;function _V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_V(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let bV=(sV=TV(rV.SEND_ONLY),cV=TV(rV.SEND_ONLY),lV=TV(),uV=TV(rV.RECEIVE_ONLY),dV=TV(rV.RECEIVE_ONLY),hV=TV(rV.RECEIVE_ONLY),pV=TV(rV.RECEIVE_ONLY),fV=TV(rV.RECEIVE_ONLY),mV=TV(rV.RECEIVE_ONLY),gV=TV(),vV=TV(rV.RECEIVE_ONLY),sA((yV=class extends CC{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(QA.StateChange,t,this._state)}constructor(e,t){super(),OE(this,"isPlanB",!1),OE(this,"store",void 0),OE(this,"statsUploader",void 0),OE(this,"sendConnection",void 0),OE(this,"recvConnection",void 0),OE(this,"localTrackMap",new Map),OE(this,"remoteUserMap",new Map),OE(this,"localDataChannels",[]),OE(this,"pendingLocalTracks",[]),OE(this,"pendingRemoteTracks",[]),OE(this,"statsCollector",void 0),OE(this,"dtlsFailedCount",0),OE(this,"sendMutex",void 0),OE(this,"recvMutex",void 0),OE(this,"_state",ZA.Disconnected),OE(this,"_restartStates",["disconnected","failed"]),OE(this,"reconnectInterval",void 0),OE(this,"uploadUnplinkStarted",!1),OE(this,"uploadDownlinkStarted",!1),OE(this,"uplinkStateUploadInterval",void 0),OE(this,"downlinkStatsUploadInterval",void 0),OE(this,"handleMuteLocalTrack",(async(e,t,n)=>{const r=await this.sendMutex.lock("Locking from P2PChannel2.handleMuteLocalTrack");try{if(!this.sendConnection||this.state!==ZA.Connected)return void n(new uC(lC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established."));const r=this.filterTobeMutedTracks(e);if(0===r.length)return void t();const a=r.find((e=>"videoLowTrack"===e[0]));a&&a[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(r.map((e=>{let[,{id:t}]=e;return t})));let s=!1;var o,i;s="video"===e.trackMediaType?!(null===(o=this.localTrackMap.get(JA.LocalAudioTrack))||void 0===o||!o.track._muted):void 0===(null===(i=this.localTrackMap.get(JA.LocalVideoTrack))||void 0===i?void 0:i.id);const c=this.createMuteMessage(r);await zC(this,QA.RequestMuteLocal,c);const l="video"===e.trackMediaType?dO.MUTE_LOCAL_VIDEO:dO.MUTE_LOCAL_AUDIO;await zC(this,QA.RequestP2PMuteLocal,{action:l,message:c,isMuteAll:s}),t()}catch(a){n(a)}finally{r()}})),OE(this,"handleUnmuteLocalTrack",(async(e,t,n)=>{const r=await this.sendMutex.lock("Locking from P2PChannel2.handleUnmuteLocalTrack");try{if(!this.sendConnection||this.state!==ZA.Connected)return void n(new uC(lC.INVALID_OPERATION,"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established."));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();await this.sendConnection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnmuteMessage(r),i="video"===e.trackMediaType?dO.UNMUTE_LOCAL_VIDEO:dO.UNMUTE_LOCAL_AUDIO;await zC(this,QA.RequestP2PMuteLocal,{action:i,message:o}),t()}catch(o){n(o)}finally{r()}})),OE(this,"handleUpdateVideoEncoder",(async(e,t,n)=>{const r=await this.sendMutex.lock("Locking from P2PChannel2.handleSetVideoEncoder");try{const n=this.localTrackMap.get(JA.LocalVideoTrack);if(!this.sendConnection||!n||n.track!==e||this.state!==ZA.Connected)return void t();const{id:r,track:o}=n;r&&(await this.sendConnection.updateSendParameters(r,o),await this.sendConnection.updateEncoderConfig(r,o),this.emit(QA.UpdateVideoEncoder,o)),t()}catch(o){n(o)}finally{r()}})),OE(this,"handleUpdateVideoSendParameters",(async(e,t,n)=>{const r=await this.sendMutex.lock("Locking from P2PChannel2.handleUpdateVideoSendParameters");try{const n=this.localTrackMap.get(JA.LocalVideoTrack);if(!this.sendConnection||!n||n.track!==e||this.state!==ZA.Connected)return void t();const{id:r,track:o}=n;r&&await this.sendConnection.updateSendParameters(r,o),t()}catch(o){n(o)}finally{r()}})),OE(this,"handleReplaceTrack",(async(e,t,n,r)=>{let o;oI.debug("[".concat(this.store.clientId,"] P2PChannel2 handleReplaceTrack for [track-id-").concat(e.getTrackId(),"]")),"boolean"==typeof r&&r||(o=await this.sendMutex.lock("From P2PChannel2.handleReplaceTrack"));try{var i;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!this.sendConnection||!n||void 0===n[1].id||this.state!==ZA.Connected)return void t();if(await(null===(i=this.sendConnection)||void 0===i?void 0:i.replaceTrack(e,n[1].id)),n[0]===JA.LocalVideoTrack&&UD().supportDualStreamEncoding){const t=this.localTrackMap.get(JA.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new Uh(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}t()}catch(s){n(s)}finally{var a;null===(a=o)||void 0===a||a()}})),OE(this,"handleGetLocalVideoStats",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),OE(this,"handleGetLocalAudioStats",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),OE(this,"handleGetRemoteVideoStats",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),OE(this,"handleGetRemoteAudioStats",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new tV(e),this.bindStatsUploaderEvents(),this.sendMutex=new yR("P2PChannel2-send-mutex",e.clientId),this.recvMutex=new yR("P2PChannel2-recv-mutex",e.clientId),this.reconnectInterval=window.setInterval((()=>{[this.sendConnection,this.recvConnection].forEach((e=>{e&&("disconnected"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||this.handleDisconnect(e.direction))}))}),jR("ICE_RESTART_INTERVAL"))}async startP2PConnection(e,t){throw new uC(lC.NOT_SUPPORTED,"p2p mode does not support startP2PConnection.")}async connect(e){throw new uC(lC.NOT_SUPPORTED,"p2p mode does not support connect.")}async startP2P(e,t){let n;try{if(t){this.recvConnection&&(oI.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset recvConnection.")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),n=await this.recvMutex.lock("From P2PChannel.startP2P"),this.recvConnection=new Uj(e,this.store,EA.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const r=await this.recvConnection.establish(t);return{iceParameters:r.iceParameters,dtlsParameters:r.dtlsParameters,sdp:r.sdp}}{this.state=ZA.New,this.sendConnection&&(oI.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset sendConnection.")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),n=await this.sendMutex.lock("From P2PChannel.startP2P"),this.sendConnection=new Uj(e,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const t=await this.sendConnection.establish();return{iceParameters:t.iceParameters,dtlsParameters:t.dtlsParameters,sdp:t.sdp}}}finally{n&&n()}}async p2pConnect(e){if(!this.sendConnection)throw new uC(lC.UNEXPECTED_ERROR,"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .");this.store.peerConnectionStart(),await this.sendConnection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=ZA.Connected}async addRemoteCandidate(e,t){if(t===EA.RECEIVE_ONLY){if(!this.sendConnection)throw new uC(lC.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.sendConnection.addRemoteCandidate(e)}else{if(!this.recvConnection)throw new uC(lC.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.recvConnection.addRemoteCandidate(e)}}publish(e,t,n){var r=this;return MS((function*(){const o=yield LS(r.sendMutex.lock("From P2PChannel.publish"));try{if(!r.sendConnection||r.state!==ZA.Connected){r.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===r.pendingLocalTracks.indexOf(e)));return void(r.pendingLocalTracks=r.pendingLocalTracks.concat(t))}r.store.pubId=r.store.pubId+1,JU.markPublishStart(r.store.clientId,r.store.pubId);const o=r.filterTobePublishedTracks(e,t,n);if(0===o.length)return void(yield LS(r.tryToUnmuteAudio(e)));o.forEach((e=>{let{track:t,type:n}=e;const o=Date.now();r.store.publish(t.getTrackId(),n===JA.LocalAudioTrack?"audio":"video",o)})),r.bindLocalTrackEvents(o);const a=yield LS(r.sendConnection.send(o.map((e=>{let{track:t}=e;return t})),r.store.codec,r.store.audioCodec)),s=(yield LS(a.next())).value,c=r.createGatewayPublishMessage(o,s);try{yield c}catch(i){throw a.throw(i),(null==i?void 0:i.code)===lC.WS_ABORT&&o.forEach((e=>{let{track:t}=e;-1===r.pendingLocalTracks.indexOf(t)&&r.pendingLocalTracks.push(t)})),r.unbindLocalTrackEvents(o),i}yield LS(a.next()),o.forEach((e=>{let{type:t}=e;r.statsCollector.addLocalStats(t)})),r.statsUploader.startUploadOutboundStats(),r.assignLocalTracks(o,s),o.forEach((e=>{let{track:t,type:n}=e;const o=Date.now();r.store.publish(t.getTrackId(),n===JA.LocalAudioTrack?"audio":"video",void 0,o)})),r.startUploadUplinkState()}finally{o()}}))()}async unpublish(e){if(!this.sendConnection||this.state!==ZA.Connected)return void(0===e.length?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter((t=>!Or(e).call(e,t))));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find((e=>"videoLowTrack"===e[0]));n&&n[1].track.close();const r=this.createGatewayUnpublishMessage(t);if(await this.sendConnection.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:n}]=e;return{type:t,track:n}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===ZA.Connected)return n&&n[1].track.close(),r;e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}))}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const e=()=>{const e=[],t=[];Array.from(this.localTrackMap.entries()).forEach((n=>{let[r,{track:o,ssrcs:i}]=n;const a={stream_type:oV(o,r),ssrcs:i};o._muted||!o._enabled?e.push(a):t.push(a)})),e.length>0&&e.forEach((e=>{zC(this,QA.RequestMuteLocal,[e])})),t.length>0&&t.forEach((e=>{zC(this,QA.RequestUnmuteLocal,[e])}))};e(),this.uplinkStateUploadInterval=window.setInterval((()=>{e()}),3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(e){return MS((function*(){throw new uC(lC.NOT_SUPPORTED,"p2p mode does not support publishLowStream.")}))()}async republish(){this.pendingLocalTracks.length>0&&(oI.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await BC(this,QA.RequestRePublish,this.pendingLocalTracks),this.emit(QA.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new uC(lC.NOT_SUPPORTED,"p2p mode does not support unpublishLowStream.")}async subscribe(e,t,n,r){var o;if(!this.recvConnection)throw new uC(lC.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");if(null!==(o=this.remoteUserMap.get(e))&&void 0!==o&&o.has(t))return;const{track:i,mid:a,transceiver:s}=await this.recvConnection.receive(t,[{ssrcId:n}],String(e.uid),r);t===YA.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(i):(e._audioTrack=new uL(i,e.uid,e._uintid,this.store),oI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),s&&e._audioTrack._updateRtpTransceiver(s),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoSSRC=n,e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(i):(e._videoTrack=new lL(i,e.uid,e._uintid,this.store),oI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),s&&e._videoTrack._updateRtpTransceiver(s),this.bindRemoteTrackEvents(e,e._videoTrack));const c=this.remoteUserMap.get(e);c?c.set(t,a):this.remoteUserMap.set(e,new Map([[t,a]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const l=this.pendingRemoteTracks.findIndex((n=>{let{user:r,kind:o}=n;return r.uid===e.uid&&t===o}));-1!==l&&(this.pendingRemoteTracks.splice(l,1),this.emit(QA.MediaReconnectEnd,e.uid))}async mockSubscribe(e,t,n,r){if(!this.recvConnection)throw new uC(lC.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");await this.recvConnection.mockReceive(t,[{ssrcId:n}],String(e.uid),r)}async unsubscribe(e,t,n){const r=this.pendingRemoteTracks.filter((n=>{let{user:r,kind:o}=n;return void 0!==t?r.uid===e.uid&&t===o:r.uid===e.uid}));if(r.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.recvConnection||n||r.forEach((t=>{let{kind:n}=t;var r;if(n===YA.AUDIO)null===(r=e._audioTrack)||void 0===r||r._destroy(),e._audioTrack=void 0;else if(n===YA.VIDEO){var o;null===(o=e._videoTrack)||void 0===o||o._destroy(),e._videoTrack=void 0}})),!this.recvConnection)return;const o=this.filterTobeUnSubscribedTracks(e,t);0!==o.length&&(await this.recvConnection.stopReceiving(o.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawRemoteTracks(o),0===this.remoteUserMap.size&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),o.forEach((e=>{let[t,{kind:r}]=e;var o,i;if(r===YA.VIDEO&&t._videoSSRC&&(null===(o=this.recvConnection)||void 0===o||o.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),r===YA.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(i=t._videoTrack)||void 0===i||i._destroy(),t._videoTrack=void 0);else if(r===YA.AUDIO){var a;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(a=t._audioTrack)||void 0===a||a._destroy(),t._audioTrack=void 0)}})),o.forEach((e=>{let[,{kind:t}]=e;zC(this,QA.RequestP2PMuteRemote,t)})))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const e=()=>Array.from(this.remoteUserMap.entries()).forEach((e=>{let[,t]=e;[YA.VIDEO,YA.AUDIO].forEach((e=>{t.has(e)?zC(this,QA.RequestP2PUnmuteRemote,e):zC(this,QA.RequestP2PMuteRemote,e)}))}));e(),this.downlinkStatsUploadInterval=window.setInterval((()=>{e()}),3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(e){throw new uC(lC.NOT_SUPPORTED,"p2p mode does not support massSubscribe.")}async massSubscribeNoLock(e){throw new uC(lC.NOT_SUPPORTED,"p2p mode does not support massSubscribeNoLock.")}async massUnsubscribe(e){throw new uC(lC.NOT_SUPPORTED,"p2p mode does not support massUnsubscribe.")}async massUnsubscribeNoLock(e){throw new uC(lC.NOT_SUPPORTED,"p2p mode does not support massUnsubscribeNoLock.")}async muteRemote(e,t){if(!this.recvConnection)return;const n=this.remoteUserMap.get(e);if(!n)return void oI.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(e.uid,"."));if(!n.get(t))return void oI.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."));const r=t===YA.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==r&&this.recvConnection.setStatsRemoteVideoIsReady(r,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.recvConnection)return;const n=this.remoteUserMap.get(e);n?n.get(t)||oI.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(e.uid," media type ").concat(t,".")):oI.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(e.uid,"."))}getAllTracks(e){const t=this.localTrackMap.get(JA.LocalAudioTrack);if((null==t?void 0:t.track)instanceof sM){const n=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==JA.LocalAudioTrack})).filter((t=>{let[n]=t;return!(e&&n===JA.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[n]=t;return!(e&&n===JA.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}reportPublishEvent(e,t,n,r,o){if(e){const n=this.localTrackMap.get(JA.LocalAudioTrack),i=r?this.localTrackMap.get(JA.LocalVideoLowTrack):this.localTrackMap.get(JA.LocalVideoTrack);hI.publish(this.store.sessionId,{eventElapse:JU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==i?void 0:i.track.getTrackLabel(),screenshare:-1!==(null==i?void 0:i.track._hints.indexOf(nx.SCREEN_TRACK)),audio:!!n,video:!!i,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:o})}else{var i;n||(n=[]);const a=n.find((e=>e instanceof oM)),s=r?null===(i=this.localTrackMap.get(JA.LocalVideoTrack))||void 0===i?void 0:i.track:n.find((e=>e instanceof KM));hI.publish(this.store.sessionId,{eventElapse:JU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==a?void 0:a.getTrackLabel(),videoName:null==s?void 0:s.getTrackLabel(),screenshare:-1!==(null==s?void 0:s._hints.indexOf(nx.SCREEN_TRACK)),audio:!!a,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:o})}}reportSubscribeEvent(e,t,n,r){const o=r===YA.VIDEO?n._videoSSRC:n._audioSSRC;o&&hI.subscribe(this.store.sessionId,{succ:e,ec:t,video:r===YA.VIDEO,audio:r===YA.AUDIO,peerid:n.uid,subscribeRequestid:r===YA.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:JU.measureFromSubscribeStart(this.store.clientId,o)})}reset(){oI.debug("[".concat(this.store.clientId,"] P2PChannel2.reset")),this.sendMutex=new yR("P2PChannel2-send-mutex",this.store.clientId),this.sendMutex=new yR("P2PChannel2-recv-mutex",this.store.clientId),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(JA.LocalAudioTrack);if((null==e?void 0:e.track)instanceof sM){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=ZA.Disconnected}getStats(e){var t,n;return e?null===(n=this.recvConnection)||void 0===n?void 0:n.getStats():null===(t=this.sendConnection)||void 0===t?void 0:t.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.recvConnection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(JA.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(JA.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof KM||t&&t.track instanceof oM?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(rf(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(JA.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Qf(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(oI.debug("[".concat(this.store.clientId,"] P2PChannel2.disconnectForReconnect closing P2PConnection")),this.state=ZA.Reconnecting,jR("KEEP_LAST_FRAME")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var n;t._videoTrack&&t._videoTrack._player&&(null===(n=t._videoTrack._player.getVideoElement())||void 0===n||n.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[n,{track:r}]=e;switch(n){case JA.LocalVideoTrack:Or(t=r._hints).call(t,nx.LOW_STREAM)?r.close():this.pendingLocalTracks.push(r);break;case JA.LocalAudioTrack:r instanceof sM?this.pendingLocalTracks=this.pendingLocalTracks.concat(r.trackList):this.pendingLocalTracks.push(r);case JA.LocalVideoLowTrack:}})),this.emit(QA.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;Array.from(rf(n).call(n)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(QA.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),oI.debug("[".concat(this.store.clientId,"] P2PChannel2 disconnected, waiting to reconnect.")))}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:r,kind:o}=n;if((e instanceof nV?e.uid:e)===r.uid&&t===o)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async restartICE(e,t){let n,r;if(e===EA.SEND_ONLY){if(!this.sendConnection)throw new uC(lC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.");n=await this.sendMutex.lock("From P2PChannel.restartICE"),r=this.sendConnection}else{if(!this.recvConnection)throw new uC(lC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.");n=await this.recvMutex.lock("From P2PChannel.restartICE"),r=this.recvConnection}try{if(t){const e=await r.restartICE(t);return r.isInRestartIce=!1,e}{const e=await r.restartICE();if(e){const t=await BC(this,QA.RequestP2PRestartICE,{direction:EA.RECEIVE_ONLY,iceParameter:e});await r.restartICE(t),r.isInRestartIce=!1}}}finally{n()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const e=this.sendConnection.getStats(),t=this.localTrackMap.get(JA.LocalVideoTrack),n=this.localTrackMap.get(JA.LocalAudioTrack),r=e.videoSend.find((e=>{var n;return e.ssrc===(null==t||null===(n=t.ssrcs)||void 0===n?void 0:n[0].ssrcId)})),o=e.audioSend.find((e=>{var t;return e.ssrc===(null==n||null===(t=n.ssrcs)||void 0===t?void 0:t[0].ssrcId)}));if(!r||!o)return 1;const i=FC(this,QA.NeedSignalRTT),a=r?r.rttMs:void 0,s=o?o.rttMs:void 0,c=a&&s?(a+s)/2:a||s,l=(c&&i?(c+i)/2:c||i)||0,u=100*e.sendPacketLossRate*.7/50+.3*l/1500,d=u<.17?1:u<.36?2:u<.59?3:u<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(nx.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return mI[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][d]}}return d}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const e=this.recvConnection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((n=>{let[r]=n;const o=r._audioSSRC,i=r._videoSSRC,a=e.audioRecv.find((e=>e.ssrc===o)),s=e.videoRecv.find((e=>e.ssrc===i));if(!a&&!s)return void(t+=1);const c=FC(this,QA.NeedSignalRTT),l=e.rtt,u=(l&&c?(l+c)/2:l||c)||0,d=a?a.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*u/1500;d&&(p=.6*h*100/50+.2*u/1500+.2*d/400),t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new Uh(((t,n)=>{this.handleMuteLocalTrack(e,t,n)}))}filterTobePublishedTracks(e,t,n){const r=[],o=UD(),i=this.getAllTracks();e=qC(e=e.filter((e=>-1===i.indexOf(e))));let a=!1,s=!1;for(const c of e){if(c instanceof KM&&(this.localTrackMap.has(JA.LocalVideoTrack)||a?new uC(lC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(r.push({track:c,type:JA.LocalVideoTrack}),a=!0),t)){const e=this.getLowVideoTrack(c,n);r.push({track:e,type:JA.LocalVideoLowTrack})}if(c instanceof oM){const e=this.localTrackMap.get(JA.LocalAudioTrack);if(e){if(!(e.track instanceof sM))throw new uC(lC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new uC(lC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0)}else if(s){const e=r.find((e=>{let{type:t}=e;return t===JA.LocalAudioTrack}));if(!(e.track instanceof sM))throw new uC(lC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new uC(lC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(c)}else{if(!o.webAudioMediaStreamDest||c instanceof sM||c._bypassWebAudio)r.push({track:c,type:JA.LocalAudioTrack});else{const e=new sM;e.addAudioTrack(c),r.push({track:e,type:JA.LocalAudioTrack})}s=!0}}}return r}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=qC(e=e.filter((e=>-1!==n.indexOf(e))));for(const r of e){if(r instanceof oM){const e=this.localTrackMap.get(JA.LocalAudioTrack);if(!e)continue;e.track instanceof sM?(e.track.removeAudioTrack(r),this.unbindLocalAudioTrackEvents(r),0===e.track.trackList.length&&(t.push([JA.LocalAudioTrack,e]),e.track.close())):t.push([JA.LocalAudioTrack,e])}if(r instanceof KM){const e=this.localTrackMap.get(JA.LocalVideoTrack);if(!e)continue;t.push([JA.LocalVideoTrack,e]);const n=this.localTrackMap.get(JA.LocalVideoLowTrack);n&&t.push([JA.LocalVideoLowTrack,n])}}return t}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:n}=e;switch(n){case JA.LocalVideoTrack:t.addListener(tx.GET_STATS,this.handleGetLocalVideoStats),t.addListener(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(tx.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(tx.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.addListener(tx.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case JA.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case JA.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof sM?e.trackList.forEach((e=>{e.addListener(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(tx.GET_STATS,this.handleGetLocalAudioStats),e.addListener(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(tx.GET_STATS,this.handleGetLocalAudioStats),e.addListener(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(tx.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:n}]=e;return{track:n,type:t}}))),e.forEach((e=>{let{track:t,type:n}=e;switch(n){case JA.LocalVideoTrack:t.off(tx.GET_STATS,this.handleGetLocalVideoStats),t.off(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(tx.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(tx.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.off(tx.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case JA.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case JA.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof sM?e.trackList.forEach((e=>{e.off(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(tx.GET_STATS,this.handleGetLocalAudioStats),e.off(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(tx.GET_STATS,this.handleGetLocalAudioStats),e.off(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(tx.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof lL&&t.addListener(tx.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof uL&&t.addListener(tx.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(tx.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;n.has(YA.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(YA.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,n)=>{var r;let o,{track:i,type:a}=e;switch(a){case JA.LocalAudioTrack:o=UA.Audio;break;case JA.LocalVideoTrack:o=Or(r=i._hints).call(r,nx.SCREEN_TRACK)?UA.Screen:UA.High;break;case JA.LocalVideoLowTrack:o=UA.Low}return{kind:a===JA.LocalAudioTrack?YA.AUDIO:YA.VIDEO,stream_type:o,mid:t[n].id,ssrcs:t[n].localSSRC,isMuted:i.muted||!i.enabled}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let n,[r,{track:o,ssrcs:i,id:a}]=e;switch(r){case JA.LocalVideoTrack:n=Or(t=o._hints).call(t,nx.SCREEN_TRACK)?UA.Screen:UA.High;break;case JA.LocalAudioTrack:n=UA.Audio;break;case JA.LocalVideoLowTrack:n=UA.Low}return{stream_type:n,ssrcs:i,mid:a}}))}assignLocalTracks(e,t){e.forEach(((e,n)=>{let{track:r,type:o}=e;this.localTrackMap.set(o,{track:r,id:t[n].id,ssrcs:t[n].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{var n;oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: ").concat(e.name,".onConnectionStateChange(").concat(t,")")),this.emit(QA.PeerConnectionStateChange,t),"connected"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"connected"===t&&(e.isInRestartIce=!1),Or(n=this._restartStates).call(n,t)&&!e.isInRestartIce&&("disconnected"===t&&await iR(800),"disconnected"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||this.handleDisconnect(e.direction))},e.onICEConnectionStateChange=e=>{"connected"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),hI.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:OC.TRACER}).onSuccess(),this.emit(QA.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=e=>{oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=e=>{oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(rf(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var r;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(r=n.audioTrack)||void 0===r||r.emit(cx.FIRST_FRAME_DECODED),hI.firstRemoteFrame(this.store.sessionId,cI.FIRST_AUDIO_DECODE,lI.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:JU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(rf(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));n&&hI.firstRemoteFrame(this.store.sessionId,cI.FIRST_AUDIO_RECEIVED,lI.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:JU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=e=>{var t;const n=Array.from(rf(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));n&&hI.firstRemoteFrame(this.store.sessionId,cI.FIRST_VIDEO_RECEIVED,lI.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:JU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,r="relay"===t.candidateType;"unknown"!==t.candidateType&&n===r||this.emit(QA.ConnectionTypeChange,n),oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(HO(t))," -> ").concat(JSON.stringify(HO(e)),")"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(HO(t))," -> ").concat(JSON.stringify(HO(e)),")"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.onLocalCandidate=t=>{this.emit(QA.LocalCandidate,{candidate:t,direction:e.direction})}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.onLocalCandidate=void 0}async handleDisconnect(e){const t=e===EA.SEND_ONLY?this.sendConnection:this.recvConnection;t&&!t.isInRestartIce&&(t.isInRestartIce=!0,oI.debug("[".concat(this.store.clientId,"] [P2PChannel-").concat(t.name,"] start use restartICE")),e===EA.SEND_ONLY?this.restartICE(e):BC(this,QA.RequestP2PRestartICE,{direction:EA.SEND_ONLY}))}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(JA.LocalAudioTrack);if(e instanceof oM&&(null==n?void 0:n.track)instanceof sM)return n.track.isActive||t.push([JA.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r&&(t.push(r),r[0]===JA.LocalVideoTrack)){const e=this.localTrackMap.get(JA.LocalVideoLowTrack);e&&t.push([JA.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(JA.LocalAudioTrack);if(e instanceof oM&&(null==n?void 0:n.track)instanceof sM)return n.track.isActive&&t.push([JA.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r)if(r[0]===JA.LocalVideoTrack){t.push(r);const e=this.localTrackMap.get(JA.LocalVideoLowTrack);e&&t.push([JA.LocalVideoLowTrack,e])}else t.push(r);return t}createMuteMessage(e){return e.map((e=>{var t;let n,[r,{track:o,ssrcs:i,id:a}]=e;switch(r){case JA.LocalAudioTrack:n=UA.Audio;break;case JA.LocalVideoTrack:n=Or(t=o._hints).call(t,nx.SCREEN_TRACK)?UA.Screen:UA.High;break;case JA.LocalVideoLowTrack:n=UA.Low}return{stream_type:n,ssrcs:i,mid:a}}))}createUnmuteMessage(e){return e.map((e=>{var t;let n,[r,{track:o,ssrcs:i,id:a}]=e;switch(r){case JA.LocalAudioTrack:n=UA.Audio;break;case JA.LocalVideoTrack:n=Or(t=o._hints).call(t,nx.SCREEN_TRACK)?UA.Screen:UA.High;break;case JA.LocalVideoLowTrack:n=UA.Low}return{stream_type:n,ssrcs:i,mid:a}}))}filterTobeUnSubscribedTracks(e,t){const n=[],r=this.remoteUserMap.get(e);if(!r)return n;if(t){const o=r.get(t);if(!o)return n;n.push([e,{kind:t,id:o}])}else Array.from(r.entries()).forEach((t=>{let[r,o]=t;n.push([e,{kind:r,id:o}])}));return n}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[n,{kind:r,id:o}]=e;switch(r){case YA.VIDEO:return void(n._videoSSRC&&t.push({stream_type:YA.VIDEO,ssrcId:n._videoSSRC}));case YA.AUDIO:return void(n._audioSSRC&&t.push({stream_type:YA.AUDIO,ssrcId:n._audioSSRC}))}})),t}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:n}]=e;const r=this.remoteUserMap.get(t);r&&(r.delete(n),0===Array.from(r.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(JA.LocalVideoTrack),n=this.localTrackMap.get(JA.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const e=this.sendConnection.peerConnectionState,t=this.recvConnection.peerConnectionState;return"connected"!==e&&"connected"!==t}return!0}async tryToUnmuteAudio(e){for(let t=0;t<e.length;t++)if(e[t]instanceof oM){const n=this.filterTobeUnmutedTracks(e[t]);if(0===n.length)continue;const r=this.createUnmuteMessage(n);return void(await zC(this,QA.RequestUnmuteLocal,r))}}bindStatsUploaderEvents(){this.statsUploader.requestStats=e=>this.getStats(e),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter((e=>{let[,{ssrcs:t}]=e;return!!t})),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.recvConnection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(QA.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(QA.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await iR(bR(this.dtlsFailedCount,ER)),this.emit(QA.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(JA.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof KM))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof KM)).length>1)throw new uC(lC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof oM)).length>1&&(e.some((e=>e instanceof oM&&e._bypassWebAudio))||!UD().webAudioMediaStreamDest))throw new uC(lC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof KM&&this.pendingLocalTracks.some((e=>e instanceof KM)))throw new uC(lC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof oM&&this.pendingLocalTracks.some((e=>e instanceof oM))&&(!UD().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof oM&&e._bypassWebAudio))))throw new uC(lC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){const n=!jR("DISABLE_DUAL_STREAM_USE_ENCODING")&&UD().supportDualStreamEncoding,r=EV(EV({},{width:160,height:120,framerate:15,bitrate:50}),t);let o;o=n?e._mediaStreamTrack.clone():Vj(e,r);const i=aR(8,"track-low-"),a=new KM(o,EV(EV({},n&&{scaleResolutionDownBy:FO(r,e)}),{},{frameRate:r.framerate,bitrateMax:r.bitrate,bitrateMin:r.bitrate}),void 0,void 0,i);return a.on(ax.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,rx.LOW_STREAM)})),a._hints.push(nx.LOW_STREAM),e.addListener(tx.NEED_CLOSE,(()=>{a.close()})),a}async globalLock(){return this.recvMutex.lock("From P2PChannel2.globalLock")}reportVideoFirstFrameDecoded(e,t,n,r){var o;const i=Array.from(rf(o=this.remoteUserMap).call(o)).find((t=>t._videoSSRC===e));if(i){r||this.store.subscribe(i.uid,"video",void 0,void 0,void 0,void 0,Date.now());const o=this.store.keyMetrics,a=o.subscribe.find((e=>e.userId===i.uid&&"video"===e.type));hI.firstRemoteVideoDecode(this.store.sessionId,cI.FIRST_VIDEO_DECODE,lI.FIRST_VIDEO_DECODE,{peer:i._uintid,videowidth:t,videoheight:n,subscribeElapse:JU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:o.requestAPEnd||0,apStart:o.requestAPStart||0,joinGwEnd:o.joinGatewayEnd||0,joinGwStart:o.joinGatewayStart||0,pcEnd:o.peerConnectionEnd||0,pcStart:o.peerConnectionStart||0,subscriberEnd:(null==a?void 0:a.subscribeEnd)||0,subscriberStart:(null==a?void 0:a.subscribeStart)||0,videoAddNotify:(null==a?void 0:a.streamAdded)||0,state:r?1:0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.recvConnection)return!1;const r=this.remoteUserMap.get(e);if(!r)return!1;const o=r.get(t);if(!o)return!1;const i=await this.recvConnection.getRemoteSSRC(o);return void 0!==i&&i!==n}isPreSubScribe(e){return!1}async publishDataChannel(e){throw new uC(lC.NOT_SUPPORTED)}async unpublishDataChannel(e){throw new uC(lC.NOT_SUPPORTED)}async subscribeDataChannel(e,t){throw new uC(lC.NOT_SUPPORTED)}async unsubscribeDataChannel(e,t){throw new uC(lC.NOT_SUPPORTED)}hasPendingRemoteDataChannel(e,t){throw new uC(lC.NOT_SUPPORTED)}setPendingRemoteDataChannel(e,t){throw new uC(lC.NOT_SUPPORTED)}async preConnect(e){throw new uC(lC.NOT_SUPPORTED)}getEstablishParams(){throw new uC(lC.NOT_SUPPORTED)}async reSubscribe(e){throw new uC(lC.NOT_SUPPORTED)}async updateVideoStreamParameter(e,t){throw new uC(lC.NOT_SUPPORTED)}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:n}]=e;t===JA.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,rx.LOW_STREAM):n._updateRtpTransceiver(void 0)}))}}).prototype,"p2pConnect",[sV],Object.getOwnPropertyDescriptor(yV.prototype,"p2pConnect"),yV.prototype),sA(yV.prototype,"unpublish",[cV],Object.getOwnPropertyDescriptor(yV.prototype,"unpublish"),yV.prototype),sA(yV.prototype,"unpublishLowStream",[lV],Object.getOwnPropertyDescriptor(yV.prototype,"unpublishLowStream"),yV.prototype),sA(yV.prototype,"subscribe",[uV],Object.getOwnPropertyDescriptor(yV.prototype,"subscribe"),yV.prototype),sA(yV.prototype,"mockSubscribe",[dV],Object.getOwnPropertyDescriptor(yV.prototype,"mockSubscribe"),yV.prototype),sA(yV.prototype,"unsubscribe",[hV],Object.getOwnPropertyDescriptor(yV.prototype,"unsubscribe"),yV.prototype),sA(yV.prototype,"muteRemote",[pV],Object.getOwnPropertyDescriptor(yV.prototype,"muteRemote"),yV.prototype),sA(yV.prototype,"unmuteRemote",[fV],Object.getOwnPropertyDescriptor(yV.prototype,"unmuteRemote"),yV.prototype),sA(yV.prototype,"hasRemoteMediaWithLock",[mV],Object.getOwnPropertyDescriptor(yV.prototype,"hasRemoteMediaWithLock"),yV.prototype),sA(yV.prototype,"disconnectForReconnect",[gV],Object.getOwnPropertyDescriptor(yV.prototype,"disconnectForReconnect"),yV.prototype),sA(yV.prototype,"remoteMediaSsrcChanged",[vV],Object.getOwnPropertyDescriptor(yV.prototype,"remoteMediaSsrcChanged"),yV.prototype),yV);function TV(e){return function(t,n,r){const o=t[n];if("function"!=typeof o)throw new Error("Cannot use mutex on object property.");return r.value=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];switch(e){case rV.SEND_ONLY:{const e=await this.sendMutex.lock("From P2PChannel2.".concat(n));try{return await o.apply(this,r)}finally{e()}}case rV.RECEIVE_ONLY:{const e=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await o.apply(this,r)}finally{e()}}default:{const e=await this.sendMutex.lock("From P2PChannel2.".concat(n)),t=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await o.apply(this,r)}finally{e(),t()}}}},r}}function SV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SV(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class CV{constructor(e){OE(this,"store",void 0),OE(this,"onStatsException",void 0),OE(this,"onUploadPublishDuration",void 0),OE(this,"onStatsChanged",void 0),OE(this,"localStats",new Map),OE(this,"remoteStats",new Map),OE(this,"updateStatsInterval",void 0),OE(this,"trafficStats",void 0),OE(this,"trafficStatsPeerList",[]),OE(this,"uplinkStats",void 0),OE(this,"exceptionMonitor",void 0),OE(this,"p2pChannel",void 0),OE(this,"scalabilityMode",cA.L1T1),OE(this,"updateStats",(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e,this.exceptionMonitor=new XU,this.exceptionMonitor.on("exception",((e,t,n)=>{this.onStatsException&&this.onStatsException(e,t,n)}))}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3))}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0)}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(JA.LocalAudioTrack)||wV({},dx)}getLocalVideoTrackStats(){return this.localStats.get(JA.LocalVideoTrack)||wV({},hx)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var r;const o=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.audioStats;o&&(n[e]=t(e,o))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[r,{audioStats:o}]=e;o&&(n[r]=t(r,o))}));return n}getRemoteNetworkQualityStats(e){const t={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.networkStats;r&&(t[e]=r)}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{networkStats:r}]=e;r&&(t[n]=r)}));return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var r;const o=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.videoStats;o&&(n[e]=t(e,o))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[r,{videoStats:o}]=e;o&&(n[r]=t(r,o))}));return n}getRTCStats(){let e=0,t=0,n=0,r=0;const o=this.localStats.get(JA.LocalAudioTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate);const i=this.localStats.get(JA.LocalVideoTrack);i&&(e+=i.sendBytes,t+=i.sendBitrate);const a=this.localStats.get(JA.LocalVideoLowTrack);a&&(e+=a.sendBytes,t+=a.sendBitrate),this.remoteStats.forEach((e=>{let{audioStats:t,videoStats:o}=e;t&&(n+=t.receiveBytes,r+=t.receiveBitrate),o&&(n+=o.receiveBytes,r+=o.receiveBitrate)}));let s=1;return this.trafficStats&&(s+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:s,SendBitrate:t,SendBytes:e,RecvBytes:n,RecvBitrate:r,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter((e=>void 0!==e.B_ppad||void 0!==e.B_ppvd)),e.peer_delay.filter((e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid))).forEach((e=>{var t;const n=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),r=null!=n&&n.videoSSRC?JU.measureFromSubscribeStart(this.store.clientId,n.videoSSRC):0,o=null!=n&&n.audioSSRC?JU.measureFromSubscribeStart(this.store.clientId,n.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,r>o?r:o),this.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&oI.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,n){if(!e)return!1;const r=!!n&&t.framesDecodeFreezeTime>n.framesDecodeFreezeTime,o=!n||t.framesDecodeCount>n.framesDecodeCount;return r||!o}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3}updateLocalStats(e){Array.from(this.localStats.entries()).forEach((t=>{let[n,r]=t;switch(n){case JA.LocalVideoTrack:case JA.LocalVideoLowTrack:{const t=r,i=wV({},hx),a=e.getStats(),s=e.getLocalMedia(n);if(a){const n=a.videoSend.find((e=>e.ssrc===(null==s?void 0:s.ssrcs[0].ssrcId)));if(n){const r=e.getLocalVideoSize(),o=e.getEncoderConfig(JA.LocalVideoTrack);"H264"!==n.codec&&"H265"!==n.codec&&"VP8"!==n.codec&&"VP9"!==n.codec&&"AV1X"!==n.codec&&"AV1"!==n.codec||(i.codecType=n.codec),i.sendBytes=n.bytes,i.sendBitrate=t?8*Math.max(0,i.sendBytes-t.sendBytes):0,n.inputFrame?(i.captureFrameRate=n.inputFrame.frameRate,i.captureResolutionHeight=n.inputFrame.height,i.captureResolutionWidth=n.inputFrame.width):r&&(i.captureResolutionWidth=r.width,i.captureResolutionHeight=r.height),n.sentFrame?(i.sendFrameRate=n.sentFrame.frameRate,i.sendResolutionHeight=n.sentFrame.height,i.sendResolutionWidth=n.sentFrame.width):r&&(i.sendResolutionWidth=r.width,i.sendResolutionHeight=r.height),n.avgEncodeMs&&(i.encodeDelay=n.avgEncodeMs),o&&o.bitrateMax&&(i.targetSendBitrate=1e3*o.bitrateMax),i.sendPackets=n.packets,i.sendPacketsLost=n.packetsLost,i.sendJitterMs=n.jitterMs,i.sendRttMs=n.rttMs,i.totalDuration=t?t.totalDuration+1:1,i.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(n)&&(i.totalFreezeTime+=1),n.scalabilityMode&&this.scalabilityMode!==n.scalabilityMode&&(oI.debug("[".concat(this.store.clientId,"]: The scalabilityMode of the video sending stream is ").concat(n.scalabilityMode)),this.scalabilityMode=n.scalabilityMode)}this.trafficStats&&(i.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var o;this.localStats.set(n,i),((null==t?void 0:t.sendResolutionWidth)!==i.sendResolutionWidth||(null==t?void 0:t.sendResolutionHeight)!==i.sendResolutionHeight)&&(null===(o=this.onStatsChanged)||void 0===o||o.call(this,"resolution",{width:i.sendResolutionWidth,height:i.sendResolutionHeight})),i&&s&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,s.track,i);break}case JA.LocalAudioTrack:{const t=r,o=wV({},dx),i=e.getStats(),a=e.getLocalMedia(n);if(i){const n=i.audioSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(n){if("opus"!==n.codec&&"aac"!==n.codec&&"PCMU"!==n.codec&&"PCMA"!==n.codec&&"G722"!==n.codec||(o.codecType=n.codec),n.inputLevel)o.sendVolumeLevel=Math.round(32767*n.inputLevel);else{const t=e.getLocalAudioVolume();t&&(o.sendVolumeLevel=Math.round(32767*t))}o.sendBytes=n.bytes,o.sendPackets=n.packets,o.sendPacketsLost=n.packetsLost,o.sendJitterMs=n.jitterMs,o.sendRttMs=n.rttMs,o.sendBitrate=t?8*Math.max(0,o.sendBytes-t.sendBytes):0}}this.trafficStats&&(o.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(JA.LocalAudioTrack,o),o&&a&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,a.track,o);break}}}))}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach((t=>{var n,r;let[o,{videoStats:i,audioStats:a,videoPcStats:s}]=t;const c=a,l=i,u=s,d=wV({},px),h=wV({},mx),p=wV({},fx),{audioTrack:f,videoTrack:m,audioSSRC:g,videoSSRC:v}=e.getRemoteMedia(o);let y;y=e instanceof bV?e.getStats(!0):e.getStats();const _=null===(n=y)||void 0===n?void 0:n.audioRecv.find((e=>e.ssrc===g)),E=null===(r=y)||void 0===r?void 0:r.videoRecv.find((e=>e.ssrc===v)),b=this.trafficStats&&this.trafficStats.peer_delay.find((e=>e.peer_uid===o));if(_&&("opus"!==_.codec&&"aac"!==_.codec&&"PCMU"!==_.codec&&"PCMA"!==_.codec&&"G722"!==_.codec||(d.codecType=_.codec),_.outputLevel?d.receiveLevel=Math.round(32767*_.outputLevel):f&&(d.receiveLevel=Math.round(32767*f.getVolumeLevel())),d.receiveBytes=_.bytes,d.receivePackets=_.packets,d.receivePacketsLost=_.packetsLost,d.receivePacketsDiscarded=_.packetsDiscarded,d.packetLossRate=d.receivePacketsLost/(d.receivePackets+d.receivePacketsLost),d.receiveBitrate=c?8*Math.max(0,d.receiveBytes-c.receiveBytes):0,d.totalDuration=c?c.totalDuration+1:1,d.totalFreezeTime=c?c.totalFreezeTime:0,d.freezeRate=d.totalFreezeTime/d.totalDuration,d.receiveDelay=_.jitterBufferMs,d.totalDuration>10&&CV.isRemoteAudioFreeze(f)&&(d.totalFreezeTime+=1)),E){"H264"!==E.codec&&"H265"!==E.codec&&"VP8"!==E.codec&&"VP9"!==E.codec&&"AV1X"!==E.codec&&"AV1"!==E.codec||(h.codecType=E.codec),h.receiveBytes=E.bytes,h.receiveBitrate=l?8*Math.max(0,h.receiveBytes-l.receiveBytes):0,h.decodeFrameRate=E.decodeFrameRate<0?0:E.decodeFrameRate,h.renderFrameRate=E.decodeFrameRate<0?0:E.decodeFrameRate,E.outputFrame&&(h.renderFrameRate=E.outputFrame.frameRate),E.receivedFrame?(h.receiveFrameRate=E.receivedFrame.frameRate,h.receiveResolutionHeight=E.receivedFrame.height,h.receiveResolutionWidth=E.receivedFrame.width):m&&(h.receiveResolutionHeight=m._videoHeight||0,h.receiveResolutionWidth=m._videoWidth||0),void 0!==E.framesRateFirefox&&(h.receiveFrameRate=Math.round(E.framesRateFirefox)),h.receivePackets=E.packets,h.receivePacketsLost=E.packetsLost,h.packetLossRate=h.receivePacketsLost/(h.receivePackets+h.receivePacketsLost),h.totalDuration=l?l.totalDuration+1:1,h.totalFreezeTime=l?l.totalFreezeTime:0,h.receiveDelay=E.jitterBufferMs||0;const t=!!v&&e.getRemoteVideoIsReady(v);m&&t&&CV.isRemoteVideoFreeze(m,E,u)&&(h.totalFreezeTime+=1),h.freezeRate=h.totalFreezeTime/h.totalDuration}b&&(d.end2EndDelay=b.B_ad,h.end2EndDelay=b.B_vd,d.transportDelay=b.B_ed,h.transportDelay=b.B_ed,d.currentPacketLossRate=b.B_ealr4/100,h.currentPacketLossRate=b.B_evlr4/100,p.uplinkNetworkQuality=b.B_punq?b.B_punq:0,p.downlinkNetworkQuality=b.B_pdnq?b.B_pdnq:0),this.remoteStats.set(o,{audioStats:d,videoStats:h,videoPcStats:E,networkStats:p}),f&&this.exceptionMonitor.setRemoteAudioStats(f,d),m&&this.exceptionMonitor.setRemoteVideoStats(m,h)}))}}class RV{constructor(){OE(this,"destChannelMediaInfos",new Map),OE(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(e){DA(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){DA(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){TA(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function IV(e){if(!(e instanceof RV))return new pI(lC.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const t=e.getSrcChannelMediaInfo(),n=e.getDestChannelMediaInfo();return t?0===n.size?new pI(lC.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new pI(lC.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}function AV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AV(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NV;function kV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kV(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let xV=(sA((NV=class e extends KA{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return Or(t=Object.keys(FR)).call(t,e)})))]}constructor(t,n){super(t,n),OE(this,"store",void 0),OE(this,"peerConnection",void 0),OE(this,"remoteSDP",void 0),OE(this,"initialOffer",void 0),OE(this,"statsFilter",void 0),OE(this,"useRTX",!1),OE(this,"localCapabilities",void 0),OE(this,"localCandidateCount",0),OE(this,"allCandidatesReceived",!1),OE(this,"establishPromise",void 0),OE(this,"mutex",void 0),this.store=n,this.mutex=new yR("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=kj(this.peerConnection,jR("STATS_UPDATE_INTERVAL"),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=ML(e.sdp),n=PL(e.sdp,{filterRTX:!this.useRTX,filterVideoFec:jR("FILTER_VIDEO_FEC"),filterAudioFec:jR("FILTER_AUDIO_FEC"),filterAudioCodec:["opus"]});return this.localCapabilities=n,this.initialOffer=e,DV(DV({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:n},offerSDP:e.sdp})}catch(e){throw new uC(lC.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async updateRemoteConnect(){}async connect(e){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new class{constructor(e){OE(this,"sessionDesc",void 0),OE(this,"localCapabilities",void 0),OE(this,"rtpCapabilities",void 0),OE(this,"candidates",void 0),OE(this,"iceParameters",void 0),OE(this,"dtlsParameters",void 0),OE(this,"setup",void 0),OE(this,"currentMidIndex",void 0),OE(this,"cname",void 0),e=YC(e);const{iceParameters:t,dtlsParameters:n,candidates:r,rtpCapabilities:o,setup:i,localCapabilities:a,sdkCodec:s,cname:c}=e,l=CL.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n");this.rtpCapabilities=o,this.candidates=r,this.iceParameters=t,this.dtlsParameters=n,this.setup=i,this.localCapabilities=a,this.cname=c;for(let u=0;u<l.mediaDescriptions.length;u++){const e=l.mediaDescriptions[u];if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=n.fingerprints,e.attributes.candidates=r,e.attributes.setup=i,"video"===e.media.mediaType){e.media.fmts=o.videoCodecs.map((e=>e.payloadType.toString(10)));let t=o.videoCodecs.filter((e=>{var t,n;return null===(t=e.rtpMap)||void 0===t?void 0:Or(n=t.encodingName.toLowerCase()).call(n,s)}));0===t.length&&(t=o.videoCodecs),e.attributes.payloads=t,e.attributes.extmaps=o.videoExtensions}"audio"===e.media.mediaType&&(e.media.fmts=o.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=o.audioCodecs,e.attributes.extmaps=o.audioExtensions),l.mediaDescriptions[u]=this.mungMediaDesc(e)}this.sessionDesc=l,this.currentMidIndex=l.mediaDescriptions.length-1}toString(){return CL.print(this.sessionDesc)}send(e,t,n){const{ssrcs:r,ssrcGroups:o}=VL(t,this.cname),i=this.sessionDesc.mediaDescriptions.find((t=>e===YA.VIDEO?"video"===t.media.mediaType:"audio"===t.media.mediaType)),a=r[0].attributes.label,s=r[0].attributes.mslabel;return i.attributes.ssrcs=i.attributes.ssrcs.concat(r),i.attributes.ssrcGroups=i.attributes.ssrcGroups.concat(o),{id:a,mslabel:s}}batchSend(e){return e.map((e=>{let{kind:t,ssrcMsg:n}=e;return this.send(t,n,void 0)}))}stopSending(e){this.sessionDesc.mediaDescriptions.forEach((t=>{const n=[],r=[],o=[];t.attributes.ssrcs.forEach((t=>{Or(e).call(e,t.attributes.label||"")?o.push(t):n.push(t)})),t.attributes.ssrcGroups.forEach((e=>{var t;Or(t=o.map((e=>e.ssrcId))).call(t,e.ssrcIds[0])||r.push(e)})),t.attributes.ssrcs=n,t.attributes.ssrcGroups=r}))}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}receive(e,t,n){e.forEach(((e,t)=>{const n=e._mediaStreamTrack,r=this.sessionDesc.mediaDescriptions.findIndex((e=>e.attributes.mid===n.kind)),o=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[r],e);this.sessionDesc.mediaDescriptions[r]=o}))}stopReceiving(e){}updateCandidates(e){e===XA.TCP?this.candidates.forEach((e=>{-1===this.candidates.findIndex((t=>"tcp"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port))&&this.candidates.push(OV(OV({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))})):this.candidates=this.candidates.filter((e=>"tcp"!==e.transport));for(const t of this.sessionDesc.mediaDescriptions)t.attributes.candidates=this.candidates}restartICE(e){e=YC(e),this.iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}mungRecvMediaDsec(e,t){const n=YC(e);return BL(n,t),FL(n,t),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,n){const r=this.sessionDesc.mediaDescriptions.find((t=>e===YA.VIDEO?"video"===t.attributes.mid:"audio"===t.attributes.mid));if(r){const e=r.attributes.ssrcs.find((e=>e.attributes.label===t));var o;e&&(e.attributes.label=n,null===(o=e.attributes.msid)||void 0===o||o.replace(t,n))}}mungMediaDesc(e){const t=YC(e);return zL(t),function(e){const t=e.attributes.extmaps.find((e=>kL(e.extensionName)));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const n of t.attributes.ssrcs)if(n.attributes.label===e)return[n]}}(DV(DV({},e),{},{rtpCapabilities:e.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));const t=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:t})}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(t.toString()))}}async updateRemoteRTPCapabilities(e,t){throw new uC(lC.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}getPreMedia(e){}send(e,t){var n=this;return MS((function*(){const r=yield LS(n.mutex.lock());try{if(!n.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const r=e.map((e=>n.peerConnection.addTrack(e._mediaStreamTrack))),i=yield LS(n.peerConnection.createOffer()),a=CL.parse(i.sdp),s=e.map((e=>{const t=e._mediaStreamTrack,r=a.mediaDescriptions.find((e=>e.attributes.mid===t.kind));if(!r)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t,n){const r=e.attributes.ssrcs.filter((e=>e.attributes.label===t)),o=e.attributes.ssrcGroups;if(0===r.length)throw new Error("Cannot extract ssrc from plan-b SDP.");if(o&&r.length>1){const e=o.find((e=>-1!==e.ssrcIds.indexOf(r[0].ssrcId)));return e?[{ssrcId:e.ssrcIds[0],rtx:n?e.ssrcIds[1]:void 0}]:[{ssrcId:r[0].ssrcId}]}return[{ssrcId:r[0].ssrcId}]}(r,t.id,n.useRTX)}));let c;try{c=yield s}catch(o){throw r.forEach((e=>{jw()&&e.replaceTrack(null),n.peerConnection.removeTrack(e)})),o}const l=n.mungSendOfferSDP(i.sdp,e);n.remoteSDP.receive(e,t,c);const u=n.remoteSDP.toString();return yield LS(n.peerConnection.setLocalDescription({type:"offer",sdp:l})),yield LS(n.applySendEncodings(r,e)),yield LS(n.peerConnection.setRemoteDescription({type:"answer",sdp:u})),e.map(((e,t)=>{const n=e._mediaStreamTrack.id;return{localSSRC:s[t],id:n}}))}catch(o){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(o.toString()))}finally{r()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{jw()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(t.toString()))}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{id:n,mslabel:o}=this.remoteSDP.send(e,t,r),i=new Uh(((t,r)=>{const i=setTimeout((()=>{r(new Error("Cannot receive track, id: ".concat(n)))}),1e4),a=r=>{const s=Dw();if(("Safari"===s.name&&11===Number(s.version)||zw())&&r.track.id!==n&&r.streams[0].id===o){var c;const o=r.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,n,r.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(i),void t(o)}if(r.track.id===n)return this.peerConnection.removeEventListener("track",a),clearTimeout(i),void t(r.track)};this.peerConnection.addEventListener("track",a)})),a=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:a});const s=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(s),{track:await i,id:n}}catch(o){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const n=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(n)}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(t.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("sender' length doesn't match mids' length.");t.map((e=>{if(jw()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!1)),e.setParameters(t)}}))}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(t.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Senders' length doesn't match mids' length.");t.map((async e=>{if(jw()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!0)),await e.setParameters(t)}}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n);const r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(t.toString()))}}restartICE(e){var t=this;return MS((function*(){const n=yield LS(t.mutex.lock("From P2PConnection.restartICE"));try{if(!t.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(UD().supportPCSetConfiguration){const n=t.peerConnection.getConfiguration(),r=e===XA.RELAY?"relay":"all";n.iceTransportPolicy!==r&&(oI.debug("[".concat(t.store.clientId,"] restartICE change iceTransportPolicy from [").concat(n.iceTransportPolicy,"] to [").concat(r,"]")),n.iceTransportPolicy=r,t.peerConnection.setConfiguration(n))}else if(e===XA.RELAY)return;e!==XA.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield LS(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const r=ML(n.sdp),{remoteIceParameters:o}=yield r.iceParameters;t.remoteSDP.restartICE(o);const i=t.remoteSDP.toString();yield LS(t.peerConnection.setLocalDescription(n)),yield LS(t.peerConnection.setRemoteDescription({type:"answer",sdp:i}))}catch(r){oI.warning("[".concat(t.store.clientId,"] restart ICE failed, abort operation"),r)}finally{n()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const e=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const r=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:n}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(n){throw new uC(lC.EXCHANGE_SDP_FAILED,n.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getSenders().filter((t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e}));1===n.length&&await this.applySendEncodings(n,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getSenders().find((e=>{var n;return(null===(n=e.track)||void 0===n?void 0:n.id)===t}));n&&await n.replaceTrack(e._mediaStreamTrack)}createDataChannels(e,t){throw new uC(lC.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}stopDataChannels(e){throw new uC(lC.NOT_SUPPORTED,"Planb mode does not support stopDataChannels.")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,oI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,oI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),jR("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[],sdpSemantics:"plan-b"};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(xC(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),jR("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}async updateRtpSenderEncodings(e,t){var n;if(t||(t=this.peerConnection.getSenders().find((t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e._mediaStreamTrack.id}))),!t)return oI.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(!UD().supportSetRtpSenderParameters)return oI.warn("Browser not support set rtp-sender parameters");const r={},o={};if(e instanceof KM)switch(e._optimizationMode){case"motion":r.degradationPreference="maintain-framerate";break;case"detail":r.degradationPreference="maintain-resolution";break;default:r.degradationPreference="balanced"}if(jR("DSCP_TYPE")&&rC()){var i;const e=jR("DSCP_TYPE");Or(i=["very-low","low","medium","high"]).call(i,e)&&(o.networkPriority=e)}const a=t.getParameters(),s=null===(n=a.encodings)||void 0===n?void 0:n[0];s&&Object.assign(s,o),Object.assign(a,r),oI.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(a.encodings))),await t.setParameters(a)}async applySendEncodings(e,t){try{if(!UD().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const r=e[n],o=t[n];r&&o&&await this.updateRtpSenderEncodings(o,r)}}catch(n){oI.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t){const n=CL.parse(e);return t.forEach(((e,t)=>{const r=e._mediaStreamTrack,o=n.mediaDescriptions.find((e=>e.attributes.mid===r.kind));o&&BL(o,e)})),CL.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const t=this.remoteSDP.batchSend(e).map(((t,n)=>{let{id:r,mslabel:o}=t;const{kind:i}=e[n];return new Uh(((e,t)=>{const n=setTimeout((()=>{t(new Error("Cannot receive track, id: ".concat(r)))}),1e4),a=t=>{const s=Dw();if("Safari"===s.name&&11===Number(s.version)&&t.track.id!==r&&t.streams[0].id===o){var c;const o=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(i,r,t.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:o,id:r})}if(t.track.id===r)return this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:t.track,id:r})};this.peerConnection.addEventListener("track",a)}))})),n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const r=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(r),await Uh.all(t)}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(t.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(t){if(UD().supportPCSetConfiguration){const n=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(n)}}}).prototype,"connect",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"connect"),NV.prototype),sA(NV.prototype,"stopSending",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"stopSending"),NV.prototype),sA(NV.prototype,"receive",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"receive"),NV.prototype),sA(NV.prototype,"stopReceiving",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"stopReceiving"),NV.prototype),sA(NV.prototype,"muteRemote",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"muteRemote"),NV.prototype),sA(NV.prototype,"unmuteRemote",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"unmuteRemote"),NV.prototype),sA(NV.prototype,"muteLocal",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"muteLocal"),NV.prototype),sA(NV.prototype,"unmuteLocal",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"unmuteLocal"),NV.prototype),sA(NV.prototype,"close",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"close"),NV.prototype),sA(NV.prototype,"updateEncoderConfig",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"updateEncoderConfig"),NV.prototype),sA(NV.prototype,"updateSendParameters",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"updateSendParameters"),NV.prototype),sA(NV.prototype,"replaceTrack",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"replaceTrack"),NV.prototype),sA(NV.prototype,"getRemoteSSRC",[PV],Object.getOwnPropertyDescriptor(NV.prototype,"getRemoteSSRC"),NV.prototype),NV);function PV(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("Locking from P2PConnection.".concat(t));try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return await r.apply(this,i)}finally{n()}},n}function MV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MV(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const UV="9",jV=4e4;class VV{get localCapabilities(){return YC(this._localCapabilities)}get rtpCapabilities(){return YC(this._rtpCapabilities)}get candidates(){return YC(this._candidates)}get iceParameters(){return YC(this._iceParameters)}get dtlsParameters(){return YC(this._dtlsParameters)}constructor(e){OE(this,"sessionDesc",void 0),OE(this,"_localCapabilities",void 0),OE(this,"_rtpCapabilities",void 0),OE(this,"_candidates",void 0),OE(this,"_iceParameters",void 0),OE(this,"_dtlsParameters",void 0),OE(this,"setup",void 0),OE(this,"currentMidIndex",void 0),OE(this,"cname",void 0),OE(this,"firefoxSsrcMidMap",new Map),e=YC(e);const{iceParameters:t,dtlsParameters:n,candidates:r,rtpCapabilities:o,setup:i,localCapabilities:a,cname:s}=e;this._rtpCapabilities=o,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a,this.setup=i,this.cname=s,this.sessionDesc=this.updateRemoteRTPCapabilities(o),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1}preloadRemoteMedia(e){const t=this.candidates,n=this.dtlsParameters,r=this.iceParameters,o=this.rtpCapabilities.send;let i=this.sessionDesc.mediaDescriptions.length-1;for(let a=1;a<e;a++){const e=2*a+2e4,s=2*a+jV,{ssrcs:c,ssrcGroups:l}=VL([{ssrcId:e}],this.cname),{ssrcs:u,ssrcGroups:d}=VL([{ssrcId:s,rtx:jR("USE_SUB_RTX")?s+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:UV,protos:["UDP","TLS","RTP","SAVPF"],fmts:o.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:o.videoExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:u,ssrcGroups:d,rtcpFeedbackWildcards:[],payloads:o.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++i)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:UV,protos:["UDP","TLS","RTP","SAVPF"],fmts:o.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:o.audioExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:c,ssrcGroups:l,rtcpFeedbackWildcards:[],payloads:o.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++i)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return CL.print(this.sessionDesc)}send(e,t,n,r){const{ssrcs:o,ssrcGroups:i}=VL(t,this.cname,jR("SYNC_GROUP")?n:void 0),a=this.findPreloadMediaDesc(o);if(a){if(Bw()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,a.attributes.mid),r&&(r.twcc||r.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,o);let n;return-1===t||1===t&&(jw()||function(){const e=Dw();return!(e.name!==Aw.CHROME||!e.osVersion)&&Number(e.version)<=90}())||0===t&&jR("USE_SUB_RTX")||Xw()?(n=this.createOrRecycleSendMedia(e,o,i,"sendonly",r),this.updateBundleMids()):(n=YC(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=o,n.attributes.ssrcGroups=i,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,r)),Bw()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,n.attributes.mid),{mid:n.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:e,needExchangeSDP:t}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e.attributes.mid,needExchangeSDP:t}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:n,mslabel:r}=e;return this.send(t,n,r)})),n=[];let r=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:o}=e;o&&(r=!0),n.push(t)})),{mids:n,needExchangeSDP:r}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{"0"===e.attributes.mid||Bw()||Xw()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Or(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Or(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}receive(e,t,n,r){e.forEach(((e,o)=>{this.createOrRecycleRecvMedia(e,[],"recvonly",t,n,r[o])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}updateRemoteRTPCapabilities(e){const t=this.sessionDesc||CL.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n");this._rtpCapabilities=e;const n=this.rtpCapabilities.send,r=this.localCapabilities.send;for(const o of t.mediaDescriptions){if(o.attributes.iceUfrag=this._iceParameters.iceUfrag,o.attributes.icePwd=this._iceParameters.icePwd,o.attributes.fingerprints=this._dtlsParameters.fingerprints,o.attributes.candidates=this._candidates,o.attributes.setup=this.setup,"application"===o.media.mediaType&&(o.attributes.sctpPort="5000"),"video"===o.media.mediaType)if(0===n.videoCodecs.length){const e=r.videoCodecs.filter((e=>{var t,n;return null===(t=e.rtpMap)||void 0===t?void 0:Or(n=t.encodingName.toLowerCase()).call(n,"vp8")}))||[r.videoCodecs[0]];o.media.fmts=e.map((e=>e.payloadType.toString(10))),o.attributes.payloads=e,o.attributes.extmaps=[]}else if(o.media.fmts=n.videoCodecs.map((e=>e.payloadType.toString(10))),o.attributes.payloads=n.videoCodecs,o.attributes.extmaps=n.videoExtensions,jR("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:e,ssrcGroups:t}=VL([{ssrcId:jV,rtx:jR("USE_SUB_RTX")?40001:void 0}],this.cname);o.attributes.ssrcs=e,o.attributes.ssrcGroups=t}if("audio"===o.media.mediaType)if(0===n.audioCodecs.length){const e=r.audioCodecs.filter((e=>{var t,n;return null===(t=e.rtpMap)||void 0===t?void 0:Or(n=t.encodingName.toLowerCase()).call(n,"opus")}))||[r.audioCodecs[0]];o.media.fmts=e.map((e=>e.payloadType.toString(10))),o.attributes.payloads=e,o.attributes.extmaps=[]}else if(o.media.fmts=n.audioCodecs.map((e=>e.payloadType.toString(10))),o.attributes.payloads=n.audioCodecs,o.attributes.extmaps=n.audioExtensions,$L(o),jR("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:e,ssrcGroups:t}=VL([{ssrcId:2e4}],this.cname);o.attributes.ssrcs=e,o.attributes.ssrcGroups=t}}return this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1,this.sessionDesc}updateCandidates(e){const t=this._candidates.filter((e=>"udp"===e.transport));if(e===XA.TCP){if(0===t.length)return;if(jR("TCP_CANDIDATE_ONLY")){const e=this._candidates.filter((e=>"tcp"===e.transport));t.forEach((t=>{-1===e.findIndex((e=>e.connectionAddress===t.connectionAddress))&&e.push(LV(LV({},t),{},{foundation:"tcpcandidate",priority:Number(t.priority)-1+"",transport:"tcp",port:Number(t.port)+90+""}))})),this._candidates=e}else{const e=[];t.forEach((t=>{e.push(LV(LV({},t),{},{foundation:"tcpcandidate",priority:Number(t.priority)-1+"",transport:"tcp",port:Number(t.port)+90+""}))})),this._candidates=[...t,...e]}}else if(e===XA.RELAY){if(0!==t.length)return;{const e=this._candidates.filter((e=>"tcp"===e.transport));e.forEach((e=>{t.push(LV(LV({},e),{},{foundation:"udpcandidate",priority:Number(e.priority)+1+"",transport:"udp",port:Number(e.port)-90+""}))})),this._candidates=[...t,...e]}}else 0===t.length?(this._candidates.filter((e=>"tcp"===e.transport)).forEach((e=>{t.push(LV(LV({},e),{},{foundation:"udpcandidate",priority:Number(e.priority)+1+"",transport:"udp",port:Number(e.port)-90+""}))})),this._candidates=t):this._candidates=this._candidates.filter((e=>"tcp"!==e.transport));for(const n of this.sessionDesc.mediaDescriptions)n.attributes.candidates=this.candidates}restartICE(e){e=YC(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((n=>{const r=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(Bw()){if(r){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return r}))}createOrRecycleDataChannel(){for(const n of this.sessionDesc.mediaDescriptions)if("application"===n.media.mediaType)return{mediaDesc:n,needExchangeSDP:!1};this.currentMidIndex+=1;const e="".concat(this.currentMidIndex),t={media:{mediaType:"application",port:UV,protos:["UDP","DTLS","SCTP"],fmts:["webrtc-datachannel"]},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,mid:"".concat(e),sctpPort:"5000"}};return this.sessionDesc.mediaDescriptions.push(t),{mediaDesc:t,needExchangeSDP:!0}}createOrRecycleRecvMedia(e,t,n,r,o,i){const a=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,c=JL(a,s,this.localCapabilities.send,a===YA.VIDEO?r:o),l=a===YA.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const u="".concat(this.currentMidIndex);let d={media:{mediaType:a,port:UV,protos:["UDP","TLS","RTP","SAVPF"],fmts:c.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:c,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(u)}};d=this.mungRecvMediaDsec(d,e,i);const h=this.findFirstClosedMedia(a);if(h){const e=this.sessionDesc.mediaDescriptions.indexOf(h);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateRemoteCodec(e,t,n){const r=[...new Set(this._rtpCapabilities.recv.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return Or(t=Object.keys(FR)).call(t,e)})))],o=new Set(t);if(r.every((e=>o.has(e))))return oI.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(t)),!1;const i=this._rtpCapabilities.recv.videoCodecs.filter((e=>t.some((t=>{var n;return Or(n=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(n,t)}))));if(0===i.length)return oI.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(r," codecs: ").concat(t)),!1;const a=[...new Set(i.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")))];let s;if(oI.debug("updateRemoteCodec, from ".concat(r," to ").concat(a)),0===e.length)s=this.sessionDesc.mediaDescriptions.filter((e=>"video"===e.media.mediaType&&"recvonly"===e.attributes.direction));else if(s=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&Or(e).call(e,t.attributes.mid)&&"recvonly"===t.attributes.direction)),s.length!==e.length)return oI.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(e,", codecs: ").concat(t)),!1;if(jR("USE_PUB_RTX")||jR("USE_SUB_RTX")){const e=ZL(i,this.rtpCapabilities.recv.videoCodecs);i.push(...e)}this._rtpCapabilities.recv.videoCodecs=i;const c=this.localCapabilities.send,l=this.rtpCapabilities.recv,u=JL(YA.VIDEO,l,c,n);return s.forEach((e=>{const t=u.map((e=>e.payloadType.toString(10)));oI.debug("updateRemoteCodec mid: ".concat(e.attributes.mid,", from"),e.attributes.payloads,"to",u),e.attributes.payloads=u,e.media.fmts=t})),!0}createOrRecycleSendMedia(e,t,n,r,o){const i=this.rtpCapabilities.send,a=e===YA.VIDEO?i.videoCodecs:i.audioCodecs,s=e===YA.VIDEO?i.videoExtensions:i.audioExtensions;this.currentMidIndex+=1;const c="".concat(this.currentMidIndex);let l={media:{mediaType:e,port:UV,protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:s,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};l=this.mungSendMediaDesc(l,o);const u=this.findFirstClosedMedia(e);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,n){const r=YC(e);return zL(r),BL(r,t),FL(r,t),HL(r),GL(r,n,this.localCapabilities.send),r}mungSendMediaDesc(e,t){const n=YC(e);return GL(n,t,this.localCapabilities.recv),$L(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>Bw()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n;return(null===(n=t.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}function BV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BV(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let FV=function(e){return e.BANDWIDTH="bandwidth",e.CPU="cpu",e.NONE="none",e.OTHER="other",e}({});var HV=function(e){return e[e.DOWN=0]="DOWN",e[e.UP=1]="UP",e}(HV||{});const GV=new Map;function WV(e,t,n,r){let{scale:o}=e;if(0===o&&r===HV.UP||o>=t.length-1&&r===HV.DOWN)return e;let i=zV(zV({},e),{},{scale:r===HV.DOWN?++o:--o});switch(n){case"maintain-framerate":i=zV(zV({},i),t[o].motion);break;case"maintain-resolution":i=zV(zV({},i),t[o].detail);break;case"balanced":i=zV(zV({},i),t[o].balanced)}return i}function qV(e,t){if(t){const n={overUse:0,underUse:0,adaptationList:KV(t)};GV.set(e,n)}else GV.delete(e)}function KV(e){const t=zV({},e),{bitrateMax:n,frameRate:r,scaleResolutionDownBy:o,bitrateMin:i}=t,{MIN_FRAME_RATE:a,MAX_THRESHOLD_FRAMERATE:s,MAX_SCALE:c,BITRATE_MIN_THRESHOLD:l,BITRATE_MAX_THRESHOLD:u,BWE_SCALE_UP_THRESHOLD:d,BWE_SCALE_DOWN_THRESHOLD:h,PERF_SCALE_DOWN_THRESHOLD:p,PERF_SCALE_UP_THRESHOLD:f,BALANCE_BITRATE_FACTOR:m,BALANCE_FRAMERATE_FACTOR:g,BALANCE_RESOLUTION_FACTOR:v,MOTION_RESOLUTION_FACTOR:y,MOTION_BITRATE_FACTOR:_,DETAIL_FRAMERATE_FACTOR:E,DETAIL_BITRATE_FACTOR:b}=PR,T=Math.min(t.frameRate,s),S=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(h,1)*n),bwe_up:n,fps_down:Math.round(Math.pow(p,1)*T),fps_up:r},balanced:{scaleResolutionDownBy:1,frameRate:r,bitrateMax:n,bitrateMin:i},motion:{scaleResolutionDownBy:1,frameRate:r,bitrateMax:n,bitrateMin:i},detail:{scaleResolutionDownBy:1,frameRate:r,bitrateMax:n,bitrateMin:i}}];for(let w=1;w<=c;w++){const e={bwe_up:Math.round(Math.pow(d,w)*n),bwe_down:Math.round(Math.pow(h,w+1)*n),fps_up:Math.round(Math.pow(f,w)*T),fps_down:Math.round(Math.pow(p,w+1)*T)},t={scaleResolutionDownBy:o/Math.pow(v,w),frameRate:Math.max(Math.round(Math.pow(g,w)*r),a),bitrateMax:Math.max(Math.round(Math.pow(m,w)*n),u),bitrateMin:Math.max(Math.round(Math.pow(m,w)*i),l)},s={scaleResolutionDownBy:o/Math.pow(y,w),frameRate:r,bitrateMax:Math.max(Math.round(Math.pow(_,w)*n),u),bitrateMin:Math.max(Math.round(Math.pow(_,w)*i),l)},c={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(E,w)*r),a),bitrateMax:Math.max(Math.round(Math.pow(b,w)*n),u),bitrateMin:Math.max(Math.round(Math.pow(b,w)*i),l)};S.push({scale:w,threshold:e,balanced:t,motion:s,detail:c})}return S}function YV(e,t,n,r,o,i){const a=GV.get(e)||{overUse:0,underUse:0,adaptationList:KV(o)},{adaptationList:s}=a;GV.set(e,a);const{OVERUSE_TIMES_THRESHOLD:c,UNDERUSE_TIMES_THRESHOLD:l}=PR,{scale:u}=r;let d,h;return"number"==typeof t&&t>0&&function(e,t,n,r){if(t>=n.length)return!1;let{threshold:{fps_down:o}}=n[t];return jR("FORCE_AG_HIGH_FRAMERATE")&&"maintain-framerate"===r&&(o=n[0].threshold.fps_down),e<o}(t,u,s,i)&&(a.overUse++,h=FV.CPU,a.overUse>c)||"number"==typeof n&&n>0&&function(e,t,n){if(t>=n.length)return!1;const{threshold:{bwe_down:r}}=n[t];return e<r}(n,u,s)&&(a.overUse++,h=FV.BANDWIDTH,a.overUse>c)?(a.overUse=0,a.underUse=0,d=WV(r,s,i,HV.DOWN),[d,h]):("number"==typeof t&&t>0&&"number"==typeof n&&n>0&&function(e,t,n,r){if(0===t)return;let{threshold:{fps_up:o}}=n[t];return jR("FORCE_AG_HIGH_FRAMERATE")&&"maintain-framerate"===r&&(o=n[1].threshold.fps_up),e>o}(t,u,s,i)&&function(e,t,n){if(0===t)return;const{threshold:{bwe_up:r}}=n[t];return e>r}(n,u,s)&&(a.underUse++,a.underUse>l&&(a.overUse=0,a.underUse=0,d=WV(r,s,i,HV.UP),0===d.scale&&(h=FV.NONE))),[d,h])}function XV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XV(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JV(e){var t;return!(!jR("ENABLE_AG_ADAPTATION")||!(e instanceof YM||Or(t=e._hints).call(t,nx.CUSTOM_TRACK))||!jR("FORCE_SUPPORT_AG_ADAPTATION")&&!(function(e){const t=Dw();if(t.os!==Iw.IOS||!t.osVersion)return!1;const n=t.osVersion.split(".");return Number(n[0])>=e}(14)&&qw(17,4)||Ww(14)&&Kw(17,4)))}const ZV=new Map;function QV(e,t){const n=ZV.get(e);if(n){const{timer:t}=n;window.clearTimeout(t),ZV.delete(e)}t.qualityLimitationReason=FV.NONE,qV(e)}var eB;function tB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tB(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let rB=(sA((eB=class e extends KA{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return Or(t=Object.keys(FR)).call(t,e)})))]}constructor(t,n){super(t,n),OE(this,"store",void 0),OE(this,"peerConnection",void 0),OE(this,"id",aR(5,"connection-")),OE(this,"remoteSDP",void 0),OE(this,"initialOffer",void 0),OE(this,"transportEventReceiver",void 0),OE(this,"statsFilter",void 0),OE(this,"extension",{useXR:jR("USE_XR")}),OE(this,"localCapabilities",void 0),OE(this,"remoteCodecs",void 0),OE(this,"localCandidateCount",0),OE(this,"allCandidatesReceived",!1),OE(this,"isPreallocation",!1),OE(this,"preSSRCMap",new Map),OE(this,"dataStreamChannelMap",new Map),OE(this,"establishPromise",void 0),OE(this,"recoveredDataChannelIds",[]),OE(this,"currentDataChannelId",1),OE(this,"mutex",void 0),OE(this,"qualityLimitationReason",FV.NONE),this.store=n,this.mutex=new yR("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=kj(this.peerConnection,jR("STATS_UPDATE_INTERVAL"),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}getPreMedia(e){const t=this.preSSRCMap.get(e);if(void 0!==t){const e=this.peerConnection.getTransceivers().find((e=>e.mid===t));if(e)return{transceiver:e,track:e.receiver.track,id:t}}}async updateRemoteRTPCapabilities(e,t){if(this.remoteCodecs=t,this.remoteSDP)if(this.remoteSDP.updateRemoteCodec(e,t,this.store.codec)){const e=await this.peerConnection.createOffer(),t=this.logSDPExchange(e.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(e);const n=this.remoteSDP.toString();null==t||t(n),await this.peerConnection.setRemoteDescription({type:"answer",sdp:n})}else oI.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.");else oI.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(t))}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const t=await this.peerConnection.createOffer();if(!t.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const n=ML(t.sdp),r=await qL({filterRTX:!jR("USE_PUB_RTX")&&!jR("USE_SUB_RTX"),filterVideoFec:jR("FILTER_VIDEO_FEC"),filterAudioFec:jR("FILTER_AUDIO_FEC"),filterVideoCodec:jR("FILTER_VIDEO_CODEC")},this.extension);let o;return this.localCapabilities=XL(r),this.initialOffer=t,t.sdp&&nU(t.sdp)&&(o=YC(r),(e=o).send&&(OL(YA.VIDEO,e.send.videoExtensions),OL(YA.AUDIO,e.send.audioExtensions)),e.recv&&(OL(YA.VIDEO,e.recv.videoExtensions),OL(YA.AUDIO,e.recv.audioExtensions)),e.sendrecv&&(OL(YA.VIDEO,e.sendrecv.videoExtensions),OL(YA.AUDIO,e.sendrecv.audioExtensions))),nB(nB({},n),{},{rtpCapabilities:o||r,offerSDP:t.sdp})}catch(t){throw new uC(lC.GET_LOCAL_CONNECTION_PARAMS_FAILED,t.toString())}var e}async connect(e){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.initialOffer.sdp&&nU(this.initialOffer.sdp)&&(t=e.rtpCapabilities,n=this.localCapabilities,t.send&&(AL(YA.VIDEO,t.send.videoExtensions,n.send.videoExtensions),AL(YA.AUDIO,t.send.audioExtensions,n.send.audioExtensions)),t.recv&&(AL(YA.VIDEO,t.recv.videoExtensions,n.recv.videoExtensions),AL(YA.AUDIO,t.recv.audioExtensions,n.recv.audioExtensions))),this.remoteSDP=new VV(nB(nB({},e),{},{localCapabilities:this.localCapabilities})),e.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const r=this.remoteSDP.toString(),o=eU(this.initialOffer.sdp,this.extension),i=this.logSDPExchange(o||"","offer","local","connect");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:"offer",sdp:o}),null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r});const a=this.peerConnection.getTransceivers()[0];if(null!=a&&a.receiver&&this.tryBindTransportEvents(a.receiver),jR("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia(jR("PRELOAD_MEDIA_COUNT"));const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t)}const{preSSRCs:s}=e;if(Array.isArray(s)&&s.length>0){const{mids:e}=this.remoteSDP.batchSend(s.map((e=>({kind:e.kind,ssrcMsg:[{ssrcId:e.ssrcId,rtx:e.rtx}],mslabel:e.mslabel}))));e.forEach(((e,t)=>{this.preSSRCMap.set(s[t].ssrcId,e)})),await QL(this.peerConnection,this.remoteSDP,this.extension),oI.debug("[".concat(this.store.clientId,"] [P2PConnection] pre-batchReceive exchange SDP."))}}catch(r){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(r.toString()))}var t,n}async updateRemoteConnect(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateRemoteConnect before remote SDP created");const{rtpCapabilities:t}=e;this.remoteSDP.updateRemoteRTPCapabilities(t),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const{preSSRCs:n}=e;if(Array.isArray(n)&&n.length>0){const{mids:e}=this.remoteSDP.batchSend(n.map((e=>Object.assign({},{kind:e.kind,ssrcMsg:[{ssrcId:e.ssrcId,rtx:e.rtx}],mslabel:e.mslabel}))));e.forEach(((e,t)=>{this.preSSRCMap.set(n[t].ssrcId,e)}))}await QL(this.peerConnection,this.remoteSDP,this.extension),oI.debug("[P2PConnection] updateRemoteRTPCapabilities by exchanging SDP.")}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.updateRemoteConnect failed; ".concat(t.toString()))}}send(e,t,n){var r=this;return MS((function*(){const o=yield LS(r.mutex.lock("From P2PConnection.send"));try{if(!r.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const o=[];e.forEach((e=>{const t=r.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});o.push(t),e._updateRtpTransceiver(t)})),Bw()&&!0===jR("SIMULCAST")&&(yield LS(r.applySimulcastForFirefox(o,e)));const a=yield LS(r.peerConnection.createOffer()),s=r.remoteSDP.predictReceivingMids(e.length),c=r.mungSendOfferSDP(a.sdp,e,s),l=CL.parse(c),u=s.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return LL(t,jR("USE_PUB_RTX"))}));let d;try{d=yield u}catch(i){d=[],r.remoteSDP.receive(e,t,n,d);const o=r.remoteSDP.toString();throw yield LS(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield LS(r.peerConnection.setRemoteDescription({type:"answer",sdp:o})),yield LS(r.stopSending(s,!0)),i}r.remoteSDP.receive(e,t,n,d);const h=r.remoteSDP.toString(),p=r.logSDPExchange(c,"offer","local","send");return yield LS(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield LS(r.applySimulcastEncodings(o,e)),yield LS(r.applySendEncodings(o,e)),null==p||p(h),yield LS(r.peerConnection.setRemoteDescription({type:"answer",sdp:h})),o.map(((e,t)=>{const n=s[t];return{localSSRC:u[t],id:n,transceiver:e}}))}catch(a){throw a instanceof uC?a:new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(a.toString()))}finally{o()}}))()}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.createDataChannels before remote SDP created");let n=this.dataStreamChannelMap.get(e);if(n&&"open"===n.readyState)oI.debug("[P2PConnection] Channels are already available and can be reused directly.");else{const t=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if("number"!=typeof t)throw new Error("create DataChannel error, because cannot get dc id");n=this.peerConnection.createDataChannel("datastream-channel",{id:t,negotiated:!0,ordered:!1,maxRetransmits:jR("DATASTREAM_MAX_RETRANSMITS")}),n.binaryType="arraybuffer",this.dataStreamChannelMap.set(e,n)}t.forEach((e=>{e._updateOriginDataChannel(n)}));const{needExchangeSDP:r}=this.remoteSDP.sendDataChannel();if(r){const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t),oI.debug("[P2PConnection] createDataChannels by exchanging SDP.")}else oI.debug("[P2PConnection] createDataChannels no need to exchange SDP.");return}catch(n){throw n instanceof uC?n:new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.createDataChannels failed; ".concat(n.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return t&&(t.id&&this.recoveredDataChannelIds.push(t.id),t.close()),void this.dataStreamChannelMap.delete(e)}catch(t){throw t instanceof uC?t:new uC(lC.DATACHANNEL_FAILED,"P2PConnection.stopDataChannels failed; ".concat(t.toString()))}}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{var t;QV(this.id+e.mid,this),e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(r){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(r.toString()))}finally{n&&n()}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:o,needExchangeSDP:i}=this.remoteSDP.send(e,t,n,r);i&&(await QL(this.peerConnection,this.remoteSDP,this.extension),oI.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP.")));const a=this.peerConnection.getTransceivers().find((e=>e.mid===o));if(!a)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,id:o,transceiver:a}}catch(o){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:t,needExchangeSDP:n}=this.remoteSDP.batchSend(e);return n&&(await QL(this.peerConnection,this.remoteSDP,this.extension),oI.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive by exchanging SDP."))),t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e,transceiver:t}}))}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(t.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");e.forEach((e=>{Array.from(this.preSSRCMap.entries()).some((t=>{let[n,r]=t;if(r===e)return this.preSSRCMap.delete(n),!0}))})),this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(t.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(t.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(t.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(t.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async(e,t)=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(t){throw new uC(lC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(t.toString()))}}restartICE(e){var t=this;return MS((function*(){const n=yield LS(t.mutex.lock("From P2PConnection.restartICE"));try{if(!t.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(UD().supportPCSetConfiguration){const n=t.peerConnection.getConfiguration(),r=e===XA.RELAY?"relay":"all";n.iceTransportPolicy!==r&&(oI.debug("[".concat(t.store.clientId,"] restartICE change iceTransportPolicy from [").concat(n.iceTransportPolicy,"] to [").concat(r,"]")),n.iceTransportPolicy=r,t.peerConnection.setConfiguration(n))}else if(e===XA.RELAY)return;t.remoteSDP.updateCandidates(e);const n=yield LS(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const r=ML(n.sdp),{remoteIceParameters:o}=yield r.iceParameters;t.remoteSDP.restartICE(o);const i=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||"","offer","local","restartICE");t.store.descriptionStart(),yield LS(t.peerConnection.setLocalDescription(n)),null==a||a(i),yield LS(t.peerConnection.setRemoteDescription({type:"answer",sdp:i}))}catch(r){oI.warning("[".concat(t.store.clientId,"] restart ICE failed, abort operation"),r)}finally{n()}}))()}close(){var e;this.peerConnection.getTransceivers().forEach((e=>{QV(this.id+e.mid,this)})),this.preSSRCMap.clear(),this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return nB(nB({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const o=this.remoteSDP.toString(),i=this.logSDPExchange(r,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:r}),null==i||i(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(n){throw new uC(lC.EXCHANGE_SDP_FAILED,n.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?Bw()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:n,remote:r}=t.getSelectedCandidatePair();return{local:nB(nB({},pj),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port}),remote:nB(nB({},pj),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,oI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,oI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),jR("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[]};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(xC(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),jR("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),jR("FORCE_TURN_TCP")?n.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),jR("ENABLE_ENCODED_TRANSFORM")&&UD().supportWebRTCEncodedTransform&&(n.encodedInsertableStreams=!0),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(MO(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!jR("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,"error"in e?e.error:e)};const n=t.iceTransport;n&&(n.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var n;e&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,e))},n.getSelectedCandidatePair&&(n.onselectedcandidatepairchange=()=>{if(n.getSelectedCandidatePair()){const{local:e,remote:t}=n.getSelectedCandidatePair();oI.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),", remote ").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol,address:t.address,port:t.port})," )"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var n,r;if(!t){const n=this.peerConnection.getSenders();t=n.find((t=>t.track===e._mediaStreamTrack))}if(!t)return oI.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(e))return oI.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!UD().supportSetRtpSenderParameters)return oI.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const o={},i={};switch(e._optimizationMode){case"motion":o.degradationPreference="maintain-framerate";break;case"detail":o.degradationPreference="maintain-resolution";break;case"balanced":o.degradationPreference="balanced"}const a=(c=this.peerConnection,l=e._mediaStreamTrack,c.getTransceivers().find((e=>e.sender.track===l||e.receiver.track===l))),s=fP(e);var c,l;if(JV(e)&&a&&t&&s&&this.getLocalVideoStats&&Or(n=["vp8","vp9"]).call(n,this.store.codec)){var u;const n=o.degradationPreference||(Or(u=e._hints).call(u,nx.CUSTOM_TRACK)?jR("CUSTOM_ADAPTATION_DEFAULT_MODE"):"maintain-framerate");!function(e,t,n,r,o,i){if(QV(e,n),o(t),"balanced"!==r&&"maintain-framerate"!==r&&"maintain-resolution"!==r)return;let a=-1;qV(e,t);const s=window.setInterval((()=>{const s=ZV.get(e);if(!jR("ENABLE_AG_ADAPTATION")||!s)return QV(e,n),void o(t);const c=i();if(c.sendPackets>0&&c.OutgoingAvailableBandwidth>0){if(-1===a)return void(a=Date.now());if(Date.now()-a<1e3)return;const i=c.sendFrameRate,l=c.OutgoingAvailableBandwidth,[u,d]=YV(e,i,l,s.adaptationConfig,t,r);d&&(n.qualityLimitationReason=d),u&&s.adaptationConfig.scale!==u.scale&&(oI.debug("[".concat(e,"] applyAdaptation: ").concat(n.qualityLimitationReason,"\n           sendFps ").concat(i,", bwe ").concat(l,", switch from ").concat(s.adaptationConfig.scale," to ").concat(u.scale," ")),s.adaptationConfig=$V($V({},s.adaptationConfig),u),o(u))}}),jR("CHECK_LOCAL_STATS_INTERVAL")),c=$V({},t);ZV.set(e,{timer:s,adaptationConfig:c,originConfig:t,adaptationFunc:o}),oI.debug("[".concat(e,"] start adaptation, originConfig: ").concat(JSON.stringify(t),", degradationPreference: ").concat(r))}(this.id+a.mid,s,this,n,(e=>{t&&this.updateAdaptation(t,e)}),this.getLocalVideoStats.bind(this))}if(e._encoderConfig){var d;const{bitrateMax:t,frameRate:n,scaleResolutionDownBy:r}=e._encoderConfig;t&&(i.maxBitrate=1e3*t),(Or(d=e._hints).call(d,nx.LOW_STREAM)||e.isUseScaleResolutionDownBy)&&(n&&(i.maxFramerate=UO(n)),r&&r>=1&&(i.scaleResolutionDownBy=r))}const{maxFramerate:h}=jR("ENCODER_CONFIG_LIMIT");if(h&&"number"==typeof h&&(i.maxFramerate=i.maxFramerate?Math.min(i.maxFramerate,h):h),jR("DSCP_TYPE")&&rC()){var p;const e=jR("DSCP_TYPE");Or(p=["very-low","low","medium","high"]).call(p,e)&&(i.networkPriority=e)}const f=t.getParameters(),m=null===(r=f.encodings)||void 0===r?void 0:r[0];Bw()&&!m&&(o.encodings=[i]),m&&Object.assign(m,i),Object.assign(f,o),oI.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(f.encodings))),await t.setParameters(f),await async function(e,t,n){try{var r;if(!UD().supportSetRtpSenderParameters)return;if(!function(e){return"vp9"===e}(e)||!jR("ENABLE_SVC"))return;const o={},i={},a=t.getParameters(),s=null===(r=a.encodings)||void 0===r?void 0:r[0];i.scalabilityMode=RL(n),s&&Object.assign(s,i),Object.assign(a,o),await t.setParameters(a),oI.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: ".concat(JSON.stringify(a.encodings)))}catch(o){oI.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed",o)}}(this.store.codec,t,jR("SVC_MODE"))}async updateAdaptation(e,t){var n,r;if(!e)return oI.debug("[updateAdaptation] no rtpSender found");if(!UD().supportSetRtpSenderParameters)return oI.debug("[updateAdaptation] Browser not support set rtp-sender parameters");const o={},{bitrateMax:i,frameRate:a,scaleResolutionDownBy:s}=t;i&&(o.maxBitrate=1e3*i),a&&(o.maxFramerate=UO(a)),s&&s>=1&&Or(n=["vp8","vp9"]).call(n,this.store.codec)&&(o.scaleResolutionDownBy=s);const c=e.getParameters(),l=null===(r=c.encodings)||void 0===r?void 0:r[0];l&&Object.assign(l,o),Object.assign(c,{});try{await e.setParameters(c),oI.debug("[updateAdaptation] updateRtpSenderEncodings: ".concat(JSON.stringify(c.encodings)))}catch(u){!("transport"in e)||e.transport&&"connected"===e.transport.state?"connected"!==this.peerConnectionState?oI.debug("[updateAdaptation] peerConnection not connected}"):oI.debug("[updateAdaptation] updateRtpSenderEncodings failed",u):oI.debug("[updateAdaptation] rtpSender transport not connected}")}}async applySendEncodings(e,t){try{if(!UD().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const r=e[n],o=t[n];o instanceof KM&&!this.isVP8Simulcast(o)&&await this.updateRtpSenderEncodings(o,r.sender)}}catch(n){oI.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t,n){const r=CL.parse(e);return t.forEach(((e,t)=>{const o=n[t],i=r.mediaDescriptions.find((e=>e.attributes.mid===o));i&&(BL(i,e),WL(i,e,this.store.codec))})),CL.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let s=0;s<e.length;s++){var n,r,o,i,a;const c=e[s],l=t[s];if(l instanceof KM&&!Or(n=l._hints).call(n,nx.LOW_STREAM)&&null!==(r=l._encoderConfig)&&void 0!==r&&r.bitrateMax&&(null===(o=l._encoderConfig)||void 0===o?void 0:o.bitrateMax)>200&&null!==(i=l._scalabilityMode)&&void 0!==i&&i.numSpatialLayers&&(null===(a=l._scalabilityMode)||void 0===a?void 0:a.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=c.sender.getParameters();await c.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!Bw()&&e.length===t.length)for(let n=0;n<e.length;n++){const r=t[n];if(r instanceof KM&&this.isVP8Simulcast(r)){const t=e[n],o={},i={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};o.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:i.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:i.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,o))}}}isVP8Simulcast(e){var t,n,r,o,i;return!!(e instanceof KM&&jR("SIMULCAST")&&"vp8"===this.store.codec&&!Or(t=e._hints).call(t,nx.LOW_STREAM)&&null!==(n=e._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=e._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=e._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(i=e._scalabilityMode)||void 0===i?void 0:i.numSpatialLayers)>1)}logSDPExchange(e,t,n,r){if(jR("SDP_LOGGING"))return oI.upload("[".concat(this.store.clientId,"] exchanging ").concat(n," ").concat(t," SDP during P2PConnection.").concat(r,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",r)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return t&&0!==t.length?t[0].ssrcId:void 0}setConfiguration(t){if(UD().supportPCSetConfiguration){const n=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(n)}}}).prototype,"updateRemoteRTPCapabilities",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"updateRemoteRTPCapabilities"),eB.prototype),sA(eB.prototype,"connect",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"connect"),eB.prototype),sA(eB.prototype,"updateRemoteConnect",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"updateRemoteConnect"),eB.prototype),sA(eB.prototype,"createDataChannels",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"createDataChannels"),eB.prototype),sA(eB.prototype,"receive",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"receive"),eB.prototype),sA(eB.prototype,"batchReceive",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"batchReceive"),eB.prototype),sA(eB.prototype,"stopReceiving",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"stopReceiving"),eB.prototype),sA(eB.prototype,"muteRemote",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"muteRemote"),eB.prototype),sA(eB.prototype,"unmuteRemote",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"unmuteRemote"),eB.prototype),sA(eB.prototype,"muteLocal",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"muteLocal"),eB.prototype),sA(eB.prototype,"unmuteLocal",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"unmuteLocal"),eB.prototype),sA(eB.prototype,"close",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"close"),eB.prototype),sA(eB.prototype,"updateEncoderConfig",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"updateEncoderConfig"),eB.prototype),sA(eB.prototype,"updateSendParameters",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"updateSendParameters"),eB.prototype),sA(eB.prototype,"replaceTrack",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"replaceTrack"),eB.prototype),sA(eB.prototype,"updateAdaptation",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"updateAdaptation"),eB.prototype),sA(eB.prototype,"getRemoteSSRC",[oB],Object.getOwnPropertyDescriptor(eB.prototype,"getRemoteSSRC"),eB.prototype),eB);function oB(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return await r.apply(this,i)}finally{n()}},n}var iB;function aB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aB(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cB(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=jS,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new lB(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function lB(e){function t(e){if(Object(e)!==e)return Uh.reject(new TypeError(e+" is not an object."));var t=e.done;return Uh.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(lB=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Uh.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Uh.reject(e):t(n.apply(this.s,arguments))}},new lB(e)}let uB=(iB=class extends CC{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(QA.StateChange,t,this._state)}constructor(e,t){super(),OE(this,"isPlanB",void 0),OE(this,"store",void 0),OE(this,"statsUploader",void 0),OE(this,"connection",void 0),OE(this,"localTrackMap",new Map),OE(this,"remoteUserMap",new Map),OE(this,"localDataChannels",[]),OE(this,"remoteDataChannelMap",new Map),OE(this,"pendingLocalTracks",[]),OE(this,"pendingRemoteTracks",[]),OE(this,"pendingLocalDataChannels",[]),OE(this,"pendingRemoteDataChannels",[]),OE(this,"statsCollector",void 0),OE(this,"shouldForwardP2PCreation",void 0),OE(this,"iceFailedCount",0),OE(this,"dtlsFailedCount",0),OE(this,"mutex",void 0),OE(this,"_state",ZA.Disconnected),OE(this,"_pcStatsUploadType",jR("NEW_ICE_RESTART")?$A.FIRST_CONNECTION:$A.OLD_FIRST_CONNECTION),OE(this,"_isInRestartIce",!1),OE(this,"_isStartRestartIce",!1),OE(this,"_restartStates",["disconnected","failed"]),OE(this,"_restartTimer",void 0),OE(this,"_isFirstConnected",!0),OE(this,"handleMuteLocalTrack",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection||this.state!==ZA.Connected)return void n(new uC(lC.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));const r=this.filterTobeMutedTracks(e);if(0===r.length)return void t();const o=r.find((e=>"videoLowTrack"===e[0]));o&&o[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const i=this.createMuteMessage(r);await zC(this,QA.RequestMuteLocal,i),t()}catch(o){n(o)}finally{r()}})),OE(this,"handleUnmuteLocalTrack",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection||this.state!==ZA.Connected)return void n(new uC(lC.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();const o=r.find((e=>"videoLowTrack"===e[0]));if(o){const t=o[1];if(t.track._originMediaStreamTrack.stop(),!jR("DISABLE_DUAL_STREAM_USE_ENCODING")&&UD().supportDualStreamEncoding){const n=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}else{const n=Vj(e,HC(this,QA.RequestLowStreamParameter));t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}await new Uh(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}await this.connection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const i=this.createUnmuteMessage(r);await zC(this,QA.RequestUnmuteLocal,i),t()}catch(o){n(o)}finally{r()}})),OE(this,"handleUpdateVideoEncoder",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const n=this.localTrackMap.get(JA.LocalVideoTrack);if(!this.connection||!n||n.track!==e||this.state!==ZA.Connected)return void t();const{id:r,track:o}=n;await this.connection.updateSendParameters(r,o),await this.connection.updateEncoderConfig(r,o),this.emit(QA.UpdateVideoEncoder,o),t()}catch(o){n(o)}finally{r()}})),OE(this,"handleUpdateVideoSendParameters",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleUpdateVideoSendParameters");try{const n=this.localTrackMap.get(JA.LocalVideoTrack);if(!this.connection||!n||n.track!==e||this.state!==ZA.Connected)return void t();const{id:r,track:o}=n;await this.connection.updateSendParameters(r,o),t()}catch(o){n(o)}finally{r()}})),OE(this,"handleReplaceMixingTrack",(async(e,t,n,r)=>{if(!this.connection||this.state!==ZA.Connected)return void t();const o=aV([e]);let i;oI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(o.getTrackId(),"]")),"boolean"==typeof r&&r||(i=await this.mutex.lock("From P2PChannel.handleReplaceMixingTrack"));try{await this.replaceTrack(e,o),t()}catch(s){n(s)}finally{var a;null===(a=i)||void 0===a||a()}})),OE(this,"handleReplaceTrack",(async(e,t,n,r)=>{let o;oI.debug("[".concat(this.store.clientId,"] P2PChannel handleReplaceTrack for [track-id-").concat(e.getTrackId(),"]")),"boolean"==typeof r&&r||(o=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var i;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!this.connection||!n||this.state!==ZA.Connected)return void t();if(await(null===(i=this.connection)||void 0===i?void 0:i.replaceTrack(e,n[1].id)),this.isPlanB){const t=n[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(n[0],t)}if(n[0]===JA.LocalVideoTrack&&!jR("DISABLE_DUAL_STREAM_USE_ENCODING")&&UD().supportDualStreamEncoding){const t=this.localTrackMap.get(JA.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new Uh(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}t()}catch(s){n(s)}finally{var a;null===(a=o)||void 0===a||a()}})),OE(this,"handleGetRTCStats",(e=>{e(this.statsCollector.getRTCStats())})),OE(this,"handleGetLocalVideoStats",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),OE(this,"handleGetLocalAudioStats",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),OE(this,"handleGetRemoteVideoStats",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),OE(this,"handleGetRemoteAudioStats",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new tV(this.store),this.bindStatsUploaderEvents(),this.mutex=new yR("P2PChannel-mutex",this.store.clientId),this.isPlanB=!UD().supportUnifiedPlan||jR("CHROME_FORCE_PLAN_B")&&rC(),this.shouldForwardP2PCreation=jR("FORWARD_P2P_CREATION")&&UD().supportPCSetConfiguration&&nC(),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new xV({},this.store):new rB({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(e){var t;this.state=ZA.New;const n=this.shouldForwardP2PCreation&&"closed"===(null===(t=this.connection)||void 0===t?void 0:t.peerConnectionState);if(this.shouldForwardP2PCreation&&!n||(n&&this.connection&&(oI.warning("[".concat(this.store.clientId,"] P2PChannel.startP2PConnection ForwardP2P closed.")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.isPlanB?new xV(e,this.store):new rB(e,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new uC(lC.UNEXPECTED_ERROR,"Cannot P2PChannel.startConnection before P2PConnection initialization .");return this._pcStatsUploadType=jR("NEW_ICE_RESTART")?$A.FIRST_CONNECTION:$A.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(e),this.connection.establishPromise}async connect(e){if(!this.connection)throw new uC(lC.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");jR("ENABLE_PREALLOC_PC")&&this.state===ZA.Connected?await this.connection.updateRemoteConnect(e):(this.store.peerConnectionStart(),await this.connection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=ZA.Connected)}updateRemoteRTPCapabilities(e){const t=Array.from(this.localTrackMap.entries()).filter((e=>{var t;let[n]=e;return Or(t=[JA.LocalVideoLowTrack,JA.LocalVideoTrack]).call(t,n)})),n=t.map((e=>{let[,{id:t}]=e;return t})),r=t.map((e=>{let[t]=e;return t}));if(this.connection instanceof rB){if(hI.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(r),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(e)}),!Or(e).call(e,this.store.codec)){const t=["vp9","vp8","h264"].find((t=>Or(e).call(e,t)));t&&(this.store.codec=t,oI.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId," updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ").concat(t,".")))}this.connection.updateRemoteRTPCapabilities(n,e)}}async getEstablishParams(){var e;if(this.connection instanceof rB&&"closed"!==this.connection.peerConnectionState&&Or(e=[ZA.New,ZA.Connected]).call(e,this.state))return this.connection.establishPromise}async publishDataChannel(e){if(!this.connection||this.state!==ZA.Connected){if(this.state===ZA.Disconnected)throw new uC(lC.UNEXPECTED_ERROR,"PeerConnection already disconnected.");return e.forEach((e=>{var t;Or(t=this.pendingLocalDataChannels).call(t,e)||this.pendingLocalDataChannels.push(e)})),[]}const t=this.filterTobePublishedDataChannels(e);return 0===t.length?[]:(t.forEach((e=>{const t=Date.now();this.store.publish(e.id.toString(),"datachannel",t)})),await this.connection.createDataChannels(this.store.uid,t),t.forEach((e=>{this.localDataChannels.push(e);const t=Date.now();this.store.publish(e.id+"","datachannel",void 0,t)})),e.map((e=>({streamId:e.id,ordered:e.ordered,maxRetransmits:e.maxRetransmits,metadata:e.metadata,channelId:e._originDataChannelId}))))}publish(e,t,n){var r=this;return MS((function*(){const o=yield LS(r.mutex.lock("From P2PChannel.publish"));try{if(!r.connection||r.state!==ZA.Connected){if(r.state===ZA.Disconnected)throw new uC(lC.UNEXPECTED_ERROR,"PeerConnection already disconnected.");r.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===r.pendingLocalTracks.indexOf(e)));return void(r.pendingLocalTracks=r.pendingLocalTracks.concat(t))}r.store.pubId=r.store.pubId+1,JU.markPublishStart(r.store.clientId,r.store.pubId);const o=r.filterTobePublishedTracks(e,t,n);if(0===o.length)return void(yield LS(r.tryToUnmuteAudio(e)));yield*US(cB(r.doPublish(r.connection,o)))}finally{o()}}))()}doPublish(e,t){var n=this;return MS((function*(){t.forEach((e=>{let{track:t,type:r}=e;const o=Date.now();n.store.publish(t.getTrackId(),r===JA.LocalAudioTrack?"audio":"video",o)})),n.bindLocalTrackEvents(t);const r=t.map((e=>{let{track:t}=e;return t})),o=yield LS(e.send(r,n.store.codec,n.store.audioCodec)),i=(yield LS(o.next())).value,a=n.createGatewayPublishMessage(t,i);let s;try{s=yield a}catch(d){throw o.throw(d),(null==d?void 0:d.code)===lC.WS_ABORT&&t.forEach((e=>{let{track:t}=e;-1===n.pendingLocalTracks.indexOf(t)&&n.pendingLocalTracks.push(t)})),n.unbindLocalTrackEvents(t),d}const c=n.mapPubResToRemoteConfig(a,s,r),l=(yield LS(o.next(c))).value,u=jR("ENABLE_VIDEO_SEI");r.forEach((async e=>{const t=e.getRTCRtpTransceiver();t&&u&&(e.trackMediaType===YA.VIDEO?await EL(t.sender,e):e.trackMediaType===YA.AUDIO&&await async function(e){if(!UD().supportWebRTCEncodedTransform)return void oI.warning("browser not support audio encoded transform");if(gL.has(e))return;if(!e.track)return;const t={track:e.track};if(Uw()){if(!e.createEncodedStreams)return void oI.warning("browser not support createEncodedStreams() API");let o=null;try{o=e.createEncodedStreams()}catch(r){return void oI.error("create audio-encoded-streams error",r&&r.message)}const i=new TransformStream({transform(r,o){t.controller||(t.controller=o),e.track&&e.track.id!==t.track.id&&(oI.debug("audio track changed: ".concat(t.track.id," => ").concat(e.track.id)),t.track.removeEventListener("ended",n),t.track=e.track,t.track.addEventListener("ended",n)),o.enqueue(r)}});o.readable.pipeThrough(i).pipeTo(o.writable)}else if(jw()){if("undefined"==typeof RTCRtpScriptTransform)return void oI.warning("browser not support RTCRtpScriptTransform");const r=mL(),o=new MessageChannel;await new Uh((e=>r.onmessage=t=>{"registered"===t.data&&e(void 0)}));const i=new RTCRtpScriptTransform(r,{name:"tx",port:o.port2},[o.port2]);e.transform=i,await new Uh((e=>r.onmessage=t=>{"started"===t.data&&e(void 0)})),o.port1.onmessage=r=>{var o;r.data.transformed&&e.track&&(null===(o=e.track)||void 0===o?void 0:o.id)!==t.track.id&&(oI.debug("audio track changed: ".concat(t.track.id," => ").concat(e.track.id)),t.track.removeEventListener("ended",n),t.track=e.track,t.track.addEventListener("ended",n))},t.worker=r}function n(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener("ended",n)}const t=gL.get(e);if(t){gL.delete(e);try{var o,i;null===(o=t.controller)||void 0===o||o.terminate(),null===(i=t.worker)||void 0===i||i.terminate()}catch(r){oI.warning(r&&r.message)}}}gL.set(e,t),e.track.addEventListener("ended",n)}(t.sender))})),t.forEach((e=>{let{type:t}=e;n.statsCollector.addLocalStats(t)})),n.assignLocalTracks(t,l),n.statsUploader.startUploadOutboundStats(),t.forEach((e=>{let{track:t,type:r}=e;const o=Date.now();n.store.publish(t.getTrackId(),r===JA.LocalAudioTrack?"audio":"video",void 0,o)}))}))()}async updateVideoStreamParameter(e,t){const n=this.localTrackMap.get(t);if(!n)return;if(!(n.track instanceof KM))return oI.warn("[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack");if(!(this.connection instanceof rB||this.connection instanceof xV))return oI.warn("[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB");const{track:r}=n,o=function(e,t){const n={};return e.height&&e.width&&(n.scaleResolutionDownBy=FO(e,t)),n.maxFramerate=e.framerate?UO(e.framerate):void 0,n.maxBitrate=e.bitrate?1e3*e.bitrate:void 0,n}(e,r);if(r._encoderConfig||(r._encoderConfig={}),t!==JA.LocalVideoLowTrack||!jR("DISABLE_DUAL_STREAM_USE_ENCODING")&&UD().supportDualStreamEncoding)null!=o.scaleResolutionDownBy&&(r._encoderConfig.scaleResolutionDownBy=o.scaleResolutionDownBy);else{const t=r._originMediaStreamTrack;if(!t.canvas)return oI.warn("[".concat(r.getTrackId(),"] no canvas on track"));!function(e,t){const n=e.canvas;t.width&&(n.width=UO(t.width)),t.height&&(n.height=UO(t.height)),t.framerate&&(n.stopCapture&&n.stopCapture(),n.stopCapture=Lx((()=>{!n.startCapture&&n.stopCapture&&n.stopCapture(),n.startCapture&&n.startCapture()}),UO(t.framerate)))}(t,e)}null!=o.maxBitrate&&(r._encoderConfig.bitrateMax=o.maxBitrate/1e3),null!=o.maxFramerate&&(r._encoderConfig.frameRate&&"object"==typeof r._encoderConfig.frameRate?r._encoderConfig.frameRate.max=o.maxFramerate:r._encoderConfig.frameRate={max:o.maxFramerate}),oI.debug("[".concat(r.getTrackId(),"] LowStreamEncoderConfig: , ").concat(JSON.stringify(r._encoderConfig))),await this.connection.updateRtpSenderEncodings(r)}publishLowStream(e){var t=this;return MS((function*(){if(!t.connection||t.state!==ZA.Connected)return;const n=yield LS(t.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const n=t.localTrackMap.get(JA.LocalVideoTrack);if(!n)throw new uC(lC.UNEXPECTED_ERROR,"Could not find high stream");if(t.localTrackMap.has(JA.LocalVideoLowTrack))throw new uC(lC.UNEXPECTED_ERROR,"[".concat(t.store.clientId,"] Can't publish low stream when stream already publish"));const o=[{track:t.getLowVideoTrack(n.track,e),type:JA.LocalVideoLowTrack}];if(yield*US(cB(t.doPublish(t.connection,o))),n.track.muted||!n.track.enabled){var r;const e=null===(r=t.localTrackMap.get(JA.LocalVideoLowTrack))||void 0===r?void 0:r.id;void 0!==e&&(yield LS(t.connection.muteLocal([e])))}}finally{n()}}))()}async republish(){this.pendingLocalTracks.length>0&&(oI.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await BC(this,QA.RequestRePublish,this.pendingLocalTracks),this.emit(QA.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(oI.debug("Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels."),await BC(this,QA.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(e){for(let t=this.pendingRemoteTracks.length-1;t>=0;t--){const{user:e,kind:n}=this.pendingRemoteTracks[t];(n!==YA.AUDIO||e._audio_added_&&e._audioSSRC)&&(n!==YA.VIDEO||e._video_added_&&e._videoSSRC)||this.pendingRemoteTracks.splice(t,1)}if(e)await BC(this,QA.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:t,kind:n}of this.pendingRemoteTracks)await this.subscribe(t,n,n===YA.VIDEO?t._videoSSRC:t._audioSSRC);this.pendingRemoteTracks.forEach((e=>{let{user:t}=e;this.emit(QA.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==ZA.Connected)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find((e=>"videoLowTrack"===e[0]));return n&&n[1].track.close(),this.doUnpublish(this.connection,t)}async unpublishDataChannel(e){if(!this.connection||this.state!==ZA.Connected)return void e.forEach((e=>{const t=this.pendingLocalDataChannels.indexOf(e);-1!==t&&this.pendingLocalDataChannels.splice(t,1)}));const t=this.filterTobeUnpublishedDataChannels(e);return 0!==t.length?(t.forEach((e=>{const t=this.localDataChannels.indexOf(e);-1!==t&&this.localDataChannels.splice(t,1)})),0===this.localDataChannels.length&&await this.connection.stopDataChannels(this.store.uid),t.map((e=>e.id))):void 0}async unpublishLowStream(){if(!this.connection||this.state!==ZA.Connected)return;const e=this.localTrackMap.get(JA.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[JA.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const n=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:n}]=e;return{type:t,track:n}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadOutboundStats(),n}async subscribeDataChannel(e,t){if(!this.connection||this.state!==ZA.Connected)throw new uC(lC.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");const n=t.filter((t=>{var n;return!(null!==(n=this.remoteDataChannelMap.get(e))&&void 0!==n&&n.get(t.id))}));if(0!==n.length)return await this.connection.createDataChannels(e.uid,n),n.forEach((t=>{var n;this.remoteDataChannelMap.has(e)?null===(n=this.remoteDataChannelMap.get(e))||void 0===n||n.set(t.id,t):this.remoteDataChannelMap.set(e,new Map([[t.id,t]]));const r=this.pendingRemoteDataChannels.findIndex((n=>{let{user:r,id:o}=n;return r.uid===e.uid&&o===t.id}));-1!==r&&this.pendingRemoteDataChannels.splice(r,1)})),n.map((e=>e.id))}async subscribe(e,t,n,r,o){var i;if(!this.connection||this.state!==ZA.Connected)throw new uC(lC.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if(null!==(i=this.remoteUserMap.get(e))&&void 0!==i&&i.has(t))return;let a,s,c;const l=this.connection.getPreMedia(n);if(l)oI.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] preSSRCMap has ssrcId: ").concat(n,", no need to send sub to gateway.")),c=l.transceiver,a=l.track,s=l.id;else if(o){const n=o.find((e=>{let{stream_type:n}=e;return n===t}));if(!n)throw new uC(lC.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(t," for user: ").concat(e.uid," because subscribe answer from gateway does not contain stream_type: ").concat(t,"."));const r=await this.connection.receive(t,n.ssrcs,String(e._uintid),n.attributes);this.connection instanceof rB&&(c=r.transceiver),a=r.track,s=r.id}else{const o=await this.connection.receive(t,[{ssrcId:n,rtx:r}],String(e._uintid),void 0);this.connection instanceof rB&&(c=o.transceiver),a=o.track,s=o.id}t===YA.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(a):(e._audioTrack=new uL(a,e.uid,e._uintid,this.store),oI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),c&&e._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(a):(e._videoTrack=new lL(a,e.uid,e._uintid,this.store),oI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),c&&e._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._videoTrack)),jR("ENABLE_VIDEO_SEI")&&c&&(t==YA.VIDEO?await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!UD().supportWebRTCEncodedTransform)return void oI.warning("browser not support video encoded transform");if(!e.track)return;if(bL.has(e)){const n=bL.get(e);return void(n&&(n.onSei=t.onSei))}const n={track:e.track,onSei:t.onSei};if(Uw()){if(!e.createEncodedStreams)return void oI.warning("browser not support createEncodedStreams() API");let t=null;try{t=e.createEncodedStreams()}catch(o){return void oI.error("create video-encoded-streams error",o&&o.message)}const i=new TransformStream({transform(t,o){n.controller||(n.controller=o),e.track&&e.track.id!==n.track.id&&(oI.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",r),n.track=e.track,n.track.addEventListener("ended",r));const i=function(e){const t=new DataView(e.data);let n=0;for(;n+4<e.data.byteLength;){if(0===t.getUint8(n+0)&&0===t.getUint8(n+1)&&0===t.getUint8(n+2)&&1===t.getUint8(n+3)&&6===t.getUint8(n+4)){let r=n+6,o=0,i=0;for(;255===(i=t.getUint8(r++));)o+=255;o+=i;const a=yL(e.data,r,o);return new Uint8Array(a)}n++}return null}(t);i&&n.onSei&&n.onSei(i),o.enqueue(t)}});t.readable.pipeThrough(i).pipeTo(t.writable)}else if(jw()){if("undefined"==typeof RTCRtpScriptTransform)return void oI.warning("browser not support RTCRtpScriptTransform");const t=mL(),o=new MessageChannel;await new Uh((e=>t.onmessage=t=>{"registered"===t.data&&e(void 0)}));const i=new RTCRtpScriptTransform(t,{name:"rx",port:o.port2},[o.port2]);e.transform=i,await new Uh((e=>t.onmessage=t=>{"started"===t.data&&e(void 0)})),o.port1.onmessage=t=>{var o;t.data.transformed&&e.track&&(null===(o=e.track)||void 0===o?void 0:o.id)!==n.track.id?(oI.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",r),n.track=e.track,n.track.addEventListener("ended",r)):t.data.sei&&n.onSei&&n.onSei(t.data.sei)},n.worker=t}function r(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener("ended",r)}!function(e){const t=bL.get(e);if(t){bL.delete(e);try{var n,r;null===(n=t.controller)||void 0===n||n.terminate(),null===(r=t.worker)||void 0===r||r.terminate()}catch(o){oI.warning(o&&o.message)}}}(e)}bL.set(e,n),e.track.addEventListener("ended",r)}(c.receiver,{onSei:t=>{var n;null===(n=e._videoTrack)||void 0===n||n._onSei(t)}}):t==YA.AUDIO&&await async function(e){if(!UD().supportWebRTCEncodedTransform)return void oI.warning("browser not support audio encoded transform");if(vL.has(e))return;const t={track:e.track};if(Uw()){if(!e.createEncodedStreams)return void oI.warning("browser not support createEncodedStreams() API");let o=null;try{o=e.createEncodedStreams()}catch(r){return void oI.error("create audio-encoded-streams error",r&&r.message)}const i=new TransformStream({transform(r,o){t.controller||(t.controller=o),e.track&&e.track.id!==t.track.id&&(oI.debug("audio track changed: ".concat(t.track.id," => ").concat(e.track.id)),t.track.removeEventListener("ended",n),t.track=e.track,t.track.addEventListener("ended",n)),o.enqueue(r)}});o.readable.pipeThrough(i).pipeTo(o.writable)}else if(jw()){if("undefined"==typeof RTCRtpScriptTransform)return void oI.warning("browser not support RTCRtpScriptTransform");const r=mL(),o=new MessageChannel;await new Uh((e=>r.onmessage=t=>{"registered"===t.data&&e(void 0)}));const i=new RTCRtpScriptTransform(r,{name:"rx",port:o.port2},[o.port2]);e.transform=i,await new Uh((e=>r.onmessage=t=>{"started"===t.data&&e(void 0)})),o.port1.onmessage=r=>{var o;r.data.transformed&&e.track&&(null===(o=e.track)||void 0===o?void 0:o.id)!==t.track.id&&(oI.debug("audio track changed: ".concat(t.track.id," => ").concat(e.track.id)),t.track.removeEventListener("ended",n),t.track=e.track,t.track.addEventListener("ended",n))},t.worker=r}function n(){e.track.removeEventListener("ended",n),function(e){const t=vL.get(e);if(t){vL.delete(e);try{var n,r;null===(n=t.controller)||void 0===n||n.terminate(),null===(r=t.worker)||void 0===r||r.terminate()}catch(o){oI.warning(o&&o.message)}}}(e)}vL.set(e,t),e.track.addEventListener("ended",n)}(c.receiver));const u=this.remoteUserMap.get(e);u?u.set(t,s):this.remoteUserMap.set(e,new Map([[t,s]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats();const d=this.pendingRemoteTracks.findIndex((n=>{let{user:r,kind:o}=n;return r.uid===e.uid&&t===o}));-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(QA.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==ZA.Connected)throw new uC(lC.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");e=e.filter((e=>{var t;let{user:n,mediaType:r}=e;return!(null!==(t=this.remoteUserMap.get(n))&&void 0!==t&&t.has(r))}));const t=[],n=new Map;e.forEach((e=>{if(!this.connection)return;const r=this.connection.getPreMedia(e.ssrcId);r?n.set(e.ssrcId,r):t.push(e)}));const r=await this.connection.batchReceive(t.map((e=>{let{user:t,mediaType:n,ssrcId:r,rtxSsrcId:o}=e;return{kind:n,ssrcMsg:[{ssrcId:r,rtx:o}],mslabel:String(t._uintid)}})));t.forEach(((e,t)=>{n.set(e.ssrcId,r[t])})),e.forEach((e=>{let{user:t,mediaType:r,ssrcId:o}=e;const i=n.get(o);if(!i)return void oI.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] cannot find ").concat(t.uid," subscribe data,").concat(r,", ").concat(o));const{track:a,id:s,transceiver:c}=i;r===YA.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(a):(t._audioTrack=new uL(a,t.uid,t._uintid,this.store),oI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(t._audioTrack.getTrackId()))),c&&t._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(a):(t._videoTrack=new lL(a,t.uid,t._uintid,this.store),oI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(t._videoTrack.getTrackId()))),c&&t._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._videoTrack));const l=this.remoteUserMap.get(t);l?l.set(r,s):this.remoteUserMap.set(t,new Map([[r,s]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats();const u=this.pendingRemoteTracks.findIndex((e=>{let{user:n,kind:o}=e;return n.uid===t.uid&&r===o}));-1!==u&&(this.pendingRemoteTracks.splice(u,1),this.emit(QA.MediaReconnectEnd,t.uid))}))}async unsubscribe(e,t,n){const r=this.pendingRemoteTracks.filter((n=>{let{user:r,kind:o}=n;return void 0!==t?r.uid===e.uid&&t===o:r.uid===e.uid}));if(r.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.connection&&this.state===ZA.Connected||n||r.forEach((t=>{let{kind:n}=t;var r;if(n===YA.AUDIO)null===(r=e._audioTrack)||void 0===r||r._destroy(),e._audioTrack=void 0;else if(n===YA.VIDEO){var o;null===(o=e._videoTrack)||void 0===o||o._destroy(),e._videoTrack=void 0}})),!this.connection||this.state!==ZA.Connected)return;const o=this.filterTobeUnSubscribedTracks(e,t);if(0===o.length)return;await this.connection.stopReceiving(o.map((e=>{let[,{id:t}]=e;return t})));const i=this.createUnsubscribeMessage(o);return this.withdrawRemoteTracks(o),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),o.forEach((e=>{let[t,{kind:r}]=e;var o,i;if(r===YA.VIDEO&&t._videoSSRC&&(null===(o=this.connection)||void 0===o||o.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),r===YA.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(i=t._videoTrack)||void 0===i||i._destroy(),t._videoTrack=void 0);else if(r===YA.AUDIO){var a;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(a=t._audioTrack)||void 0===a||a._destroy(),t._audioTrack=void 0)}})),i}async unsubscribeDataChannel(e,t){if(t.forEach((e=>{const t=this.pendingRemoteDataChannels.findIndex((t=>t.id===e.id));-1!==t&&this.pendingRemoteDataChannels.splice(t,1)})),!this.connection)return;const n=this.filterTobeUnSubscribedDataChannels(e,t);if(0===n.length)return;t.forEach((e=>{e._close()}));const r=this.remoteDataChannelMap.get(e);return n.forEach((e=>{r&&r.delete(e.id)})),r&&0===r.size&&(this.remoteDataChannelMap.delete(e),await this.connection.stopDataChannels(e.uid)),n.map((e=>e.id))}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:o,mediaType:i}of e){const e=this.pendingRemoteTracks.filter((e=>{let{user:t,kind:n}=e;return void 0!==i?t.uid===o.uid&&i===n:t.uid===o.uid}));e.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),t=t.concat(e)}if(!this.connection||this.state!==ZA.Connected)return void t.forEach((e=>{let{user:t,kind:n}=e;var r;if(n===YA.AUDIO)null===(r=t._audioTrack)||void 0===r||r._destroy(),t._audioTrack=void 0;else if(n===YA.VIDEO){var o;null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0}}));const n=qr(e).call(e,((e,t)=>{let{user:n,mediaType:r}=t;const o=this.filterTobeUnSubscribedTracks(n,r);return e.concat(o)}),[]);if(0===n.length)return;await this.connection.stopReceiving(n.map((e=>{let[,{id:t}]=e;return t})));const r=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),n.forEach((e=>{let[t,{kind:n}]=e;var r,o;if(n===YA.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),n===YA.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0;else if(n===YA.AUDIO){var i;this.unbindRemoteTrackEvents(t._audioTrack),null===(i=t._audioTrack)||void 0===i||i._destroy(),t._audioTrack=void 0}})),r}isPreSubScribe(e){return!(!this.connection||this.state!==ZA.Connected||!this.connection.getPreMedia(e))}async muteRemote(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);if(!n)return void oI.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(e.uid,"."));if(!n.get(t))return void oI.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."));const r=t===YA.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==r&&this.connection.setStatsRemoteVideoIsReady(r,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);n?n.get(t)||oI.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(e.uid," media type ").concat(t,".")):oI.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(e.uid,"."))}getAllTracks(e){const t=this.localTrackMap.get(JA.LocalAudioTrack);if((null==t?void 0:t.track)instanceof sM){const n=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==JA.LocalAudioTrack})).filter((t=>{let[n]=t;return!(e&&n===JA.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[n]=t;return!(e&&n===JA.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(e,t,n,r,o){if(e){const n=this.localTrackMap.get(JA.LocalAudioTrack),i=r?this.localTrackMap.get(JA.LocalVideoLowTrack):this.localTrackMap.get(JA.LocalVideoTrack);hI.publish(this.store.sessionId,{eventElapse:JU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==i?void 0:i.track.getTrackLabel(),screenshare:-1!==(null==i?void 0:i.track._hints.indexOf(nx.SCREEN_TRACK)),audio:!!n,video:!!i,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:o})}else{var i;n||(n=[]);const a=n.find((e=>e instanceof oM)),s=r?null===(i=this.localTrackMap.get(JA.LocalVideoTrack))||void 0===i?void 0:i.track:n.find((e=>e instanceof KM));hI.publish(this.store.sessionId,{eventElapse:JU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==a?void 0:a.getTrackLabel(),videoName:null==s?void 0:s.getTrackLabel(),screenshare:-1!==(null==s?void 0:s._hints.indexOf(nx.SCREEN_TRACK)),audio:!!a,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:o})}}reportSubscribeEvent(e,t,n,r){const o=r===YA.VIDEO?n._videoSSRC:n._audioSSRC;o&&hI.subscribe(this.store.sessionId,{succ:e,ec:t,video:r===YA.VIDEO,audio:r===YA.AUDIO,peerid:n.uid,subscribeRequestid:o,p2pid:this.store.p2pId,eventElapse:JU.measureFromSubscribeStart(this.store.clientId,o),preSsrc:this.isPreSubScribe(o)})}reset(){oI.debug("[".concat(this.store.clientId,"] P2PChannel.reset")),this.mutex=new yR("P2PChannel-mutex",this.store.clientId),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new xV({},this.store):new rB({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(JA.LocalAudioTrack);if((null==e?void 0:e.track)instanceof sM){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=ZA.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(JA.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(JA.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof KM||t&&t.track instanceof oM?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(rf(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(JA.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Qf(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.connection&&(oI.debug("[".concat(this.store.clientId,"] P2PChannel.disconnectForReconnect closing P2PConnection")),this.state=ZA.Reconnecting,jR("KEEP_LAST_FRAME")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var n;t._videoTrack&&t._videoTrack._player&&(null===(n=t._videoTrack._player.getVideoElement())||void 0===n||n.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new xV({},this.store):new rB({},this.store),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[n,{track:r}]=e;switch(n){case JA.LocalVideoTrack:Or(t=r._hints).call(t,nx.LOW_STREAM)?r.close():this.pendingLocalTracks.push(r);break;case JA.LocalAudioTrack:r instanceof sM?this.pendingLocalTracks=this.pendingLocalTracks.concat(r.trackList):this.pendingLocalTracks.push(r);case JA.LocalVideoLowTrack:}})),this.emit(QA.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;Array.from(rf(n).call(n)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(QA.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),0!==this.localDataChannels.length&&(this.localDataChannels.forEach((e=>{this.pendingLocalDataChannels.push(e)})),this.localDataChannels.length=0),0!==this.remoteDataChannelMap.size&&(Array.from(this.remoteDataChannelMap.entries()).forEach((e=>{let[t,n]=e;Array.from(rf(n).call(n)).forEach((e=>{this.setPendingRemoteDataChannel(t,e)}))})),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),oI.debug("[".concat(this.store.clientId,"] P2PChannel disconnected, waiting to reconnect.")))}hasPendingRemoteDataChannel(e,t){for(const n of this.pendingRemoteDataChannels){const{user:r,id:o}=n;if((e instanceof nV?e.uid:e)===r.uid&&o===t)return!0}return!1}setPendingRemoteDataChannel(e,t){this.hasPendingRemoteDataChannel(e,t)||this.pendingRemoteDataChannels.push({user:e,id:t})}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:r,kind:o}=n;if((e instanceof nV?e.uid:e)===r.uid&&t===o)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(e){var t=this;return MS((function*(){if(!t.connection||t.state!==ZA.Connected)return;const n=yield LS(t.mutex.lock("From P2PChannel.restartICE"));let r;try{r=yield LS(t.connection.restartICE(e));const n=yield LS(r.next());if(n.done)return;const o=n.value,i=yield o;switch(t.reportPCDisconnectedOrFailed(e),e){case XA.TCP:t._pcStatsUploadType=$A.TCP_RESTART;break;case XA.RELAY:t._pcStatsUploadType=$A.RELAY_RESTART;break;default:t._pcStatsUploadType=$A.OLD_RESTART}t._isInRestartIce=!0,r.next(i)}catch(i){var o;null===(o=r)||void 0===o||o.throw(i)}finally{n()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(JA.LocalVideoTrack),n=this.localTrackMap.get(JA.LocalAudioTrack),r=e.videoSend.find((e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId))),o=e.audioSend.find((e=>e.ssrc===(null==n?void 0:n.ssrcs[0].ssrcId)));if(!r||!o)return 1;const i=FC(this,QA.NeedSignalRTT),a=r?r.rttMs:void 0,s=o?o.rttMs:void 0,c=a&&s?(a+s)/2:a||s,l=(c&&i?(c+i)/2:c||i)||0,u=100*e.sendPacketLossRate*.7/50+.3*l/1500,d=u<.17?1:u<.36?2:u<.59?3:u<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(nx.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return mI[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][d]}}return d}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((n=>{let[r]=n;const o=r._audioSSRC,i=r._videoSSRC,a=e.audioRecv.find((e=>e.ssrc===o)),s=e.videoRecv.find((e=>e.ssrc===i));if(!a&&!s)return void(t+=1);const c=FC(this,QA.NeedSignalRTT),l=e.rtt,u=(l&&c?(l+c)/2:l||c)||0,d=a?a.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*u/1500;d&&(p=.6*h*100/50+.2*u/1500+.2*d/400),t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new Uh(((t,n)=>{this.handleMuteLocalTrack(e,t,n)}))}async replaceTrack(e,t){var n;if(oI.debug("[".concat(this.store.clientId,"] P2PChannel replaceTrack from [").concat(e.getTrackId(),"] to [").concat(t.getTrackId(),"]")),!this.connection||this.state!==ZA.Connected)return;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!r)return;const o=r[0];if(e!==t&&(this.unbindLocalTrackEvents([{track:e,type:o}]),this.bindLocalTrackEvents([{track:t,type:o}]),r[1].track=t),await(null===(n=this.connection)||void 0===n?void 0:n.replaceTrack(t,r[1].id)),this.isPlanB){const e=r[1];e.id=t._mediaStreamTrack.id,this.localTrackMap.set(o,e)}if(o===JA.LocalVideoTrack&&!jR("DISABLE_DUAL_STREAM_USE_ENCODING")&&UD().supportDualStreamEncoding){const t=this.localTrackMap.get(JA.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new Uh(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}}filterTobePublishedTracks(e,t,n){const r=[],o=this.getAllTracks();e=qC(e=e.filter((e=>-1===o.indexOf(e))));let i,a=!1;const s=this.localTrackMap.get(JA.LocalAudioTrack);for(const c of e){if(c instanceof KM&&(this.localTrackMap.has(JA.LocalVideoTrack)||a?new uC(lC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(r.push({track:c,type:JA.LocalVideoTrack}),a=!0),t)){const e=this.getLowVideoTrack(c,n);r.push({track:e,type:JA.LocalVideoLowTrack})}if(c instanceof oM)if(s){const e=s.track;if(e instanceof sM)iV([c]),e.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0);else{const t=aV([e,c]);oI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(t.getTrackId(),"]")),this.replaceTrack(e,t)}}else i instanceof sM?(iV([c]),i.addAudioTrack(c)):i=i||!c._useAudioElement&&UD().webAudioMediaStreamDest&&!c._bypassWebAudio?aV(i?[c,i]:[c]):c}return i&&(oI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will send audioTrack [").concat(i.getTrackId(),"]")),r.push({track:i,type:JA.LocalAudioTrack})),r}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=qC(e=e.filter((e=>-1!==n.indexOf(e))));for(const r of e){if(r instanceof oM){const e=this.localTrackMap.get(JA.LocalAudioTrack);if(!e)continue;e.track instanceof sM?(e.track.removeAudioTrack(r),this.unbindLocalAudioTrackEvents(r),0===e.track.trackList.length&&(t.push([JA.LocalAudioTrack,e]),e.track.close())):t.push([JA.LocalAudioTrack,e])}if(r instanceof KM){const e=this.localTrackMap.get(JA.LocalVideoTrack);if(!e)continue;t.push([JA.LocalVideoTrack,e]);const n=this.localTrackMap.get(JA.LocalVideoLowTrack);n&&t.push([JA.LocalVideoLowTrack,n])}}return t}filterTobePublishedDataChannels(e){return(e=qC(e)).filter((e=>-1===this.localDataChannels.findIndex((t=>t.id===e.id))))}filterTobeUnpublishedDataChannels(e){return(e=(e=qC(e)).filter((e=>-1!==this.localDataChannels.indexOf(e)))).filter((e=>e._originDataChannel))}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:n}=e;switch(n){case JA.LocalVideoTrack:t.addListener(tx.GET_STATS,this.handleGetLocalVideoStats),t.addListener(tx.GET_RTC_STATS,this.handleGetRTCStats),t.addListener(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(tx.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(tx.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.addListener(tx.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case JA.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case JA.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof sM?e.trackList.forEach((e=>{e.addListener(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(tx.GET_STATS,this.handleGetLocalAudioStats),e.addListener(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(tx.GET_STATS,this.handleGetLocalAudioStats),e.addListener(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||(e.addListener(tx.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.addListener(tx.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:n}]=e;return{track:n,type:t}}))),e.forEach((e=>{let{track:t,type:n}=e;switch(n){case JA.LocalVideoTrack:t.off(tx.GET_STATS,this.handleGetLocalVideoStats),t.off(tx.GET_RTC_STATS,this.handleGetRTCStats),t.off(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(tx.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(tx.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.off(tx.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case JA.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case JA.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof sM?e.trackList.forEach((e=>{e.off(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(tx.GET_STATS,this.handleGetLocalAudioStats),e.off(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(tx.GET_STATS,this.handleGetLocalAudioStats),e.off(tx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(tx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(tx.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(tx.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),e.off(tx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(tx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof lL&&t.addListener(tx.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof uL&&t.addListener(tx.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(tx.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;n.has(YA.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(YA.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,n)=>{var r;let o,i,{track:a,type:s}=e;switch(s){case JA.LocalAudioTrack:o=UA.Audio,i={dtx:a instanceof iM&&a._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case JA.LocalVideoTrack:o=Or(r=a._hints).call(r,nx.SCREEN_TRACK)?UA.Screen:UA.High,i=sB(sB({},jO(a)),{},{codec:this.store.codec,svc_mode:RL()});break;case JA.LocalVideoLowTrack:o=UA.Low,i=sB(sB({},jO(a)),{},{codec:this.store.codec,svc_mode:RL()})}return{stream_type:o,attributes:i,ssrcs:t[n]}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let n,[r,{track:o,ssrcs:i,id:a}]=e;switch(r){case JA.LocalVideoTrack:n=Or(t=o._hints).call(t,nx.SCREEN_TRACK)?UA.Screen:UA.High;break;case JA.LocalAudioTrack:n=UA.Audio;break;case JA.LocalVideoLowTrack:n=UA.Low}return{stream_type:n,ssrcs:i,mid:a}}))}assignLocalTracks(e,t){e.forEach(((e,n)=>{let{track:r,type:o}=e;this.localTrackMap.set(o,{track:r,id:t[n].id,ssrcs:t[n].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(t,")")),this.emit(QA.PeerConnectionStateChange,t),"connected"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"connected"===t&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),jR("NEW_ICE_RESTART")){var n;if(Or(n=this._restartStates).call(n,t)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const t=t=>{"disconnected"!==e.iceConnectionState&&"checking"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||(oI.debug("[".concat(this.store.clientId,"] [P2PChannel] start use restartICE, type is ").concat(t)),"CONNECTED"===FC(this,QA.QueryClientConnectionState)&&this.emit(QA.RequestRestartICE,t))},n=()=>{"disconnected"!==e.iceConnectionState&&"checking"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),oI.debug("[".concat(this.store.clientId,"] P2PConnection disconnected timeout, force reconnect")),setTimeout((()=>this.emit(QA.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())},r=jR("ICE_RESTART_INTERVAL");return void(this._restartTimer=window.setTimeout((()=>{if(jR("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&UD().supportPCSetConfiguration)t(XA.RELAY),this._restartTimer=window.setTimeout(n,r);else if(Bw())t(XA.UDP),this._restartTimer=window.setTimeout(n,4e3);else{if(t(XA.TCP),UD().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout((()=>{t(XA.RELAY),this._restartTimer=window.setTimeout(n,r)}),r));this._restartTimer=window.setTimeout(n,r)}}),800))}}else{if("disconnected"===t&&"disconnected"===e.iceConnectionState)return setTimeout((()=>{"disconnected"===e.iceConnectionState&&jR("ICE_RESTART")&&"CONNECTED"===FC(this,QA.QueryClientConnectionState)&&this.emit(QA.RequestRestartICE)}),800),void setTimeout((()=>{"disconnected"===e.peerConnectionState&&(oI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection disconnected timeout 4000ms, force reconnect")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout((()=>this.emit(QA.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())}),4e3);"failed"===t&&(oI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection state failed, force reconnect")),this.reportPCDisconnectedOrFailed(),setTimeout((()=>this.emit(QA.P2PLost)),0),this.iceFailedCount+=1,await this.requestReconnect())}},e.onICEConnectionStateChange=e=>{"connected"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),hI.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:OC.TRACER}).onSuccess(),this.emit(QA.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=e=>{oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=e=>{oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(rf(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var r;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(r=n.audioTrack)||void 0===r||r.emit(cx.FIRST_FRAME_DECODED),hI.firstRemoteFrame(this.store.sessionId,cI.FIRST_AUDIO_DECODE,lI.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:JU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(rf(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));n&&hI.firstRemoteFrame(this.store.sessionId,cI.FIRST_AUDIO_RECEIVED,lI.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:JU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=e=>{var t;const n=Array.from(rf(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));n&&hI.firstRemoteFrame(this.store.sessionId,cI.FIRST_VIDEO_RECEIVED,lI.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:JU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,r="relay"===t.candidateType;"unknown"!==t.candidateType&&n===r||this.emit(QA.ConnectionTypeChange,n),oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(HO(t))," -> ").concat(JSON.stringify(HO(e)),")"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{oI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(HO(t))," -> ").concat(JSON.stringify(HO(e)),")"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.getLocalVideoStats=()=>{const e=this.statsCollector.getLocalVideoTrackStats(),t=this.statsCollector.getRTCStats();return sB(sB({},e),t)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.getLocalVideoStats=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(JA.LocalAudioTrack);if(e instanceof oM&&(null==n?void 0:n.track)instanceof sM)return n.track.isActive||t.push([JA.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r&&(t.push(r),r[0]===JA.LocalVideoTrack)){const e=this.localTrackMap.get(JA.LocalVideoLowTrack);e&&t.push([JA.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(JA.LocalAudioTrack);if(e instanceof oM&&(null==n?void 0:n.track)instanceof sM)return n.track.isActive&&t.push([JA.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r)if(r[0]===JA.LocalVideoTrack){t.push(r);const e=this.localTrackMap.get(JA.LocalVideoLowTrack);e&&t.push([JA.LocalVideoLowTrack,e])}else t.push(r);return t}createMuteMessage(e){return e.map((e=>{var t;let n,[r,{track:o,ssrcs:i,id:a}]=e;switch(r){case JA.LocalAudioTrack:n=UA.Audio;break;case JA.LocalVideoTrack:n=Or(t=o._hints).call(t,nx.SCREEN_TRACK)?UA.Screen:UA.High;break;case JA.LocalVideoLowTrack:n=UA.Low}return{stream_type:n,ssrcs:i,mid:a}}))}createUnmuteMessage(e){return e.map((e=>{var t;let n,[r,{track:o,ssrcs:i,id:a}]=e;switch(r){case JA.LocalAudioTrack:n=UA.Audio;break;case JA.LocalVideoTrack:n=Or(t=o._hints).call(t,nx.SCREEN_TRACK)?UA.Screen:UA.High;break;case JA.LocalVideoLowTrack:n=UA.Low}return{stream_type:n,ssrcs:i,mid:a}}))}filterTobeUnSubscribedTracks(e,t){const n=[],r=this.remoteUserMap.get(e);if(!r)return n;if(t){const o=r.get(t);if(!o)return n;n.push([e,{kind:t,id:o}])}else Array.from(r.entries()).forEach((t=>{let[r,o]=t;n.push([e,{kind:r,id:o}])}));return n}filterTobeUnSubscribedDataChannels(e,t){const n=[];return t.forEach((t=>{var r;null!==(r=this.remoteDataChannelMap.get(e))&&void 0!==r&&r.has(t.id)&&n.push(t)})),n}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[n,{kind:r,id:o}]=e;switch(r){case YA.VIDEO:return void(n._videoSSRC&&t.push({stream_type:YA.VIDEO,ssrcId:n._videoSSRC}));case YA.AUDIO:return void(n._audioSSRC&&t.push({stream_type:YA.AUDIO,ssrcId:n._audioSSRC}))}})),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach((e=>{let[n,{kind:r}]=e;if(t.has(n)){let e=t.get(n);r===YA.VIDEO?e|=BA.Video:e|=BA.Audio,t.set(n,e)}else r===YA.VIDEO?t.set(n,BA.Video):t.set(n,BA.Audio)})),{users:Array.from(t.entries()).map((e=>{let[t,n]=e;return{stream_id:t.uid,stream_type:n}}))}}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:n}]=e;const r=this.remoteUserMap.get(t);r&&(r.delete(n),0===Array.from(r.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(JA.LocalVideoTrack),n=this.localTrackMap.get(JA.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return!this.connection||"connected"!==this.connection.peerConnectionState}mapPubResToRemoteConfig(e,t,n){return e.map(((e,r)=>{var o;let{stream_type:i}=e;const a=null===(o=t.find((e=>{let{stream_type:t}=e;return i===t})))||void 0===o?void 0:o.attributes;if(a&&jR("DISABLE_SCREEN_SHARE_REMB")){const e=n[r]._hints;(Or(e).call(e,nx.SCREEN_TRACK)||Or(e).call(e,nx.SCREEN_LOW_TRACK))&&(a.remb=!1,oI.debug("disable remb for screen share, hints:",e))}return a}))}async tryToUnmuteAudio(e){for(let n=0;n<e.length;n++)if(e[n]instanceof oM){var t;const r=this.filterTobeUnmutedTracks(e[n]);if(0===r.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t}))));const o=this.createUnmuteMessage(r);return void(await zC(this,QA.RequestUnmuteLocal,o))}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(QA.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(QA.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await iR(bR(this.dtlsFailedCount,ER)),this.emit(QA.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await BC(this,QA.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(QA.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(JA.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof KM))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof KM)).length>1)throw new uC(lC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof oM)).length>1&&(e.some((e=>e instanceof oM&&e._bypassWebAudio))||!UD().webAudioMediaStreamDest))throw new uC(lC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof KM&&this.pendingLocalTracks.some((e=>e instanceof KM)))throw new uC(lC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof oM&&this.pendingLocalTracks.some((e=>e instanceof oM))&&(!UD().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof oM&&e._bypassWebAudio))))throw new uC(lC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){var n;const r=!jR("DISABLE_DUAL_STREAM_USE_ENCODING")&&UD().supportDualStreamEncoding,o=sB(sB({},{width:160,height:120,framerate:15,bitrate:50}),t);let i;i=r?e._mediaStreamTrack.clone():Vj(e,o);const a=aR(8,"track-low-"),s=new KM(i,sB(sB({},r&&{scaleResolutionDownBy:FO(o,e)}),{},{frameRate:o.framerate,bitrateMax:o.bitrate,bitrateMin:o.bitrate}),void 0,void 0,a);return s.on(ax.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,rx.LOW_STREAM)})),s._hints.push(nx.LOW_STREAM),Or(n=e._hints).call(n,nx.SCREEN_TRACK)&&s._hints.push(nx.SCREEN_LOW_TRACK),e.on("sei-to-send",(e=>{s.emit("sei-to-send",e)})),e.addListener(tx.NEED_CLOSE,(()=>{s.close()})),s}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}async reportPCStats(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.connection&&this.connection instanceof rB){var o,i,a,s;const c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:l,dtlsTransportState:u,peerConnectionState:d}=this.connection,{local:h,remote:p}=await this.connection.getSelectedCandidatePair();hI.pcStats(this.store.sessionId,{startTime:c,eventElapse:e-c||0,iceconnectionsate:l,dtlsstate:u,connectionstate:d,intSucc:t?1:2,error:r,selectedLocalCandidateProtocol:null!==(o=null==h?void 0:h.protocol)&&void 0!==o?o:"",selectedLocalCandidateType:null!==(i=h.candidateType)&&void 0!==i?i:"",selectedLocalCandidateAddress:"".concat(h.address,":").concat(h.port),selectedRemoteCandidateProtocol:null!==(a=p.protocol)&&void 0!==a?a:"",selectedRemoteCandidateType:null!==(s=p.candidateType)&&void 0!==s?s:"",selectedRemoteCandidateAddress:"".concat(p.address,":").concat(p.port),restartCnt:n,preallocation:this.connection.isPreallocation})}}reportVideoFirstFrameDecoded(e,t,n,r){var o;const i=Array.from(rf(o=this.remoteUserMap).call(o)).find((t=>t._videoSSRC===e));if(i){r||this.store.subscribe(i.uid,"video",void 0,void 0,void 0,void 0,Date.now());const o=this.store.keyMetrics,a=o.subscribe.find((e=>e.userId===i.uid&&"video"===e.type));hI.firstRemoteVideoDecode(this.store.sessionId,cI.FIRST_VIDEO_DECODE,lI.FIRST_VIDEO_DECODE,{peer:i._uintid,videowidth:t,videoheight:n,subscribeElapse:JU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:o.requestAPEnd||0,apStart:o.requestAPStart||0,joinGwEnd:o.joinGatewayEnd||0,joinGwStart:o.joinGatewayStart||0,pcEnd:o.peerConnectionEnd||0,pcStart:o.peerConnectionStart||0,subscriberEnd:(null==a?void 0:a.subscribeEnd)||0,subscriberStart:(null==a?void 0:a.subscribeStart)||0,videoAddNotify:(null==a?void 0:a.streamAdded)||0,state:r?1:0,firstFrame:(null==a?void 0:a.firstFrame)||0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.connection)return!1;const r=this.remoteUserMap.get(e);if(!r)return!1;const o=r.get(t);if(!o)return!1;const i=await this.connection.getRemoteSSRC(o);return void 0!==i&&i!==n}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:n}]=e;t===JA.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,rx.LOW_STREAM):n._updateRtpTransceiver(void 0)}))}reportPCDisconnectedOrFailed(e){this.connection&&this.connection instanceof rB&&("disconnected"!==this.connection.iceConnectionState&&"checking"!==this.connection.iceConnectionState&&"failed"!==this.connection.iceConnectionState||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===$A.TCP_RESTART&&e===XA.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,$A.DISCONNECTED_OR_FAILED)))}},sA(iB.prototype,"startP2PConnection",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"startP2PConnection"),iB.prototype),sA(iB.prototype,"connect",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"connect"),iB.prototype),sA(iB.prototype,"updateRemoteRTPCapabilities",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"updateRemoteRTPCapabilities"),iB.prototype),sA(iB.prototype,"publishDataChannel",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"publishDataChannel"),iB.prototype),sA(iB.prototype,"unpublish",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"unpublish"),iB.prototype),sA(iB.prototype,"unpublishDataChannel",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"unpublishDataChannel"),iB.prototype),sA(iB.prototype,"unpublishLowStream",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"unpublishLowStream"),iB.prototype),sA(iB.prototype,"subscribeDataChannel",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"subscribeDataChannel"),iB.prototype),sA(iB.prototype,"subscribe",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"subscribe"),iB.prototype),sA(iB.prototype,"massSubscribe",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"massSubscribe"),iB.prototype),sA(iB.prototype,"unsubscribe",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"unsubscribe"),iB.prototype),sA(iB.prototype,"unsubscribeDataChannel",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"unsubscribeDataChannel"),iB.prototype),sA(iB.prototype,"massUnsubscribe",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"massUnsubscribe"),iB.prototype),sA(iB.prototype,"muteRemote",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"muteRemote"),iB.prototype),sA(iB.prototype,"unmuteRemote",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"unmuteRemote"),iB.prototype),sA(iB.prototype,"hasRemoteMediaWithLock",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"hasRemoteMediaWithLock"),iB.prototype),sA(iB.prototype,"disconnectForReconnect",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"disconnectForReconnect"),iB.prototype),sA(iB.prototype,"updateBitrateLimit",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"updateBitrateLimit"),iB.prototype),sA(iB.prototype,"remoteMediaSsrcChanged",[dB],Object.getOwnPropertyDescriptor(iB.prototype,"remoteMediaSsrcChanged"),iB.prototype),iB);function dB(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PChannel.".concat(t));try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return await r.apply(this,i)}finally{n()}},n}const hB={};function pB(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&oI.debug("install service ".concat(e.name)),hB[e.name]=e}function fB(e){const t=hB[e];if(!t)throw new uC(lC.INVALID_OPERATION,"".concat(e," not found, please use AgoraRTC.use(").concat(e,"Service) to load it first"));return t}function mB(e,t){return fB("DataStream").create(e,t)}function gB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gB(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const yB=Date.now(),_B=20,EB=new Map,bB=new Map;async function TB(e){const t=EB.get(e),n=Array.isArray(t)&&t[t.length-1],r=bB.get(e);if(!n)return void(r.isSyncing=!1);const o={uid:n.uid,payload:n.payload};0===r.firstRecvTs&&(r.firstRecvTs=n.recvTs,r.firstSendTs=n.sendTs);const i=n.sendTs-r.firstSendTs,a=i-(Date.now()-r.firstRecvTs);a>0&&(r.firstRecvTs=Date.now()-i);let s=n.mediaDelay+a;s<=0?(t.pop(),SB(n.context,o),s=0):s=Math.min(s,_B),setTimeout((()=>t.length&&TB(e)),s)}function SB(e,t){e.safeEmit(LC.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)}function wB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!e.syncWithAudio)return SB(n,{uid:e.uid,payload:e.payload});const r="".concat(n.id,"-").concat(e.uid),o=EB.get(r)||[],i=o.findIndex((t=>e.sendTs>=t.sendTs)),a=vB(vB({},e),{},{context:n,mediaDelay:t,recvTs:Date.now()});-1===i?o.push(a):o.splice(i,0,a),EB.set(r,o);let s=!1;var c;bB.has(r)?s=!(null===(c=bB.get(r))||void 0===c||!c.isSyncing):bB.set(r,{isSyncing:s,firstRecvTs:0,firstSendTs:0}),s||TB(r)}const CB=Dw().name;function RB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RB(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const AB="websdk_ng_cache_parameter",OB=jR("MAX_PRELOAD_ASYNC_LENGTH"),NB=1e4,kB=new Map,DB=[];let xB=null,PB=0,MB=0;const LB=new Map,UB=function(e,t){const n=[];let r=0;const o=async()=>{const e=n.shift();e&&await e(),n.length>0&&r<t?o():r--};return async function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return new Uh((async(i,s)=>{n.push((async()=>{try{const t=await e(...a);i(t)}catch(t){s(t)}})),r<t&&(r++,o())}))}}(VB,OB),jB=bw.CancelToken.source();async function VB(e,t,n,r,o,i){try{if(!jR("ENABLE_PRELOAD"))return;if(!UD().supportWebCrypto)return void JC((()=>{oI.warn("Your browser does not support preloading, this feature  be run in a secure environment")}),"preload_webcrypto_not_supported");if(!n&&null!==n)throw new uC(lC.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&mC(n,"token",1,2047),mC(e,"appid",1,2047),TA(t),r&&SA(r);const a=sR();oI.debug("preload channel ".concat(t,", uid is ").concat(r));const s={appId:e,cname:t,token:n||e,uid:"string"!=typeof r?r:null,sid:a,proxyServer:o};let c,l;"string"==typeof r?(s.stringUid=r,[l,c]=await Uh.all([BU(r,{sid:a,appId:e},jB.token),FU(IB(IB({},s),{},{token:n||e,uid:0}),jB.token)]),s.uid=l.uid,c.gatewayInfo.uid=s.uid,c.gatewayInfo.res.uid=s.uid):(i&&(s.stringUid=i),c=await FU(s,jB.token));const u={sid:a,appId:e,cname:t,token:n||e,uid:s.stringUid||r,intUid:s.uid||c.gatewayInfo.uid,stringUid:s.stringUid,ts:Date.now(),sua:l,ap:c};await async function(e){let t;try{e.uid&&zB({appId:e.appId,cname:e.cname,token:e.token,uid:e.uid,stringUid:e.stringUid});const n=KB(e),r=await async function(e,t){try{const n=await window.crypto.subtle.importKey("raw",eR(t),"AES-GCM",!1,["encrypt"]),r=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(1)},n,ZC(window.btoa(JSON.stringify(e))));return QC(new Uint8Array(r))}catch(n){return}}(e,e.token||e.appId);if(!r)return;t=WB(AB);const o=t?JSON.parse(t):[];o.push({[n]:r}),o.length>jR("AP_CACHE_NUM")&&o.shift(),qB(AB,JSON.stringify(o))}catch(n){oI.warn("Error caching server parameters:",n.message),qB(AB,"")}}(u),PB++}catch(a){throw MB++,function(e){xB||(xB=window.setTimeout((()=>{let t="";LB.forEach(((e,n)=>{t+="".concat(n,": ").concat(e," ;")})),hI.reportApiInvoke(null,{name:AC.PRELOAD,options:{success:PB,failed:MB,err:t}}).onError(e),PB=0,MB=0,LB.clear(),xB=null}),NB));const t=LB.get(e.code)||0;LB.set(e.code,t+1)}(a),a}}async function BB(e){try{if(jR("AP_REQUEST_DETAIL"))return;const r=zB(e);if(!r||"disabled"!==e.cloudProxyServer)return;const o=await async function(e,t){try{const n=await window.crypto.subtle.importKey("raw",eR(t),"AES-GCM",!1,["decrypt"]),r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(1)},n,ZC(e));return JSON.parse(window.atob(QC(new Uint8Array(r))))}catch(n){return}}(r,e.token||e.appId);if(!o)return;if(n=e,(t=o).cname!==n.cname||t.appId!==n.appId||t.token!==n.token||(n.stringUid?t.stringUid!==n.stringUid:"number"==typeof n.uid?t.uid!==n.uid:t.uid!=n.uid))return;if(o&&Date.now()-o.ts<jR("AP_CACHE_LIFETIME"))return o}catch(t){oI.warn("Error get preloadInfo",t.message)}var t,n}function zB(e){let t;try{if(t=WB(AB),!t)return;const n=JSON.parse(t),r=KB(e),o=function(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}(n,(e=>r in e));if(-1===o)return;const i=n.splice(o,1)[0];return qB(AB,JSON.stringify(n)),i[r]}catch(n){oI.warn("Error delete preload info: ".concat(t),n.message),qB(AB,"")}}function FB(e){if(e){let t=kB.get(e);t&&(window.clearTimeout(t),t=null,kB.delete(e)),Or(DB).call(DB,e)||"disabled"!==e.cloudProxyServer||DB.push(e)}if(kB.size<jR("AP_CACHE_NUM")&&DB.length>0){const e=DB.shift();kB.set(e,window.setTimeout((async()=>{const{appId:t,cname:n,token:r,stringUid:o,uid:i,proxyServer:a}=e;try{await UB(t,n,r,i,a,o),kB.has(e)&&FB(e)}catch(s){oI.warn("update preload failed",s.message),HB(e)}}),jR("AP_UPDATE_INTERVAL")))}}function HB(e){const t=DB.indexOf(e);-1!==t&&DB.splice(t,1);let n=kB.get(e);n&&(window.clearTimeout(n),n=null,kB.delete(e),FB())}function GB(e,t){const n=e.sua,r=e.ap;t&&n&&hI.reqUserAccount(e.sid,{lts:n.requestTime,elapse:n.elapse,success:!0,serverAddr:n.url,stringUid:t,uid:e.intUid,errorCode:null,extend:n.req}),hI.reportResourceTiming(e.ap.url,e.sid),hI.joinWebProxyAP(e.sid,{lts:r.requestTime,elapse:r.elapse,sucess:1,apServerAddr:r.url,turnServerAddrList:r.proxyInfo.addresses.map((e=>e.ip)).join(","),eventType:"disabled",unilbsServerIds:[DO.CHOOSE_SERVER,DO.CLOUD_PROXY_FALLBACK].toString()}),hI.joinChooseServer(e.sid,{lts:r.requestTime,elapse:r.elapse,succ:!0,csAddr:r.url,opid:r.opid,serverList:r.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,cid:r.gatewayInfo.cid.toString(),uid:r.gatewayInfo.uid.toString(),csIp:r.gatewayInfo.csIp,unilbsServerIds:[DO.CHOOSE_SERVER].toString(),isHttp3:r.isHttp3})}function WB(e){return window.atob(window.localStorage.getItem(e)||"")}function qB(e,t){window.localStorage.setItem(e,window.btoa(t))}function KB(e){let t="".concat(e.appId,"_").concat(e.cname);return"string"==typeof e.uid&&(t+="_s_".concat(e.uid)),"number"==typeof e.uid&&(t+="_".concat(e.uid)),e.token&&(t+="_".concat(e.token)),mR(t)}function YB(e){let t=function(){const e=ZB.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(e,t){let n=e.appId;void 0!==n&&(lz(t,10),iz(t,n));let r=e.cid;void 0!==r&&(lz(t,16),lz(t,r));let o=e.cname;void 0!==o&&(lz(t,26),iz(t,o));let i=e.deviceId;void 0!==i&&(lz(t,34),iz(t,i));let a=e.elapse;void 0!==a&&(lz(t,40),dz(t,a));let s=e.fileSize;void 0!==s&&(lz(t,48),dz(t,JB(s)));let c=e.height;void 0!==c&&(lz(t,56),dz(t,JB(c)));let l=e.jpg;void 0!==l&&(lz(t,66),lz(t,l.length),rz(t,l));let u=e.networkType;void 0!==u&&(lz(t,72),dz(t,JB(u)));let d=e.osType;void 0!==d&&(lz(t,80),dz(t,JB(d)));let h=e.requestId;void 0!==h&&(lz(t,90),iz(t,h));let p=e.sdkVersion;void 0!==p&&(lz(t,98),iz(t,p));let f=e.sequence;void 0!==f&&(lz(t,104),dz(t,JB(f)));let m=e.sid;void 0!==m&&(lz(t,114),iz(t,m));let g=e.timestamp;void 0!==g&&(lz(t,120),dz(t,g));let v=e.uid;void 0!==v&&(lz(t,128),lz(t,v));let y=e.vid;void 0!==y&&(lz(t,136),lz(t,y));let _=e.width;void 0!==_&&(lz(t,144),dz(t,JB(_)));let E=e.service;void 0!==E&&(lz(t,152),lz(t,E));let b=e.callbackData;void 0!==b&&(lz(t,162),lz(t,b.length),rz(t,b));let T=e.ticket;void 0!==T&&(lz(t,170),iz(t,T));let S=e.vendorConfigs;void 0!==S&&(lz(t,178),iz(t,S))}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}function XB(e){return function(e){let t={};e:for(;!ez(e);){let n=cz(e);switch(n>>>3){case 0:break e;case 1:t.code=cz(e);break;case 2:t.msg=oz(e,cz(e));break;case 3:t.requestId=oz(e,cz(e));break;case 4:t.timestamp=uz(e,!1);break;default:$B(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function $B(e,t){switch(t){case 0:for(;128&az(e););break;case 2:QB(e,cz(e));break;case 5:QB(e,4);break;case 1:QB(e,8);break;default:throw new Error("Unimplemented type: "+t)}}function JB(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let ZB=[];function QB(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function ez(e){return e.offset>=e.limit}function tz(e,t){let n=e.bytes,r=e.offset,o=e.limit,i=r+t;if(i>n.length){let t=new Uint8Array(2*i);t.set(n),e.bytes=t}return e.offset=i,i>o&&(e.limit=i),r}function nz(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function rz(e,t){let n=tz(e,t.length);e.bytes.set(t,n)}function oz(e,t){let n=nz(e,t),r=String.fromCharCode,o=e.bytes,i="",a="";for(let s=0;s<t;s++){let e,c,l,u,d=o[s+n];128&d?192==(224&d)?s+1>=t?a+=i:(e=o[s+n+1],128!=(192&e)?a+=i:(u=(31&d)<<6|63&e,u<128?a+=i:(a+=r(u),s++))):224==(240&d)?s+2>=t?a+=i:(e=o[s+n+1],c=o[s+n+2],32896!=(49344&(e|c<<8))?a+=i:(u=(15&d)<<12|(63&e)<<6|63&c,u<2048||u>=55296&&u<=57343?a+=i:(a+=r(u),s+=2))):240==(248&d)?s+3>=t?a+=i:(e=o[s+n+1],c=o[s+n+2],l=o[s+n+3],8421504!=(12632256&(e|c<<8|l<<16))?a+=i:(u=(7&d)<<18|(63&e)<<12|(63&c)<<6|63&l,u<65536||u>1114111?a+=i:(u-=65536,a+=r(55296+(u>>10),56320+(1023&u)),s+=3))):a+=i:a+=r(d)}return a}function iz(e,t){let n=t.length,r=0;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),r+=e<128?1:e<2048?2:e<65536?3:4}lz(e,r);let o=tz(e,r),i=e.bytes;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),e<128?i[o++]=e:(e<2048?i[o++]=e>>6&31|192:(e<65536?i[o++]=e>>12&15|224:(i[o++]=e>>18&7|240,i[o++]=e>>12&63|128),i[o++]=e>>6&63|128),i[o++]=63&e|128)}}function az(e){return e.bytes[nz(e,1)]}function sz(e,t){let n=tz(e,1);e.bytes[n]=t}function cz(e){let t,n=0,r=0;do{t=az(e),n<32&&(r|=(127&t)<<n),n+=7}while(128&t);return r}function lz(e,t){for(t>>>=0;t>=128;)sz(e,127&t|128),t>>>=7;sz(e,t)}function uz(e,t){let n,r=0,o=0,i=0;return n=az(e),r=127&n,128&n&&(n=az(e),r|=(127&n)<<7,128&n&&(n=az(e),r|=(127&n)<<14,128&n&&(n=az(e),r|=(127&n)<<21,128&n&&(n=az(e),o=127&n,128&n&&(n=az(e),o|=(127&n)<<7,128&n&&(n=az(e),o|=(127&n)<<14,128&n&&(n=az(e),o|=(127&n)<<21,128&n&&(n=az(e),i=127&n,128&n&&(n=az(e),i|=(127&n)<<7))))))))),{low:r|o<<28,high:o>>>4|i<<24,unsigned:t}}function dz(e,t){let n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,o=t.high>>>24,i=0===o?0===r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:o<128?9:10,a=tz(e,i),s=e.bytes;switch(i){case 10:s[a+9]=o>>>7&1;case 9:s[a+8]=9!==i?128|o:127&o;case 8:s[a+7]=8!==i?r>>>21|128:r>>>21&127;case 7:s[a+6]=7!==i?r>>>14|128:r>>>14&127;case 6:s[a+5]=6!==i?r>>>7|128:r>>>7&127;case 5:s[a+4]=5!==i?128|r:127&r;case 4:s[a+3]=4!==i?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==i?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==i?n>>>7|128:n>>>7&127;case 1:s[a]=1!==i?128|n:127&n}}const hz={},pz={},fz=4294967296,mz=fz*fz/2;_z(0,!0);const gz=_z(0),vz=Ez(0,-2147483648,!1),yz=Ez(-1,2147483647,!1);function _z(e,t){let n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=pz[e],r)?r:(n=Ez(e,0,!0),o&&(pz[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=hz[e],r)?r:(n=Ez(e,e<0?-1:0,!1),o&&(hz[e]=n),n)}function Ez(e,t,n){return{low:0|e,high:0|t,unsigned:!!n}}function bz(e,t){return isNaN(e)?gz:e<=-mz?vz:e+1>=mz?yz:e<0?gz:Ez(e%fz|0,e/fz|0,t)}function Tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}class Sz extends CC{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(sO.CONNECTION_STATE_CHANGE,e,t)}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this._qualityRatio}),6e4))}constructor(e){var t;super(),OE(this,"name","AgoraRTCImageModeration"),OE(this,"_connectionState",aO.CONNECTING),OE(this,"_sequence",0),OE(this,"_moderationStartTime",void 0),OE(this,"_workerConnection",void 0),OE(this,"_workerMessageLengthLimit",void 0),OE(this,"_qualityRatio",void 0),OE(this,"_connectInfo",void 0),OE(this,"_cancelTokenSource",bw.CancelToken.source()),OE(this,"_retryConfig",void 0),OE(this,"_moderationInterval",void 0),OE(this,"_moderationTimer",null),OE(this,"_moderationMode",1),OE(this,"_quality",1),OE(this,"_qualityTimer",null),OE(this,"_ticket",void 0),OE(this,"_moderationIntervalMinimum",void 0),OE(this,"_uploadFailedNum",0),OE(this,"_uploadNum",0),OE(this,"_uploadTimer",null),OE(this,"_extraInfo",void 0),OE(this,"_vendor",""),OE(this,"_encoder",new TextEncoder),OE(this,"_moderationId",void 0),OE(this,"inspectImage",(()=>{if(this.connectionState!==aO.CONNECTED)throw new pI(lC.OPERATION_ABORTED,"image moderation service connection status is ".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval((()=>{this.connectionState===aO.CONNECTED?this.requestToInspectImage():oI.debug("[".concat(this._moderationId,"] Moderation State is not connected , "),this.connectionState)}),this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()})),this._moderationId=aR(5,"image-moderation-"),this._workerMessageLengthLimit=jR("IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT"),this._moderationIntervalMinimum=jR("IMAGE_MODERATION_INTERVAL_MINIMUM"),this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),this._qualityRatio=jR("IMAGE_MODERATION_QUALITY_RATIO"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new NO("worker-"+this._moderationId,ER),this.on(sO.STATE_CHANGE,((e,t)=>{oI.debug("[".concat(this._moderationId,"] Moderation operation :").concat(cO[e]," ").concat(t||""))})),this.handleWorkerEvents()}async init(e,t){this.emit(sO.STATE_CHANGE,cO.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new Uh(((r,o)=>{this.on(sO.CONNECTION_STATE_CHANGE,((e,t)=>{e===aO.CONNECTED&&r()})),this.requestAP(e,n,t).then((e=>{this.connectWorker(e)})).catch((e=>{o(e)}))}))}updateConfig(e){var t;this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),oI.debug("[".concat(this._moderationId,"] updateConfig: ").concat(JSON.stringify(e))),this.connectionState===aO.CONNECTED&&this.inspectImage()}async requestAP(e,t,n){const r=jR("WEBCS_DOMAIN").map((e=>"https://".concat(e,"/api/v1"))),o=await function(e,t,n,r){let{appId:o,areaCode:i,cname:a,sid:s,token:c,uid:l}=t;xU++;const u="moderation_plugin",d={service_name:u,json_body:JSON.stringify({appId:o,areaCode:i,cname:a,command:"allocateEdge",requestId:xU,seq:xU,sid:s,appToken:c,ts:Date.now(),uid:l+""})};let h,p,f=e[0];return TR((async()=>{h=Date.now();const e=await dU(f,{data:d,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-h,0!==e.code){const t=new pI(lC.UNEXPECTED_RESPONSE,"moderation plugin ap error, code"+e.code,{retry:!0,responseTime:p});throw oI.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new pI(lC.UNEXPECTED_RESPONSE,"moderation plugin ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:p});throw oI.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new pI(lC.UNEXPECTED_RESPONSE,"moderation plugin ap empty server",{code:t.code,responseTime:p});throw oI.error(e.toString()),e}if(!t.servers.some((e=>!!e.wss))){const e=new pI(lC.UNEXPECTED_RESPONSE,"moderation plugin ap empty port",{code:t.code,responseTime:p});throw oI.error(e.toString()),e}const r=jR("IMAGE_MODERATION_WORKER_HOST");return{addressList:t.servers.map((e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(r,":").concat(n,"/moderation")})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,ticket:t.appTicket,responseTime:p}}),((t,n)=>(hI.apworkerEvent(s,{success:!0,sc:200,serviceName:u,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:p,serverIp:e[n%e.length]}),!1)),((t,n)=>(hI.apworkerEvent(s,{success:!1,sc:t.data&&t.data.code||200,serviceName:u,responseTime:p,serverIp:e[n%e.length]}),!!(t.code!==lC.OPERATION_ABORTED&&t.code!==lC.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(f=e[(n+1)%e.length],!0))),r)}(r,e,t,n);this.emit(sO.STATE_CHANGE,cO.AP_CONNECTED);const{addressList:i,ticket:a}=o;return this._ticket=a,i}async connectWorker(e){this.emit(sO.STATE_CHANGE,cO.CONNECT_WORKER),await this._workerConnection.init(e,1e4)}handleWorkerEvents(){this._workerConnection.on(bA.CONNECTED,(async()=>{this.emit(sO.STATE_CHANGE,cO.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=aO.CONNECTED})),this._workerConnection.on(bA.CLOSED,(()=>{this.connectionState=aO.CLOSED})),this._workerConnection.on(bA.FAILED,(()=>{this.connectionState=aO.CLOSED})),this._workerConnection.on(bA.RECONNECTING,(()=>{this.connectionState=this.connectionState===aO.CONNECTED?aO.RECONNECTING:aO.CONNECTING})),this._workerConnection.on(bA.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const t=XB(new Uint8Array(e.data));jR("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&oI.debug("[".concat(this._moderationId,"] Response message for worker of image moderation "),JSON.stringify(t)),this._uploadNum++,void 0===t.code||0===t.code||(this._uploadFailedNum++,oI.error("[".concat(this._moderationId,"] Error response from worke, code is ").concat(t.code,", msg is ").concat(t.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout((()=>{hI.reportApiInvoke(this._connectInfo.sid||null,{name:AC.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,t.code],tag:OC.TRACER}).onError(new pI(lC.IMAGE_MODERATION_UPLOAD_FAILED,t.msg)),this._uploadTimer=null}),jR("IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL"))))}else oI.error("[".concat(this._moderationId,"] Unexpected message type from worker"))})),this._workerConnection.on(bA.WILL_RECONNECT,((e,t,n)=>{"recover"===e&&n(e),n("tryNext")})),this._workerConnection.on(bA.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){const e=FC(this,sO.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(jR("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&oI.debug("Only the track being played can be inspected"));this._sequence++;const n=await this.generateRequestData(e,t);this._workerConnection.sendMessage(n,!0,!0)}else jR("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&oI.debug("Only the track being published can be inspected")}async generateRequestData(e,t){let{appId:n,cname:r,cid:o,vid:i,sid:a,uid:s}=t;const c=Date.now(),l=await e.getCurrentFrameImage("image/jpeg",this.quality),u=await mP(l,n,r),d=this._sequence+"-"+o+"-"+s+"-"+c+"-"+aR(12,""),h={appId:n,cid:o,cname:r,deviceId:"",elapse:Sz.intToLong(Number(c-this._moderationStartTime)),fileSize:l.buffer.byteLength,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:d,sdkVersion:"4.22.2",sequence:this._sequence,sid:a,timestamp:bz(c),uid:s,vid:i,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};void 0===this._extraInfo&&delete h.callbackData;const p=YB(h);if(p.byteLength<this._workerMessageLengthLimit){if(jR("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tz(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h);delete e.jpg,oI.debug("[".concat(this._moderationId,"] Request message for worker of image moderation service: "),JSON.stringify(e))}return p}{const t=this.quality*this._qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:r,cid:o,vid:i,sid:a,uid:s})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=bw.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=aO.CLOSED,this.emit(sO.STATE_CHANGE,cO.CLOSED)}}function wz(e){if(pC(e.interval,"interval",1e3,1/0),e&&e.extraInfo&&e.extraInfo.length>1024)throw new pI(lC.INVALID_PARAMS,"config.extraInfo length cannot exceed 1024 bytes");if(e&&e.vendor&&e.vendor.length>1024)throw new pI(lC.INVALID_PARAMS,"config.vendor length cannot exceed 1024 bytes")}const Cz={name:"ImageModeration",create:function(e){let{config:t}=e;return wz(t),new Sz(t)}};var Rz,Iz,Az,Oz,Nz,kz,Dz,xz,Pz,Mz,Lz,Uz,jz,Vz,Bz,zz,Fz,Hz,Gz,Wz,qz,Kz,Yz,Xz,$z,Jz,Zz,Qz,eF,tF,nF,rF,oF,iF,aF,sF,cF,lF,uF,dF,hF;function pF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pF(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}yR.setLogger(oI);let mF=(Rz=dI(),Iz=dI({argsMap:(e,t)=>{if(!Array.isArray(t)){if(!(t instanceof Ox))return[t];t=[t]}return t.map((e=>e?Object(e).toString():"null"))}}),Az=dI({argsMap:(e,t)=>(t||(t=[]),Array.isArray(t)||t.trackMediaType!==lx.DATA?(Array.isArray(t)||(t=[t]),t.map((e=>e.getTrackId()))):[t.getChannelId()])}),Oz=dI({argsMap:(e,t,n,r)=>["object"==typeof t?t.uid:t,n,r]}),Nz=dI({argsMap:(e,t,n)=>[t,n]}),kz=dI({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:n}=e;return[null==t?void 0:t.uid,n]}))}),Dz=dI({argsMap:(e,t,n,r)=>["object"==typeof t?t.uid:t,n,r]}),xz=dI({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:n}=e;return{uid:null==t?void 0:t.uid,mediaType:n}}))}),Pz=dI(),Mz=dI(),Lz=dI(),Uz=dI(),jz=dI(),Vz=dI(),Bz=dI(),zz=dI(),Fz=dI(),Hz=dI(),Gz=dI(),Wz=dI(),qz=dI(),Kz=dI(),Yz=dI({argsMap:(e,t)=>[t]}),Xz=dI(),$z=dI(),Jz=dI(),Zz=dI(),Qz=dI(),eF=dI(),tF=dI(),nF=dI(),rF=dI({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),oF=dI(),iF=dI(),aF=dI(),sF=dI(),cF=dI(),lF=dI(),uF=dI({reportResult:!0}),dF=dI(),hF=class extends CC{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var e;return(null===(e=this._config)||void 0===e?void 0:e.role)||"audience"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||"opus"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return"Client"}constructor(e,t){let n;if(super(),OE(this,"store",void 0),OE(this,"_uid",void 0),OE(this,"_channelName",void 0),OE(this,"_uintUid",void 0),OE(this,"_users",[]),OE(this,"_config",void 0),OE(this,"_clientId",void 0),OE(this,"_appId",void 0),OE(this,"_sessionId",null),OE(this,"_key",void 0),OE(this,"_rtmConfig",{}),OE(this,"_joinInfo",void 0),OE(this,"_gateway",void 0),OE(this,"_statsCollector",void 0),OE(this,"_configDistribute",void 0),OE(this,"_leaveMutex",void 0),OE(this,"_publishMutex",void 0),OE(this,"_renewTokenMutex",void 0),OE(this,"_subscribeMutex",void 0),OE(this,"_encryptionMode","none"),OE(this,"_encryptionSecret",null),OE(this,"_encryptionSalt",null),OE(this,"_encryptDataStream",!1),OE(this,"_encryptDataStreamKey",null),OE(this,"_encryptDataStreamIv",null),OE(this,"_proxyServer",void 0),OE(this,"_turnServer",{servers:[],mode:"auto"}),OE(this,"_cloudProxyServerMode","disabled"),OE(this,"_isDualStreamEnabled",!1),OE(this,"_defaultStreamFallbackType",void 0),OE(this,"_lowStreamParameter",void 0),OE(this,"_streamFallbackTypeCacheMap",new Map),OE(this,"_remoteStreamTypeCacheMap",new Map),OE(this,"_axiosCancelSource",bw.CancelToken.source()),OE(this,"_audioVolumeIndicationInterval",void 0),OE(this,"_networkQualityInterval",void 0),OE(this,"_userOfflineTimeout",void 0),OE(this,"_streamRemovedTimeout",void 0),OE(this,"_liveTranscodeStreamingClient",void 0),OE(this,"_liveRawStreamingClient",void 0),OE(this,"_channelMediaRelayClient",void 0),OE(this,"_networkQualitySensitivity","normal"),OE(this,"_p2pChannel",void 0),OE(this,"_useLocalAccessPoint",!1),OE(this,"_setLocalAPVersion",void 0),OE(this,"_joinAndNotLeaveYet",!1),OE(this,"_numberOfJoinCount",0),OE(this,"_remoteDefaultVideoStreamType",void 0),OE(this,"_inspect",void 0),OE(this,"_moderation",void 0),OE(this,"_license",void 0),OE(this,"_pendingPublishedUsers",[]),OE(this,"ntpAlignErrorCount",0),OE(this,"remoteInboundOffset",0),OE(this,"_handleLocalTrackEnable",((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),OE(this,"_handleLocalTrackDisable",((e,t,n)=>{this.unpublish(e).then(t).catch(n)})),OE(this,"_handleUserOnline",(e=>{if(jR("BLOCK_LOCAL_CLIENT")&&vI(e.uid,this.channelName))return void oI.debug("[".concat(e.uid,"] will be ignored in local"));this.isStringUID&&"string"!=typeof e.uid&&oI.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID"));const t=this._users.find((t=>t.uid===e.uid));if(t)t._trust_in_room_=!0,t._is_pre_created&&(t._is_pre_created=!1,this.safeEmit(LC.USER_JOINED,t));else{const t=new nV(e.uid,e.uint_id||e.uid);this._users.push(t),oI.debug("[".concat(this._clientId,"] user online"),e.uid),this.safeEmit(LC.USER_JOINED,t)}})),OE(this,"_handleUserOffline",(e=>{if(jR("BLOCK_LOCAL_CLIENT")&&vI(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));t&&(this._handleRemoveStream(e),this._handleRemoveDataChannels(e),t._audio_pre_subscribed||t._video_pre_subscribed?t._is_pre_created=!0:WC(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),oI.debug("[".concat(this._clientId,"] user offline"),e.uid,"reason:",e.reason),this.safeEmit(LC.USER_LEAVED,t,e.reason))})),OE(this,"_handleAddAudioOrVideoStream",((e,t,n,r,o,i,a)=>{if(jR("BLOCK_LOCAL_CLIENT")&&vI(t,this.channelName))return;const s=this._users.find((e=>e.uid===t));if(!s)return void oI.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));oI.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),this.store.subscribe(s.uid,e,void 0,void 0,void 0,Date.now());const c="audio"===e?s.hasAudio:s.hasVideo;s._uintid||(s._uintid=o||t),"audio"===e?s._trust_audio_stream_added_state_=!0:s._trust_video_stream_added_state_=!0,"audio"===e?(s._audio_added_=!0,void 0!==n&&(s._audioSSRC=n),void 0!==r&&(s._cname=r),i&&(s._audioOrtc=i)):(s._video_added_=!0,void 0!==n&&(s._videoSSRC=n),void 0!==r&&(s._cname=r),void 0!==a&&(s._rtxSsrcId=a),i&&(s._videoOrtc=i)),("audio"===e?s.hasAudio:s.hasVideo)&&!c&&(oI.info("[".concat(this._clientId,"] remote user ").concat(s.uid," published ").concat(e)),this.safeEmit(LC.USER_PUBLISHED,s,e)),"video"===e?hI.onGatewayStream(this._sessionId,cI.ON_ADD_VIDEO_STREAM,lI.ON_ADD_VIDEO_STREAM,{peer:o||t,ssrc:s._videoSSRC}):hI.onGatewayStream(this._sessionId,cI.ON_ADD_AUDIO_STREAM,lI.ON_ADD_AUDIO_STREAM,{peer:o||t,ssrc:s._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(s,e,n).then((t=>{if(t&&(oI.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after rejoin because SSRC id changed.")),this._p2pChannel instanceof uB))return this._p2pChannel.unsubscribe(s,e,!0).then((()=>this._subscribe(s,e,!0).catch((e=>{oI.error("[".concat(this._clientId,"] resubscribe error"),e.toString())}))))})),this._p2pChannel.hasPendingRemoteMedia(s,e)&&(oI.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after reconnect.")),this._subscribe(s,e,!0).catch((e=>{oI.error("[".concat(this._clientId,"] resubscribe error"),e.toString())})))})),OE(this,"_handleRemoveStream",(e=>{if(jR("BLOCK_LOCAL_CLIENT")&&vI(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));if(!t)return void oI.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)"));oI.debug("[".concat(this._clientId,"] stream removed with uid ").concat(e.uid));let n=()=>{};t.hasAudio&&t.hasVideo?n=()=>{oI.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),this.safeEmit(LC.USER_UNPUBLISHED,t,"audio"),oI.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),this.safeEmit(LC.USER_UNPUBLISHED,t,"video")}:t.hasVideo?n=()=>{oI.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),this.safeEmit(LC.USER_UNPUBLISHED,t,"video")}:t.hasAudio&&(n=()=>{oI.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),this.safeEmit(LC.USER_UNPUBLISHED,t,"audio")}),t._video_pre_subscribed||t._audio_pre_subscribed||(t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,this._p2pChannel instanceof uB&&this._p2pChannel.unsubscribe(t).then((e=>{if(e)return this._gateway.unsubscribe(e,t.uid)})),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0),hI.onGatewayStream(this._sessionId,cI.ON_REMOVE_STREAM,lI.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),n()})),OE(this,"_handleSetStreamLocalEnable",((e,t,n)=>{if(jR("BLOCK_LOCAL_CLIENT")&&vI(t,this.channelName))return;const r=this._users.find((e=>e.uid===t));if(!r)return void oI.error("[".concat(this._clientId,"] can not find target user!(disable_local)"));oI.debug("[".concat(this._clientId,"] local ").concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t));const o="audio"===e?r.hasAudio:r.hasVideo;if("audio"===e){r._trust_audio_enabled_state_=!0;const e=r._audio_enabled_;if(r._audio_enabled_=n,r._audio_enabled_===e)return;{const e=r._audio_enabled_?"enable-local-audio":"disable-local-audio";oI.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(t,", msg: ").concat(e)),this.safeEmit(LC.USER_INFO_UPDATED,t,e)}}else{r._trust_video_enabled_state_=!0;const e=r._video_enabled_;if(r._video_enabled_=n,r._video_enabled_===e)return;{const e=r._video_enabled_?"enable-local-video":"disable-local-video";oI.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(e)),this.safeEmit(LC.USER_INFO_UPDATED,t,e)}}const i="audio"===e?r.hasAudio:r.hasVideo;return o!==i?!o&&i?(oI.info("[".concat(this._clientId,"] remote user ").concat(t," published ").concat(e)),void this.safeEmit(LC.USER_PUBLISHED,r,e)):("video"===e&&r._videoTrack&&r._videoTrack._destroy(),"audio"===e&&r._audioTrack,this._p2pChannel.muteRemote(r,e),oI.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished ").concat(e)),void this.safeEmit(LC.USER_UNPUBLISHED,r,e)):void 0})),OE(this,"_handleMuteStream",((e,t,n)=>{if(jR("BLOCK_LOCAL_CLIENT")&&vI(e,this.channelName))return;oI.debug("[".concat(this._clientId,"] receive mute message"),e,t,n);const r=this._users.find((t=>t.uid===e));if(!r)return void oI.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(e));const o="audio"===t?r.hasAudio:r.hasVideo;if("audio"===t){r._trust_audio_mute_state_=!0;const t=r._audio_muted_;if(r._audio_muted_=n,r._audio_muted_===t)return;{const t=r._audio_muted_?"mute-audio":"unmute-audio";oI.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.safeEmit(LC.USER_INFO_UPDATED,e,t)}}else{r._trust_video_mute_state_=!0;const t=r._video_muted_;if(r._video_muted_=n,r._video_muted_===t)return;{const t=r._video_muted_?"mute-video":"unmute-video";oI.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.safeEmit(LC.USER_INFO_UPDATED,e,t)}}const i="audio"===t?r.hasAudio:r.hasVideo;if(o!==i){if(!o&&i)return("audio"===t?r._audioSSRC:r._videoSSRC)?(oI.info("[".concat(this._clientId,"] remote user ").concat(e," published ").concat(t)),void this.safeEmit(LC.USER_PUBLISHED,r,t)):void oI.warning("[".concat(this._clientId,"] remote user ").concat(e," receive ").concat(t," unmute message  before add stream message, ").concat(t," SSRC doesn't exist yet."));"video"===t&&r._videoTrack&&!r._video_pre_subscribed&&r._videoTrack._destroy(),"audio"===t&&r._audioTrack,this._p2pChannel.muteRemote(r,t),oI.info("[".concat(this._clientId,"] remote user ").concat(e," unpublished ").concat(t)),this.safeEmit(LC.USER_UNPUBLISHED,r,t)}})),OE(this,"_handleP2PLost",(async e=>{oI.debug("[".concat(this._clientId,"] receive p2p lost"),e),parseInt(e.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():oI.warning("[".concat(this._clientId,"] P2PLost stream not found"),e)})),OE(this,"_handleTokenWillExpire",(()=>{oI.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),this.safeEmit(LC.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),OE(this,"_handleBeforeUnload",(e=>{"beforeunload"===e.type&&void 0!==e.returnValue&&""!==e.returnValue||(this.leave(),oI.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")))})),OE(this,"_handleUpdateNetworkQuality",(()=>{if("normal"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.safeEmit(LC.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(LC.NETWORK_QUALITY,e)})),OE(this,"_handleP2PAddAudioOrVideoStream",((e,t,n,r)=>{const o=this._users.find((e=>e.uid===t));if(!o)return void oI.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));oI.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),this.store.subscribe(o.uid,e,void 0,void 0,void 0,Date.now());const i="audio"===e?o.hasAudio:o.hasVideo;"audio"===e?o._trust_audio_stream_added_state_=!0:o._trust_video_stream_added_state_=!0,"audio"===e?(o._audio_added_=!0,void 0!==n&&(o._audioSSRC=n),void 0!==r&&(o._audioMid=r)):(o._video_added_=!0,void 0!==n&&(o._videoSSRC=n),void 0!==r&&(o._videoMid=r)),("audio"===e?o.hasAudio:o.hasVideo)&&!i&&(oI.info("[".concat(this._clientId,"] remote user ").concat(o.uid," published ").concat(e)),this.safeEmit(LC.USER_PUBLISHED,o,e)),this._p2pChannel.hasPendingRemoteMedia(o,e)&&(oI.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(o.uid," after reconnect.")),this._subscribe(o,e,!0).catch((e=>{oI.error("[".concat(this._clientId,"] resubscribe error"),e.toString())})))})),this._config=e,this._clientId=t||aR(5,"client-"),this.store=new zR(e.codec,e.audioCodec,e.mode,this._clientId),this._leaveMutex=new yR("client-leave",this._clientId),this._publishMutex=new yR("client-publish",this._clientId),this._renewTokenMutex=new yR("client-renewtoken",this._clientId),this._subscribeMutex=new yR("client-subscribe",this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),oI.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(NR," build: ").concat(MR,", mode: ").concat(this.mode,", codec: ").concat(this.codec)),e.clientRoleOptions)try{MC(e.clientRoleOptions),n=Object.assign({},e.clientRoleOptions)}catch(r){oI.warning("[".concat(this._clientId,"] ").concat(r.toString()))}this._statsCollector=new CV(this.store),this._statsCollector.onStatsException=(e,t,n)=>{oI.warn("[".concat(this._clientId,"] receive exception msg, code: ").concat(e,", msg: ").concat(t,", uid: ").concat(n)),this.safeEmit(LC.EXCEPTION,{code:e,msg:t,uid:n})},this._statsCollector.onUploadPublishDuration=(e,t,n,r)=>{const o=this._users.find((t=>t.uid===e));o&&hI.peerPublishStatus(this._sessionId,{subscribeElapse:r,audioPublishDuration:t,videoPublishDuration:n,peer:o._uintid})},this.store.useP2P="p2p"===e.mode,this._gateway=new cU(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e.websocketRetryConfig||ER,httpRetryConfig:e.httpRetryConfig||ER,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:n}),this._configDistribute=new YU(this._clientId),this.store.useP2P?(this._p2pChannel=new bV(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new uB(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(e,t,n,r,o){let i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];UR("JOIN_GATEWAY_USE_443PORT_ONLY",i),UR("JOIN_GATEWAY_USE_DUAL_DOMAIN",a);const s=this._gateway.signal.websocket;return s instanceof OO&&(s.use443PortOnly=i,s.tryDoubleDomain=a),async function(e,t,n){ww.get(e)||ww.set(e,[]),Cw.get(e)||Cw.set(e,t),Rw.get(e)||Rw.set(e,0);const r=ww.get(e),o=Cw.get(e);if(!r||!o)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(Rw.get(e)===o){const e=Sw();r.push(e),await e.promise}Rw.set(e,Rw.get(e)+1);for(var i=arguments.length,a=new Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];const c=await n(...a);return Rw.set(e,Rw.get(e)-1),Rw.get(e)===o-1&&r.length>0&&(r[0].resolve(),r.shift()),0===Rw.get(e)&&(ww.set(e,[]),Cw.set(e,0),Rw.set(e,0)),c}("client.join",jR("JOIN_MAX_CONCURRENCY"),this.join.bind(this),e,t,n,r,o)}async join(e,t,n,r,o){const i=++this._numberOfJoinCount;this.store.joinStart(),r&&(this.store.uid=r);const a="HTTPS"===(wR||wR||(wR=(window.location.protocol.split(":")[0]||"").toUpperCase(),wR)),s=OR()?window.isSecureContext:"Browser Not Support";if(!OR()&&!a||!window.isSecureContext){const e="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser";oI.warning(e)}"DISCONNECTED"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),oI.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart))),hI.setAppId(e);try{if(!n&&null!==n)throw new pI(lC.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&mC(n,"token",1,2047),mC(e,"appid",1,2047),TA(t),r&&SA(r),o&&mC(o,"optionalInfo",1,2047)}catch(m){throw hI.reportApiInvoke(sR(),{name:AC.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:s},tag:OC.TRACER}).onError(m),m}if(this._leaveMutex.isLocked&&(oI.debug("[".concat(this._clientId,"] join: waiting leave operation")),(await this._leaveMutex.lock())(),oI.debug("[".concat(this._clientId,"] join: continue"))),this._joinAndNotLeaveYet=!0,"DISCONNECTED"!==this.connectionState){const o=new pI(lC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw hI.reportApiInvoke(sR(),{name:AC.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:s},tag:OC.TRACER}).onError(o),o}this._gateway.state="CONNECTING";const c=await BB({appId:e,cname:t,uid:r,stringUid:"string"==typeof r?r:void 0,token:n||e,cloudProxyServer:this._cloudProxyServerMode});if(!this._joinAndNotLeaveYet)throw new pI(lC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));const l=(null==c?void 0:c.sid)||sR();oI.info("[".concat(this._clientId,"] start join channel ").concat(t,", join number: ").concat(i)),this._sessionId||(this._sessionId=l,this.store.sessionId=this._sessionId);const u=hI.reportApiInvoke(l,{id:this._clientId,name:AC.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:s},tag:OC.TRACER}),d=fF(fF(fF({},this._rtmConfig),{},{clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:"string"!=typeof r?r:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:o,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!c},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType}),{},{apRequestDetail:jR("AP_REQUEST_DETAIL")||void 0});if(this._useLocalAccessPoint&&(d.setLocalAPVersion=this._setLocalAPVersion),"string"==typeof r&&(d.stringUid=r,this._uintUid?(d.uid=this._uintUid,this._uintUid=void 0):d.uid=0),"none"!==this._encryptionMode&&this._encryptionSecret){if(d.aesmode=this._encryptionMode,d.aespassword=await(async e=>{const t=function(){const e=window.atob("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),t=new Uint8Array(new ArrayBuffer(e.length));for(let n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t}(),n=await window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),r=TC(e),o=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,r);return function(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}(new Uint8Array(o))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new pI(lC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(d.aessalt=this._encryptionSalt)}if(this._encryptDataStream&&("aes-128-gcm2"===this._encryptionMode||"aes-256-gcm2"===this._encryptionMode))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){const e=new TextEncoder,t=jR("USE_PURE_ENCRYPTION_MASTER_KEY")?e.encode(d.appId+this._encryptionSecret+this._encryptionSecret):e.encode(d.appId+d.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(e,t,n){const r=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),o="aes-128-gcm2"===e?128:256,i=await window.crypto.subtle.deriveBits({name:"PBKDF2",iterations:WR,hash:"SHA-256",salt:n},r,o+GR);return new Uint8Array(i).subarray(o/8)}(this._encryptionMode,t,ZC(this._encryptionSalt)),this._encryptDataStreamKey=await async function(e,t,n){const r=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),o="aes-128-gcm2"===e?128:256;return await window.crypto.subtle.deriveKey({name:"PBKDF2",iterations:WR,hash:"SHA-256",salt:n},r,{name:"AES-GCM",length:o},!0,["encrypt","decrypt"])}(this._encryptionMode,t,ZC(this._encryptionSalt))}else s?oI.warning("[".concat(this._clientId,"] encrypt datastream must be running in a secure context, fallback to plain data stream")):oI.warning("[".concat(this._clientId,"] current browser do not support WebCrypto ,fallback to plain data stream")),this._encryptDataStream=!1;else this._encryptDataStream=!1,oI.debug("[".concat(this._clientId,"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream"));this._startSession(this._sessionId,{channel:t,appId:e,stringUid:d.stringUid});const h=this._sessionId;setTimeout((()=>{"CONNECTING"===this.connectionState&&h===this._sessionId&&hI.joinChannelTimeout(this._sessionId,5)}),5e3);try{var p;let r;const o=d.cloudProxyServer;if(Or(p=["proxy3","proxy4","proxy5"]).call(p,o)){const e=jR("PROXY_SERVER_TYPE3");Array.isArray(e)?d.proxyServer=e[0]:d.proxyServer=e}if(hI.setProxyServer(d.proxyServer),oI.setProxyServer(d.proxyServer),this.store.requestAPStart(),c){if(oI.debug("[".concat(this._clientId,"] get serverInfo Success from Preload Cache ").concat(d.stringUid?", ".concat(d.stringUid," => ").concat(c.intUid):""," ")),d.stringUid&&!d.uid&&(d.uid=c.intUid),r={gatewayInfo:c.ap.gatewayInfo},jR("JOIN_WITH_FALLBACK_MEDIA_PROXY")&&"auto"===d.turnServer.mode)if(0===c.ap.proxyInfo.addresses.length)oI.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers");else{const e=(await zO(c.ap.proxyInfo,c.ap.gatewayInfo.uid)).map((e=>({turnServerURL:e.address,tcpport:e.tcpport||xR.tcpport,udpport:e.udpport||xR.udpport,username:e.username||xR.username,password:e.password||xR.password,forceturn:!1,security:!0})));d.turnServer={mode:"manual",servers:e}}GB(c,d.stringUid)}else{if(d.stringUid&&!d.uid){let e;[e,r]=await Uh.all([VU(d.stringUid,d,this._axiosCancelSource.token,this._config.httpRetryConfig||ER,this.store),jU(d,this._axiosCancelSource.token,this._config.httpRetryConfig||ER,!0,this.store)]),oI.debug("[".concat(this._clientId,"] getUserAccount Success ").concat(d.stringUid," => ").concat(e)),d.uid=e,r.gatewayInfo.uid=e,r.gatewayInfo.res.uid=e}else r=await jU(d,this._axiosCancelSource.token,this._config.httpRetryConfig||ER,!0,this.store);if(!this._joinAndNotLeaveYet)throw new pI(lC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"))}this.store.requestAPEnd(),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(d,this._axiosCancelSource.token),this._configDistribute.on(WA.UPDATE_BITRATE_LIMIT,(e=>{this._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=n||e;const i=r.gatewayInfo,a=d.uid?d.uid:i.uid;this._joinInfo=fF(fF({},d),{},{cid:i.cid,uid:a,vid:i.vid,apResponse:i.res,apGatewayAddress:i.apGatewayAddress,uni_lbs_ip:i.uni_lbs_ip,gatewayAddrs:i.gatewayAddrs}),this.store.intUid=a;const s=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new pI(lC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));u.onSuccess(s),this._appId=e,this._channelName=d.cname,this._uid=s,this.store.uid=s,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(jw()?"beforeunload":"pagehide",this._handleBeforeUnload),this._statsCollector.startUpdateStats()}),0);const l=d.stringUid?"string uid: ".concat(d.stringUid,",uid: ").concat(d.uid):"uid: ".concat(this._uid);return oI.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(t,",").concat(l)),setTimeout((()=>{oI.startUpload()}),5e3),this.store.joinEnd(),f=this,Or(gI).call(gI,f)||gI.push(f),"disabled"===this._cloudProxyServerMode&&UD().supportWebCrypto&&jR("ENABLE_PRELOAD")&&FB(this._joinInfo),s}catch(g){const e=Array.isArray(g)?g[0]:g;throw e&&e.code===lC.OPERATION_ABORTED?oI.warning("[".concat(this._clientId,"] join number: ").concat(i,", Joining channel failed, rollback"),e):oI.error("[".concat(this._clientId,"] join number: ").concat(i,", Joining channel failed, rollback"),e),e.code!==lC.OPERATION_ABORTED&&this._numberOfJoinCount===i&&(this._gateway.state="DISCONNECTED",this._reset()),u.onError(e),e}var f}_joinGateway(){if(!this._joinInfo||!this._key)throw new pI(lC.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!("disabled"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!jR("JOIN_WITH_FALLBACK_SIGNAL_PROXY")))}async leave(){oI.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener(jw()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(e){const t=gI.indexOf(e);-1!==t&&gI.splice(t,1)}(this),this._statsCollector.stopUpdateStats();const e=await this._leaveMutex.lock();if("DISCONNECTED"===this.connectionState)return oI.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void e();await this._gateway.leave("CONNECTED"!==this.connectionState),oI.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),e()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Array.isArray(e)){if(!(e instanceof Ox))return this._publishDataChannel(e);e=[e]}if(0===e.length)throw new pI(lC.INVALID_PARAMS,"param list is empty");const n=e;if("audience"===this._gateway.role)throw new pI(lC.INVALID_OPERATION,"audience can not publish stream");for(const i of n){if(!(i instanceof Ox))throw new pI(lC.INVALID_PARAMS,"parameter is not local track");if(!i._enabled&&t)throw new pI(lC.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(i.getTrackId()))}oI.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(n.map((e=>"".concat(e.getTrackId()," ")))));const r=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t&&n.forEach((e=>{const t=this._configDistribute.getBitrateLimit();e instanceof KM&&t&&e.setBitrateLimit(t.uplink)}));try{await this._publishHighStream(n),oI.info("[".concat(this._clientId,"] Publish success, id ").concat(n.map((e=>"".concat(e.getTrackId()," ")))))}catch(o){throw oI.error("[".concat(this._clientId,"] publish error"),o.toString()),o}finally{r()}}async _publishDataChannel(e){pC(e.id,"id",0,65535,!0),dC(e.ordered,"ordered"),mC(e.metadata,"metadata",0,512),oI.info("[".concat(this._clientId,"] Publishing datachannels, id ").concat(e.id));const t=await this._publishMutex.lock();try{if(-1!==this._p2pChannel.getAllDataChannels().findIndex((t=>t.id===e.id)))throw new pI(lC.INVALID_PARAMS,"Invalid id: ".concat(e.id,". If you want to republish the datachannel, unpublish first"));if(!this._joinInfo||void 0===this._uid)throw new pI(lC.INVALID_OPERATION,"Can't publish datachannel, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"can not publish datachannel in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&jR("FORCE_TURN")&&!jR("TURN_ENABLE_TCP")&&!jR("TURN_ENABLE_UDP"))throw new pI(lC.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");const t=mB(n=e,!1),r=await this._p2pChannel.publishDataChannel([t]);if(r.length>0){if("number"!=typeof t._originDataChannelId)throw oI.error("[".concat(this._clientId,"] can not publish with mediaType datachannel, cannot get RTCDatachannel id")),new pI(lC.CREATE_DATACHANNEL_ERROR);try{await Uh.all(r.map((e=>this._uid&&this._gateway.publishDataChannel(this._uid,e,!0)))),await t._waitTillOpen()}catch(n){if(n.code!==lC.DISCONNECT_P2P)throw n}}return oI.info("[".concat(this._clientId,"] Publish dataChannels success, id ").concat(t.id)),t}catch(n){throw oI.error("[".concat(this._clientId,"] publish datachannels error"),n.toString()),n}finally{t()}var n}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new pI(lC.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");let t=[];if(e)if(Array.isArray(e))t=e;else{if(!(e instanceof Ox))return this._unpublishDataChannel([e]);t=[e]}else this.store.useP2P||await this._unpublishDataChannel(),t=this._p2pChannel.getAllTracks(!0);oI.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(t.map((e=>"".concat(e.getTrackId()," ")))," "));const n=await this._publishMutex.lock();try{if(this._p2pChannel instanceof bV){const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.sendExtensionMessage(lO.UNPUBLISH,{unpubMsg:e},!0)}else{const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.unpublish(e,this._uid),oI.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(t.map((e=>"".concat(e.getTrackId())))))}}catch(r){throw oI.error("[".concat(this._clientId,"] unpublish error"),r.toString()),r}finally{n&&n()}}async _unpublishDataChannel(e){void 0!==e&&0!==e.length||(e=this._p2pChannel.getAllDataChannels()),oI.info("[".concat(this._clientId,"] Unpublish datachannels, datachannels ").concat(e.map((e=>"".concat(e.id," ")))," "));const t=await this._publishMutex.lock();try{const t=await this._p2pChannel.unpublishDataChannel(e);t&&await this._gateway.unpublishDataChannel(t),oI.info("[".concat(this._clientId,"] Unpublish dataChannel success,dataChannel ").concat(e.map((e=>"".concat(e.id)))))}catch(n){throw oI.error("[".concat(this._clientId,"] unpublish dataChannel error"),n.toString()),n}finally{t&&t()}}async subscribe(e,t,n){if(!(e instanceof nV)){const t=this.remoteUsers.find((t=>t.uid===e));if(!t)throw new pI(lC.INVALID_REMOTE_USER,"user is not in the channel");e=t}return"datachannel"===t?this._subscribeDataChannel(e,n):this._subscribe(e,t)}async presubscribe(e,t){if(hC(t,"mediaType",["audio","video"]),this._p2pChannel instanceof bV)throw new pI(lC.INVALID_OPERATION,"can't presub at p2p mode");if(!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"can't presub when not join");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"can't presub in ".concat(this.connectionState," state"));const n=t===YA.AUDIO,r=t===YA.VIDEO,o=await this._subscribeMutex.lock();try{const{ssrcId:o,ortc:i,rtxSsrcId:a,cname:s,uint_id:c}=await this._gateway.presubscribe(e,t,!0);if(null==o)throw new pI(lC.UNEXPECTED_RESPONSE,"no ssrc id");let l=this._users.find((t=>t.uid===e));l||(l=new nV(e,c||e),l._is_pre_created=!0,this._users.push(l)),s&&(l._cname=s),l._uintid||(l._uintid=c||e),n&&(l._audioSSRC=o,l._audio_pre_subscribed=!0,i&&(l._audioOrtc=i)),r&&(l._videoSSRC=o,l._video_pre_subscribed=!0,i&&(l._videoOrtc=i),null!=a&&(l._rtxSsrcId=a)),oI.info("[".concat(this._clientId,"] presub succeed ssrc: ").concat(o)),await this._p2pChannel.subscribe(l,t,o,a,i);const u=n?l._audioTrack:l._videoTrack;if(!u)throw new pI(lC.UNEXPECTED_ERROR,"can not find remote track in user");return n&&(l._trust_audio_stream_added_state_=!0,l._audio_added_=!0),r&&(l._trust_video_stream_added_state_=!0,l._video_added_=!0),u}catch(i){throw oI.error("[".concat(this._clientId,"] presub user ").concat(e," error"),i),i}finally{o()}}async _subscribeDataChannel(e,t){var n;if(pC(t,"channelId",0,65535,!0),!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"Can't subscribe datachannel, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"Can't subscribe datachannel in ".concat(this.connectionState," state"));if(!this._users.find((t=>t===e)))throw oI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),new pI(lC.INVALID_REMOTE_USER,"user is not in the channel");if(!e.hasAudio&&!e.hasVideo&&0===e._dataChannels.length)throw oI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),new pI(lC.INVALID_REMOTE_USER,"user is not published");const r=null===(n=e._dataChannels)||void 0===n?void 0:n.find((e=>e.id===t));if(!r)throw oI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType datachannel, remote datachannel is not published")),new pI(lC.REMOTE_USER_IS_NOT_PUBLISHED);const o=await this._subscribeMutex.lock();oI.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: datachannel"));try{const t=await this._p2pChannel.subscribeDataChannel(e,[r]);if(t&&Or(t).call(t,r.id))try{var i;if("number"!=typeof r._originDataChannelId)throw oI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType datachannel, cannot get RTCDatachannel")),new pI(lC.CREATE_DATACHANNEL_ERROR);const t={id:r.id,datachannelId:r._originDataChannelId,ordered:r.ordered,maxRetransmits:r.maxRetransmits,metadata:null!==(i=r.metadata)&&void 0!==i?i:""};await this._gateway.subscribeDataChannel(e.uid,t,!0),await r._waitTillOpen()}catch(a){if((null==a?void 0:a.code)!==lC.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(e,[r]),a;await this._p2pChannel.unsubscribeDataChannel(e,[r]),this._p2pChannel.setPendingRemoteDataChannel(e,r.id)}return oI.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: datachannel")),r}finally{o()}}async _p2pSubscribe(e,t,n){if(hC(t,"mediaType",["audio","video"]),!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find((t=>t===e))){const t=new pI(lC.INVALID_REMOTE_USER,"user is not in the channel");throw oI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),t}if(!e.hasAudio&&!e.hasVideo){const t=new pI(lC.INVALID_REMOTE_USER,"user is not published");throw oI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),t}if(!n&&("audio"===t&&!e.hasAudio||"video"===t&&!e.hasVideo)){const n=new pI(lC.REMOTE_USER_IS_NOT_PUBLISHED);throw oI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),n}const r=await this._subscribeMutex.lock();oI.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const n="audio"===t?e._audioSSRC:e._videoSSRC,r="audio"===t?e._audioMid:e._videoMid;this.store.subscribe(e.uid,t,Date.now()),this._p2pChannel instanceof bV&&await this._p2pChannel.subscribe(e,t,n,r)}catch(o){throw o}oI.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{oI.warning("[".concat(this._clientId,"] auto set fallback failed"),e)}));const n="audio"===t?e._audioTrack:e._videoTrack;if(!n)throw new pI(lC.UNEXPECTED_ERROR,"can not find remote track in user object");return n}catch(i){throw oI.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),i),i}finally{r()}}async _subscribe(e,t,n){if(this._p2pChannel instanceof bV)return this._p2pSubscribe(e,t);if(hC(t,"mediaType",["audio","video"]),!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find((t=>t===e))){const t=new pI(lC.INVALID_REMOTE_USER,"user is not in the channel");throw oI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),t}if(!e.hasAudio&&!e.hasVideo){const t=new pI(lC.INVALID_REMOTE_USER,"user is not published");throw oI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),t}if(!(n||("audio"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&("video"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const n=new pI(lC.REMOTE_USER_IS_NOT_PUBLISHED);throw oI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),n}let r="audio"===t?e._audioSSRC:e._videoSSRC,o="audio"===t?e._audioOrtc:e._videoOrtc,i="video"===t?e._rtxSsrcId:void 0,a={stream_type:"audio"===t?YA.AUDIO:YA.VIDEO,ssrcId:r};const s=await this._subscribeMutex.lock();oI.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const n="audio"===t?e._audioSSRC:e._videoSSRC;void 0!==n&&n!==r&&(r=n,o="audio"===t?e._audioOrtc:e._videoOrtc,i="video"===t?e._rtxSsrcId:void 0,a={stream_type:"audio"===t?YA.AUDIO:YA.VIDEO,ssrcId:r}),JU.markSubscribeStart(this.store.clientId,r),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,r,i,o);try{this._p2pChannel.isPreSubScribe(r)||await this._gateway.subscribe(e.uid,a,!0)}catch(c){if((null==c?void 0:c.code)!==lC.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),c;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(l){throw this._p2pChannel.reportSubscribeEvent(!1,null==l?void 0:l.code,e,t),l}oI.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{oI.warning("[".concat(this._clientId,"] auto set fallback failed"),e)}));const n="audio"===t?e._audioTrack:e._videoTrack;if(!n)throw new pI(lC.UNEXPECTED_ERROR,"can not find remote track in user object");return n}catch(u){throw oI.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),u),u}finally{s()}}async massSubscribe(e){if(gC(e,"subscribeList"),!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const t=Date.now(),n=new Map,r=await this._subscribeMutex.lock();oI.info("[".concat(this._clientId,"]start massSubscribe user ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; ")));const o=(e=[...e]).map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n}})),i=await this._p2pChannel.globalLock();try{var a;for(let t=e.length-1;t>=0;t--){const r=e[t],{user:i,mediaType:a}=r;if(hC(a,"mediaType",["audio","video"]),!i){const e=new pI(lC.INVALID_PARAMS,"user property does not exist in subscribeList item");throw oI.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),e}if(!this._users.find((e=>e===i))){const n=new pI(lC.INVALID_REMOTE_USER,"user is not in the channel");oI.error("[".concat(this._clientId,"] can not massSubscribe ").concat(i.uid,", this user is not in the channel")),o[t].error=n,e.splice(t,1);continue}if("audio"===a&&(!i.hasAudio||void 0===i._audioSSRC)||"video"===a&&(!i.hasVideo||void 0===i._videoSSRC)){const n=new pI(lC.REMOTE_USER_IS_NOT_PUBLISHED);oI.error("[".concat(this._clientId,"] can not subscribe ").concat(i.uid," with mediaType ").concat(a,", remote user is not published")),o[t].error=n,e.splice(t,1);continue}const s=BA.Video|BA.LwoVideo,c=n.get(i);if(c){if("video"===a?c&s:c&BA.Audio){e.splice(t,1),oI.warning("[".concat(this._clientId,"] repeat massSubscribe user:").concat(i.uid,", mediaType:").concat(a," twice"));continue}n.set(i,c|("video"===a?s:BA.Audio))}else n.set(i,"video"===a?s:BA.Audio)}for(let t=e.length-1;t>=0;t--){const r=e[t],{user:o,mediaType:i}=r,a=BA.Video|BA.LwoVideo;if(this._p2pChannel.hasRemoteMedia(o,i)){await this._p2pChannel.unmuteRemoteNoLock(o,i);const r=n.get(o);n.set(o,"video"===i?r^a:r^BA.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map((e=>({userId:e.user.uid,type:e.mediaType}))),t);let r=qr(a=Array.from(n.entries())).call(a,((e,t)=>{let[n,r]=t;if(0===r)return e;const o={stream_id:n.uid,stream_type:r};return r&BA.Audio&&(o.audio_ssrc=n._audioSSRC),r&BA.Video&&(o.video_ssrc=n._videoSSRC),e.push(o),e}),[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n,ssrcId:n===YA.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:n===YA.VIDEO?t._rtxSsrcId:void 0}})));const n=new Map;if(r=r.filter((e=>e.video_ssrc&&!this._p2pChannel.isPreSubScribe(e.video_ssrc)||e.audio_ssrc&&!this._p2pChannel.isPreSubScribe(e.audio_ssrc)||!e.video_ssrc&&!e.audio_ssrc)),r.length>0){const e=await this._gateway.subscribeAll(r,!0);((null==e?void 0:e.users)||[]).forEach((e=>{let{stream_id:t,video_error_code:r,audio_error_code:o,error_code:i}=e;(r||o||i)&&n.set(t,{video_error_code:r,audio_error_code:o,error_code:i})}))}if(Array.from(n.entries()).length>0){const e=[];Array.from(n.entries()).forEach((t=>{let[n,r]=t;const o=this.remoteUsers.find((e=>e.uid===n));if(o){let t;r.error_code||r.video_error_code&&r.audio_error_code?t=void 0:r.video_error_code?t=YA.VIDEO:r.audio_error_code&&(t=YA.AUDIO),e.push({user:o,mediaType:t})}})),e.length>0&&await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of o){const t=n.get(e.user.uid);if(t){const n=t.error_code||"audio"===e.mediaType&&t.audio_error_code||"video"===e.mediaType&&t.video_error_code;if(n){const t=gO(n);oI.error("user:".concat(e.user.uid," mediaType:").concat(e.mediaType," has massSubscribe error ").concat(t.desc)),e.error=new pI(lC.SUBSCRIBE_FAILED,"code ".concat(n,": ").concat(t.desc))}}e.error||("video"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(o.filter((e=>!e.error)).map((e=>({userId:e.user.uid,type:e.mediaType}))),void 0,Date.now()),o.forEach((e=>{var n;hI.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(n=e.error)||void 0===n?void 0:n.code)||null,video:e.mediaType===YA.VIDEO,audio:e.mediaType===YA.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===YA.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t),preSsrc:this._p2pChannel.isPreSubScribe(e.user._videoSSRC)},!0)})),oI.info("[".concat(this._clientId,"] massSubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; "))),o}catch(s){throw await this._p2pChannel.massUnsubscribeNoLock(e),s}}finally{i(),r()}}async unsubscribe(e,t,n){if(!(e instanceof nV)){const t=this.remoteUsers.find((t=>t.uid===e));if(!t)throw new pI(lC.INVALID_REMOTE_USER,"user is not in the channel");e=t}if(t||this.store.useP2P){if("datachannel"===t)return this._unsubscribeDataChannel(e,n)}else await this._unsubscribeDataChannel(e,n);if(t&&hC(t,"mediaType",["audio","video"]),!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");if(!this._users.find((t=>t===e))){const t=new pI(lC.INVALID_REMOTE_USER,"user is not in the channel");throw oI.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),t}oI.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: ").concat(t));const r=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof bV)await this._p2pChannel.unsubscribe(e,t);else{const n=await this._p2pChannel.unsubscribe(e,t);n&&await this._gateway.unsubscribe(n,e.uid),t&&"audio"!==t||(e._audio_pre_subscribed=!1),t&&"video"!==t||(e._video_pre_subscribed=!1),e._is_pre_created&&WC(this._users,e),oI.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(e.uid,", mediaType: ").concat(t))}}catch(o){if(o.code===lC.DISCONNECT_P2P)return void oI.warning("disconnecting p2p, abort unsubscribe request.");throw oI.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),o.toString()),o}finally{r()}}async _unsubscribeDataChannel(e,t){if(t&&pC(t,"id",0,65535,!0),!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"Can't unsubscribe datachannel, haven't joined yet!");if(!this._users.find((t=>t===e))){const t=new pI(lC.INVALID_REMOTE_USER,"user is not in the channel");throw oI.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),t}let n;if("number"==typeof t){const r=e._dataChannels.find((e=>e.id===t));r&&(n=[r])}else n=e._dataChannels;if(void 0===n){const n=new pI(lC.REMOTE_USER_IS_NOT_PUBLISHED);throw oI.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid," with channelId ").concat(t,", remote datachannel is not published")),n}oI.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: datachannel, ids: ").concat(n.map((e=>e.id))));try{const t=await this._p2pChannel.unsubscribeDataChannel(e,n);t&&await this._gateway.unsubscribeDataChannel(t,e.uid),oI.info("[".concat(this._clientId,"] unsubscribe datachannel success uid: ").concat(e.uid,", mediaType: datachannel, ids: ").concat(t))}catch(r){if(r.code===lC.DISCONNECT_P2P)return void oI.warning("disconnecting p2p, abort unsubscribe request.");throw oI.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),r.toString()),r}}async massUnsubscribe(e){if(gC(e,"unsubscribeList"),!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");oI.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join())),e=[...e];const t=new Map;for(let r=e.length-1;r>=0;r--){const{user:n,mediaType:o}=e[r];if(!n){const e=new pI(lC.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw oI.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),e}if(hC(o,"mediaType",["video","audio",void 0]),!this._users.find((e=>e===n))){oI.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(n.uid,", user is not in the channel")),e.splice(r,1);continue}const i=BA.Video|BA.LwoVideo;if(t.has(n)){const a=t.get(n);let s;switch(o){case"video":s=a&i;break;case"audio":s=a&BA.Audio;break;default:s=a&(BA.Audio|i)}if(s){oI.warning("[".concat(this._clientId,"] repeat massUnsubscribe user:").concat(n.uid,",mediaType:").concat(o," twice.")),e.splice(r,1);continue}o?"audio"===o?t.set(n,a|BA.Audio):"video"===o&&t.set(n,a|i):t.set(n,a|BA.Audio|i)}else o?"audio"===o?t.set(n,BA.Audio):"video"===o&&t.set(n,i):t.set(n,BA.Audio|i)}try{const t=await this._p2pChannel.massUnsubscribe(e);t&&await this._gateway.massUnsubscribe(t),oI.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join()))}catch(n){if(n.code===lC.DISCONNECT_P2P)return void oI.warning("[".concat(this._clientId,"] disconnecting p2p, abort unsubscribe request."));throw oI.error("[".concat(this._clientId,"] massUnsubscribe error"),n.toString()),n}}async setLowStreamParameter(e){!function(e){if(!e)throw new uC(lC.INVALID_PARAMS);vC(e.width)||fC(e.width,"streamParameter.width"),vC(e.height)||fC(e.height,"streamParameter.height"),vC(e.framerate)||fC(e.framerate,"streamParameter.framerate"),vC(e.bitrate)||pC(e.bitrate,"streamParameter.bitrate")}(e),(!e.width&&e.height||e.width&&!e.height)&&oI.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),oI.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();if(t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(e,JA.LocalVideoLowTrack)}async enableDualStream(){if(!UD().supportDualStream)throw hI.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new pI(lC.NOT_SUPPORTED,"Your browser is not support dual stream");if(this._isDualStreamEnabled)throw new pI(lC.INVALID_OPERATION,"Dual stream is already enabled");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(vp){throw hI.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),vp}this._isDualStreamEnabled=!0,hI.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),oI.info("[".concat(this._clientId,"] enable dual stream"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this._p2pChannel.getLocalMedia(JA.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(vp){throw hI.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),vp}this._isDualStreamEnabled=!1,hI.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),oI.info("[".concat(this._clientId,"] disable dual stream"))}}async setClientRole(e,t){if(hC(e,"role",["audience","host"]),t&&MC(t),"rtc"===this.mode||"p2p"===this.mode)throw oI.warning("[".concat(this._clientId,"]").concat(this.mode," mode can not use setClientRole")),new pI(lC.INVALID_OPERATION,"".concat(this.mode," mode can not use setClientRole"));if(t&&t.level&&"host"===e)throw new pI(lC.INVALID_OPERATION,"host mode can not set audience latency level");if("audience"===e&&this._p2pChannel.hasLocalMedia())throw new pI(lC.INVALID_OPERATION,"can not set client role to audience when publishing stream");await this._gateway.setClientRole(e,t),this._config.role=e,oI.info("[".concat(this._clientId,"] set client role to ").concat(e,", level: ").concat(t&&t.level))}getRemoteInboundOffset(){var e;const t=null===(e=this._p2pChannel.getStats())||void 0===e?void 0:e.audioSend[0];if(!t||!t.timestamp)return 0;const n=t.timestamp-Date.now();return Math.abs(n)>1e3+t.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?n:0}getNtpWallTimeInMs(){return"visible"===document.visibilityState&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(e,t){if(mC(e,"proxyServer"),!t){if("DISCONNECTED"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new pI(lC.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=e,hI.setProxyServer(this._proxyServer),oI.setProxyServer(this._proxyServer),oI.info("[".concat(this._clientId,"] Set proxy server ").concat(t?"by initialize call":""," success."))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if("DISCONNECTED"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new pI(lC.INVALID_OPERATION,"You have already set the proxy")}if(xC(e))return this._turnServer={servers:e,mode:"original-manual"},void oI.info("[".concat(this._clientId,"] Set original turnserver ").concat(t?"by initialize call":""," success: ").concat(e.map((e=>e.urls)).join(","),"."));e.forEach((e=>PC(e))),this._turnServer={servers:e,mode:"manual"},oI.info("[".concat(this._clientId,"] Set turnserver ").concat(t?"by initialize call":""," success."))}setLicense(e){if("DISCONNECTED"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"you should set license before join channel");if(mC(e,"license",32,32),!/^[A-Za-z\d]+$/.test(e))throw new pI(lC.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=e,oI.info("[".concat(this._clientId,"] set license success"),e)}startProxyServer(e){if("DISCONNECTED"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint)throw new pI(lC.INVALID_OPERATION,"You have already set the proxy");const t=[3,4,5];let n;switch(void 0===e&&(e=3),e){case 1:case 2:throw new pI(lC.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:n="proxy3";break;case 4:n="proxy4";break;case 5:n="proxy5";break;default:throw new pI(lC.INVALID_PARAMS,"proxy server mode must be ".concat(t.join("|")))}this._cloudProxyServerMode=n,this.store.cloudProxyServerMode=n,oI.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}stopProxyServer(){if("DISCONNECTED"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"Stop proxy server after leave channel");hI.setProxyServer(),oI.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",oI.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new pI(lC.INVALID_PARAMS,"accessPoints is required.");gC(e.accessPoints.serverList,"accessPoints.serverList"),mC(e.accessPoints.domain,"accessPoints.domain");const t=(e,t)=>{pC(e,t,0,65535,!0)};let n=443;if(e.accessPoints.port&&(t(e.accessPoints.port,"accessPoints.port"),n=e.accessPoints.port),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new pI(lC.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");jR("CLOSE_AFB_FOR_LOCAL_AP")&&(UR("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),UR("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));const r=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,o=e.accessPoints.domain,i=e.accessPoints.serverList.map((e=>r.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(o):e)),a=i.map((e=>"".concat(e,":").concat(n)));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,UR("WEBCS_DOMAIN",a),UR("WEBCS_DOMAIN_BACKUP_LIST",a),UR("GATEWAY_DOMAINS",[o]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(gC(e.report.hostname,"report.hostname"),UR("EVENT_REPORT_DOMAIN",e.report.hostname[0]),UR("EVENT_REPORT_BACKUP_DOMAIN",e.report.hostname[1]||e.report.hostname[0])):(UR("EVENT_REPORT_DOMAIN",i[0]),UR("EVENT_REPORT_BACKUP_DOMAIN",i[1]||i[0]));let s=6443;e.report&&e.report.port&&(t(e.report.port,"report.port"),s=e.report.port),UR("STATS_COLLECTOR_PORT",s),e.report?UR("ENABLE_EVENT_REPORT",!0):UR("ENABLE_EVENT_REPORT",!1);let c="";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(gC(e.log.hostname,"log.hostname"),c=e.log.hostname[0]):c=i[0];let l=6444;e.log&&e.log.port&&(t(e.log.port,"log.port"),l=e.log.port),UR("LOG_UPLOAD_SERVER","".concat(c,":").concat(l));let u=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(gC(e.cds.hostname,"cds.hostname"),u=e.cds.hostname):u=i;let d=443;e.cds&&e.cds.port&&(t(e.cds.port,"cds.port"),d=e.cds.port),UR("CDS_AP",u.map((e=>"".concat(e,":").concat(d)))),e.cds?UR("ENABLE_CONFIG_DISTRIBUTE",!0):UR("ENABLE_CONFIG_DISTRIBUTE",!1),oI.info("set local access point v2 success")}setLocalAccessPoints(e,t){if(gC(e,"serverList"),mC(t,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new pI(lC.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=e.map((e=>n.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(t):e)),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,UR("WEBCS_DOMAIN",e),UR("WEBCS_DOMAIN_BACKUP_LIST",e),UR("GATEWAY_DOMAINS",[t]),UR("EVENT_REPORT_DOMAIN",e[0]),UR("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),UR("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),oI.info("[".concat(this._clientId,"] set local access point success"))}async setRemoteDefaultVideoStreamType(e){if(hC(e,"streamType",[0,1,4,5,6,7,8,9]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(t){throw oI.error("[".concat(this._clientId,"] set default remote video stream type error"),t.toString()),t}else oI.debug("[".concat(this._clientId,"] haven't joined yet, cache remoteDefaultVideoStreamType ").concat(e))}async setRemoteVideoStreamType(e,t){hC(t,"streamType",[0,1,4,5,6,7,8,9]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout((()=>{const t=this._users.find((t=>t.uid===e));t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(n){throw oI.error("[".concat(this._clientId,"] set remote video stream type error"),n.toString()),n}oI.info("[".concat(this._clientId,"] set remote ").concat(e," video stream type to ").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){hC(t,"fallbackType",[0,1,2,3,4,5,6,7,8]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(n){throw oI.error("[".concat(this._clientId,"] set stream fallback option"),n.toString()),n}oI.info("[".concat(this._clientId,"] set remote ").concat(e," stream fallback type to ").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,n,r){hC(e,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"]),mC(t,"secret");const o=["aes-128-gcm2","aes-256-gcm2"];if(Or(o).call(o,e)){if(!n||!(n instanceof Uint8Array&&32===n.length))throw new pI(lC.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new pI(lC.INVALID_PARAMS,"current encrypt mode does not need salt");if(r){if(dC(r,"encryptDataStream"),!Or(o).call(o,e))throw new pI(lC.INVALID_PARAMS,"current encrypt mode does not support data stream");this._encryptDataStream=!0}new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\[\\]])(?=.{8,})").test(t)||oI.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),this._encryptionMode=e,this._encryptionSecret=t,n&&(this._encryptionSalt=QC(n))}async renewToken(e){if(mC(e,"token",1,2047),!this._key||!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"renewToken should not be called before user join");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const n=await this._renewTokenMutex.lock();try{if(jR("USE_NEW_TOKEN")){oI.debug("[".concat(this._clientId,"] start renew token with ticket from unilbs"));const t=await WU(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||ER);oI.debug("[".concat(this._clientId,"] get ticket from unilbs success")),await this._gateway.renewToken({token:e,ticket:t})}else oI.debug("[".concat(this._clientId,"] start renew token without ticket")),await this._gateway.renewToken({token:e});oI.debug("[".concat(this._clientId,"] renewToken success"))}catch(r){throw this._key=t,this._joinInfo.token=t,oI.error("[".concat(this._clientId,"] renewToken failed"),r.toString()),r}finally{n()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?oI.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval((()=>{const e=this._p2pChannel.getAudioLevels();this.safeEmit(LC.VOLUME_INDICATOR,e)}),jR("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if("h264"!==this.codec)throw new pI(lC.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");if(!this._p2pChannel.hasLocalMedia())throw new pI(lC.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new pI(lC.LIVE_STREAMING_TASK_CONFLICT);const n=t?wA.TRANSCODE:wA.RAW;return this._createLiveStreamingClient(n).startLiveStreamingTask(e,n)}setLiveTranscoding(e){return this._createLiveStreamingClient(wA.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t=>t&&t.hasUrl(e)));if(!t.length)throw new pI(lC.INVALID_PARAMS,"can not find live streaming url to stop");await Uh.all(t.map((t=>t&&t.stopLiveStreamingTask(e))))}async startChannelMediaRelay(e){IV(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}async updateChannelMediaRelay(e){IV(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}async stopChannelMediaRelay(){const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}async sendStreamMessage(e){var t;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"can not send data stream, not joined");if(("string"==typeof e||e instanceof Uint8Array)&&(e={payload:e}),"string"==typeof e.payload){const t=new TextEncoder;e.payload=t.encode(e.payload)}let r=!1;if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Or(t=["aes-128-gcm2","aes-256-gcm2"]).call(t,this._encryptionMode)&&(r=!0,e.payload=await async function(e,t,n){var r;const o=qr(r=Array.from(n)).call(r,((e,t)=>e+t),0),i={serverTs:0,seq:KR++,length:n.length,checkSum:o},a=new Uint8Array(pR(o,2)),s=new ArrayBuffer(qR),c=new DataView(s);c.setUint32(0,i.serverTs),c.setUint16(4,i.seq),c.setUint16(6,i.length),c.setUint16(8,i.checkSum);const l=16-n.length%16;n=tR(n,new Uint8Array(l));const u=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:e,tagLength:HR,additionalData:a},t,n);return tR(new Uint8Array(s),new Uint8Array(u))}(this._encryptDataStreamIv,this._encryptDataStreamKey,e.payload)),new Blob([e.payload]).size>1024)throw new pI(lC.INVALID_PARAMS,r?"encrypted stream message out of range.":"stream message out of range.");return this._gateway.signal.request(vA.DATA_STREAM,{payload:QC(e.payload),syncWithAudio:e.syncWithAudio,sendTs:Date.now()-yB},!n)}sendMetadata(e){if(!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([e]).size>1024)throw new pI(lC.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(vA.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:QC(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach(aI),!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"can not send custom report, not joined");await hI.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){hC(t.spatialLayer,"spatialLayer",[0,1,2,3]),hC(t.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(n){throw oI.error("[".concat(this._clientId,"] pick SVC layer failed"),n.toString()),n}}async setRTMConfig(e){const{apRTM:t=!1,rtmFlag:n}=e;if(dC(t,"apRTM"),pC(n,"rtmFlag",0),this._rtmConfig.apRTM=t,this._rtmConfig.rtmFlag=n,oI.debug("[".concat(this._clientId,"] setRTMconfig ").concat(JSON.stringify(e)," in ").concat(this.connectionState," state")),("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState)&&this._joinInfo)return this._joinInfo.apRTM=t,this._joinInfo.rtmFlag=n,this._gateway.setRTM2Flag(n)}_reset(){if(oI.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=bw.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&HB(this._joinInfo),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId&&hI.removeSid(this._sessionId),this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach((e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy(),e._dataChannels&&(e._dataChannels.forEach((e=>e._close())),e._dataChannels.length=0)})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),"fallback"===this._cloudProxyServerMode&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new yR("client-publish",this._clientId),this._subscribeMutex=new yR("client-subscribe",this._clientId),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(vp){}if(this._moderation)try{this.setImageModeration(!1)}catch(vp){}}_startSession(e,t){var n;const r=e||sR();e?oI.debug("[".concat(this._clientId,"] new Session ").concat(r)):oI.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(r));const o=e?"":this._sessionId||"";this._sessionId=r,this.store.sessionId=r,hI.addSid(r);const i={lts:(new Date).getTime(),mode:this.mode,buildFormat:1,stringUid:(null==t?void 0:t.stringUid)||(null===(n=this._joinInfo)||void 0===n?void 0:n.stringUid),channelProfile:"live"===this.mode?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:o,clientRole:"audience"===this.role?2:1};hI.sessionInit(this._sessionId,fF({cname:t.channel,appid:t.appId},i)),this._joinInfo&&(this._joinInfo.sid=r),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=r)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new pI(lC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&jR("FORCE_TURN")&&!jR("TURN_ENABLE_TCP")&&!jR("TURN_ENABLE_UDP"))throw new pI(lC.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");oI.debug("[".concat(this._clientId,"] publish high stream"));try{const r=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof bV){const e=(await r.next()).value;if(e){try{await this._gateway.sendExtensionMessage(lO.PUBLISH,e,!0)}catch(n){throw r.throw(n),n}await r.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const o=(await r.next()).value;if(o){var t;let e;try{e=await this._gateway.publish(this._uid,o,!0)}catch(n){if(n.code!==lC.DISCONNECT_P2P)throw r.throw(n),n}await r.next((null===(t=e)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof KM&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}}catch(r){if(this._p2pChannel.reportPublishEvent(!1,null==r?void 0:r.code,e),(null==r?void 0:r.code)===lC.WS_ABORT)return;throw r}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new pI(lC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));oI.debug("[".concat(this._clientId,"] publish low stream"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),r=(await e.next()).value;if(r){var t;let o;try{o=await this._gateway.publish(this._uid,r,!0)}catch(n){if(n.code!==lC.DISCONNECT_P2P)throw e.throw(n),n}e.next((null===(t=o)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(r){if(this._p2pChannel.reportPublishEvent(!1,null==r?void 0:r.code,void 0,!0),(null==r?void 0:r.code)===lC.WS_ABORT)return;throw r}}_createLiveStreamingClient(e){const t=()=>{if(!this._joinInfo||!this._appId)return new pI(lC.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const e=(t={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},fB("LiveStreaming").create(t));var t;return e.onLiveStreamError=(e,t)=>{hI.reportApiInvoke(this._sessionId,{name:AC.ON_LIVE_STREAM_ERROR,options:[e,t],tag:OC.TRACER}).onSuccess(),this.safeEmit(LC.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{hI.reportApiInvoke(this._sessionId,{name:AC.ON_LIVE_STREAM_WARNING,options:[e,t],tag:OC.TRACER}).onSuccess(),this.safeEmit(LC.LIVE_STREAMING_WARNING,e,t)},e.on(NA.REQUEST_WORKER_MANAGER_LIST,((e,t,n)=>{if(!this._joinInfo)return n(new pI(lC.INVALID_OPERATION,"can not find join info to get worker manager"));(async function(e,t,n,r){const o=jR("UAP_AP").slice(0,jR("AJAX_REQUEST_CONCURRENT")).map((e=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")));return await wU(o,e,t,n,r)})(e,this._joinInfo,this._axiosCancelSource.token,ER).then(t).catch(n)})),e};return e===wA.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||t(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||t(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo)return new pI(lC.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw();if(!this._channelMediaRelayClient){const{sendResolutionWidth:t,sendResolutionHeight:n}=this.getLocalVideoStats(),r=(e={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:t,height:n}},fB("ChannelMediaRelay").create(e));r.on("state",(e=>{e===MA.RELAY_STATE_FAILURE&&r&&r.dispose(),this.safeEmit(LC.CHANNEL_MEDIA_RELAY_STATE,e)})),r.on("event",(e=>{this.safeEmit(LC.CHANNEL_MEDIA_RELAY_EVENT,e)})),this._channelMediaRelayClient=r,this._statsCollector.onStatsChanged=(e,t)=>{var n;"resolution"===e&&(null===(n=this._channelMediaRelayClient)||void 0===n||n.setVideoProfile(t))}}var e;return this._channelMediaRelayClient}_handleUpdateDataChannel(e,t){const{added:n,deleted:r}=e,o=[];if(t){const e=[];this._users.forEach((t=>{t._dataChannels.forEach((r=>{n.every((e=>e.uid!==t._uintid||e.stream_id!==r.id))&&e.push({uid:t._uintid,stream_id:r.id,ordered:r.ordered,max_retrans_times:r.maxRetransmits,metadata:r.metadata})}))})),e.length>0&&this._handleUpdateDataChannel({added:[],deleted:e})}Array.isArray(n)&&n.length>0&&n.forEach((e=>{const{uid:n,stream_id:r,ordered:i,max_retrans_times:a,metadata:s}=e,c=this._users.find((e=>e._uintid===n));if(c){if(oI.debug("[".concat(this._clientId,"] data_channel added with uid ").concat(n)),Or(o).call(o,c)||o.push(c),c._uintid||(c._uintid=n),-1===c._dataChannels.findIndex((t=>t.id===e.stream_id))){const e={id:r,ordered:!!i,maxRetransmits:a,metadata:s},n=mB(e,!0);c._dataChannels.push(n),oI.info("[".concat(this._clientId,"] remote user ").concat(c.uid," published datachannel")),t||this.safeEmit(LC.USER_PUBLISHED,c,"datachannel",e)}this._p2pChannel.hasPendingRemoteDataChannel(c,e.stream_id)&&(oI.debug("[".concat(this._clientId,"] resubscribe datachannel for user ").concat(c.uid," after reconnect.")),this._subscribeDataChannel(c,e.stream_id).catch((e=>{oI.error("[".concat(this._clientId,"] resubscribe datachannel error"),e.toString())})))}else oI.error("[".concat(this._clientId,"] can not find target user!(on_add_data_channel)"))})),t&&(this.safeEmit(LC.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(r)&&r.length>0&&r.forEach((e=>{const{uid:t,stream_id:n}=e,r=this._users.find((e=>e._uintid===t));if(!r)return void oI.error("[".concat(this._clientId,"] can not find target user!(on_delete_data_channel)"));const o=r._dataChannels.find((t=>t.id===e.stream_id));o&&(oI.debug("[".concat(this._clientId,"] data_stream delete with uid ").concat(t)),this._p2pChannel.unsubscribeDataChannel(r,[o]).then((e=>{if(r._dataChannels=r._dataChannels.filter((e=>e!==o)),e)return this._gateway.unsubscribeDataChannel(e,r.uid)})),oI.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished datachannel ,id:").concat(o.id)),this.safeEmit(LC.USER_UNPUBLISHED,r,"datachannel",o._config))}))}_handleRemoveDataChannels(e){const t=this._users.find((t=>t.uid===e.uid));if(t){if(void 0!==t._dataChannels&&t._dataChannels.length>0){oI.debug("[".concat(this._clientId,"] datachannel removed with uid ").concat(e.uid));const n=()=>{oI.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished datachannel")),t._dataChannels.forEach((e=>{this.safeEmit(LC.USER_UNPUBLISHED,t,"datachannel",e._config)}))};this._p2pChannel.unsubscribeDataChannel(t,t._dataChannels).then((e=>{if(e)return this._gateway.unsubscribeDataChannel(e,t.uid)})),n()}}else oI.warning("[".concat(this._clientId,"] can not find target user!(on_remove_datachannel)"))}_handleGatewayEvents(){this._gateway.on(jA.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(jA.CONNECTION_STATE_CHANGE,((e,t,n)=>{var r;if(n===DC.FALLBACK)return;const o=()=>{this.safeEmit(LC.CONNECTION_STATE_CHANGE,e,t,n)};if(hI.reportApiInvoke(this._sessionId||(null===(r=this._gateway.joinInfo)||void 0===r?void 0:r.sid)||null,{name:AC.CONNECTION_STATE_CHANGE,options:[e,t,n],tag:OC.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:n})),oI.info("[".concat(this._clientId,"] signal connection state change: ").concat(t," -> ").concat(e)),"DISCONNECTED"===e)return this._reset(),void o();if("RECONNECTING"===e)this._users.forEach((e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._is_pre_created||(e._audio_pre_subscribed||(e._audioSSRC=void 0,e._audioOrtc=void 0),e._video_pre_subscribed||(e._videoSSRC=void 0,e._videoOrtc=void 0,e._rtxSsrcId=void 0),e._cname=void 0)})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if("CONNECTED"===e){var i;this._streamFallbackTypeCacheMap.forEach(((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch((e=>{oI.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),e)}))})),this._remoteStreamTypeCacheMap.forEach(((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch((e=>{oI.warning("[".concat(this._clientId,"] auto set remote stream type failed"),e)}))})),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(i=this._joinInfo)||void 0===i?void 0:i.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{oI.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))})).catch((e=>{oI.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(e))})),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._userOfflineTimeout=void 0,this._users.filter((e=>!e._trust_in_room_)).forEach((e=>{oI.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(e.uid)),this._handleUserOffline({uid:e.uid})})))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach((e=>{e._trust_audio_mute_state_||(oI.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(e.uid)),this._handleMuteStream(e.uid,YA.AUDIO,!1)),e._trust_video_mute_state_||(oI.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(e.uid)),this._handleMuteStream(e.uid,YA.VIDEO,!1)),e._trust_audio_enabled_state_||(oI.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(e.uid)),this._handleSetStreamLocalEnable("audio",e.uid,!0)),e._trust_video_enabled_state_||(oI.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(e.uid)),this._handleSetStreamLocalEnable("video",e.uid,!0)),e._trust_video_stream_added_state_||(oI.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(e.uid)),this._handleResetAddStream(e,"video")),e._trust_audio_stream_added_state_||(oI.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(e.uid)),this._handleResetAddStream(e,"audio")),e._video_added_||e._audio_added_||(oI.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3))}o()})),this._gateway.on(jA.REQUEST_NEW_GATEWAY_LIST,(async(e,t)=>{if(!this._joinInfo)return t(new pI(lC.UNEXPECTED_ERROR,"can not recover, no join info"));try{let t;const n=await BB(fF(fF({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));n?(t=n.ap,GB(n),this._joinInfo.preload=!0):(t=await UU(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||ER,this.store),this._joinInfo.preload=!1),this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip);const r=[];t.gatewayInfo.gatewayAddrs.forEach((e=>{let{address:t}=e;const[n,o]=t.split(":");this._joinInfo&&this._joinInfo.proxyServer?r.push({proxy:this._joinInfo.proxyServer,host:n,port:o}):r.push({host:n,port:o})})),e(r)}catch(n){t(n)}})),this._gateway.on(jA.NETWORK_QUALITY,(e=>{"normal"===this._networkQualitySensitivity&&this.safeEmit(LC.NETWORK_QUALITY,e)})),this._gateway.on(jA.STREAM_TYPE_CHANGE,((e,t)=>{this.safeEmit(LC.STREAM_TYPE_CHANGED,e,t),hI.reportApiInvoke(this._sessionId,{name:AC.STREAM_TYPE_CHANGE,options:[e,t],tag:OC.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))})),this._gateway.on(jA.IS_P2P_DISCONNECTED,(e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(jA.REQUEST_P2P_CONNECTION_PARAMS,(async(e,t,n)=>{try{let n=await this._p2pChannel.getEstablishParams();jR("ENABLE_PREALLOC_PC")&&n||(n=await this._p2pChannel.startP2PConnection(e)),t(n)}catch(r){n(r)}})),this._gateway.on(jA.JOIN_RESPONSE,((e,t)=>{if(this.store.useP2P)return;let n;e.attributes?n=e.attributes.userAttributes.preSubSsrcs:oI.debug("no attributes in joinResponse");const r=UL(e.ortc,t,n);this._p2pChannel.connect(r)})),this._gateway.on(jA.PRE_CONNECT_PC,(async e=>{const{candidates:t,fingerprint:n}=e;if(this._joinInfo&&t.length>0&&!this._p2pChannel.isPlanB){var r;await this._p2pChannel.startP2PConnection({turnServer:this._joinInfo.turnServer});const{cert:e,cid:o}=this._joinInfo.apResponse;await this._p2pChannel.connect({iceParameters:{iceUfrag:"".concat(o,"_").concat(e),icePwd:"".concat(o,"_").concat(e)},dtlsParameters:{fingerprints:[{hashFunction:"sha-256",fingerprint:null!==(r=jR("FINGERPRINT"))&&void 0!==r?r:n}]},candidates:t,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:"active",cname:"o/i14u9pJrxRKAsu",preallocation:!0})}}))}_handleGatewaySignalEvents(){this._gateway.signal.on(_A.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(_A.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(_A.ON_ADD_AUDIO_STREAM,(e=>this._handleAddAudioOrVideoStream("audio",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc))),this._gateway.signal.on(_A.ON_ADD_VIDEO_STREAM,(e=>this._handleAddAudioOrVideoStream("video",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId))),this._gateway.signal.on(_A.ON_REMOTE_DATASTREAM_UPDATE,(e=>{this._handleUpdateDataChannel(e)})),this._gateway.signal.on(_A.ON_REMOTE_FULL_DATASTREAM_INFO,(e=>{this._handleUpdateDataChannel({added:e.datastreams||[],deleted:[]},!0)})),this._gateway.signal.on(_A.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(_A.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(_A.MUTE_AUDIO,(e=>this._handleMuteStream(e.uid,YA.AUDIO,!0))),this._gateway.signal.on(_A.UNMUTE_AUDIO,(e=>this._handleMuteStream(e.uid,YA.AUDIO,!1))),this._gateway.signal.on(_A.MUTE_VIDEO,(e=>this._handleMuteStream(e.uid,YA.VIDEO,!0))),this._gateway.signal.on(_A.UNMUTE_VIDEO,(e=>this._handleMuteStream(e.uid,YA.VIDEO,!1))),this._gateway.signal.on(_A.RECEIVE_METADATA,(e=>{const t=ZC(e.metadata);this.safeEmit(LC.RECEIVE_METADATA,e.uid,t)})),this._gateway.signal.on(_A.ON_DATA_STREAM,(async e=>{var t;if(!e)return;let n=ZC(e.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Or(t=["aes-128-gcm2","aes-256-gcm2"]).call(t,this._encryptionMode)){if(e.payload.length<qR)throw new pI(lC.UNEXPECTED_RESPONSE,"payload length ".concat(e.payload.length," is less than header length ").concat(qR));n=await async function(e,t,n){const r=n.subarray(0,qR),o=r.slice(8,qR),i=(o[0]<<8)+o[1],a=(r[6]<<8)+r[7],s=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e,tagLength:HR,additionalData:new Uint8Array(pR(i,2))},t,n.subarray(qR));return new Uint8Array(s).subarray(0,a)}(this._encryptDataStreamIv,this._encryptDataStreamKey,n)}let r=0;if(e.ordered||e.syncWithAudio){const t=this._p2pChannel.getStats(),n=this.remoteUsers.find((t=>t.uid===e.uid)),o=null==t?void 0:t.audioRecv.find((e=>e.ssrc===(null==n?void 0:n._audioSSRC)));r=null==o?void 0:o.jitterBufferMs}null==r&&(r=0),wB(fF(fF({},e),{},{payload:n}),r,{id:this._clientId,onStreamMessage:"function"==typeof this.onStreamMessage?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})})),this._gateway.signal.on(_A.ON_CRYPT_ERROR,(()=>{JC((()=>{oI.warning("[".concat(this._clientId,"] on crypt error")),this.safeEmit(LC.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(_A.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(_A.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{oI.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),this._gateway.leave(!0,DC.TOKEN_EXPIRE),this.safeEmit(LC.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(_A.ON_STREAM_FALLBACK_UPDATE,(e=>{oI.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(e.stream_id,", attr: ").concat(e.stream_type)),this.safeEmit(LC.STREAM_FALLBACK,e.stream_id,1===e.stream_type?"fallback":"recover")})),this._gateway.signal.on(_A.ON_PUBLISH_STREAM,(e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),oI.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(e))))})),this._gateway.signal.on(_A.ENABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!0)})),this._gateway.signal.on(_A.DISABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!1)})),this._gateway.signal.on(gA.REQUEST_TIMEOUT,((e,t)=>{if(this._joinInfo)switch(e){case vA.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var n,r;const o=e.some((e=>{let{stream_type:t}=e;return t===UA.Audio})),i=e.some((e=>{let{stream_type:t}=e;return t!==UA.Audio})),a=e.some((e=>{let{stream_type:t}=e;return t===UA.Screen||t===UA.ScreenLow}));"offer"===t.state&&hI.publish(this._joinInfo.sid,{eventElapse:JU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:lC.TIMEOUT,audio:o,video:i,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:a,audioName:o?null===(n=e.find((e=>{let{stream_type:t}=e;return t===UA.Audio})))||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0,videoName:i?null===(r=e.find((e=>{let{stream_type:t}=e;return t!==UA.Audio})))||void 0===r||null===(r=r.ssrcs[0])||void 0===r?void 0:r.ssrcId.toString():void 0})}break}case vA.SUBSCRIBE:t&&hI.subscribe(this._joinInfo.sid,{succ:!1,ec:lC.TIMEOUT,audio:t.stream_type===YA.AUDIO,video:t.stream_type===YA.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:JU.measureFromSubscribeStart(this.store.clientId,t.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(t.ssrcId)})}})),this._gateway.signal.on(_A.ON_P2P_OK,(e=>{this.uid,this._uid})),this._gateway.signal.on(_A.ON_PUBLISHED_USER_LIST,(e=>{if(null==e||!e.users)return;jR("BLOCK_LOCAL_CLIENT")&&(e.users=e.users.filter((e=>!vI(e.string_id||e.stream_id,this.channelName))));const t=[],n=[];for(const r of e.users){let e=this._users.find((e=>e._uintid===r.stream_id));e?e._trust_in_room_=!0:(e=new nV(r.string_id||r.stream_id,r.stream_id),this._users.push(e),0===this.getListeners(LC.PUBLISHED_USER_LIST).length&&(oI.debug("[".concat(this._clientId,"] user online"),r.stream_id),this.safeEmit(LC.USER_JOINED,e)));const o=BA.Audio&r.stream_type,i=(BA.Video|BA.LwoVideo)&r.stream_type,a=!!(65280&r.stream_type),s=o&&e.hasAudio,c=i&&e.hasVideo;i&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=r.video_ssrc,e._rtxSsrcId=r.video_rtx),o&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=r.audio_ssrc),o&&!s&&0===this.getListeners(LC.PUBLISHED_USER_LIST).length&&(oI.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published audio")),this.safeEmit(LC.USER_PUBLISHED,e,"audio")),i&&!c&&0===this.getListeners(LC.PUBLISHED_USER_LIST).length&&(oI.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published video")),this.safeEmit(LC.USER_PUBLISHED,e,"video")),(o&&!s||i&&!c||a)&&t.push(e),i&&this._p2pChannel.hasPendingRemoteMedia(e,"video")&&n.push({user:e,mediaType:"video"}),o&&this._p2pChannel.hasPendingRemoteMedia(e,"audio")&&n.push({user:e,mediaType:"audio"})}n.length>0&&(oI.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(n.map((e=>"user: ".concat(e.user.uid,", mediaType: ").concat(e.mediaType))).join("; ")," ")),this.massSubscribe(n).catch((e=>{oI.error("[".concat(this._clientId,"] mass resubscribe error"),e.toString())}))),this.getListeners(LC.PUBLISHED_USER_LIST).length>0?jR("ENABLE_DATASTREAM_2")?this._pendingPublishedUsers=t:(oI.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(t.map((e=>e.uid)).join(", "))),this.safeEmit(LC.PUBLISHED_USER_LIST,t)):oI.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(t.map((e=>e.uid)).join(", ")))})),this._gateway.signal.on(_A.ON_RTP_CAPABILITY_CHANGE,(e=>{const{video_codec:t}=e;this._p2pChannel instanceof uB&&this._p2pChannel.updateRemoteRTPCapabilities(t.map((e=>e.toLowerCase())).filter((e=>{var t;return Or(t=Object.keys(FR)).call(t,e)})))}))}_handleP2PEvents(){this._gateway.signal.on(_A.ON_USER_OFFLINE,(()=>{this._p2pChannel.disconnectForReconnect()})),this._gateway.signal.on(lO.PUBLISH,((e,t,n)=>{const{uid:r}=e;e.forEach((e=>{const{kind:o,ssrcs:i,mid:a,isMuted:s}=e;this._handleP2PAddAudioOrVideoStream(o,r,i[0].ssrcId,a);const c=this._users.find((e=>e.uid===r));return c&&this._p2pChannel instanceof bV?this._p2pChannel.mockSubscribe(c,o,i[0].ssrcId,a).then((()=>{t()})).catch(n):t(),this._handleMuteStream(r,o,!!s)}))})),this._gateway.signal.on(lO.CALL,(async(e,t,n)=>{if(this._p2pChannel instanceof bV)try{var r;t(await this._p2pChannel.startP2P({turnServer:null===(r=this._joinInfo)||void 0===r?void 0:r.turnServer},e))}catch(o){n(o)}})),this._gateway.signal.on(gA.P2P_CONNECTION,(async e=>{this._p2pChannel instanceof bV&&await this._p2pChannel.p2pConnect(e)})),this._gateway.signal.on(lO.UNPUBLISH,(async(e,t,n)=>{if(this._p2pChannel instanceof bV){const{unpubMsg:o,uid:i}=e,a=this._users.find((e=>e.uid===i));if(!a)return oI.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(i)),void t();try{o.forEach((async e=>{let{stream_type:t}=e;const n=t===UA.Audio?YA.AUDIO:YA.VIDEO;await this._p2pChannel.unsubscribe(a,n),this._handleMuteStream(i,n,!0)})),t()}catch(r){n(r)}}})),this._gateway.signal.on(lO.CONTROL,(async(e,t)=>{const{action:n}=e;switch(n){case dO.MUTE_LOCAL_VIDEO:this._handleMuteStream(t,YA.VIDEO,!0);break;case dO.MUTE_LOCAL_AUDIO:this._handleMuteStream(t,YA.AUDIO,!0);break;case dO.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream("video",t),this._handleMuteStream(t,YA.VIDEO,!1);break;case dO.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream("audio",t),this._handleMuteStream(t,YA.AUDIO,!1)}})),this._gateway.signal.on(lO.RESTART_ICE,(async(e,t,n)=>{if(this._p2pChannel instanceof bV)try{const{direction:n,iceParameter:r}=e;n!==EA.SEND_ONLY||r?t(await this._p2pChannel.restartICE(n,r)):(this._p2pChannel.handleDisconnect(n),t())}catch(r){n(r)}})),this._gateway.signal.on(lO.CANDIDATE,(e=>{if(this._p2pChannel instanceof bV){const{candidate:t,direction:n}=e;this._p2pChannel.addRemoteCandidate(t,n)}})),this._p2pChannel.on(QA.RequestP2PRestartICE,(async(e,t,n)=>{try{const{direction:n}=e;t(await this._gateway.sendExtensionMessage(lO.RESTART_ICE,e,n===EA.SEND_ONLY))}catch(r){n(r)}})),this._p2pChannel.on(QA.LocalCandidate,(e=>{this._gateway.sendExtensionMessage(lO.CANDIDATE,JSON.stringify(e),!0)})),this._p2pChannel.on(QA.RequestP2PMuteLocal,(async(e,t,n)=>{try{await this._gateway.sendExtensionMessage(lO.CONTROL,e,!0),t()}catch(r){n(r)}})),this._p2pChannel.on(QA.RequestP2PUnmuteRemote,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(r){r.code===lC.DISCONNECT_P2P?t():n(r)}else t()})),this._p2pChannel.on(QA.RequestP2PMuteRemote,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(r){r.code===lC.DISCONNECT_P2P?t():n(r)}else t()})),this._p2pChannel.on(QA.StateChange,((e,t)=>{t===ZA.Connected&&this._p2pChannel.republish()}))}_handleP2PChannelEvents(){this._p2pChannel.on(QA.RequestMuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(r){r.code===lC.DISCONNECT_P2P?t():n(r)}else t()})),this._p2pChannel.on(QA.RequestUnmuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(r){r.code===lC.DISCONNECT_P2P?t():n(r)}else t()})),this._p2pChannel.on(QA.RequestRePublish,((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),this._p2pChannel.on(QA.RequestRePublishDataChannel,((e,t,n)=>{Uh.all(e.map((async e=>{const t=await this._p2pChannel.publishDataChannel([e]);try{t.forEach((e=>{this._uid&&this._gateway.publishDataChannel(this._uid,e,!0)}))}catch(n){if(n.code!==lC.DISCONNECT_P2P)throw n}}))).then(t).catch(n)})),this._p2pChannel.on(QA.RequestReSubscribe,(async(e,t,n)=>{try{for(const{user:t,kind:n}of e)n===YA.VIDEO?await this.subscribe(t,"video"):await this.subscribe(t,"audio");t()}catch(r){n(r)}})),this._p2pChannel.on(QA.RequestUpload,((e,t)=>{this._gateway.upload(e,t)})),this._p2pChannel.on(QA.RequestUploadStats,(e=>{this._gateway.uploadWRTCStats(e)})),this._p2pChannel.on(QA.MediaReconnectStart,(e=>{this.safeEmit(LC.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on(QA.MediaReconnectEnd,(e=>{this.safeEmit(LC.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on(QA.NeedSignalRTT,(e=>{e(this._gateway.getSignalRTT())})),this._p2pChannel.on(QA.RequestRestartICE,(async e=>{if(this._p2pChannel instanceof bV)return;const t=await this._p2pChannel.restartICE(e),n=await t.next();if(n.done)return;const r=n.value;let o;try{o=await this._gateway.restartICE({iceParameters:r})}catch(a){return void t.throw(a)}const{iceParameters:i}=function(e){const t=e.iceParameters;return{iceParameters:{iceUfrag:t.iceUfrag,icePwd:t.icePwd}}}(o);await t.next({remoteIceParameters:i})})),this._p2pChannel.on(QA.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(QA.RequestReconnectPC,(async()=>{var e;const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:o,gatewayAddress:i}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:n,rtpCapabilities:r}),a=UL(o,i);await this._p2pChannel.connect(a),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(QA.RequestUnpublishForReconnectPC,(async(e,t,n)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):n()})),this._p2pChannel.on(QA.P2PLost,(()=>{this.safeEmit(LC.P2P_LOST,this.store.uid)})),this._p2pChannel.on(QA.UpdateVideoEncoder,(e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on(QA.ConnectionTypeChange,(e=>{this.safeEmit(LC.IS_USING_CLOUD_PROXY,e)})),this._p2pChannel.on(QA.RequestLowStreamParameter,(e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})})),this._p2pChannel.on(QA.QueryClientConnectionState,(e=>{e(this.connectionState)}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if(!this._joinInfo||"CONNECTED"!==this.connectionState)throw new pI(lC.INVALID_OPERATION,"[".concat(this._clientId,"] can not create content inspect, please join channel first"));if(this._inspect)throw new pI(lC.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));try{const n=(t={config:e},fB("ContentInspect").create(t));this._inspect=n,this.handleVideoInspectEvents(n);const{appId:r,cname:o,sid:i,token:a,uid:s,cid:c,vid:l}=this._joinInfo;await n.init({appId:r,areaCode:"",cname:o,sid:i,token:a,uid:s,cid:c,vid:l?Number(l):0},ER)}catch(n){throw Array.isArray(n)?n[0]:n}var t}handleVideoInspectEvents(e){e.on(nO.CONNECTION_STATE_CHANGE,((t,n)=>{if(this.safeEmit(LC.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,n),n===eO.CONNECTED){if("CONNECTED"!==this.connectionState)return void this.safeEmit(LC.CONTENT_INSPECT_ERROR,new pI(lC.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));e.inspectImage()}})),e.on(nO.INSPECT_RESULT,((e,t)=>{var n;if((null==t?void 0:t.code)===lC.INVALID_OPERATION&&"DISCONNECTED"===this.connectionState)return oI.debug("Stop inspect content because that has left channel"),null==this||null===(n=this._inspect)||void 0===n||n.close(),void(this._inspect=void 0);this.safeEmit(LC.CONTENT_INSPECT_RESULT,e,t)})),e.on(nO.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>"video"===e.trackMediaType))[0])}))}async disableContentInspect(){if(!this._inspect)throw new pI(lC.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(vp){throw Array.isArray(vp)?vp[0]:vp}}async setImageModeration(e,t){if(dC(e,"enabled"),e){if(!t)throw new pI(lC.INVALID_PARAMS,"config is required");if(wz(t),!this._joinInfo)throw new pI(lC.INVALID_OPERATION,"can not create image moderation, please join channel first");try{if(this._moderation)this._moderation.updateConfig(t);else{const e=(n={config:t},fB("ImageModeration").create(n));this._moderation=e,this.handleImageModerationEvents(e);const{appId:r,cname:o,sid:i,token:a,uid:s,cid:c,vid:l}=this._joinInfo;await e.init({appId:r,areaCode:"",cname:o,sid:i,token:a,uid:s,cid:c,vid:l?Number(l):0},ER)}}catch(r){throw Array.isArray(r)?r[0]:r}}else{var n;if(!this._moderation)throw new pI(lC.INVALID_OPERATION,"[".concat(this._clientId,"] image moderation not started"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(r){throw Array.isArray(r)?r[0]:r}}}handleImageModerationEvents(e){e.on(sO.CONNECTION_STATE_CHANGE,((t,n)=>{if(this.safeEmit(LC.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t,n),t===aO.CONNECTED){if("CONNECTED"!==this.connectionState)throw this.setImageModeration(!1),new pI(lC.OPERATION_ABORTED,"Image moderation was cancelled because it left the channel");e.inspectImage()}})),e.on(sO.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>"video"===e.trackMediaType))[0])}))}setP2PTransport(e){if(hC(e,"transport",["default","auto","relay","sd-rtn"]),"p2p"!==this.mode)throw new pI(lC.INVALID_OPERATION,"only p2p mode can set p2pTransport");this.store.p2pTransport=e,oI.info("[".concat(this._clientId,"] set client p2pTransport to ").concat(e))}getJoinChannelServiceRecords(){return oI.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){dC(e,"enabled"),UR("ENABLE_PUBLISH_AUDIO_FILTER",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case"audio":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case"video":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}},sA(hF.prototype,"leave",[Rz],Object.getOwnPropertyDescriptor(hF.prototype,"leave"),hF.prototype),sA(hF.prototype,"publish",[Iz],Object.getOwnPropertyDescriptor(hF.prototype,"publish"),hF.prototype),sA(hF.prototype,"unpublish",[Az],Object.getOwnPropertyDescriptor(hF.prototype,"unpublish"),hF.prototype),sA(hF.prototype,"subscribe",[Oz],Object.getOwnPropertyDescriptor(hF.prototype,"subscribe"),hF.prototype),sA(hF.prototype,"presubscribe",[Nz],Object.getOwnPropertyDescriptor(hF.prototype,"presubscribe"),hF.prototype),sA(hF.prototype,"massSubscribe",[kz],Object.getOwnPropertyDescriptor(hF.prototype,"massSubscribe"),hF.prototype),sA(hF.prototype,"unsubscribe",[Dz],Object.getOwnPropertyDescriptor(hF.prototype,"unsubscribe"),hF.prototype),sA(hF.prototype,"massUnsubscribe",[xz],Object.getOwnPropertyDescriptor(hF.prototype,"massUnsubscribe"),hF.prototype),sA(hF.prototype,"setLowStreamParameter",[Pz],Object.getOwnPropertyDescriptor(hF.prototype,"setLowStreamParameter"),hF.prototype),sA(hF.prototype,"enableDualStream",[Mz],Object.getOwnPropertyDescriptor(hF.prototype,"enableDualStream"),hF.prototype),sA(hF.prototype,"disableDualStream",[Lz],Object.getOwnPropertyDescriptor(hF.prototype,"disableDualStream"),hF.prototype),sA(hF.prototype,"setClientRole",[Uz],Object.getOwnPropertyDescriptor(hF.prototype,"setClientRole"),hF.prototype),sA(hF.prototype,"setProxyServer",[jz],Object.getOwnPropertyDescriptor(hF.prototype,"setProxyServer"),hF.prototype),sA(hF.prototype,"setTurnServer",[Vz],Object.getOwnPropertyDescriptor(hF.prototype,"setTurnServer"),hF.prototype),sA(hF.prototype,"setLicense",[Bz],Object.getOwnPropertyDescriptor(hF.prototype,"setLicense"),hF.prototype),sA(hF.prototype,"startProxyServer",[zz],Object.getOwnPropertyDescriptor(hF.prototype,"startProxyServer"),hF.prototype),sA(hF.prototype,"stopProxyServer",[Fz],Object.getOwnPropertyDescriptor(hF.prototype,"stopProxyServer"),hF.prototype),sA(hF.prototype,"setLocalAccessPointsV2",[Hz],Object.getOwnPropertyDescriptor(hF.prototype,"setLocalAccessPointsV2"),hF.prototype),sA(hF.prototype,"setLocalAccessPoints",[Gz],Object.getOwnPropertyDescriptor(hF.prototype,"setLocalAccessPoints"),hF.prototype),sA(hF.prototype,"setRemoteDefaultVideoStreamType",[Wz],Object.getOwnPropertyDescriptor(hF.prototype,"setRemoteDefaultVideoStreamType"),hF.prototype),sA(hF.prototype,"setRemoteVideoStreamType",[qz],Object.getOwnPropertyDescriptor(hF.prototype,"setRemoteVideoStreamType"),hF.prototype),sA(hF.prototype,"setStreamFallbackOption",[Kz],Object.getOwnPropertyDescriptor(hF.prototype,"setStreamFallbackOption"),hF.prototype),sA(hF.prototype,"setEncryptionConfig",[Yz],Object.getOwnPropertyDescriptor(hF.prototype,"setEncryptionConfig"),hF.prototype),sA(hF.prototype,"renewToken",[Xz],Object.getOwnPropertyDescriptor(hF.prototype,"renewToken"),hF.prototype),sA(hF.prototype,"enableAudioVolumeIndicator",[$z],Object.getOwnPropertyDescriptor(hF.prototype,"enableAudioVolumeIndicator"),hF.prototype),sA(hF.prototype,"startLiveStreaming",[Jz],Object.getOwnPropertyDescriptor(hF.prototype,"startLiveStreaming"),hF.prototype),sA(hF.prototype,"setLiveTranscoding",[Zz],Object.getOwnPropertyDescriptor(hF.prototype,"setLiveTranscoding"),hF.prototype),sA(hF.prototype,"stopLiveStreaming",[Qz],Object.getOwnPropertyDescriptor(hF.prototype,"stopLiveStreaming"),hF.prototype),sA(hF.prototype,"startChannelMediaRelay",[eF],Object.getOwnPropertyDescriptor(hF.prototype,"startChannelMediaRelay"),hF.prototype),sA(hF.prototype,"updateChannelMediaRelay",[tF],Object.getOwnPropertyDescriptor(hF.prototype,"updateChannelMediaRelay"),hF.prototype),sA(hF.prototype,"stopChannelMediaRelay",[nF],Object.getOwnPropertyDescriptor(hF.prototype,"stopChannelMediaRelay"),hF.prototype),sA(hF.prototype,"sendCustomReportMessage",[rF],Object.getOwnPropertyDescriptor(hF.prototype,"sendCustomReportMessage"),hF.prototype),sA(hF.prototype,"pickSVCLayer",[oF],Object.getOwnPropertyDescriptor(hF.prototype,"pickSVCLayer"),hF.prototype),sA(hF.prototype,"setRTMConfig",[iF],Object.getOwnPropertyDescriptor(hF.prototype,"setRTMConfig"),hF.prototype),sA(hF.prototype,"enableContentInspect",[aF],Object.getOwnPropertyDescriptor(hF.prototype,"enableContentInspect"),hF.prototype),sA(hF.prototype,"disableContentInspect",[sF],Object.getOwnPropertyDescriptor(hF.prototype,"disableContentInspect"),hF.prototype),sA(hF.prototype,"setImageModeration",[cF],Object.getOwnPropertyDescriptor(hF.prototype,"setImageModeration"),hF.prototype),sA(hF.prototype,"setP2PTransport",[lF],Object.getOwnPropertyDescriptor(hF.prototype,"setP2PTransport"),hF.prototype),sA(hF.prototype,"getJoinChannelServiceRecords",[uF],Object.getOwnPropertyDescriptor(hF.prototype,"getJoinChannelServiceRecords"),hF.prototype),sA(hF.prototype,"setPublishAudioFilterEnabled",[dF],Object.getOwnPropertyDescriptor(hF.prototype,"setPublishAudioFilterEnabled"),hF.prototype),hF);class gF{constructor(e,t){OE(this,"id",0),OE(this,"element",void 0),OE(this,"peerPair",void 0),OE(this,"context",void 0),OE(this,"audioPlayerElement",void 0),OE(this,"audioTrack",void 0),gF.count+=1,this.id=gF.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement("audio");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const n="offer"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(n),"complete"===e.iceGatheringState?e.localDescription:new Uh((t=>{e.onicegatheringstatechange=()=>{"complete"===e.iceGatheringState&&t(e.localDescription)}}))},t=async(e,t)=>await e.setRemoteDescription(t);try{const n=await e(this.peerPair[0],"offer");await t(this.peerPair[1],n);const r=await e(this.peerPair[1],"answer");await t(this.peerPair[0],r)}catch(n){throw new pI(lC.LOCAL_AEC_ERROR,n.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(e).connect(t)}catch(r){throw new pI(lC.LOCAL_AEC_ERROR,r.toString()).print()}if(!t)throw new pI(lC.LOCAL_AEC_ERROR,"no dest node when local aec").print();const n=t.stream.getAudioTracks()[0];return this.audioTrack=n,n}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){oI.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e=>{e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}var vF,yF;OE(gF,"count",0);const _F=window.AudioContext||window.webkitAudioContext,EF=new(vF=dI({report:hI}),sA((yF=class{constructor(){OE(this,"units",[]),OE(this,"context",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return oI.debug("the system does not need to process local aec"),-1;this.context||(this.context=new _F);let t=this.units.find((t=>t&&t.getElement()===e));return t||(t=new gF(e,this.context),this.units.push(t)),t.startEchoCancellation(),oI.debug("start processing local audio echo cancellation, id is",t.id),t.id}_doesEnvironmentNeedAEC(){return Dw().name!==Aw.SAFARI}}).prototype,"processExternalMediaAEC",[vF],Object.getOwnPropertyDescriptor(yF.prototype,"processExternalMediaAEC"),yF.prototype),yF);function bF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bF(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const SF=window||document;function wF(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!SF)return;const n=zq._cspEventHandlerPointer;if(n&&t)return;const r=e=>{if(!(e&&e.blockedURI&&(zq.onSecurityPolicyViolation||zq.getListeners(iO.SECURITY_POLICY_VIOLATION).length>0)))return;const t=e.blockedURI;jR("CSP_DETECTED_HOSTNAME_LIST").some((e=>Or(t).call(t,e)))&&(zq.onSecurityPolicyViolation&&"function"==typeof zq.onSecurityPolicyViolation&&zq.onSecurityPolicyViolation(e),zq.getListeners(iO.SECURITY_POLICY_VIOLATION).length>0&&zq.safeEmit(iO.SECURITY_POLICY_VIOLATION,e))};n&&SF.removeEventListener("securitypolicyviolation",n),(t||e&&"function"==typeof e||zq.getListeners(iO.SECURITY_POLICY_VIOLATION).length>0)&&SF.addEventListener("securitypolicyviolation",r),zq._cspEventHandlerPointer=r}var CF=u,RF=dT,IF=RegExp.prototype,AF=n((function(e){return e===IF||CF(IF,e)?RF(e):e.flags}));function OF(e){let t=e.length;for(;--t>=0;)e[t]=0}const NF=256,kF=286,DF=30,xF=15,PF=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),MF=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),LF=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),UF=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jF=new Array(576);OF(jF);const VF=new Array(60);OF(VF);const BF=new Array(512);OF(BF);const zF=new Array(256);OF(zF);const FF=new Array(29);OF(FF);const HF=new Array(DF);function GF(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let WF,qF,KF;function YF(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}OF(HF);const XF=e=>e<256?BF[e]:BF[256+(e>>>7)],$F=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},JF=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,$F(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},ZF=(e,t,n)=>{JF(e,n[2*t],n[2*t+1])},QF=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},eH=(e,t,n)=>{const r=new Array(16);let o,i,a=0;for(o=1;o<=xF;o++)a=a+n[o-1]<<1,r[o]=a;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=QF(r[t]++,t))}},tH=e=>{let t;for(t=0;t<kF;t++)e.dyn_ltree[2*t]=0;for(t=0;t<DF;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},nH=e=>{e.bi_valid>8?$F(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},rH=(e,t,n,r)=>{const o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},oH=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&rH(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!rH(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},iH=(e,t,n)=>{let r,o,i,a,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,o=e.pending_buf[e.sym_buf+s++],0===r?ZF(e,o,t):(i=zF[o],ZF(e,i+NF+1,t),a=PF[i],0!==a&&(o-=FF[i],JF(e,o,a)),r--,i=XF(r),ZF(e,i,n),a=MF[i],0!==a&&(r-=HF[i],JF(e,r,a)))}while(s<e.sym_next);ZF(e,256,t)},aH=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let a,s,c,l=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<i;a++)0!==n[2*a]?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[2*c]=1,e.depth[c]=0,e.opt_len--,o&&(e.static_len-=r[2*c+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)oH(e,n,a);c=i;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],oH(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*c]=n[2*a]+n[2*s],e.depth[c]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=c,e.heap[1]=c++,oH(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,u,d,h,p,f,m=0;for(h=0;h<=xF;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<573;l++)u=e.heap[l],h=n[2*n[2*u+1]+1]+1,h>c&&(h=c,m++),n[2*u+1]=h,u>r||(e.bl_count[h]++,p=0,u>=s&&(p=a[u-s]),f=n[2*u],e.opt_len+=f*(h+p),i&&(e.static_len+=f*(o[2*u+1]+p)));if(0!==m){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(h=c;0!==h;h--)for(u=e.bl_count[h];0!==u;)d=e.heap[--l],d>r||(n[2*d+1]!==h&&(e.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),u--)}})(e,t),eH(n,l,e.bl_count)},sH=(e,t,n)=>{let r,o,i=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<c&&o===a||(s<l?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=o,0===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4))},cH=(e,t,n)=>{let r,o,i=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<c&&o===a)){if(s<l)do{ZF(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(ZF(e,o,e.bl_tree),s--),ZF(e,16,e.bl_tree),JF(e,s-3,2)):s<=10?(ZF(e,17,e.bl_tree),JF(e,s-3,3)):(ZF(e,18,e.bl_tree),JF(e,s-11,7));s=0,i=o,0===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4)}};let lH=!1;const uH=(e,t,n,r)=>{JF(e,0+(r?1:0),3),nH(e),$F(e,n),$F(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var dH=(e,t,n,r)=>{let o,i,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<NF;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),aH(e,e.l_desc),aH(e,e.d_desc),a=(e=>{let t;for(sH(e,e.dyn_ltree,e.l_desc.max_code),sH(e,e.dyn_dtree,e.d_desc.max_code),aH(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*UF[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?uH(e,t,n,r):4===e.strategy||i===o?(JF(e,2+(r?1:0),3),iH(e,jF,VF)):(JF(e,4+(r?1:0),3),((e,t,n,r)=>{let o;for(JF(e,t-257,5),JF(e,n-1,5),JF(e,r-4,4),o=0;o<r;o++)JF(e,e.bl_tree[2*UF[o]+1],3);cH(e,e.dyn_ltree,t-1),cH(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),iH(e,e.dyn_ltree,e.dyn_dtree)),tH(e),r&&nH(e)},hH={_tr_init:e=>{lH||((()=>{let e,t,n,r,o;const i=new Array(16);for(n=0,r=0;r<28;r++)for(FF[r]=n,e=0;e<1<<PF[r];e++)zF[n++]=r;for(zF[n-1]=r,o=0,r=0;r<16;r++)for(HF[r]=o,e=0;e<1<<MF[r];e++)BF[o++]=r;for(o>>=7;r<DF;r++)for(HF[r]=o<<7,e=0;e<1<<MF[r]-7;e++)BF[256+o++]=r;for(t=0;t<=xF;t++)i[t]=0;for(e=0;e<=143;)jF[2*e+1]=8,e++,i[8]++;for(;e<=255;)jF[2*e+1]=9,e++,i[9]++;for(;e<=279;)jF[2*e+1]=7,e++,i[7]++;for(;e<=287;)jF[2*e+1]=8,e++,i[8]++;for(eH(jF,287,i),e=0;e<DF;e++)VF[2*e+1]=5,VF[2*e]=QF(e,5);WF=new GF(jF,PF,257,kF,xF),qF=new GF(VF,MF,0,DF,xF),KF=new GF(new Array(0),LF,0,19,7)})(),lH=!0),e.l_desc=new YF(e.dyn_ltree,WF),e.d_desc=new YF(e.dyn_dtree,qF),e.bl_desc=new YF(e.bl_tree,KF),e.bi_buf=0,e.bi_valid=0,tH(e)},_tr_stored_block:uH,_tr_flush_block:dH,_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(zF[n]+NF+1)]++,e.dyn_dtree[2*XF(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{var t;JF(e,2,3),ZF(e,256,jF),16===(t=e).bi_valid?($F(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},pH=(e,t,n,r)=>{let o=65535&e,i=e>>>16&65535,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{o=o+t[r++]|0,i=i+o|0}while(--a);o%=65521,i%=65521}return o|i<<16};const fH=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var mH=(e,t,n,r)=>{const o=fH,i=r+n;e^=-1;for(let a=r;a<i;a++)e=e>>>8^o[255&(e^t[a])];return~e},gH={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vH={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:yH,_tr_stored_block:_H,_tr_flush_block:EH,_tr_tally:bH,_tr_align:TH}=hH,{Z_NO_FLUSH:SH,Z_PARTIAL_FLUSH:wH,Z_FULL_FLUSH:CH,Z_FINISH:RH,Z_BLOCK:IH,Z_OK:AH,Z_STREAM_END:OH,Z_STREAM_ERROR:NH,Z_DATA_ERROR:kH,Z_BUF_ERROR:DH,Z_DEFAULT_COMPRESSION:xH,Z_FILTERED:PH,Z_HUFFMAN_ONLY:MH,Z_RLE:LH,Z_FIXED:UH,Z_DEFAULT_STRATEGY:jH,Z_UNKNOWN:VH,Z_DEFLATED:BH}=vH,zH=286,FH=30,HH=19,GH=2*zH+1,WH=15,qH=258,KH=262,YH=42,XH=113,$H=666,JH=(e,t)=>(e.msg=gH[t],t),ZH=e=>2*e-(e>4?9:0),QH=e=>{let t=e.length;for(;--t>=0;)e[t]=0},eG=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=o?n-o:0}while(--t);t=o,r=t;do{n=e.prev[--r],e.prev[r]=n>=o?n-o:0}while(--t)};let tG=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const nG=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},rG=(e,t)=>{EH(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,nG(e.strm)},oG=(e,t)=>{e.pending_buf[e.pending++]=t},iG=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},aG=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),1===e.state.wrap?e.adler=pH(e.adler,t,o,n):2===e.state.wrap&&(e.adler=mH(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},sG=(e,t)=>{let n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-KH?e.strstart-(e.w_size-KH):0,l=e.window,u=e.w_mask,d=e.prev,h=e.strstart+qH;let p=l[i+a-1],f=l[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,l[n+a]===f&&l[n+a-1]===p&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do{}while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<h);if(r=qH-(h-i),i=h-qH,r>a){if(e.match_start=t,a=r,r>=s)break;p=l[i+a-1],f=l[i+a]}}}while((t=d[t&u])>c&&0!=--o);return a<=e.lookahead?a:e.lookahead},cG=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-KH)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),eG(e),r+=t),0===e.strm.avail_in)break;if(n=aG(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=tG(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=tG(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<KH&&0!==e.strm.avail_in)},lG=(e,t)=>{let n,r,o,i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(n=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o)break;if(o=e.strm.avail_out-o,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>o&&(n=o),n<i&&(0===n&&t!==RH||t===SH||n!==r+e.strm.avail_in))break;a=t===RH&&n===r+e.strm.avail_in?1:0,_H(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,nG(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(aG(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==SH&&t!==RH&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(aG(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,i=o>e.w_size?e.w_size:o,r=e.strstart-e.block_start,(r>=i||(r||t===RH)&&t!==SH&&0===e.strm.avail_in&&r<=o)&&(n=r>o?o:r,a=t===RH&&0===e.strm.avail_in&&n===r?1:0,_H(e,e.block_start,n,a),e.block_start+=n,nG(e.strm)),a?3:1)},uG=(e,t)=>{let n,r;for(;;){if(e.lookahead<KH){if(cG(e),e.lookahead<KH&&t===SH)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=tG(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-KH&&(e.match_length=sG(e,n)),e.match_length>=3)if(r=bH(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=tG(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=tG(e,e.ins_h,e.window[e.strstart+1]);else r=bH(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(rG(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===RH?(rG(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rG(e,!1),0===e.strm.avail_out)?1:2},dG=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<KH){if(cG(e),e.lookahead<KH&&t===SH)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=tG(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-KH&&(e.match_length=sG(e,n),e.match_length<=5&&(e.strategy===PH||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,r=bH(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=tG(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(rG(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=bH(e,0,e.window[e.strstart-1]),r&&rG(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=bH(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===RH?(rG(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rG(e,!1),0===e.strm.avail_out)?1:2};function hG(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const pG=[new hG(0,0,0,0,lG),new hG(4,4,8,4,uG),new hG(4,5,16,8,uG),new hG(4,6,32,32,uG),new hG(4,4,16,16,dG),new hG(8,16,32,32,dG),new hG(8,16,128,128,dG),new hG(8,32,128,256,dG),new hG(32,128,258,1024,dG),new hG(32,258,258,4096,dG)];function fG(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=BH,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*GH),this.dyn_dtree=new Uint16Array(2*(2*FH+1)),this.bl_tree=new Uint16Array(2*(2*HH+1)),QH(this.dyn_ltree),QH(this.dyn_dtree),QH(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(WH+1),this.heap=new Uint16Array(2*zH+1),QH(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*zH+1),QH(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const mG=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==YH&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==XH&&t.status!==$H?1:0},gG=e=>{if(mG(e))return JH(e,NH);e.total_in=e.total_out=0,e.data_type=VH;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?YH:XH,e.adler=2===t.wrap?0:1,t.last_flush=-2,yH(t),AH},vG=e=>{const t=gG(e);return t===AH&&((n=e.state).window_size=2*n.w_size,QH(n.head),n.max_lazy_match=pG[n.level].max_lazy,n.good_match=pG[n.level].good_length,n.nice_match=pG[n.level].nice_length,n.max_chain_length=pG[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t;var n},yG=(e,t,n,r,o,i)=>{if(!e)return NH;let a=1;if(t===xH&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||n!==BH||r<8||r>15||t<0||t>9||i<0||i>UH||8===r&&1!==a)return JH(e,NH);8===r&&(r=9);const s=new fG;return e.state=s,s.strm=e,s.status=YH,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=i,s.method=n,vG(e)};var _G={deflateInit:(e,t)=>yG(e,t,BH,15,8,jH),deflateInit2:yG,deflateReset:vG,deflateResetKeep:gG,deflateSetHeader:(e,t)=>mG(e)||2!==e.state.wrap?NH:(e.state.gzhead=t,AH),deflate:(e,t)=>{if(mG(e)||t>IH||t<0)return e?JH(e,NH):NH;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===$H&&t!==RH)return JH(e,0===e.avail_out?DH:NH);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(nG(e),0===e.avail_out)return n.last_flush=-1,AH}else if(0===e.avail_in&&ZH(t)<=ZH(r)&&t!==RH)return JH(e,DH);if(n.status===$H&&0!==e.avail_in)return JH(e,DH);if(n.status===YH&&0===n.wrap&&(n.status=XH),n.status===YH){let t=BH+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=MH||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,iG(n,t),0!==n.strstart&&(iG(n,e.adler>>>16),iG(n,65535&e.adler)),e.adler=1,n.status=XH,nG(e),0!==n.pending)return n.last_flush=-1,AH}if(57===n.status)if(e.adler=0,oG(n,31),oG(n,139),oG(n,8),n.gzhead)oG(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),oG(n,255&n.gzhead.time),oG(n,n.gzhead.time>>8&255),oG(n,n.gzhead.time>>16&255),oG(n,n.gzhead.time>>24&255),oG(n,9===n.level?2:n.strategy>=MH||n.level<2?4:0),oG(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(oG(n,255&n.gzhead.extra.length),oG(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=mH(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(oG(n,0),oG(n,0),oG(n,0),oG(n,0),oG(n,0),oG(n,9===n.level?2:n.strategy>=MH||n.level<2?4:0),oG(n,3),n.status=XH,nG(e),0!==n.pending)return n.last_flush=-1,AH;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=mH(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=o,nG(e),0!==n.pending)return n.last_flush=-1,AH;t=0,r-=o}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=mH(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=mH(e.adler,n.pending_buf,n.pending-r,r)),nG(e),0!==n.pending)return n.last_flush=-1,AH;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,oG(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=mH(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=mH(e.adler,n.pending_buf,n.pending-r,r)),nG(e),0!==n.pending)return n.last_flush=-1,AH;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,oG(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=mH(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(nG(e),0!==n.pending))return n.last_flush=-1,AH;oG(n,255&e.adler),oG(n,e.adler>>8&255),e.adler=0}if(n.status=XH,nG(e),0!==n.pending)return n.last_flush=-1,AH}if(0!==e.avail_in||0!==n.lookahead||t!==SH&&n.status!==$H){let r=0===n.level?lG(n,t):n.strategy===MH?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(cG(e),0===e.lookahead)){if(t===SH)return 1;break}if(e.match_length=0,n=bH(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(rG(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===RH?(rG(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rG(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===LH?((e,t)=>{let n,r,o,i;const a=e.window;for(;;){if(e.lookahead<=qH){if(cG(e),e.lookahead<=qH&&t===SH)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(o=e.strstart-1,r=a[o],r===a[++o]&&r===a[++o]&&r===a[++o])){i=e.strstart+qH;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);e.match_length=qH-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=bH(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=bH(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(rG(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===RH?(rG(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rG(e,!1),0===e.strm.avail_out)?1:2})(n,t):pG[n.level].func(n,t);if(3!==r&&4!==r||(n.status=$H),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),AH;if(2===r&&(t===wH?TH(n):t!==IH&&(_H(n,0,0,!1),t===CH&&(QH(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),nG(e),0===e.avail_out))return n.last_flush=-1,AH}return t!==RH?AH:n.wrap<=0?OH:(2===n.wrap?(oG(n,255&e.adler),oG(n,e.adler>>8&255),oG(n,e.adler>>16&255),oG(n,e.adler>>24&255),oG(n,255&e.total_in),oG(n,e.total_in>>8&255),oG(n,e.total_in>>16&255),oG(n,e.total_in>>24&255)):(iG(n,e.adler>>>16),iG(n,65535&e.adler)),nG(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?AH:OH)},deflateEnd:e=>{if(mG(e))return NH;const t=e.state.status;return e.state=null,t===XH?JH(e,kH):AH},deflateSetDictionary:(e,t)=>{let n=t.length;if(mG(e))return NH;const r=e.state,o=r.wrap;if(2===o||1===o&&r.status!==YH||r.lookahead)return NH;if(1===o&&(e.adler=pH(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===o&&(QH(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const i=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,cG(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=tG(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,cG(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=i,r.wrap=o,AH},deflateInfo:"pako deflate (from Nodeca project)"};const EG=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var bG={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)EG(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let t=e[r];n.set(t,o),o+=t.length}return n}};let TG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(vp){TG=!1}const SG=new Uint8Array(256);for(let oO=0;oO<256;oO++)SG[oO]=oO>=252?6:oO>=248?5:oO>=240?4:oO>=224?3:oO>=192?2:1;SG[254]=SG[254]=1;var wG={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,o,i,a=e.length,s=0;for(o=0;o<a;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<a&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),i=0,o=0;i<s;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<a&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,o;const i=new Array(2*n);for(o=0,r=0;r<n;){let t=e[r++];if(t<128){i[o++]=t;continue}let a=SG[t];if(a>4)i[o++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?i[o++]=65533:t<65536?i[o++]=t:(t-=65536,i[o++]=55296|t>>10&1023,i[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&TG)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,o)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+SG[e[n]]>t?n:t}},CG=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const RG=Object.prototype.toString,{Z_NO_FLUSH:IG,Z_SYNC_FLUSH:AG,Z_FULL_FLUSH:OG,Z_FINISH:NG,Z_OK:kG,Z_STREAM_END:DG,Z_DEFAULT_COMPRESSION:xG,Z_DEFAULT_STRATEGY:PG,Z_DEFLATED:MG}=vH;function LG(e){this.options=bG.assign({level:xG,method:MG,chunkSize:16384,windowBits:15,memLevel:8,strategy:PG},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CG,this.strm.avail_out=0;let n=_G.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==kG)throw new Error(gH[n]);if(t.header&&_G.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?wG.string2buf(t.dictionary):"[object ArrayBuffer]"===RG.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=_G.deflateSetDictionary(this.strm,e),n!==kG)throw new Error(gH[n]);this._dict_set=!0}}function UG(e,t){const n=new LG(t);if(n.push(e,!0),n.err)throw n.msg||gH[n.err];return n.result}LG.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?NG:IG,"string"==typeof e?n.input=wG.string2buf(e):"[object ArrayBuffer]"===RG.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===AG||i===OG)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(o=_G.deflate(n,i),o===DG)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=_G.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===kG;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},LG.prototype.onData=function(e){this.chunks.push(e)},LG.prototype.onEnd=function(e){e===kG&&(this.result=bG.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var jG={Deflate:LG,deflate:UG,deflateRaw:function(e,t){return(t=t||{}).raw=!0,UG(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,UG(e,t)},constants:vH};const VG=16209;var BG=function(e,t){let n,r,o,i,a,s,c,l,u,d,h,p,f,m,g,v,y,_,E,b,T,S,w,C;const R=e.state;n=e.next_in,w=e.input,r=n+(e.avail_in-5),o=e.next_out,C=e.output,i=o-(t-e.avail_out),a=o+(e.avail_out-257),s=R.dmax,c=R.wsize,l=R.whave,u=R.wnext,d=R.window,h=R.hold,p=R.bits,f=R.lencode,m=R.distcode,g=(1<<R.lenbits)-1,v=(1<<R.distbits)-1;e:do{p<15&&(h+=w[n++]<<p,p+=8,h+=w[n++]<<p,p+=8),y=f[h&g];t:for(;;){if(_=y>>>24,h>>>=_,p-=_,_=y>>>16&255,0===_)C[o++]=65535&y;else{if(!(16&_)){if(!(64&_)){y=f[(65535&y)+(h&(1<<_)-1)];continue t}if(32&_){R.mode=16191;break e}e.msg="invalid literal/length code",R.mode=VG;break e}E=65535&y,_&=15,_&&(p<_&&(h+=w[n++]<<p,p+=8),E+=h&(1<<_)-1,h>>>=_,p-=_),p<15&&(h+=w[n++]<<p,p+=8,h+=w[n++]<<p,p+=8),y=m[h&v];n:for(;;){if(_=y>>>24,h>>>=_,p-=_,_=y>>>16&255,!(16&_)){if(!(64&_)){y=m[(65535&y)+(h&(1<<_)-1)];continue n}e.msg="invalid distance code",R.mode=VG;break e}if(b=65535&y,_&=15,p<_&&(h+=w[n++]<<p,p+=8,p<_&&(h+=w[n++]<<p,p+=8)),b+=h&(1<<_)-1,b>s){e.msg="invalid distance too far back",R.mode=VG;break e}if(h>>>=_,p-=_,_=o-i,b>_){if(_=b-_,_>l&&R.sane){e.msg="invalid distance too far back",R.mode=VG;break e}if(T=0,S=d,0===u){if(T+=c-_,_<E){E-=_;do{C[o++]=d[T++]}while(--_);T=o-b,S=C}}else if(u<_){if(T+=c+u-_,_-=u,_<E){E-=_;do{C[o++]=d[T++]}while(--_);if(T=0,u<E){_=u,E-=_;do{C[o++]=d[T++]}while(--_);T=o-b,S=C}}}else if(T+=u-_,_<E){E-=_;do{C[o++]=d[T++]}while(--_);T=o-b,S=C}for(;E>2;)C[o++]=S[T++],C[o++]=S[T++],C[o++]=S[T++],E-=3;E&&(C[o++]=S[T++],E>1&&(C[o++]=S[T++]))}else{T=o-b;do{C[o++]=C[T++],C[o++]=C[T++],C[o++]=C[T++],E-=3}while(E>2);E&&(C[o++]=C[T++],E>1&&(C[o++]=C[T++]))}break}}break}}while(n<r&&o<a);E=p>>3,n-=E,p-=E<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<a?a-o+257:257-(o-a),R.hold=h,R.bits=p};const zG=15,FG=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),HG=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),GG=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),WG=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var qG=(e,t,n,r,o,i,a,s)=>{const c=s.bits;let l,u,d,h,p,f,m=0,g=0,v=0,y=0,_=0,E=0,b=0,T=0,S=0,w=0,C=null;const R=new Uint16Array(16),I=new Uint16Array(16);let A,O,N,k=null;for(m=0;m<=zG;m++)R[m]=0;for(g=0;g<r;g++)R[t[n+g]]++;for(_=c,y=zG;y>=1&&0===R[y];y--);if(_>y&&(_=y),0===y)return o[i++]=20971520,o[i++]=20971520,s.bits=1,0;for(v=1;v<y&&0===R[v];v++);for(_<v&&(_=v),T=1,m=1;m<=zG;m++)if(T<<=1,T-=R[m],T<0)return-1;if(T>0&&(0===e||1!==y))return-1;for(I[1]=0,m=1;m<zG;m++)I[m+1]=I[m]+R[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[I[t[n+g]]++]=g);if(0===e?(C=k=a,f=20):1===e?(C=FG,k=HG,f=257):(C=GG,k=WG,f=0),w=0,g=0,m=v,p=i,E=_,b=0,d=-1,S=1<<_,h=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){A=m-b,a[g]+1<f?(O=0,N=a[g]):a[g]>=f?(O=k[a[g]-f],N=C[a[g]-f]):(O=96,N=0),l=1<<m-b,u=1<<E,v=u;do{u-=l,o[p+(w>>b)+u]=A<<24|O<<16|N}while(0!==u);for(l=1<<m-1;w&l;)l>>=1;if(0!==l?(w&=l-1,w+=l):w=0,g++,0==--R[m]){if(m===y)break;m=t[n+a[g]]}if(m>_&&(w&h)!==d){for(0===b&&(b=_),p+=v,E=m-b,T=1<<E;E+b<y&&(T-=R[E+b],!(T<=0));)E++,T<<=1;if(S+=1<<E,1===e&&S>852||2===e&&S>592)return 1;d=w&h,o[d]=_<<24|E<<16|p-i}}return 0!==w&&(o[p+w]=m-b<<24|64<<16),s.bits=_,0};const{Z_FINISH:KG,Z_BLOCK:YG,Z_TREES:XG,Z_OK:$G,Z_STREAM_END:JG,Z_NEED_DICT:ZG,Z_STREAM_ERROR:QG,Z_DATA_ERROR:eW,Z_MEM_ERROR:tW,Z_BUF_ERROR:nW,Z_DEFLATED:rW}=vH,oW=16180,iW=16190,aW=16191,sW=16192,cW=16194,lW=16199,uW=16200,dW=16206,hW=16209,pW=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function fW(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const mW=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<oW||t.mode>16211?1:0},gW=e=>{if(mW(e))return QG;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=oW,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,$G},vW=e=>{if(mW(e))return QG;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,gW(e)},yW=(e,t)=>{let n;if(mW(e))return QG;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?QG:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,vW(e))},_W=(e,t)=>{if(!e)return QG;const n=new fW;e.state=n,n.strm=e,n.window=null,n.mode=oW;const r=yW(e,t);return r!==$G&&(e.state=null),r};let EW,bW,TW=!0;const SW=e=>{if(TW){EW=new Int32Array(512),bW=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(qG(1,e.lens,0,288,EW,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;qG(2,e.lens,0,32,bW,0,e.work,{bits:5}),TW=!1}e.lencode=EW,e.lenbits=9,e.distcode=bW,e.distbits=5},wW=(e,t,n,r)=>{let o;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),(r-=o)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};var CW={inflateReset:vW,inflateReset2:yW,inflateResetKeep:gW,inflateInit:e=>_W(e,15),inflateInit2:_W,inflate:(e,t)=>{let n,r,o,i,a,s,c,l,u,d,h,p,f,m,g,v,y,_,E,b,T,S,w=0;const C=new Uint8Array(4);let R,I;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(mW(e)||!e.output||!e.input&&0!==e.avail_in)return QG;n=e.state,n.mode===aW&&(n.mode=sW),a=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,l=n.hold,u=n.bits,d=s,h=c,S=$G;e:for(;;)switch(n.mode){case oW:if(0===n.wrap){n.mode=sW;break}for(;u<16;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,C[0]=255&l,C[1]=l>>>8&255,n.check=mH(n.check,C,2,0),l=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=hW;break}if((15&l)!==rW){e.msg="unknown compression method",n.mode=hW;break}if(l>>>=4,u-=4,T=8+(15&l),0===n.wbits&&(n.wbits=T),T>15||T>n.wbits){e.msg="invalid window size",n.mode=hW;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&l?16189:aW,l=0,u=0;break;case 16181:for(;u<16;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(n.flags=l,(255&AF(n))!==rW){e.msg="unknown compression method",n.mode=hW;break}if(57344&AF(n)){e.msg="unknown header flags set",n.mode=hW;break}n.head&&(n.head.text=l>>8&1),512&AF(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=mH(n.check,C,2,0)),l=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.head&&(n.head.time=l),512&AF(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,C[2]=l>>>16&255,C[3]=l>>>24&255,n.check=mH(n.check,C,4,0)),l=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&AF(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=mH(n.check,C,2,0)),l=0,u=0,n.mode=16184;case 16184:if(1024&AF(n)){for(;u<16;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),512&AF(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=mH(n.check,C,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&AF(n)&&(p=n.length,p>s&&(p=s),p&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),T)),512&AF(n)&&4&n.wrap&&(n.check=mH(n.check,r,p,i)),s-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&AF(n)){if(0===s)break e;p=0;do{T=r[i+p++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T))}while(T&&p<s);if(512&AF(n)&&4&n.wrap&&(n.check=mH(n.check,r,p,i)),s-=p,i+=p,T)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&AF(n)){if(0===s)break e;p=0;do{T=r[i+p++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T))}while(T&&p<s);if(512&AF(n)&&4&n.wrap&&(n.check=mH(n.check,r,p,i)),s-=p,i+=p,T)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&AF(n)){for(;u<16;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(4&n.wrap&&l!==(65535&n.check)){e.msg="header crc mismatch",n.mode=hW;break}l=0,u=0}n.head&&(n.head.hcrc=AF(n)>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=aW;break;case 16189:for(;u<32;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}e.adler=n.check=pW(l),l=0,u=0,n.mode=iW;case iW:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,n.hold=l,n.bits=u,ZG;e.adler=n.check=1,n.mode=aW;case aW:if(t===YG||t===XG)break e;case sW:if(n.last){l>>>=7&u,u-=7&u,n.mode=dW;break}for(;u<3;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}switch(n.last=1&l,l>>>=1,u-=1,3&l){case 0:n.mode=16193;break;case 1:if(SW(n),n.mode=lW,t===XG){l>>>=2,u-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=hW}l>>>=2,u-=2;break;case 16193:for(l>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=hW;break}if(n.length=65535&l,l=0,u=0,n.mode=cW,t===XG)break e;case cW:n.mode=16195;case 16195:if(p=n.length,p){if(p>s&&(p=s),p>c&&(p=c),0===p)break e;o.set(r.subarray(i,i+p),a),s-=p,i+=p,c-=p,a+=p,n.length-=p;break}n.mode=aW;break;case 16196:for(;u<14;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(n.nlen=257+(31&l),l>>>=5,u-=5,n.ndist=1+(31&l),l>>>=5,u-=5,n.ncode=4+(15&l),l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=hW;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.lens[A[n.have++]]=7&l,l>>>=3,u-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},S=qG(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,S){e.msg="invalid code lengths set",n.mode=hW;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[l&(1<<n.lenbits)-1],g=w>>>24,v=w>>>16&255,y=65535&w,!(g<=u);){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(y<16)l>>>=g,u-=g,n.lens[n.have++]=y;else{if(16===y){for(I=g+2;u<I;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(l>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=hW;break}T=n.lens[n.have-1],p=3+(3&l),l>>>=2,u-=2}else if(17===y){for(I=g+3;u<I;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}l>>>=g,u-=g,T=0,p=3+(7&l),l>>>=3,u-=3}else{for(I=g+7;u<I;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}l>>>=g,u-=g,T=0,p=11+(127&l),l>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=hW;break}for(;p--;)n.lens[n.have++]=T}}if(n.mode===hW)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=hW;break}if(n.lenbits=9,R={bits:n.lenbits},S=qG(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,S){e.msg="invalid literal/lengths set",n.mode=hW;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},S=qG(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,S){e.msg="invalid distances set",n.mode=hW;break}if(n.mode=lW,t===XG)break e;case lW:n.mode=uW;case uW:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,n.hold=l,n.bits=u,BG(e,h),a=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,l=n.hold,u=n.bits,n.mode===aW&&(n.back=-1);break}for(n.back=0;w=n.lencode[l&(1<<n.lenbits)-1],g=w>>>24,v=w>>>16&255,y=65535&w,!(g<=u);){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(v&&!(240&v)){for(_=g,E=v,b=y;w=n.lencode[b+((l&(1<<_+E)-1)>>_)],g=w>>>24,v=w>>>16&255,y=65535&w,!(_+g<=u);){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}l>>>=_,u-=_,n.back+=_}if(l>>>=g,u-=g,n.back+=g,n.length=y,0===v){n.mode=16205;break}if(32&v){n.back=-1,n.mode=aW;break}if(64&v){e.msg="invalid literal/length code",n.mode=hW;break}n.extra=15&v,n.mode=16201;case 16201:if(n.extra){for(I=n.extra;u<I;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;w=n.distcode[l&(1<<n.distbits)-1],g=w>>>24,v=w>>>16&255,y=65535&w,!(g<=u);){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(!(240&v)){for(_=g,E=v,b=y;w=n.distcode[b+((l&(1<<_+E)-1)>>_)],g=w>>>24,v=w>>>16&255,y=65535&w,!(_+g<=u);){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}l>>>=_,u-=_,n.back+=_}if(l>>>=g,u-=g,n.back+=g,64&v){e.msg="invalid distance code",n.mode=hW;break}n.offset=y,n.extra=15&v,n.mode=16203;case 16203:if(n.extra){for(I=n.extra;u<I;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=hW;break}n.mode=16204;case 16204:if(0===c)break e;if(p=h-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=hW;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=o,f=a-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do{o[a++]=m[f++]}while(--p);0===n.length&&(n.mode=uW);break;case 16205:if(0===c)break e;o[a++]=n.length,c--,n.mode=uW;break;case dW:if(n.wrap){for(;u<32;){if(0===s)break e;s--,l|=r[i++]<<u,u+=8}if(h-=c,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=AF(n)?mH(n.check,o,h,a-h):pH(n.check,o,h,a-h)),h=c,4&n.wrap&&(AF(n)?l:pW(l))!==n.check){e.msg="incorrect data check",n.mode=hW;break}l=0,u=0}n.mode=16207;case 16207:if(n.wrap&&AF(n)){for(;u<32;){if(0===s)break e;s--,l+=r[i++]<<u,u+=8}if(4&n.wrap&&l!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=hW;break}l=0,u=0}n.mode=16208;case 16208:S=JG;break e;case hW:S=eW;break e;case 16210:return tW;default:return QG}return e.next_out=a,e.avail_out=c,e.next_in=i,e.avail_in=s,n.hold=l,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<hW&&(n.mode<dW||t!==KG))&&wW(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=AF(n)?mH(n.check,o,h,e.next_out-h):pH(n.check,o,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===aW?128:0)+(n.mode===lW||n.mode===cW?256:0),(0===d&&0===h||t===KG)&&S===$G&&(S=nW),S},inflateEnd:e=>{if(mW(e))return QG;let t=e.state;return t.window&&(t.window=null),e.state=null,$G},inflateGetHeader:(e,t)=>{if(mW(e))return QG;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,$G):QG},inflateSetDictionary:(e,t)=>{const n=t.length;let r,o,i;return mW(e)?QG:(r=e.state,0!==r.wrap&&r.mode!==iW?QG:r.mode===iW&&(o=1,o=pH(o,t,n,0),o!==r.check)?eW:(i=wW(e,t,n,n),i?(r.mode=16210,tW):(r.havedict=1,$G)))},inflateInfo:"pako inflate (from Nodeca project)"},RW=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const IW=Object.prototype.toString,{Z_NO_FLUSH:AW,Z_FINISH:OW,Z_OK:NW,Z_STREAM_END:kW,Z_NEED_DICT:DW,Z_STREAM_ERROR:xW,Z_DATA_ERROR:PW,Z_MEM_ERROR:MW}=vH;function LW(e){this.options=bG.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CG,this.strm.avail_out=0;let n=CW.inflateInit2(this.strm,t.windowBits);if(n!==NW)throw new Error(gH[n]);if(this.header=new RW,CW.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=wG.string2buf(t.dictionary):"[object ArrayBuffer]"===IW.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=CW.inflateSetDictionary(this.strm,t.dictionary),n!==NW)))throw new Error(gH[n])}function UW(e,t){const n=new LW(t);if(n.push(e),n.err)throw n.msg||gH[n.err];return n.result}LW.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?OW:AW,"[object ArrayBuffer]"===IW.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=CW.inflate(n,a),i===DW&&o&&(i=CW.inflateSetDictionary(n,o),i===NW?i=CW.inflate(n,a):i===PW&&(i=DW));n.avail_in>0&&i===kW&&n.state.wrap>0&&0!==e[n.next_in];)CW.inflateReset(n),i=CW.inflate(n,a);switch(i){case xW:case PW:case DW:case MW:return this.onEnd(i),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||i===kW))if("string"===this.options.to){let e=wG.utf8border(n.output,n.next_out),t=n.next_out-e,o=wG.buf2string(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(o)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==NW||0!==s){if(i===kW)return i=CW.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},LW.prototype.onData=function(e){this.chunks.push(e)},LW.prototype.onEnd=function(e){e===NW&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=bG.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var jW={Inflate:LW,inflate:UW,inflateRaw:function(e,t){return(t=t||{}).raw=!0,UW(e,t)},ungzip:UW,constants:vH};const{Deflate:VW,deflate:BW,deflateRaw:zW,gzip:FW}=jG,{Inflate:HW,inflate:GW,inflateRaw:WW,ungzip:qW}=jW;var KW=BW,YW=GW,XW=function(e){return e[e.ONE_BYTE=0]="ONE_BYTE",e[e.TWO_BYTE=1]="TWO_BYTE",e}(XW||{});class $W{constructor(){OE(this,"_sequence",0),OE(this,"_startTime",Date.now()),OE(this,"isUseOneByte",!0)}get startTime(){const e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(e){const t={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e};if(e.byteLength>128){const n=new Uint8Array(4);n.set([1,0,0,0]);const r={id:0,length:4,data:n.buffer},o={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[r]};t.commonPacketHeader.extension=1,t.extension=o,t.payload=this.compress(e),t.commonPacketHeader.length=8+(t.extension.length+2)+t.payload.byteLength}else t.commonPacketHeader.length=8+t.payload.byteLength;jR("SHOW_DATASTREAM2_LOG")&&oI.debug("send data header: ".concat(JSON.stringify(t.commonPacketHeader)));const n=new ArrayBuffer(t.commonPacketHeader.length),r=new Uint8Array(n),o=new DataView(n);let i=0;if(o.setUint16(i,t.commonPacketHeader.extension<<15|t.commonPacketHeader.reserved<<14|t.commonPacketHeader.length,!0),i+=2,o.setUint32(i,t.commonPacketHeader.sequence,!0),i+=4,o.setUint16(i,t.commonStreamHeader,!0),i+=2,t.extension){const e=this.serializeExtension(t.extension);r.set(new Uint8Array(e),i),i+=e.byteLength}if(r.set(new Uint8Array(t.payload),i),i+=t.payload.byteLength,i!==t.commonPacketHeader.length)throw Error("serialize error!");return n}deserialize(e){if(e.byteLength<4)return new ArrayBuffer(0);const t=new DataView(e);let n=0;const r=t.getUint16(n,!0);n+=2;const o={length:16383&r,reserved:(16384&r)>>14,extension:(32768&r)>>15,sequence:t.getUint16(n+2,!0)<<16|t.getUint16(n,!0)};let i,a;if(n+=4,jR("SHOW_DATASTREAM2_LOG")&&oI.debug("receive data header: ".concat(JSON.stringify(o))),t.getUint16(n,!0),n+=2,o.extension){a=this.deserializeExtension(e.slice(n)),n+=2+a.length,i=e.slice(n);let t=!1;if(a.datas.length>0){const e=a.datas.find((e=>0===e.id));e&&(t=!(1&~new DataView(e.data).getUint32(0,!0)))}i=t?this.decompress(i):i}else i=e.slice(8);return i}serializeExtension(e){const{profile:t,length:n,datas:r}=e,o=new ArrayBuffer(n+2),i=new Uint8Array(o),a=new DataView(o);let s=0;if(a.setUint8(s++,t),a.setUint8(s++,n),r.forEach((e=>{t?(a.setUint8(s++,e.id),a.setUint8(s++,e.length),i.set(new Uint8Array(e.data),s),s+=e.data.byteLength):(a.setUint8(s++,e.id|e.length<<4),i.set(new Uint8Array(e.data),s),s+=e.data.byteLength)})),s!==n+2)throw Error("serialize extension error, is ".concat(s,"!==").concat(n+2));return o}deserializeExtension(e){const t=new DataView(e);let n=0;const r=t.getUint8(n);n++;const o=t.getUint8(n);n++;const i=r===XW.TWO_BYTE,a=[],s=new DataView(e,2);let c=0;for(;c<o;){let e=0,t=0,n=new ArrayBuffer(0);i?(e=s.getUint8(c),c++,t=s.getUint8(c),c++):(e=15&s.getUint8(c),t=s.getUint8(c)>>4,c++),t>0&&(n=s.buffer.slice(c+2,c+2+t),c+=n.byteLength),a.push({id:e,length:t,data:n})}if(c!==o)throw Error("parse error");return{profile:r,length:o,datas:a}}decompress(e){return YW(new Uint8Array(e))}compress(e){return KW(new Uint8Array(e))}}const JW={name:"DataStream",create:(e,t)=>{const n=t?new pL(e):new fL(e);return n.useDataStream(new $W),n}};class ZW extends CC{constructor(e,t,n){super(),OE(this,"ws",void 0),OE(this,"requestId",1),OE(this,"heartBeatTimer",void 0),OE(this,"joinInfo",void 0),OE(this,"clientId",void 0),OE(this,"onOpen",(()=>{this.emit("open"),this.startHeartBeatCheck()})),OE(this,"onClose",(e=>{this.emit("close"),this.dispose()})),OE(this,"onMessage",(e=>{const t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit("status",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit("req_".concat(t.requestId),t)})),this.joinInfo=e,this.clientId=t,this.ws=new NO("cross-channel-".concat(this.clientId),n),this.ws.on(bA.RECONNECTING,(()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")})),this.ws.on(bA.CONNECTED,this.onOpen),this.ws.on(bA.ON_MESSAGE,this.onMessage),this.ws.on(bA.CLOSED,this.onClose)}isConnect(){return"connected"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new Uh(((t,n)=>{const r=window.setTimeout((()=>{n(new pI(lC.TIMEOUT,"wait status timeout, status: ".concat(e)))}),5e3);this.once(e,(o=>{window.clearTimeout(r),o.state&&0!==o.state?n(new pI(lC.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(e))):t(void 0)})),this.once("dispose",(()=>{window.clearTimeout(r),n(new pI(lC.WS_ABORT))}))}))}async request(e){if("closed"===this.ws.state)throw new pI(lC.WS_DISCONNECT);const t=()=>new Uh(((e,t)=>{this.ws.once(bA.CLOSED,(()=>t(new pI(lC.WS_ABORT)))),this.ws.once(bA.CONNECTED,e)}));"connected"!==this.ws.state&&await t();const n=this.sendMessage(e),r=new Uh(((e,t)=>{const r=()=>{t(new pI(lC.WS_ABORT))};this.ws.once(bA.RECONNECTING,r),this.ws.once(bA.CLOSED,r),this.once("req_".concat(n),e),iR(3e3).then((()=>{this.removeAllListeners("req_".concat(n)),this.ws.off(bA.RECONNECTING,r),this.ws.off(bA.CLOSED,r),t(new pI(lC.TIMEOUT,"cross channel ws request timeout"))}))})),o=await r;if(!o||200!==o.code)throw new pI(lC.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(o)));return o}async connect(e){this.ws.removeAllListeners(bA.REQUEST_NEW_URLS),this.ws.on(bA.REQUEST_NEW_URLS,(t=>{t(e)})),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class QW extends CC{set state(e){e!==this._state&&(e!==MA.RELAY_STATE_FAILURE&&(this.errorCode=LA.RELAY_OK),this.emit("state",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,n,r,o){super(),OE(this,"joinInfo",void 0),OE(this,"sid",void 0),OE(this,"clientId",void 0),OE(this,"cancelToken",bw.CancelToken.source()),OE(this,"workerToken",void 0),OE(this,"requestId",0),OE(this,"signal",void 0),OE(this,"prevChannelMediaConfig",void 0),OE(this,"httpRetryConfig",void 0),OE(this,"_resolution",void 0),OE(this,"_state",MA.RELAY_STATE_IDLE),OE(this,"errorCode",LA.RELAY_OK),OE(this,"onStatus",(e=>{oI.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(e))),e&&e.command&&("onAudioPacketReceived"===e.command&&this.emit("event",PA.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&this.emit("event",PA.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(this.errorCode=LA.SRC_TOKEN_EXPIRED,this.state=MA.RELAY_STATE_FAILURE),"onDestTokenPrivilegeDidExpire"===e.command&&(this.errorCode=LA.DEST_TOKEN_EXPIRED,this.state=MA.RELAY_STATE_FAILURE))})),OE(this,"onReconnect",(async()=>{oI.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",PA.NETWORK_DISCONNECTED),this.state=MA.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e=>{this.state!==MA.RELAY_STATE_IDLE&&(oI.error("auto restart channel media relay failed",e.toString()),this.errorCode=LA.SERVER_CONNECTION_LOST,this.state=MA.RELAY_STATE_FAILURE)}))})),this.joinInfo=e,this.clientId=t,this.sid=sR(),this.signal=new ZW(this.joinInfo,this.clientId,n),this.httpRetryConfig=r,this._resolution=o}async startChannelMediaRelay(e){if(this.state!==MA.RELAY_STATE_IDLE)throw new pI(lC.INVALID_OPERATION);this.state=MA.RELAY_STATE_CONNECTING,await this.connect(),oI.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(e)}catch(t){if(t.data&&t.data.serverResponse&&"SetSourceChannel"===t.data.serverResponse.command)throw new pI(lC.CROSS_CHANNEL_FAILED_JOIN_SRC);if(t.data&&t.data.serverResponse&&"SetDestChannelStatus"===t.serverResponse.command)throw new pI(lC.CROSS_CHANNEL_FAILED_JOIN_DEST);if(t.data&&t.data.serverResponse&&"StartPacketTransfer"===t.serverResponse.command)throw new pI(lC.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw t}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==MA.RELAY_STATE_RUNNING)throw new pI(lC.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async setVideoProfile(e){if(this._resolution=e,this.state!==MA.RELAY_STATE_RUNNING)throw new pI(lC.INVALID_OPERATION);const t=this.genMessage(xA.SetVideoProfile);await this.signal.request(t),oI.debug("[".concat(this.clientId,"] startChannelMediaRelay: setVideoProfile success"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),oI.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=MA.RELAY_STATE_IDLE,this.dispose()}dispose(){oI.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=bw.CancelToken.source(),this.state=MA.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await GU(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit("event",PA.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(xA.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus("Normal Quit"),oI.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const n=this.genMessage(xA.SetSdkProfile,e);await this.signal.request(n),oI.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const r=this.genMessage(xA.SetSourceChannel,e);await this.signal.request(r),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",PA.PACKET_JOINED_SRC_CHANNEL),oI.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const o=this.genMessage(xA.SetSourceUserId,e);await this.signal.request(o),oI.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const i=this.genMessage(xA.SetDestChannel,e);await this.signal.request(i),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",PA.PACKET_JOINED_DEST_CHANNEL),oI.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const a=this.genMessage(xA.StartPacketTransfer,e);await this.signal.request(a),this.emit("event",PA.PACKET_SENT_TO_DEST_CHANNEL),this.state=MA.RELAY_STATE_RUNNING,oI.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(e){const t=this.genMessage(xA.UpdateDestChannel,e);await this.signal.request(t),this.emit("event",PA.PACKET_UPDATE_DEST_CHANNEL),oI.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const e=this.genMessage(xA.StopPacketTransfer);await this.signal.request(e),oI.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(e,t){const n=[],r=[],o=[];this.requestId+=1;const i={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:NR,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.22.2"===i.sdkVersion&&(i.sdkVersion="0.0.1");let a=null,s=null;switch(e){case xA.SetSdkProfile:return i.clientRequest={command:"SetSdkProfile",type:"multi_channel"},i;case xA.SetSourceChannel:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new pI(lC.UNEXPECTED_ERROR,"can not find source config");return i.clientRequest={command:"SetSourceChannel",uid:"0",channelName:s.channelName,token:s.token||this.joinInfo.appId},i;case xA.SetSourceUserId:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new pI(lC.UNEXPECTED_ERROR,"can not find source config");return i.clientRequest={command:"SetSourceUserId",uid:s.uid+""},i;case xA.SetDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new pI(lC.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),r.push(e.uid+""),o.push(e.token||this.joinInfo.appId)})),i.clientRequest={command:"SetDestChannel",channelName:n,uid:r,token:o},i;case xA.StartPacketTransfer:return i.clientRequest={command:"StartPacketTransfer"},i;case xA.Reconnect:return i.clientRequest={command:"Reconnect"},i;case xA.StopPacketTransfer:return i.clientRequest={command:"StopPacketTransfer"},i;case xA.UpdateDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new pI(lC.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),r.push(e.uid+""),o.push(e.token||this.joinInfo.appId)})),i.clientRequest={command:"UpdateDestChannel",channelName:n,uid:r,token:o},i;case xA.SetVideoProfile:i.clientRequest={command:"SetVideoProfile",width:this._resolution.width,height:this._resolution.height}}return i}}const eq={name:"ChannelMediaRelay",create:function(e){return new QW(e.joinInfo,e.clientId,e.websocketRetryConfig||ER,e.httpRetryConfig||ER,e.resolution)}};function tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tq(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class rq extends CC{constructor(e,t,n,r){super(),OE(this,"spec",void 0),OE(this,"token",void 0),OE(this,"websocket",void 0),OE(this,"pingpongTimer",void 0),OE(this,"reconnectMode","retry"),OE(this,"serviceMode",void 0),OE(this,"reqId",0),OE(this,"commandReqId",0),OE(this,"handleWebSocketOpen",(()=>{this.reconnectMode="retry",this.startPingPong()})),OE(this,"handleWebSocketMessage",(e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit("@".concat(t.requestId,"-").concat(t.sid),t):(hI.workerEvent(this.spec.sid,{actionType:"status",serverCode:t.code,workerType:this.serviceMode===wA.TRANSCODE?1:2}),this.emit(OA.PUBLISH_STREAM_STATUS,t))})),this.spec=t,this.token=e,this.serviceMode=r,this.websocket=new NO("live-streaming",n),this.websocket.on(bA.CONNECTED,this.handleWebSocketOpen),this.websocket.on(bA.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(bA.REQUEST_NEW_URLS,((e,t)=>{BC(this,OA.REQUEST_NEW_ADDRESS).then(e).catch(t)})),this.websocket.on(bA.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e){return this.websocket.init(e)}async request(e,t,n,r){this.reqId+=1,"request"===e&&(this.commandReqId+=1);const o=this.commandReqId,i=this.reqId;if(!i||!this.websocket)throw new pI(lC.UNEXPECTED_ERROR);const a=nq({command:e,sdkVersion:"4.22.2"===NR?"0.0.1":NR,seq:i,requestId:i,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if("closed"===this.websocket.state)throw new pI(lC.WS_DISCONNECT);const s=()=>new Uh(((e,t)=>{this.websocket.once(bA.CLOSED,(()=>t(new pI(lC.WS_ABORT)))),this.websocket.once(bA.CONNECTED,e)}));"connected"!==this.websocket.state&&await s(),a.clientRequest&&(a.clientRequest.workerToken=this.token);const c=new Uh(((e,t)=>{const n=()=>{t(new pI(lC.WS_ABORT))};this.websocket.once(bA.RECONNECTING,n),this.websocket.once(bA.CLOSED,n),this.once("@".concat(i,"-").concat(this.spec.sid),(t=>{e(t)}))}));r&&hI.workerEvent(this.spec.sid,nq(nq({},r),{},{requestId:o,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const l=Date.now();this.websocket.sendMessage(a);let u=null;try{u=await c}catch(d){if("closed"===this.websocket.state)throw d;return await s(),await this.request(e,t,n)}return r&&hI.workerEvent(this.spec.sid,nq(nq({},r),{},{requestId:o,actionType:"response",payload:JSON.stringify(u.serverResponse),serverCode:u.code,success:200===u.code,responseTime:Date.now()-l})),200!==u.code&&this.handleResponseError(u),u}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const e="4.22.2"===NR?"0.0.1":NR;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case kA.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void oI.warning("live stream response already exists stream");case kA.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case kA.LIVE_STREAM_RESPONSE_BAD_STREAM:case kA.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new pI(lC.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case kA.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command)return;throw new pI(lC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case kA.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new pI(lC.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case kA.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new pI(lC.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(OA.WARNING,t,e.serverResponse.url)}case kA.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new pI(lC.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(OA.WARNING,t,e.serverResponse.url)}case kA.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new pI(lC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case kA.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new pI(lC.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:e.code}).throw();case kA.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new pI(lC.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(OA.WARNING,t,e.serverResponse.url)}case kA.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new pI(lC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case kA.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new pI(lC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case kA.LIVE_STREAM_RESPONSE_WORKER_LOST:case kA.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command)return;throw new pI(lC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case kA.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command)return;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new pI(lC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new pI(lC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case kA.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case kA.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case kA.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case kA.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new pI(lC.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{"connected"===this.websocket.state&&this.request("ping",{}).catch(cR)}),6e3)}}function oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oq(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class aq extends CC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ER;super(),OE(this,"onLiveStreamWarning",void 0),OE(this,"onLiveStreamError",void 0),OE(this,"spec",void 0),OE(this,"retryTimeout",1e4),OE(this,"connection",void 0),OE(this,"httpRetryConfig",void 0),OE(this,"wsRetryConfig",void 0),OE(this,"streamingTasks",new Map),OE(this,"isStartingStreamingTask",!1),OE(this,"taskMutex",new yR("live-streaming")),OE(this,"cancelToken",bw.CancelToken.source()),OE(this,"transcodingConfig",void 0),OE(this,"uapResponse",void 0),OE(this,"lastTaskId",1),OE(this,"statusError",new Map),this.spec=e,this.httpRetryConfig=n,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=iq(iq({},AA),e);var n;66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(oI.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(t.videoCodecProfile," -> 100")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((e=>iq(iq(iq({},CA),e),{},{zOrder:e.zOrder?e.zOrder+1:1})))),vC((n=t).width)||pC(n.width,"config.width",0,1e4),vC(n.height)||pC(n.height,"config.height",0,1e4),vC(n.videoBitrate)||pC(n.videoBitrate,"config.videoBitrate",1,1e6),vC(n.videoFrameRate)||pC(n.videoFrameRate,"config.videoFrameRate"),vC(n.lowLatency)||dC(n.lowLatency,"config.lowLatency"),vC(n.audioSampleRate)||hC(n.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),vC(n.audioBitrate)||pC(n.audioBitrate,"config.audioBitrate",1,128),vC(n.audioChannels)||hC(n.audioChannels,"config.audioChannels",[1,2,3,4,5]),vC(n.videoGop)||pC(n.videoGop,"config.videoGop"),vC(n.videoCodecProfile)||hC(n.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),vC(n.userCount)||pC(n.userCount,"config.userCount",0,17),vC(n.backgroundColor)||pC(n.backgroundColor,"config.backgroundColor",0,16777215),vC(n.userConfigExtraInfo)||mC(n.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),n.transcodingUsers&&!vC(n.transcodingUsers)&&(gC(n.transcodingUsers,"config.transcodingUsers"),n.transcodingUsers.forEach(((e,t)=>{SA(e.uid),vC(e.x)||pC(e.x,"transcodingUser[".concat(t,"].x"),0,1e4),vC(e.y)||pC(e.y,"transcodingUser[".concat(t,"].y"),0,1e4),vC(e.width)||pC(e.width,"transcodingUser[".concat(t,"].width"),0,1e4),vC(e.height)||pC(e.height,"transcodingUser[".concat(t,"].height"),0,1e4),vC(e.zOrder)||pC(e.zOrder-1,"transcodingUser[".concat(t,"].zOrder"),0,100),vC(e.alpha)||pC(e.alpha,"transcodingUser[".concat(t,"].alpha"),0,1,!1)}))),vC(n.watermark)||IA(n.watermark,"watermark"),vC(n.backgroundImage)||IA(n.backgroundImage,"backgroundImage"),n.images&&!vC(n.images)&&(gC(n.images,"config.images"),n.images.forEach(((e,t)=>{IA(e,"images[".concat(t,"]"))})));const r=[];t.images&&r.push(...t.images.map((e=>iq(iq(iq({},RA),e),{},{zOrder:255})))),t.backgroundImage&&(r.push(iq(iq(iq({},RA),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(r.push(iq(iq(iq({},RA),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=r,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((e=>iq({},e))),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const o=(t.userConfigs||[]).map((e=>"number"==typeof e.uid?Uh.resolve(e.uid):VU(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await Uh.all(o)).forEach(((e,n)=>{t.userConfigs&&t.userConfigs[n]&&(t.userConfigs[n].uid=e)})),this.transcodingConfig=t,this.connection)try{var i;const e=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(QO(i=this.streamingTasks).call(i)).map((e=>e.taskId)).join("#")});oI.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(e.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(n){if(!n.data||!n.data.retry)throw n;n.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((e=>{oI.warning("[".concat(this.spec.clientId,"] live streaming receive error"),n.toString(),"try to republish",e.url),this.startLiveStreamingTask(e.url,e.mode,n).then((()=>{oI.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(e.url," success"))})).catch((t=>{oI.error("[".concat(this.spec.clientId,"] live streaming republish failed"),e.url,t.toString()),this.onLiveStreamError&&this.onLiveStreamError(e.url,t)}))}))}}async startLiveStreamingTask(e,t,n){if(!this.transcodingConfig&&t===wA.TRANSCODE)throw new pI(lC.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");const r={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};oI.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(e,", mode: ").concat(t));const o=await this.taskMutex.lock();if(!this.connection&&n)return void o();if(this.streamingTasks.get(e)&&!n)return o(),new pI(lC.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(a){throw o(),a}t===wA.TRANSCODE&&(r.transcodingConfig=iq({},this.transcodingConfig)),this.uapResponse&&this.uapResponse.vid&&(r.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const i=this.lastTaskId++;try{const a=new Uh(((t,r)=>{iR(this.retryTimeout).then((()=>{if(n)return r(n);const t=this.statusError.get(e);return t?(this.statusError.delete(e),r(t)):void 0}))})),s=await Uh.race([this.connection.request("request",{clientRequest:r},!0,{url:e,command:"PublishStream",workerType:t===wA.TRANSCODE?1:2,requestByUser:!n,tid:i.toString()}),a]);this.isStartingStreamingTask=!1,oI.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(s.code)),this.streamingTasks.set(e,{clientRequest:r,mode:t,url:e,taskId:i}),o()}catch(s){if(o(),this.isStartingStreamingTask=!1,!s.data||!s.data.retry||n)throw s;return s.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,s)):await this.startLiveStreamingTask(e,t,s)}}stopLiveStreamingTask(e){return new Uh(((t,n)=>{const r=this.streamingTasks.get(e);if(!r||!this.connection)return new pI(lC.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const o=r.mode;r.abortTask=()=>{oI.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(e),t()},this.connection.request("request",{clientRequest:{command:"UnpublishStream",url:r.url}},!1,{url:e,command:"UnPublishStream",workerType:o===wA.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((n=>{oI.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(n.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&(this.connection&&this.connection.close(),this.connection=void 0),t()})).catch(n)}))}resetAllTask(){var e;const t=Array.from(QO(e=this.streamingTasks).call(e));this.terminate();for(const n of t)this.startLiveStreamingTask(n.url,n.mode).catch((e=>{this.onLiveStreamError&&this.onLiveStreamError(n.url,e)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=bw.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new pI(lC.UNEXPECTED_ERROR,"live streaming connection has already connected");const t=await BC(this,NA.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new rq(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(OA.WARNING,((e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e))),this.connection.on(OA.PUBLISH_STREAM_STATUS,(e=>this.handlePublishStreamServer(e))),this.connection.on(OA.REQUEST_NEW_ADDRESS,((t,n)=>{if(!this.connection)return n(new pI(lC.UNEXPECTED_ERROR,"can not get new live streaming address list"));BC(this,NA.REQUEST_WORKER_MANAGER_LIST,e).then((e=>{this.uapResponse=e,t(e.addressList)})).catch(n)})),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||"empty_url",n=this.streamingTasks.get(t),r=e.reason;switch(e.code){case kA.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case kA.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case kA.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case kA.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const r=new pI(lC.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(n)return oI.error(r.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,r);if(!this.isStartingStreamingTask)return;this.statusError.set(t,r)}case kA.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new pI(lC.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,r);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case kA.LIVE_STREAM_RESPONSE_WORKER_LOST:case kA.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var o;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(QO(o=this.streamingTasks).call(o));for(const n of t)n.abortTask?n.abortTask():(oI.warning("[".concat(this.spec.clientId,"] publish stream status code"),e.code,"try to republish",n.url),this.startLiveStreamingTask(n.url,n.mode,new pI(lC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((()=>{oI.debug("[".concat(this.spec.clientId,"] republish live stream success"),n.url)})).catch((e=>{oI.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(n.url,e)})));return}}}hasUrl(e){return this.streamingTasks.has(e)}}const sq={name:"LiveStreaming",create:function(e){return new aq(e.joinInfo,e.websocketRetryConfig||ER,e.httpRetryConfig||ER)}};function cq(e){let t=_q();return function(e,t){let n=e.appId;void 0!==n&&(xq(t,10),Rq(t,n));let r=e.cid;void 0!==r&&(xq(t,16),xq(t,r));let o=e.cname;void 0!==o&&(xq(t,26),Rq(t,o));let i=e.deviceId;void 0!==i&&(xq(t,34),Rq(t,i));let a=e.elapse;void 0!==a&&(xq(t,40),Pq(t,a));let s=e.fileSize;void 0!==s&&(xq(t,48),Pq(t,vq(s)));let c=e.height;void 0!==c&&(xq(t,56),Pq(t,vq(c)));let l=e.jpg;void 0!==l&&(xq(t,66),xq(t,l.length),function(e,t){let n=Sq(e,t.length);e.bytes.set(t,n)}(t,l));let u=e.networkType;void 0!==u&&(xq(t,72),Pq(t,vq(u)));let d=e.osType;void 0!==d&&(xq(t,80),Pq(t,vq(d)));let h=e.requestId;void 0!==h&&(xq(t,90),Rq(t,h));let p=e.sdkVersion;void 0!==p&&(xq(t,98),Rq(t,p));let f=e.sequence;void 0!==f&&(xq(t,104),Pq(t,vq(f)));let m=e.sid;void 0!==m&&(xq(t,114),Rq(t,m));let g=e.timestamp;void 0!==g&&(xq(t,120),Pq(t,g));let v=e.uid;void 0!==v&&(xq(t,128),xq(t,v));let y=e.vid;void 0!==y&&(xq(t,136),xq(t,y));let _=e.width;void 0!==_&&(xq(t,144),Pq(t,vq(_)));let E=e.service;void 0!==E&&(xq(t,152),xq(t,E));let b=e.callbackData;void 0!==b&&(xq(t,162),Rq(t,b));let T=e.jpgEncryption;void 0!==T&&(xq(t,168),xq(t,T));let S=e.requestType;void 0!==S&&(xq(t,176),xq(t,S));let w=e.scorePorn;void 0!==w&&(xq(t,185),kq(t,w));let C=e.scoreSexy;void 0!==C&&(xq(t,193),kq(t,C));let R=e.scoreNeutral;void 0!==R&&(xq(t,201),kq(t,R));let I=e.scene;void 0!==I&&(xq(t,208),xq(t,I));let A=e.ossFilePrefix;void 0!==A&&(xq(t,218),Rq(t,A));let O=e.serviceVendor;if(void 0!==O)for(let N of O){xq(t,226);let e=_q();dq(N,e),xq(t,e.limit),Iq(t,e),Eq(e)}}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}function lq(e){return function(e){let t={};e:for(;!Tq(e);){let n=Dq(e);switch(n>>>3){case 0:break e;case 1:t.code=Dq(e);break;case 2:t.msg=Cq(e,Dq(e));break;case 3:{let n=hq(e);t.data=uq(e),e.limit=n;break}default:pq(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function uq(e){let t={};e:for(;!Tq(e);){let n=Dq(e);switch(n>>>3){case 0:break e;case 1:t.requestId=Cq(e,Dq(e));break;case 2:t.requestType=Dq(e)>>>0;break;case 3:t.scorePorn=Nq(e);break;case 4:t.scoreSexy=Nq(e);break;case 5:t.scoreNeutral=Nq(e);break;case 6:t.requestScene=Dq(e)>>>0;break;case 7:t.scene=Dq(e)>>>0;break;default:pq(e,7&n)}}return t}function dq(e,t){let n=e.service;void 0!==n&&(xq(t,8),xq(t,n));let r=e.vendor;void 0!==r&&(xq(t,16),xq(t,r));let o=e.token;void 0!==o&&(xq(t,26),Rq(t,o));let i=e.callbackUrl;void 0!==i&&(xq(t,34),Rq(t,i))}function hq(e){let t=Dq(e),n=e.limit;return e.limit=e.offset+t,n}function pq(e,t){switch(t){case 0:for(;128&Aq(e););break;case 2:bq(e,Dq(e));break;case 5:bq(e,4);break;case 1:bq(e,8);break;default:throw new Error("Unimplemented type: "+t)}}let fq=new Float32Array(1);new Uint8Array(fq.buffer);let mq=new Float64Array(1),gq=new Uint8Array(mq.buffer);function vq(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let yq=[];function _q(){const e=yq.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function Eq(e){yq.push(e)}function bq(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function Tq(e){return e.offset>=e.limit}function Sq(e,t){let n=e.bytes,r=e.offset,o=e.limit,i=r+t;if(i>n.length){let t=new Uint8Array(2*i);t.set(n),e.bytes=t}return e.offset=i,i>o&&(e.limit=i),r}function wq(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function Cq(e,t){let n=wq(e,t),r=String.fromCharCode,o=e.bytes,i="",a="";for(let s=0;s<t;s++){let e,c,l,u,d=o[s+n];128&d?192==(224&d)?s+1>=t?a+=i:(e=o[s+n+1],128!=(192&e)?a+=i:(u=(31&d)<<6|63&e,u<128?a+=i:(a+=r(u),s++))):224==(240&d)?s+2>=t?a+=i:(e=o[s+n+1],c=o[s+n+2],32896!=(49344&(e|c<<8))?a+=i:(u=(15&d)<<12|(63&e)<<6|63&c,u<2048||u>=55296&&u<=57343?a+=i:(a+=r(u),s+=2))):240==(248&d)?s+3>=t?a+=i:(e=o[s+n+1],c=o[s+n+2],l=o[s+n+3],8421504!=(12632256&(e|c<<8|l<<16))?a+=i:(u=(7&d)<<18|(63&e)<<12|(63&c)<<6|63&l,u<65536||u>1114111?a+=i:(u-=65536,a+=r(55296+(u>>10),56320+(1023&u)),s+=3))):a+=i:a+=r(d)}return a}function Rq(e,t){let n=t.length,r=0;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),r+=e<128?1:e<2048?2:e<65536?3:4}xq(e,r);let o=Sq(e,r),i=e.bytes;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),e<128?i[o++]=e:(e<2048?i[o++]=e>>6&31|192:(e<65536?i[o++]=e>>12&15|224:(i[o++]=e>>18&7|240,i[o++]=e>>12&63|128),i[o++]=e>>6&63|128),i[o++]=63&e|128)}}function Iq(e,t){let n=Sq(e,t.limit),r=e.bytes,o=t.bytes;for(let i=0,a=t.limit;i<a;i++)r[i+n]=o[i]}function Aq(e){return e.bytes[wq(e,1)]}function Oq(e,t){let n=Sq(e,1);e.bytes[n]=t}function Nq(e){let t=wq(e,8),n=e.bytes;return gq[0]=n[t++],gq[1]=n[t++],gq[2]=n[t++],gq[3]=n[t++],gq[4]=n[t++],gq[5]=n[t++],gq[6]=n[t++],gq[7]=n[t++],mq[0]}function kq(e,t){let n=Sq(e,8),r=e.bytes;mq[0]=t,r[n++]=gq[0],r[n++]=gq[1],r[n++]=gq[2],r[n++]=gq[3],r[n++]=gq[4],r[n++]=gq[5],r[n++]=gq[6],r[n++]=gq[7]}function Dq(e){let t,n=0,r=0;do{t=Aq(e),n<32&&(r|=(127&t)<<n),n+=7}while(128&t);return r}function xq(e,t){for(t>>>=0;t>=128;)Oq(e,127&t|128),t>>>=7;Oq(e,t)}function Pq(e,t){let n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,o=t.high>>>24,i=0===o?0===r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:o<128?9:10,a=Sq(e,i),s=e.bytes;switch(i){case 10:s[a+9]=o>>>7&1;case 9:s[a+8]=9!==i?128|o:127&o;case 8:s[a+7]=8!==i?r>>>21|128:r>>>21&127;case 7:s[a+6]=7!==i?r>>>14|128:r>>>14&127;case 6:s[a+5]=6!==i?r>>>7|128:r>>>7&127;case 5:s[a+4]=5!==i?128|r:127&r;case 4:s[a+3]=4!==i?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==i?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==i?n>>>7|128:n>>>7&127;case 1:s[a]=1!==i?128|n:127&n}}function Mq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Lq=new Map([["moderation",1],["supervise",2]]);function Uq(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}class jq extends CC{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(nO.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=qr(t=e.map((e=>Lq.get(e)||0))).call(t,((e,t)=>e+t)),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e){super(),OE(this,"name","AgoraRTCVideoContentInspect"),OE(this,"_connectionState",eO.CONNECTING),OE(this,"_innerConnectionState",void 0),OE(this,"sequence",0),OE(this,"inspectStartTime",void 0),OE(this,"workerManagerConnection",void 0),OE(this,"workerConnection",void 0),OE(this,"workerMessageLengthLimit",void 0),OE(this,"inspectIntervalMinimum",void 0),OE(this,"qualityRatio",void 0),OE(this,"_connectInfo",void 0),OE(this,"_cancelTokenSource",bw.CancelToken.source()),OE(this,"_retryConfig",void 0),OE(this,"wmSequence",0),OE(this,"inspectInterval",void 0),OE(this,"inspectTimer",null),OE(this,"ossFilePrefix",void 0),OE(this,"extraInfo",void 0),OE(this,"_inspectType",void 0),OE(this,"_inspectMode",void 0),OE(this,"_quality",1),OE(this,"qualityTimer",null),OE(this,"_inspectId",void 0),OE(this,"_needWorkUrlOnly",!1),OE(this,"inspectImage",(()=>{if(this.connectionState!==eO.CONNECTED)throw new pI(lC.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval((()=>{this.connectionState===eO.CONNECTED?this.requestToInspectImage():oI.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState)}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=aR(5,"inspect-"),this.workerMessageLengthLimit=jR("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=jR("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=jR("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new NO("worker-manager-"+this._inspectId,ER),this.on(nO.STATE_CHANGE,((e,t)=>{this._innerConnectionState=e,oI.debug("[".concat(this._inspectId,"] Inspect operation :").concat(tO[e]," ").concat(t||""))})),this.handleWorkerManagerEvents(),this.workerConnection=new NO("worker-"+this._inspectId,ER),this.handleWorkerEvents()}async init(e,t){this.emit(nO.STATE_CHANGE,tO.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new Uh(((r,o)=>{this.on(nO.CONNECTION_STATE_CHANGE,((e,t)=>{t===eO.CONNECTED&&r()})),this.requestAP(e,n,t).then((e=>{this.connectWorkerManager(e)})).catch((e=>{o(e)}))}))}async requestAP(e,t,n){const r=jR("WEBCS_DOMAIN").map((e=>"https://".concat(e,"/api/v1"))),o=await function(e,t,n,r){let{appId:o,areaCode:i,cname:a,sid:s,token:c,uid:l}=t;xU++;const u="image_moderation_api",d={service_name:u,json_body:JSON.stringify({appId:o,areaCode:i,cname:a,command:"allocateEdge",requestId:xU,seq:xU,sid:s,token:c,ts:Date.now(),uid:l+""})};let h,p,f=e[0];return TR((async()=>{h=Date.now();const e=await dU(f,{data:d,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-h,0!==e.code){const t=new pI(lC.UNEXPECTED_RESPONSE,"image inspect ap error, code"+e.code,{retry:!0,responseTime:p});throw oI.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new pI(lC.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:p});throw oI.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new pI(lC.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:t.code,responseTime:p});throw oI.error(e.toString()),e}const r=jR("VIDEO_INSPECT_WORKER_MANAGER_HOST"),o=jR("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:t.servers.map((e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(r,":").concat(o||n)})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,responseTime:p}}),((t,n)=>(hI.apworkerEvent(s,{success:!0,sc:200,serviceName:u,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:p,serverIp:e[n%e.length]}),!1)),((t,n)=>(hI.apworkerEvent(s,{success:!1,sc:t.data&&t.data.code||200,serviceName:u,responseTime:p,serverIp:e[n%e.length]}),!!(t.code!==lC.OPERATION_ABORTED&&t.code!==lC.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(f=e[(n+1)%e.length],!0))),r)}(r,e,t,n);this.emit(nO.STATE_CHANGE,tO.AP_CONNECTED);const{addressList:i}=o;return this.wmSequence++,i}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(nO.STATE_CHANGE,tO.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(bA.CONNECTED,(async()=>{this.emit(nO.STATE_CHANGE,tO.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.22.2",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)})),this.workerManagerConnection.on(bA.CLOSED,(()=>{this._innerConnectionState<tO.GET_WORKER_MANAGER_RESPONSE&&oI.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker"))})),this.workerManagerConnection.on(bA.FAILED,(()=>{this._innerConnectionState<tO.GET_WORKER_MANAGER_RESPONSE&&oI.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))})),this.workerManagerConnection.on(bA.RECONNECTING,(()=>{this._innerConnectionState<tO.GET_WORKER_MANAGER_RESPONSE&&oI.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))})),this.workerManagerConnection.on(bA.ON_MESSAGE,(async e=>{this.emit(nO.STATE_CHANGE,tO.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const n=JSON.parse(e.data);if(200!==n.code)throw oI.error("[".concat(this._inspectId,"] Unexpected code ").concat(n.code," from worker manager")),new pI(lC.UNEXPECTED_RESPONSE,"response code of worker is unexpected",n);if(!(n.serverResponse&&n.serverResponse.portWss&&t))throw oI.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(n))),new pI(lC.UNEXPECTED_RESPONSE,"response content of worker is unexpected",n);{const e=jR("VIDEO_INSPECT_WORKER_PORT")||n.serverResponse.portWss,r=t.replace(/:\d+\/?$/,":".concat(e));this.emit(nO.STATE_CHANGE,tO.CONNECT_WORKER,r),this._needWorkUrlOnly?this.emit(nO.REQUEST_NEW_WORKER_URL,r):await this.connectWorker(r)}})),this.workerManagerConnection.on(bA.WILL_RECONNECT,((e,t,n)=>{n(e)})),this.workerManagerConnection.on(bA.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}handleWorkerEvents(){this.workerConnection.on(bA.CONNECTED,(async()=>{this.emit(nO.STATE_CHANGE,tO.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=eO.CONNECTED})),this.workerConnection.on(bA.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const n=lq(new Uint8Array(e.data));if(jR("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&oI.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(n)),200===n.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&"supervise"===this.inspectType[0])return void this.emit(nO.INSPECT_RESULT,void 0,void 0);if(n.data&&n.data.scorePorn&&n.data.scoreSexy&&n.data.scoreNeutral){var t;const e={porn:n.data.scorePorn,sexy:n.data.scoreSexy,neutral:n.data.scoreNeutral},r=qr(t=Object.keys(e)).call(t,((t,n)=>e[t]>e[n]?t:n),"porn"),o=Object.keys(e).find((e=>e===r));this.emit(nO.INSPECT_RESULT,o)}else this.emit(nO.INSPECT_RESULT,void 0,new pI(lC.UNEXPECTED_RESPONSE,n.code+"","There is an unexpected data on message"))}else this.emit(nO.INSPECT_RESULT,void 0,new pI(lC.UNEXPECTED_RESPONSE,n.code+"",n.msg))}else oI.error("[".concat(this._inspectId,"] Unexpected message type from worker")),this.emit(nO.INSPECT_RESULT,void 0,new pI(lC.UNEXPECTED_RESPONSE,"invalid worker message type"))})),this.workerConnection.on(bA.CLOSED,(()=>{this.connectionState=eO.CLOSED})),this.workerConnection.on(bA.FAILED,(()=>{this.connectionState=eO.CLOSED})),this.workerConnection.on(bA.RECONNECTING,(()=>{this.connectionState=this.connectionState===eO.CONNECTED?eO.RECONNECTING:eO.CONNECTING})),this.workerConnection.on(bA.WILL_RECONNECT,((e,t,n)=>{"recover"===e&&n(e),n("tryNext")})),this.workerConnection.on(bA.REQUEST_NEW_URLS,((e,t)=>{this.workerManagerConnection.close(),this.once(nO.REQUEST_NEW_WORKER_URL,(t=>{e([t])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e=>{this.connectWorkerManager(e,!0)})).catch((e=>{t(e)}))}))}async requestToInspectImage(){this.sequence++;const e=FC(this,nO.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(nO.INSPECT_RESULT,void 0,new pI(lC.INVALID_OPERATION,"Only the track being played can be inspected"));const n=await this.generateRequestData(e,t);this.workerConnection.sendMessage(n,!0,!0)}else this.emit(nO.INSPECT_RESULT,void 0,new pI(lC.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(e,t){let{appId:n,cname:r,cid:o,vid:i,sid:a,uid:s}=t;const c=Date.now(),l=await e.getCurrentFrameImage("image/jpeg",this.quality),u=await mP(l,n,r),d=this.sequence+"-"+o+"-"+s+"-"+c+"-"+aR(12,""),h={appId:n,cid:o,cname:r,deviceId:"",elapse:Uq(Number(c-this.inspectStartTime)),fileSize:u.byteLength,jpgEncryption:2,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:d,sdkVersion:"4.22.2",sequence:this.sequence,sid:a,timestamp:Uq(c),uid:s,vid:i,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete h.callbackData,void 0===this.ossFilePrefix&&delete h.ossFilePrefix;const p=cq(h);if(p.byteLength<this.workerMessageLengthLimit){if(jR("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mq(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h);delete e.jpg,oI.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(e))}return p}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:r,cid:o,vid:i,sid:a,uid:s})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=bw.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=eO.CLOSED,this.emit(nO.STATE_CHANGE,tO.CLOSED)}}const Vq={name:"ContentInspect",create:function(e){let{config:t}=e;return function(e){if(!e)throw new pI(lC.INVALID_PARAMS,"inspectConfig is necessary.");if(!e.inspectType||!Array.isArray(e.inspectType))throw new pI(lC.INVALID_PARAMS,"inspectConfig.inspectType is necessary and is an instance of Array.");{const t=[...new Set(e.inspectType)];t.forEach((e=>{var t;if(!Or(t=["supervise","moderation"]).call(t,e))throw new pI(lC.INVALID_PARAMS,"".concat(e," is not a valid inspect type."))})),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new pI(lC.INVALID_PARAMS,"inspectConfig.extraInfo length cannot exceed 1024 bytes")}(t),new jq(t)}};UR("PROCESS_ID","process-".concat(aR(8,""),"-").concat(aR(4,""),"-").concat(aR(4,""),"-").concat(aR(4,""),"-").concat(aR(12,""))),function(){let e;try{e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(t){return void oI.error("Error loading sdk config",t.message)}if(e)try{const t=JSON.parse(window.atob(e)),n=Date.now();oI.debug("Loading global parameters from cache",t),Object.keys(t).forEach((e=>{if(Object.prototype.hasOwnProperty.call(LR,e)){const{value:r,expires:o}=t[e];if(o&&o<=n)return;VR[e]=r,LR[e]=r}}))}catch(n){oI.error("Error loading mutableParamsCache: ".concat(e),n.message)}}(),Array.isArray(VR.AREAS)&&VR.AREAS.length>0&&EU(VR.AREAS,!0);const Bq=(e,t,n)=>{oI.debug("setParameter key:".concat(e,", value:").concat(JSON.stringify(t))),UR(e,t,n)};pB(eq,!1),pB(sq,!1),pB(Cz,!1),pB(Vq,!1),pB(JW,!1);const zq=function(e){const t=new CC,n=e,r={getListeners:t.getListeners.bind(t),on:(e,n)=>{return r=n,e===iO.SECURITY_POLICY_VIOLATION&&wF(r,!0),t.on.bind(t)(e,n);var r},addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return TF(TF({},n),r)}({__TRACK_LIST__:QD,VERSION:NR,BUILD:MR,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:Bq,getParameter:jR,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;const n=await async function(e){let t;return UD().supportUnifiedPlan?(e.addTransceiver("video",{direction:"recvonly"}),e.addTransceiver("audio",{direction:"recvonly"}),t=(await e.createOffer()).sdp):t=(await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,t}(t);if(!n)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ AV1/i)&&t.video.push("AV1"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ H265/i)&&t.video.push("H265"),e.match(/ opus/i)&&t.audio.push("OPUS"),e.match(/ PCMU/i)&&t.audio.push("PCMU"),e.match(/ PCMA/i)&&t.audio.push("PCMA"),e.match(/ G722/i)&&t.audio.push("G722"),t}(n)}catch(t){throw new pI(lC.CREATE_OFFER_FAILED,t.toString&&t.toString()).print()}return e},checkSystemRequirements:function(){const e=hI.reportApiInvoke(null,{name:AC.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:OC.TRACER});let t=!1;try{const e=window.RTCPeerConnection,n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r=window.WebSocket;t=!!(e&&n&&r),t&&nC()&&Hw(75)&&(new e).close()}catch(i){return oI.error("check system requirement failed: ",i),!1}let n=!1;const r=Dw();r.name===Aw.CHROME&&Number(r.version)>=58&&("WebKit"!==Nw.engine.name||function(){const e=Dw();if(Lw()){if(e.os===Iw.MAC_OS)return!0;if(e.os===Iw.IOS){const e=Nw.os.version&&Nw.os.version.split(".");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}())&&(n=!0),(r.name===Aw.FIREFOX&&Number(r.version)>=56||r.name===Aw.OPERA&&Number(r.version)>=45||r.name===Aw.SAFARI&&Number(r.version)>=11||"WebKit"===r.name&&(zw()||Qw())&&r.osVersion&&Number(r.osVersion.split(".")[0])>=11||eC()||Dw().name===Aw.QQ)&&(n=!0),oI.debug("checkSystemRequirements, api:",t,"browser",n);const o=t&&n;return e.onSuccess(o),o},getDevices:function(e){return $x.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return $x.getRecordingDevices(e)},getCameras:function(e){return $x.getCamerasDevices(e)},getElectronScreenSources:Fx,getPlaybackDevices:function(e){return $x.getSpeakers(e)},createClient:function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const n=aR(5,"client-"),r=hI.reportApiInvoke(null,{id:n,name:AC.CREATE_CLIENT,options:[t],tag:OC.TRACER});try{hC((o=t).codec,"config.codec",["vp8","vp9","av1","h264","h265"]),hC(o.mode,"config.mode",["rtc","live","p2p"]),void 0!==o.audioCodec&&hC(o.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==o.proxyServer&&mC(o.proxyServer,"config.proxyServer",1,1e4),void 0!==o.turnServer&&PC(o.turnServer),void 0!==o.httpRetryConfig&&NC(o.httpRetryConfig),void 0!==o.websocketRetryConfig&&NC(o.websocketRetryConfig)}catch(o){throw r.onError(o),o}var o;return(qw(16,0)||Kw(16,0))&&("vp9"===t.codec&&(t.codec="vp8",oI.debug("browser not support vp9, force use vp8")),UR("UNSUPPORTED_VIDEO_CODEC",["vp9"])),void 0===t.audioCodec&&(t.audioCodec="opus"),r.onSuccess(),new mF(fF(fF({forceWaitGatewayResponse:!0},t),{},{role:Or(e=["rtc","p2p"]).call(e,t.mode)?"host":t.role||"audience"}),n)},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=jR("CAMERA_CAPTURE_CONFIG"),n=aR(8,"track-cam-"),r=hI.reportApiInvoke(null,{id:n,tag:OC.TRACER,name:AC.CREATE_CAM_VIDEO_TRACK,options:[Ix({},e),t]});t&&(e.encoderConfig=t);const o=dP(e);let i=null;oI.info("start create camera video track with config",JSON.stringify(e),"trackId",n);try{i=(await qx({video:o},n)).getVideoTracks()[0]||null}catch(s){throw r.onError(s),s}if(!i){const e=new uC(lC.UNEXPECTED_ERROR,"can not find track in media stream");return r.onError(e),e.throw(oI)}e.optimizationMode&&XM(n,i,e,YD(e.encoderConfig));const a=new YM(i,e,o,e.scalabiltyMode?$D(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,n);return r.onSuccess(a.getTrackId()),oI.info("create camera video success, trackId:",n),a},createCustomVideoTrack:function(e){const t=aR(8,"track-cus-"),n=hI.reportApiInvoke(null,{id:t,tag:OC.TRACER,name:AC.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),r=new KM(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?$D(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,t,[nx.CUSTOM_TRACK]);return n.onSuccess(r.getTrackId()),oI.info("create custom video track success with config",e,"trackId",r.getTrackId()),r},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disable";const n="object"==typeof t?hP(r=t):void 0;var r;n&&(t="auto");const o=aR(8,"track-scr-v-"),i=hI.reportApiInvoke(null,{id:o,tag:OC.TRACER,name:AC.CREATE_SCREEN_VIDEO_TRACK,options:[Ix({},e),t]});e.encoderConfig?"string"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig="1080p_2";const a=function(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&Uw()&&(t.extensionId=e.extensionId);const{displaySurface:n,selfBrowserSurface:r,surfaceSwitching:o,systemAudio:i}=e;(Fw(107)||Gw(107)||Yw(93))&&(n&&(hC(n,"displaySurface",["browser","window","monitor"]),t.displaySurface=n),r?(hC(r,"selfBrowserSurface",["exclude","include"]),t.selfBrowserSurface=r):t.selfBrowserSurface="include",o&&(hC(o,"surfaceSwitching",["exclude","include"]),t.surfaceSwitching=o)),(Fw(105)||Gw(105)||Yw(91))&&i&&(hC(i,"systemAudio",["exclude","include"]),t.systemAudio=i),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const a=e.encoderConfig?XD(e.encoderConfig):null;return t.mandatory={chromeMediaSource:"desktop",maxWidth:a?a.width:void 0,maxHeight:a?a.height:void 0},a&&(a.frameRate&&("number"==typeof a.frameRate?(t.mandatory.maxFrameRate=a.frameRate,t.mandatory.minFrameRate=a.frameRate):(t.mandatory.maxFrameRate=a.frameRate.max||a.frameRate.ideal||a.frameRate.exact||void 0,t.mandatory.minFrameRate=a.frameRate.min||a.frameRate.ideal||a.frameRate.exact||void 0),t.frameRate=a.frameRate),a.width&&(t.width=a.width),a.height&&(t.height=a.height)),t}(e);let s=null,c=null;const l=UD();if(!l.supportShareAudio&&"enable"===t){const e=new uC(lC.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return i.onError(e),e.throw(oI)}oI.info("start create screen video track with config",e,"withAudio",t,"trackId",o);const u=l.supportShareAudio&&"disable"!==t;try{const e=await qx({screen:a,screenAudio:u?n||!0:void 0},o);s=e.getVideoTracks()[0]||null,c=e.getAudioTracks()[0]||null}catch(r){throw i.onError(r),r}if(!s){const e=new uC(lC.UNEXPECTED_ERROR,"can not find track in media stream");return i.onError(e),e.throw(oI)}if(!c&&"enable"===t){s&&s.stop();const e=new uC(lC.SHARE_AUDIO_NOT_ALLOWED);return i.onError(e),e.throw(oI)}e.optimizationMode||(e.optimizationMode="detail"),e.optimizationMode&&(XM(o,s,e,e.encoderConfig&&XD(e.encoderConfig)||void 0),e.encoderConfig&&"string"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const d=new KM(s,e.encoderConfig?XD(e.encoderConfig):{},e.scalabiltyMode?$D(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,o,[nx.SCREEN_TRACK]);if(!c)return i.onSuccess(d.getTrackId()),oI.info("create screen video track success","video:",d.getTrackId()),d;const h=new oM(c,void 0,aR(8,"track-scr-a-"),!1);return i.onSuccess([d.getTrackId(),h.getTrackId()]),oI.info("create screen video track success","video:",d.getTrackId(),"audio:",h.getTrackId()),[d,h]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=jR("CAMERA_CAPTURE_CONFIG"),r=aR(8,"track-mic-"),o=aR(8,"track-cam-"),i=hI.reportApiInvoke(null,{id:"".concat(r,"-").concat(o),tag:OC.TRACER,name:AC.CREATE_MIC_AND_CAM_TRACKS,options:[e,t,n]});n&&(t.encoderConfig=n);const a=dP(t),s=pP(e);let c=null,l=null;oI.info("start create camera video track(".concat(o,") and microphone audio track(").concat(r,") with config, audio: ").concat(JSON.stringify(e),", video: ").concat(JSON.stringify(t)));try{const e=await qx({audio:s,video:a},"".concat(r,"-").concat(o));c=e.getAudioTracks()[0],l=e.getVideoTracks()[0]}catch(h){throw i.onError(h),h}if(!c||!l){const e=new uC(lC.UNEXPECTED_ERROR,"can not find tracks in media stream");return i.onError(e),e.throw(oI)}t.optimizationMode&&XM(o,l,t,YD(t.encoderConfig));const u=new iM(c,e,s,r),d=new YM(l,t,a,t.scalabiltyMode?$D(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,o);return i.onSuccess([u.getTrackId(),d.getTrackId()]),oI.info("create camera video track(".concat(o,") and microphone audio track(").concat(r,") success")),[u,d]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=aR(8,"track-mic-"),n=hI.reportApiInvoke(null,{id:t,tag:OC.TRACER,name:AC.CREATE_MIC_AUDIO_TRACK,options:[e]}),r=pP(e);let o=null;oI.info("start create microphone audio track with config",JSON.stringify(e),"trackId",t);try{o=(await qx({audio:r},t)).getAudioTracks()[0]||null}catch(a){throw n.onError(a),a}if(!o){const e=new uC(lC.UNEXPECTED_ERROR,"can not find track in media stream");return n.onError(e),e.throw(oI)}const i=new iM(o,e,r,t);return n.onSuccess(i.getTrackId()),oI.info("create microphone audio track success, trackId:",t),i},createCustomAudioTrack:function(e){const t=aR(8,"track-cus-"),n=hI.reportApiInvoke(null,{id:t,tag:OC.TRACER,name:AC.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),r=new oM(e.mediaStreamTrack,e.encoderConfig?ZD(e.encoderConfig):{},t,!1);return oI.info("create custom audio track success with config",e,"trackId",r.getTrackId()),n.onSuccess(r.getTrackId()),r},createBufferSourceAudioTrack:async function(e){var t;const{cacheOnlineFile:n,encoderConfig:r}=e;let{source:o}=e;const i={source:o instanceof AudioBuffer?"AudioBuffer":o instanceof File?null!==(t=File.name)&&void 0!==t?t:"File":o,cacheOnlineFile:n,encoderConfig:r},a=aR(8,"track-buf-"),s=hI.reportApiInvoke(null,{id:a,tag:OC.TRACER,name:AC.CREATE_BUFFER_AUDIO_TRACK,options:[i]});if(jR("DISABLE_WEBAUDIO"))throw new uC(lC.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");oI.info("start create buffer source audio track with config",JSON.stringify(i),"trackId",a);const c=o;if(!(o instanceof AudioBuffer))try{o=await async function(e,t){let n=null;if("string"==typeof e){const t=lM.get(e);if(t)return oI.debug("use cached audio resource: ",e),t;try{n=(await TR((()=>bw.get(e,{responseType:"arraybuffer"})),void 0,void 0,{maxRetryCount:3})).data}catch(o){throw new uC(lC.FETCH_AUDIO_FILE_FAILED,o.toString())}}else{const t=new Uh(((t,n)=>{const r=new FileReader;r.onload=e=>{e.target?t(e.target.result):n(new uC(lC.READ_LOCAL_AUDIO_FILE_ERROR))},r.onerror=()=>{n(new uC(lC.READ_LOCAL_AUDIO_FILE_ERROR))},r.readAsArrayBuffer(e)}));n=await t}const r=await function(e){const t=xx();return new Uh(((n,r)=>{t.decodeAudioData(e,(e=>{n(e)}),(e=>{r(new uC(lC.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(n);return"string"==typeof e&&t&&lM.set(e,r),r}(o,n)}catch(d){return s.onError(d),d.throw(oI)}const l=new cM(o),u=new aM(c,l,r?ZD(r):{},a);return oI.info("create buffer source audio track success, trackId:",a),s.onSuccess(u.getTrackId()),u},setAppType:function(e){if(oI.debug("setAppType: ".concat(e)),!(Number.isInteger(e)&&e>=0))throw oI.debug("Invalid appType"),new pI(lC.INVALID_PARAMS,"invalid app type",e);UR("APP_TYPE",Math.floor(e))},setLogLevel:function(e){oI.setLogLevel(e)},enableLogUpload:function(){jR("USE_NEW_LOG")?UR("UPLOAD_LOG",!0):oI.enableLogUpload()},disableLogUpload:function(){jR("USE_NEW_LOG")?UR("UPLOAD_LOG",!1):oI.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new RV},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=hI.reportApiInvoke(null,{tag:OC.TRACER,name:AC.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof oM||e instanceof uL)){const e=new pI(lC.INVALID_TRACK,"the parameter is not a audio track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const r=e instanceof oM?e.getTrackLabel():"remote_track",o=e.getVolumeLevel();let i=o,a=o;const s=Date.now();return new Uh((o=>{const c=setInterval((()=>{const l=e.getVolumeLevel();i=l>i?l:i,a=l<a?l:a;const u=i-a>1e-4,d=Date.now()-s;if(u||d>t){clearInterval(c);const t=u,a={duration:d,deviceLabel:r,maxVolumeLevel:i,result:t};oI.info("[track-".concat(e.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(a))),n.onSuccess(a),o(t)}}),200)}))},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=hI.reportApiInvoke(null,{tag:OC.TRACER,name:AC.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof KM||e instanceof lL)){const e=new pI(lC.INVALID_TRACK,"the parameter is not a video track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const r=e instanceof KM?e.getTrackLabel():"remote_track",o=e.getMediaStreamTrack(!0),i=document.createElement("video");i.style.width="1px",i.style.height="1px",i.setAttribute("muted",""),i.muted=!0,i.setAttribute("playsinline",""),i.controls=!1,(jw()||Lw())&&(i.style.opacity="0.01",i.style.position="fixed",i.style.left="0",i.style.top="0",document.body.appendChild(i)),i.srcObject=new MediaStream([o]),i.play();const a=document.createElement("canvas");a.width=160,a.height=120;let s=0,c=0;try{const e=Date.now();s=await function(e,t,n,r){let o,i=0,a=null;return new Uh(((s,c)=>{function l(){i>r&&o&&(o(),s(i));const t=n.getContext("2d");if(!t){const e=new pI(lC.UNEXPECTED_ERROR,"can not get canvas 2d context.");return oI.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const l=t.getImageData(0,0,n.width,n.height),u=Math.floor(l.data.length/3);if(a){for(let e=0;e<u;e+=3)if(l.data[e]!==a[e])return i+=1,void(a=l.data);a=l.data}else a=l.data}setTimeout((()=>{o&&(o(),s(i))}),t),o=Lx((()=>{l()}),30)}))}(i,t,a,4),c=Date.now()-e}catch(d){throw n.onError(d),d}CB===Aw.SAFARI&&(i.pause(),i.remove()),i.srcObject=null;const l=s>4,u={duration:c,changedPicNum:s,deviceLabel:r,result:l};return oI.info("[track-".concat(e.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(u))),n.onSuccess(u),l},setArea:EU,audioElementPlayCenter:nP,resumeAudioContext:function(){nP.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(e){EF.processExternalMediaAEC(e)},registerExtensions:function(e){const t=jR("PLUGIN_INFO")||[];e.forEach((e=>{"name"in e&&!Or(t).call(t,e.name)&&t.push(e.name);const n=e;n.__registered__=!0,n.logger.hookLog=oI.extLog,n.reporter.hookApiInvoke=hI.extApiInvoke,n.parameters&&Object.keys(n.parameters).forEach((e=>{n.parameters[e]=jR(e)}))})),Bq("PLUGIN_INFO",t)},ChannelMediaRelayError:LA,ChannelMediaRelayEvent:PA,ChannelMediaRelayState:MA,RemoteStreamFallbackType:ix,RemoteStreamType:ox,ConnectionDisconnectedReason:DC,AudienceLatencyLevelType:kC,AREAS:zA,preload:async function(e,t,n,r){return VB(e,t,n,r)}});return Object.defineProperties(zq,{onAudioAutoplayFailed:{get:()=>Zx.onAudioAutoplayFailed,set:e=>{Zx.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>Zx.onAutoplayFailed,set:e=>{Zx.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>zq._onSecurityPolicyViolation,set(e){zq._onSecurityPolicyViolation=e,wF(e)}},__CLIENT_LIST__:{get:()=>jR("SHOW_GLOBAL_CLIENT_LIST")?gI:[]}}),$x.on(_x.CAMERA_DEVICE_CHANGED,(e=>{oI.info("camera device changed",JSON.stringify(e)),zq.onCameraChanged&&zq.onCameraChanged(e),zq.safeEmit(iO.CAMERA_CHANGED,e)})),$x.on(_x.RECORDING_DEVICE_CHANGED,(e=>{oI.info("microphone device changed",JSON.stringify(e)),zq.onMicrophoneChanged&&zq.onMicrophoneChanged(e),zq.safeEmit(iO.MICROPHONE_CHANGED,e)})),$x.on(_x.PLAYOUT_DEVICE_CHANGED,(e=>{oI.debug("playout device changed",JSON.stringify(e)),zq.onPlaybackDeviceChanged&&zq.onPlaybackDeviceChanged(e),zq.safeEmit(iO.PLAYBACK_DEVICE_CHANGED,e)})),nP.onAutoplayFailed=()=>{oI.info("detect audio element autoplay failed"),Zx.onAudioAutoplayFailed&&Zx.onAudioAutoplayFailed()},Dx.on("autoplay-failed",(()=>{oI.info("detect webaudio autoplay failed"),Zx.onAudioAutoplayFailed&&Zx.onAudioAutoplayFailed(),zq.safeEmit(iO.AUTOPLAY_FAILED)})),Dx.on(BD.STATE_CHANGE,((e,t)=>{oI.info("audio context state changed: ".concat(t," => ").concat(e)),zq.onAudioContextStateChanged&&zq.onAudioContextStateChanged(e,t),zq.safeEmit(iO.AUDIO_CONTEXT_STATE_CHANGED,e,t)})),GC.on(VC.NETWORK_STATE_CHANGE,((e,t)=>{oI.info("[network-indicator] network state changed, ".concat(t," => ").concat(e))})),window&&(window.__ARTC__=zq),zq}();const LU=iO(MU.exports),UU="15cb0d28b87b425ea613fc46f7c9f974";var jU;LU.setLogLevel(3);const VU="undefined"!=typeof window,BU=()=>{};VU&&(null==(jU=null==window?void 0:window.navigator)?void 0:jU.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const zU=e=>e();function FU(e){return!!se()&&(ce(e),!0)}var HU=Object.defineProperty,GU=Object.defineProperties,WU=Object.getOwnPropertyDescriptors,qU=Object.getOwnPropertySymbols,KU=Object.prototype.hasOwnProperty,YU=Object.prototype.propertyIsEnumerable,XU=(e,t,n)=>t in e?HU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$U=(e,t)=>{for(var n in t||(t={}))KU.call(t,n)&&XU(e,n,t[n]);if(qU)for(var n of qU(t))YU.call(t,n)&&XU(e,n,t[n]);return e};var JU=Object.getOwnPropertySymbols,ZU=Object.prototype.hasOwnProperty,QU=Object.prototype.propertyIsEnumerable;function ej(e,t,n={}){const r=n,{eventFilter:o=zU}=r,i=((e,t)=>{var n={};for(var r in e)ZU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&JU)for(var r of JU(e))t.indexOf(r)<0&&QU.call(e,r)&&(n[r]=e[r]);return n})(r,["eventFilter"]);return Zo(e,(a=o,s=t,function(...e){a((()=>s.apply(this,e)),{fn:s,thisArg:this,args:e})}),i);var a,s}var tj=Object.defineProperty,nj=Object.defineProperties,rj=Object.getOwnPropertyDescriptors,oj=Object.getOwnPropertySymbols,ij=Object.prototype.hasOwnProperty,aj=Object.prototype.propertyIsEnumerable,sj=(e,t,n)=>t in e?tj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function cj(e,t,n={}){const r=n,{eventFilter:o}=r,i=((e,t)=>{var n={};for(var r in e)ij.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oj)for(var r of oj(e))t.indexOf(r)<0&&aj.call(e,r)&&(n[r]=e[r]);return n})(r,["eventFilter"]),{eventFilter:a,pause:s,resume:c,isActive:l}=function(e=zU){const t=Dt(!0);return{isActive:t,pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...n)=>{t.value&&e(...n)}}}(o),u=ej(e,t,(d=((e,t)=>{for(var n in t||(t={}))ij.call(t,n)&&sj(e,n,t[n]);if(oj)for(var n of oj(t))aj.call(t,n)&&sj(e,n,t[n]);return e})({},i),nj(d,rj({eventFilter:a}))));var d;return{stop:u,pause:s,resume:c,isActive:l}}function lj(e){var t;const n=Lt(e);return null!=(t=null==n?void 0:n.$el)?t:n}const uj=VU?window:void 0,dj=VU?window.navigator:void 0;function hj(...e){let t,n,r,o;if("string"==typeof e[0]?([n,r,o]=e,t=uj):[t,n,r,o]=e,!t)return BU;let i=BU;const a=Zo((()=>lj(t)),(e=>{i(),e&&(e.addEventListener(n,r,o),i=()=>{e.removeEventListener(n,r,o),i=BU})}),{immediate:!0,flush:"post"}),s=()=>{a(),i()};return FU(s),s}function pj(e,t,n={}){const{window:r=uj,ignore:o,capture:i=!0,detectIframe:a=!1}=n;if(!r)return;const s=Dt(!0);let c;const l=n=>{r.clearTimeout(c);const i=lj(e),a=n.composedPath();i&&i!==n.target&&!a.includes(i)&&s.value&&(o&&o.length>0&&o.some((e=>{const t=lj(e);return t&&(n.target===t||a.includes(t))}))||t(n))},u=[hj(r,"click",l,{passive:!0,capture:i}),hj(r,"pointerdown",(t=>{const n=lj(e);s.value=!!n&&!t.composedPath().includes(n)}),{passive:!0}),hj(r,"pointerup",(e=>{if(0===e.button){const t=e.composedPath();e.composedPath=()=>t,c=r.setTimeout((()=>l(e)),50)}}),{passive:!0}),a&&hj(r,"blur",(n=>{var r;const o=lj(e);"IFRAME"!==(null==(r=document.activeElement)?void 0:r.tagName)||(null==o?void 0:o.contains(document.activeElement))||t(n)}))].filter(Boolean);return()=>u.forEach((e=>e()))}function fj(e={}){const{navigator:t=dj,read:n=!1,source:r,copiedDuring:o=1500}=e,i=["copy","cut"],a=Boolean(t&&"clipboard"in t),s=Dt(""),c=Dt(!1),l=function(e,t,n={}){const{immediate:r=!0}=n,o=Dt(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}function s(){o.value=!1,a()}function c(...n){a(),o.value=!0,i=setTimeout((()=>{o.value=!1,i=null,e(...n)}),Lt(t))}return r&&(o.value=!0,VU&&c()),FU(s),{isPending:o,start:c,stop:s}}((()=>c.value=!1),o);function u(){t.clipboard.readText().then((e=>{s.value=e}))}if(a&&n)for(const d of i)hj(d,u);return{isSupported:a,text:s,copied:c,copy:async function(e=Lt(r)){a&&null!=e&&(await t.clipboard.writeText(e),s.value=e,c.value=!0,l.start())}}}const mj="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gj="__vueuse_ssr_handlers__";mj[gj]=mj[gj]||{};const vj=mj[gj];const yj={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function _j(e,t,n,r={}){var o;const{flush:i="pre",deep:a=!0,listenToStorageChanges:s=!0,writeDefaults:c=!0,shallow:l,window:u=uj,eventFilter:d,onError:h=e=>{}}=r,p=(l?xt:Dt)(t);if(!n)try{n=function(e,t){return vj[e]||t}("getDefaultStorage",(()=>{var e;return null==(e=uj)?void 0:e.localStorage}))()}catch(kk){h(kk)}if(!n)return p;const f=Lt(t),m=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}(f),g=null!=(o=r.serializer)?o:yj[m],{pause:v,resume:y}=cj(p,(()=>function(t){try{null==t?n.removeItem(e):n.setItem(e,g.write(t))}catch(kk){h(kk)}}(p.value)),{flush:i,deep:a,eventFilter:d});return u&&s&&hj(u,"storage",_),_(),p;function _(t){t&&t.key!==e||(p.value=function(t){if(!t||t.key===e){v();try{const r=t?t.newValue:n.getItem(e);return null==r?(c&&null!==f&&n.setItem(e,g.write(f)),f):"string"!=typeof r?r:g.read(r)}catch(kk){h(kk)}finally{y()}}}(t))}}var Ej,bj=Object.defineProperty,Tj=Object.defineProperties,Sj=Object.getOwnPropertyDescriptors,wj=Object.getOwnPropertySymbols,Cj=Object.prototype.hasOwnProperty,Rj=Object.prototype.propertyIsEnumerable,Ij=(e,t,n)=>t in e?bj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Aj(e,t={}){var n,r;const o=null!=(n=t.draggingElement)?n:uj,i=Dt(null!=(r=t.initialValue)?r:{x:0,y:0}),a=Dt(),s=e=>!t.pointerTypes||t.pointerTypes.includes(e.pointerType),c=e=>{Lt(t.preventDefault)&&e.preventDefault(),Lt(t.stopPropagation)&&e.stopPropagation()},l=n=>{var r;if(!s(n))return;if(Lt(t.exact)&&n.target!==Lt(e))return;const o=Lt(e).getBoundingClientRect(),i={x:n.pageX-o.left,y:n.pageY-o.top};!1!==(null==(r=t.onStart)?void 0:r.call(t,i,n))&&(a.value=i,c(n))},u=e=>{var n;s(e)&&a.value&&(i.value={x:e.pageX-a.value.x,y:e.pageY-a.value.y},null==(n=t.onMove)||n.call(t,i.value,e),c(e))},d=e=>{var n;s(e)&&a.value&&(a.value=void 0,null==(n=t.onEnd)||n.call(t,i.value,e),c(e))};return VU&&(hj(e,"pointerdown",l,!0),hj(o,"pointermove",u,!0),hj(o,"pointerup",d,!0)),h=((e,t)=>{for(var n in t||(t={}))Cj.call(t,n)&&Ij(e,n,t[n]);if(wj)for(var n of wj(t))Rj.call(t,n)&&Ij(e,n,t[n]);return e})({},function(e){if(!kt(e))return zt(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const n in e.value)t[n]=Bt((()=>({get:()=>e.value[n],set(t){if(Array.isArray(e.value)){const r=[...e.value];r[n]=t,e.value=r}else{const o=(r=$U({},e.value),GU(r,WU({[n]:t})));Object.setPrototypeOf(o,e.value),e.value=o}var r}})));return t}(i)),p={position:i,isDragging:ma((()=>!!a.value)),style:ma((()=>`left:${i.value.x}px;top:${i.value.y}px;`))},Tj(h,Sj(p));var h,p}function Oj(e,t,n={}){const{window:r=uj}=n;return _j(e,t,null==r?void 0:r.localStorage,n)}function Nj(e,t={}){const{handleOutside:n=!0,window:r=uj}=t,{x:o,y:i,sourceType:a}=function(e={}){const{type:t="page",touch:n=!0,resetOnTouchEnds:r=!1,initialValue:o={x:0,y:0},window:i=uj,eventFilter:a}=e,s=Dt(o.x),c=Dt(o.y),l=Dt(null),u=e=>{"page"===t?(s.value=e.pageX,c.value=e.pageY):"client"===t&&(s.value=e.clientX,c.value=e.clientY),l.value="mouse"},d=()=>{s.value=o.x,c.value=o.y},h=e=>{if(e.touches.length>0){const n=e.touches[0];"page"===t?(s.value=n.pageX,c.value=n.pageY):"client"===t&&(s.value=n.clientX,c.value=n.clientY),l.value="touch"}},p=e=>void 0===a?u(e):a((()=>u(e)),{}),f=e=>void 0===a?h(e):a((()=>h(e)),{});return i&&(hj(i,"mousemove",p,{passive:!0}),hj(i,"dragover",p,{passive:!0}),n&&(hj(i,"touchstart",f,{passive:!0}),hj(i,"touchmove",f,{passive:!0}),r&&hj(i,"touchend",d,{passive:!0}))),{x:s,y:c,sourceType:l}}(t),s=Dt(null!=e?e:null==r?void 0:r.document.body),c=Dt(0),l=Dt(0),u=Dt(0),d=Dt(0),h=Dt(0),p=Dt(0),f=Dt(!0);let m=()=>{};return r&&(m=Zo([s,o,i],(()=>{const e=lj(s);if(!e)return;const{left:t,top:a,width:m,height:g}=e.getBoundingClientRect();u.value=t+r.pageXOffset,d.value=a+r.pageYOffset,h.value=g,p.value=m;const v=o.value-u.value,y=i.value-d.value;f.value=0===m||0===g||v<0||y<0||v>m||y>g,!n&&f.value||(c.value=v,l.value=y)}),{immediate:!0})),{x:o,y:i,sourceType:a,elementX:c,elementY:l,elementPositionX:u,elementPositionY:d,elementHeight:h,elementWidth:p,isOutside:f,stop:m}}function kj(e={}){const{window:t=uj,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:o=!0}=e,i=Dt(n),a=Dt(r),s=()=>{t&&(i.value=t.innerWidth,a.value=t.innerHeight)};return s(),function(e,t=!0){Qi()?Ir(e):t?e():dn(e)}(s),hj("resize",s,{passive:!0}),o&&hj("orientationchange",s,{passive:!0}),{width:i,height:a}}!function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"}(Ej||(Ej={}));const Dj={class:"mini_stream_text",style:{"margin-left":"5px"}},xj=wU({__name:"miniStreamContainer",props:{showType:{type:Number,default:0,required:!0},callTime:{type:String,default:"00:00",required:!0}},emits:["changeMiniSize"],setup(e,{emit:t}){const n=e,{showType:r,callTime:o}=zt(n),i=t,{width:a,height:s}=kj(),c=Dt(null),{style:l}=Aj(c,{initialValue:{x:a.value-136,y:0},onMove:e=>{e.x>a.value-136&&(e.x=a.value-136),e.x<0&&(e.x=0),e.y>s.value-116&&(e.y=s.value-116),e.y<0&&(e.y=0)},preventDefault:!0,stopPropagation:!0}),u=()=>{i("changeMiniSize",!1)};return(e,t)=>(Ri(),ki("div",{class:"mini_stream_container",ref_key:"miniStreamContainer",ref:c,style:z([Lt(l),{position:"fixed"}])},[Ui("div",{class:"minimodal",onClick:Js(u,["prevent","stop"])}),Ui("div",null,[Cn(Ui("span",Dj,t[0]||(t[0]=[zi(""),Ui("span",{class:"dot"},"...",-1)]),512),[[Za,0===Lt(r)]]),Cn(Ui("span",{class:"mini_stream_text"},ee(Lt(o)),513),[[Za,1===Lt(r)]])])],4))}},[["__scopeId","data-v-2f67c4aa"]]),Pj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAABZVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgQEBAcHBweHh4pKSksLCwuLi4vLy8zMzM6Ojo8PDxKSkpUVFRXV1daWlpgYGBhYWFsbGxubm5vb290dHR1dXV4eHh5eXl6enp7e3t8fHx/f3+IiIiKioqKioqNjY2Ojo6QkJCRkZGSkpKTk5OUlJSZmZmampqbm5ucnJydnZ2lpaWmpqapqamqqqqtra2urq6ysrK0tLS1tbW6urq9vb2/v7/CwsLExMTLy8vLy8vS0tLW1tbW1tbY2NjY2Nja2trc3Nzi4uLm5ubm5ubn5+fu7u7w8PD09PT5+fn5+fn6+vr8/Pz8/Pz9/f3+/v7+/v7///////9LPp8TAAAAdnRSTlMAAQQFCgsPEBQgIycqNTc5OkhKS09ZXmNpamtvcHJzd3h5fYCBg4eHiouMjI2QkJWYmZudnaGio6WlpqenqKiqra6vsLCxsrKzs7a2t7e4vL2+v8HBxMTFycrMzs7T1Njb3Nzd39/l5+jo7/D0+Pn5+/z9/f7+AYwGawAAAwFJREFUWMPFmetbElEQxkdXREBA7hdRLoNmZN5KM/PS1UwtJRTFUjNLTQVFYf7+PnhhN2XOWTg+vV939vdwOLPvzJkDwMtid3mDkVg8lYrHIkGvy26BxqU5PGG8o7DHoTVCa7H5k1hHSb+txSSu1dmNrLqdrWbW6u5FoXrd0it3xFBKMYcUzhpAaQWsYl5nAk0o0SnaDC+alJfdnLYQmlaorT6vPYoNKNpej9fRgw2pp6PO72uQh9hz729si2LDit7zP7aGsAmF7u61F5uS904+Y5P6J8OtiWaBCeNXGMCmFTD4CyqQzns0gV9l1g6LxcO1jMDNav7YxUe+LxEREZXe8XHu2xTk/XmJbrXEe/hNMjrZsNHLGvBilA11Xtc3vh7tkU57fOW6qoU2NmigogdWBthgGwAA+NmYKTJoig32AwBoSTZmwQj8yAYnNXFSLxqBi+Lk9qgEegAgrBIYBrCgSiBawK4WaAeXWqALfGqBPgiqBQYhohYYAdZbH+8fnBiBJwf7T1mXhTj3+DXdoyz3RhxS3OMPlP9upH3L0zr3RkoEnPlkBC7MiICCJb+ZNgKn39JXfsnspryilSdVPa+aWeE3OsanzRjt4W898Bf+pJd82rCJ/YjKmee6GlB5linTAJ/YPkGFKuBqDbiKBfoh6MJ4cxirVifxS/kKV/6Mk9XqmMAcBPa1TsUJHNo8rlSON4fwRZFPGkS7yGDTu3SR70dMpxH78xe0mxYZrKgEpLeISjvLc3PLOyWirbSwBIiKFOL40c2eHI6LYj1yveFIdvvsbDs7ItcjCgr9tf4cyUQlNXErYgrol2iWTAFtMu2cCeB1OydoOBGH53O509Ncbn5YEOiUaon7CrVvudAn1RKDmwvb0NvXhlTTzh4rBi/1wMtBqWMFl9yzxhIwK3Xw4Y5mE+d63vmE3NFM/eFR+fFW/QFc/YhA+RBD/ZhF/SBI/ahK/TBN/bhP/UDyAUam6oe6AKB1yYydu7T/Nxh/gNH9A1wu1K4/fLXrD5/4+uMvDEtYzCWIYWAAAAAASUVORK5CYII=",Mj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAABp1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIEBAQGBgYICAgKCgoMDAwODg4QEBARERETExMVFRUXFxcZGRkbGxscHBweHh4iIiIjIyMnJycpKSkqKiosLCwuLi4vLy8xMTEzMzM2NjY6Ojo8PDw/Pz9BQUFERERHR0dKSkpLS0tNTU1PT09RUVFUVFRVVVVXV1dZWVlaWlpdXV1fX19gYGBhYWFiYmJkZGRlZWVoaGhpaWlsbGxubm5vb29zc3N1dXV2dnZ5eXl6enp7e3t8fHx9fX1/f39/f3+BgYGCgoKDg4OEhISFhYWGhoaIiIiKioqKioqMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqcnJydnZ2enp6fn5+goKCgoKCioqKioqKkpKSkpKSmpqanp6eoqKipqamqqqqrq6sKB1vfAAAAjXRSTlMAAQQFCgsPEBQgIycqNTc5OkhKS09ZXmNpamtvcHJzd3h5fYCAgIGBgoKDg4SEhYWGhoeHiImKiouLjIyNjY6QkJGSk5SVlZaXl5iZmZqbnJydnZ6en6CgoaKjpKWmp6eoqKmpqqqrq6ysra2ur6+wsLGxsrKzs7S0tbW2tre4uLm5urq7u7y9vb6+v78Th7meAAADlElEQVRYw8WZ+VcSURTHR3EDBASUTQzkBigK5J6apomm4RKmqZhlplZmZoaiuWS5pdw/OiSWIZj3HjCevr/MzHlzPmfevDvfe98djiOrVKbU6Ixmi81mMRt1GqWslMtfErnaABkyqOWSfGhF0up6EFB9tbQoR1yxohaIqlUU5zJX1T2g6p6KeeZyMzDJLGfCldcAs2rK6bxKK+QgayVtMTSQozTExSnRQ87SlwjzykyQh0xlQryKOshLdRUCz5cnL0rM+owlJshbpizvsVgPBUifudYaKEiajHiGAvVPhJdbCwVa07/CGihYNWn+AiKI5z0SsxhAc8ofqzJHhz8/SJ67Auvf99dG7DSiKhmCWfx5CA888dOxM4xpv4vm4YlgVGQbHcewO3bix4QuOyhERTy/Zc9Hk7jXHD30RZJA/EqZde3fXCgVGJ7CUBPABvI0SXlEaQxYLTQ8jTsu+y4fuEsBVsdiRjCfwyxuN7rDPGDEQQbWSyhB/RK3GjwHPGILQ3CrSTfM42aD9zAFbKMA1VGggXjHW/zkbDliBhqi9Rr5jhnEj47WY1YglHIyKhDfO9pOWIEyTkkH4pq9/QcjUMlpGYC4Yu/4yQbUcjoWIC7bO38xAXWckQmIr+93nbEAjRzJW70+30pifV9B9zmi3zdINggzZyGMrvO/40Xovbg9+ohAC2cjjG5ejKymiEHou5yYw1Ei0EYEbpxDgPeM89Df/ASHKUDSlJfQOcKf9dytkT+mTJm0KAHs90b4xFnov/JQFoUUNl24ACt8IE5DLy1siIG9d+luPk3hPoTwOTWwiZ/eEL6BgasE75urk5pWNBRzWMMp6N6J4X4Hna5dPMFxijmQ7csVxqAT+maWFvxueBjGQDQhPCPbF8Vgm7bw2B/L+D2L1zfRN+g9jIwRDZaSAsA+eYGRw61Q9EPeia1wy1HkKSkFkJPUrRpG3+3j1VbwUfy69TgyTEpSTLUhLvMu2k5uBglplJDoBYDQfvSCkOiFSxFBILkUESyW8gBKSeUcL3Q8Hlz1eBxUXrycy15wJjWRqBuuv/SwFZxZS2JedZPSdQ9bScyphG/qSPPDbbainbStGEuzw5tGtm0FIbgHjk95CjnYNj7ib83E3zyKvr0VfwMufotA9CaG+G0W8RtB4reqxG+mid/uE78heQctU/Gburf+WMXSdq6S/L/G+B207u/g50Lq94c29ftDS//98QdzNG/F/URQnQAAAABJRU5ErkJggg==",Lj={key:0,class:"stream_invite_box",title:""},Uj={class:"invite_name"},jj={class:"time"},Vj={class:"stream_audio_container"},Bj={class:"audio_name"},zj={class:"stream_video_container"},Fj={class:"stream_control"},Hj=["src"],Gj=wU({__name:"singleCall",props:{callKitStatus:{type:Object,default:()=>({}),required:!0}},emits:["getAgoraRtcToken","updateLocalStatus","handleCancelCall","handleVideoToVioce"],setup(e,{emit:t}){const{width:n,height:r}=kj(),o=Dt(null),{style:i}=Aj(o,{initialValue:{x:n.value/2-146,y:r.value-750},onMove:e=>{e.x>n.value-292&&(e.x=n.value-292),e.x<0&&(e.x=0),e.y>r.value-500&&(e.y=r.value-500),e.y<0&&(e.y=0)},stopPropagation:!0}),a=Dt(null),{isOutside:s}=Nj(a),c=e,{callKitStatus:l}=zt(c),{EVENT_NAME:u,CALLKIT_EVENT_TYPE:d,CALLKIT_EVENT_CODE:h,PUB_CHANNEL_EVENT:p}=hU(),f=Dt(!1),m=e=>{f.value=e},g=Dt(!1),v=Dt(null),y=Dt(null),_=t;let E=null,b=null,T=null;const S=yt({voice:!1,video:!1});E=LU.createClient({mode:"live",codec:"h264"}),E.setClientRole("host");Ir((()=>{E.on("user-published",(async(e,t)=>{if(await E.subscribe(e,t),"video"===t){const t=e.videoTrack;setTimeout((()=>{t.play(y.value)}),300)}"audio"===t&&e.audioTrack.play()})),E.on("user-unpublished",((e,t)=>{})),E.on("user-left",((e,t)=>{N(!1)}))})),Zo((()=>l.value.localClientStatus),((e,t)=>{e===qL.confirmCallee&&w()}),{immediate:!0});const w=()=>{_("getAgoraRtcToken",(async()=>{await A()}))},C=Dt(null),R=Dt(0),I=ma((()=>{const e=Math.floor(R.value/60),t=R.value%60,n=Math.floor(e/60),r=e%60;return`${n>0?n+":":""}${r<10?"0"+r:r}:${t<10?"0"+t:t}`})),A=async()=>{const e=l.value.channelInfos,t=e.channelName,n=e.agoraChannelToken,r=e.agoraUserId,o=e.callType;try{(async e=>{const t={type:{},ext:{},callType:e};e===GL.SINGLE_VOICE&&((await LU.getMicrophones()).length||(t.type=d[h.NOT_HAVE_MICROPHONE],t.ext.message="",p(u,{...t})));if(e===GL.SINGLE_VIDEO){const e=await LU.getCameras(),n=await LU.getMicrophones();e.length||(t.type=d[h.NOT_HAVE_CAMERA],t.ext.message="",p(u,{...t})),n||(t.type=d[h.NOT_HAVE_MICROPHONE],t.ext.message="",p(u,{...t}))}})(o),await E.join(UU,t,n,r),C.value&&clearInterval(C.value),C.value=setInterval((()=>{R.value++}),1e3),g.value=!0,b=await LU.createMicrophoneAudioTrack(),T=await LU.createCameraVideoTrack(),o===GL.SINGLE_VOICE&&(b&&await E.publish(b),k("voice")),o===GL.SINGLE_VIDEO&&(b&&T&&await E.publish([b,T]),setTimeout((()=>{T.play(v.value)}),300),k("allPlay"))}catch(i){b&&b.close(),T&&T.close()}},O=()=>{_("handleCancelCall")},N=async e=>{await E.leave(),e&&O();const t={type:d[h.HANGUP],ext:{message:`${I.value}`,calltime_length:R.value},callType:l.value.channelInfos.callType,eventHxId:l.value.channelInfos.callerIMName};p(u,{...t}),_("updateLocalStatus",qL.idle)},k=e=>{if("allPlay"===e&&(S.voice=!0,S.video=!0),"voice"===e){const e=S.voice;b.setEnabled(!e),S.voice=!e}if("video"===e){const e=S.video;T.setEnabled(!e),S.video=!e}},D=Dt(!0),x=()=>D.value=!D.value;return Nr((()=>{b&&b.close(),T&&T.close(),C.value&&clearInterval(C.value)})),(e,t)=>(Ri(),ki("div",null,[Cn(Ui("div",{ref_key:"singleContainer",ref:o,class:"app_container",style:z([Lt(i),{position:"fixed"}])},[Ui("div",{class:"mini_stream_icon",onClick:t[0]||(t[0]=e=>m(!0))}),Ui("div",{class:"stream_container",ref_key:"streamContainer",ref:a},[Lt(l).localClientStatus===Lt(qL).inviting?(Ri(),ki("div",Lj,[t[6]||(t[6]=Ui("img",{class:"invite_avatar",src:TU,alt:"",draggable:"false"},null,-1)),Ui("p",Uj,ee(Lt(l).inviteTarget||""),1),t[7]||(t[7]=Ui("p",{class:"invite_text"},[zi(" "),Ui("span",{class:"dot"}," ...")],-1))])):Hi("",!0),Lt(l).localClientStatus===Lt(qL).confirmCallee?(Ri(),ki(Ei,{key:1},[Ui("div",jj,ee(I.value),1),Cn(Ui("div",Vj,[t[8]||(t[8]=Ui("img",{class:"audio_avatar",src:TU,alt:""},null,-1)),Ui("p",Bj,ee(Lt(l).inviteTarget||Lt(l).channelInfos.callerIMName),1)],512),[[Za,0===Lt(l).channelInfos.callType]]),Cn(Ui("div",zj,[Ui("div",{class:q([D.value?"smallContainer":"mainContainer"]),ref_key:"smallContainer",ref:v,onClick:t[1]||(t[1]=()=>D.value&&x())},null,2),Ui("div",{class:q([D.value?"mainContainer":"smallContainer"]),ref_key:"mainContainer",ref:y,onClick:t[2]||(t[2]=()=>!D.value&&x())},null,2)],512),[[Za,1===Lt(l).channelInfos.callType]])],64)):Hi("",!0),Cn(Ui("div",Fj,[Lt(l).localClientStatus===Lt(qL).inviting?(Ri(),ki("div",{key:0,class:"stream_invite_btn",onClick:O},t[9]||(t[9]=[Ui("img",{src:SU,alt:"",draggable:"false"},null,-1),Ui("p",{class:"btn_text"},"",-1)]))):Hi("",!0),Lt(l).localClientStatus===Lt(qL).confirmCallee?(Ri(),ki(Ei,{key:1},[Ui("div",{class:"stream_calling_btn",onClick:t[3]||(t[3]=e=>k("voice"))},[Ui("img",{src:S.voice?Lt(Pj):Lt(Mj),alt:"",draggable:"false"},null,8,Hj),t[10]||(t[10]=Ui("p",{class:"btn_text"},"",-1))]),Ui("div",{class:"stream_calling_btn",onClick:t[4]||(t[4]=e=>N(!0))},t[11]||(t[11]=[Ui("img",{src:SU,alt:"",draggable:"false"},null,-1),Ui("p",{class:"btn_text"},"",-1)])),Cn(Ui("div",{class:"stream_calling_btn",onClick:t[5]||(t[5]=()=>{_("handleVideoToVioce")})},t[12]||(t[12]=[Ui("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAMAAAC93eDPAAACH1BMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////kmOy0AAAAtHRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExUWFxkaGx0eHyAhJCcqKywtMjQ1ODk6Ozw9Pj9ARUZHSEpLTE1OT1BRUlNUVldYWVpbXF5gYmRmaGpsbW9wcnN1dnd4ent/i4yNjpGSlZaXmJmam5ydnqChpqepqqusrbCxs7S1t7u+v8DCw8TFxsfIysvMzc7P0dPU1dbX2Nna3N3f4OHi4+Tl5ufp6uvs7e7v8fLz9PX29/j5+vv8/f6d5akhAAAHA0lEQVR42s1c618bVRCdBGiKUHmVQisvWx6itGCtgFQFyqMWLCkYrEBRgyCtCppSoAgVooCWUtOiFgLYghJeaQ1hzx/oh+yGFEKY3STLzqckv3Nnz+7eO3dm7kyIlIg+s8TYbhmZXnRsut2bjsXpEUu7sSRTT+pIWrV5fAN+ZWPcXJ0W5svHlnXOAoBgHzKbKoqyU+OjIyKi41OziypM5iG7AACznWWx4bp+TGWfE8Byf3Nhgn9EQmFz/zIAZ19lTBgI5HatAe7RlhxdYJwup2XUDax15Yb2+pFVk4BgNabw4ClGqwBMVkWGjIChYRZYasuSMybrxhIw22AIzROotwO2OtnKDHU2wF4fgidxwQZMlemUDNWVTQG2C8EagQFgplyndLiufAYYCMZU6BvX4WiKCuYeopocWG9UbDYzrEBvcrBvMrkXsGYoG1u7ivniUEzo4nms1ipZid3AYFJoVnXSIPC17CV1agIuky5UlkVncmHilLwxZxYwlx9K+/rmHBbOyBlQsILhxNDa+MRhrBTw4aVOWAwUYjFY4Czlgq9soSMMDpC+A1tXmAwEoTU8HkerILA4lG4JxnB5PUZhi/EuCpxopbBJK5wHzskzK+gIp/fZgZUD1uapBVjC6orrLVgIaKMMExg2UFjFMIyJQJfoxlwihVkS59AdYG+EK5/CLvku7LtvZqzCpEY8ZsLqPv6D3opBnRoUdIOw+p/zjZhPIlUkaR6N/n5PX0cxqSTFWE/38/MAekg16cGAn3gBjmT1KCQ7sCe+iLShiVSUJth2x1n1mIlSk0LUDOp3mU07yklVKYf9ZTvdgCmduhR0U2h4aSbMoYxUljLM+s6GKth0alPQ2VDl83USdaS61GFy50selgzqUzAsIc/7pQttdAjShi7pY8yakBWUrqwqZcOENSk3WImx4G7ntPuyonFjqBQ/9SHIwOE0tq8oGWdEn+dDrNOdIn9JJaTvyHlgu14BhRS305MrvohReSPfuH736dbuFLhwVQGHUdEidqJFxqi4azb/aXjhmnwKLegkIqJZ5PCff90S9hPhE9kUcjBLRJSGZbZxThtHIJE9H3TLSCOiGvRzR5x9FpDBI2lW134XwdTYj2oiMqOZ63T+F5DBwxMSAzd6mByaYSaicRQyF8JGQAYPju8wAL7g6SzEOJF+Q0hgoU8u+1xvc+z2rZte6QNwP8mXAQSe/5EgbOgpE3Ye4QHv9d19bx/ZZR3xa+JLDIB/T7C02pFJpRhiYWu8DO7n7TXQ4/Hix9eeS7AvWWqHUEpGmDnQiL8k1b1H9+4R1ld34pFNEfeCdQZghpHaedF0hcTgth8jknDM58slQUTe4EXZ7WRBBQf6s6jXFn0g9KYIndexbs1CIyjiBGDbohE+dzD2+KrI4SxDcRFGaBrZDGStqHWY88S+EsGfMbDZmKZFpDKQ34haKzkU3hLB3zOwqVgkB+IYyHsepdusZNgRcWE+4uz9cNAmohnIJx6lf/Cs2O8e9DMGNBqb5AZnR3F6lP7EdUsBAKscewM3k4I4yX/kUZj0oJ1MCrwXIToKv/EozHvQT5gvwoF4BvKRR+kayw1IFVfEPQY2Hg7movxB1MryMj8SwbeYi5JnmlpErZ9zKEgOZi3TNPEM9DlR6z+Mt/aOiN0+zjTQvG1KvyDqPdghi5W2dVagWgELd7Nul27tPd+AzE99RMRdaVtn5c9MaOe6LBmS97y24+ymPH5lDy7mjsTgT9bpjhlGKmE6bmZJ9VqylwH2UCh46PXvLjEdtxK2+5ri8Gh2vb/DYBeFo+8OCF4Gd3hWzI5MvhNfLgCA6wNpQT8G8O2OI3+r75fnPl7+M16+IEHY0MsIZToAuD70ZbC/rDMLqwoxLiegi7TAJc3y1JmADF6cZ8aInoCumh3WRvYwGfzNPmTzhLVygntJPg7IYPSkzOBeVopDkuv7E3h6mX9HYopDZqLnAA4Prh5TkOiRne4iIqJP91zdtdhvkllhKKW7FCX9PBxez/BKWrx8Fd6kn9LUZzP2GmiFqU+qhJWUcQiSgtUbGilOg5uig2LgkwbXwGEA5R7WkUiub+xx2AdDWjgei5w99ENCDRyVauHAWAPH5looHtBACQXRAHrVo9Drr5CE0tQtp/GbHj78oiItlFZpoMBMC2V2Wig21ELJpQYKT7VQfquFImQtlGJroSBdC2X5WmhO0EKLRhgaVfLlNqpooV0n9E1L3Uom16G3bpGnga0n+Aa2HuUNbFpo4yOi9FA0M6YH+RwPvaWTtNDYSkSGhjn57b1tS8BcQ+jMvKfJeYzf5DwW4iZnIiLKk9vqnReG3f7QG96JiCj24q62/7joiIjouF1t/xfD1vYvhb81gf78oCbcf37gNZuZpXv/AqJU4V9A/A+IA56ANl2iKgAAAABJRU5ErkJggg==",alt:"",draggable:"false"},null,-1),Ui("p",{class:"btn_text"},"",-1)]),512),[[Za,1===Lt(l).channelInfos.callType]])],64)):Hi("",!0)],512),[[Za,!Lt(s)]])],512)],4),[[Za,!f.value]]),Cn(ji(xj,{"show-type":g.value?1:0,"call-time":I.value,onChangeMiniSize:m},null,8,["show-type","call-time"]),[[Za,f.value]])]))}},[["__scopeId","data-v-7d5d5479"]]),Wj={class:"time"},qj=["id"],Kj={class:"userInfo"},Yj={class:"userIMId"},Xj={class:"muteStatus"},$j={class:"volumeStatus",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAMAAADto6y6AAABPlBMVEUAAAAA/wAAf38A/39A/38zzGYq1H9J221G0XRA1GpAz3A51HFAzHM3029D02891nA72HZA0W0+03I7zG5Az3A+z25B0W9A0mxA0nM+zXBB1XFA0W4+1XI90XA80W9A1G491G8/1HE/0G490W890W4/0HA+0W4/0m4+03A90G890m8/0m8/0G4/0HA/0nA+0W4+0m8+0XA/0nA/0W490HA+03A90nA+0XE+0m8+0W8+0m890W8/0m8/0W4/0XA+0W8+0nA90G8/0m8+0W8+0W8+0XA+0W890m8+0nA+0m8+0W8+0nA+0XA90HA+0m8+0W4+0XA+0G8+0W8+0m8+0W8+0W8+0W8+0G8+0m8+0W8+0XA+0W8+0W8+0W8+0nA+0W8+0W4+0m490W8+0W8+0W890m8+0W4+0W8+0m8+0W/xmVXQAAAAaXRSTlMAAQICBAUGBwsMEBIUFxcZGhwdHiAlJygoKSssMTI3PEdNUVNYXV9hYmxscXJycnR3gIKGiYuNkZOXmJqam5ucnZ6eoayyvb/AxcjIydDR0tnb3eHi5OXm5ujp6u709Pb39/n6/P3+/v6BRgf3AAAA5UlEQVQYGW3BBz8CAQDG4b9RdJnZsrfM7HV3GdmyCRkN8n7/L+DSD3flefjTd/a8VkWZitmMpHFKBeMq2KRE/7W+7eBoWe/AMZZIJh8/VbSNY0pXQRiVW4xKMC61Cxdys5tSG9D7nusiJzc7lNYg7GkBedjM6QBGdIw8bALZrJ92PSAPC27USIMyyMOi+iVfS7fukIfFsBIwoUPkYRn3isC+5nmVm9n5ceRjQG/NxOVmEg4QetIytN3KxcQxrdMaoC4SjS6eq8jEYczU88O/mlfBFmWGUnIsUa71REqH+YdvcqWHX1+ya3R3OAkocgAAAABJRU5ErkJggg=="},Jj={class:"stream_control"},Zj={class:"stream_multiCall_btn"},Qj=["src"],eV={class:"stream_multiCall_btn"},tV=["src"],nV={class:"stream_multiCall_btn"},rV=["src"],oV={__name:"multiCall",props:{callKitStatus:{type:Object,default:()=>({}),required:!0},loginUserHxId:{type:String,default:"",required:!0}},emits:["getAgoraRtcToken","getAgoraChannelDetails","updateLocalStatus","onInviteMembers","handleCancelCall"],setup(e,{emit:t}){const n=Dt(null),{width:r,height:o}=kj(),{style:i}=Aj(n,{initialValue:{x:600,y:40},onMove:e=>{e.x>r.value-500&&(e.x=r.value-500),e.x<0&&(e.x=0),e.y>o.value-350&&(e.y=o.value-350),e.y<0&&(e.y=0)},stopPropagation:!0}),a=Dt(!1),s=e=>{a.value=e},c=Dt(null),{isOutside:l}=Nj(c),u=e,{callKitStatus:d,loginUserHxId:h}=zt(u),p=t;let f=null;f=LU.createClient({mode:"live",codec:"h264"}),f.setClientRole("host");let m=null,g=null;const v=yt({voice:!1,video:!1}),y=yt([]);Ir((()=>{f.on("user-joined",(e=>{const t=e.uid.toString();N("create",t)})),f.on("user-published",(async(e,t)=>{await f.subscribe(e,t);const n=e.uid.toString();if("video"===t){const t=e.videoTrack;dn((()=>{const e=document.getElementById(n);e?setTimeout((()=>{t.play(e)}),300):setTimeout((()=>{t.play(document.getElementById(n))}),500),k("videoPlay",n,!0)}))}"audio"===t&&(e.audioTrack.play(),k("muteStatus",n,!1))})),f.enableAudioVolumeIndicator(),f.on("volume-indicator",(e=>{D(e)})),f.on("user-unpublished",((e,t)=>{const n=e.uid.toString();"video"===t&&k("videoPlay",n,!1),"audio"===t&&k("muteStatus",n,!0)})),f.on("user-left",((e,t)=>{const n=e.uid.toString();N("remove",n),0===y.length&&O()}))}));const{EVENT_NAME:_,EVENT_LEVEL:E,CALLKIT_EVENT_TYPE:b,CALLKIT_EVENT_CODE:T,PUB_CHANNEL_EVENT:S}=hU();Zo((()=>d.value.localClientStatus),((e,t)=>{e===qL.confirmCallee&&t!==qL.inviting&&w(),e===qL.inviting&&setTimeout((()=>{w()}),500)}),{immediate:!0});const w=()=>{p("getAgoraRtcToken",(async()=>{A()}))},C=Dt(null),R=Dt(0),I=ma((()=>{const e=Math.floor(R.value/60),t=R.value%60,n=Math.floor(e/60),r=e%60;return`${n>0?n+":":""}${r<10?"0"+r:r}:${t<10?"0"+t:t}`})),A=async()=>{const e=d.value.channelInfos,t=e.channelName,n=e.agoraChannelToken,r=e.agoraUserId;(async e=>{const t={type:{},ext:{},callType:GL.MULTI_VIDEO};if(e===GL.SINGLE_VOICE)(await LU.getMicrophones()).length||(t.type=b[T.NOT_HAVE_MICROPHONE],t.ext.message="",S(_,{...t}));else if(e===GL.SINGLE_VIDEO||!e){const e=await LU.getCameras(),n=await LU.getMicrophones();e.length||(t.type=b[T.NOT_HAVE_CAMERA],t.ext.message="",S(_,{...t})),n||(t.type=b[T.NOT_HAVE_MICROPHONE],t.ext.message="",S(_,{...t}))}})();try{await f.join(UU,t,n,r),C.value&&clearInterval(C.value),C.value=setInterval((()=>{R.value++}),1e3),y.push({easeimUserId:h.value,agoraUserId:r.toString(),volume:0,muteStatus:!1,videoPlay:!0}),m=await LU.createMicrophoneAudioTrack(),g=await LU.createCameraVideoTrack(),m&&g&&await f.publish([m,g]),x("allPlay"),setTimeout((()=>{const e=document.getElementById(`${r}`);g.play(e)}),300)}catch(o){}},O=async()=>{if([qL.inviting,qL.confirmRing].includes(d.value.localClientStatus))await f.leave(),p("handleCancelCall");else{await f.leave();const e={type:b[T.HANGUP],ext:{message:`${I.value}`,calltime_length:R.value},callType:d.value.channelInfos.callType,eventHxId:d.value.channelInfos.groupId};S(_,{...e})}p("updateLocalStatus",qL.idle)},N=(e,t)=>{if("create"===e){const e=y.some((e=>e.agoraUserId===t));if(e)return;if(!e){const e=d.value.channelInfos.channelUsers;if(e[t])return void y.push({easeimUserId:e[t],agoraUserId:t.toString(),volume:0,muteStatus:!1,videoPlay:!1});return void p("getAgoraChannelDetails",(()=>{const e=d.value.channelInfos.channelUsers;y.push({easeimUserId:e[t],agoraUserId:t.toString(),volume:0,muteStatus:!1,videoPlay:!1})}))}}if("remove"===e&&document.getElementById(t)){const e=y.findIndex((e=>e.agoraUserId===t));e>-1&&y.splice(e,1);const n=document.getElementById(t);c.value.removeChild(n)}},k=(e,t,n)=>{const r=d.value.channelInfos.channelUsers[t];if(r){const t=y.length>0&&y.findIndex((e=>e.easeimUserId===r));"volume"===e&&-1!==t&&(y[t].volume=n),"muteStatus"===e&&-1!==t&&(y[t].muteStatus=n),"videoPlay"===e&&-1!==t&&(y[t].videoPlay=n)}},D=e=>{const t=d.value.channelInfos.channelUsers;e.forEach((e=>{const{level:n}=e,r=e.uid.toString(),o=t[r];if(o){const e=y.filter((e=>e.easeimUserId===o));if(1===It(e[0]).volume&&1*n>=5)return;!0===e[0].muteStatus&&k("volume",r,0),0===It(e[0]).volume&&1*n>=5&&k("volume",r,1),1===It(e[0]).volume&&1*n==0&&k("volume",r,0)}}))},x=e=>{if("allPlay"===e&&(v.voice=!0,v.video=!0),"voice"===e){const e=v.voice;m.setEnabled(!e),v.voice=!e}if("video"===e){const e=v.video;g.setEnabled(!e),v.video=!e}},P=()=>{const e=d.value.channelInfos.groupId;p("onInviteMembers",{groupId:e})};return Nr((()=>{m&&m.close(),g&&g.close(),C.value&&clearInterval(C.value)})),(e,t)=>(Ri(),ki("div",null,[Cn(Ui("div",{ref_key:"multiContainer",ref:n,class:"app_container",style:z([Lt(i),{position:"fixed"}])},[Ui("div",{class:"mini_stream_icon",onClick:t[0]||(t[0]=e=>s(!0))}),Ui("div",Wj,ee(I.value),1),Ui("div",{class:"stream_container",ref_key:"streamContainer",ref:c},[(Ri(!0),ki(Ei,null,Hr(y,(e=>(Ri(),ki("div",{class:q([y.length<=2?"stream_two_user_container":"stream_users_container"]),key:e.agoraUserId,id:e.agoraUserId},[Ui("div",Kj,[Ui("span",Yj,ee(e.easeimUserId),1),Cn(Ui("span",Xj,"",512),[[Za,e.muteStatus]]),Cn(Ui("img",$j,null,512),[[Za,e.volume>0]])])],10,qj)))),128)),Cn(Ui("div",Jj,[Ui("div",Zj,[Ui("img",{src:Lt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAflBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACNjY2UlJS3t7fPz8/Z2dn///+EpG8NAAAAKXRSTlMAAQQFCgsPEBQgIycqNTc5OkhKS09ZXmNpamtvcHJzd3h5fYCws8bW3QwagtgAAAG0SURBVFjDxZnZdoJAEERLERVQEJQdZWmN8v8/mIckGqMjA5Qn980D1GGcppca4DWm7QZRWpRNUxZpFLi2ieEYjp/IA4nvGEPUJtauFgX1zpr0lJuuc3lJvp72Wat3kE4OnvbKnUK0KBwtuUUo2oSLbr1VJT2oVl2bEUhPgpebM4ulN/FMrTfPZADZXKW33Msg9kvF+w3UE9k/fcdZJoPJnvyP01hGED/udSCjCB7iWUbyJ8IX1VjB6v4rDGU04V1+EQK/co9RMASLW37cCAXvGoIHjuDhJxjXQmL9Xd9ylmD+VQstoWEBAHYad57a9qRx2w4AjJonWBu6Qa0pKA4AnynoA0iYgglgClNQTNhcQRsuV9DFliu4RcQVjJByBVMUXMECpfri8ePKpW0vt19H9TMlGvXFc6vgrH6m4QvSl0zfFHrY0AOb/OkF/ORAT1/0BEsvAfwiRS+j9EJPb0X4zRK9naM3nPyWGB65aeePFfTBhz+a8YdH+njLH8D5FgHdxODbLHwjiG9V8c00vt3HNyTfYJnyTV0AxkbHdt4Y/2eMv8G6f8Phwu34Y3s7/th2H398AlPesOc3SbJkAAAAAElFTkSuQmCC"),alt:"",draggable:"false",onClick:P},null,8,Qj),t[3]||(t[3]=Ui("p",{class:"btn_text"},"",-1))]),Ui("div",eV,[Ui("img",{src:v.voice?Lt(Pj):Lt(Mj),onClick:t[1]||(t[1]=e=>x("voice")),alt:"",draggable:"false"},null,8,tV),t[4]||(t[4]=Ui("p",{class:"btn_text"},"",-1))]),Ui("div",{class:"stream_multiCall_btn"},[Ui("img",{src:SU,onClick:O,alt:"",draggable:"false"}),t[5]||(t[5]=Ui("p",{class:"btn_text"},"",-1))]),Ui("div",nV,[Ui("img",{src:v.video?Lt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAA/FBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIKCgoMDAwODg4VFRUXFxciIiIjIyMnJycpKSkqKio2NjY5OTk6OjpISEhLS0tUVFRVVVVXV1dgYGBiYmJnZ2doaGiGhoaPj4+UlJSmpqatra2/v7/MzMzNzc3d3d3f39/h4eHj4+Pm5ubq6urt7e319fX19fX39/f39/f5+fn9/f39/f3+/v7///////8BpbKTAAAAU3RSTlMAAQQFCgsPEBQgIycqNTc5OkhKS09ZXmNpamtvcHJzd3h5fYCAgoKDhYWIiYqKi46PkJSVmJmZnZ6foK2xs73Ay9TV4OLk5ufs7fT19vf5/P39/o1GTT4AAAIoSURBVFjDxZnncsIwEIQVDCGYYMCAaQ7t0nvvhfRe/f7vEghJSIIkW/Iy2V+a8ejDQue704oxuWKmZTtlt95q1d2yY1tmjOnLSGZLNKBSNmno0EYS+SYJ1MwnRhRxkVSVpKqmIiprTdfIV7V04JUnXQokNxkIFy9QYBXi/rzxBimoMe63GTYpypZuTrRIyipGxbzRCmmoMirijU2QlibGBO+nyesQue8YrZC2Kpz/MVKkECoO7rVNoWQPxDOF1J8IjzfCAhu/v8IChVbhV34hgH7kHsNFAN1+fswQROnvEKxhgLWvYEwRSKnP+lZFAau9WpggmBIfwDwOmP+ImSYO2DSEQT3ZfvI4er1Y8w3uLPfJmifQmRSY7QBL3CebIuBNbwHzM9xppU6/xv+pLRHwtvt05cp7WODOizFTA7h71xnscOeZzFIHHj13B/vceRbLqQKn2r0BH5hjjirw3JMBHVZWBXpSYJm5WKDL6lhgnbWwwBYeCF8yfFPgYeNggY76p/ciBdrqyWHvXga0NNLX6rUEaOok2NlTMTAmKgHyjH385nnrghIgKFJyIG2fHEyKihS/jG6IgJe+ZZRf6OceBcBD30IvaEWmF5c5Wprzb0XwzRK8nYM3nPiWmKXBTTv+WAE/+OCPZvjDI/x4iz+A4y0CuImBt1nwRhDeqsKbaXi7D29IDsEyxZu63fyYCWI7Z4z/M8aHYN0P4XKhf/2R619/5PyvP94B+9M+C2wRcGUAAAAASUVORK5CYII="):Lt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAABiVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIEBAQGBgYICAgKCgoMDAwODg4RERETExMVFRUXFxcZGRkbGxscHBweHh4gICAiIiIlJSUnJycpKSkqKiouLi4vLy8zMzM0NDQ3Nzc5OTk8PDw+Pj5ERERHR0dISEhKSkpOTk5PT09RUVFSUlJVVVVXV1dYWFhcXFxfX19gYGBhYWFlZWVnZ2doaGhsbGxtbW1ubm5vb29zc3N0dHR2dnZ4eHh5eXl8fHx/f39/f3+BgYGCgoKDg4OEhISFhYWGhoaIiIiIiIiKioqKioqMjIyNjY2Ojo6QkJCRkZGSkpKUlJSWlpaXl5eZmZmampqcnJydnZ2enp6goKCgoKCioqKioqKkpKSlpaWmpqanp6eoqKipqamqqqqrq6v2DIqHAAAAg3RSTlMAAQQFCgsPEBQgIycqNTc5OkhKS09ZXmNpamtvcHJzd3h5fYCAgIGBgoKDhISFhYaGh4eIiImKiouMjI2Oj4+QkZOUlJWWl5eYmZmam5ydnZ+foKGioqOkpaamp6ipqqqrq6ysra2urq+vsLCxsrKztLW2tre4uLm6uru7vL29vr6/v2qNU+MAAAL9SURBVFjDxZlrWxJBFICPrqiAgCx3WAE5AqmZpZVldr9oWWllapZWWJlmmWkX0zLPL+9DlsLObZfx6f06z7zs7hzmnDkDIMbjC5rxlJUrFHJWKm4GfR5wj+EPJ9FGMuw33NgavNFO5NAZ9TY41DUGMigkE2h08q6hLErJhpTf3G+hEpZfSdcSQ2ViLXJfWx4dkG+TLYaJDjGFi9OUQMckmvi+5jS6IN3M87V2oCs6WjnP59KH2MF8xqY0uibN+I6NCayDhH2tTawL0xbPWCc1Ed6Sr1eYr/4XxrBuYlX7C2rg0N5jWDqE1sH+2I5aCP0LwaweYfZvMAZQE4H9/MbIRx9mu1wIM39yoZcxNEezbh7RCwAAUcZIcYEeuxBGAQAMZj4vVeihc2GnwQ/q8gZN4NDyu1peXJQFd5g9NEpEd3GUbPwcFAjDAJBkD1WIiG7jHbtxbP8zs2YlATyc33pLRLR3C+/ZhOOIiGdXd6dZ0zzgEwlp7wZOsoTXd4joJGOaD4JCIf26ilM2YfERERENM6YFISIW0u4VnKkRHn9DXGEE4hIh/bjU9bRK+GST+MI4pGRC2hkpzhMLljAFllRI28Oll6pCC3JyIX0/V36tKMxBQUFI384cW1YTFtSE9GWwZ1VRmFMS0uap3jW1V7bUhPSpv29daVFSikJa7+vfUAmbuKqQ1noHPkuFcelf7xDve05/lQlN2eZQxUr30BbR9EeBMCjZvmpYKp/fpvHuBb7QJ95gbSyWLuyMI97f4wk93BTAFtLz4qVRRLy8RUQnmCmAl6Q4QnpWLCIiDrzamuQkKU4aXeQIaa5LkkbZiR7HeEKakSR6ZimCiDfnKyxmKjQlLkWYxZKA0iI9EBdLDRlnxvISTQjLOccFZ/cKXRMVnM5L4p65EWFJDCHNRbv+Y4X2g4/+o5n+w6P2463+A7j+FoH2Job+Nov+RpD+VpX+Zpr+dp/+huQRtEz1N3UBwGhXaTu3G/+vMX4ErfsjuFw4uP6IHFx/ROTXH78BafjMUKO/LtMAAAAASUVORK5CYII="),onClick:t[2]||(t[2]=e=>x("video")),alt:"",draggable:"false"},null,8,rV),t[6]||(t[6]=Ui("p",{class:"btn_text"},"",-1))])],512),[[Za,!Lt(l)]])],512)],4),[[Za,!a.value]]),Cn(Ui("div",null,[Cn(ji(xj,{"show-type":1,"call-time":I.value,onChangeMiniSize:s},null,8,["call-time"]),[[Za,a.value]])],512),[[Za,a.value]])]))}},iV=wU(oV,[["__scopeId","data-v-5497dc27"]]),aV={},sV=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in aV)return;aV[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,n&&o.setAttribute("nonce",n),document.head.appendChild(o),t?new Promise(((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)}))};function cV(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:{}}const lV="function"==typeof Proxy;let uV,dV,hV;function pV(){return void 0!==uV||("undefined"!=typeof window&&window.performance?(uV=!0,dV=window.performance):"undefined"!=typeof globalThis&&(null===(e=globalThis.perf_hooks)||void 0===e?void 0:e.performance)?(uV=!0,dV=globalThis.perf_hooks.performance):uV=!1),uV?dV.now():Date.now();var e}class fV{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const i in e.settings){const t=e.settings[i];n[i]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(o,t)}catch(kk){}this.fallbacks={getSettings:()=>o,setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(kk){}o=e},now:()=>pV()},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function mV(e,t){const n=e,r=cV(),o=cV().__VUE_DEVTOOLS_GLOBAL_HOOK__,i=lV&&n.enableEarlyProxy;if(!o||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&i){const e=i?new fV(n,o):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else o.emit("devtools-plugin:setup",e,t)}
/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const gV=e=>hV=e,vV=Symbol();function yV(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var _V,EV;(EV=_V||(_V={})).direct="direct",EV.patchObject="patch object",EV.patchFunction="patch function";const bV=()=>{};function TV(e,t,n,r=bV){e.push(t);const o=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!n&&se()&&ce(o),o}function SV(e,...t){e.slice().forEach((e=>{e(...t)}))}const wV=e=>e(),CV=Symbol(),RV=Symbol();function IV(e,t){e instanceof Map&&t instanceof Map?t.forEach(((t,n)=>e.set(n,t))):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];yV(o)&&yV(r)&&e.hasOwnProperty(n)&&!kt(r)&&!St(r)?e[n]=IV(o,r):e[n]=r}return e}const AV=Symbol();const{assign:OV}=Object;function NV(e,t,n={},r,o,i){let a;const s=OV({actions:{}},n),c={deep:!0};let l,u,d,h=[],p=[];const f=r.state.value[e];let m;function g(t){let n;l=u=!1,"function"==typeof t?(t(r.state.value[e]),n={type:_V.patchFunction,storeId:e,events:d}):(IV(r.state.value[e],t),n={type:_V.patchObject,payload:t,storeId:e,events:d});const o=m=Symbol();dn().then((()=>{m===o&&(l=!0)})),u=!0,SV(h,n,r.state.value[e])}i||f||(r.state.value[e]={}),Dt({});const v=i?function(){const{state:e}=n,t=e?e():{};this.$patch((e=>{OV(e,t)}))}:bV;const y=(t,n="")=>{if(CV in t)return t[RV]=n,t;const o=function(){gV(r);const n=Array.from(arguments),i=[],a=[];let s;SV(p,{args:n,name:o[RV],store:_,after:function(e){i.push(e)},onError:function(e){a.push(e)}});try{s=t.apply(this&&this.$id===e?this:_,n)}catch(c){throw SV(a,c),c}return s instanceof Promise?s.then((e=>(SV(i,e),e))).catch((e=>(SV(a,e),Promise.reject(e)))):(SV(i,s),s)};return o[CV]=!0,o[RV]=n,o},_=yt({_p:r,$id:e,$onAction:TV.bind(null,p),$patch:g,$reset:v,$subscribe(t,n={}){const o=TV(h,t,n.detached,(()=>i())),i=a.run((()=>Zo((()=>r.state.value[e]),(r=>{("sync"===n.flush?u:l)&&t({storeId:e,type:_V.direct,events:d},r)}),OV({},c,n))));return o},$dispose:function(){a.stop(),h=[],p=[],r._s.delete(e)}});r._s.set(e,_);const E=(r._a&&r._a.runWithContext||wV)((()=>r._e.run((()=>(a=ae()).run((()=>t({action:y})))))));for(const S in E){const t=E[S];if(kt(t)&&(!kt(T=t)||!T.effect)||St(t))i||(!f||yV(b=t)&&b.hasOwnProperty(AV)||(kt(t)?t.value=f[S]:IV(t,f[S])),r.state.value[e][S]=t);else if("function"==typeof t){const e=y(t,S);E[S]=e,s.actions[S]=t}}var b,T;return OV(_,E),OV(It(_),E),Object.defineProperty(_,"$state",{get:()=>r.state.value[e],set:e=>{g((t=>{OV(t,e)}))}}),r._p.forEach((e=>{OV(_,a.run((()=>e({store:_,app:r._a,pinia:r,options:s}))))})),f&&i&&n.hydrate&&n.hydrate(_.$state,f),l=!0,u=!0,_}
/*! #__NO_SIDE_EFFECTS__ */function kV(e,t,n){let r,o;const i="function"==typeof t;function a(e,n){const a=So();(e=e||(a?To(vV,null):null))&&gV(e),(e=hV)._s.has(r)||(i?NV(r,t,o,e):function(e,t,n){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let s;s=NV(e,(function(){a||(n.state.value[e]=r?r():{});const t=zt(n.state.value[e]);return OV(t,o,Object.keys(i||{}).reduce(((t,r)=>(t[r]=At(ma((()=>{gV(n);const t=n._s.get(e);return i[r].call(t,t)}))),t)),{}))}),t,n,0,!0)}(r,o,e));return e._s.get(r)}return"string"==typeof e?(r=e,o=i?n:t):(o=e,r=e.id),a.$id=r,a}function DV(e,t){var n;return e="object"==typeof(n=e)&&null!==n?e:Object.create(null),new Proxy(e,{get:(e,n,r)=>"key"===n?Reflect.get(e,n,r):Reflect.get(e,n,r)||Reflect.get(t,n,r)})}function xV(e,{storage:t,serializer:n,key:r,debug:o}){try{const o=null==t?void 0:t.getItem(r);o&&e.$patch(null==n?void 0:n.deserialize(o))}catch(kk){}}function PV(e,{storage:t,serializer:n,key:r,paths:o,debug:i}){try{const i=Array.isArray(o)?function(e,t){return t.reduce(((t,n)=>{const r=n.split(".");return function(e,t,n){return t.slice(0,-1).reduce(((e,t)=>/^(__proto__)$/.test(t)?{}:e[t]=e[t]||{}),e)[t[t.length-1]]=n,e}(t,r,function(e,t){return t.reduce(((e,t)=>null==e?void 0:e[t]),e)}(e,r))}),{})}(e,o):e;t.setItem(r,n.serialize(i))}catch(kk){}}var MV=function(e={}){return t=>{const{auto:n=!1}=e,{options:{persist:r=n},store:o,pinia:i}=t;if(!r)return;if(!(o.$id in i.state.value)){const e=i._s.get(o.$id.replace("__hot:",""));return void(e&&Promise.resolve().then((()=>e.$persist())))}const a=(Array.isArray(r)?r.map((t=>DV(t,e))):[DV(r,e)]).map(function(e,t){return n=>{var r;try{const{storage:o=localStorage,beforeRestore:i,afterRestore:a,serializer:s={serialize:JSON.stringify,deserialize:JSON.parse},key:c=t.$id,paths:l=null,debug:u=!1}=n;return{storage:o,beforeRestore:i,afterRestore:a,serializer:s,key:(null!=(r=e.key)?r:e=>e)("string"==typeof c?c:c(t.$id)),paths:l,debug:u}}catch(kk){return n.debug,null}}}(e,o)).filter(Boolean);o.$persist=()=>{a.forEach((e=>{PV(o.$state,e)}))},o.$hydrate=({runHooks:e=!0}={})=>{a.forEach((n=>{const{beforeRestore:r,afterRestore:i}=n;e&&(null==r||r(t)),xV(o,n),e&&(null==i||i(t))}))},a.forEach((e=>{const{beforeRestore:n,afterRestore:r}=e;null==n||n(t),xV(o,e),null==r||r(t),o.$subscribe(((t,n)=>{PV(n,e)}),{detached:!0})}))}}();const LV=function(){const e=ae(!0),t=e.run((()=>Dt({})));let n=[],r=[];const o=At({install(e){gV(o),o._a=e,e.provide(vV,o),e.config.globalProperties.$pinia=o,r.forEach((e=>n.push(e))),r=[]},use(e){return this._a?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}();LV.use(MV);var UV,jV={exports:{}};
/*! For license information please see jsencrypt.min.js.LICENSE.txt */UV=jV,function(e,t){UV.exports=t()}(window,(()=>(()=>{var e={155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,c=[],l=!1,u=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(r){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{function e(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function t(e,t){return e&t}function o(e,t){return e|t}function i(e,t){return e^t}function a(e,t){return e&~t}function s(e){if(0==e)return-1;var t=0;return!(65535&e)&&(e>>=16,t+=16),!(255&e)&&(e>>=8,t+=8),!(15&e)&&(e>>=4,t+=4),!(3&e)&&(e>>=2,t+=2),!(1&e)&&++t,t}function c(e){for(var t=0;0!=e;)e&=e-1,++t;return t}n.d(r,{default:()=>ae});var l,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function d(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=u.charAt(n>>6)+u.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=u.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=u.charAt(n>>2)+u.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function h(t){var n,r="",o=0,i=0;for(n=0;n<t.length&&"="!=t.charAt(n);++n){var a=u.indexOf(t.charAt(n));a<0||(0==o?(r+=e(a>>2),i=3&a,o=1):1==o?(r+=e(i<<2|a>>4),i=15&a,o=2):2==o?(r+=e(i),r+=e(a>>2),i=3&a,o=3):(r+=e(i<<2|a>>4),r+=e(15&a),o=0))}return 1==o&&(r+=e(i<<2)),r}var p,f={decode:function(e){var t;if(void 0===p){var n="= \f\n\r\t\u2028\u2029";for(p=Object.create(null),t=0;t<64;++t)p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(p["-"]=62,p._=63,t=0;t<9;++t)p[n.charAt(t)]=-1}var r=[],o=0,i=0;for(t=0;t<e.length;++t){var a=e.charAt(t);if("="==a)break;if(-1!=(a=p[a])){if(void 0===a)throw new Error("Illegal character at offset "+t);o|=a,++i>=4?(r[r.length]=o>>16,r[r.length]=o>>8&255,r[r.length]=255&o,o=0,i=0):o<<=6}}switch(i){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:r[r.length]=o>>10;break;case 3:r[r.length]=o>>16,r[r.length]=o>>8&255}return r},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=f.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw new Error("RegExp out of sync");e=t[2]}return f.decode(e)}},m=1e13,g=function(){function e(e){this.buf=[+e||0]}return e.prototype.mulAdd=function(e,t){var n,r,o=this.buf,i=o.length;for(n=0;n<i;++n)(r=o[n]*e+t)<m?t=0:r-=(t=0|r/m)*m,o[n]=r;t>0&&(o[n]=t)},e.prototype.sub=function(e){var t,n,r=this.buf,o=r.length;for(t=0;t<o;++t)(n=r[t]-e)<0?(n+=m,e=1):e=0,r[t]=n;for(;0===r[r.length-1];)r.pop()},e.prototype.toString=function(e){if(10!=(e||10))throw new Error("only base 10 is supported");for(var t=this.buf,n=t[t.length-1].toString(),r=t.length-2;r>=0;--r)n+=(m+t[r]).toString().substring(1);return n},e.prototype.valueOf=function(){for(var e=this.buf,t=0,n=e.length-1;n>=0;--n)t=t*m+e[n];return t},e.prototype.simplify=function(){var e=this.buf;return 1==e.length?e[0]:this},e}(),v=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,y=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function _(e,t){return e.length>t&&(e=e.substring(0,t)+""),e}var E,b=function(){function e(t,n){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}return e.prototype.get=function(e){if(void 0===e&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset ".concat(e," on a stream of length ").concat(this.enc.length));return"string"==typeof this.enc?this.enc.charCodeAt(e):this.enc[e]},e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t,n){for(var r="",o=e;o<t;++o)if(r+=this.hexByte(this.get(o)),!0!==n)switch(15&o){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r},e.prototype.isASCII=function(e,t){for(var n=e;n<t;++n){var r=this.get(n);if(r<32||r>176)return!1}return!0},e.prototype.parseStringISO=function(e,t){for(var n="",r=e;r<t;++r)n+=String.fromCharCode(this.get(r));return n},e.prototype.parseStringUTF=function(e,t){for(var n="",r=e;r<t;){var o=this.get(r++);n+=o<128?String.fromCharCode(o):o>191&&o<224?String.fromCharCode((31&o)<<6|63&this.get(r++)):String.fromCharCode((15&o)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},e.prototype.parseStringBMP=function(e,t){for(var n,r,o="",i=e;i<t;)n=this.get(i++),r=this.get(i++),o+=String.fromCharCode(n<<8|r);return o},e.prototype.parseTime=function(e,t,n){var r=this.parseStringISO(e,t),o=(n?v:y).exec(r);return o?(n&&(o[1]=+o[1],o[1]+=+o[1]<70?2e3:1900),r=o[1]+"-"+o[2]+"-"+o[3]+" "+o[4],o[5]&&(r+=":"+o[5],o[6]&&(r+=":"+o[6],o[7]&&(r+="."+o[7]))),o[8]&&(r+=" UTC","Z"!=o[8]&&(r+=o[8],o[9]&&(r+=":"+o[9]))),r):"Unrecognized time: "+r},e.prototype.parseInteger=function(e,t){for(var n,r=this.get(e),o=r>127,i=o?255:0,a="";r==i&&++e<t;)r=this.get(e);if(0==(n=t-e))return o?-1:0;if(n>4){for(a=r,n<<=3;!(128&(+a^i));)a=+a<<1,--n;a="("+n+" bit)\n"}o&&(r-=256);for(var s=new g(r),c=e+1;c<t;++c)s.mulAdd(256,this.get(c));return a+s.toString()},e.prototype.parseBitString=function(e,t,n){for(var r=this.get(e),o="("+((t-e-1<<3)-r)+" bit)\n",i="",a=e+1;a<t;++a){for(var s=this.get(a),c=a==t-1?r:0,l=7;l>=c;--l)i+=s>>l&1?"1":"0";if(i.length>n)return o+_(i,n)}return o+i},e.prototype.parseOctetString=function(e,t,n){if(this.isASCII(e,t))return _(this.parseStringISO(e,t),n);var r=t-e,o="("+r+" byte)\n";r>(n/=2)&&(t=e+n);for(var i=e;i<t;++i)o+=this.hexByte(this.get(i));return r>n&&(o+=""),o},e.prototype.parseOID=function(e,t,n){for(var r="",o=new g,i=0,a=e;a<t;++a){var s=this.get(a);if(o.mulAdd(128,127&s),i+=7,!(128&s)){if(""===r)if((o=o.simplify())instanceof g)o.sub(80),r="2."+o.toString();else{var c=o<80?o<40?0:1:2;r=c+"."+(o-40*c)}else r+="."+o.toString();if(r.length>n)return _(r,n);o=new g,i=0}}return i>0&&(r+=".incomplete"),r},e}(),T=function(){function e(e,t,n,r,o){if(!(r instanceof S))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=n,this.tag=r,this.sub=o}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(e){if(void 0===this.tag)return null;void 0===e&&(e=1/0);var t=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+n,e);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(t)?"false":"true";case 2:return this.stream.parseInteger(t,t+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+n,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+n,e);case 6:return this.stream.parseOID(t,t+n,e);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return _(this.stream.parseStringUTF(t,t+n),e);case 18:case 19:case 20:case 21:case 22:case 26:return _(this.stream.parseStringISO(t,t+n),e);case 30:return _(this.stream.parseStringBMP(t,t+n),e);case 23:case 24:return this.stream.parseTime(t,t+n,23==this.tag.tagNumber)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(e){void 0===e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(t+=" (encapsulates)"),t+="\n",null!==this.sub){e+="  ";for(var n=0,r=this.sub.length;n<r;++n)t+=this.sub[n].toPrettyString(e)}return t},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(e){var t=e.get(),n=127&t;if(n==t)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(0===n)return null;t=0;for(var r=0;r<n;++r)t=256*t+e.get();return t},e.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,n=2*this.length;return e.substr(t,n)},e.decode=function(t){var n;n=t instanceof b?t:new b(t,0);var r=new b(n),o=new S(n),i=e.decodeLength(n),a=n.pos,s=a-r.pos,c=null,l=function(){var t=[];if(null!==i){for(var r=a+i;n.pos<r;)t[t.length]=e.decode(n);if(n.pos!=r)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var o=e.decode(n);if(o.tag.isEOC())break;t[t.length]=o}i=a-n.pos}catch(s){throw new Error("Exception while decoding undefined length content: "+s)}return t};if(o.tagConstructed)c=l();else if(o.isUniversal()&&(3==o.tagNumber||4==o.tagNumber))try{if(3==o.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");c=l();for(var u=0;u<c.length;++u)if(c[u].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(d){c=null}if(null===c){if(null===i)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);n.pos=a+Math.abs(i)}return new e(r,s,i,o,c)},e}(),S=function(){function e(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=!!(32&t),this.tagNumber=31&t,31==this.tagNumber){var n=new g;do{t=e.get(),n.mulAdd(128,127&t)}while(128&t);this.tagNumber=n.simplify()}}return e.prototype.isUniversal=function(){return 0===this.tagClass},e.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},e}(),w=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],C=(1<<26)/w[w.length-1],R=function(){function n(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}return n.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return this.toRadix(t);n=2}var r,o=(1<<n)-1,i=!1,a="",s=this.t,c=this.DB-s*this.DB%n;if(s-- >0)for(c<this.DB&&(r=this[s]>>c)>0&&(i=!0,a=e(r));s>=0;)c<n?(r=(this[s]&(1<<c)-1)<<n-c,r|=this[--s]>>(c+=this.DB-n)):(r=this[s]>>(c-=n)&o,c<=0&&(c+=this.DB,--s)),r>0&&(i=!0),i&&(a+=e(r));return i?a:"0"},n.prototype.negate=function(){var e=k();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+V(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=k();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new A(t):new O(t),this.exp(e,n)},n.prototype.clone=function(){var e=k();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var n,r=this.DB-e*this.DB%8,o=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[o++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),!!(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n);return t},n.prototype.equals=function(e){return 0==this.compareTo(e)},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var n=k();return this.bitwiseTo(e,t,n),n},n.prototype.or=function(e){var t=k();return this.bitwiseTo(e,o,t),t},n.prototype.xor=function(e){var t=k();return this.bitwiseTo(e,i,t),t},n.prototype.andNot=function(e){var t=k();return this.bitwiseTo(e,a,t),t},n.prototype.not=function(){for(var e=k(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=k();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=k();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+s(this[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=c(this[n]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},n.prototype.setBit=function(e){return this.changeBit(e,o)},n.prototype.clearBit=function(e){return this.changeBit(e,a)},n.prototype.flipBit=function(e){return this.changeBit(e,i)},n.prototype.add=function(e){var t=k();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=k();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=k();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=k();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=k();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=k(),n=k();return this.divRemTo(e,t,n),[t,n]},n.prototype.modPow=function(e,t){var n,r,o=e.bitLength(),i=j(1);if(o<=0)return i;n=o<18?1:o<48?3:o<144?4:o<768?5:6,r=o<8?new A(t):t.isEven()?new N(t):new O(t);var a=[],s=3,c=n-1,l=(1<<n)-1;if(a[1]=r.convert(this),n>1){var u=k();for(r.sqrTo(a[1],u);s<=l;)a[s]=k(),r.mulTo(u,a[s-2],a[s]),s+=2}var d,h,p=e.t-1,f=!0,m=k();for(o=V(e[p])-1;p>=0;){for(o>=c?d=e[p]>>o-c&l:(d=(e[p]&(1<<o+1)-1)<<c-o,p>0&&(d|=e[p-1]>>this.DB+o-c)),s=n;!(1&d);)d>>=1,--s;if((o-=s)<0&&(o+=this.DB,--p),f)a[d].copyTo(i),f=!1;else{for(;s>1;)r.sqrTo(i,m),r.sqrTo(m,i),s-=2;s>0?r.sqrTo(i,m):(h=i,i=m,m=h),r.mulTo(m,a[d],i)}for(;p>=0&&!(e[p]&1<<o);)r.sqrTo(i,m),h=i,i=m,m=h,--o<0&&(o=this.DB-1,--p)}return r.revert(i)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return n.ZERO;for(var r=e.clone(),o=this.clone(),i=j(1),a=j(0),s=j(0),c=j(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;o.isEven();)o.rShiftTo(1,o),t?(s.isEven()&&c.isEven()||(s.addTo(this,s),c.subTo(e,c)),s.rShiftTo(1,s)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(o)>=0?(r.subTo(o,r),t&&i.subTo(s,i),a.subTo(c,a)):(o.subTo(r,o),t&&s.subTo(i,s),c.subTo(a,c))}return 0!=o.compareTo(n.ONE)?n.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},n.prototype.pow=function(e){return this.exp(e,new I)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var o=t.getLowestSetBit(),i=n.getLowestSetBit();if(i<0)return t;for(o<i&&(i=o),i>0&&(t.rShiftTo(i,t),n.rShiftTo(i,n));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return i>0&&n.lShiftTo(i,n),n},n.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=w[w.length-1]){for(t=0;t<w.length;++t)if(n[0]==w[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<w.length;){for(var r=w[t],o=t+1;o<w.length&&r<C;)r*=w[o++];for(r=n.modInt(r);t<o;)if(r%w[t++]==0)return!1}return n.millerRabin(e)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var o=e.length,i=!1,a=0;--o>=0;){var s=8==r?255&+e[o]:U(e,o);s<0?"-"==e.charAt(o)&&(i=!0):(i=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&!!(128&+e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,r=this.DB-n,o=(1<<r)-1,i=Math.floor(e/this.DB),a=this.s<<n&this.DM,s=this.t-1;s>=0;--s)t[s+i+1]=this[s]>>r|a,a=(this[s]&o)<<n;for(s=i-1;s>=0;--s)t[s]=0;t[i]=a,t.t=this.t+i+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&i)<<o,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},n.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},n.prototype.multiplyTo=function(e,t){var r=this.abs(),o=e.abs(),i=r.t;for(t.t=i+o.t;--i>=0;)t[i]=0;for(i=0;i<o.t;++i)t[i+r.t]=r.am(0,o[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,r){var o=e.abs();if(!(o.t<=0)){var i=this.abs();if(i.t<o.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=k());var a=k(),s=this.s,c=e.s,l=this.DB-V(o[o.t-1]);l>0?(o.lShiftTo(l,a),i.lShiftTo(l,r)):(o.copyTo(a),i.copyTo(r));var u=a.t,d=a[u-1];if(0!=d){var h=d*(1<<this.F1)+(u>1?a[u-2]>>this.F2:0),p=this.FV/h,f=(1<<this.F1)/h,m=1<<this.F2,g=r.t,v=g-u,y=null==t?k():t;for(a.dlShiftTo(v,y),r.compareTo(y)>=0&&(r[r.t++]=1,r.subTo(y,r)),n.ONE.dlShiftTo(u,y),y.subTo(a,a);a.t<u;)a[a.t++]=0;for(;--v>=0;){var _=r[--g]==d?this.DM:Math.floor(r[g]*p+(r[g-1]+m)*f);if((r[g]+=a.am(0,_,r,v,0,u))<_)for(a.dlShiftTo(v,y),r.subTo(y,r);r[g]<--_;)r.subTo(y,r)}null!=t&&(r.drShiftTo(u,t),s!=c&&n.ZERO.subTo(t,t)),r.t=u,r.clamp(),l>0&&r.rShiftTo(l,r),s<0&&n.ZERO.subTo(r,r)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var r=k(),o=k(),i=t.convert(this),a=V(e)-1;for(i.copyTo(r);--a>=0;)if(t.sqrTo(r,o),(e&1<<a)>0)t.mulTo(o,i,r);else{var s=r;r=o,o=s}return t.revert(r)},n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=j(n),o=k(),i=k(),a="";for(this.divRemTo(r,o,i);o.signum()>0;)a=(n+i.intValue()).toString(e).substr(1)+a,o.divRemTo(r,o,i);return i.intValue().toString(e)+a},n.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),o=Math.pow(t,r),i=!1,a=0,s=0,c=0;c<e.length;++c){var l=U(e,c);l<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(s=t*s+l,++a>=r&&(this.dMultiply(o),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),i&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),o,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var i=[],a=7&e;i.length=1+(e>>3),t.nextBytes(i),a>0?i[0]&=(1<<a)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(e,t,n){var r,o,i=Math.min(e.t,this.t);for(r=0;r<i;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(o=e.s&this.DM,r=i;r<this.t;++r)n[r]=t(this[r],o);n.t=this.t}else{for(o=this.s&this.DM,r=i;r<e.t;++r)n[r]=t(o,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},n.prototype.changeBit=function(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},n.prototype.addTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},n.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},n.prototype.multiplyLowerTo=function(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(var o=n.t-this.t;r<o;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(o=Math.min(e.t,t);r<o;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()},n.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var o=t.shiftRight(r);(e=e+1>>1)>w.length&&(e=w.length);for(var i=k(),a=0;a<e;++a){i.fromInt(w[Math.floor(Math.random()*w.length)]);var s=i.modPow(o,this);if(0!=s.compareTo(n.ONE)&&0!=s.compareTo(t)){for(var c=1;c++<r&&0!=s.compareTo(t);)if(0==(s=s.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0},n.prototype.square=function(){var e=k();return this.squareTo(e),e},n.prototype.gcda=function(e,t){var n=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(n.compareTo(r)<0){var o=n;n=r,r=o}var i=n.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)t(n);else{i<a&&(a=i),a>0&&(n.rShiftTo(a,n),r.rShiftTo(a,r));var s=function(){(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),n.compareTo(r)>=0?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r)),n.signum()>0?setTimeout(s,0):(a>0&&r.lShiftTo(a,r),setTimeout((function(){t(r)}),0))};setTimeout(s,10)}},n.prototype.fromNumberAsync=function(e,t,r,i){if("number"==typeof t)if(e<2)this.fromInt(1);else{this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),o,this),this.isEven()&&this.dAddOffset(1,0);var a=this,s=function(){a.dAddOffset(2,0),a.bitLength()>e&&a.subTo(n.ONE.shiftLeft(e-1),a),a.isProbablePrime(t)?setTimeout((function(){i()}),0):setTimeout(s,0)};setTimeout(s,0)}else{var c=[],l=7&e;c.length=1+(e>>3),t.nextBytes(c),l>0?c[0]&=(1<<l)-1:c[0]=0,this.fromString(c,256)}},n}(),I=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),A=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),O=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=k();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(R.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=k();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),N=function(){function e(e){this.m=e,this.r2=k(),this.q3=k(),R.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return e.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=k();return e.copyTo(t),this.reduce(t),t},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function k(){return new R(null)}function D(e,t){return new R(e,t)}var x="undefined"!=typeof navigator;x&&"Microsoft Internet Explorer"==navigator.appName?(R.prototype.am=function(e,t,n,r,o,i){for(var a=32767&t,s=t>>15;--i>=0;){var c=32767&this[e],l=this[e++]>>15,u=s*c+l*a;o=((c=a*c+((32767&u)<<15)+n[r]+(1073741823&o))>>>30)+(u>>>15)+s*l+(o>>>30),n[r++]=1073741823&c}return o},E=30):x&&"Netscape"!=navigator.appName?(R.prototype.am=function(e,t,n,r,o,i){for(;--i>=0;){var a=t*this[e++]+n[r]+o;o=Math.floor(a/67108864),n[r++]=67108863&a}return o},E=26):(R.prototype.am=function(e,t,n,r,o,i){for(var a=16383&t,s=t>>14;--i>=0;){var c=16383&this[e],l=this[e++]>>14,u=s*c+l*a;o=((c=a*c+((16383&u)<<14)+n[r]+o)>>28)+(u>>14)+s*l,n[r++]=268435455&c}return o},E=28),R.prototype.DB=E,R.prototype.DM=(1<<E)-1,R.prototype.DV=1<<E,R.prototype.FV=Math.pow(2,52),R.prototype.F1=52-E,R.prototype.F2=2*E-52;var P,M,L=[];for(P="0".charCodeAt(0),M=0;M<=9;++M)L[P++]=M;for(P="a".charCodeAt(0),M=10;M<36;++M)L[P++]=M;for(P="A".charCodeAt(0),M=10;M<36;++M)L[P++]=M;function U(e,t){var n=L[e.charCodeAt(t)];return null==n?-1:n}function j(e){var t=k();return t.fromInt(e),t}function V(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}R.ZERO=j(0),R.ONE=j(1);var B,z,F=function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},e.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},e}(),H=null;if(null==H){H=[],z=0;var G=void 0;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var W=new Uint32Array(256);for(window.crypto.getRandomValues(W),G=0;G<W.length;++G)H[z++]=255&W[G]}var q=0,K=function(e){if((q=q||0)>=256||z>=256)window.removeEventListener?window.removeEventListener("mousemove",K,!1):window.detachEvent&&window.detachEvent("onmousemove",K);else try{var t=e.x+e.y;H[z++]=255&t,q+=1}catch(n){}};"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("mousemove",K,!1):window.attachEvent&&window.attachEvent("onmousemove",K))}function Y(){if(null==B){for(B=new F;z<256;){var e=Math.floor(65536*Math.random());H[z++]=255&e}for(B.init(H),z=0;z<H.length;++z)H[z]=0;z=0}return B.next()}var X=function(){function e(){}return e.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=Y()},e}(),$=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0&&(this.n=D(e,16),this.e=parseInt(t,16))},e.prototype.encrypt=function(e){var t=this.n.bitLength()+7>>3,n=function(e,t){if(t<e.length+11)return null;for(var n=[],r=e.length-1;r>=0&&t>0;){var o=e.charCodeAt(r--);o<128?n[--t]=o:o>127&&o<2048?(n[--t]=63&o|128,n[--t]=o>>6|192):(n[--t]=63&o|128,n[--t]=o>>6&63|128,n[--t]=o>>12|224)}n[--t]=0;for(var i=new X,a=[];t>2;){for(a[0]=0;0==a[0];)i.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new R(n)}(e,t);if(null==n)return null;var r=this.doPublic(n);if(null==r)return null;for(var o=r.toString(16),i=o.length,a=0;a<2*t-i;a++)o="0"+o;return o},e.prototype.setPrivate=function(e,t,n){null!=e&&null!=t&&e.length>0&&t.length>0&&(this.n=D(e,16),this.e=parseInt(t,16),this.d=D(n,16))},e.prototype.setPrivateEx=function(e,t,n,r,o,i,a,s){null!=e&&null!=t&&e.length>0&&t.length>0&&(this.n=D(e,16),this.e=parseInt(t,16),this.d=D(n,16),this.p=D(r,16),this.q=D(o,16),this.dmp1=D(i,16),this.dmq1=D(a,16),this.coeff=D(s,16))},e.prototype.generate=function(e,t){var n=new X,r=e>>1;this.e=parseInt(t,16);for(var o=new R(t,16);;){for(;this.p=new R(e-r,1,n),0!=this.p.subtract(R.ONE).gcd(o).compareTo(R.ONE)||!this.p.isProbablePrime(10););for(;this.q=new R(r,1,n),0!=this.q.subtract(R.ONE).gcd(o).compareTo(R.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var i=this.p;this.p=this.q,this.q=i}var a=this.p.subtract(R.ONE),s=this.q.subtract(R.ONE),c=a.multiply(s);if(0==c.gcd(o).compareTo(R.ONE)){this.n=this.p.multiply(this.q),this.d=o.modInverse(c),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(e){var t=D(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){for(var n=e.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var o="";++r<n.length;){var i=255&n[r];i<128?o+=String.fromCharCode(i):i>191&&i<224?(o+=String.fromCharCode((31&i)<<6|63&n[r+1]),++r):(o+=String.fromCharCode((15&i)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return o}(n,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(e,t,n){var r=new X,o=e>>1;this.e=parseInt(t,16);var i=new R(t,16),a=this,s=function(){var t=function(){if(a.p.compareTo(a.q)<=0){var e=a.p;a.p=a.q,a.q=e}var t=a.p.subtract(R.ONE),r=a.q.subtract(R.ONE),o=t.multiply(r);0==o.gcd(i).compareTo(R.ONE)?(a.n=a.p.multiply(a.q),a.d=i.modInverse(o),a.dmp1=a.d.mod(t),a.dmq1=a.d.mod(r),a.coeff=a.q.modInverse(a.p),setTimeout((function(){n()}),0)):setTimeout(s,0)},c=function(){a.q=k(),a.q.fromNumberAsync(o,1,r,(function(){a.q.subtract(R.ONE).gcda(i,(function(e){0==e.compareTo(R.ONE)&&a.q.isProbablePrime(10)?setTimeout(t,0):setTimeout(c,0)}))}))},l=function(){a.p=k(),a.p.fromNumberAsync(e-o,1,r,(function(){a.p.subtract(R.ONE).gcda(i,(function(e){0==e.compareTo(R.ONE)&&a.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(l,0)}))}))};setTimeout(l,0)};setTimeout(s,0)},e.prototype.sign=function(e,t,n){var r=function(e,t){if(t<e.length+22)return null;for(var n=t-e.length-6,r="",o=0;o<n;o+=2)r+="ff";return D("0001"+r+"00"+e,16)}((J[n]||"")+t(e).toString(),this.n.bitLength()/4);if(null==r)return null;var o=this.doPrivate(r);if(null==o)return null;var i=o.toString(16);return 1&i.length?"0"+i:i},e.prototype.verify=function(e,t,n){var r=D(t,16),o=this.doPublic(r);return null==o?null:function(e){for(var t in J)if(J.hasOwnProperty(t)){var n=J[t],r=n.length;if(e.substr(0,r)==n)return e.substr(r)}return e}(o.toString(16).replace(/^1f+00/,""))==n(e).toString()},e}(),J={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"},Z={};Z.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var o;for(o in n)e.prototype[o]=n[o];var i=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(i=function(e,t){for(o=0;o<a.length;o+=1){var n=a[o],r=t[n];"function"==typeof r&&r!=Object.prototype[n]&&(e[n]=r)}})}catch(s){}i(e.prototype,n)}}};var Q={};void 0!==Q.asn1&&Q.asn1||(Q.asn1={}),Q.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",o=0;o<n;o++)r+="f";t=new R(r,16).xor(e).add(R.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=Q.asn1,n=t.DERBoolean,r=t.DERInteger,o=t.DERBitString,i=t.DEROctetString,a=t.DERNull,s=t.DERObjectIdentifier,c=t.DEREnumerated,l=t.DERUTF8String,u=t.DERNumericString,d=t.DERPrintableString,h=t.DERTeletexString,p=t.DERIA5String,f=t.DERUTCTime,m=t.DERGeneralizedTime,g=t.DERSequence,v=t.DERSet,y=t.DERTaggedObject,_=t.ASN1Util.newObject,E=Object.keys(e);if(1!=E.length)throw"key of param shall be only one.";var b=E[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+b+":"))throw"undefined key: "+b;if("bool"==b)return new n(e[b]);if("int"==b)return new r(e[b]);if("bitstr"==b)return new o(e[b]);if("octstr"==b)return new i(e[b]);if("null"==b)return new a(e[b]);if("oid"==b)return new s(e[b]);if("enum"==b)return new c(e[b]);if("utf8str"==b)return new l(e[b]);if("numstr"==b)return new u(e[b]);if("prnstr"==b)return new d(e[b]);if("telstr"==b)return new h(e[b]);if("ia5str"==b)return new p(e[b]);if("utctime"==b)return new f(e[b]);if("gentime"==b)return new m(e[b]);if("seq"==b){for(var T=e[b],S=[],w=0;w<T.length;w++){var C=_(T[w]);S.push(C)}return new g({array:S})}if("set"==b){for(T=e[b],S=[],w=0;w<T.length;w++)C=_(T[w]),S.push(C);return new v({array:S})}if("tag"==b){var R=e[b];if("[object Array]"===Object.prototype.toString.call(R)&&3==R.length){var I=_(R[2]);return new y({tag:R[0],explicit:R[1],obj:I})}var A={};if(void 0!==R.explicit&&(A.explicit=R.explicit),void 0!==R.tag&&(A.tag=R.tag),void 0===R.obj)throw"obj shall be specified for 'tag'.";return A.obj=_(R.obj),new y(A)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},Q.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),o=2;o<e.length;o+=2){var i=("00000000"+parseInt(e.substr(o,2),16).toString(2)).slice(-8);r+=i.substr(1,7),"0"==i.substr(0,1)&&(t=t+"."+new R(r,2).toString(10),r="")}return t},Q.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new R(e,10).toString(2),o=7-r.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";for(r=i+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",o=e.split("."),i=40*parseInt(o[0])+parseInt(o[1]);r+=t(i),o.splice(0,2);for(var a=0;a<o.length;a++)r+=n(o[a]);return r},Q.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n=0,v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},Q.asn1.DERAbstractString=function(e){Q.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},Z.lang.extend(Q.asn1.DERAbstractString,Q.asn1.ASN1Object),Q.asn1.DERAbstractTime=function(e){Q.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,n){var r=this.zeroPadding,o=this.localDateToUTC(e),i=String(o.getFullYear());"utc"==t&&(i=i.substr(2,2));var a=i+r(String(o.getMonth()+1),2)+r(String(o.getDate()),2)+r(String(o.getHours()),2)+r(String(o.getMinutes()),2)+r(String(o.getSeconds()),2);if(!0===n){var s=o.getMilliseconds();if(0!=s){var c=r(String(s),3);a=a+"."+(c=c.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,n,r,o,i){var a=new Date(Date.UTC(e,t-1,n,r,o,i,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},Z.lang.extend(Q.asn1.DERAbstractTime,Q.asn1.ASN1Object),Q.asn1.DERAbstractStructured=function(e){Q.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},Z.lang.extend(Q.asn1.DERAbstractStructured,Q.asn1.ASN1Object),Q.asn1.DERBoolean=function(){Q.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Z.lang.extend(Q.asn1.DERBoolean,Q.asn1.ASN1Object),Q.asn1.DERInteger=function(e){Q.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Q.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new R(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Z.lang.extend(Q.asn1.DERInteger,Q.asn1.ASN1Object),Q.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=Q.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}Q.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var r="";for(n=0;n<e.length-1;n+=8){var o=e.substr(n,8),i=parseInt(o,2).toString(16);1==i.length&&(i="0"+i),r+=i}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},Z.lang.extend(Q.asn1.DERBitString,Q.asn1.ASN1Object),Q.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=Q.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}Q.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Z.lang.extend(Q.asn1.DEROctetString,Q.asn1.DERAbstractString),Q.asn1.DERNull=function(){Q.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Z.lang.extend(Q.asn1.DERNull,Q.asn1.ASN1Object),Q.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new R(e,10).toString(2),o=7-r.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";for(r=i+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};Q.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",o=e.split("."),i=40*parseInt(o[0])+parseInt(o[1]);r+=t(i),o.splice(0,2);for(var a=0;a<o.length;a++)r+=n(o[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(e){var t=Q.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},Z.lang.extend(Q.asn1.DERObjectIdentifier,Q.asn1.ASN1Object),Q.asn1.DEREnumerated=function(e){Q.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Q.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new R(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Z.lang.extend(Q.asn1.DEREnumerated,Q.asn1.ASN1Object),Q.asn1.DERUTF8String=function(e){Q.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Z.lang.extend(Q.asn1.DERUTF8String,Q.asn1.DERAbstractString),Q.asn1.DERNumericString=function(e){Q.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Z.lang.extend(Q.asn1.DERNumericString,Q.asn1.DERAbstractString),Q.asn1.DERPrintableString=function(e){Q.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Z.lang.extend(Q.asn1.DERPrintableString,Q.asn1.DERAbstractString),Q.asn1.DERTeletexString=function(e){Q.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Z.lang.extend(Q.asn1.DERTeletexString,Q.asn1.DERAbstractString),Q.asn1.DERIA5String=function(e){Q.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Z.lang.extend(Q.asn1.DERIA5String,Q.asn1.DERAbstractString),Q.asn1.DERUTCTime=function(e){Q.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},Z.lang.extend(Q.asn1.DERUTCTime,Q.asn1.DERAbstractTime),Q.asn1.DERGeneralizedTime=function(e){Q.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},Z.lang.extend(Q.asn1.DERGeneralizedTime,Q.asn1.DERAbstractTime),Q.asn1.DERSequence=function(e){Q.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},Z.lang.extend(Q.asn1.DERSequence,Q.asn1.DERAbstractStructured),Q.asn1.DERSet=function(e){Q.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Z.lang.extend(Q.asn1.DERSet,Q.asn1.DERAbstractStructured),Q.asn1.DERTaggedObject=function(e){Q.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Z.lang.extend(Q.asn1.DERTaggedObject,Q.asn1.ASN1Object);var ee,te,ne=(ee=function(e,t){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ee(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),re=function(e){function t(n){var r=e.call(this)||this;return n&&("string"==typeof n?r.parseKey(n):(t.hasPrivateKeyProperty(n)||t.hasPublicKeyProperty(n))&&r.parsePropertiesFrom(n)),r}return ne(t,e),t.prototype.parseKey=function(e){try{var t=0,n=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(e)?function(e){var t;if(void 0===l){var n="0123456789ABCDEF",r=" \f\n\r\t\u2028\u2029";for(l={},t=0;t<16;++t)l[n.charAt(t)]=t;for(n=n.toLowerCase(),t=10;t<16;++t)l[n.charAt(t)]=t;for(t=0;t<8;++t)l[r.charAt(t)]=-1}var o=[],i=0,a=0;for(t=0;t<e.length;++t){var s=e.charAt(t);if("="==s)break;if(-1!=(s=l[s])){if(void 0===s)throw new Error("Illegal character at offset "+t);i|=s,++a>=2?(o[o.length]=i,i=0,a=0):i<<=4}}if(a)throw new Error("Hex encoding incomplete: 4 bits missing");return o}(e):f.unarmor(e),o=T.decode(r);if(3===o.sub.length&&(o=o.sub[2].sub[0]),9===o.sub.length){t=o.sub[1].getHexStringValue(),this.n=D(t,16),n=o.sub[2].getHexStringValue(),this.e=parseInt(n,16);var i=o.sub[3].getHexStringValue();this.d=D(i,16);var a=o.sub[4].getHexStringValue();this.p=D(a,16);var s=o.sub[5].getHexStringValue();this.q=D(s,16);var c=o.sub[6].getHexStringValue();this.dmp1=D(c,16);var u=o.sub[7].getHexStringValue();this.dmq1=D(u,16);var d=o.sub[8].getHexStringValue();this.coeff=D(d,16)}else{if(2!==o.sub.length)return!1;if(o.sub[0].sub){var h=o.sub[1].sub[0];t=h.sub[0].getHexStringValue(),this.n=D(t,16),n=h.sub[1].getHexStringValue(),this.e=parseInt(n,16)}else t=o.sub[0].getHexStringValue(),this.n=D(t,16),n=o.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(p){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new Q.asn1.DERInteger({int:0}),new Q.asn1.DERInteger({bigint:this.n}),new Q.asn1.DERInteger({int:this.e}),new Q.asn1.DERInteger({bigint:this.d}),new Q.asn1.DERInteger({bigint:this.p}),new Q.asn1.DERInteger({bigint:this.q}),new Q.asn1.DERInteger({bigint:this.dmp1}),new Q.asn1.DERInteger({bigint:this.dmq1}),new Q.asn1.DERInteger({bigint:this.coeff})]};return new Q.asn1.DERSequence(e).getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return d(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new Q.asn1.DERSequence({array:[new Q.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new Q.asn1.DERNull]}),t=new Q.asn1.DERSequence({array:[new Q.asn1.DERInteger({bigint:this.n}),new Q.asn1.DERInteger({int:this.e})]}),n=new Q.asn1.DERBitString({hex:"00"+t.getEncodedHex()});return new Q.asn1.DERSequence({array:[e,n]}).getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return d(this.getPublicBaseKey())},t.wordwrap=function(e,t){if(!e)return e;var n="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(n,"g")).join("\n")},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return(e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n")+"-----END RSA PRIVATE KEY-----"},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return(e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n")+"-----END PUBLIC KEY-----"},t.hasPublicKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}($),oe=n(155),ie=void 0!==oe?null===(te=oe.env)||void 0===te?void 0:"3.3.2":void 0;const ae=function(){function e(e){void 0===e&&(e={}),e=e||{},this.default_key_size=e.default_key_size?parseInt(e.default_key_size,10):1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key,this.key=new re(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt(h(e))}catch(t){return!1}},e.prototype.encrypt=function(e){try{return d(this.getKey().encrypt(e))}catch(t){return!1}},e.prototype.sign=function(e,t,n){try{return d(this.getKey().sign(e,t,n))}catch(r){return!1}},e.prototype.verify=function(e,t,n){try{return this.getKey().verify(e,h(t),n)}catch(r){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new re,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version=ie,e}()})(),r.default})()));const VV=iO(jV.exports),BV=e=>{const t=new VV;return t.setPrivateKey("MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAqhHyZfSsYourNxaY\n7Nt+PrgrxkiA50efORdI5U5lsW79MmFnusUA355oaSXcLhu5xxB38SMSyP2KvuKN\nPuH3owIDAQABAkAfoiLyL+Z4lf4Myxk6xUDgLaWGximj20CUf+5BKKnlrK+Ed8gA\nkM0HqoTt2UZwA5E2MzS4EI2gjfQhz5X28uqxAiEA3wNFxfrCZlSZHb0gn2zDpWow\ncSxQAgiCstxGUoOqlW8CIQDDOerGKH5OmCJ4Z21v+F25WaHYPxCFMvwxpcw99Ecv\nDQIgIdhDTIqD2jfYjPTY8Jj3EDGPbH2HHuffvflECt3Ek60CIQCFRlCkHpi7hthh\nYhovyloRYsM+IS9h/0BzlEAuO0ktMQIgSPT3aFAgJYwKpqRYKlLDVcflZFCKY7u3\nUP8iWi1Qw0Y="),t.decrypt(e)},zV="undefined"!=typeof document;function FV(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const HV=Object.assign;function GV(e,t){const n={};for(const r in t){const o=t[r];n[r]=qV(o)?o.map(e):e(o)}return n}const WV=()=>{},qV=Array.isArray,KV=/#/g,YV=/&/g,XV=/\//g,$V=/=/g,JV=/\?/g,ZV=/\+/g,QV=/%5B/g,eB=/%5D/g,tB=/%5E/g,nB=/%60/g,rB=/%7B/g,oB=/%7C/g,iB=/%7D/g,aB=/%20/g;function sB(e){return encodeURI(""+e).replace(oB,"|").replace(QV,"[").replace(eB,"]")}function cB(e){return sB(e).replace(ZV,"%2B").replace(aB,"+").replace(KV,"%23").replace(YV,"%26").replace(nB,"`").replace(rB,"{").replace(iB,"}").replace(tB,"^")}function lB(e){return null==e?"":function(e){return sB(e).replace(KV,"%23").replace(JV,"%3F")}(e).replace(XV,"%2F")}function uB(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const dB=/\/$/;function hB(e,t,n="/"){let r,o={},i="",a="";const s=t.indexOf("#");let c=t.indexOf("?");return s<c&&s>=0&&(c=-1),c>-1&&(r=t.slice(0,c),i=t.slice(c+1,s>-1?s:t.length),o=e(i)),s>-1&&(r=r||t.slice(0,s),a=t.slice(s,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];".."!==o&&"."!==o||r.push("");let i,a,s=n.length-1;for(i=0;i<r.length;i++)if(a=r[i],"."!==a){if(".."!==a)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+r.slice(i).join("/")}(null!=r?r:t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:o,hash:uB(a)}}function pB(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function fB(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function mB(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!gB(e[n],t[n]))return!1;return!0}function gB(e,t){return qV(e)?vB(e,t):qV(t)?vB(t,e):e===t}function vB(e,t){return qV(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}const yB={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var _B,EB,bB,TB;function SB(e){if(!e)if(zV){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(dB,"")}(EB=_B||(_B={})).pop="pop",EB.push="push",(TB=bB||(bB={})).back="back",TB.forward="forward",TB.unknown="";const wB=/^[^#]+#/;function CB(e,t){return e.replace(wB,"#")+t}const RB=()=>({left:window.scrollX,top:window.scrollY});function IB(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function AB(e,t){return(history.state?history.state.position-t:-1)+e}const OB=new Map;function NB(e,t){const{pathname:n,search:r,hash:o}=t,i=e.indexOf("#");if(i>-1){let t=o.includes(e.slice(i))?e.slice(i).length:1,n=o.slice(t);return"/"!==n[0]&&(n="/"+n),pB(n,"")}return pB(n,e)+r+o}function kB(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?RB():null}}function DB(e){const{history:t,location:n}=window,r={value:NB(e,n)},o={value:t.state};function i(r,i,a){const s=e.indexOf("#"),c=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:location.protocol+"//"+location.host+e+r;try{t[a?"replaceState":"pushState"](i,"",c),o.value=i}catch(l){n[a?"replace":"assign"](c)}}return o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:function(e,n){const a=HV({},o.value,t.state,{forward:e,scroll:RB()});i(a.current,a,!0),i(e,HV({},kB(r.value,e,null),{position:a.position+1},n),!1),r.value=e},replace:function(e,n){i(e,HV({},t.state,kB(o.value.back,e,o.value.forward,!0),n,{position:o.value.position}),!0),r.value=e}}}function xB(e){return"string"==typeof e||"symbol"==typeof e}const PB=Symbol("");var MB,LB;function UB(e,t){return HV(new Error,{type:e,[PB]:!0},t)}function jB(e,t){return e instanceof Error&&PB in e&&(null==t||!!(e.type&t))}(LB=MB||(MB={}))[LB.aborted=4]="aborted",LB[LB.cancelled=8]="cancelled",LB[LB.duplicated=16]="duplicated";const VB="[^/]+?",BB={sensitive:!1,strict:!1,start:!0,end:!0},zB=/[.+*?^${}()[\]/\\]/g;function FB(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function HB(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const e=FB(r[n],o[n]);if(e)return e;n++}if(1===Math.abs(o.length-r.length)){if(GB(r))return 1;if(GB(o))return-1}return o.length-r.length}function GB(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const WB={type:0,value:""},qB=/[a-zA-Z0-9_]/;function KB(e,t,n){const r=function(e,t){const n=HV({},BB,t),r=[];let o=n.start?"^":"";const i=[];for(const c of e){const e=c.length?[]:[90];n.strict&&!c.length&&(o+="/");for(let t=0;t<c.length;t++){const r=c[t];let a=40+(n.sensitive?.25:0);if(0===r.type)t||(o+="/"),o+=r.value.replace(zB,"\\$&"),a+=40;else if(1===r.type){const{value:e,repeatable:n,optional:l,regexp:u}=r;i.push({name:e,repeatable:n,optional:l});const d=u||VB;if(d!==VB){a+=10;try{new RegExp(`(${d})`)}catch(s){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+s.message)}}let h=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(h=l&&c.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),o+=h,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===d&&(a+=-50)}e.push(a)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");return{re:a,score:r,keys:i,parse:function(e){const t=e.match(a),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",o=i[r-1];n[o.name]=e&&o.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:a,optional:s}=e,c=i in t?t[i]:"";if(qV(c)&&!a)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const l=qV(c)?c.join("/"):c;if(!l){if(!s)throw new Error(`Missing required param "${i}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=l}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[WB]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${l}": ${e}`)}let n=0,r=n;const o=[];let i;function a(){i&&o.push(i),i=[]}let s,c=0,l="",u="";function d(){l&&(0===n?i.push({type:0,value:l}):1===n||2===n||3===n?(i.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),l="")}function h(){l+=s}for(;c<e.length;)if(s=e[c++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(l&&d(),a()):":"===s?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:"("===s?n=2:qB.test(s)?h():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&c--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&c--,u="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${l}"`),d(),a(),o}(e.path),n),o=HV(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function YB(e,t){const n=[],r=new Map;function o(e,n,r){const s=!r,c=$B(e);c.aliasOf=r&&r.record;const l=ez(t,e),u=[c];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push($B(HV({},c,{components:r?r.record.components:c.components,path:e,aliasOf:r?r.record:c})))}let d,h;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(d=KB(t,n,l),r?r.alias.push(d):(h=h||d,h!==d&&h.alias.push(d),s&&e.name&&!ZB(d)&&i(e.name)),tz(d)&&a(d),c.children){const e=c.children;for(let t=0;t<e.length;t++)o(e[t],d,r&&r.children[t])}r=r||d}return h?()=>{i(h)}:WV}function i(e){if(xB(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function a(e){const t=function(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;HB(e,t[o])<0?r=o:n=o+1}const o=function(e){let t=e;for(;t=t.parent;)if(tz(t)&&0===HB(e,t))return t;return}(e);o&&(r=t.lastIndexOf(o,r-1));return r}(e,n);n.splice(t,0,e),e.record.name&&!ZB(e)&&r.set(e.record.name,e)}return t=ez({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,i,a,s={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw UB(1,{location:e});a=o.record.name,s=HV(XB(t.params,o.keys.filter((e=>!e.optional)).concat(o.parent?o.parent.keys.filter((e=>e.optional)):[]).map((e=>e.name))),e.params&&XB(e.params,o.keys.map((e=>e.name)))),i=o.stringify(s)}else if(null!=e.path)i=e.path,o=n.find((e=>e.re.test(i))),o&&(s=o.parse(i),a=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw UB(1,{location:e,currentLocation:t});a=o.record.name,s=HV({},t.params,e.params),i=o.stringify(s)}const c=[];let l=o;for(;l;)c.unshift(l.record),l=l.parent;return{name:a,path:i,params:s,matched:c,meta:QB(c)}},removeRoute:i,clearRoutes:function(){n.length=0,r.clear()},getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function XB(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function $B(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:JB(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function JB(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"==typeof n?n[r]:n;return t}function ZB(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function QB(e){return e.reduce(((e,t)=>HV(e,t.meta)),{})}function ez(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function tz({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function nz(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(ZV," "),o=e.indexOf("="),i=uB(o<0?e:e.slice(0,o)),a=o<0?null:uB(e.slice(o+1));if(i in t){let e=t[i];qV(e)||(e=t[i]=[e]),e.push(a)}else t[i]=a}return t}function rz(e){let t="";for(let n in e){const r=e[n];if(n=cB(n).replace($V,"%3D"),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}(qV(r)?r.map((e=>e&&cB(e))):[r&&cB(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function oz(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=qV(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const iz=Symbol(""),az=Symbol(""),sz=Symbol(""),cz=Symbol(""),lz=Symbol("");function uz(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function dz(e){const t=To(iz,{}).value;t&&function(e,t,n){const r=()=>{e[t].delete(n)};kr(r),_r(r),yr((()=>{e[t].add(n)})),e[t].add(n)}(t,"leaveGuards",e)}function hz(e,t,n,r,o,i=e=>e()){const a=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((s,c)=>{const l=e=>{var i;!1===e?c(UB(4,{from:n,to:t})):e instanceof Error?c(e):"string"==typeof(i=e)||i&&"object"==typeof i?c(UB(2,{from:t,to:e})):(a&&r.enterCallbacks[o]===a&&"function"==typeof e&&a.push(e),s())},u=i((()=>e.call(r&&r.instances[o],t,n,l)));let d=Promise.resolve(u);e.length<3&&(d=d.then(l)),d.catch((e=>c(e)))}))}function pz(e,t,n,r,o=e=>e()){const i=[];for(const a of e)for(const e in a.components){let s=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if(FV(s)){const c=(s.__vccOpts||s)[t];c&&i.push(hz(c,n,r,a,e,o))}else{let c=s();i.push((()=>c.then((i=>{if(!i)throw new Error(`Couldn't resolve component "${e}" at "${a.path}"`);const s=(c=i).__esModule||"Module"===c[Symbol.toStringTag]||c.default&&FV(c.default)?i.default:i;var c;a.mods[e]=i,a.components[e]=s;const l=(s.__vccOpts||s)[t];return l&&hz(l,n,r,a,e,o)()}))))}}return i}function fz(e){const t=To(sz),n=To(cz),r=ma((()=>{const n=Lt(e.to);return t.resolve(n)})),o=ma((()=>{const{matched:e}=r.value,{length:t}=e,o=e[t-1],i=n.matched;if(!o||!i.length)return-1;const a=i.findIndex(fB.bind(null,o));if(a>-1)return a;const s=vz(e[t-2]);return t>1&&vz(o)===s&&i[i.length-1].path!==s?i.findIndex(fB.bind(null,e[t-2])):a})),i=ma((()=>o.value>-1&&function(e,t){for(const n in t){const r=t[n],o=e[n];if("string"==typeof r){if(r!==o)return!1}else if(!qV(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}(n.params,r.value.params))),a=ma((()=>o.value>-1&&o.value===n.matched.length-1&&mB(n.params,r.value.params)));return{route:r,href:ma((()=>r.value.href)),isActive:i,isExactActive:a,navigate:function(n={}){if(function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)){const n=t[Lt(e.replace)?"replace":"push"](Lt(e.to)).catch(WV);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition((()=>n)),n}return Promise.resolve()}}}const mz=Qn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fz,setup(e,{slots:t}){const n=yt(fz(e)),{options:r}=To(sz),o=ma((()=>({[yz(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[yz(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&(1===(i=t.default(n)).length?i[0]:i);var i;return e.custom?r:ga("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),gz=mz;function vz(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yz=(e,t,n)=>null!=e?e:null!=t?t:n,_z=Qn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=To(lz),o=ma((()=>e.route||r.value)),i=To(az,0),a=ma((()=>{let e=Lt(i);const{matched:t}=o.value;let n;for(;(n=t[e])&&!n.components;)e++;return e})),s=ma((()=>o.value.matched[a.value]));bo(az,ma((()=>a.value+1))),bo(iz,s),bo(lz,o);const c=Dt();return Zo((()=>[c.value,s.value,e.name]),(([e,t,n],[r,o,i])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&fB(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,i=e.name,a=s.value,l=a&&a.components[i];if(!l)return Ez(n.default,{Component:l,route:r});const u=a.props[i],d=u?!0===u?r.params:"function"==typeof u?u(r):u:null,h=ga(l,HV({},d,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(a.instances[i]=null)},ref:c}));return Ez(n.default,{Component:h,route:r})||h}}});function Ez(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const bz=_z;function Tz(){return To(sz)}function Sz(e){return To(cz)}const wz=[{path:"/external/:url",name:"external",hidden:!0,meta:{title:"",keepAlive:!1},component:()=>sV((()=>import("./external-CyjzWgEV.js")),__vite__mapDeps([0,1,2]))},{path:"/redirect/:url",name:"redirect",hidden:!0,meta:{title:"",keepAlive:!1},component:{__name:"redirect",setup(e){const t=Sz(),n=Tz(),{params:r,query:o}=t;return n.replace({name:"external",params:r,query:o}),(e,t)=>(Ri(),ki("div"))}}}],Cz={path:"/chat/index",name:"chat/index",redirect:"/chat/conversation",component:()=>sV((()=>import("./index-aN2BDf30.js")),__vite__mapDeps([3,4,1,5,6,7,8,9,10,11,12])),meta:{title:""},children:[{path:"/chat/conversation",name:"Conversation",meta:{title:"",requiresAuth:!0},component:()=>sV((()=>import("./index-xXfLqo6q.js")),__vite__mapDeps([13,14,15,16,17,18,19,20,21,5,22,7,8,9,10,11,12])),children:[{path:"informdetails",component:()=>sV((()=>import("./index-DqTyiF0M.js")),__vite__mapDeps([23,20,24,5,21,25,7,8,9,26]))},{path:"message",component:()=>sV((()=>import("./index-C5M46Exa.js")),__vite__mapDeps([27,20,14,17,16,15,24,21,5,28,29,30,7,8,9,31,11,10,26]))}]},{path:"/chat/contacts",name:"Contacts",meta:{title:"",requiresAuth:!0},component:()=>sV((()=>import("./index-BxQFewYD.js")),__vite__mapDeps([32,18,19,14,16,17,33,21,34,35,5,36,7,8,9,10,11])),children:[{path:"message",component:()=>sV((()=>import("./index-C5M46Exa.js")),__vite__mapDeps([27,20,14,17,16,15,24,21,5,28,29,30,7,8,9,31,11,10,26]))},{path:"informdetails",component:()=>sV((()=>import("./index-DqTyiF0M.js")),__vite__mapDeps([23,20,24,5,21,25,7,8,9,26]))},{path:"contactInfo",component:()=>sV((()=>import("./contactInfo-DHhLIaEx.js")),__vite__mapDeps([37,14,33,38,16,5,17,39,9,10,8,11]))}]}]},Rz=[{path:"/404",name:"404",meta:{title:"404",keepAlive:!1},component:()=>sV((()=>import("./404-BCJsTsSI.js")),__vite__mapDeps([40,41])),hidden:!0},{path:"/:pathMatch(.*)*",name:"noMatch",meta:{keepAlive:!1},component:()=>sV((()=>import("./404-BCJsTsSI.js")),__vite__mapDeps([40,41])),hidden:!0}],Iz=Object.freeze(Object.defineProperty({__proto__:null,default:Rz},Symbol.toStringTag,{value:"Module"})),Az=[{path:"",redirect:"/login",hidden:!0,children:[{path:"/login",name:"login",meta:{title:"",keepAlive:!1},component:()=>sV((()=>import("./login-BMk5NofX.js")),__vite__mapDeps([42,43]))},{path:"/register",name:"register",meta:{keepAlive:!1},component:()=>sV((()=>import("./register-BOyNxvlD.js")),[])},{path:"/h5register",name:"h5register",meta:{keepAlive:!1},component:()=>sV((()=>import("./index-Boff4na1.js")),__vite__mapDeps([44,45,29,46,31]))},{path:"/h5download",name:"h5download",meta:{keepAlive:!1},component:()=>sV((()=>import("./download-KwF2HAe9.js")),__vite__mapDeps([47,45,48]))}]}],Oz=Object.freeze(Object.defineProperty({__proto__:null,default:Az},Symbol.toStringTag,{value:"Module"})),Nz=[],kz=Object.assign({"./modules/error.js":Iz,"./modules/login.js":Oz});Object.keys(kz).forEach((e=>{Nz.push(...kz[e].default)}));const Dz=function(e){const t=YB(e.routes,e),n=e.parseQuery||nz,r=e.stringifyQuery||rz,o=e.history,i=uz(),a=uz(),s=uz(),c=xt(yB);let l=yB;zV&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=GV.bind(null,(e=>""+e)),d=GV.bind(null,lB),h=GV.bind(null,uB);function p(e,i){if(i=HV({},i||c.value),"string"==typeof e){const r=hB(n,e,i.path),a=t.resolve({path:r.path},i),s=o.createHref(r.fullPath);return HV(r,a,{params:h(a.params),hash:uB(r.hash),redirectedFrom:void 0,href:s})}let a;if(null!=e.path)a=HV({},e,{path:hB(n,e.path,i.path).path});else{const t=HV({},e.params);for(const e in t)null==t[e]&&delete t[e];a=HV({},e,{params:d(t)}),i.params=d(i.params)}const s=t.resolve(a,i),l=e.hash||"";s.params=u(h(s.params));const p=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,HV({},e,{hash:(f=l,sB(f).replace(rB,"{").replace(iB,"}").replace(tB,"^")),path:s.path}));var f;const m=o.createHref(p);return HV({fullPath:p,hash:l,query:r===rz?oz(e.query):e.query||{}},s,{redirectedFrom:void 0,href:m})}function f(e){return"string"==typeof e?hB(n,e,c.value.path):HV({},e)}function m(e,t){if(l!==e)return UB(8,{from:t,to:e})}function g(e){return y(e)}function v(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=f(r):{path:r},r.params={}),HV({query:e.query,hash:e.hash,params:null!=r.path?{}:e.params},r)}}function y(e,t){const n=l=p(e),o=c.value,i=e.state,a=e.force,s=!0===e.replace,u=v(n);if(u)return y(HV(f(u),{state:"object"==typeof u?HV({},i,u.state):i,force:a,replace:s}),t||n);const d=n;let h;return d.redirectedFrom=t,!a&&function(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&fB(t.matched[r],n.matched[o])&&mB(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,o,n)&&(h=UB(16,{to:d,from:o}),k(o,o,!0,!1)),(h?Promise.resolve(h):b(d,o)).catch((e=>jB(e)?jB(e,2)?e:N(e):O(e,d,o))).then((e=>{if(e){if(jB(e,2))return y(HV({replace:s},f(e.to),{state:"object"==typeof e.to?HV({},i,e.to.state):i,force:a}),t||d)}else e=S(d,o,!0,s,i);return T(d,o,e),e}))}function _(e,t){const n=m(e,t);return n?Promise.reject(n):Promise.resolve()}function E(e){const t=P.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function b(e,t){let n;const[r,o,s]=function(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const i=t.matched[a];i&&(e.matched.find((e=>fB(e,i)))?r.push(i):n.push(i));const s=e.matched[a];s&&(t.matched.find((e=>fB(e,s)))||o.push(s))}return[n,r,o]}(e,t);n=pz(r.reverse(),"beforeRouteLeave",e,t);for(const i of r)i.leaveGuards.forEach((r=>{n.push(hz(r,e,t))}));const c=_.bind(null,e,t);return n.push(c),L(n).then((()=>{n=[];for(const r of i.list())n.push(hz(r,e,t));return n.push(c),L(n)})).then((()=>{n=pz(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push(hz(r,e,t))}));return n.push(c),L(n)})).then((()=>{n=[];for(const r of s)if(r.beforeEnter)if(qV(r.beforeEnter))for(const o of r.beforeEnter)n.push(hz(o,e,t));else n.push(hz(r.beforeEnter,e,t));return n.push(c),L(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=pz(s,"beforeRouteEnter",e,t,E),n.push(c),L(n)))).then((()=>{n=[];for(const r of a.list())n.push(hz(r,e,t));return n.push(c),L(n)})).catch((e=>jB(e,8)?e:Promise.reject(e)))}function T(e,t,n){s.list().forEach((r=>E((()=>r(e,t,n)))))}function S(e,t,n,r,i){const a=m(e,t);if(a)return a;const s=t===yB,l=zV?history.state:{};n&&(r||s?o.replace(e.fullPath,HV({scroll:s&&l&&l.scroll},i)):o.push(e.fullPath,i)),c.value=e,k(e,t,n,s),N()}let w;function C(){w||(w=o.listen(((e,t,n)=>{if(!M.listening)return;const r=p(e),i=v(r);if(i)return void y(HV(i,{replace:!0,force:!0}),r).catch(WV);l=r;const a=c.value;var s,u;zV&&(s=AB(a.fullPath,n.delta),u=RB(),OB.set(s,u)),b(r,a).catch((e=>jB(e,12)?e:jB(e,2)?(y(HV(f(e.to),{force:!0}),r).then((e=>{jB(e,20)&&!n.delta&&n.type===_B.pop&&o.go(-1,!1)})).catch(WV),Promise.reject()):(n.delta&&o.go(-n.delta,!1),O(e,r,a)))).then((e=>{(e=e||S(r,a,!1))&&(n.delta&&!jB(e,8)?o.go(-n.delta,!1):n.type===_B.pop&&jB(e,20)&&o.go(-1,!1)),T(r,a,e)})).catch(WV)})))}let R,I=uz(),A=uz();function O(e,t,n){N(e);const r=A.list();return r.length&&r.forEach((r=>r(e,t,n))),Promise.reject(e)}function N(e){return R||(R=!e,C(),I.list().forEach((([t,n])=>e?n(e):t())),I.reset()),e}function k(t,n,r,o){const{scrollBehavior:i}=e;if(!zV||!i)return Promise.resolve();const a=!r&&function(e){const t=OB.get(e);return OB.delete(e),t}(AB(t.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return dn().then((()=>i(t,n,a))).then((e=>e&&IB(e))).catch((e=>O(e,t,n)))}const D=e=>o.go(e);let x;const P=new Set,M={currentRoute:c,listening:!0,addRoute:function(e,n){let r,o;return xB(e)?(r=t.getRecordMatcher(e),o=n):o=e,t.addRoute(o,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:p,options:e,push:g,replace:function(e){return g(HV(f(e),{replace:!0}))},go:D,back:()=>D(-1),forward:()=>D(1),beforeEach:i.add,beforeResolve:a.add,afterEach:s.add,onError:A.add,isReady:function(){return R&&c.value!==yB?Promise.resolve():new Promise(((e,t)=>{I.add([e,t])}))},install(e){e.component("RouterLink",gz),e.component("RouterView",bz),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Lt(c)}),zV&&!x&&c.value===yB&&(x=!0,g(o.location).catch((e=>{})));const t={};for(const r in yB)Object.defineProperty(t,r,{get:()=>c.value[r],enumerable:!0});e.provide(sz,this),e.provide(cz,_t(t)),e.provide(lz,c);const n=e.unmount;P.add(e),e.unmount=function(){P.delete(e),P.size<1&&(l=yB,w&&w(),w=null,c.value=yB,x=!1,R=!1),n()}}};function L(e){return e.reduce(((e,t)=>e.then((()=>E(t)))),Promise.resolve())}return M}({history:function(e){const t=DB(e=SB(e)),n=function(e,t,n,r){let o=[],i=[],a=null;const s=({state:i})=>{const s=NB(e,location),c=n.value,l=t.value;let u=0;if(i){if(n.value=s,t.value=i,a&&a===c)return void(a=null);u=l?i.position-l.position:0}else r(s);o.forEach((e=>{e(n.value,c,{delta:u,type:_B.pop,direction:u?u>0?bB.forward:bB.back:bB.unknown})}))};function c(){const{history:e}=window;e.state&&e.replaceState(HV({},e.state,{scroll:RB()}),"")}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:function(){a=n.value},listen:function(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return i.push(t),t},destroy:function(){for(const e of i)e();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}}}(e,t.state,t.location,t.replace),r=HV({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:CB.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}(),routes:Nz,scrollBehavior:(e,t,n)=>new Promise((e=>{if(n)return n;if(t.meta.saveSrollTop){e({left:0,top:document.documentElement.scrollTop||document.body.scrollTop})}}))});let xz=!0;const Pz=["/login","/register","/h5register","/h5download"];Dz.beforeEach((async(e,t,n)=>{const r=dG();if(Pz.includes(e.path))xz=!0,"/login"===e.path&&r.authorization?n("/dashboard"):n();else if(r.authorization){if(r.getMenuList().length)xz=!0,n();else if(xz){xz=!1;await r.getUserRole()&&n(e.fullPath)}}else xz=!0,n(`/login?redirect=${encodeURIComponent(e.fullPath)}`)}));
/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */
var Mz="store";function Lz(e){return void 0===e&&(e=null),To(null!==e?e:Mz)}function Uz(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function jz(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Vz(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;zz(e,n,[],e._modules.root,!0),Bz(e,n,t)}function Bz(e,t,n){var r=e._state,o=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,a={},s={},c=ae(!0);c.run((function(){Uz(i,(function(t,n){a[n]=function(e,t){return function(){return e(t)}}(t,e),s[n]=ma((function(){return a[n]()})),Object.defineProperty(e.getters,n,{get:function(){return s[n].value},enumerable:!0})}))})),e._state=yt({data:t}),e._scope=c,e.strict&&function(e){Zo((function(){return e._state.data}),(function(){}),{deep:!0,flush:"sync"})}(e),r&&n&&e._withCommit((function(){r.data=null})),o&&o.stop()}function zz(e,t,n,r,o){var i=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!i&&!o){var s=Hz(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){s[c]=r.state}))}var l=r.context=function(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=Gz(n,r,o),a=i.payload,s=i.options,c=i.type;return s&&s.root||(c=t+c),e.dispatch(c,a)},commit:r?e.commit:function(n,r,o){var i=Gz(n,r,o),a=i.payload,s=i.options,c=i.type;s&&s.root||(c=t+c),e.commit(c,a,s)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return Fz(e,t)}},state:{get:function(){return Hz(e.state,n)}}}),o}(e,a,n);r.forEachMutation((function(t,n){!function(e,t,n,r){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){n.call(e,r.state,t)}))}(e,a+n,t,l)})),r.forEachAction((function(t,n){var r=t.root?n:a+n,o=t.handler||t;!function(e,t,n,r){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o,i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return(o=i)&&"function"==typeof o.then||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}(e,r,o,l)})),r.forEachGetter((function(t,n){!function(e,t,n,r){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}(e,a+n,t,l)})),r.forEachChild((function(r,i){zz(e,t,n.concat(i),r,o)}))}function Fz(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function Hz(e,t){return t.reduce((function(e,t){return e[t]}),e)}function Gz(e,t,n){var r;return null!==(r=e)&&"object"==typeof r&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var Wz="vuex:mutations",qz="vuex:actions",Kz="vuex",Yz=0;function Xz(e,t){mV({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(n){n.addTimelineLayer({id:Wz,label:"Vuex Mutations",color:$z}),n.addTimelineLayer({id:qz,label:"Vuex Actions",color:$z}),n.addInspector({id:Kz,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===Kz)if(n.filter){var r=[];eF(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[Qz(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===Kz){var r=n.nodeId;Fz(t,r),n.state=function(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),o={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var i=function(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var o=t,i=r.pop();r.forEach((function(e){o[e]||(o[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),o=o[e]._custom.value})),o[i]=tF((function(){return e[n]}))}else t[n]=tF((function(){return e[n]}))})),t}(t);o.getters=Object.keys(i).map((function(e){return{key:e.endsWith("/")?Zz(e):e,editable:!1,value:tF((function(){return i[e]}))}}))}return o}((o=t._modules,(a=(i=r).split("/").filter((function(e){return e}))).reduce((function(e,t,n){var r=e[t];if(!r)throw new Error('Missing module "'+t+'" for path "'+i+'".');return n===a.length-1?r:r._children}),"root"===i?o:o.root._children)),"root"===r?t.getters:t._makeLocalGettersCache,r)}var o,i,a})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===Kz){var r=n.nodeId,o=n.path;"root"!==r&&(o=r.split("/").filter(Boolean).concat(o)),t._withCommit((function(){n.set(t._state.data,o,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(Kz),n.sendInspectorState(Kz),n.addTimelineEvent({layerId:Wz,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=Yz++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:qz,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},o=Date.now()-e._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:qz,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var $z=8702998,Jz={label:"namespaced",textColor:16777215,backgroundColor:6710886};function Zz(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function Qz(e,t){return{id:t||"root",label:Zz(t),tags:e.namespaced?[Jz]:[],children:Object.keys(e._children).map((function(n){return Qz(e._children[n],t+n+"/")}))}}function eF(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[Jz]:[]}),Object.keys(t._children).forEach((function(o){eF(e,t._children[o],n,r+o+"/")}))}function tF(e){try{return e()}catch(kk){return kk}}var nF=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},rF={namespaced:{configurable:!0}};rF.namespaced.get=function(){return!!this._rawModule.namespaced},nF.prototype.addChild=function(e,t){this._children[e]=t},nF.prototype.removeChild=function(e){delete this._children[e]},nF.prototype.getChild=function(e){return this._children[e]},nF.prototype.hasChild=function(e){return e in this._children},nF.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},nF.prototype.forEachChild=function(e){Uz(this._children,e)},nF.prototype.forEachGetter=function(e){this._rawModule.getters&&Uz(this._rawModule.getters,e)},nF.prototype.forEachAction=function(e){this._rawModule.actions&&Uz(this._rawModule.actions,e)},nF.prototype.forEachMutation=function(e){this._rawModule.mutations&&Uz(this._rawModule.mutations,e)},Object.defineProperties(nF.prototype,rF);var oF=function(e){this.register([],e,!1)};function iF(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;iF(e.concat(r),t.getChild(r),n.modules[r])}}oF.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},oF.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},oF.prototype.update=function(e){iF([],this.root,e)},oF.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var o=new nF(t,n);0===e.length?this.root=o:this.get(e.slice(0,-1)).addChild(e[e.length-1],o);t.modules&&Uz(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},oF.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},oF.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var aF=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new oF(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var i=this,a=this.dispatch,s=this.commit;this.dispatch=function(e,t){return a.call(i,e,t)},this.commit=function(e,t,n){return s.call(i,e,t,n)},this.strict=r;var c=this._modules.root.state;zz(this,c,[],this._modules.root),Bz(this,c),n.forEach((function(e){return e(t)}))},sF={state:{configurable:!0}};aF.prototype.install=function(e,t){e.provide(t||Mz,this),e.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&Xz(e,this)},sF.state.get=function(){return this._state.data},sF.state.set=function(e){},aF.prototype.commit=function(e,t,n){var r=this,o=Gz(e,t,n),i=o.type,a=o.payload,s={type:i,payload:a},c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,r.state)})))},aF.prototype.dispatch=function(e,t){var n=this,r=Gz(e,t),o=r.type,i=r.payload,a={type:o,payload:i},s=this._actions[o];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(kk){}var c=s.length>1?Promise.all(s.map((function(e){return e(i)}))):s[0](i);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(kk){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,n.state,e)}))}catch(kk){}t(e)}))}))}},aF.prototype.subscribe=function(e,t){return jz(e,this._subscribers,t)},aF.prototype.subscribeAction=function(e,t){return jz("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},aF.prototype.watch=function(e,t,n){var r=this;return Zo((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},aF.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},aF.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),zz(this,this.state,e,this._modules.get(e),n.preserveState),Bz(this,this.state)},aF.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete Hz(t.state,e.slice(0,-1))[e[e.length-1]]})),Vz(this)},aF.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},aF.prototype.hotUpdate=function(e){this._modules.update(e),Vz(this,!0)},aF.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(aF.prototype,sF);var cF={exports:{}};self,cF.exports=function(){var e={4537:function(e){e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(s){i&&(i=!1,a(s))}}))}},7419:function(e,t){var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(e,t,n){for(var o,i=null,a=[],s=0,c=0;t<n;){var l=e[t++];switch(c){case 0:a[s++]=r[l>>2],o=(3&l)<<4,c=1;break;case 1:a[s++]=r[o|l>>4],o=(15&l)<<2,c=2;break;case 2:a[s++]=r[o|l>>6],a[s++]=r[63&l],c=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=r[o],a[s++]=61,1===c&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(e,t,n){for(var r,i=n,s=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&s>1)break;if(void 0===(l=o[l]))throw Error(a);switch(s){case 0:r=l,s=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,s=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,s=3;break;case 3:t[n++]=(3&r)<<6|l,s=0}}if(1===s)throw Error(a);return n-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},5124:function(e){function t(e,n){"string"==typeof e&&(n=e,e=void 0);var r=[];function o(e){if("string"!=typeof e){var n=i();if(t.verbose,n="return "+n,e){for(var a=Object.keys(e),s=new Array(a.length+1),c=new Array(a.length),l=0;l<a.length;)s[l]=a[l],c[l]=e[a[l++]];return s[l]=n,Function.apply(null,s).apply(null,c)}return Function(n)()}for(var u=new Array(arguments.length-1),d=0;d<u.length;)u[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=u[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),d!==u.length)throw Error("parameter count mismatch");return r.push(e),o}function i(t){return"function "+(t||n||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return o.toString=i,o}e.exports=t,t.verbose=!1},9211:function(e){function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},9054:function(e,t,n){e.exports=i;var r=n(4537),o=n(7199)("fs");function i(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&o&&o.readFile?o.readFile(e,(function(r,o){return r&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,n):r?n(r):n(null,t.binary?o:o.toString("utf8"))})):i.xhr(e,t,n):r(i,this,e,t)}i.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var o=0;o<r.responseText.length;++o)e.push(255&r.responseText.charCodeAt(o))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)}},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},945:function(e){function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(e,r,o){t[0]=e,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?o:i,e.writeFloatBE=r?i:o,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}}function a(e,t,n){var r=e(t,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=a.bind(null,o),e.readFloatBE=a.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(e,r,o){t[0]=e,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?o:i,e.writeDoubleBE=r?i:o,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,o,i+t),e(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))e(0,o,i+t),e(2146959360,o,i+n);else if(r>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,o,i+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,o,i+n)}}}function a(e,t,n,r,o){var i=e(r,o+t),a=e(r,o+n),s=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+i;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=a.bind(null,o,0,4),e.readDoubleBE=a.bind(null,i,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:function(e,t,n){e.exports=function(e){try{var t=n(822)(e);if(t&&(t.length||Object.keys(t).length))return t}catch(r){}return null}},822:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=822,e.exports=t},8626:function(e,t){var n=t,r=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),o="";n&&(o=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):n?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return o+t.join("/")};n.resolve=function(e,t,n){return n||(t=o(t)),r(t)?t:(n||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},6662:function(e){e.exports=function(e,t,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return e(n);a+n>r&&(i=e(r),a=0);var s=t.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},4997:function(e,t){var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,i=[],a=0;t<n;)(r=e[t++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(e,t,n){for(var r,o,i=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-i}},4188:function(e,t,n){var r,o,i;!function(a){if(null!=t&&"number"!=typeof t.nodeType)e.exports=a();else if(null!=n.amdO)o=[],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i);else{var s=a(),c="undefined"!=typeof self?self:$.global;"function"!=typeof c.btoa&&(c.btoa=s.btoa),"function"!=typeof c.atob&&(c.atob=s.atob)}}((function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:function(n){for(var r,o,i=String(n),a=0,s=e,c="";i.charAt(0|a)||(s="=",a%1);c+=s.charAt(63&r>>8-a%1*8)){if((o=i.charCodeAt(a+=3/4))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return c},atob:function(n){var r=String(n).replace(/[=]+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,a=0,s=0,c="";i=r.charAt(s++);~i&&(o=a%4?64*o+i:i,a++%4)?c+=String.fromCharCode(255&o>>(-2*a&6)):0)i=e.indexOf(i);return c}}}))},9667:function(e,t,n){n.r(t),n.d(t,{addUsersToChatRoom:function(){return _},addUsersToChatRoomAllowlist:function(){return Y},addUsersToChatRoomWhitelist:function(){return K},blockChatRoomMember:function(){return M},blockChatRoomMembers:function(){return U},chatRoomBlockMulti:function(){return L},chatRoomBlockSingle:function(){return P},createChatRoom:function(){return d},deleteChatRoomSharedFile:function(){return ae},destroyChatRoom:function(){return h},disableSendChatRoomMsg:function(){return W},enableSendChatRoomMsg:function(){return q},fetchChatRoomAnnouncement:function(){return re},fetchChatRoomSharedFileList:function(){return se},getChatRoomAdmin:function(){return C},getChatRoomAllowlist:function(){return Q},getChatRoomAttributes:function(){return le},getChatRoomBlacklist:function(){return H},getChatRoomBlacklistNew:function(){return F},getChatRoomBlocklist:function(){return G},getChatRoomDetails:function(){return p},getChatRoomMuteList:function(){return D},getChatRoomMuted:function(){return k},getChatRoomMutelist:function(){return x},getChatRoomSharedFilelist:function(){return ce},getChatRoomWhitelist:function(){return Z},getChatRooms:function(){return u},getJoinedChatRooms:function(){return fe},isChatRoomWhiteUser:function(){return ee},isInChatRoomAllowlist:function(){return te},isInChatRoomMutelist:function(){return ne},joinChatRoom:function(){return E},leaveChatRoom:function(){return T},listChatRoomMember:function(){return S},listChatRoomMembers:function(){return w},modifyChatRoom:function(){return f},muteChatRoomMember:function(){return A},quitChatRoom:function(){return b},removeChatRoomAdmin:function(){return I},removeChatRoomAllowlistMember:function(){return J},removeChatRoomAttribute:function(){return pe},removeChatRoomAttributes:function(){return he},removeChatRoomBlockMulti:function(){return B},removeChatRoomBlockSingle:function(){return j},removeChatRoomMember:function(){return g},removeChatRoomMembers:function(){return y},removeChatRoomWhitelistMember:function(){return $},removeMultiChatRoomMember:function(){return v},removeMuteChatRoomMember:function(){return O},removeSingleChatRoomMember:function(){return m},rmUsersFromChatRoomWhitelist:function(){return X},setChatRoomAdmin:function(){return R},setChatRoomAttribute:function(){return de},setChatRoomAttributes:function(){return ue},unblockChatRoomMember:function(){return V},unblockChatRoomMembers:function(){return z},unmuteChatRoomMember:function(){return N},updateChatRoomAnnouncement:function(){return oe},uploadChatRoomSharedFile:function(){return ie}}),n(1539),n(8674),n(8309),n(2526),n(1817),n(2222),n(9753),n(9600),n(1249),n(4916),n(3123),n(2165),n(6992),n(8783),n(3948);var r=n(5531),o=n(7252),i=n(4024),a=n(3246),s=n(7360),c=n(1595);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){var t=this;if("number"!=typeof e.pagenum||"number"!=typeof e.pagesize)throw Error("Invalid parameter");if(!a.XZ.call(this)){var n=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var l={pagenum:e.pagenum||1,pagesize:e.pagesize||20},u=this.context,d=u.orgName,h=u.appName,p=u.accessToken,f={url:this.apiUrl+"/"+d+"/"+h+"/chatrooms",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+p},data:l,success:function(t){"function"==typeof e.success&&e.success(t)},error:function(n){n.error&&n.error_description&&t.onError&&t.onError({type:r.E.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,message:n.error_description,data:n}),"function"==typeof e.error&&e.error(n)}};return s.kg.debug("Call getChatRooms",e),i.hj.call(this,f,c.fI.GET_CHATROOM_LIST)}function d(e){if("string"!=typeof e.name)throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={name:e.name,description:e.description,maxusers:e.maxusers,owner:this.user,members:e.members},l=this.context,u=l.orgName,d=l.appName,h=l.accessToken,p=l.jid,f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(d,"/chatrooms?resource=").concat(p.clientResource),dataType:"json",type:"POST",data:JSON.stringify(n),headers:{Authorization:"Bearer "+(e.token||h),"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call createChatRoom",e),i.hj.call(this,f,c.fI.CREATE_CHATROOM)}function h(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(e.chatRoomId,"?resource=").concat(h.clientResource,"&version=v3"),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+(e.token||d)},success:e.success,error:e.error};return s.kg.debug("Call destroyChatRoom",e),i.hj.call(this,p,c.fI.DESTROY_CHATROOM)}function p(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h={url:this.apiUrl+"/"+l+"/"+u+"/chatrooms/"+e.chatRoomId,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getChatRoomDetails",e),i.hj.call(this,h,c.fI.GET_CHATROOM_DETAIL)}function f(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f={groupname:e.chatRoomName,description:e.description,maxusers:e.maxusers},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"?resource=").concat(h.clientResource),type:"PUT",data:JSON.stringify(f),dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call modifyChatRoom",e),i.hj.call(this,m,c.fI.MODIFY_CHATROOM)}function m(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId||"string"!=typeof e.username)throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f=e.username,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/users/").concat(f,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeChatRoomMember",e),i.hj.call(this,m,c.fI.REMOVE_CHATROOM_MEMBER)}var g=m;function v(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId||!Array.isArray(e.users))throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=e.chatRoomId,l=e.users.join(","),u=this.context,d=u.orgName,h=u.appName,p=u.accessToken,f=u.jid,m={url:"".concat(this.apiUrl,"/").concat(d,"/").concat(h,"/chatrooms/").concat(n,"/users/").concat(l,"?resource=").concat(f.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeChatRoomMembers",e),i.hj.call(this,m,c.fI.MULTI_REMOVE_CHATROOM_MEMBER)}var y=v;function _(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId||!Array.isArray(e.users))throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=e.chatRoomId,l={usernames:e.users},u=this.context,d=u.orgName,h=u.appName,p=u.accessToken,f=u.jid,m={url:"".concat(this.apiUrl,"/").concat(d,"/").concat(h,"/chatrooms/").concat(n,"/users?resource=").concat(f.clientResource),type:"POST",data:JSON.stringify(l),dataType:"json",headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call addUsersToChatRoom",e),i.hj.call(this,m,c.fI.ADD_USERS_TO_CHATROOM)}function E(e){var t=e.roomId,n=e.message,i=void 0===n?"":n,c=e.ext,l=void 0===c?"":c,u=e.leaveOtherRooms,d=void 0!==u&&u,h=e.success,p=e.error;if("string"!=typeof t||""===t)throw Error("Invalid parameter roomId");if("string"!=typeof l)throw Error("Invalid parameter ext");if("boolean"!=typeof d)throw Error("Invalid parameter leaveOtherRooms");if(!a.XZ.call(this)){var f=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(f)}return s.kg.debug("Call joinChatRoom",e),this.logOut?Promise.reject({type:r.E.WEBIM_CONNECTION_CLOSED,message:"not login"}):this.mSync.handleChatRoom({roomId:t,ext:l,leaveOtherRooms:d,message:i,success:h,error:p},"join")}function b(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}return s.kg.debug("Call leaveChatRoom",e),this.logOut?Promise.reject({type:r.E.WEBIM_CONNECTION_CLOSED,message:"not login"}):this.mSync.handleChatRoom(e,"leave")}var T=b;function S(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(isNaN(e.pageNum)||e.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(e.pageSize)||e.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={pagenum:e.pageNum,pagesize:e.pageSize},l=this.context,u=l.orgName,d=l.appName,h=l.accessToken,p={url:this.apiUrl+"/"+u+"/"+d+"/chatrooms/"+e.chatRoomId+"/users",dataType:"json",type:"GET",data:n,headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call listChatRoomMembers",e),i.hj.call(this,p,c.fI.LIST_CHATROOM_MEMBERS)}var w=S;function C(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.chatRoomId,p={url:this.apiUrl+"/"+l+"/"+u+"/chatrooms/"+h+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getChatRoomAdmin",e),i.hj.call(this,p,c.fI.GET_CHATROOM_ADMIN)}function R(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f={newadmin:e.username},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/admin?resource=").concat(h.clientResource),type:"POST",dataType:"json",data:JSON.stringify(f),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call setChatRoomAdmin",e),i.hj.call(this,m,c.fI.SET_CHATROOM_ADMIN)}function I(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f=e.username,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/admin/").concat(f,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeChatRoomAdmin",e),i.hj.call(this,m,c.fI.REMOVE_CHATROOM_ADMIN)}function A(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if("number"!=typeof e.muteDuration)throw Error('Invalid parameter: "muteDuration"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f={usernames:[e.username],mute_duration:e.muteDuration},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/mute?resource=").concat(h.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},data:JSON.stringify(f),success:e.success,error:e.error};return s.kg.debug("Call muteChatRoomMember",e),i.hj.call(this,m,c.fI.MUTE_CHATROOM_MEMBER)}function O(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f=e.username,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/mute/").concat(f,"?resource=").concat(h.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call unmuteChatRoomMember",e),i.hj.call(this,m,c.fI.REMOVE_MUTE_CHATROOM_MEMBER)}var N=O;function k(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.chatRoomId,p={url:this.apiUrl+"/"+l+"/"+u+"/chatrooms/"+h+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getChatRoomMutelist",e),i.hj.call(this,p,c.fI.GET_MUTE_CHATROOM_MEMBERS)}var D=k,x=k;function P(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f=e.username,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/blocks/users/").concat(f,"?resource=").concat(h.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call blockChatRoomMember",e),i.hj.call(this,m,c.fI.SET_CHATROOM_MEMBER_TO_BLACK)}var M=P;function L(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f={usernames:e.usernames},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/blocks/users?resource=").concat(h.clientResource),data:JSON.stringify(f),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Chat blockChatRoomMembers:",m),i.hj.call(this,m,c.fI.MULTI_SET_CHATROOM_MEMBER_TO_BLACK)}var U=L;function j(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f=e.username,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/blocks/users/").concat(f,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call unblockChatRoomMember",e),i.hj.call(this,m,c.fI.REMOVE_CHATROOM_MEMBER_BLACK)}var V=j;function B(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f=e.usernames.join(","),m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/blocks/users/").concat(f,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call unblockChatRoomMembers",e),i.hj.call(this,m,c.fI.MULTI_REMOVE_CHATROOM_MEMBER_BLACK)}var z=B;function F(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.chatRoomId,p={url:this.apiUrl+"/"+l+"/"+u+"/chatrooms/"+h+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getChatRoomBlocklist",e),i.hj.call(this,p,c.fI.GET_CHATROOM_BLOCK_MEMBERS)}var H=F,G=F;function W(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/ban?resource=").concat(h.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call disableSendChatRoomMsg",e),i.hj.call(this,f,c.fI.DISABLED_CHATROOM_SEND_MSG)}function q(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/ban?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call enableSendChatRoomMsg",e),i.hj.call(this,f,c.fI.ENABLE_CHATROOM_SEND_MSG)}function K(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(e.users))throw Error('Invalid parameter: "users"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f={usernames:e.users},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/white/users?resource=").concat(h.clientResource),type:"POST",data:JSON.stringify(f),dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call addUsersToChatRoomWhitelist",e),i.hj.call(this,m,c.fI.ADD_USERS_TO_CHATROOM)}var Y=K;function X(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.userName||""===e.userName)throw Error('Invalid parameter: "userName"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.chatRoomId,f={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/white/users/").concat(e.userName,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeChatRoomAllowlistMember",e),i.hj.call(this,f,c.fI.REMOVE_CHATROOM_WHITE_USERS)}var $=X,J=X;function Z(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.chatRoomId,p={url:this.apiUrl+"/"+l+"/"+u+"/chatrooms/"+h+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getChatRoomAllowlist",e),i.hj.call(this,p,c.fI.GET_CHATROOM_WHITE_USERS)}var Q=Z;function ee(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.userName||""===e.userName)throw Error('Invalid parameter: "userName"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.chatRoomId,p={url:this.apiUrl+"/"+l+"/"+u+"/chatrooms/"+h+"/white/users/"+e.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call isInChatRoomAllowlist",e),i.hj.call(this,p,c.fI.CHECK_CHATROOM_WHITE_USER)}var te=ee;function ne(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,c=n.orgName,l=n.appName,u=n.accessToken,d=n.userId,h={url:this.apiUrl+"/"+c+"/"+l+"/sdk/chatrooms/"+e.chatRoomId+"/mute/"+d,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+u}};return s.kg.debug("Call isInChatRoomMutelist",e),i.hj.call(this,h).then((function(e){return{type:e.type,data:e.data}}))}function re(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.roomId,p={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(h,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call fetchChatRoomAnnouncement",e),i.hj.call(this,p,c.fI.GET_CHATROOM_ANN)}function oe(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if("string"!=typeof e.announcement)throw Error('Invalid parameter: "announcement"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.roomId,f={announcement:e.announcement},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/announcement?resource=").concat(h.clientResource),type:"POST",dataType:"json",data:JSON.stringify(f),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call updateChatRoomAnnouncement:",e),i.hj.call(this,m,c.fI.UPDATE_CHATROOM_ANN)}function ie(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if("object"!==l(e.file))throw Error('Invalid parameter: "file"');if(a.XZ.call(this)){var t=this.context,n=t.orgName,r=t.appName,o=t.accessToken,u=t.jid,d=e.roomId;i.cT.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(n,"/").concat(r,"/chatrooms/").concat(d,"/share_files?resource=").concat(u.clientResource),onFileUploadProgress:e.onFileUploadProgress,onFileUploadComplete:e.onFileUploadComplete,onFileUploadError:e.onFileUploadError,onFileUploadCanceled:e.onFileUploadCanceled,accessToken:o,apiUrl:this.apiUrl,file:e.file,appKey:this.context.appKey},c.fI.UPLOAD_CHATROOM_FILE),s.kg.debug("Call uploadChatRoomSharedFile",e)}}function ae(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if("string"!=typeof e.fileId||""===e.fileId)throw Error('Invalid parameter: "fileId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.roomId,f=e.fileId,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(p,"/share_files/").concat(f,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call deleteChatRoomSharedFile",e),i.hj.call(this,m,c.fI.DELETE_CHATROOM_FILE)}function se(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.roomId,p={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatrooms/").concat(h,"/share_files"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json",accept:"application/json"},success:e.success,error:e.error};return s.kg.debug("Call fetchChatRoomSharedFileList",e),i.hj.call(this,p,c.fI.GET_CHATROOM_FILES)}var ce=se;function le(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if(e.attributeKeys&&!Array.isArray(e.attributeKeys))throw Error('"Invalid parameter attributeKeys": '+e.attributeKeys);if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=(n.jid,e.chatRoomId),p={keys:e.attributeKeys},f={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/metadata/chatroom/").concat(h),type:"POST",dataType:"json",data:JSON.stringify(p),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"}};return s.kg.debug("Call getChatRoomAttributes:",e),i.hj.call(this,f,c.fI.GET_CHATROOM_ATTR).then((function(e){return{data:e.data,type:e.type}}))}function ue(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if("object"!==l(e.attributes))throw Error("Invalid parameter attributes: "+e.attributes);if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,u=n.orgName,d=n.appName,h=n.accessToken,p=n.userId,f=e.chatRoomId,m=e.attributes,g=e.autoDelete,v=void 0===g||g,y=e.isForced?"/forced":"",_={metaData:m,autoDelete:v?"DELETE":"NO_DELETE"},E={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(d,"/metadata/chatroom/").concat(f,"/user/").concat(p)+y,type:"PUT",dataType:"json",data:JSON.stringify(_),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"}};return s.kg.debug("Call setChatRoomAttributes:",e),i.hj.call(this,E,c.fI.SET_CHATROOM_ATTR).then((function(e){return(0,a._W)(e)}))}function de(e){var t;if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if("string"!=typeof e.attributeKey||""===e.attributeKey)throw Error("Invalid parameter attributeKey: "+e.attributeKey);if("string"!=typeof e.attributeValue||""===e.attributeValue)throw Error("Invalid parameter attributeValue: "+e.attributeValue);if(!a.XZ.call(this)){var n=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var l=this.context,u=l.orgName,d=l.appName,h=l.accessToken,p=l.userId,f=e.chatRoomId,m=e.attributeKey,g=e.attributeValue,v=e.autoDelete,y=void 0===v||v,_=e.isForced?"/forced":"",E={metaData:(t={},t[m]=g,t),autoDelete:y?"DELETE":"NO_DELETE"},b={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(d,"/metadata/chatroom/").concat(f,"/user/").concat(p)+_,type:"PUT",dataType:"json",data:JSON.stringify(E),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"}};return s.kg.debug("Call setChatRoomAttribute:",e),i.hj.call(this,b,c.fI.SET_CHATROOM_ATTR).then((function(e){var t=(0,a.H7)(e);if(t)throw t}))}function he(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if(!Array.isArray(e.attributeKeys))throw Error('"Invalid parameter attributes": '+e.attributeKeys);if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.userId,p=e.chatRoomId,f=e.attributeKeys,m=e.isForced?"/forced":"",g={keys:f},v={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/metadata/chatroom/").concat(p,"/user/").concat(h)+m,type:"DELETE",dataType:"json",data:JSON.stringify(g),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"}};return s.kg.debug("Call removeChatRoomAttributes:",e),i.hj.call(this,v,c.fI.DELETE_CHATROOM_ATTR).then((function(e){return(0,a._W)(e)}))}function pe(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if("string"!=typeof e.attributeKey||""===e.attributeKey)throw Error('"Invalid parameter attributeKey": '+e.attributeKey);if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.userId,p=e.chatRoomId,f=e.attributeKey,m=e.isForced?"/forced":"",g={keys:[f]},v={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/metadata/chatroom/").concat(p,"/user/").concat(h)+m,type:"DELETE",dataType:"json",data:JSON.stringify(g),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"}};return s.kg.debug("Call removeChatRoomAttribute:",e),i.hj.call(this,v,c.fI.DELETE_CHATROOM_ATTR).then((function(e){var t=(0,a.H7)(e);if(t)throw t}))}function fe(e){var t=this,n=e||{},l=n.pageNum,u=n.pageSize;if(isNaN(l)||l<=0)throw Error("Invalid parameter pageNum:".concat(l));if(isNaN(u)||u<=0)throw Error("Invalid parameter pageSize:".concat(u));if(!a.XZ.call(this)){var d=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(d)}var h={pagenum:l,pagesize:u,detail:!0},p=this.context,f=p.orgName,m=p.appName,g=p.accessToken,v={url:"".concat(this.apiUrl,"/").concat(f,"/").concat(m,"/users/").concat(this.user,"/joined_chatrooms"),dataType:"json",type:"GET",data:h,headers:{Authorization:"Bearer "+g,"Content-Type":"application/json"}};return s.kg.debug("Call getJoinedChatRooms",e),i.hj.call(this,v,c.fI.GET_USER_JOINED_CHATROOM).then((function(e){var n=(e.data||[]).map((function(e){var n=e.id,r=e.title,o=e.owner,i=e.created,a=e.description,s=e.max_users;return{id:n,name:r,owner:o.split("".concat(t.appKey,"_"))[1],created:i,description:a,maxusers:s}}));return{type:e.type,data:n}}))}},4363:function(e,t,n){n.d(t,{U:function(){return s},w:function(){return c}}),n(9601),n(2772),n(1249);var r=n(7360),o=n(8161),i=n(4024),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},s={chat:"singleChat",chatroom:"chatRoom",groupchat:"groupChat",singleChat:"singleChat",chatRoom:"chatRoom",groupChat:"groupChat"};function c(e,t){var n,c,l,u=t||{},d=u.formatCustomExts,h=void 0===d||d,p=u.formatChatType,f=void 0!==p&&p,m=e.id,g=e.payload,v=e.timestamp,y=e.to,_=g.bodies&&g.bodies.length>0?g.bodies[0]:{},E={},b={},T=g.type?g.type:y.indexOf("@conference.easemob.com")>-1?"groupChat":"singleChat";T="chat"===T?"singleChat":T,f&&g.type&&(T=s[g.type]);var S="";switch(_.type){case"txt":if(Object.prototype.hasOwnProperty.call(_,"subType")&&"sub_combine"===_.subType)S=o.t.call(this,{remotePath:null==_?void 0:_.url,secret:null==_?void 0:_.secret}),E={id:m,type:"combine",chatType:T,to:g.to,from:g.from,ext:g.ext,time:v,title:_.title||"",summary:_.summary||"",url:S||"",secret:_.secret||"",file_length:_.file_length||0,filename:_.filename||"",compatibleText:_.msg,combineLevel:_.combineLevel||0};else{var w=null===(n=null==g?void 0:g.meta)||void 0===n?void 0:n.edit_msg;if(E={id:m,type:"txt",chatType:T,msg:_.msg||"",to:g.to||"",from:g.from,time:v,ext:g.ext},w){var C=w.edit_time,R=w.operator,I=w.count;E.modifiedInfo={operationTime:C,operatorId:R,operationCount:I}}}break;case"img":S=this.useOwnUploadFun?null==_?void 0:_.url:o.t.call(this,{remotePath:null==_?void 0:_.url,secret:null==_?void 0:_.secret}),E={id:m,type:"img",chatType:T,to:g.to,from:g.from,time:v,ext:g.ext,width:(null===(c=_.size)||void 0===c?void 0:c.width)||0,height:(null===(l=_.size)||void 0===l?void 0:l.height)||0,thumb:this.useOwnUploadFun?"":"".concat(S,"&thumbnail=true"),thumb_secret:_.secret,secret:_.secret||"",url:S||"",file_length:_.file_length||0,file:{}};break;case"video":S=this.useOwnUploadFun?null==_?void 0:_.url:o.t.call(this,{remotePath:null==_?void 0:_.url,secret:null==_?void 0:_.secret}),E={id:m,type:"video",chatType:T,from:g.from,to:g.to,thumb:i.P6.formatAttachUrl.call(this,_.thumb),thumb_secret:_.thumb_secret||"",url:S||"",secret:_.secret||"",filename:_.filename,length:_.length||0,file:{},file_length:_.file_length||0,filetype:g.ext.file_type||"",ext:g.ext,time:v};break;case"loc":E={id:m,type:"loc",chatType:T,from:g.from,to:g.to,buildingName:_.buildingName||"",addr:_.addr,lat:_.lat,lng:_.lng,ext:g.ext,time:v};break;case"audio":S=this.useOwnUploadFun?null==_?void 0:_.url:o.t.call(this,{remotePath:null==_?void 0:_.url,secret:null==_?void 0:_.secret}),E={id:m,type:"audio",chatType:T,from:g.from,to:g.to,secret:_.secret||"",ext:g.ext,time:v,url:S||"",file:{},filename:_.filename,length:_.length||0,file_length:_.file_length||0,filetype:g.ext.file_type||""};break;case"file":S=this.useOwnUploadFun?null==_?void 0:_.url:o.t.call(this,{remotePath:null==_?void 0:_.url,secret:null==_?void 0:_.secret}),E={id:m,type:"file",chatType:T,from:g.from,to:g.to,ext:g.ext,time:v,url:S||"",secret:_.secret||"",file:{},filename:_.filename||"",file_length:_.file_length||0,filetype:g.ext.file_type||""};break;case"cmd":E={id:m,type:"cmd",chatType:T,from:g.from,to:g.to,ext:g.ext,time:v,action:_.action||""};break;case"custom":var A=_.customExts||{};h&&_.customExts&&(A={},_.customExts.map((function(e){A=a(a({},A),e)}))),E={id:m,type:"custom",chatType:T,from:g.from,to:g.to,ext:g.ext,time:v,customEvent:_.customEvent||"",customExts:A};break;case"combine":S=o.t.call(this,{remotePath:null==_?void 0:_.url,secret:null==_?void 0:_.secret}),E={id:m,type:"combine",chatType:T,msg:_.msg||"",to:g.to||"",from:g.from,time:v,ext:g.ext,title:_.title||"",summary:_.summary||"",url:S||"",compatibleText:_.text,combineLevel:_.combineLevel||0,secret:_.secret||"",filename:_.filename||"",file_length:_.file_length||0};break;default:r.kg.error("unexpected message: ".concat(e))}if(g.msgConfig&&(b.msgConfig=g.msgConfig),null==g?void 0:g.meta){var O=g.meta;O.thread&&(b.chatThread={messageId:O.thread.msg_parent_id,parentId:O.thread.muc_parent_id,chatThreadName:O.thread.thread_name}),O.reaction&&(b.reactions=O.reaction),O.translations&&(b.translations=O.translations)}return a(a({},E),b)}},2856:function(e,t,n){n.r(t),n.d(t,{acceptGroupInvite:function(){return H},acceptGroupJoinRequest:function(){return V},addUsersToGroupAllowlist:function(){return ve},addUsersToGroupWhitelist:function(){return ge},agreeInviteIntoGroup:function(){return F},agreeJoinGroup:function(){return j},blockGroup:function(){return f},blockGroupMember:function(){return oe},blockGroupMembers:function(){return ae},blockGroupMessages:function(){return m},changeGroupOwner:function(){return b},changeOwner:function(){return E},createGroup:function(){return p},createGroupNew:function(){return h},deleteGroupSharedFile:function(){return ke},destroyGroup:function(){return D},disableSendGroupMsg:function(){return fe},dissolveGroup:function(){return k},downloadGroupSharedFile:function(){return Pe},enableSendGroupMsg:function(){return me},fetchGroupAnnouncement:function(){return Ae},fetchGroupSharedFileList:function(){return De},getGroup:function(){return y},getGroupAdmin:function(){return R},getGroupAllowlist:function(){return Te},getGroupBlacklist:function(){return he},getGroupBlacklistNew:function(){return de},getGroupBlocklist:function(){return pe},getGroupInfo:function(){return T},getGroupMemberAttributes:function(){return Le},getGroupMembersAttributes:function(){return Ue},getGroupMsgReadUser:function(){return Ie},getGroupMuteList:function(){return te},getGroupMutelist:function(){return ne},getGroupSharedFilelist:function(){return xe},getGroupWhitelist:function(){return be},getJoinedGroups:function(){return _},getMuted:function(){return ee},getPublicGroups:function(){return v},groupBlockMulti:function(){return ie},groupBlockSingle:function(){return re},inviteToGroup:function(){return M},inviteUsersToGroup:function(){return L},isGroupWhiteUser:function(){return Se},isInGroupAllowlist:function(){return Ce},isInGroupMutelist:function(){return Re},isInGroupWhiteList:function(){return we},joinGroup:function(){return U},leaveGroup:function(){return P},listGroupMember:function(){return w},listGroupMembers:function(){return C},listGroups:function(){return g},modifyGroup:function(){return S},mute:function(){return $},muteGroupMember:function(){return J},quitGroup:function(){return x},rejectGroupInvite:function(){return W},rejectGroupJoinRequest:function(){return z},rejectInviteIntoGroup:function(){return G},rejectJoinGroup:function(){return B},removeAdmin:function(){return O},removeGroupAdmin:function(){return N},removeGroupAllowlistMember:function(){return Ee},removeGroupBlockMulti:function(){return le},removeGroupBlockSingle:function(){return se},removeGroupMember:function(){return K},removeGroupMembers:function(){return X},removeGroupWhitelistMember:function(){return _e},removeMultiGroupMember:function(){return Y},removeMute:function(){return Z},removeSingleGroupMember:function(){return q},rmUsersFromGroupWhitelist:function(){return ye},setAdmin:function(){return I},setGroupAdmin:function(){return A},setGroupMemberAttributes:function(){return Me},unblockGroupMember:function(){return ce},unblockGroupMembers:function(){return ue},unmuteGroupMember:function(){return Q},updateGroupAnnouncement:function(){return Oe},uploadGroupSharedFile:function(){return Ne}}),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(2222),n(6699),n(2023),n(9554),n(4747),n(8309),n(9753),n(9600);var r=n(5531),o=n(7252),i=n(4024),a=n(3246),s=n(7360),c=n(1595);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=function(e,t,n,r){return new(n||(n=Promise))((function(t,o){function i(e){try{s(r.next(e))}catch(t){o(t)}}function a(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}s((r=r.apply(e,[])).next())}))},d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function h(e){if(!e||!e.data)throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups?resource=").concat(h.clientResource),dataType:"json",type:"POST",data:JSON.stringify({owner:this.user,groupname:e.data.groupname,desc:e.data.desc,members:e.data.members,public:e.data.public,approval:e.data.approval,allowinvites:e.data.allowinvites,invite_need_confirm:e.data.inviteNeedConfirm,maxusers:e.data.maxusers,custom:e.data.ext}),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:function(t){e.success&&e.success(t)},error:e.error};return s.kg.debug("Call createGroup:",e),i.hj.call(this,p,c.fI.CREATE_GROUP)}var p=h;function f(e){var t;if("string"!=typeof e.groupId||""===e.groupId)throw Error("Invalid parameter");if(!a.XZ.call(this)){var n=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var l=this.context,u=l.orgName,d=l.appName,h=l.accessToken,p=l.jid,f={entities:[(t={},t["notification_ignore_"+e.groupId]=!0,t)]},m={type:"PUT",url:"".concat(this.apiUrl,"/").concat(u,"/").concat(d,"/users/").concat(this.user,"?resource=").concat(p.clientResource),data:JSON.stringify(f),dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call blockGroupMessages",e),i.hj.call(this,m,c.fI.BLOCK_GROUP)}var m=f;function g(e){if("number"!=typeof e.limit)throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h={limit:e.limit,cursor:e.cursor};e.cursor||delete h.cursor;var p={url:this.apiUrl+"/"+l+"/"+u+"/publicchatgroups",type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call listGroups",e),i.hj.call(this,p,c.fI.LIST_GROUP)}var v=g;function y(e){if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h={url:this.apiUrl+"/"+l+"/"+u+"/users/"+this.user+"/joined_chatgroups",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e&&(null==e?void 0:e.success),error:e&&(null==e?void 0:e.error)};return s.kg.debug("Call getJoinedGroups",e),i.hj.call(this,h,c.fI.GET_USER_GROUP)}function _(e){if("number"!=typeof e.pageNum||"number"!=typeof e.pageSize)throw Error('Invalid parameter: "pageNum or pageSize"');if(e.pageNum<0||e.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.needAffiliations||e.needRole?"/chatgroups/user/".concat(this.user,"?pagenum=").concat(e.pageNum,"&pagesize=").concat(e.pageSize,"&needAffiliations=").concat(e.needAffiliations,"&needRole=").concat(e.needRole):"/users/".concat(this.user,"/joined_chatgroups?pagenum=").concat(e.pageNum,"&pagesize=").concat(e.pageSize),p={url:this.apiUrl+"/"+l+"/"+u+h,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e&&(null==e?void 0:e.success),error:e&&(null==e?void 0:e.error)};return s.kg.debug("Call getGroup",e),i.hj.call(this,p,c.fI.GET_USER_GROUP).then((function(e){var t=e.uri,n=e.entities,r=[];return t.includes("joined_chatgroups")||(n.forEach((function(e){var t={affiliationsCount:e.affiliations_count,groupName:e.name,groupId:e.groupId,role:e.permission,disabled:e.disabled,approval:e.membersonly,allowInvites:e.allowinvites,description:e.description,maxUsers:e.maxusers,public:e.public};r.push(t)})),e.entities=r),e}))}function E(e){if("string"!=typeof e.groupId||"string"!=typeof e.newOwner)throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={newowner:e.newOwner},l=this.context,u=l.orgName,d=l.appName,h=l.accessToken,p=l.jid,f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(d,"/chatgroups/").concat(e.groupId,"?resource=").concat(p.clientResource),type:"PUT",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},data:JSON.stringify(n),success:e.success,error:e.error};return s.kg.debug("Call changeOwner",e),i.hj.call(this,f,c.fI.CHANGE_OWNER)}var b=E;function T(e){if("string"!=typeof e.groupId&&!Array.isArray(e.groupId))throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h={url:this.apiUrl+"/"+l+"/"+u+"/chatgroups/"+e.groupId+"?joined_time=true",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getGroupInfo",e),i.hj.call(this,h,c.fI.GET_GROUP_INFO)}function S(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error("Invalid parameter");if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={groupname:e.groupName,description:e.description,custom:e.ext},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"?resource=").concat(h.clientResource),type:"PUT",data:JSON.stringify(f),dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call modifyGroup",e),i.hj.call(this,m,c.fI.MODIFY_GROUP)}function w(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(isNaN(e.pageNum)||e.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(e.pageSize)||e.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={pagenum:e.pageNum,pagesize:e.pageSize},l=this.context,u=l.orgName,d=l.appName,h=l.accessToken,p={url:this.apiUrl+"/"+u+"/"+d+"/chatgroups/"+e.groupId+"/users",dataType:"json",type:"GET",data:n,headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call listGroupMember",e),i.hj.call(this,p,c.fI.LIST_GROUP_MEMBER)}var C=w;function R(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.groupId,p={url:this.apiUrl+"/"+l+"/"+u+"/chatgroups/"+h+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getGroupAdmin",e),i.hj.call(this,p,c.fI.GET_GROUP_ADMIN)}function I(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={newadmin:e.username},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/admin?resource=").concat(h.clientResource),type:"POST",dataType:"json",data:JSON.stringify(f),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call setGroupAdmin",e),i.hj.call(this,m,c.fI.SET_GROUP_ADMIN)}var A=I;function O(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f=e.username,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/admin/").concat(f,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeAdmin",e),i.hj.call(this,m,c.fI.REMOVE_GROUP_ADMIN)}var N=O;function k(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"?version=v3&resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call destroyGroup",e),i.hj.call(this,f,c.fI.DISSOLVE_GROUP)}var D=k;function x(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/quit?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call quitGroup",e),i.hj.call(this,f,c.fI.QUIT_GROUP)}var P=x;function M(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(e.users))throw Error('Invalid parameter: "users"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=e.groupId,l={usernames:e.users},u=this.context,d=u.orgName,h=u.appName,p=u.accessToken,f=u.jid,m={url:"".concat(this.apiUrl,"/").concat(d,"/").concat(h,"/chatgroups/").concat(n,"/invite?resource=").concat(f.clientResource),type:"POST",data:JSON.stringify(l),dataType:"json",headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call inviteUsersToGroup",e),i.hj.call(this,m,c.fI.INVITE_TO_GROUP)}var L=M;function U(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(e.groupId,"/apply?resource=").concat(h.clientResource),type:"POST",dataType:"json",data:JSON.stringify({message:e.message||""}),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call joinGroup",e),i.hj.call(this,p,c.fI.JOIN_GROUP)}function j(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.applicant||""===e.applicant)throw Error('Invalid parameter: "applicant"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={applicant:e.applicant,verifyResult:!0,reason:"no clue"},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/apply_verify?resource=").concat(h.clientResource),type:"POST",dataType:"json",data:JSON.stringify(f),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call agreeJoinGroup",e),i.hj.call(this,m,c.fI.AGREE_JOIN_GROUP)}var V=j;function B(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.applicant||""===e.applicant)throw Error('Invalid parameter: "applicant"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={applicant:e.applicant,verifyResult:!1,reason:e.reason||""},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/apply_verify?resource=").concat(h.clientResource),type:"POST",dataType:"json",data:JSON.stringify(f),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call rejectGroupJoinRequest",e),i.hj.call(this,m,c.fI.REJECT_JOIN_GROUP)}var z=B;function F(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.invitee||""===e.invitee)throw Error('Invalid parameter: "invitee"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={invitee:e.invitee,verifyResult:!0},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/invite_verify?resource=").concat(h.clientResource),type:"POST",dataType:"json",data:JSON.stringify(f),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call acceptGroupInvite",e),i.hj.call(this,m,c.fI.AGREE_INVITE_GROUP)}var H=F;function G(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.invitee||""===e.invitee)throw Error('Invalid parameter: "invitee"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={invitee:e.invitee,verifyResult:!1},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/invite_verify?resource=").concat(h.clientResource),type:"POST",dataType:"json",data:JSON.stringify(f),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call rejectGroupInvite",e),i.hj.call(this,m,c.fI.REJECT_INVITE_GROUP)}var W=G;function q(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=e.groupId,l=e.username,u=this.context,d=u.orgName,h=u.appName,p=u.accessToken,f=u.jid,m={url:"".concat(this.apiUrl,"/").concat(d,"/").concat(h,"/chatgroups/").concat(n,"/users/").concat(l,"?resource=").concat(f.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeGroupMember",e),i.hj.call(this,m,c.fI.REMOVE_GROUP_MEMBER)}var K=q;function Y(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(e.users))throw Error('Invalid parameter: "users"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f=e.users.join(","),m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/users/").concat(f,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeGroupMembers",e),i.hj.call(this,m,c.fI.MULTI_REMOVE_GROUP_MEMBER)}var X=Y;function $(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(e.username)||"string"==typeof e.username&&""!==e.username))throw Error('Invalid parameter: "username"');if("number"!=typeof e.muteDuration)throw Error('Invalid parameter: "muteDuration"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={usernames:"string"==typeof e.username?[e.username]:e.username,mute_duration:e.muteDuration},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/mute?resource=").concat(h.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},data:JSON.stringify(f),success:e.success,error:e.error};return s.kg.debug("Call muteGroupMember",e),i.hj.call(this,m,c.fI.MUTE_GROUP_MEMBER)}var J=$;function Z(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(e.username)||"string"==typeof e.username&&""!==e.username))throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f=e.username,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/mute/").concat(f,"?resource=").concat(h.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call unmuteGroupMember",e),i.hj.call(this,m,c.fI.UNMUTE_GROUP_MEMBER)}var Q=Z;function ee(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.groupId,p={url:this.apiUrl+"/"+l+"/"+u+"/chatgroups/"+h+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getGroupMuteList",e),i.hj.call(this,p,c.fI.GET_GROUP_MUTE_LIST)}var te=ee,ne=ee;function re(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f=e.username,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/blocks/users/").concat(f,"?resource=").concat(h.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call blockGroupMember",e),i.hj.call(this,m,c.fI.BLOCK_GROUP_MEMBER)}var oe=re;function ie(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={usernames:e.usernames},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/blocks/users?resource=").concat(h.clientResource),data:JSON.stringify(f),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call blockGroupMembers",e),i.hj.call(this,m,c.fI.BLOCK_GROUP_MEMBERS)}var ae=ie;function se(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f=e.username,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/blocks/users/").concat(f,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call unblockGroupMember",e),i.hj.call(this,m,c.fI.UNBLOCK_GROUP_MEMBER)}var ce=se;function le(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f=e.usernames.join(","),m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/blocks/users/").concat(f,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call unblockGroupMembers",e),i.hj.call(this,m,c.fI.UNBLOCK_GROUP_MEMBERS)}var ue=le;function de(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.groupId,p={url:this.apiUrl+"/"+l+"/"+u+"/chatgroups/"+h+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getGroupBlacklist",e),i.hj.call(this,p,c.fI.GET_GROUP_BLACK_LIST)}var he=de,pe=de;function fe(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/ban?resource=").concat(h.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call disableSendGroupMsg",e),i.hj.call(this,f,c.fI.DISABLED_SEND_GROUP_MSG)}function me(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/ban?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call enableSendGroupMsg",e),i.hj.call(this,f,c.fI.ENABLE_SEND_GROUP_MSG)}function ge(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(e.users))throw Error('Invalid parameter: "users"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={usernames:e.users},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/white/users?resource=").concat(h.clientResource),type:"POST",data:JSON.stringify(f),dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call addUsersToGroupWhitelist",e),i.hj.call(this,m,c.fI.ADD_USERS_TO_GROUP_WHITE)}var ve=ge;function ye(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.userName||""===e.userName)throw Error('Invalid parameter: "userName"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/white/users/").concat(e.userName,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeGroupAllowlistMember",e),i.hj.call(this,f,c.fI.REMOVE_GROUP_WHITE_MEMBER)}var _e=ye,Ee=ye;function be(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.groupId,p={url:this.apiUrl+"/"+l+"/"+u+"/chatgroups/"+h+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getGroupAllowlist",e),i.hj.call(this,p,c.fI.GET_GROUP_WHITE_LIST)}var Te=be;function Se(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.userName||""===e.userName)throw Error('Invalid parameter: "userName"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.groupId,p={url:this.apiUrl+"/"+l+"/"+u+"/chatgroups/"+h+"/white/users/"+e.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call isInGroupAllowlist",e),i.hj.call(this,p,c.fI.IS_IN_GROUP_WHITE_LIST)}var we=Se,Ce=Se;function Re(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,c=n.orgName,l=n.appName,u=n.accessToken,d=n.userId,h={url:this.apiUrl+"/"+c+"/"+l+"/sdk/chatgroups/"+e.groupId+"/mute/"+d,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+u}};return s.kg.debug("Call isInGroupMutelist",e),i.hj.call(this,h).then((function(e){return{type:e.type,data:e.data}}))}function Ie(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.msgId||""===e.msgId)throw Error('Invalid parameter: "msgId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h={url:this.apiUrl+"/"+l+"/"+u+"/chatgroups/"+e.groupId+"/acks/"+e.msgId,dataType:"json",type:"GET",data:{limit:500,key:void 0},headers:{Authorization:"Bearer "+d},success:e.success,error:e.error};return s.kg.debug("Call getGroupMsgReadUser",e),i.hj.call(this,h,c.fI.GET_GROUP_MSG_READ_USER)}function Ae(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.groupId,p={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(h,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call fetchGroupAnnouncement",e),i.hj.call(this,p,c.fI.GET_GROUP_ANN)}function Oe(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.announcement)throw Error('Invalid parameter: "announcement"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f={announcement:e.announcement},m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/announcement?resource=").concat(h.clientResource),type:"POST",dataType:"json",data:JSON.stringify(f),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call updateGroupAnnouncement",e),i.hj.call(this,m,c.fI.UPDATE_GROUP_ANN)}function Ne(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("object"!==l(e.file))throw Error('Invalid parameter: "file"');if(a.XZ.call(this)){var t=this.context,n=t.orgName,r=t.appName,o=t.accessToken,u=t.jid,d=e.groupId;i.cT.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(n,"/").concat(r,"/chatgroups/").concat(d,"/share_files?resource=").concat(u.clientResource),onFileUploadProgress:e.onFileUploadProgress,onFileUploadComplete:e.onFileUploadComplete,onFileUploadError:e.onFileUploadError,onFileUploadCanceled:e.onFileUploadCanceled,accessToken:o,apiUrl:this.apiUrl,file:e.file,appKey:this.context.appKey},c.fI.UPLOAD_GROUP_FILE),s.kg.debug("Call uploadGroupSharedFile",e)}}function ke(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.fileId||""===e.fileId)throw Error('Invalid parameter: "file"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=n.jid,p=e.groupId,f=e.fileId,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(p,"/share_files/").concat(f,"?resource=").concat(h.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call deleteGroupSharedFile",e),i.hj.call(this,m,c.fI.DELETE_GROUP_FILE)}function De(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h=e.pageNum||1,p=e.pageSize||10,f=e.groupId,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/chatgroups/").concat(f,"/share_files?pagenum=").concat(h,"&pagesize=").concat(p),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getGroupSharedFilelist",e),i.hj.call(this,m,c.fI.GET_GROUP_FILE_LIST)}var xe=De;function Pe(e){var t=this.context,n=t.orgName,r=t.appName,o=t.accessToken,a=this.apiUrl,l=e.groupId,u=e.fileId;i.LR.call(this,{url:"".concat(a,"/").concat(n,"/").concat(r,"/chatgroups/").concat(l,"/share_files/").concat(u),onFileDownloadComplete:e.onFileDownloadComplete,onFileDownloadError:e.onFileDownloadError,accessToken:o,id:u,secret:e.secret},c.fI.DOWN_GROUP_FILE),s.kg.debug("Call downloadGroupSharedFile",e)}function Me(e){return u(this,void 0,void 0,(function(){var t,n,u,h,p,f,m,g,v,y,_;return d(this,(function(d){switch(d.label){case 0:if(t=e.groupId,n=e.userId,u=e.memberAttributes,"string"!=typeof t||""===t)throw Error('Invalid parameter: "groupId"');if("string"!=typeof n||""===n)throw Error('Invalid parameter: "userId"');if("object"!==l(u))throw Error('Invalid parameter: "memberAttributes"');return a.XZ.call(this)?(p=this.context,f=p.orgName,m=p.appName,g=p.accessToken,v=p.jid,y={metaData:u},_={url:"".concat(this.apiUrl,"/").concat(f,"/").concat(m,"/sdk/metadata/chatgroup/").concat(t,"/user/").concat(n,"?resource=").concat(v.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(y),headers:{Authorization:"Bearer "+g,"Content-Type":"application/json"}},s.kg.debug("Call setGroupMemberAttributes",e),[4,i.hj.call(this,_,c.fI.SET_GROUP_MEMBER_ATTRS)]):(h=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(h)]);case 1:return d.sent(),[2]}}))}))}function Le(e){var t=e.groupId,n=e.userId;return Ue.call(this,{groupId:t,userIds:[n]}).then((function(e){var t;return{type:e.type,data:null===(t=e.data)||void 0===t?void 0:t[n]}}))}function Ue(e){var t=e.groupId,n=e.userIds,l=e.keys,u=void 0===l?[]:l;if("string"!=typeof t||""===t)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(n)||(null==n?void 0:n.length)<=0)throw Error('Invalid parameter: "userIds"');if(!Array.isArray(u))throw Error('Invalid parameter: "keys"');if(!a.XZ.call(this)){var d=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(d)}var h=this.context,p=h.orgName,f=h.appName,m=h.accessToken,g={targets:n,properties:u},v={url:"".concat(this.apiUrl,"/").concat(p,"/").concat(f,"/sdk/metadata/chatgroup/").concat(t,"/get"),type:"POST",dataType:"json",data:JSON.stringify(g),headers:{Authorization:"Bearer "+m,"Content-Type":"application/json"}};return s.kg.debug("Call getGroupMembersAttributes",e),i.hj.call(this,v,c.fI.GET_GROUP_MEMBER_ATTR).then((function(e){return{type:e.type,data:(null==e?void 0:e.data)||{}}}))}},7479:function(e,t,n){n.r(t),n.d(t,{acceptContactInvite:function(){return G},acceptInvitation:function(){return H},addContact:function(){return B},addConversationMark:function(){return ge},addReaction:function(){return te},addToBlackList:function(){return K},addUsersToBlacklist:function(){return Y},addUsersToBlocklist:function(){return X},declineContactInvite:function(){return q},declineInvitation:function(){return W},deleteAllMessagesAndConversations:function(){return Ee},deleteContact:function(){return F},deleteConversation:function(){return k},deleteReaction:function(){return ne},deleteSession:function(){return N},fetchHistoryMessages:function(){return U},fetchUserInfoById:function(){return P},getAllContacts:function(){return pe},getBlacklist:function(){return b},getBlocklist:function(){return T},getContacts:function(){return w},getContactsWithCursor:function(){return fe},getConversationlist:function(){return A},getHistoryMessages:function(){return V},getReactionDetail:function(){return ie},getReactionList:function(){return re},getReactionlist:function(){return oe},getRoster:function(){return S},getSelfIdsOnOtherPlatform:function(){return _e},getServerConversations:function(){return ce},getServerConversationsByFilter:function(){return ye},getServerPinnedConversations:function(){return ue},getServerPinnedMessages:function(){return we},getSessionList:function(){return I},getTokenExpireTimestamp:function(){return L},modifyMessage:function(){return ee},pinConversation:function(){return de},pinMessage:function(){return Te},recallMessage:function(){return Q},removeConversationMark:function(){return ve},removeFromBlackList:function(){return $},removeHistoryMessages:function(){return se},removeRoster:function(){return z},removeUserFromBlackList:function(){return J},removeUserFromBlocklist:function(){return Z},reportMessage:function(){return ae},setContactRemark:function(){return he},unbindPushToken:function(){return Ce},unpinMessage:function(){return Se},updateCurrentUserNick:function(){return M},updateOwnUserInfo:function(){return D},updateUserInfo:function(){return x},uploadPushToken:function(){return R},uploadToken:function(){return C}}),n(9601),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(9554),n(4747),n(2222),n(7941),n(6699),n(3710),n(9714),n(9600),n(5069),n(561),n(9753),n(8309),n(1249),n(7327);var r=n(3246),o=n(5531),i=n(7252),a=n(4024),s=n(9937),c=n(8161),l=n(4188),u=n.n(l),d=n(7360),h=n(1595),p=n(4363),f=n(7288),m=n(9743),g=n(6801),v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v.apply(this,arguments)},y=function(e,t,n,r){return new(n||(n=Promise))((function(t,o){function i(e){try{s(r.next(e))}catch(t){o(t)}}function a(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}s((r=r.apply(e,[])).next())}))},_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},E={singleChat:"chat",chatRoom:"chatroom",groupChat:"groupchat"};function b(e){if(!r.XZ.call(this)){var t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u={url:this.apiUrl+"/"+s+"/"+c+"/users/"+this.user+"/blocks/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+l},success:function(t){t.data.forEach((function(e){})),"function"==typeof(null==e?void 0:e.success)&&e.success(t)},error:function(t){"function"==typeof(null==e?void 0:e.error)&&e.error(t)}};return d.kg.debug("Call getBlocklist"),a.hj.call(this,u,h.fI.GET_BLACK_LIST)}var T=b,S=w;function w(e){var t=this;if(!r.XZ.call(this)){var n=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p={url:this.apiUrl+"/"+c+"/"+l+"/users/"+this.user+"/contacts/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+u},success:function(n){var r=[];n.data.forEach((function(e){r.push({name:e,subscription:"both",jid:t.context.jid})})),"function"==typeof(null==e?void 0:e.success)&&e.success(r)},error:function(t){"function"==typeof(null==e?void 0:e.error)&&e.error(t)}};return d.kg.debug("Call getContacts"),a.hj.call(this,p,h.fI.GET_CONTACTS)}function C(e){return d.kg.debug("Call uploadPushToken"),g.r.call(this,e)}var R=C;function I(e){if(!r.XZ.call(this)){var t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/users/").concat(this.user,"/user_channels"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:e&&(null==e?void 0:e.success),error:e&&(null==e?void 0:e.error)};return d.kg.debug("Call getSessionList"),a.hj.call(this,u,h.fI.GET_SESSION_LIST)}function A(e){var t=this;if(!r.XZ.call(this)){var n=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p=!!(e&&"number"==typeof e.pageNum&&"number"==typeof e.pageSize&&e.pageNum>0&&e.pageSize>0),f={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/users/").concat(this.user,"/user_channels").concat(p?"/page":""),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"},success:e&&(null==e?void 0:e.success),error:e&&(null==e?void 0:e.error)};return p&&(f.data={pageNum:e.pageNum,pageSize:e.pageSize}),d.kg.debug("Call getConversationlist"),a.hj.call(this,f,h.fI.GET_SESSION_LIST).then((function(e){return O.call(t,e)}))}function O(e){var t=this,n=e.data.channel_infos;return null==n||n.forEach((function(e){e.meta&&"{}"!==JSON.stringify(e.meta)?(e.meta.payload=JSON.parse(e.meta.payload),e.lastMessage=p.w.call(t,e.meta,{formatCustomExts:!1})):e.lastMessage=e.meta,delete e.meta})),e}function N(e){if(e&&"string"!=typeof e.channel)throw Error("Invalid parameter channel: ".concat(e.channel));if(e&&"singleChat"!==e.chatType&&"groupChat"!==e.chatType)throw Error("Invalid parameter chatType: ".concat(e.chatType));if(e&&"boolean"!=typeof e.deleteRoam)throw Error("Invalid parameter deleteRoam: ".concat(e.deleteRoam));if(!r.XZ.call(this)){var t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n,s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p=s.jid;n="singleChat"===e.chatType?"chat":"groupChat";var f={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/user/").concat(this.user,"/user_channel?resource=").concat(p.clientResource),dataType:"json",type:"DELETE",data:JSON.stringify({channel:e.channel,type:n,delete_roam:e.deleteRoam}),headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"},success:e.success,error:e.error};return d.kg.debug("Call deleteSession",e),a.hj.call(this,f,h.fI.DELETE_SESSION)}var k=N;function D(e,t){if(!r.XZ.call(this)){var n=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p=["nickname","avatarurl","mail","phone","gender","sign","birth","ext"],f={},m=a.P6.getEnvInfo();if("wx"===m.platform||"qq"===m.platform)if("string"==typeof e&&void 0!==t){if(!p.includes(e))throw new Error("illegal key, only these keys: nickname, avatarurl, mail, phone, gender, sign, birth, ext are allowed");f[e]=t}else{if("[object Object]"!==Object.prototype.toString.call(e))throw new Error("illegal params");p.forEach((function(t){p.includes(t)&&void 0!==e[t]&&(f[t]=e[t])}))}else if("string"==typeof e){if(!p.includes(e))throw new Error("illegal key, only these keys: nickname, avatarurl, mail, phone, gender, sign, birth, ext are allowed");f=e+"="+t}else{if("[object Object]"!==Object.prototype.toString.call(e))throw new Error("illegal params");var g=[];p.forEach((function(t){if(p.includes(t)&&void 0!==e[t]){var n=encodeURIComponent(t),r=encodeURIComponent(e[t]);g.push(n+"="+r)}})),f=g.join("&")}var v={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/metadata/user/").concat(this.user),type:"PUT",data:f,dataType:"json",headers:{Authorization:"Bearer "+u,"Content-Type":"application/x-www-form-urlencoded"}};return d.kg.debug("Call updateOwnUserInfo",e),a.hj.call(this,v,h.fI.UPDATE_USER_INFO)}var x=D;function P(e,t){if(!r.XZ.call(this)){var n=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var s,c=this.context,l=c.orgName,u=c.appName,p=c.accessToken,f=[];if("string"==typeof e)f=[e];else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("illegal params");f=e}s="string"==typeof t?[t]:t&&"[object Array]"===Object.prototype.toString.call(t)?t:["nickname","avatarurl","mail","phone","gender","sign","birth","ext"];var m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/metadata/user/get"),type:"POST",data:JSON.stringify({targets:f,properties:s}),dataType:"json",headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"}};return d.kg.debug("Call fetchUserInfoById",e),a.hj.call(this,m,h.fI.GET_USER_INFO)}function M(e){if(!r.XZ.call(this)){var t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/users/").concat(this.user),type:"PUT",dataType:"json",data:JSON.stringify({nickname:e}),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return d.kg.debug("Call updateCurrentUserNick",e),a.hj.call(this,u)}function L(e){if("string"!=typeof e||""===e)throw Error('Invalid parameter: "token"');var t=this.context,n=t.orgName,r=t.appName,o={url:"".concat(this.apiUrl,"/").concat(n,"/").concat(r,"/sdk/users/").concat(this.user,"/token/expires"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}};return d.kg.debug("Call getTokenExpireTimestamp",e),a.hj.call(this,o,h.fI.SDK_INTERNAL)}function U(e){var t=this;return new Promise((function(n,a){if(!e.queue)throw Error('Invalid parameter: "specified"');if(!r.XZ.call(t)){var s=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(s)}(function e(t){var r=this,o=t.count||20;j.call(this,{count:o,isGroup:!!t.isGroup,queue:t.queue,start:t.start,format:t.format,success:function(i){if(i.msgs.length>=o||i.is_last){var a=i.msgs.splice(0,o).reverse();t.success&&t.success(a),n(a)}else e.call(r,v(v({},t),{start:null}))},fail:function(e){a(e),t.fail&&t.fail(e)}})}).call(t,e),d.kg.debug("Call fetchHistoryMessages",e)}))}function j(e){var t=this,n=e.queue,r=this.mr_cache[n]||(this.mr_cache[n]={msgs:[]}),s=this.context.userId,l=e.start||-1,d=e.count||20;if(r.msgs.length>=d||r.is_last)"function"==typeof e.success&&e.success(r);else{r&&r.next_key&&(l=r.next_key),e.start&&(l=e.start);var p={queue:n+(e.isGroup?"@conference.easemob.com":"@easemob.com"),start:l,end:-1},f=this.context,m=f.orgName,g=f.appName,v={url:"".concat(this.apiUrl,"/").concat(m,"/").concat(g,"/users/").concat(s,"/messageroaming"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(p),success:function(n){return y(t,void 0,void 0,(function(){var t,o,i,a,s,l,d=this;return _(this,(function(h){switch(h.label){case 0:if(t=null==n?void 0:n.data,!n.data.msgs)return"function"==typeof e.success&&e.success(r),r.is_last=!0,r.next_key="",[2];o=t.msgs,i=o.length,r.is_last=t.is_last,r.next_key=t.next_key,a=function(t){return y(d,void 0,void 0,(function(){var n,r,o,i,a;return _(this,(function(s){switch(s.label){case 0:for(n=[],t=u().atob(t),r=0,o=t.length;r<o;++r)n.push(t.charCodeAt(r));return i=(i=this.context.root.lookup("easemob.pb.Meta")).decode(n),a={errorCode:0,reason:""},1!==i.ns?[3,2]:[4,c.Z.call(this,i,a,!0,e.format)];case 1:return[2,s.sent()];case 2:return[2]}}))}))},s=0,h.label=1;case 1:return s<i?[4,a(o[s].msg)]:[3,4];case 2:(l=h.sent())&&r.msgs.push(l),h.label=3;case 3:return s++,[3,1];case 4:return"function"==typeof e.success&&e.success(r),[2]}}))}))},error:function(e){if(e.error&&e.error_description){var n=i.Z.create({type:o.E.WEBIM_CONNCTION_AJAX_ERROR,message:"fetch history messages error",data:e});t.onError&&t.onError(n)}}};a.hj.call(this,v,h.fI.GET_HISTORY_MSG).catch((function(t){"function"==typeof e.fail&&e.fail(t)}))}}function V(e){var t=this;return new Promise((function(n,s){var l=e.targetId,h=e.cursor,p=void 0===h?-1:h,f=e.pageSize,m=void 0===f?20:f,g=e.chatType,v=e.searchDirection,E=e.searchOptions,b=void 0===E?{}:E,T=b.msgTypes,S=void 0===T?[]:T,w=b.startTime,C=void 0===w?null:w,R=b.endTime,I=void 0===R?null:R,A=b.from,O=void 0===A?null:A;if("string"!=typeof l||""===l)throw Error('"Invalid parameter": "targetId"');if(O&&"string"!=typeof O)throw Error('"Invalid parameter": "searchOptions.from"');if(S&&!Array.isArray(S))throw Error('"Invalid parameter": "searchOptions.msgTypes"');if(C&&"number"!=typeof C)throw Error('"Invalid parameter": "searchOptions.startTime"');if(I&&"number"!=typeof C)throw Error('"Invalid parameter": "searchOptions.endTime"');if(!r.XZ.call(t)){var N=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return s(N)}var k=t.context,D=k.orgName,x=k.appName,P=k.userId,M="singleChat"===e.chatType?"@easemob.com":"@conference.easemob.com",L={queue:"".concat(l).concat(M),start:p,pull_number:m,is_positive:"down"===v,msgType:S.join(",")||"",end:-1,startTime:C,endTime:I,userId:"singleChat"===g?null:O},U={url:"".concat(t.apiUrl,"/").concat(D,"/").concat(x,"/users/").concat(P,"/messageroaming"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+t.token,"Content-Type":"application/json"},data:JSON.stringify(L),success:function(r){return y(t,void 0,void 0,(function(){var t,o,i,a,s,l,d,h,p=this;return _(this,(function(f){switch(f.label){case 0:t=null==r?void 0:r.data,o=t.msgs||[],i=function(e){return y(p,void 0,void 0,(function(){var t,n,r,o,i;return _(this,(function(a){switch(a.label){case 0:for(t=[],e=u().atob(e),n=0,r=e.length;n<r;++n)t.push(e.charCodeAt(n));return o=(o=this.context.root.lookup("easemob.pb.Meta")).decode(t),i={errorCode:0,reason:""},1!==o.ns?[3,2]:[4,c.Z.call(this,o,i,!0,!0)];case 1:return[2,a.sent()];case 2:return[2]}}))}))},a=[],s=0,f.label=1;case 1:return s<o.length?[4,i(o[s].msg)]:[3,4];case 2:(l=f.sent())&&a.push(l),f.label=3;case 3:return s++,[3,1];case 4:return t.msgs=a,d={cursor:t.next_key,messages:a,isLast:t.is_last},null===(h=e.success)||void 0===h||h.call(e,d),n(d),[2]}}))}))},error:e.fail};a.hj.call(t,U).catch((function(e){s(e)})),d.kg.debug("Call getHistoryMessages",e)}))}function B(e,t){return y(this,void 0,void 0,(function(){var n,s,c,l,u,p,f;return _(this,(function(m){switch(m.label){case 0:if(!r.XZ.call(this))return n=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(n)];if("string"!=typeof e||""===e)throw Error('"Invalid parameter": "to"');return d.kg.debug("Call addContact",e,t),s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p=s.jid,f={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/users/").concat(this.user,"/contacts/apply?resource=").concat(p.clientResource),type:"POST",dataType:"json",data:JSON.stringify({usernames:[e],reason:t}),headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"}},[4,a.hj.call(this,f,h.fI.ROSTER_ADD)];case 1:return m.sent(),[2]}}))}))}var z=F;function F(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,p;return _(this,(function(f){switch(f.label){case 0:if(!r.XZ.call(this))return t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if("string"!=typeof e||""===e)throw Error('"Invalid parameter": "to"');return d.kg.debug("Call deleteContact",e),n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=n.jid,p={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/users/").concat(this.user,"/contacts/users/").concat(e,"?resource=").concat(u.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}},[4,a.hj.call(this,p,h.fI.ROSTER_REMOVE)];case 1:return f.sent(),[2]}}))}))}function H(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,p;return _(this,(function(f){switch(f.label){case 0:if(!r.XZ.call(this))return t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if("string"!=typeof e||""===e)throw Error('"Invalid parameter": "to"');return d.kg.debug("Call acceptInvitation",e),n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=n.jid,p={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/users/").concat(this.user,"/contacts/accept/users/").concat(e,"?resource=").concat(u.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}},[4,a.hj.call(this,p,h.fI.ROSTER_ACCEPT)];case 1:return f.sent(),[2]}}))}))}var G=H;function W(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,p;return _(this,(function(f){switch(f.label){case 0:if(!r.XZ.call(this))return t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if("string"!=typeof e||""===e)throw Error('"Invalid parameter": "to"');return d.kg.debug("Call declineInvitation",e),n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=n.jid,p={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/users/").concat(this.user,"/contacts/decline/users/").concat(e,"?resource=").concat(u.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}},[4,a.hj.call(this,p,h.fI.ROSTER_DECLINE)];case 1:return f.sent(),[2]}}))}))}var q=W;function K(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,p,f,m;return _(this,(function(g){switch(g.label){case 0:if(!r.XZ.call(this))return t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if(n=e.name,s=[],"string"==typeof n){if(""===n)throw Error('"Invalid parameter": "name"');s=[n]}else{if(!Array.isArray(n))throw Error('"Invalid parameter": "name"');s=n}return d.kg.debug("Call addToBlockList",e),c=this.context,l=c.orgName,u=c.appName,p=c.accessToken,f=c.jid,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/sdk/user/").concat(this.user,"/blocks?resource=").concat(f.clientResource),type:"POST",dataType:"json",data:JSON.stringify({usernames:s}),headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"}},[4,a.hj.call(this,m,h.fI.ROSTER_BAN).then((function(e){return{type:e.type,data:{userIds:(null==e?void 0:e.data)||[]}}}))];case 1:return[2,g.sent()]}}))}))}var Y=K,X=K;function $(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,p,f,m;return _(this,(function(g){switch(g.label){case 0:if(!r.XZ.call(this))return t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if(n=e.name,s=[],"string"==typeof n){if(""===n)throw Error('"Invalid parameter": "name"');s=[n]}else{if(!Array.isArray(n))throw Error('"Invalid parameter": "name"');s=n}return d.kg.debug("Call removeFromBlockList",e),c=this.context,l=c.orgName,u=c.appName,p=c.accessToken,f=c.jid,m={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/sdk/user/").concat(this.user,"/blocks?resource=").concat(f.clientResource),type:"DELETE",dataType:"json",data:JSON.stringify({usernames:s}),headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"}},[4,a.hj.call(this,m,h.fI.ROSTER_ALLOW)];case 1:return g.sent(),[2]}}))}))}var J=$,Z=$;function Q(e){var t=this,n=(null==e?void 0:e.ext)||"";if("string"!=typeof n)throw Error('"Invalid parameter": "ext"',n);var r=this.getUniqueId(),o={id:r,to:e.to};this._msgHash[r]=v({},o);var i="";void 0!==e.chatType?i=e.chatType:void 0!==e.type&&(i="chat"===e.type?"singleChat":e.type);var a={id:r,type:"recall",chatType:i,ackId:e.mid,to:e.to,isChatThread:e.isChatThread||!1,metaExt:n,success:function(n){return y(t,void 0,void 0,(function(){var t,r,o,a,s,c,l,u,d;return _(this,(function(h){switch(h.label){case 0:return h.trys.push([0,5,,6]),"singleChat"!==i&&"groupChat"!==i?[3,4]:[4,null===(o=null===(r=this._localCache)||void 0===r?void 0:r.getInstance())||void 0===o?void 0:o.removeMsgByServerMsgId(e.mid)];case 1:return h.sent(),[4,null===(s=null===(a=this._localCache)||void 0===a?void 0:a.getInstance())||void 0===s?void 0:s.getConversationLastMessage(e.to,i)];case 2:return t=h.sent(),[4,null===(l=null===(c=this._localCache)||void 0===c?void 0:c.getInstance())||void 0===l?void 0:l.updateLocalConversation((0,m.MQ)({conversationId:e.to,conversationType:i}),{lastMessageId:null==t?void 0:t.serverMsgId})];case 3:h.sent(),h.label=4;case 4:return null===(u=null==e?void 0:e.success)||void 0===u||u.call(e,n),[3,6];case 5:return h.sent(),null===(d=null==e?void 0:e.success)||void 0===d||d.call(e,n),[3,6];case 6:return[2]}}))}))},fail:e.fail};return d.kg.debug("Call recallMessage",e),this.mSync.send(a,this)}function ee(e){var t=e||{},n=t.messageId,r=t.modifiedMessage;if(d.kg.debug("Call modifyMessage",n,r),""===n)throw Error('Invalid parameter: "messageId"');if("txt"!==r.type)throw Error('Invalid parameter: "modifiedMessage.type"');return this.mSync.send(v({editMessageId:n},r))}function te(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,d,h,p;return _(this,(function(f){switch(f.label){case 0:if("string"!=typeof e.messageId||!e.messageId)throw Error("Invalid parameter messageId: ".concat(e.messageId));if("string"!=typeof e.reaction||!e.reaction)throw Error("Invalid parameter reaction: ".concat(e.reaction));return r.XZ.call(this)?(n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=e.reaction,d=e.messageId,h={msgId:d,message:u},p={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/reaction/user/").concat(this.user),type:"POST",data:JSON.stringify(h),dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}},[4,a.hj.call(this,p)]):(t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return f.sent(),[2]}}))}))}function ne(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,d,h;return _(this,(function(p){switch(p.label){case 0:if("string"!=typeof e.reaction||!e.reaction)throw Error("Invalid parameter reactionId: ".concat(e.reaction));return r.XZ.call(this)?(n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=e.messageId,d=e.reaction,h={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/reaction/user/").concat(this.user,"?msgId=").concat(u,"&message=").concat(d),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}},[4,a.hj.call(this,h)]):(t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return p.sent(),[2]}}))}))}function re(e){if("string"!=typeof e.chatType||!e.chatType)throw Error("Invalid parameter chatType: ".concat(e.chatType));if(!e.messageId)throw Error("Invalid parameter messageId: ".concat(e.messageId));if(!r.XZ.call(this)){var t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=e.chatType,d=e.messageId,h={msgIdList:"string"==typeof d?[d]:d,msgType:"singleChat"===u?"chat":"groupchat",groupId:e.groupId||null},p={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/reaction/user/").concat(this.user),type:"GET",data:h,dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return a.hj.call(this,p).then((function(e){var t=e.data;return null==t||t.forEach((function(e){null==e||e.reactionList.forEach((function(e){e.isAddedBySelf=e.state,delete e.state,delete e.reactionId}))})),e}))}var oe=re;function ie(e){if("string"!=typeof e.reaction||!e.reaction)throw Error("Invalid parameter reaction: ".concat(e.reaction));if("string"!=typeof e.messageId||!e.messageId)throw Error("Invalid parameter messageId: ".concat(e.messageId));if(!r.XZ.call(this)){var t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=e.cursor,d=e.pageSize,h={msgId:e.messageId,message:e.reaction,currentPage:u||null,pageSize:d||20},p={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/reaction/user/").concat(this.user,"/detail"),type:"GET",data:h,dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return a.hj.call(this,p).then((function(e){return e.data.isAddedBySelf=e.data.state,delete e.data.state,delete e.data.reactionId,e}))}function ae(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,d,h,p,f,m;return _(this,(function(g){switch(g.label){case 0:if("string"!=typeof e.reportType||!e.reportType)throw Error("Invalid parameter reportType: ".concat(e.reportType));if("string"!=typeof e.messageId||!e.messageId)throw Error("Invalid parameter messageId: ".concat(e.messageId));if("string"!=typeof e.reportReason||!e.reportReason)throw Error("Invalid parameter messageId: ".concat(e.reportReason));return r.XZ.call(this)?(n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=e.reportType,d=e.reportReason,h=e.messageId,p={username:this.user,reportType:u,reportReason:d},f="".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/user/").concat(this.user,"/moderation/report/message/").concat(h),m={url:f,type:"POST",data:JSON.stringify(p),dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}},[4,a.hj.call(this,m)]):(t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return g.sent(),[2]}}))}))}function se(e){var t;return y(this,void 0,void 0,(function(){var n,s,c,l,u,h,p,f,m;return _(this,(function(g){switch(g.label){case 0:if("string"!=typeof e.targetId||""===e.targetId)throw Error('"Invalid parameter targetId": '+e.targetId);if(!["singleChat","groupChat","chatRoom"].includes(e.chatType))throw Error('"Invalid parameter chatType": '+e.chatType);if(e.beforeTimeStamp&&("number"!=typeof e.beforeTimeStamp||e.beforeTimeStamp<0||(null===(t=e.beforeTimeStamp)||void 0===t?void 0:t.toString().length)>18))throw Error('"Invalid parameter beforeTimeStamp": '+e.beforeTimeStamp);if(e.messageIds&&!(Array.isArray(e.messageIds)&&e.messageIds.length>0&&e.messageIds.length<=20))throw Error('"Invalid parameter messageIds": '+e.messageIds);if(!e.messageIds&&!e.beforeTimeStamp)throw Error("messageIds or beforeTimeStamp field is required.");return r.XZ.call(this)?(s=this.context,c=s.orgName,l=s.appName,u=s.userId,h="singleChat"===e.chatType?"userId":"groupId",p="singleChat"===e.chatType?"chat":"group",f=e.messageIds?"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/sdk/message/roaming/").concat(p,"/user/").concat(u,"?").concat(h,"=").concat(e.targetId,"&msgIdList=").concat(e.messageIds,"&resource=").concat(this.clientResource):"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/sdk/message/roaming/").concat(p,"/user/").concat(u,"/time?").concat(h,"=").concat(e.targetId,"&delTime=").concat(e.beforeTimeStamp,"&&resource=").concat(this.clientResource),m={url:f,dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}},d.kg.debug("Call removeHistoryMessages",e),[4,a.hj.call(this,m)]):(n=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(n)]);case 1:return g.sent(),[2]}}))}))}function ce(e){var t=this;if(!r.XZ.call(this)){var n=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}if((null==e?void 0:e.pageSize)&&"number"!=typeof e.pageSize)throw Error("Invalid parameter pageSize: ".concat(e.pageSize));if((null==e?void 0:e.cursor)&&"string"!=typeof e.cursor)throw Error("Invalid parameter cursor: ".concat(e.cursor));var s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/sdk/user/").concat(this.user,"/user_channels/list?"),type:"GET",dataType:"json",data:{limit:(null==e?void 0:e.pageSize)||20,cursor:(null==e?void 0:e.cursor)||"",need_mark:!0},headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"}};return d.kg.debug("Call getServerConversations",e),new Promise((function(e,n){a.hj.call(t,p,h.fI.GET_SESSION_LIST).then((function(n){return y(t,void 0,void 0,(function(){var t,r,o=this;return _(this,(function(i){switch(i.label){case 0:return t=le.call(this,n),this._localCache?(r=t.data.conversations.map((function(e){return y(o,void 0,void 0,(function(){var t,n,r,o;return _(this,(function(i){switch(i.label){case 0:return[4,null===(n=null===(t=this._localCache)||void 0===t?void 0:t.getInstance())||void 0===n?void 0:n.storeMessage(e.lastMessage,f.r.SUCCESS,!0)];case 1:return i.sent(),[4,null===(o=null===(r=this._localCache)||void 0===r?void 0:r.getInstance())||void 0===o?void 0:o.updateLocalConversation((0,m.MQ)({conversationId:e.conversationId,conversationType:e.conversationType}),{unReadCount:e.unReadCount})];case 2:return i.sent(),[2]}}))}))})),[4,Promise.all(r)]):[3,2];case 1:i.sent(),i.label=2;case 2:return e(t),[2]}}))}))})).catch((function(e){n(e)}))}))}function le(e){var t=this,n=e.data,r=n.cursor,o=n.channel_infos,i=[];null==o||o.forEach((function(e){var n=null;(null==e?void 0:e.meta)&&"{}"!==JSON.stringify(e.meta)&&(e.meta.payload=JSON.parse(e.meta.payload),"delivery"!==(n=p.w.call(t,e.meta)).type&&"read"!==n.type&&"channel"!==n.type&&(n.chatType=p.U[n.chatType]));var r={conversationId:e.session_to,conversationType:"chat"===e.session_type?"singleChat":"groupChat",isPinned:e.is_top,pinnedTime:e.is_top?e.update_top_status_time:0,unReadCount:e.unread_num,lastMessage:n};e.marks&&(r.marks=e.marks.map((function(e){return s.Z[e]}))),i.push(r)}));var a={conversations:i,cursor:r||""};return{type:e.type,data:a}}function ue(e){var t=this;if(!r.XZ.call(this)){var n=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}if((null==e?void 0:e.pageSize)&&"number"!=typeof e.pageSize)throw Error("Invalid parameter pageSize: ".concat(e.pageSize));if((null==e?void 0:e.cursor)&&"string"!=typeof e.cursor)throw Error("Invalid parameter cursor: ".concat(e.cursor));var s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/sdk/user/").concat(this.user,"/user_channels/list?"),type:"GET",dataType:"json",data:{limit:(null==e?void 0:e.pageSize)||20,cursor:(null==e?void 0:e.cursor)||"",is_top:!0,need_mark:!0},headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"}};return d.kg.debug("Call getServerPinnedConversations",e),a.hj.call(this,p,h.fI.GET_SESSION_LIST).then((function(e){return le.call(t,e)}))}function de(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,p,f,m,g,v,y,E,b;return _(this,(function(_){if(!r.XZ.call(this))return t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if(n=e.conversationId,s=e.conversationType,c=e.isPinned,l="singleChat"===s?"chat":"groupChat","string"!=typeof n||""===n)throw Error("Invalid parameter conversationId: ".concat(n));if(!["singleChat","groupChat"].includes(s))throw Error("Invalid parameter conversationType: ".concat(s));if("boolean"!=typeof c)throw Error("Invalid parameter isPinned: ".concat(c));return u=this.context,p=u.orgName,f=u.appName,m=u.accessToken,g=u.jid,v={type:l,to:n},y=c?"":"type=".concat(l,"&to=").concat(n,"&"),E="".concat(this.apiUrl,"/").concat(p,"/").concat(f,"/sdk/user/").concat(this.user,"/user_channel/top?").concat(y,"resource=").concat(g.clientResource),b={url:E,type:c?"POST":"DELETE",dataType:"json",headers:{Authorization:"Bearer "+m,"Content-Type":"application/json"}},c&&(b.data=JSON.stringify(v)),d.kg.debug("Call pinConversation",e),[2,a.hj.call(this,b,h.fI.PIN_CONVERSATION).then((function(e){var t=e.type,n=e.data;return{type:t,data:{isPinned:n.is_top||!1,pinnedTime:n.is_top?n.update_top_status_time:0}}}))]}))}))}function he(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,p,f,m,g;return _(this,(function(v){switch(v.label){case 0:if(t=e.userId,n=e.remark,!r.XZ.call(this))return s=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(s)];if("string"!=typeof t||""===t)throw Error('Invalid parameter: "userId"');if("string"!=typeof n)throw Error('Invalid parameter: "remark"');return d.kg.debug("Call setContactRemark",e),c=this.context,l=c.orgName,u=c.appName,p=c.accessToken,f=c.jid,m="".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/users/").concat(this.context.userId,"/contacts/users/").concat(t,"?resource=").concat(f.clientResource),g={url:m,type:"PUT",data:JSON.stringify({remark:n}),dataType:"json",headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"}},[4,a.hj.call(this,g,h.fI.ROSTER_SET_CONTACT_REMARK)];case 1:return v.sent(),[2]}}))}))}function pe(){if(!r.XZ.call(this)){var e=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,n=t.orgName,s=t.appName,c=t.accessToken,l={url:"".concat(this.apiUrl,"/").concat(n,"/").concat(s,"/users/").concat(this.user,"/contacts/users?needReturnRemark=true"),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+c}};return d.kg.debug("Call getAllContacts"),a.hj.call(this,l,h.fI.ROSTER_GET_ALL_CONTACTS_REMARKS).then((function(e){var t=((null==e?void 0:e.entities)||[]).map((function(e){return{userId:e.username,remark:e.remark}}));return{type:e.type,data:t}}))}function fe(e){if(!r.XZ.call(this)){var t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}d.kg.debug("Call getContactsWithCursor",e);var n=e||{},s=n.pageSize,c=void 0===s?20:s,l=n.cursor,u=void 0===l?"":l;if(c&&"number"!=typeof c)throw Error("Invalid parameter pageSize: ".concat(e.pageSize));var p=this.context,f=p.orgName,m=p.appName,g=p.accessToken,v={url:"".concat(this.apiUrl,"/").concat(f,"/").concat(m,"/users/").concat(this.user,"/contacts?needReturnRemark=true&limit=").concat(c,"&cursor=").concat(u),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+g}};return a.hj.call(this,v,h.fI.ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE).then((function(e){var t,n,r=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.contacts)||[],o=(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.cursor)||"",i=r.map((function(e){return{userId:e.username,remark:e.remark}}));return{type:e.type,data:{cursor:o,contacts:i}}}))}function me(e){return y(this,void 0,void 0,(function(){var t,n,c,l,u,f,m,g,v,y,b,T,S,w,C;return _(this,(function(_){switch(_.label){case 0:if(!r.XZ.call(this))return t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if(d.kg.debug("Call markConversation",e),c=(n=e||{}).conversations,l=void 0===c?[]:c,u=n.mark,f=n.isMarked,!Array.isArray(l))throw Error("Invalid parameter conversations");if(m=l.map((function(e){if(!e.conversationId||!["singleChat","groupChat"].includes(e.conversationType))throw Error("Invalid parameter conversations");return{to:e.conversationId,type:E[e.conversationType]}})),"boolean"!=typeof f)throw Error("Invalid parameter isMarked: ".concat(f));if("number"!=typeof u)throw Error("Invalid parameter mark: ".concat(u));return g=this.context,v=g.orgName,y=g.appName,b=g.accessToken,T=g.userId,S=g.jid,w={mark:s.Z[u],targets:m},C={url:"".concat(this.apiUrl,"/").concat(v,"/").concat(y,"/sdk/user/").concat(T,"/user_channels/mark?resource=").concat(S.clientResource),dataType:"json",data:JSON.stringify(w),type:f?"Post":"Delete",headers:{Authorization:"Bearer "+b}},[4,a.hj.call(this,C,h.fI.MARK_CONVERSATION).then((function(e){var t,n=(null===(t=e.data)||void 0===t?void 0:t.ignore)||[];n&&Array.isArray(n)&&n.length>0&&d.kg.debug("markConversation has ignored conversations",n.map((function(e){return{conversationId:e.to,conversationType:p.U[e.type]}})))}))];case 1:return _.sent(),[2]}}))}))}function ge(e){return y(this,void 0,void 0,(function(){var t,n;return _(this,(function(r){return d.kg.debug("Call addConversationMark",e),t=e.conversations,n=e.mark,[2,me.call(this,{conversations:t,mark:n,isMarked:!0})]}))}))}function ve(e){return y(this,void 0,void 0,(function(){var t,n;return _(this,(function(r){return d.kg.debug("Call removeConversationMark",e),t=e.conversations,n=e.mark,[2,me.call(this,{conversations:t,mark:n,isMarked:!1})]}))}))}function ye(e){var t,n,c=this;if(!r.XZ.call(this)){var l=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(l)}if(d.kg.debug("Call getServerConversationsByFilter",e),(null==e?void 0:e.pageSize)&&"number"!=typeof e.pageSize)throw Error("Invalid parameter pageSize: ".concat(e.pageSize));if((null==e?void 0:e.cursor)&&"string"!=typeof e.cursor)throw Error("Invalid parameter cursor: ".concat(e.cursor));if("number"!=typeof(null===(t=null==e?void 0:e.filter)||void 0===t?void 0:t.mark))throw Error("Invalid parameter mark: ".concat(null===(n=null==e?void 0:e.filter)||void 0===n?void 0:n.mark));var u=this.context,p=u.orgName,f=u.appName,m=u.accessToken,g="".concat(this.apiUrl,"/").concat(p,"/").concat(f,"/sdk/user/").concat(this.user,"/user_channels/mark/search?"),v=e.pageSize,y=e.cursor,_=((null==e?void 0:e.filter)||{}).mark,E={url:g,type:"GET",dataType:"json",data:{limit:v||10,cursor:y||"",need_mark:!0,mark:s.Z[_]},headers:{Authorization:"Bearer "+m,"Content-Type":"application/json"}};return a.hj.call(this,E,h.fI.GET_SESSION_LIST).then((function(e){return le.call(c,e)}))}function _e(){if(!r.XZ.call(this)){var e=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}d.kg.debug("Call getSelfIdsOnOtherPlatform");var t=this.context,n=t.orgName,s=t.appName,c=t.accessToken,l=t.userId,u=t.jid,p={url:"".concat(this.apiUrl,"/").concat(n,"/").concat(s,"/users/").concat(l,"/resources"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"}};return a.hj.call(this,p,h.fI.USER_LOGGEDIN_OTHER_PLATFORM).then((function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.filter((function(e){return e.res!==u.clientResource})),r=null==n?void 0:n.map((function(e){return"".concat(l,"/").concat(e.res)}));return{type:e.type,data:r}}))}function Ee(){var e,t,n,s,c,l;return y(this,void 0,void 0,(function(){var u,p,f,m,g,v,y,E,b;return _(this,(function(_){switch(_.label){case 0:return r.XZ.call(this)?(d.kg.debug("Call deleteAllMessagesAndConversations"),p=this.context,f=p.orgName,m=p.appName,g=p.accessToken,v=p.userId,y=p.jid,E="".concat(this.apiUrl,"/").concat(f,"/").concat(m,"/sdk/message/roaming/user/").concat(v,"/delete/all?resource=").concat(y.clientResource),b={url:E,type:"POST",dataType:"json",headers:{Authorization:"Bearer "+g,"Content-Type":"application/json"}},[4,a.hj.call(this,b,h.fI.REST_DELETE_MESSAGES_CONVERSATIONS)]):(u=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(u)]);case 1:return _.sent(),null===(t=null===(e=this._localCache)||void 0===e?void 0:e.getInstance())||void 0===t||t.clearConversationMap(),[4,null===(s=null===(n=this._localCache)||void 0===n?void 0:n.getInstance())||void 0===s?void 0:s.clearStoreData("conversationList")];case 2:return _.sent(),[4,null===(l=null===(c=this._localCache)||void 0===c?void 0:c.getInstance())||void 0===l?void 0:l.clearStoreData("message")];case 3:return _.sent(),[2]}}))}))}function be(e){return y(this,void 0,void 0,(function(){var t,n,s,c,l,u,p,f,m,g,v,y,b,T,S;return _(this,(function(_){switch(_.label){case 0:if(!r.XZ.call(this))return t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if(d.kg.debug("Call setMessagePinStatus",e),s=(n=e||{}).conversationId,c=void 0===s?"":s,l=n.conversationType,u=n.messageId,p=n.isPinned,"string"!=typeof c||""===c)throw Error("Invalid parameter conversationId");if("string"!=typeof u||""===u)throw Error("Invalid parameter messageId");if("boolean"!=typeof p)throw Error("Invalid parameter isPinned");return f=this.context,m=f.orgName,g=f.appName,v=f.accessToken,y=f.userId,b=f.jid,T={to:c,type:E[l],pin_msg_id:u},S={url:"".concat(this.apiUrl,"/").concat(m,"/").concat(g,"/sdk/user/").concat(y,"/user_channel/pin?resource=").concat(b.clientResource),dataType:"json",data:JSON.stringify(T),type:p?"Post":"Delete",headers:{Authorization:"Bearer "+v}},[4,a.hj.call(this,S,h.fI.REST_PIN_MESSAGE)];case 1:return _.sent(),[2]}}))}))}function Te(e){return y(this,void 0,void 0,(function(){var t,n,r,o;return _(this,(function(i){return d.kg.debug("Call pinMessage",e),n=(t=e||{}).conversationType,r=t.conversationId,o=t.messageId,[2,be.call(this,{conversationId:r,conversationType:n,messageId:o,isPinned:!0})]}))}))}function Se(e){return y(this,void 0,void 0,(function(){var t,n,r,o;return _(this,(function(i){return d.kg.debug("Call unpinMessage",e),n=(t=e||{}).conversationType,r=t.conversationId,o=t.messageId,[2,be.call(this,{conversationId:r,conversationType:n,messageId:o,isPinned:!1})]}))}))}function we(e){var t=this;if(!r.XZ.call(this)){var n=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}d.kg.debug("Call getServerPinnedMessages",e);var s=e.conversationId,c=e.conversationType,l=e.pageSize,u=e.cursor;if("string"!=typeof s||""===s)throw Error("Invalid parameter conversationId");if(l&&"number"!=typeof l)throw Error("Invalid parameter pageSize: ".concat(l));if(u&&"string"!=typeof u)throw Error("Invalid parameter cursor: ".concat(u));var f=this.context,m=f.orgName,g=f.appName,v=f.accessToken,y={url:"".concat(this.apiUrl,"/").concat(m,"/").concat(g,"/sdk/user/").concat(this.user,"/user_channel/pin"),type:"GET",dataType:"json",data:{to:s,type:E[c],limit:l||10,cursor:u||""},headers:{Authorization:"Bearer "+v,"Content-Type":"application/json"}};return a.hj.call(this,y,h.fI.GET_SESSION_LIST).then((function(e){return{type:0,data:{list:e.data.msg_infos.map((function(e){e.message.payload=JSON.parse(e.message.payload);var n=e.message,r=e.pin_opt_at,o=e.pin_operator;return{message:p.w.call(t,n,{formatChatType:!0}),pinTime:r,operatorId:o}})),cursor:e.data.cursor||""}}}))}function Ce(){var e=this;d.kg.debug("Call unbindPushToken");var t={deviceId:this.clientResource,deviceToken:"",notifierName:this.pushCertificateName};return g.r.call(this,t).then((function(t){return e.isRegisterPush=!1,t}))}},3770:function(e,t,n){n.r(t),n.d(t,{getPresenceStatus:function(){return m},getSubscribedPresenceList:function(){return p},getSubscribedPresencelist:function(){return f},publishPresence:function(){return u},subscribePresence:function(){return d},unsubscribePresence:function(){return h}}),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(2222),n(9753);var r=n(4024),o=n(3246),i=n(7252),a=n(5531),s=n(7360),c=function(e,t,n,r){return new(n||(n=Promise))((function(t,o){function i(e){try{s(r.next(e))}catch(t){o(t)}}function a(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}s((r=r.apply(e,[])).next())}))},l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function u(e){return c(this,void 0,void 0,(function(){var t,n,c,u,d,h,p,f,m;return l(this,(function(l){switch(l.label){case 0:if("string"!=typeof e.description)throw Error('Invalid parameter: "description"');return o.XZ.call(this)?(n=this.context,c=n.accessToken,u=n.orgName,d=n.appName,h=n.userId,p=this.context.jid.clientResource,f={ext:e.description},m={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(d,"/users/").concat(h,"/presence/").concat(p,"/1"),type:"POST",dataType:"json",data:JSON.stringify(f),headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"},success:e.success,error:e.error},s.kg.debug("Call publishPresence:",e),[4,r.hj.call(this,m)]):(t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return l.sent(),[2]}}))}))}function d(e){if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!e.usernames.length)throw Error('"usernames" can not be empty');if("number"!=typeof e.expiry)throw Error('Invalid parameter: "expiry"');if(!o.XZ.call(this)){var t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,c=n.orgName,l=n.appName,u=n.userId,d=n.accessToken,h={usernames:e.usernames},p={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/users/").concat(u,"/presence/").concat(e.expiry),type:"POST",dataType:"json",data:JSON.stringify(h),headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call subscribePresence:",e),r.hj.call(this,p).then((function(e){return e.data={result:null==e?void 0:e.result},e}))}function h(e){return c(this,void 0,void 0,(function(){var t,n,c,u,d,h,p;return l(this,(function(l){switch(l.label){case 0:if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!e.usernames.length)throw Error('"usernames" can not be empty');return o.XZ.call(this)?(n=this.context,c=n.orgName,u=n.appName,d=n.userId,h=n.accessToken,p={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(u,"/users/").concat(d,"/presence"),type:"DELETE",dataType:"json",data:JSON.stringify(e.usernames),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error},s.kg.debug("Call unsubscribePresence:",e),[4,r.hj.call(this,p)]):(t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return l.sent(),[2]}}))}))}function p(e){if("number"!=typeof e.pageNum||"number"!=typeof e.pageSize)throw Error('Invalid parameter: "pageNum or pageSize"');if(e.pageNum<0||e.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');if(!o.XZ.call(this)){var t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,c=n.orgName,l=n.appName,u=n.userId,d=n.accessToken,h={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/users/").concat(u,"/presence/sublist?pageNum=").concat(e.pageNum,"&pageSize=").concat(e.pageSize),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getSubscribedPresenceList:",e),r.hj.call(this,h).then((function(e){return e.data={result:null==e?void 0:e.result},e}))}var f=p;function m(e){if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!e.usernames.length)throw Error('"usernames" can not be empty');if(!o.XZ.call(this)){var t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={usernames:e.usernames},c=this.context,l=c.orgName,u=c.appName,d=c.userId,h=c.accessToken,p={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/users/").concat(d,"/presence"),type:"POST",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getPresenceStatus:",e),r.hj.call(this,p).then((function(e){return e.data={result:null==e?void 0:e.result},e}))}},6801:function(e,t,n){n.d(t,{r:function(){return l}}),n(1539),n(8674),n(2222),n(4812);var r=n(3246),o=n(5531),i=n(7252),a=n(4024),s=n(7360),c=n(1595);function l(e){if("string"!=typeof e.deviceId||""===e.deviceId)throw Error('Invalid parameter: "deviceId"');if(!r.XZ.call(this)){var t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,l=n.orgName,u=n.appName,d=n.accessToken,h={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/users/").concat(this.user),type:"PUT",data:JSON.stringify({device_id:e.deviceId,device_token:e.deviceToken,notifier_name:e.notifierName}),dataType:"json",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},success:e.success,error:e.error};s.kg.debug("Call uploadPushTokenToServer",e);var p=a.hj.bind(this,h,c.fI.UPLOAD_PUSH_TOKEN);return a.P6.retryPromise(p).then((function(e){var t=e.entities[0]||{};return{type:e.type,data:t}}))}},1735:function(e,t,n){n.r(t),n.d(t,{clearRemindTypeForConversation:function(){return d},getPushPerformLanguage:function(){return m},getSilentModeForAll:function(){return l},getSilentModeForConversation:function(){return h},getSilentModeForConversations:function(){return p},getSilentModeRemindTypeConversations:function(){return g},setPushPerformLanguage:function(){return f},setSilentModeForAll:function(){return c},setSilentModeForConversation:function(){return u}}),n(7941),n(1539),n(8674),n(2222),n(9753),n(9554),n(4747),n(9600),n(1249);var r=n(4024),o=n(3246),i=n(7252),a=n(5531),s=n(7360);function c(e){if(!(e.options instanceof Object))throw Error('Invalid parameter: "options"');var t=e.options.paramType;if("number"!=typeof t||t<0||t>2)throw Error('Invalid parameter: "options of paramType"');if(0===t){if("string"!=typeof e.options.remindType)throw Error('Invalid parameter: "options of remindType"')}else if(1===t){if("number"!=typeof e.options.duration)throw Error('Invalid parameter: "options of duration"')}else if(2===t){var n=e.options,c=n.startTime,l=n.endTime;if(!(c instanceof Object&&Object.keys(c).length))throw Error('Invalid parameter: "options of startTime"');if(!c.hours||"number"!=typeof c.hours||!c.minutes||"number"!=typeof c.minutes)throw Error('Invalid parameter: "options of startTime of hours or minutes"');if(!(l instanceof Object&&Object.keys(l).length))throw Error('Invalid parameter: "options of endTime"');if(!l.hours||"number"!=typeof l.hours||!l.minutes||"number"!=typeof l.minutes)throw Error('Invalid parameter: "options of endTime of hours or minutes"')}if(!o.XZ.call(this)){var u=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(u)}var d=this.context,h=d.accessToken,p=d.orgName,f=d.appName,m=d.userId,g=d.jid,v={};switch(t){case 0:v={type:e.options.remindType};break;case 1:v={ignoreDuration:e.options.duration};break;case 2:var y=e.options;c=y.startTime,l=y.endTime,v={ignoreInterval:"".concat(c.hours,":").concat(c.minutes,"-").concat(l.hours,":").concat(l.minutes)}}var _={url:"".concat(this.apiUrl,"/").concat(p,"/").concat(f,"/users/").concat(m,"/notification/user/").concat(m,"?resource=").concat(g.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(v),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call setSilentModeForAll:",e),r.hj.call(this,_)}function l(e){if(!o.XZ.call(this)){var t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,c=n.accessToken,l=n.orgName,u=n.appName,d=n.userId,h={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/users/").concat(d,"/notification/user/").concat(d),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"},success:null==e?void 0:e.success,error:null==e?void 0:e.error};return s.kg.debug("Call getSilentModeForAll:",e),r.hj.call(this,h)}function u(e){if("string"!=typeof e.conversationId||!e.conversationId)throw Error('Invalid parameter: "conversationId"');if("string"!=typeof e.type||!e.type)throw Error('Invalid parameter: "type"');if(!(e.options instanceof Object))throw Error('Invalid parameter: "options"');var t=e.options.paramType;if("number"!=typeof t||t<0||t>2)throw Error('Invalid parameter: "options of paramType"');if(0===t){if("string"!=typeof e.options.remindType)throw Error('Invalid parameter: "options of remindType"')}else if(1===t){if("number"!=typeof e.options.duration)throw Error('Invalid parameter: "options of duration"')}else if(2===t){var n=e.options,c=n.startTime,l=n.endTime;if(!(c instanceof Object&&Object.keys(c).length))throw Error('Invalid parameter: "options of startTime"');if(!c.hours||"number"!=typeof c.hours||!c.minutes||"number"!=typeof c.minutes)throw Error('Invalid parameter: "options of startTime of hours or minutes"');if(!(l instanceof Object&&Object.keys(l).length))throw Error('Invalid parameter: "options of endTime"');if(!l.hours||"number"!=typeof l.hours||!l.minutes||"number"!=typeof l.minutes)throw Error('Invalid parameter: "options of endTime of hours or minutes"')}if(!o.XZ.call(this)){var u=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(u)}var d=this.context,h=d.accessToken,p=d.orgName,f=d.appName,m=d.userId,g=d.jid,v="chatgroup",y={};switch(t){case 0:y={type:e.options.remindType};break;case 1:y={ignoreDuration:e.options.duration};break;case 2:var _=e.options;c=_.startTime,l=_.endTime,y={ignoreInterval:"".concat(c.hours,":").concat(c.minutes,"-").concat(l.hours,":").concat(l.minutes)}}"singleChat"===e.type&&(v="user");var E={url:"".concat(this.apiUrl,"/").concat(p,"/").concat(f,"/users/").concat(m,"/notification/").concat(v,"/").concat(e.conversationId,"?resource=").concat(g.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(y),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call setSilentModeForConversation:",e),r.hj.call(this,E)}function d(e){if("string"!=typeof e.conversationId||!e.conversationId)throw Error('Invalid parameter: "conversationId"');if("string"!=typeof e.type||!e.type)throw Error('Invalid parameter: "type"');if(!o.XZ.call(this)){var t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,c=n.accessToken,l=n.orgName,u=n.appName,d=n.userId,h=n.jid,p="chatgroup";"singleChat"===e.type&&(p="user");var f={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/users/").concat(d,"/notification/").concat(p,"/").concat(e.conversationId,"?resource=").concat(h.clientResource),type:"PUT",dataType:"json",data:JSON.stringify({type:"DEFAULT"}),headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call clearRemindTypeForConversation:",e),r.hj.call(this,f)}function h(e){if("string"!=typeof e.conversationId||!e.conversationId)throw Error('Invalid parameter: "conversationId"');if("string"!=typeof e.type||!e.type)throw Error('Invalid parameter: "type"');if(!o.XZ.call(this)){var t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,c=n.accessToken,l=n.orgName,u=n.appName,d=n.userId,h="chatgroup";"singleChat"===e.type&&(h="user");var p={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/users/").concat(d,"/notification/").concat(h,"/").concat(e.conversationId),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getSilentModeForConversation:",e),r.hj.call(this,p)}function p(e){if(!Array.isArray(e.conversationList))throw Error('Invalid parameter: "conversationList"');if(!o.XZ.call(this)){var t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,c=n.accessToken,l=n.orgName,u=n.appName,d=n.userId,h=[],p=[];e.conversationList.forEach((function(e){"singleChat"===e.type?h.push(e.id):p.push(e.id)}));var f=h.length?h.join(","):"",m=p.length?p.join(","):"",g={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/users/").concat(d,"/notification?user=").concat(f,"&group=").concat(m),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getSilentModeForConversations:",e),r.hj.call(this,g)}function f(e){if("string"!=typeof e.language||!e.language)throw Error('Invalid parameter: "language"');if(!o.XZ.call(this)){var t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={translationLanguage:e.language},c=this.context,l=c.accessToken,u=c.orgName,d=c.appName,h=c.userId,p={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(d,"/users/").concat(h,"/notification/language"),type:"PUT",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call setPushPerformLanguage:",e),r.hj.call(this,p)}function m(e){if(!o.XZ.call(this)){var t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,c=n.accessToken,l=n.orgName,u=n.appName,d=n.userId,h={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/users/").concat(d,"/notification/language"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"},success:null==e?void 0:e.success,error:null==e?void 0:e.error};return s.kg.debug("Call getPushPerformLanguage:",e),r.hj.call(this,h)}function g(e){if(!o.XZ.call(this)){var t=i.Z.create({type:a.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}if("number"!=typeof e.pageSize)throw Error('Invalid parameter: "pageSize"');var n=this.context,c=n.accessToken,l=n.orgName,u=n.appName,d=n.userId,h={limit:e.pageSize||10,cursor:e.cursor};e.cursor||delete h.cursor;var p={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/users/").concat(d,"/notification/mute/type"),type:"GET",dataType:"json",data:h,headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"}};return s.kg.debug("Call getSilentModeRemindTypeConversations:",e),r.hj.call(this,p).then((function(e){return e.data?{data:{conversations:e.data.map((function(e){return"user"in e?{conversationId:e.user,type:"singleChat",remindType:e.value}:{conversationId:e.group,type:"groupChat",remindType:e.value}})),cursor:e.cursor},type:e.type}:e}))}},7384:function(e,t,n){n.r(t),n.d(t,{changeChatThreadName:function(){return f},createChatThread:function(){return u},destroyChatThread:function(){return p},getChatThreadDetail:function(){return b},getChatThreadLastMessage:function(){return _},getChatThreadMembers:function(){return m},getChatThreads:function(){return y},getJoinedChatThreads:function(){return v},joinChatThread:function(){return d},leaveChatThread:function(){return h},removeChatThreadMember:function(){return g}}),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(8309),n(2222),n(9554),n(4747),n(9753);var r=n(5531),o=n(7252),i=n(4024),a=n(3246),s=n(4363),c=function(e,t,n,r){return new(n||(n=Promise))((function(t,o){function i(e){try{s(r.next(e))}catch(t){o(t)}}function a(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}s((r=r.apply(e,[])).next())}))},l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function u(e){if("string"!=typeof e.name||""===e.name)throw Error("Invalid parameter name: ".concat(e.name));if("string"!=typeof e.messageId||""===e.messageId)throw Error("Invalid parameter messageId: ".concat(e.messageId));if("string"!=typeof e.parentId||""===e.parentId)throw Error("Invalid parameter parentId: ".concat(e.parentId));if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=n.jid,d={name:e.name,msg_id:e.messageId,group_id:e.parentId,owner:this.user},h={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/thread?resource=").concat(u.clientResource),type:"POST",dataType:"json",data:JSON.stringify(d),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return i.hj.call(this,h).then((function(e){var t=e.data.thread_id;return e.data={chatThreadId:t},e}))}function d(e){if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=n.jid,d={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/thread/").concat(e.chatThreadId,"/user/").concat(this.user,"/join?resource=").concat(u.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return i.hj.call(this,d).then((function(e){var t=e.data.detail;return t.messageId=t.msgId,t.parentId=t.groupId,delete t.msgId,delete t.groupId,e}))}function h(e){return c(this,void 0,void 0,(function(){var t,n,s,c,u,d,h;return l(this,(function(l){switch(l.label){case 0:if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));return a.XZ.call(this)?(n=this.context,s=n.orgName,c=n.appName,u=n.accessToken,d=n.jid,h={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/thread/").concat(e.chatThreadId,"/user/").concat(this.user,"/quit?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"}},[4,i.hj.call(this,h)]):(t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return l.sent(),[2]}}))}))}function p(e){return c(this,void 0,void 0,(function(){var t,n,s,c,u,d,h;return l(this,(function(l){switch(l.label){case 0:if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));return a.XZ.call(this)?(n=this.context,s=n.orgName,c=n.appName,u=n.accessToken,d=n.jid,h={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/thread/").concat(e.chatThreadId,"?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"}},[4,i.hj.call(this,h)]):(t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return l.sent(),[2]}}))}))}function f(e){if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));if("string"!=typeof e.name||""===e.name)throw Error("Invalid parameter name: ".concat(e.name));if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=n.jid,d={name:e.name},h={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/thread/").concat(e.chatThreadId,"?resource=").concat(u.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(d),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return i.hj.call(this,h)}function m(e){if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u={limit:e.pageSize||20,cursor:e.cursor||""},d={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/thread/").concat(e.chatThreadId,"/users"),type:"GET",dataType:"json",data:u,headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return i.hj.call(this,d)}function g(e){if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));if("string"!=typeof e.username||""===e.username)throw Error("Invalid parameter username: ".concat(e.username));if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u=n.jid,d={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/thread/").concat(e.chatThreadId,"/users/").concat(e.username,"?resource=").concat(u.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return i.hj.call(this,d)}function v(e){if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u={limit:e.pageSize||20,cursor:e.cursor||""},d={url:e.parentId?"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/threads/chatgroups/").concat(e.parentId,"/user/").concat(this.user):"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/threads/user/").concat(this.user),type:"GET",dataType:"json",data:u,headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return i.hj.call(this,d).then((function(e){var t=e.entities;return null==t||t.forEach((function(e){e.parentId=e.groupId,e.messageId=e.msgId,delete e.groupId,delete e.msgId})),e}))}function y(e){if("string"!=typeof e.parentId||""===e.parentId)throw Error("Invalid parameter parentId: ".concat(e.parentId));if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u={cursor:e.cursor||"",limit:e.pageSize||20},d={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/threads/chatgroups/").concat(e.parentId),type:"GET",dataType:"json",data:u,headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return i.hj.call(this,d).then((function(e){var t=e.entities;return null==t||t.forEach((function(e){e.parentId=e.groupId,e.messageId=e.msgId,delete e.groupId,delete e.msgId})),e}))}function _(e){var t=this;if(!Array.isArray(e.chatThreadIds))throw Error("Invalid parameter chatThreadIds: ".concat(e.chatThreadIds));if(!a.XZ.call(this)){var n=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,d={threadIds:e.chatThreadIds},h={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/thread/message"),type:"POST",dataType:"json",data:JSON.stringify(d),headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"}};return i.hj.call(this,h).then((function(e){return E.call(t,e)}))}function E(e){var t=this,n=e.entities;return null==n||n.forEach((function(e){e.chatThreadId=e.thread_id,e.last_message&&"{}"!==JSON.stringify(e.last_message)?e.lastMessage=s.w.call(t,e.last_message):e.lastMessage=e.last_message,delete e.thread_id,delete e.last_message})),e}function b(e){if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));if(!a.XZ.call(this)){var t=o.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,s=n.orgName,c=n.appName,l=n.accessToken,u={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/thread/").concat(e.chatThreadId),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return i.hj.call(this,u).then((function(e){return e.data.affiliationsCount=e.data.affiliations_count,e.data.messageId=e.data.msgId,e.data.parentId=e.data.groupId,delete e.data.affiliations_count,delete e.data.msgId,delete e.data.groupId,e}))}},70:function(e,t,n){n.r(t),n.d(t,{getSupportedLanguages:function(){return c},translateMessage:function(){return l}}),n(1539),n(8674),n(2222),n(9753);var r=n(3246),o=n(5531),i=n(7252),a=n(7360),s=n(4024);function c(){if(!r.XZ.call(this)){var e=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,n=t.orgName,c=t.appName,l=t.accessToken,u={url:"".concat(this.apiUrl,"/").concat(n,"/").concat(c,"/users/").concat(this.user,"/translate/support/language"),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+l}};return a.kg.debug("Call getSupportedLanguages"),s.hj.call(this,u)}function l(e){if("string"!=typeof e.text||""===e.text)throw Error('Invalid parameter: "text"');if(!Array.isArray(e.languages))throw Error('Invalid parameter: "language"');if(!r.XZ.call(this)){var t=i.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,c=n.orgName,l=n.appName,u=n.accessToken,d="".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/users/").concat(this.user,"/translate"),h={text:e.text,to:e.languages},p={url:d,dataType:"json",type:"POST",data:JSON.stringify(h),headers:{Authorization:"Bearer "+u}};return a.kg.debug("Call translateMessage"),s.hj.call(this,p)}},3246:function(e,t,n){n.d(t,{H7:function(){return u},XZ:function(){return c},_W:function(){return l}}),n(7941),n(9554),n(1539),n(4747),n(6699),n(2023);var r=n(5531),o=n(7252),i=n(7360);function a(){var e=this.context.appName,t=this.context.orgName;return!(!e||!t)||(this.onError&&this.onError({type:r.E.WEBIM_CONNCTION_AUTH_ERROR,message:"appName or orgName is illegal"}),!1)}function s(){var e,t=this.context.accessToken;if(!t){var n=o.Z.create({type:r.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"token not assign error"});return i.kg.debug("token not assign error",t),this.onError&&this.onError(n),null===(e=this.eventHandler)||void 0===e||e.dispatch("onError",n),!1}return!0}function c(){return s.call(this)&&a.call(this)}function l(e){var t=e.data,n=e.type;return{data:{status:Object.keys(t.errorKeys).length>0?"fail":"success",errorKeys:t.errorKeys,successKeys:t.successKeys},type:n}}function u(e){var t=e.data,n=void 0;return Object.keys(t.errorKeys).length>0&&Object.keys(t.errorKeys).forEach((function(e){var i=t.errorKeys[e];n=i.includes("is not part of you")?o.Z.create({type:r.E.NO_PERMISSION,message:i}):i.includes("size of metadata for this single chatroom exceeds the user defined limit")||i.includes("total size of chatroom metadata for this app exceeds the user defined limit")||i.includes("is exceeding maximum limit")?o.Z.create({type:r.E.MAX_LIMIT,message:i}):i.includes("is not Legal")?o.Z.create({type:r.E.REQUEST_PARAMETER_ERROR,message:i}):i.includes("Failed to update userMetadata. Concurrent updates not allowed")?o.Z.create({type:r.E.OPERATION_NOT_ALLOWED,message:i}):o.Z.create({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:i})})),n}},4319:function(e,t,n){n.d(t,{Ge:function(){return p},Gf:function(){return i},Nt:function(){return c},XV:function(){return u},al:function(){return d},bh:function(){return f},ke:function(){return h},th:function(){return s},xd:function(){return l},xz:function(){return o},zj:function(){return a}});var r=n(5531),o=15e3,i=15e3,a=3e5,s=1e4,c=1e4,l=8e3,u=3e5,d=3e4,h=5,p=3,f=[r.E.MAX_LIMIT,r.E.WEBIM_TOKEN_EXPIRED,r.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,r.E.USER_NOT_FOUND,r.E.WEBIM_CONNCTION_AUTH_ERROR,r.E.REQUEST_PARAMETER_ERROR,r.E.WEBIM_CONNCTION_AUTH_ERROR,r.E.WEBIM_SERVER_SERVING_DISABLED]},2071:function(e,t,n){n.d(t,{$x:function(){return s},F3:function(){return c},TJ:function(){return o},Tp:function(){return d},Wc:function(){return r},el:function(){return i},iB:function(){return l},iO:function(){return a},yK:function(){return u}}),n(6992),n(1532),n(1539),n(8783),n(3948);var r=7,o=new Map,i="im",a=new Map,s="32f24ab2ddb74f508aa9286c356cec84",c=1e3,l={INIT:9674,API:9675},u="direct",d=-1},1595:function(e,t,n){var r,o,i,a,s,c,l;n.d(t,{C8:function(){return r},aC:function(){return c},c:function(){return i},dd:function(){return s},fI:function(){return o},td:function(){return a}}),(l=r||(r={}))[l.UNKNOWOPERATION=-1]="UNKNOWOPERATION",l[l.REST_GET_SESSION_LIST=1]="REST_GET_SESSION_LIST",l[l.REST_DEL_SESSION=2]="REST_DEL_SESSION",l[l.REST_GET_HISTORY_MESSAGE=3]="REST_GET_HISTORY_MESSAGE",l[l.REST_PIN_CONVERSATION=4]="REST_PIN_CONVERSATION",l[l.REST_MARK_CONVERSATION=5]="REST_MARK_CONVERSATION",l[l.REST_UPLOAD_FILE_IN_PARTS=6]="REST_UPLOAD_FILE_IN_PARTS",l[l.REST_DELETE_MESSAGES_CONVERSATIONS=7]="REST_DELETE_MESSAGES_CONVERSATIONS",l[l.REST_PIN_MESSAGE=8]="REST_PIN_MESSAGE",l[l.REST_FETCH_PINMESSAGES=9]="REST_FETCH_PINMESSAGES",l[l.REST_OPERATE=100]="REST_OPERATE",l[l.MSYNC_SENDMESSAGE=101]="MSYNC_SENDMESSAGE",l[l.MSYNC_RECALLMESSAGE=102]="MSYNC_RECALLMESSAGE",l[l.MSYNC_MODIFYMESSAGE=103]="MSYNC_MODIFYMESSAGE",l[l.MSYNC_OPERATE=200]="MSYNC_OPERATE",l[l.ROSTER_ADD=201]="ROSTER_ADD",l[l.ROSTER_REMOVE=202]="ROSTER_REMOVE",l[l.ROSTER_ACCEPT=203]="ROSTER_ACCEPT",l[l.ROSTER_DECLINE=204]="ROSTER_DECLINE",l[l.ROSTER_BAN=205]="ROSTER_BAN",l[l.ROSTER_ALLOW=206]="ROSTER_ALLOW",l[l.ROSTER_BLACKLIST=207]="ROSTER_BLACKLIST",l[l.ROSTER_CONTACTS=208]="ROSTER_CONTACTS",l[l.ROSTER_GET_ALL_CONTACTS_REMARKS=209]="ROSTER_GET_ALL_CONTACTS_REMARKS",l[l.ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE=210]="ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE",l[l.ROSTER_SET_CONTACT_REMARK=211]="ROSTER_SET_CONTACT_REMARK",l[l.ROSTER_OPERATE=300]="ROSTER_OPERATE",l[l.USER_LOGIN=301]="USER_LOGIN",l[l.USER_CREATE=302]="USER_CREATE",l[l.USER_UPDATE_USERINFO=303]="USER_UPDATE_USERINFO",l[l.USER_FETCH_USERINFO=304]="USER_FETCH_USERINFO",l[l.USER_UPDATE_NICK=305]="USER_UPDATE_NICK",l[l.USER_UPLOAD_PUSH_TOKEN=306]="USER_UPLOAD_PUSH_TOKEN",l[l.USER_LOGGEDIN_OTHER_PLATFORM=307]="USER_LOGGEDIN_OTHER_PLATFORM",l[l.USER_OPERATE=400]="USER_OPERATE",l[l.GROUP_CREATEGROUP=401]="GROUP_CREATEGROUP",l[l.GROUP_BLOCK_MESSAGE=402]="GROUP_BLOCK_MESSAGE",l[l.GROUP_FETCH_PUBLICGROUPS_WITHCURSOR=403]="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",l[l.GROUP_FETCH_USERS_GROUP=404]="GROUP_FETCH_USERS_GROUP",l[l.GROUP_CHANGE_OWNER=405]="GROUP_CHANGE_OWNER",l[l.GROUP_FETCH_SPECIFICATION=406]="GROUP_FETCH_SPECIFICATION",l[l.GROUP_CHANGE_GROUPATTRIBUTE=407]="GROUP_CHANGE_GROUPATTRIBUTE",l[l.GROUP_FETCH_MEMEBERS=408]="GROUP_FETCH_MEMEBERS",l[l.GROUP_GET_ADMIN=409]="GROUP_GET_ADMIN",l[l.GROUP_SET_ADMIN=410]="GROUP_SET_ADMIN",l[l.GROUP_REMOVE_ADMIN=411]="GROUP_REMOVE_ADMIN",l[l.GROUP_DESTOTYGROUP=412]="GROUP_DESTOTYGROUP",l[l.GROUP_LEAVEGROUP=413]="GROUP_LEAVEGROUP",l[l.GROUP_INVITE_TO_GROUP=414]="GROUP_INVITE_TO_GROUP",l[l.GROUP_JOIN_PUBLICGROUP=415]="GROUP_JOIN_PUBLICGROUP",l[l.GROUP_ACCEPT_JOINPUBLICGROUPAPPL=416]="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",l[l.GROUP_DECLINE_JOINPUBLICGROUPAPPL=417]="GROUP_DECLINE_JOINPUBLICGROUPAPPL",l[l.GROUP_ACCEPT_INVITATION=418]="GROUP_ACCEPT_INVITATION",l[l.GROUP_DECLINE_INVITATION=419]="GROUP_DECLINE_INVITATION",l[l.GROUP_REMOVE_MEMBER=420]="GROUP_REMOVE_MEMBER",l[l.GROUP_REMOVE_MEMBERS=421]="GROUP_REMOVE_MEMBERS",l[l.GROUP_MUTE_MEMBERS=422]="GROUP_MUTE_MEMBERS",l[l.GROUP_UNMUTE_MEMBERS=423]="GROUP_UNMUTE_MEMBERS",l[l.GROUP_FETCH_MUTES=424]="GROUP_FETCH_MUTES",l[l.GROUP_BLOCK_MEMBER=425]="GROUP_BLOCK_MEMBER",l[l.GROUP_BLOCK_MEMBERS=426]="GROUP_BLOCK_MEMBERS",l[l.GROUP_UNBLOCK_MEMBER=427]="GROUP_UNBLOCK_MEMBER",l[l.GROUP_UNBLOCK_MEMBERS=428]="GROUP_UNBLOCK_MEMBERS",l[l.GROUP_GET_BLOCK_LIST=429]="GROUP_GET_BLOCK_LIST",l[l.GROUP_MUTE_ALLMEMBERS=430]="GROUP_MUTE_ALLMEMBERS",l[l.GROUP_UNMUTE_ALLMEMBERS=431]="GROUP_UNMUTE_ALLMEMBERS",l[l.GROUP_ADD_WHITELIST=432]="GROUP_ADD_WHITELIST",l[l.GROUP_REMOVE_WHITELIST=433]="GROUP_REMOVE_WHITELIST",l[l.GROUP_FETCH_WHITELIST=434]="GROUP_FETCH_WHITELIST",l[l.GROUP_IS_IN_WHITELIST=435]="GROUP_IS_IN_WHITELIST",l[l.GROUP_GET_READ_USERS=436]="GROUP_GET_READ_USERS",l[l.GROUP_FETCH_ANNOUNCEMENT=437]="GROUP_FETCH_ANNOUNCEMENT",l[l.GROUP_UPDATE_ANNOUNCEMENT=438]="GROUP_UPDATE_ANNOUNCEMENT",l[l.GROUP_UPLOAD_SHAREDFILE=439]="GROUP_UPLOAD_SHAREDFILE",l[l.GROUP_DELETE_SHAREDFILE=440]="GROUP_DELETE_SHAREDFILE",l[l.GROUP_FETCH_SHAREDFILE=441]="GROUP_FETCH_SHAREDFILE",l[l.GROUP_DOWNLOAD_SHAREDFILE=442]="GROUP_DOWNLOAD_SHAREDFILE",l[l.GROUP_MEMBER_SET_META_DATA=443]="GROUP_MEMBER_SET_META_DATA",l[l.GROUP_MEMBER_FETCH_META_DATA=444]="GROUP_MEMBER_FETCH_META_DATA",l[l.GROUP_OPERATE=500]="GROUP_OPERATE",l[l.CHATROOM_FETCH_CHATROOMSWITHPAGE=501]="CHATROOM_FETCH_CHATROOMSWITHPAGE",l[l.CHATROOM_CREATECHATROOM=502]="CHATROOM_CREATECHATROOM",l[l.CHATROOM_DESTORYCHATROOM=503]="CHATROOM_DESTORYCHATROOM",l[l.CHATROOM_FETCH_SPECIFICATION=504]="CHATROOM_FETCH_SPECIFICATION",l[l.CHATROOM_CHANGE_ATTRIBUTE=505]="CHATROOM_CHANGE_ATTRIBUTE",l[l.CHATROOM_REMOVE_MEMBER=506]="CHATROOM_REMOVE_MEMBER",l[l.CHATROOM_REMOVE_MEMBERS=507]="CHATROOM_REMOVE_MEMBERS",l[l.CHATROOM_ADD_MEMBERS=508]="CHATROOM_ADD_MEMBERS",l[l.CHATROOM_JOINCAHTROOM=509]="CHATROOM_JOINCAHTROOM",l[l.CHATROOM_LEAVECAHTROOM=510]="CHATROOM_LEAVECAHTROOM",l[l.CHATROOM_FETCH_MEMBERS=511]="CHATROOM_FETCH_MEMBERS",l[l.CHATROOM_GET_ADMIN=512]="CHATROOM_GET_ADMIN",l[l.CHATROOM_SET_ADMIN=513]="CHATROOM_SET_ADMIN",l[l.CHATROOM_REMOVE_ADMIN=514]="CHATROOM_REMOVE_ADMIN",l[l.CHATROOM_MUTE_USER=515]="CHATROOM_MUTE_USER",l[l.CHATROOM_UNMUTE_USER=516]="CHATROOM_UNMUTE_USER",l[l.CHATROOM_FETCH_MUTES=517]="CHATROOM_FETCH_MUTES",l[l.CHATROOM_BLOCK_USER=518]="CHATROOM_BLOCK_USER",l[l.CHATROOM_BLOCK_USERS=519]="CHATROOM_BLOCK_USERS",l[l.CHATROOM_UNBLOCK_USER=520]="CHATROOM_UNBLOCK_USER",l[l.CHATROOM_UNBLOCK_USERS=521]="CHATROOM_UNBLOCK_USERS",l[l.CHATROOM_FETCH_BANS=522]="CHATROOM_FETCH_BANS",l[l.CHATROOM_MUTE_ALLMEMEBERS=523]="CHATROOM_MUTE_ALLMEMEBERS",l[l.CHATROOM_UNMUTE_ALLMEMEBERS=524]="CHATROOM_UNMUTE_ALLMEMEBERS",l[l.CHATROOM_ADD_WHITELIST=525]="CHATROOM_ADD_WHITELIST",l[l.CHATROOM_REMOVE_WHITELIST=526]="CHATROOM_REMOVE_WHITELIST",l[l.CHATROOM_FETCH_WHITELIST=527]="CHATROOM_FETCH_WHITELIST",l[l.CHATROOM_FETCH_MEMBERIN_WHITELIST=528]="CHATROOM_FETCH_MEMBERIN_WHITELIST",l[l.CHATROOM_FETCH_ANNOUNCEMENT=529]="CHATROOM_FETCH_ANNOUNCEMENT",l[l.CHATROOM_UPDATE_ANNOUNCEMENT=530]="CHATROOM_UPDATE_ANNOUNCEMENT",l[l.CHATROOM_REMOVE_SHARE_FILE=531]="CHATROOM_REMOVE_SHARE_FILE",l[l.CHATROOM_GET_SHARE_FILE_LIST=532]="CHATROOM_GET_SHARE_FILE_LIST",l[l.CHATROOM_UPLOAD_FILE=533]="CHATROOM_UPLOAD_FILE",l[l.CHATROOM_SET_META_DATA=534]="CHATROOM_SET_META_DATA",l[l.CHATROOM_DELETE_META_DATA=535]="CHATROOM_DELETE_META_DATA",l[l.CHATROOM_FETCH_META_DATA=536]="CHATROOM_FETCH_META_DATA",l[l.CHATROOM_FETCH_USER_JOINED_CHATROOM=537]="CHATROOM_FETCH_USER_JOINED_CHATROOM",l[l.CHATROOM_OPERATE=600]="CHATROOM_OPERATE",function(e){e.SDK_INTERNAL="SDK_INTERNAL",e.LOGIN="USER_LOGIN",e.REGISTER="USER_CREATE",e.GET_CHATROOM_LIST="CHATROOM_FETCH_CHATROOMSWITHPAGE",e.CREATE_CHATROOM="CHATROOM_CREATECHATROOM",e.DESTROY_CHATROOM="CHATROOM_DESTORYCHATROOM",e.GET_CHATROOM_DETAIL="CHATROOM_FETCH_SPECIFICATION",e.MODIFY_CHATROOM="CHATROOM_CHANGE_ATTRIBUTE",e.REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBER",e.MULTI_REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBERS",e.ADD_USERS_TO_CHATROOM="CHATROOM_ADD_MEMBERS",e.JOIN_CHATROOM="CHATROOM_JOINCAHTROOM",e.QUIT_CHATROOM="CHATROOM_LEAVECAHTROOM",e.LIST_CHATROOM_MEMBERS="CHATROOM_FETCH_MEMBERS",e.GET_CHATROOM_ADMIN="CHATROOM_GET_ADMIN",e.SET_CHATROOM_ADMIN="CHATROOM_SET_ADMIN",e.REMOVE_CHATROOM_ADMIN="CHATROOM_REMOVE_ADMIN",e.MUTE_CHATROOM_MEMBER="CHATROOM_MUTE_USER",e.REMOVE_MUTE_CHATROOM_MEMBER="CHATROOM_UNMUTE_USER",e.GET_MUTE_CHATROOM_MEMBERS="CHATROOM_FETCH_MUTES",e.SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USER",e.MULTI_SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USERS",e.REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USER",e.MULTI_REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USERS",e.GET_CHATROOM_BLOCK_MEMBERS="CHATROOM_FETCH_BANS",e.DISABLED_CHATROOM_SEND_MSG="CHATROOM_MUTE_ALLMEMEBERS",e.ENABLE_CHATROOM_SEND_MSG="CHATROOM_UNMUTE_ALLMEMEBERS",e.ADD_CHATROOM_WHITE_USERS="CHATROOM_ADD_WHITELIST",e.REMOVE_CHATROOM_WHITE_USERS="CHATROOM_REMOVE_WHITELIST",e.GET_CHATROOM_WHITE_USERS="CHATROOM_FETCH_WHITELIST",e.CHECK_CHATROOM_WHITE_USER="CHATROOM_FETCH_MEMBERIN_WHITELIST",e.GET_CHATROOM_ANN="CHATROOM_FETCH_ANNOUNCEMENT",e.UPDATE_CHATROOM_ANN="CHATROOM_UPDATE_ANNOUNCEMENT",e.DELETE_CHATROOM_FILE="CHATROOM_REMOVE_SHARE_FILE",e.GET_CHATROOM_FILES="CHATROOM_GET_SHARE_FILE_LIST",e.UPLOAD_CHATROOM_FILE="CHATROOM_UPLOAD_FILE",e.SET_CHATROOM_ATTR="CHATROOM_SET_META_DATA",e.DELETE_CHATROOM_ATTR="CHATROOM_DELETE_META_DATA",e.GET_CHATROOM_ATTR="CHATROOM_FETCH_META_DATA",e.GET_USER_JOINED_CHATROOM="CHATROOM_FETCH_USER_JOINED_CHATROOM",e.CREATE_GROUP="GROUP_CREATEGROUP",e.BLOCK_GROUP="GROUP_BLOCK_MESSAGE",e.LIST_GROUP="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",e.GET_USER_GROUP="GROUP_FETCH_USERS_GROUP",e.CHANGE_OWNER="GROUP_CHANGE_OWNER",e.GET_GROUP_INFO="GROUP_FETCH_SPECIFICATION",e.MODIFY_GROUP="GROUP_CHANGE_GROUPATTRIBUTE",e.LIST_GROUP_MEMBER="GROUP_FETCH_MEMEBERS",e.GET_GROUP_ADMIN="GROUP_GET_ADMIN",e.SET_GROUP_ADMIN="GROUP_SET_ADMIN",e.REMOVE_GROUP_ADMIN="GROUP_REMOVE_ADMIN",e.DISSOLVE_GROUP="GROUP_DESTOTYGROUP",e.QUIT_GROUP="GROUP_LEAVEGROUP",e.INVITE_TO_GROUP="GROUP_INVITE_TO_GROUP",e.JOIN_GROUP="GROUP_JOIN_PUBLICGROUP",e.AGREE_JOIN_GROUP="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",e.REJECT_JOIN_GROUP="GROUP_DECLINE_JOINPUBLICGROUPAPPL",e.AGREE_INVITE_GROUP="GROUP_ACCEPT_INVITATION",e.REJECT_INVITE_GROUP="GROUP_DECLINE_INVITATION",e.REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBER",e.MULTI_REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBERS",e.MUTE_GROUP_MEMBER="GROUP_MUTE_MEMBERS",e.UNMUTE_GROUP_MEMBER="GROUP_UNMUTE_MEMBERS",e.GET_GROUP_MUTE_LIST="GROUP_FETCH_MUTES",e.BLOCK_GROUP_MEMBER="GROUP_BLOCK_MEMBER",e.BLOCK_GROUP_MEMBERS="GROUP_BLOCK_MEMBERS",e.UNBLOCK_GROUP_MEMBER="GROUP_UNBLOCK_MEMBER",e.UNBLOCK_GROUP_MEMBERS="GROUP_UNBLOCK_MEMBERS",e.GET_GROUP_BLACK_LIST="GROUP_GET_BLOCK_LIST",e.DISABLED_SEND_GROUP_MSG="GROUP_MUTE_ALLMEMBERS",e.ENABLE_SEND_GROUP_MSG="GROUP_UNMUTE_ALLMEMBERS",e.ADD_USERS_TO_GROUP_WHITE="GROUP_ADD_WHITELIST",e.REMOVE_GROUP_WHITE_MEMBER="GROUP_REMOVE_WHITELIST",e.GET_GROUP_WHITE_LIST="GROUP_FETCH_WHITELIST",e.IS_IN_GROUP_WHITE_LIST="GROUP_IS_IN_WHITELIST",e.GET_GROUP_MSG_READ_USER="GROUP_GET_READ_USERS",e.GET_GROUP_ANN="GROUP_FETCH_ANNOUNCEMENT",e.UPDATE_GROUP_ANN="GROUP_UPDATE_ANNOUNCEMENT",e.UPLOAD_GROUP_FILE="GROUP_UPLOAD_SHAREDFILE",e.DELETE_GROUP_FILE="GROUP_DELETE_SHAREDFILE",e.GET_GROUP_FILE_LIST="GROUP_FETCH_SHAREDFILE",e.DOWN_GROUP_FILE="GROUP_DOWNLOAD_SHAREDFILE",e.SET_GROUP_MEMBER_ATTRS="GROUP_MEMBER_SET_META_DATA",e.GET_GROUP_MEMBER_ATTR="GROUP_MEMBER_FETCH_META_DATA",e.GET_SESSION_LIST="REST_GET_SESSION_LIST",e.DELETE_SESSION="REST_DEL_SESSION",e.GET_HISTORY_MSG="REST_GET_HISTORY_MESSAGE",e.PIN_CONVERSATION="REST_PIN_CONVERSATION",e.REST_UPLOAD_FILE_IN_PARTS="REST_UPLOAD_FILE_IN_PARTS",e.REST_DELETE_MESSAGES_CONVERSATIONS="REST_DELETE_MESSAGES_CONVERSATIONS",e.MARK_CONVERSATION="REST_MARK_CONVERSATION",e.REST_FETCH_PINMESSAGES="REST_FETCH_PINMESSAGES",e.REST_PIN_MESSAGE="REST_PIN_MESSAGE",e.UPDATE_USER_INFO="USER_UPDATE_USERINFO",e.GET_USER_INFO="USER_FETCH_USERINFO",e.UPDATE_USER_NICK="USER_UPDATE_NICK",e.UPLOAD_PUSH_TOKEN="USER_UPLOAD_PUSH_TOKEN",e.USER_LOGGEDIN_OTHER_PLATFORM="USER_LOGGEDIN_OTHER_PLATFORM",e.GET_BLACK_LIST="ROSTER_BLACKLIST",e.GET_CONTACTS="ROSTER_CONTACTS",e.ROSTER_GET_ALL_CONTACTS_REMARKS="ROSTER_GET_ALL_CONTACTS_REMARKS",e.ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE="ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE",e.ROSTER_SET_CONTACT_REMARK="ROSTER_SET_CONTACT_REMARK",e.ROSTER_ADD="ROSTER_ADD",e.ROSTER_REMOVE="ROSTER_REMOVE",e.ROSTER_ACCEPT="ROSTER_ACCEPT",e.ROSTER_DECLINE="ROSTER_DECLINE",e.ROSTER_BAN="ROSTER_BAN",e.ROSTER_ALLOW="ROSTER_ALLOW",e.SEND_MSG="MSYNC_SENDMESSAGE",e.UPLOAD_MSG_ATTACH="UPLOAD_MSG_ATTACH",e.SEND_RECALL_MSG="MSYNC_RECALLMESSAGE",e.MODIFY_MESSAGE="MSYNC_MODIFYMESSAGE"}(o||(o={})),function(e){e.GET_DNS="REST_DNSLIST",e.LOGIN_BY_AGORA_TOKEN="LOGIN_BY_AGORA_TOKEN",e.LOGIN_BY_PWD="LOGIN_BY_PWD",e.RESISTER="REGISTER",e.REST_INIT_UPLOAD_TASK_IN_PARTS="REST_INIT_UPLOAD_TASK_IN_PARTS",e.REST_UPLOAD_PART="REST_UPLOAD_PART",e.REST_COMPLETE_UPLOAD_PART="REST_COMPLETE_UPLOAD_PART",e.REST_ABORT_UPLOAD_PART="REST_ABORT_UPLOAD_PART",e.CONNECT_WEBSOCKET="CONNECT_WEBSOCKET"}(i||(i={})),function(e){e[e["5G"]=7]="5G",e[e["4G"]=7]="4G",e[e["3G"]=7]="3G",e[e["2G"]=7]="2G",e[e["SLOW-2G"]=7]="SLOW-2G",e[e.WIFI=2]="WIFI",e[e.LAN=1]="LAN",e[e.DISCONNECTED=0]="DISCONNECTED",e[e.NONE=0]="NONE",e[e.UNKNOWN=-1]="UNKNOWN",e[e["WEBIM UNABLE TO GET"]=-2]="WEBIM UNABLE TO GET"}(a||(a={})),function(e){e[e.success=200]="success",e[e.failed=500]="failed",e[e.disconnect=-1]="disconnect",e[e.closed=401]="closed",e[e.notFound=404]="notFound",e[e.reachLimit=429]="reachLimit"}(s||(s={})),function(e){e[e.web=0]="web",e[e.native=1]="native"}(c||(c={}))},6424:function(e,t,n){n.d(t,{gA:function(){return L},ZP:function(){return Ie}}),n(9601),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(2222),n(3710),n(7941),n(9714),n(3843),n(8309),n(2772),n(5212),n(7327),n(5827),n(9826),n(4553),n(561),n(9653),n(1038),n(2564),n(9575),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(6699),n(2023),n(3161),n(4048),n(9753),n(9554),n(4747),n(285),n(1637),n(8145),n(1249),n(4812);var r=n(4188),o=n.n(r),i=n(3720),a=n.n(i),s=n(5531),c=n(8161),l=n(7360),u=["public","members_only","allow_user_invites","invite_need_confirm"],d={name:"name",title:"name",description:"description",public:"public",members_only:"approval",allow_user_invites:"allowInvites",max_users:"maxUsers",invite_need_confirm:"inviteNeedConfirm",custom:"ext",last_modified:"lastModified"};function h(e,t){var n,r,o,i,a,s,c=this,l=this.context,h=l.userId,p=l.jid,f=t.from.name===h&&p.clientResource!==t.from.clientResource;return t.isThread?(o={id:t.mucId.name,name:t.mucName,operation:"",parentId:t.mucParentId.name,operator:t.from.name,userName:t.to.length?t.to[0].name:""},i={chatThreadId:t.mucId.name,chatThreadName:t.mucName,operation:"",parentId:t.mucParentId.name}):(r={type:"",owner:t.from.name,gid:t.mucId.name,from:t.from.name,fromJid:t.from,to:t.to.length?t.to[0].name:"",toJid:t.to,chatroom:t.isChatroom,status:t.status},a={operation:"",id:t.mucId.name,from:t.from.name},t.isChatroom&&(null===(n=null==t?void 0:t.eventInfo)||void 0===n?void 0:n.ext)&&(s=JSON.parse(t.eventInfo.ext))),({45:function(){var e,n,r;a.operation="memberAttributesUpdate";var o=JSON.parse(null===(e=null==t?void 0:t.eventInfo)||void 0===e?void 0:e.ext)||{};a.attributes=o.properties||{},a.userId=o.username||"",f?null===(n=c.eventHandler)||void 0===n||n.dispatch("onMultiDeviceEvent",a):null===(r=c.eventHandler)||void 0===r||r.dispatch("onGroupEvent",a)},44:function(){var e;a.operation="removeChatRoomAttributes",a.attributes=s.result.successKeys,s.result.successKeys.length>0&&(null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomEvent",a))},43:function(){var e;a.operation="updateChatRoomAttributes";var t={};s.result.successKeys.forEach((function(e){t[e]=s.properties[e]})),a.attributes=t,s.result.successKeys.length>0&&(null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomEvent",a))},42:function(){},41:function(){},40:function(){},39:function(){},38:function(){var e;i.operation="chatThreadNameUpdate",null===(e=c.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",i)},37:function(){var e;o.operation="userRemove",null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatThreadChange",o)},36:function(){var e;i.operation="chatThreadLeave",null===(e=c.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",i)},35:function(){var e;i.operation="chatThreadJoin",null===(e=c.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",i)},34:function(){var e;i.operation="chatThreadDestroy",null===(e=c.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",i)},33:function(){var e;i.operation="chatThreadCreate",null===(e=c.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",i)},32:function(){var e,n,o,i;r.type=t.isChatroom?"rmChatRoomMute":"rmGroupMute",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="unmuteAllMembers",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},31:function(){var e,n,o,i;r.type=t.isChatroom?"muteChatRoom":"muteGroup",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="muteAllMembers",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},30:function(){var e,n,o,i;r.type=t.isChatroom?"rmUserFromChatRoomWhiteList":"rmUserFromGroupWhiteList",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="removeAllowlistMember",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},29:function(){var e,n,o,i;r.type=t.isChatroom?"addUserToChatRoomWhiteList":"addUserToGroupWhiteList",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="addUserToAllowlist",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},28:function(){var e,n,o,i;r.type="deleteFile",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="deleteFile",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},27:function(){var e,n,o,i;r.type="uploadFile",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="uploadFile",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},26:function(){var e,n,o,i;r.type="deleteAnnouncement",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="deleteAnnouncement",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},25:function(){var e,n,o,i;r.type="updateAnnouncement",r.announcement=t.reason,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="updateAnnouncement",a.announcement=t.reason,t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},24:function(){var e,n,o,i;r.type="removeMute",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="unmuteMember",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},23:function(){var e,n,o,i;r.type="addMute",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="muteMember",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},22:function(){var e,n,o,i;r.type="removeAdmin",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="removeAdmin",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},21:function(){var e,n,o,i;r.type="addAdmin",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="setAdmin",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},20:function(){var e,n,o,i;r.type="changeOwner",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="changeOwner",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},19:function(){var e,n,o,i;r.type="direct_joined",r.groupName=t.mucName,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="directJoined",a.name=t.mucName,t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},18:function(){var e,n,o,i;r.type=t.isChatroom?"leaveChatRoom":"leaveGroup",c.onPresence&&c.onPresence(r);var s=t.mucMemberCount;s&&(a.memberCount=s),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="memberAbsence",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},17:function(){var e,n,o,i;t.isChatroom&&t.ext&&(a.ext=t.ext,r.ext=t.ext),r.type=t.isChatroom?"memberJoinChatRoomSuccess":"memberJoinPublicGroupSuccess",c.onPresence&&c.onPresence(r);var s=t.mucMemberCount;t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="memberPresence",s&&(a.memberCount=s),t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},16:function(){var e,n;r.type="unblock",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},15:function(){var e,n;r.type="block",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},14:function(){var e,n,o,i,s,l=t.isChatroom;if(!l){var h=JSON.parse((null===(e=null==t?void 0:t.eventInfo)||void 0===e?void 0:e.ext)||"{}",(function(e,t){return"last_modified"===e?Number(t):u.includes(e)?"true"===t||!0===t:t}));a.detail=r.detail={},Object.keys(h).forEach((function(e){var t=d[e];if(t){var n=h[e];a.detail&&(a.detail[t]=n),r.detail&&(r.detail[t]=n)}}))}r.type="update",c.onPresence&&c.onPresence(r),l?null===(n=c.eventHandler)||void 0===n||n.dispatch("onChatroomChange",r):null===(o=c.eventHandler)||void 0===o||o.dispatch("onGroupChange",r),a.operation="updateInfo",l?null===(i=c.eventHandler)||void 0===i||i.dispatch("onChatroomEvent",a):null===(s=c.eventHandler)||void 0===s||s.dispatch("onGroupEvent",a)},13:function(){var e,n,o,i;r.type="allow",r.reason=t.reason,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),t.reason&&(a.reason=t.reason),a.operation="unblockMember",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},12:function(){var e,n;r.type="ban",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},11:function(){var e,n;r.type="getBlackList",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},10:function(){var e,n,o,i;r.type="removedFromGroup",r.kicked=r.to,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="removeMember",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},9:function(){var e,n,o,i;r.type="invite_decline",r.kicked=r.to,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="rejectInvite",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},8:function(){var e,n,o,i;r.type="invite_accept",r.kicked=r.to,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="acceptInvite",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},7:function(){var e,n,o,i;r.type="invite",r.kicked=r.to,r.groupName=t.mucName,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="inviteToJoin",a.name=t.mucName,t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},6:function(){var e,n,o,i;r.type="joinPublicGroupDeclined",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="joinPublicGroupDeclined",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):(a.userId=t.to.length?t.to[0].name:"",null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a))},5:function(){var e,n,o,i;r.type="joinPublicGroupSuccess",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="acceptRequest",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},4:function(){var e,n,o,i;r.type="joinGroupNotifications",r.reason=t.reason,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),t.reason&&(a.reason=t.reason),a.operation="requestToJoin",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},3:function(){var e,n;r.type="leave",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},2:function(){var e,n;r.type="join",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},1:function(){var e,n,o,i;r.type="deleteGroupChat",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),a.operation="destroy",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",a):null===(i=c.eventHandler)||void 0===i||i.dispatch("onGroupEvent",a)},0:function(){var e,n;a.operation="create",t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomEvent",a):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupEvent",a)}}[e]||function(){})()}var p=function(e){var t=this.root.lookup("easemob.pb.MUCBody").decode(e.payload),n=t.operation;l.kg.debug("onMucMessage",t),h.call(this,n,t)},f={handleRosterMsg:function(e){var t,n,r,o,i,a,s=this.root.lookup("easemob.pb.RosterBody").decode(e.payload),c={type:"",to:s.to[0].name,from:s.from.name,status:s.reason};switch(s.operation){case 2:c.type="subscribe",this.onContactInvited&&this.onContactInvited(c),null===(t=this.eventHandler)||void 0===t||t.dispatch("onContactInvited",c);break;case 3:c.type="unsubscribed",this.onContactDeleted&&this.onContactDeleted(c),null===(n=this.eventHandler)||void 0===n||n.dispatch("onContactDeleted",c);break;case 4:c.type="subscribed",this.onContactAdded&&this.onContactAdded(c),null===(r=this.eventHandler)||void 0===r||r.dispatch("onContactAdded",c);break;case 5:c.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(c),null===(o=this.eventHandler)||void 0===o||o.dispatch("onContactRefuse",c);break;case 6:case 7:break;case 8:c.type="subscribed",this.onContactAgreed&&this.onContactAgreed(c),null===(i=this.eventHandler)||void 0===i||i.dispatch("onContactAgreed",c);break;case 9:c.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(c),null===(a=this.eventHandler)||void 0===a||a.dispatch("onContactRefuse",c);break;default:l.kg.error("handleRosterMsg:",s)}this.onPresence&&c.type&&this.onPresence(c)}},m=n(7252),g=function(e){var t,n,r,o,i,a,c=this.root.lookup("easemob.pb.StatisticsBody").decode(e.payload),u=c.operation,d=c.reason;switch(u){case 0:this.onStatisticMessage&&this.onStatisticMessage(c),null===(t=this.eventHandler)||void 0===t||t.dispatch("onStatisticMessage",c);break;case 1:a=m.Z.create({type:s.E.WEBIM_CONNCTION_USER_REMOVED,message:"user has been removed"}),this.disconnectedReason=a,this.logOut=!0,this.onError&&this.onError(a),null===(n=this.eventHandler)||void 0===n||n.dispatch("onError",a);break;case 2:a=m.Z.create({type:s.E.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE,message:"the user is already logged on another device"}),d&&(a.data={loginInfoCustomExt:c.reason}),this.disconnectedReason=a,this.logOut=!0,this.onError&&this.onError(a),null===(r=this.eventHandler)||void 0===r||r.dispatch("onError",a);break;case 3:a=m.Z.create({type:s.E.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD,message:"the user was kicked by changing password"}),this.disconnectedReason=a,this.logOut=!0,this.onError&&this.onError(a),null===(o=this.eventHandler)||void 0===o||o.dispatch("onError",a);break;case 4:a=m.Z.create({type:s.E.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE,message:"the user was kicked by other device"}),this.disconnectedReason=a,this.logOut=!0,this.onError&&this.onError(a),null===(i=this.eventHandler)||void 0===i||i.dispatch("onError",a);break;default:l.kg.error("handleStatisticsMsg:",c)}},v=(n(9720),n(4024)),y=n(4363),_=n(9937);function E(e){var t,n=[],r=[],o=e.data;o&&o.values&&o.values.forEach((function(e){Object.entries(e.status).forEach((function(e){r.push({device:e[0],status:Number(e[1])})})),n.push({userId:e.uid,lastTime:Number(e.last_time),expire:Number(e.expiry),ext:e.ext,statusDetails:r})})),this.onPresenceStatusChange&&this.onPresenceStatusChange(n),null===(t=this.eventHandler)||void 0===t||t.dispatch("onPresenceStatusChange",n)}function b(e){var t=this;e.data.forEach((function(e){var n,r={from:e.from,to:e.to,chatType:"chat"===e.channel_type?"singleChat":"groupChat",messageId:e.messageId,reactions:e.reactions,ts:e.ts};null===(n=t.eventHandler)||void 0===n||n.dispatch("onReactionChange",r)}))}function T(e){var t,n,r,o;if(e.data){var i=e.data,a={id:i.id||"",name:i.name||"",parentId:i.muc_parent_id||"",messageId:i.msg_parent_id||"",timestamp:i.timestamp||0,operator:i.from||"",operation:""};switch(i.operation){case"create":a.operation="create",a.createTimestamp=a.timestamp,a.messageCount=0,null===(t=this.eventHandler)||void 0===t||t.dispatch("onChatThreadChange",a);break;case"update_msg":a.operation="update",a.messageCount=i.message_count,i.last_message&&"{}"!==JSON.stringify(i.last_message)?a.lastMessage=y.w.call(this,i.last_message):"{}"===JSON.stringify(i.last_message)&&(a.lastMessage={}),null===(n=this.eventHandler)||void 0===n||n.dispatch("onChatThreadChange",a);break;case"update":a.operation="update",a.messageCount=i.message_count,null===(r=this.eventHandler)||void 0===r||r.dispatch("onChatThreadChange",a);break;case"delete":a.operation="destroy",null===(o=this.eventHandler)||void 0===o||o.dispatch("onChatThreadChange",a)}}}function S(e){var t,n=e.data;if(n.resource!==this.clientResource){var r={operation:"deleteRoaming",conversationId:n.to,chatType:"chat"===n.chatType?"singleChat":"groupChat",resource:n.resource};null===(t=this.eventHandler)||void 0===t||t.dispatch("onMultiDeviceEvent",r)}}function w(e){var t,n,r=e.data,o="";if(this.clientResource!==r.res){switch(r.op){case"del":o="deleteConversation";break;case"top":o="pinnedConversation";break;case"not_top":o="unpinnedConversation";break;case"mark":o="markConversation";break;case"mark_delete":o="unMarkConversation";break;case"pin":o="pin";break;case"pin_delete":o="unpin";break;default:return void l.kg.error("unexpected conversation op:",r.op)}if("pin"!==o&&"unpin"!==o){var i={operation:o,conversationId:r.id,conversationType:"chat"===r.type?"singleChat":"groupChat",timestamp:r.ts};"markConversation"!==i.operation&&"unMarkConversation"!==i.operation||r.ext&&(i.conversationMark=_.Z[r.ext]),null===(n=this.eventHandler)||void 0===n||n.dispatch("onMultiDeviceEvent",i)}else{var a=r.ext,s=r.from,c=r.id,u=r.type,d=r.ts,h={messageId:a||"",conversationId:s===this.user?c:s,conversationType:y.U[u],operation:o,operatorId:s,time:d};null===(t=this.eventHandler)||void 0===t||t.dispatch("onMessagePinEvent",h)}}}function C(e){var t,n=this;null===(t=e.values)||void 0===t||t.forEach((function(e){var t,r,o,i,a;if(e.operator_resource!==n.clientResource)if("ignoreInterval"in e.data){var s={operation:"setSilentModeForUser",resource:e.operator_resource,data:e.data};null===(t=n.eventHandler)||void 0===t||t.dispatch("onMultiDeviceEvent",s)}else"group"in e?(s={operation:0===Object.keys(null!==(r=e.data)&&void 0!==r?r:{}).length?"removeSilentModeForConversation":"setSilentModeForConversation",resource:e.operator_resource,conversationId:e.group,type:"groupChat",data:e.data},null===(o=n.eventHandler)||void 0===o||o.dispatch("onMultiDeviceEvent",s)):(s={operation:0===Object.keys(null!==(i=e.data)&&void 0!==i?i:{}).length?"removeSilentModeForConversation":"setSilentModeForConversation",resource:e.operator_resource,conversationId:e.user,type:"singleChat",data:e.data},null===(a=n.eventHandler)||void 0===a||a.dispatch("onMultiDeviceEvent",s))}))}var R=function(e){var t=v.P6.parseNotify(e.payload);switch(t.type){case"presence":E.call(this,t);break;case"reaction":b.call(this,t);break;case"thread":T.call(this,t);break;case"roaming_delete":S.call(this,t);break;case"conv":w.call(this,t);break;case"user_notification_mute":C.call(this,t);break;default:l.kg.error("unexpected notify type: ".concat(t.type))}},I=n(7288),A=n(9743),O=2,N=n(4998),k=n(6801),D=n(2071),x=n(1595),P=n(4319);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var L,U,j,V,B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},B.apply(this,arguments)},z=function(e,t,n,r){return new(n||(n=Promise))((function(t,o){function i(e){try{s(r.next(e))}catch(t){o(t)}}function a(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}s((r=r.apply(e,[])).next())}))},F=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},H=function(e,t,n){for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};(V=L||(L={}))[V.NORMAL=0]="NORMAL",V[V.SINGLECHAT=1]="SINGLECHAT",V[V.GROUPCHAT=2]="GROUPCHAT",V[V.CHATROOM=3]="CHATROOM",V[V.READ_ACK=4]="READ_ACK",V[V.DELIVER_ACK=5]="DELIVER_ACK",V[V.RECALL=6]="RECALL",V[V.CHANNEL_ACK=7]="CHANNEL_ACK",V[V.EDIT=8]="EDIT",function(e){e[e.APNs=0]="APNs",e[e.FCM=1]="FCM",e[e.HMSPUSH=2]="HMSPUSH",e[e.MIPUSH=3]="MIPUSH",e[e.MEIZUPUSH=4]="MEIZUPUSH",e[e.VIVOPUSH=5]="VIVOPUSH",e[e.OPPOPUSH=6]="OPPOPUSH",e[e.HONORPUSH=7]="HONORPUSH"}(U||(U={})),function(e){e[e.OK=0]="OK",e[e.FAIL=1]="FAIL",e[e.UNAUTHORIZED=2]="UNAUTHORIZED",e[e.MISSING_PARAMETER=3]="MISSING_PARAMETER",e[e.WRONG_PARAMETER=4]="WRONG_PARAMETER",e[e.REDIRECT=5]="REDIRECT",e[e.TOKEN_EXPIRED=6]="TOKEN_EXPIRED",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.NO_ROUTE=8]="NO_ROUTE",e[e.UNKNOWN_COMMAND=9]="UNKNOWN_COMMAND",e[e.PB_PARSER_ERROR=10]="PB_PARSER_ERROR",e[e.BIND_ANOTHER_DEVICE=11]="BIND_ANOTHER_DEVICE",e[e.IM_FORBIDDEN=12]="IM_FORBIDDEN",e[e.TOO_MANY_DEVICES=13]="TOO_MANY_DEVICES",e[e.PLATFORM_LIMIT=14]="PLATFORM_LIMIT",e[e.USER_MUTED=15]="USER_MUTED",e[e.ENCRYPT_DISABLE=16]="ENCRYPT_DISABLE",e[e.ENCRYPT_ENABLE=17]="ENCRYPT_ENABLE",e[e.DECRYPT_FAILURE=18]="DECRYPT_FAILURE",e[e.PERMISSION_DENIED_EXTERNAL=19]="PERMISSION_DENIED_EXTERNAL"}(j||(j={}));var G=["txt","img","video","audio","file","loc","custom","cmd","combine"],W=v.P6.getEnvInfo();function q(){var e="webim",t="",n="",r=[],o=(new Date).valueOf(),i=v.P6.getDevicePlatform(W);if(this.isFixedDeviceId){var a=v.P6.getLocalDeviceInfo();if(a){var s=JSON.parse(a);e=s.deviceId,t=s.deviceName,n=s.deviceUuid}else"webim"===this.deviceId?(n="".concat(i,"_").concat(o.toString()),e="".concat(this.deviceId,"_").concat(n),t=this.deviceId):e=t=n="webim_".concat(i,"_").concat(this.deviceId),v.P6.setLocalDeviceInfo(JSON.stringify({deviceId:e,deviceName:t,deviceUuid:n}))}else"webim"===this.deviceId?(n="random_".concat(i,"_").concat(o.toString()),e="".concat(this.deviceId,"_").concat(n),t=this.deviceId):e=t=n="webim_".concat(i,"_").concat(this.deviceId);this.context.jid&&(this.context.jid.clientResource=e);var c=this.root.lookup("easemob.pb.Provision"),u=c.decode(r);u.compressType=this.compressType,u.encryptType=this.encryptType,u.osType=this.osType,u.version=this.version,u.deviceName=t,u.resource=e,u.deviceUuid=n,u.authToken='{"token":"$t$'+this.token+'"}',u.sessionId=Date.now().toString()+":",this.loginInfoCustomExt&&(u.reason=this.loginInfoCustomExt),l.kg.debug("provision info",{version:this.version,resource:e,isFixedDeviceId:this.isFixedDeviceId,loginInfoCustomExt:!!this.loginInfoCustomExt,token:!!this.token}),u.actionVersion="v5.0",u=c.encode(u).finish();var d=this.root.lookup("easemob.pb.MSync"),h=d.decode(r);return h.version=this.version,h.guid=this.context.jid,h.auth="$t$"+this.token,h.command=3,h.deviceId=t,h.serviceId=this.dataReport.getServiceId(),h.encryptType=this.encryptType,h.payload=u,d.encode(h).finish()}function K(e,t){var n=this,r=v.P6.getEnvInfo();if("web"===r.platform||"zfb"===r.platform||"dd"===r.platform){for(var i="",a=0;a<e.length;a++)i+=String.fromCharCode(e[a]);return i=o().btoa(i),"web"===r.platform?i:{data:i,isBuffer:!1,complete:function(){},fail:function(e){"sendSocketMessage:fail taskID not exist"!==e.errMsg&&"SocketTast.send:fail SocketTask.readyState is not OPEN"!==e.errMsg||(l.kg.debug("send message fail and reconnect"),n.reconnecting||n.reconnect()),t&&n._msgHash&&n._msgHash[t]&&n._msgHash[t].fail({id:t})}}}var s=e;return{data:s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength),fail:function(e){"sendSocketMessage:fail taskID not exist"!==e.errMsg&&"SocketTast.send:fail SocketTask.readyState is not OPEN"!==e.errMsg||n.reconnecting||n.reconnect(),t&&n._msgHash&&n._msgHash[t]&&n._msgHash[t].fail({id:t})}}}function Y(e,t){var n;return z(this,void 0,void 0,(function(){var r,o,i,s,u,d;return F(this,(function(h){switch(h.label){case 0:for(l.kg.debug("distributeMeta, metas length: ",e.length),r=[],o=function(n){var o=e[n],s=new(a())(o.id.low,o.id.high,o.id.unsigned).toString(),u=o.from.name,d=o.to?o.to.name:"",h=!!o.to&&-1!==o.to.domain.indexOf("conference");if(i._load_msg_cache.some((function(e){return e.msgId===s})))return"continue";switch(i._load_msg_cache.length<=i.max_cache_length||i._load_msg_cache.shift(),i._load_msg_cache.push({msgId:s,from:u,to:d,isGroup:h}),o.ns){case 0:g.call(i,o);break;case 1:r.push(c.Z.call(i,o,t,!1,!0,!0));break;case 2:p.call(i,o);break;case 3:f.handleRosterMsg.call(i,o);break;case 4:i.registerConfrIQHandler&&i.registerConfrIQHandler(o,t,i);break;case 5:R.call(i,o);break;default:l.kg.error("distributeMeta",o)}},i=this,s=0;s<e.length;s++)o(s);return[4,Promise.all(r)];case 1:return u=h.sent(),(d=u.filter((function(e){return e&&"cmd"!==e.type}))).length>0&&(null===(n=this.eventHandler)||void 0===n||n.dispatch("onMessage",d)),[2]}}))}))}function X(e,t){Y.call(this,e,t)}function $(e){var t;this._offlineMessagePullState===N.a.SYNC_INIT&&(this._offlineMessagePullState=N.a.SYNC_START,this._offlineMessagePullQueue=e.unread.reduce((function(e,t){return e.find((function(e){return e.name===t.queue.name}))||e.push(t.queue),e}),[]),null===(t=this.eventHandler)||void 0===t||t.dispatch("onOfflineMessageSyncStart"))}function J(e){var t;if(this._offlineMessagePullState===N.a.SYNC_START){var n=this._offlineMessagePullQueue.findIndex((function(t){return t.name===e.queue.name}));n>-1&&this._offlineMessagePullQueue.splice(n,1),0===this._offlineMessagePullQueue.length&&(this._offlineMessagePullState=N.a.SYNC_FINISH,null===(t=this.eventHandler)||void 0===t||t.dispatch("onOfflineMessageSyncFinish"))}}function Z(e){var t=this.root.lookup("easemob.pb.CommUnreadDL");t=t.decode(e.payload);var n=new(a())(t.timestamp.low,t.timestamp.high,t.timestamp.unsigned).toString();if(this.expirationTime&&this.compareTokenExpireTime(Number(n),this.expirationTime),0===t.unread.length)ce.call(this);else{$.call(this,t),l.kg.debug("pull unread message",t.unread);for(var r=0;r<t.unread.length;r++){var o=pe(this._queues,t.unread[r].queue),i=pe(this.unSyncQueue,t.unread[r].queue);o||i?l.kg.warn("receive unread message and already in queue"):this.unSyncQueue.push(t.unread[r].queue)}for(r=0;r<this.unSyncQueue.length;r++)this.unSyncQueue[r].hasSync||te.call(this,this.unSyncQueue[r]),this.unSyncQueue[r].hasSync=!0}ce.call(this)}function Q(){var e=[],t=this.root.lookup("easemob.pb.StatisticsBody"),n=t.decode(e);n.operation=0,n=t.encode(n).finish();var r=this.root.lookup("easemob.pb.Meta").decode(e);r.id=(new Date).valueOf(),r.ns=0,r.payload=n;var o=this.root.lookup("easemob.pb.CommSyncUL"),i=o.decode(e);i.meta=r,i=o.encode(i).finish();var a=this.root.lookup("easemob.pb.MSync"),s=a.decode(e);return s.version=this.version,s.encryptType=[0],s.command=0,s.payload=i,a.encode(s).finish()}function ee(e){var t=[],n=this.root.lookup("easemob.pb.CommSyncUL"),r=n.decode(t);r.queue=e,r=n.encode(r).finish();var o=this.root.lookup("easemob.pb.MSync"),i=o.decode(t);return i.version=this.version,i.encryptType=this.encryptType,i.command=0,i.payload=r,o.encode(i).finish()}function te(e){l.kg.debug("sendBackqueue");var t=ee.call(this,e);Re.call(this,t)}function ne(e,t){var n=[],r=this.root.lookup("easemob.pb.CommSyncUL"),o=r.decode(n);o.queue=t,o.key=new(a())(e.low,e.high,e.unsigned).toString(),o=r.encode(o).finish();var i=this.root.lookup("easemob.pb.MSync"),s=i.decode(n);return s.version=this.version,s.encryptType=this.encryptType,s.command=0,s.payload=o,i.encode(s).finish()}function re(){var e=this;this.uniPush&&!1===this.isRegisterPush&&(this.isRegisterPush=!0,this.uniPush.onRegister((function(t){l.kg.debug("push token onRegister",t);var n=e.uniPushConfig||{},r=n.APNsCertificateName,o=void 0===r?"":r,i=n.HMSCertificateName,a=void 0===i?"":i,s=n.HONORCertificateName,c=void 0===s?"":s,u=n.MEIZUCertificateName,d=void 0===u?"":u,h=n.MICertificateName,p=void 0===h?"":h,f=n.OPPOCertificateName,m=void 0===f?"":f,g=n.VIVOCertificateName,v=void 0===g?"":g;switch(t.push_type){case U.APNs:e.pushCertificateName=o;break;case U.HMSPUSH:e.pushCertificateName=a;break;case U.HONORPUSH:e.pushCertificateName=c;break;case U.MEIZUPUSH:e.pushCertificateName=d;break;case U.MIPUSH:e.pushCertificateName=p;break;case U.OPPOPUSH:e.pushCertificateName=m;break;case U.VIVOPUSH:e.pushCertificateName=v;break;default:l.kg.error("unexpected push type",t.push_type)}e.pushCertificateName&&t.push_token&&k.r.call(e,{deviceId:e.clientResource,deviceToken:t.push_token,notifierName:e.pushCertificateName}).then((function(){l.kg.debug("uploadPushToken success")})).catch((function(e){l.kg.debug("uploadPushToken failed",e)}))})))}function oe(){var e;this._offlineMessagePullState=N.a.SYNC_INIT,this._offlineMessagePullQueue=[],this.times=1,this.autoReconnectNumTotal=0,this.onOpened&&this.onOpened(),re.call(this),null===(e=this.eventHandler)||void 0===e||e.dispatch("onConnected"),se.call(this),ue.call(this),le.call(this),ce.call(this)}function ie(e,t){l.kg.debug("sendLastSession",e);var n=ne.call(this,e,t);Re.call(this,n)}function ae(e){var t,n,r,o,i,a,c,u,d,h,p,f,g,v,y=this,_=this.root.lookup("easemob.pb.Provision").decode(e.payload);if(this.context.jid&&(this.context.jid.clientResource=_.resource),this.clientResource=_.resource,this.provisionTimer&&clearTimeout(this.provisionTimer),l.kg.debug("receiveProvisionResult",_.status),this._isLogging=!1,_.status.errorCode===j.OK){if(this.disconnectedReason=void 0,_.authToken){var E=JSON.parse(_.authToken).expires_in;if(!this.tokenExpiredTimer&&!this.tokenWillExpireTimer){var b=Date.now();this.expirationTime=E;var T=this.expirationTime-b;this.expiresIn=T<0?0:T,this.tokenExpireTimeCountDown(this.expiresIn)}}this.reconnecting=!1,this.logOut=!1,"zfb"!==W.platform&&"dd"!==W.platform||(this.sock.readyState=1),this._localCache?(null===(t=this._localCache)||void 0===t?void 0:t.getInstance())?oe.call(this):this._localCache&&new this._localCache({user:this.user,dbName:"cache_".concat(Math.abs((0,A.un)(this.appKey)),"_").concat(this.user),version:O,onInit:function(){return z(y,void 0,void 0,(function(){return F(this,(function(e){return l.kg.debug("localCache init success"),oe.call(this),[2]}))}))}}):oe.call(this),null===(n=this.connectionResolve)||void 0===n||n.call(this)}else{var S=void 0,w=_.status,C=w.reason,R=w.errorCode;switch(l.kg.debug("provision errorCode: ",R),l.kg.debug("provision reason: ",C),R){case j.FAIL:S="Sorry, user register limit"===C?m.Z.create({type:s.E.MAX_LIMIT,message:"Sorry, the number of user registrations limit has been reached"}):"Sorry, user register rate limit"===C?m.Z.create({type:s.E.MAX_LIMIT,message:"Sorry, user register rate limit"}):"Sorry, token expired"===C?m.Z.create({type:s.E.WEBIM_TOKEN_EXPIRED,message:"Sorry, token expired"}):"Sorry, token or password does not match login info"===C?m.Z.create({type:s.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"INVALID_TOKEN"}):"Sorry, user not found"===C?m.Z.create({type:s.E.USER_NOT_FOUND,message:"User not found"}):m.Z.create({type:s.E.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),null===(r=this.connectionReject)||void 0===r||r.call(this,S),null===(o=this.eventHandler)||void 0===o||o.dispatch("onError",S);break;case j.WRONG_PARAMETER:S=m.Z.create({type:s.E.REQUEST_PARAMETER_ERROR,message:"Invalid parameter"}),null===(i=this.connectionReject)||void 0===i||i.call(this,S),null===(a=this.eventHandler)||void 0===a||a.dispatch("onError",S);break;case j.UNAUTHORIZED:S=m.Z.create({type:s.E.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),null===(c=this.connectionReject)||void 0===c||c.call(this,S),null===(u=this.eventHandler)||void 0===u||u.dispatch("onError",S);break;case j.IM_FORBIDDEN:S=m.Z.create({type:s.E.WEBIM_SERVER_SERVING_DISABLED,message:"Server serving disabled."}),null===(d=this.connectionReject)||void 0===d||d.call(this,S),null===(h=this.eventHandler)||void 0===h||h.dispatch("onError",S);break;case j.PERMISSION_DENIED:S="Sorry, the app month live count limit"===C?m.Z.create({type:s.E.MAX_LIMIT,message:"Sorry, the monthly active user limit for this app has been reached"}):"Sorry, the app day live count limit"===C?m.Z.create({type:s.E.MAX_LIMIT,message:"Sorry, the daily active user limit for this app has been reached"}):"Sorry, the app online count limit"===C?m.Z.create({type:s.E.MAX_LIMIT,message:"Sorry, the maximum number limit of online users for this app has been reached"}):m.Z.create({type:s.E.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),null===(p=this.connectionReject)||void 0===p||p.call(this,S),null===(f=this.eventHandler)||void 0===f||f.dispatch("onError",S);break;default:S=m.Z.create({type:s.E.WEBIM_CONNCTION_AUTH_ERROR,message:C}),null===(g=this.connectionReject)||void 0===g||g.call(this,S),null===(v=this.eventHandler)||void 0===v||v.dispatch("onError",S)}this.disconnectedReason=S}}function se(){var e,t;if((null===(e=this.unMSyncSendMsgMap)||void 0===e?void 0:e.size)>0){for(var n=Array.from(this.unMSyncSendMsgMap.keys()),r=0;r<n.length;r++){var o=this.unMSyncSendMsgMap.get(n[r]);Re.call(this,o,n[r])}null===(t=this.unMSyncSendMsgMap)||void 0===t||t.clear()}}function ce(){var e=Q.call(this);Re.call(this,e)}function le(){l.kg.debug("sendUnreadDeal");var e=he.call(this);Re.call(this,e)}function ue(){var e=this;de.call(this),this.heartBeatID=setInterval((function(){(Date.now()-e.lastHeartbeat)/1e3>=30&&(l.kg.debug("send heart beat"),le.call(e),e.lastHeartbeat=Date.now())}),this.heartBeatWait)}function de(){clearInterval(this.heartBeatID)}function he(){var e=this.root.lookup("easemob.pb.MSync"),t=e.decode([]);return t.version=this.version,t.encryptType=this.encryptType,t.command=1,e.encode(t).finish()}function pe(e,t){return e.some((function(e){return e.name===t.name}))}function fe(e){var t=this.root.lookup("easemob.pb.CommNotice"),n=t.decode(e.payload),r=pe(this._queues,n.queue);l.kg.debug("receive notice",t,this._queues);var o=pe(this.unSyncQueue,n.queue);r||o||this.clientResource===n.queue.clientResource&&n.queue.name===this.context.userId||(this._queues.push(n.queue),1===this._queues.length&&te.call(this,n.queue))}function me(e){return z(this,void 0,void 0,(function(){var t,n,r,i,a,s,c,l;return F(this,(function(u){if(t=v.P6.getEnvInfo(),n=this.root.lookup("easemob.pb.MSync"),"miniCore"===this.name){try{i=new Uint8Array(e.data),r=n.decode(i)}catch(d){throw new Error("decode message fail.")}return[2,r]}if("web"===t.platform||"zfb"===t.platform||"dd"===t.platform){for(a=o().atob(e.data),s=[],c=0,l=a.length;c<l;++c)s.push(a.charCodeAt(c));return[2,n.decode(s)]}try{r=n.decode(e.data)}catch(d){throw new Error("decode message fail.")}return[2,r]}))}))}function ge(e){var t=this;this.lastHeartbeat=Date.now(),this.probingTimer&&clearTimeout(this.probingTimer),e.then((function(e){if(e)switch(e.command){case 0:ve.call(t,e);break;case 1:Z.call(t,e);break;case 2:fe.call(t,e);break;case 3:ae.call(t,e);break;default:l.kg.error("unexpected msync command: ".concat(e.command))}else l.kg.error("unexpected msync result: ".concat(e))}))}function ve(e){var t,n,r,o,i,u,d,h,p,f,g,y,_,E,b,T,S,w,C,R,A,O,N,k,P,M,L,U,j,V,H,G,W,q,K,Y,$,Z,Q,ee,ne,re,oe,ae,se,ce;return z(this,void 0,void 0,(function(){var z,le,ue,de,he,pe,fe,me,ge,ve,ye,_e,Ee,be,Te,Se,we,Ce,Re,Ie,Ae,Oe,Ne,ke,De,xe,Pe,Me,Le,Ue,je,Ve,Be,ze,Fe,He,Ge,We,qe,Ke,Ye,Xe,$e,Je=this;return F(this,(function(F){switch(F.label){case 0:if(z=(z=this.root.lookup("easemob.pb.CommSyncDL")).decode(e.payload),le=new(a())(z.serverId.low,z.serverId.high,z.serverId.unsigned).toString(),ue=new(a())(z.metaId.low,z.metaId.high,z.metaId.unsigned).toString(),!(Number(ue)>0))return[3,23];if(clearTimeout(null===(t=this._msgHash[ue])||void 0===t?void 0:t.messageTimer),!z.status)return[3,22];if(0!==z.status.errorCode)return[3,21];if(null==(de=this._msgHash[ue])?void 0:de.isHandleChatroom){try{he="join"===(null===(n=this._msgHash[ue])||void 0===n?void 0:n.operation),(null===(r=this._msgHash[ue])||void 0===r?void 0:r.resolve)instanceof Function&&he&&this._msgHash[ue].resolve({type:0,data:{action:"apply",id:this._msgHash[ue].roomId,result:!0,user:this.context.userId}}),(null===(o=this._msgHash[ue])||void 0===o?void 0:o.success)instanceof Function&&he&&this._msgHash[ue].success({type:0,data:{action:"apply",id:this._msgHash[ue].roomId,result:!0,user:this.context.userId}}),(null===(i=this._msgHash[ue])||void 0===i?void 0:i.resolve)instanceof Function&&!he&&this._msgHash[ue].resolve({type:0,data:{result:!0}}),(null===(u=this._msgHash[ue])||void 0===u?void 0:u.success)instanceof Function&&!he&&this._msgHash[ue].success({type:0,data:{result:!0}}),D.iO.has(ue)&&(pe=D.iO.get(ue),Fe=pe.rpt,He=pe.requestName,Fe({isEndApi:!0,data:{isSuccess:1,requestName:He,requestMethod:"WEBSOCKET",requestUrl:this.url,code:x.dd.success}}),D.iO.delete(ue))}catch(Ze){D.iO.has(ue)&&(fe=D.iO.get(ue),Fe=fe.rpt,He=fe.requestName,Fe({isEndApi:!0,data:{isSuccess:0,requestName:He,requestMethod:"WEBSOCKET",requestUrl:this.url,code:x.dd.failed,codeDesc:"when executing success function error"}}),D.iO.delete(ue)),We=m.Z.create({type:s.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:Ze}),this.onError&&this.onError(We),null===(d=this.eventHandler)||void 0===d||d.dispatch("onError",We)}delete this._msgHash[ue]}return!de||de.isHandleChatroom?[3,20]:(me=null,ge="",ve=0,ye=null,this._msgHash[ue].thirdMessage?(this._msgHash[ue].thirdMessage.id=z.serverId,this._msgHash[ue].thirdMessage.timestamp=z.timestamp,[4,c.Z.call(this,this._msgHash[ue].thirdMessage,z.status,!0,!0)]):[3,2]);case 1:ye=F.sent(),F.label=2;case 2:if(0===z.metas.length)return[3,13];F.label=3;case 3:switch(F.trys.push([3,12,,13]),_e=z.metas[0],Ee=z.status,_e.ns){case 1:return[3,4];case 5:return[3,9]}return[3,10];case 4:return this.useReplacedMessageContents?[4,c.Z.call(this,_e,Ee,!0,!0)]:[3,8];case 5:return ye=F.sent(),[4,null===(p=null===(h=this._localCache)||void 0===h?void 0:h.getInstance())||void 0===p?void 0:p.getMessageByServerMsgId(ue)];case 6:return(be=F.sent())?[4,null===(g=null===(f=this._localCache)||void 0===f?void 0:f.getInstance())||void 0===g?void 0:g.putMessageToDB(B(B(B({},be),ye),{id:ue}))]:[3,8];case 7:F.sent(),F.label=8;case 8:return[3,11];case 9:return(Te=v.P6.parseNotify(z.metas[0].payload)).edit_msg&&(Se=Te.edit_msg,we=Se.count,Ce=Se.operator,Re=Se.edit_time,Ie=Se.sender,Ae=Se.send_time,me={operationTime:Re,operatorId:Ce,operationCount:we},ge=Ie,ve=Number(Ae)),[3,11];case 10:return l.kg.error("decode local meta error",_e),[3,11];case 11:return[3,13];case 12:return Oe=F.sent(),We=m.Z.create({type:s.E.WEBIM_LOAD_MSG_ERROR,message:"decode local meta message error",data:Oe}),this.onError&&this.onError(We),null===(y=this.eventHandler)||void 0===y||y.dispatch("onError",We),[3,13];case 13:D.TJ.has(ue)&&(D.TJ.get(ue).rpt({isEndApi:!0,data:{isSuccess:1,requestMethod:"WEBSOCKET",requestUrl:this.url,code:x.dd.success,msgId:le}}),D.TJ.delete(ue)),F.label=14;case 14:return F.trys.push([14,18,,19]),Ne={localMsgId:ue,serverMsgId:le},me&&(this._msgHash[ue].modifiedInfo=me,ke=this._msgHash[ue],De=ke.editMessageId,Ve=ke.type,xe=ke.chatType,Pe=ke.msg,Me=ke.to,Le=ke.translations,Ue={id:De,type:Ve,chatType:xe,msg:Pe,modifiedInfo:me,to:Me,from:ge,time:Number(ve)},Le&&(Ue.translations=Le),Ne.message=Ue,null===(b=null===(E=null===(_=this._localCache)||void 0===_?void 0:_.getInstance())||void 0===E?void 0:E.getMessageByServerMsgId(De))||void 0===b||b.then((function(e){var t,n;e&&"txt"===e.type&&(null===(n=null===(t=Je._localCache)||void 0===t?void 0:t.getInstance())||void 0===n||n.putMessageToDB(B(B({},e),{msg:Ue.msg,modifiedInfo:Ue.modifiedInfo,translations:Ue.translations})))}))),ye&&(Ne.message=ye),[4,null===(S=null===(T=this._localCache)||void 0===T?void 0:T.getInstance())||void 0===S?void 0:S.updateLocalMessage(ue,{serverMsgId:le,status:I.r.SUCCESS})];case 15:return F.sent(),(null===(w=this._msgHash[ue])||void 0===w?void 0:w.success)instanceof Function?[4,this._msgHash[ue].success(ue,le)]:[3,17];case 16:F.sent(),F.label=17;case 17:return(null===(C=this._msgHash[ue])||void 0===C?void 0:C.resolve)instanceof Function&&this._msgHash[ue].resolve(Ne),[3,19];case 18:return je=F.sent(),We=m.Z.create({type:s.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:je}),this.onError&&this.onError(We),null===(R=this.eventHandler)||void 0===R||R.dispatch("onError",We),[3,19];case 19:this.onReceivedMessage&&this.onReceivedMessage({id:ue,mid:le,to:this._msgHash[ue].to,time:0}),null===(A=this.eventHandler)||void 0===A||A.dispatch("onReceivedMessage",{id:ue,mid:le,to:this._msgHash[ue].to}),delete this._msgHash[ue],F.label=20;case 20:return[3,22];case 21:if(15===z.status.errorCode)(null===(O=this._msgHash[ue])||void 0===O?void 0:O.fail)instanceof Function&&this._msgHash[ue].fail({type:s.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"}),this._msgHash[ue].reject instanceof Function&&this._msgHash[ue].reject({type:s.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"}),null===(k=null===(N=this._localCache)||void 0===N?void 0:N.getInstance())||void 0===k||k.updateLocalMessage(ue,{serverMsgId:le,status:I.r.FAIL});else if(1===z.status.errorCode){switch(Ve=void 0,z.status.reason){case"blocked":Ve=s.E.PERMISSION_DENIED;break;case"group not found":Ve=s.E.GROUP_NOT_EXIST;break;case"not in group or chatroom":Ve=s.E.GROUP_NOT_JOINED;break;case"exceed recall time limit":Ve=s.E.MESSAGE_RECALL_TIME_LIMIT;break;case"message recall disabled":Ve=s.E.SERVICE_NOT_ENABLED;break;case"not in group or chatroom white list":Ve=s.E.SERVICE_NOT_ALLOW_MESSAGING;break;case"nonroster":Ve=s.E.USER_NOT_FRIEND,z.status.reason="not contact";break;case"group is disabled":Ve=s.E.GROUP_IS_DISABLED,z.status.reason="group is disabled";break;case"limit directed users":Ve=s.E.MAX_LIMIT;break;case"Sorry, edit limit reached":Ve=s.E.MAX_LIMIT,z.status.reason="Modify message limit reached";break;case"Sorry, message does not exist":Ve=s.E.MODIFY_MESSAGE_NOT_EXIST,z.status.reason="The message does not exist.";break;case"Sorry, You do not have permission":Ve=s.E.PERMISSION_DENIED,z.status.reason="You do not have the modified permission.";break;case"Sorry, format is incorrect":Ve=s.E.MODIFY_MESSAGE_FORMAT_ERROR,z.status.reason="The modify messaged format error.";break;case"Sorry, edit is not available":Ve=s.E.SERVICE_NOT_ENABLED,z.status.reason="The message modify function is not activated.";break;case"Sorry, edit fail":Ve=s.E.MODIFY_MESSAGE_FAILED,z.status.reason="Modify message failed.";break;default:z.status.reason.includes("grpID")&&z.status.reason.includes("does not exist!")?(Ve=s.E.CHATROOM_NOT_EXIST,z.status.reason="The chat room dose not exist."):z.status.reason.includes("username")&&z.status.reason.includes("doesn't exist!")?Ve=s.E.USER_NOT_FOUND:"group member list is full!"===z.status.reason?Ve=s.E.CHATROOM_MEMBERS_FULL:z.status.reason.includes("can not join this group")&&z.status.reason.includes("is in the blacklist")?(Ve=s.E.PERMISSION_DENIED,z.status.reason="permission denied"):"can not operate this group, reason: group is disabled"===z.status.reason?Ve=s.E.GROUP_IS_DISABLED:z.status.reason.includes("moderation")?Ve=s.E.MESSAGE_MODERATION_BLOCKED:z.status.reason.includes("group ID illegal, please check it")?(Ve=s.E.REQUEST_PARAMETER_ERROR,z.status.reason="Invalid parameter"):Ve=z.status.reason.includes("has create too many chatrooms")||z.status.reason.includes("has joined too many chatrooms")?s.E.MAX_LIMIT:z.status.reason.includes("auto create failed")?s.E.SERVER_BUSY:s.E.SERVER_UNKNOWN_ERROR}this._msgHash[ue]&&((null===(P=this._msgHash[ue])||void 0===P?void 0:P.isHandleChatroom)?(Ge=m.Z.create({type:Ve,message:z.status.reason||"",data:""}),this._msgHash[ue].reject instanceof Function&&this._msgHash[ue].reject(Ge),this._msgHash[ue].error instanceof Function&&this._msgHash[ue].error(Ge),D.iO.has(ue)&&(Be=x.dd.failed,Ve===s.E.CHATROOM_NOT_EXIST?Be=x.dd.notFound:Ve===s.E.CHATROOM_MEMBERS_FULL&&(Be=x.dd.reachLimit),ze=D.iO.get(ue),Fe=ze.rpt,He=ze.requestName,Fe({isEndApi:!0,data:{isSuccess:0,requestName:He,requestMethod:"WEBSOCKET",requestUrl:this.url,code:Be,codeDesc:z.status.reason}}),D.iO.delete(ue))):(Ge=m.Z.create({type:Ve,message:z.status.reason||"",data:{id:ue,mid:le}}),this._msgHash[ue].reject instanceof Function&&this._msgHash[ue].reject(Ge),this._msgHash[ue].fail instanceof Function&&this._msgHash[ue].fail({type:Ve,reason:z.status.reason?z.status.reason:"",data:{id:ue,mid:le}}),null===(L=null===(M=this._localCache)||void 0===M?void 0:M.getInstance())||void 0===L||L.updateLocalMessage(ue,{serverMsgId:le,status:I.r.FAIL})),delete this._msgHash[ue])}else if(7===z.status.errorCode)"sensitive words"===z.status.reason&&this._msgHash[ue]?(Ge=m.Z.create({type:s.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"sensitive words",data:{id:ue,mid:le}}),this._msgHash[ue].reject instanceof Function&&this._msgHash[ue].reject(Ge),this._msgHash[ue].fail instanceof Function&&this._msgHash[ue].fail({type:s.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:ue,mid:le,reason:"sensitive words"}}),null===(j=null===(U=this._localCache)||void 0===U?void 0:U.getInstance())||void 0===j||j.updateLocalMessage(ue,{serverMsgId:le,status:I.r.FAIL})):"blocked by mod_antispam"===z.status.reason&&this._msgHash[ue]?(Ge=m.Z.create({type:s.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"blocked by mod_antispam",data:{id:ue,mid:le}}),this._msgHash[ue].reject instanceof Function&&this._msgHash[ue].reject(Ge),this._msgHash[ue].fail instanceof Function&&this._msgHash[ue].fail({type:s.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:ue,mid:le,reason:"blocked by mod_antispam"}}),null===(H=null===(V=this._localCache)||void 0===V?void 0:V.getInstance())||void 0===H||H.updateLocalMessage(ue,{serverMsgId:le,status:I.r.FAIL})):"user is mute"===z.status.reason&&this._msgHash[ue]?(Ge=m.Z.create({type:s.E.USER_MUTED_BY_ADMIN,message:"user is mute",data:{id:ue,mid:le}}),this._msgHash[ue].reject instanceof Function&&this._msgHash[ue].reject(Ge),this._msgHash[ue].fail instanceof Function&&this._msgHash[ue].fail(Ge),null===(W=null===(G=this._localCache)||void 0===G?void 0:G.getInstance())||void 0===W||W.updateLocalMessage(ue,{serverMsgId:le,status:I.r.FAIL})):"traffic limit"===z.status.reason&&this._msgHash[ue]?(Ge=m.Z.create({type:s.E.MESSAGE_CURRENT_LIMITING,message:"traffic limit",data:{id:ue,mid:le}}),this._msgHash[ue].reject instanceof Function&&this._msgHash[ue].reject(Ge),this._msgHash[ue].fail instanceof Function&&this._msgHash[ue].fail(Ge),null===(K=null===(q=this._localCache)||void 0===q?void 0:q.getInstance())||void 0===K||K.updateLocalMessage(ue,{serverMsgId:le,status:I.r.FAIL})):"Sorry, data is too large"===z.status.reason&&this._msgHash[ue]&&(Ge=m.Z.create({type:s.E.MESSAGE_SIZE_LIMIT,message:"Sorry, data is too large",data:{id:ue,mid:le}}),this._msgHash[ue].reject instanceof Function&&this._msgHash[ue].reject(Ge),this._msgHash[ue].fail instanceof Function&&this._msgHash[ue].fail(Ge),null===($=null===(Y=this._localCache)||void 0===Y?void 0:Y.getInstance())||void 0===$||$.updateLocalMessage(ue,{serverMsgId:le,status:I.r.FAIL}));else if(19===z.status.errorCode)this._msgHash[ue]&&(D.TJ.has(ue)&&(D.TJ.get(ue).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:s.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,codeDesc:z.status.reason||"",msgId:le}}),D.TJ.delete(ue)),Ge=m.Z.create({type:s.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,message:z.status.reason||"",data:{id:ue,mid:le}}),this._msgHash[ue].reject instanceof Function&&this._msgHash[ue].reject(Ge),this._msgHash[ue].fail instanceof Function&&this._msgHash[ue].fail({type:s.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,data:{id:ue,mid:le,reason:z.status.reason}}),null===(Q=null===(Z=this._localCache)||void 0===Z?void 0:Z.getInstance())||void 0===Q||Q.updateLocalMessage(ue,{serverMsgId:le,status:I.r.FAIL}));else if(this._msgHash[ue]){D.TJ.has(ue)&&(D.TJ.get(ue).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:s.E.WEBIM_LOAD_MSG_ERROR,codeDesc:(null===(ee=z.status)||void 0===ee?void 0:ee.reason)||"",msgId:le}}),D.TJ.delete(ue));try{Ge=m.Z.create({type:s.E.WEBIM_LOAD_MSG_ERROR,message:(null===(ne=z.status)||void 0===ne?void 0:ne.reason)||"",data:{id:ue,mid:le,reason:z.status&&z.status.reason}}),this._msgHash[ue].reject instanceof Function&&this._msgHash[ue].reject(Ge),null===(oe=null===(re=this._localCache)||void 0===re?void 0:re.getInstance())||void 0===oe||oe.updateLocalMessage(ue,{serverMsgId:le,status:I.r.FAIL}),this._msgHash[ue].fail instanceof Function&&this._msgHash[ue].fail({type:s.E.WEBIM_LOAD_MSG_ERROR,data:{errorCode:z.status&&z.status.errorCode,reason:z.status&&z.status.reason}})}catch(Ze){We=m.Z.create({type:s.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing fail function error",data:Ze}),this.onError&&this.onError(We),null===(ae=this.eventHandler)||void 0===ae||ae.dispatch("onError",We)}delete this._msgHash[ue]}else D.TJ.has(ue)&&(D.TJ.get(ue).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:s.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,codeDesc:"on message error",msgId:le}}),D.TJ.delete(ue)),We=m.Z.create({type:s.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"on message error"}),this.onError&&this.onError(We),null===(se=this.eventHandler)||void 0===se||se.dispatch("onError",We);F.label=22;case 22:return[2];case 23:if(z.metas&&0!==z.metas.length)try{X.call(this,z.metas,z.status)}catch(Ze){We=m.Z.create({type:s.E.WEBIM_LOAD_MSG_ERROR,message:"decode message error",data:Ze}),l.kg.error("decode message error",Ze),this.onError&&this.onError(We),null===(ce=this.eventHandler)||void 0===ce||ce.dispatch("onError",We)}finally{z.isLast?(l.kg.debug("metas & CommSyncDLMessage.isLast",z.isLast),qe=-1,this._queues.some((function(e,t){return e.name===z.name&&(qe=t,!0)}))&&qe>0&&this._queues.splice(qe,1),this._queues.length>0&&te.call(this,this._queues[0]),Ke=-1,this.unSyncQueue.some((function(e,t){return e.name===z.queue.name&&(Ke=t,!0)}))&&this.unSyncQueue.splice(Ke,1),J.call(this,z)):z.nextKey&&($e=new(a())(z.nextKey.low,z.nextKey.high,z.nextKey.unsigned).toString(),l.kg.debug("nexKey:",$e,"this.nextKey:",this.nexKey),$e!==this.nexKey&&(this.nexKey=$e,ie.call(this,z.nextKey,z.queue)))}else z.isLast?(l.kg.debug("CommSyncDLMessage.isLast",z.isLast),Ye=-1,this._queues.some((function(e,t){return e.name===z.queue.name&&(Ye=t,!0)}))&&this._queues.splice(Ye,1),this._queues.length>0&&te.call(this,this._queues[0]),Xe=-1,this.unSyncQueue.some((function(e,t){return e.name===z.queue.name&&(Xe=t,!0)}))&&this.unSyncQueue.splice(Xe,1),J.call(this,z)):z.nextKey&&($e=new(a())(z.nextKey.low,z.nextKey.high,z.nextKey.unsigned).toString(),l.kg.debug("nexKey:",$e,"this.nextKey:",this.nexKey),$e!==this.nexKey&&(this.nexKey=$e,ie.call(this,z.nextKey,z.queue)));return[2]}}))}))}function ye(e){var t=[],n=this.root.lookup("easemob.pb.KeyValue"),r=[];for(var o in e){var i=n.decode(t);if(i.key=o,void 0!==e[o]){if("object"===M(e[o]))i.type=8,i.stringValue=JSON.stringify(e[o]);else if("string"==typeof e[o])i.type=7,i.stringValue=e[o];else if("boolean"==typeof e[o])i.type=1,i.varintValue=!0===e[o]?1:0;else if(Number.isInteger(e[o]))i.type=2,i.varintValue=e[o];else if("bigint"==typeof e[o]||"symbol"===M(e[o])||"function"==typeof e[o]||Number.isNaN(e[o]))i.type=7,i.stringValue=e[o].toString();else{if("number"!=typeof e[o]||Number.isInteger(e[o]))continue;i.type=6,i.doubleValue=e[o]}r.push(i)}}return r}function _e(e){var t,n,r,o,i,c=[];if(this.root){var l,u=this.root.lookup("easemob.pb.MessageBody.Content").decode(c);switch(l=!e.group&&"groupchat"!==(null===(t=null==e?void 0:e.chatType)||void 0===t?void 0:t.toLowerCase())||e.roomType?e.group&&e.roomType||"chatroom"===(null===(n=null==e?void 0:e.chatType)||void 0===n?void 0:n.toLowerCase())?"chatRoom":"singleChat":"groupChat",e.type){case"txt":u.type=0,u.text=e.msg;break;case"img":u.type=1,e.body?(u.displayName=e.body.filename,u.remotePath=e.body.url,u.secretKey=e.body.secret,u.fileLength=e.body.file_length,u.size=e.body.size,u.thumbnailDisplayName=e.body.filename):e.file?(u.displayName=e.file.filename,u.remotePath=e.file.url,u.secretKey=e.file.secret,u.fileLength=e.file.file_length,u.size=e.file.size,u.thumbnailDisplayName=e.file.filename):(u.displayName=e.filename,u.remotePath=e.url,u.secretKey=e.secret,u.fileLength=e.file_length,u.size=e.size,u.thumbnailDisplayName=e.filename),e.isBuildCombinedMsg&&(u.remotePath=e.url,u.secretKey=e.secret,u.size={height:e.height,width:e.width});break;case"video":u.type=2,e.body?(u.displayName=e.body.filename,u.remotePath=e.body.url,u.secretKey=e.body.secret,u.fileLength=e.body.file_length,u.duration=e.body.length,u.thumbnailDisplayName=e.body.filename,u.thumbnailRemotePath=this.useOwnUploadFun?"":"".concat(e.body.url,"?vframe=true"),u.thumbnailSecretKey=this.useOwnUploadFun?"":e.body.secret):e.isBuildCombinedMsg&&(u.displayName=e.filename,u.remotePath=e.url,u.secretKey=e.secret,u.fileLength=e.file_length,u.duration=e.length,u.thumbnailDisplayName=e.filename,u.thumbnailRemotePath=e.thumb,u.thumbnailSecretKey=e.thumb_secret);break;case"loc":u.type=3,u.latitude=e.lat,u.longitude=e.lng,u.address=e.addr,u.buildingName=e.buildingName,u.latitude=e.lat;break;case"audio":u.type=4,e.body?(u.displayName=e.body.filename,u.remotePath=e.body.url,u.secretKey=e.body.secret,u.fileLength=e.body.file_length,u.duration=e.body.length,u.thumbnailDisplayName=e.body.filename):e.isBuildCombinedMsg&&(u.displayName=e.filename,u.remotePath=e.url,u.secretKey=e.secret,u.fileLength=e.file_length,u.duration=e.length,u.thumbnailDisplayName=e.filename);break;case"file":u.type=5,e.body?(u.displayName=e.body.filename,u.remotePath=e.body.url,u.secretKey=e.body.secret,u.fileLength=e.body.file_length,u.thumbnailDisplayName=e.body.filename):e.isBuildCombinedMsg&&(u.displayName=e.filename,u.remotePath=e.url,u.secretKey=e.secret,u.fileLength=e.file_length,u.thumbnailDisplayName=e.filename);break;case"cmd":u.type=6,u.action=e.action;break;case"custom":u.type=7,u.customEvent=e.customEvent,u.customExts=ye.call(this,e.customExts);break;case"combine":u.type=0,u.subType=0,u.text=e.compatibleText,u.displayName=e.filename,u.remotePath=e.url,u.secretKey=e.secret,u.fileLength=e.file_length,u.title=e.title,u.summary=e.summary,u.combineLevel=e.combineLevel}var d=[];e.ext&&(d=ye.call(this,e.ext));var h=this.root.lookup("easemob.pb.MessageBody"),p=h.decode(c),f=e.from||this.context.jid.name;p.from={name:e.isBuildCombinedMsg?f:this.context.jid.name};var m=e.to.indexOf("/"),g=m>-1?e.to.substring(0,m):e.to;if(p.to={name:g},"channel"===e.type)p.type=L.CHANNEL_ACK;else if("recall"===e.type)p.type=L.RECALL,p.ackMessageId=e.ackId;else if("delivery"===e.type)p.type=L.DELIVER_ACK,p.ackMessageId=e.ackId;else if("read"===e.type)p.type=L.READ_ACK,p.ackMessageId=e.ackId,"groupChat"===l&&(p.msgConfig={allowGroupAck:!0},p.ackContent=e.ackContent);else if("chatRoom"===l)p.type=L.CHATROOM;else if("groupChat"===l){if(p.type=L.GROUPCHAT,e.msgConfig){var v=e.msgConfig.allowGroupAck;p.msgConfig={allowGroupAck:!!v}}}else"singleChat"===l&&(p.type=L.SINGLECHAT);e.editMessageId&&(p.type=L.EDIT,p.editMessageId=e.editMessageId),p.contents=[u],p.ext=d;var y=(i={},"translations"in(o=e)&&(i.translations=o.translations),"isChatThread"in o&&o.isChatThread&&(i.thread={}),Object.keys(i).length>0?JSON.stringify(i):"");y&&(p.meta=y),p=h.encode(p).finish();var _=this.root.lookup("easemob.pb.Meta"),E=_.decode(c);E.id=e.id;var b="easemob.com";if("chatRoom"!==l&&"groupChat"!==l||(b="conference.easemob.com"),E.to={appKey:this.appKey,name:g,domain:b},m>-1&&(E.to.clientResource=e.to.substring(m+1,e.to.length)),"chatRoom"===l&&(E.ext=ye.call(this,function(e){return{chatroom_msg_tag:"high"===e.priority?0:"low"===e.priority?2:1}}(e))),"recall"===e.type&&e.metaExt&&(E.ext=ye.call(this,{recallMessageExtensionInfo:e.metaExt})),E.ns=1,E.payload=p,E.routetype=e.deliverOnlineOnly?1:0,"singleChat"!==l&&Array.isArray(e.receiverList)&&(null===(r=e.receiverList)||void 0===r?void 0:r.length)>0&&(E.directedUsers=e.receiverList,E.routetype=2),e.isBuildCombinedMsg)return E.timestamp=a().fromValue(e.time),_.encode(E).finish();var T=this.root.lookup("easemob.pb.CommSyncUL"),S=T.decode(c);S.meta=E,!e.isPing&&be.call(this,e,E),S=T.encode(S).finish();var w=this.root.lookup("easemob.pb.MSync"),C=w.decode(c);return C.version=this.version,C.encryptType=this.encryptType,C.command=0,C.payload=S,w.encode(C).finish()}e.fail&&e.fail({type:s.E.WEBIM_CONNCTION_CLIENT_OFFLINE,message:"Not logged in"})}function Ee(e){var t,n,r=this,o=B({},e);if(e.file)return o.accessToken=this.token,o.appKey=this.appKey,o.apiUrl=this.apiUrl,o.body&&o.body.url?_e.call(this,o):new Promise((function(t,n){var i=o.onFileUploadComplete;o.onFileUploadComplete=function(t){var n,a,s,c,l,u;if(t.entities[0]["file-metadata"]){var d=t.entities[0]["file-metadata"]["content-length"];o.file_length=d,o.filetype=t.entities[0]["file-metadata"]["content-type"],d>204800&&(o.thumbnail=!0)}var h="".concat(r.apiUrl,"/").concat(r.orgName,"/").concat(r.appName,"/chatfiles/").concat(t.entities[0].uuid);o.body={type:o.type||"file",secret:t.entities[0]["share-secret"],filename:o.file.filename||o.filename,url:h,length:o.length||0,filetype:o.filetype||o.file.filetype,file_length:(null===(a=null===(n=o.file)||void 0===n?void 0:n.data)||void 0===a?void 0:a.size)||0,size:{width:o.width||0,height:o.height||0}},o.file.url=t.uri,e.secret=t.entities[0]["share-secret"],t.url=e.url="".concat(h,"?em-redirect=true&share-secret=").concat(t.entities[0]["share-secret"]),e.file_length=o.file_length=(null===(c=null===(s=o.file)||void 0===s?void 0:s.data)||void 0===c?void 0:c.size)||0,"img"===o.type&&(e.thumb="".concat(e.url,"&thumbnail=true"),t.thumb="".concat(t.url,"&thumbnail=true")),"video"===o.type&&(e.thumb="".concat(e.url,"&vframe=true"),e.thumb_secret=t.entities[0]["share-secret"],t.thumb="".concat(t.url,"&vframe=true")),i instanceof Function&&i(t,o.id);var p=_e.call(r,o);D.TJ.size<=D.F3&&D.TJ.set(o.id,{rpt:r.dataReport.geOperateFun({operationName:x.fI.SEND_MSG})}),null===(u=null===(l=r._localCache)||void 0===l?void 0:l.getInstance())||void 0===u||u.storeMessage(e,I.r.INPROGRESS),Re.call(r,p)},v.P6.uploadFile.call(r,o,x.fI.UPLOAD_MSG_ATTACH)}));if("combine"===e.type){o.accessToken=this.token,o.appKey=this.appKey,o.apiUrl=this.apiUrl;var i=o.onFileUploadComplete,a=o.onFileUploadError;return new Promise((function(t,n){var c,u,d,h;if((null===(c=e.messageList)||void 0===c?void 0:c.length)>300||0===(null===(u=e.messageList)||void 0===u?void 0:u.length))return r._msgHash[o.id].reject({type:s.E.MAX_LIMIT,message:"The number of combined messages exceeded the limit."});var p=H([],e.messageList),f=0;if(p.forEach((function(e){(null==e?void 0:e.combineLevel)>f&&(f=null==e?void 0:e.combineLevel)})),o.combineLevel=f+1,o.combineLevel>10)return r._msgHash[o.id].reject({type:s.E.MAX_LIMIT,message:"The level of the merged message exceeded the limit."});var m=Te.call(r,p),g=function(t,n){var a,s,c,l,u,d,h="".concat(r.apiUrl,"/").concat(r.orgName,"/").concat(r.appName,"/chatfiles/").concat(t.entities[0].uuid),p=null===(a=t.entities[0])||void 0===a?void 0:a["share-secret"],f=h+"?em-redirect=true";p&&(f="".concat(f,"&share-secret=").concat(p)),i instanceof Function&&i({url:f,secret:p}),e.url=f,e.secret=p,o.url=f,o.secret=t.entities[0]["share-secret"],o.filename=(null===(s=o.file)||void 0===s?void 0:s.filename)||(null==n?void 0:n.fileName),o.file_length=(null===(l=null===(c=o.file)||void 0===c?void 0:c.data)||void 0===l?void 0:l.size)||(null==n?void 0:n.fileLength)||0,null===(d=null===(u=r._localCache)||void 0===u?void 0:u.getInstance())||void 0===d||d.storeMessage(e,I.r.INPROGRESS);var m=_e.call(r,o);Re.call(r,m)},y=v.P6.getEnvInfo();if("web"!==y.platform&&"node"!==y.platform&&"quick_app"!==y.platform&&(null===(h=null===(d=y.global)||void 0===d?void 0:d.canIUse)||void 0===h?void 0:h.call(d,"getFileSystemManager"))){var _=y.global.getFileSystemManager(),E="".concat(r.apiUrl,"/").concat(r.orgName,"/").concat(r.appName,"/chatfiles");_.writeFile({filePath:"".concat(y.global.env.USER_DATA_PATH,"/combine"),data:m.buffer,encoding:"binary",success:function(e){y.global.uploadFile({url:E,filePath:"".concat(y.global.env.USER_DATA_PATH,"/combine"),name:"file",header:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o.accessToken},success:function(e){if(200===e.statusCode){l.kg.debug("upload success",e);var t=JSON.parse(e.data);g(t,{fileName:"combine",fileLength:m.length})}else l.kg.debug("upload fail"),o.onFileUploadError instanceof Function&&o.onFileUploadError(e),this._msgHash[o.id].reject({type:s.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:e})},fail:function(t){l.kg.debug("upload fail"),o.onFileUploadError instanceof Function&&o.onFileUploadError(e),this._msgHash[o.id].reject({type:s.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:t})}})},fail:function(e){l.kg.debug("write file fail",e),this._msgHash[o.id].reject({type:s.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:e})}})}else{var b=new File([m],"combine",{type:"application/octet-stream"}),T={url:URL.createObjectURL(b),filename:o.id,data:b};o.file=T,o.onFileUploadComplete=function(e){g(e)},o.onFileUploadError=function(e){a instanceof Function&&a(e),r._msgHash[o.id].reject({type:s.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:e})},v.P6.uploadFile.call(r,o,x.fI.UPLOAD_MSG_ATTACH)}}))}"img"===e.type&&(o.body||(o.body=B(B({},o),{size:{width:o.width||0,height:o.height||0}}))),null===(n=null===(t=this._localCache)||void 0===t?void 0:t.getInstance())||void 0===n||n.storeMessage(e,I.r.INPROGRESS);var c=_e.call(this,o);Re.call(this,c)}function be(e,t){e.editMessageId||G.includes(e.type)&&(this._msgHash[e.id].thirdMessage=t)}function Te(e){for(var t=Uint8Array.from("cm",(function(e){return e.charCodeAt(0)})),n=0;n<e.length;n++){for(var r=e[n],o=B(B({},r),{isBuildCombinedMsg:!0}),i=this.mSync.encodeChatMsg.call(this,o),a=i.length,s=new Uint8Array(4),c=0;c<4;c++)s[c]=a>>8*(3-c)&255;l.kg.debug("message length:",s);var u=new Uint8Array(t.length+s.length+i.length);u.set(t),u.set(s,t.length),u.set(i,t.length+s.length),t=u}var d=new Uint8Array(t.length+1),h=0;for(n=2;n<t.length;n++)n%2==1&&(h^=t[n]);return d.set(t),l.kg.debug("checkResult:",h),d[t.length]=h,d}function Se(e,t,n){var r=[],o=this.root.lookup("easemob.pb.MUCBody"),i=e.roomId,a=e.ext,s=void 0===a?"":a,c=e.leaveOtherRooms,l=void 0!==c&&c,u=o.decode(r);u.mucId={appKey:this.appKey,name:i,domain:"conference.easemob.com"},u.operation="join"===n?2:3,u.from={name:this.context.userId},u.isChatroom=!0,"join"===n&&(u.ext=s,u.leaveOtherRooms=l),u=o.encode(u).finish();var d=this.root.lookup("easemob.pb.Meta").decode(r);d.id=t,d.from={appKey:this.appKey,name:this.context.userId,domain:"easemob.com",client_resource:this.context.jid.clientResource},d.to={domain:"easemob.com"},d.ns=2,d.payload=u;var h=this.root.lookup("easemob.pb.CommSyncUL"),p=h.decode(r);p.meta=d,p=h.encode(p).finish();var f=this.root.lookup("easemob.pb.MSync"),m=f.decode(r);return m.version=this.version,m.encryptType=this.encryptType,m.command=0,m.payload=p,f.encode(m).finish()}function we(e,t){var n=v.P6.getUniqueId(),r=Se.call(this,e,n,t),o="join"===t?x.fI.JOIN_CHATROOM:x.fI.QUIT_CHATROOM,i=this.dataReport.geOperateFun({operationName:o});return D.iO.size<=D.F3&&D.iO.set(n,{rpt:i,requestName:o}),Re.call(this,B(B({},e),{isHandleChatroom:!0,joinMsg:r,id:n,operation:t}),n)}function Ce(e){var t=this;return new Promise((function(n,r){var o,i,a,c,u,d;if(l.kg.debug("call send"),t.logOut)return l.kg.debug("send message failed",s.E.WEBIM_CONNECTION_CLOSED),r({type:s.E.WEBIM_CONNECTION_CLOSED,message:"not login"});if(!e.id||"string"!=typeof e.id||""===e.id)return r({type:s.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "id"'});if(!e.to||"string"!=typeof e.to||""===e.to)return r({type:s.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "to"'});var h="file"===e.type||"img"===e.type||"audio"===e.type||"video"===e.type,p="delivery"===e.type||"read"===e.type||"channel"===e.type,f="cmd"===e.type,m="recall"===e.type,g=null==e?void 0:e.editMessageId,v=!(p||m||f||g);if(e.id){if(!h&&!p||h&&t.useOwnUploadFun){var y="recall"===e.type?x.fI.SEND_RECALL_MSG:x.fI.SEND_MSG;g&&(y=x.fI.MODIFY_MESSAGE),D.TJ.size<=D.F3&&D.TJ.set(e.id,{rpt:t.dataReport.geOperateFun({operationName:y})})}v&&(null===(i=null===(o=t._localCache)||void 0===o?void 0:o.getInstance())||void 0===i||i.storeMessage(e,I.r.CREATE)),t._msgHash[e.id]=B(B({},e),{resolve:n,reject:r})}if(h||"combine"===e.type)return Ee.call(t,e);if("txt"===e.type&&(null===(a=e.msgConfig)||void 0===a?void 0:a.languages)&&Array.isArray(null===(c=e.msgConfig)||void 0===c?void 0:c.languages)&&e.msgConfig.languages.length>0){var _=t.translateMessage||t.translation.translateMessage;if(!_)throw new Error("there is no method to translate message");_.call(t,{text:e.msg,languages:e.msgConfig.languages}).then((function(n){var r,o,i,a=null===(r=n.data[0])||void 0===r?void 0:r.translations;a=a.map((function(e){return{code:e.to,text:e.text}})),e.translations=a,t._msgHash[e.id].translations=a,null===(i=null===(o=t._localCache)||void 0===o?void 0:o.getInstance())||void 0===i||i.storeMessage(e,I.r.INPROGRESS);var s=_e.call(t,e);Re.call(t,s,e.id)})).catch((function(e){r(e)}))}else{v&&(null===(d=null===(u=t._localCache)||void 0===u?void 0:u.getInstance())||void 0===d||d.storeMessage(e,I.r.INPROGRESS));var E=_e.call(t,e);Re.call(t,E,e.id)}}))}function Re(e,t){var n,r=this;if(e.isHandleChatroom){if(!this.isOpened()){var o={data:"",type:s.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};if(D.iO.has(e.id)){var i=D.iO.get(e.id);(0,i.rpt)({isEndApi:!0,data:{isSuccess:0,requestName:i.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:x.dd.disconnect,codeDesc:"websocket has been disconnected"}}),D.iO.delete(e.id)}return Promise.reject(o)}return new Promise((function(n,o){var i;r._msgHash[e.id]=B(B({},e),{resolve:n,reject:o}),i="miniCore"===r.name?e.joinMsg:K.call(r,e.joinMsg,t);var a=t&&setTimeout((function(){var t,n,o;if(r._msgHash[e.id]){var i={type:s.E.REQUEST_TIMEOUT,message:"request timeout"};null===(n=(t=r._msgHash[e.id]).reject)||void 0===n||n.call(t,i),clearTimeout(null===(o=r._msgHash[e.id])||void 0===o?void 0:o.messageTimer),delete r._msgHash[e.id],r.reconnecting||r.reconnect(!0)}}),P.xz);r._msgHash[e.id].messageTimer=a,r.sock.send(i)}))}if(!this.isOpened())return null===(n=this.unMSyncSendMsgMap)||void 0===n||n.set(t,e),!this.logOut&&this.autoReconnectNumTotal<this.autoReconnectNumMax&&(l.kg.debug("need to reconnect",this.autoReconnectNumTotal,this.autoReconnectNumMax),this.offLineSendConnecting=!0,this.reconnecting||this.reconnect()),void(this.onError&&this.onError({type:s.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}));var a,c=t&&setTimeout((function(){var e,n,o;if(r._msgHash[null!=t?t:""]){var i={type:s.E.MESSAGE_SEND_TIMEOUT,message:"send message timeout"};null===(n=(e=r._msgHash[null!=t?t:""]).reject)||void 0===n||n.call(e,i),clearTimeout(null===(o=r._msgHash[null!=t?t:""])||void 0===o?void 0:o.messageTimer),delete r._msgHash[null!=t?t:""],r.reconnecting||r.reconnect(!0)}}),P.xz);this._msgHash[null!=t?t:""]&&(this._msgHash[null!=t?t:""].messageTimer=c),a="miniCore"===this.name?e:K.call(this,e,t),this.sock.send(a)}var Ie=function(e,t){return e.send=Ce,e.sendMsg=Ce,l.kg.debug("init Msync by ".concat(e.name)),{generateProvision:q.bind(e),base64transform:K.bind(e),distributeMeta:Y.bind(e),decodeMeta:X.bind(e),decodeUnreadDL:Z.bind(e),_rebuild:Q.bind(e),_lastsession:ne.bind(e),receiveProvision:ae.bind(e),isInQueue:pe.bind(e),decodeNotice:fe.bind(e),decodeMSync:me.bind(e),distributeMSync:ge.bind(e),encodeChatMsg:_e.bind(e),upLoadFile:Ee.bind(e),send:Ce.bind(e),stopHeartBeat:de.bind(e),handleChatRoom:we.bind(e),sendUnreadDeal:le.bind(e)}}},7252:function(e,t){var n=function(){function e(e){this.type=e.type,this.message=e.message,this.data=e.data}return e.create=function(t){return new e(t)},e}();t.Z=n},8161:function(e,t,n){n.d(t,{t:function(){return v}}),n(9601),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7941),n(3710),n(9714),n(9653),n(6699),n(2023),n(2222),n(8309),n(9554),n(4747),n(2772);var r=n(3720),o=n.n(r),i=n(4363),a=n(4024),s=n(6424),c=n(9743),l=n(7360),u=n(2449),d=n(7288),h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h.apply(this,arguments)},p=function(e,t,n,r){return new(n||(n=Promise))((function(t,o){function i(e){try{s(r.next(e))}catch(t){o(t)}}function a(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}s((r=r.apply(e,[])).next())}))},f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m={0:"TEXT",1:"IMAGE",2:"VIDEO",3:"LOCATION",4:"VOICE",5:"FILE",6:"COMMAND",7:"CUSTOM",8:"COMBINE"};function g(e){for(var t={},n=0;n<e.length;n++)if(8===e[n].type)t[e[n].key]=JSON.parse(e[n].stringValue);else if(7===e[n].type)t[e[n].key]=e[n].stringValue;else if(6===e[n].type)t[e[n].key]=e[n].doubleValue;else if(5===e[n].type)t[e[n].key]=e[n].floatValue;else if(1===e[n].type){var r=e[n].varintValue,i=new(o())(r.low,r.high,r.unsigned).toString();t[e[n].key]=0!==Number(i)}else 2!==e[n].type&&3!==e[n].type&&4!==e[n].type||(r=e[n].varintValue,i=new(o())(r.low,r.high,r.unsigned).toString(),t[e[n].key]=Number(i));return t}function v(e){var t="";return e.remotePath&&(t=a.P6.formatAttachUrl.call(this,e.remotePath),e.remotePath.includes("?em-redirect")||(t="".concat(t,"?em-redirect=true"),e.secretKey&&(t="".concat(t,"&share-secret=").concat(e.secretKey)))),t}function y(e,t){var n,r,o=t.from&&t.from.name;if(o===this.context.userId){var i=null===(n=null==e?void 0:e.from)||void 0===n?void 0:n.clientResource;o===(null===(r=null==t?void 0:t.to)||void 0===r?void 0:r.name)&&i&&i!==this.clientResource&&(o="".concat(o,"/").concat(i))}return o}function _(e,t){var n,r=t.to&&t.to.name;return(null===(n=null==e?void 0:e.to)||void 0===n?void 0:n.clientResource)&&(r="".concat(r,"/").concat(e.to.clientResource)),r}function E(e){var t,n,r,o,c,u,h,y,_,E,b,T,S,w,C,R,I,A,O,N,k,D,x,P,M,L,U;return p(this,void 0,void 0,(function(){var p,j,V,B,z,F,H,G,W,q,K,Y,X,$,J,Z,Q,ee,te,ne,re,oe,ie,ae,se,ce,le,ue,de,he,pe,fe,me,ge,ve,ye,_e,Ee,be,Te,Se,we,Ce,Re,Ie,Ae,Oe,Ne,ke,De,xe,Pe;return f(this,(function(f){switch(f.label){case 0:switch(p=e.status,j=e.thirdMessage,V=e.msgBody,B=e.msgId,z=e.type,F=e.from,H=e.to,G=e.time,W=e.onlineState,q=e.chatType,K=e.ignoreCallback,Y=e.priority,X=e.format,$=e.broadcast,J=void 0!==$&&$,Z=e.isContentReplaced,Q=void 0!==Z&&Z,ee={},te={},ne=p.errorCode>0,re=p.errorCode,oe=p.reason,ie={},ae=[],se=[],ce={},le="",ue=0,de=null,he=null,j.ext&&(ie=g(j.ext)),j.meta&&"string"==typeof j.meta&&((fe=JSON.parse(j.meta)).reaction&&(ae=fe.reaction).forEach((function(e){e.isAddedBySelf=e.state,delete e.state})),fe.translations&&(se=fe.translations),fe.edit_msg&&(me=fe.edit_msg,ge=me.count,ve=me.operator,ye=me.edit_time,_e=me.sender,Ee=me.send_time,ce={operationTime:ye,operatorId:ve,operationCount:ge},le=_e,ue=Ee),fe.thread&&"{}"!==JSON.stringify(fe.thread)&&(de={messageId:fe.thread.msg_parent_id,parentId:fe.thread.muc_parent_id,chatThreadName:fe.thread.thread_name}),fe.thread_overview&&"{}"!==JSON.stringify(fe.thread_overview)&&(he={id:fe.thread_overview.id,parentId:fe.thread_overview.muc_parent_id,name:fe.thread_overview.name,lastMessage:fe.thread_overview.last_message&&"{}"!==JSON.stringify(fe.thread_overview.last_message)?i.w.call(this,fe.thread_overview.last_message):null,createTimestamp:fe.thread_overview.create_timestamp,updateTimestamp:fe.thread_overview.update_timestamp,messageCount:fe.thread_overview.message_count||0})),V.type){case 0:return[3,1];case 1:return[3,7];case 2:return[3,10];case 3:return[3,13];case 4:return[3,16];case 5:return[3,19];case 6:return[3,22];case 7:return[3,23];case 8:return[3,26]}return[3,27];case 1:return Object.prototype.hasOwnProperty.call(V,"subType")&&0===V.subType?(pe=v.call(this,V),be={id:B,type:"combine",chatType:q,to:H,from:F,ext:ie,time:Number(G),onlineState:W,title:V.title||"",summary:V.summary||"",url:pe||"",secret:V.secretKey||"",file_length:V.fileLength||0,filename:V.displayName||"",compatibleText:V.text,combineLevel:V.combineLevel||0},ee.msgConfig&&(be.msgConfig=ee.msgConfig),ae.length>0&&(be.reactions=ae),de&&(be.chatThread=de),he&&(be.chatThreadOverview=he),"chatRoom"===q&&(be.priority=Y,be.broadcast=J),Q&&(be.isContentReplaced=Q),te=be,K?[3,3]:[4,null===(n=null===(t=this._localCache)||void 0===t?void 0:t.getInstance())||void 0===n?void 0:n.storeMessage(be,d.r.SUCCESS)]):[3,4];case 2:f.sent(),null===(r=this.eventHandler)||void 0===r||r.dispatch("onCombineMessage",be),f.label=3;case 3:return[3,28];case 4:return!(ee={id:B,type:z,contentsType:m[V.type],from:F,to:H,data:V.text,ext:ie,sourceMsg:V.text,time:G,msgConfig:j.msgConfig,onlineState:W}).msgConfig&&delete j.msgConfig,ee.error=ne,ee.errorText=oe,ee.errorCode=re,!K&&this.onTextMessage&&this.onTextMessage(ee),Te={id:B,type:"txt",chatType:q,msg:V.text,to:H,from:F,ext:ie,time:Number(G),onlineState:W},ee.msgConfig&&(Te.msgConfig=ee.msgConfig),ae.length>0&&(Te.reactions=ae),de&&(Te.chatThread=de),he&&(Te.chatThreadOverview=he),se.length>0&&(Te.translations=se),ce.operationCount>0&&(Te.modifiedInfo=ce,j.type===s.gA.EDIT&&(Te.from=le,Te.time=ue)),"chatRoom"===q&&(Te.priority=Y,Te.broadcast=J),Q&&(Te.isContentReplaced=Q),te=Te,K?[3,6]:[4,null===(c=null===(o=this._localCache)||void 0===o?void 0:o.getInstance())||void 0===c?void 0:c.storeMessage(Te,d.r.SUCCESS)];case 5:f.sent(),null===(u=this.eventHandler)||void 0===u||u.dispatch("onTextMessage",Te),f.label=6;case 6:return[3,28];case 7:return Se=(null===(h=null==V?void 0:V.size)||void 0===h?void 0:h.width)||0,we=(null===(y=null==V?void 0:V.size)||void 0===y?void 0:y.height)||0,pe=this.useOwnUploadFun?V.remotePath:v.call(this,V),!(ee={id:B,type:z,contentsType:m[V.type],from:F,to:H,url:pe,secret:V.secretKey,filename:V.displayName,thumb:this.useOwnUploadFun?"":"".concat(pe,"&thumbnail=true"),thumb_secret:V.secretKey,file_length:V.fileLength||"",width:Se,height:we,filetype:V.filetype||"",accessToken:this.token,ext:ie,time:G,msgConfig:j.msgConfig,onlineState:W}).delay&&delete ee.delay,!ee.msgConfig&&delete j.msgConfig,ee.error=ne,ee.errorText=oe,ee.errorCode=re,!K&&this.onPictureMessage&&this.onPictureMessage(ee),Ce={id:B,type:"img",chatType:q,from:F,to:H,url:pe||"",width:Se,height:we,secret:V.secretKey||"",thumb:this.useOwnUploadFun?"":"".concat(pe,"&thumbnail=true"),thumb_secret:V.secretKey,file_length:V.fileLength||0,ext:ie,time:Number(G),onlineState:W},ee.msgConfig&&(Ce.msgConfig=ee.msgConfig),ae.length>0&&(Ce.reactions=ae),de&&(Ce.chatThread=de),he&&(Ce.chatThreadOverview=he),"chatRoom"===q&&(Ce.priority=Y,Ce.broadcast=J),Q&&(Ce.isContentReplaced=Q),te=Ce,K?[3,9]:[4,null===(E=null===(_=this._localCache)||void 0===_?void 0:_.getInstance())||void 0===E?void 0:E.storeMessage(Ce,d.r.SUCCESS)];case 8:f.sent(),null===(b=this.eventHandler)||void 0===b||b.dispatch("onImageMessage",Ce),f.label=9;case 9:return[3,28];case 10:return pe=this.useOwnUploadFun?V.remotePath:v.call(this,V),!(ee={id:B,type:z,contentsType:m[V.type],from:F,to:H,url:pe,secret:V.secretKey,filename:V.displayName,length:V.duration||"",file_length:V.fileLength||"",filetype:V.filetype||"",accessToken:this.token||"",ext:ie,time:G,msgConfig:j.msgConfig,onlineState:W}).delay&&delete ee.delay,!ee.msgConfig&&delete j.msgConfig,ee.error=ne,ee.errorText=oe,ee.errorCode=re,!K&&this.onVideoMessage&&this.onVideoMessage(ee),Re={id:B,type:"video",chatType:q,from:F,to:H,url:pe,secret:V.secretKey,thumb:a.P6.formatAttachUrl.call(this,V.thumbnailRemotePath),thumb_secret:V.thumbnailSecretKey,filename:V.displayName,length:V.duration||0,file:{},file_length:V.fileLength||0,filetype:V.filetype||"",accessToken:this.token||"",ext:ie,time:Number(G),onlineState:W},ee.msgConfig&&(Re.msgConfig=ee.msgConfig),ae.length>0&&(Re.reactions=ae),de&&(Re.chatThread=de),he&&(Re.chatThreadOverview=he),"chatRoom"===q&&(Re.priority=Y,Re.broadcast=J),Q&&(Re.isContentReplaced=Q),te=Re,K?[3,12]:[4,null===(S=null===(T=this._localCache)||void 0===T?void 0:T.getInstance())||void 0===S?void 0:S.storeMessage(Re,d.r.SUCCESS)];case 11:f.sent(),null===(w=this.eventHandler)||void 0===w||w.dispatch("onVideoMessage",Re),f.label=12;case 12:return[3,28];case 13:return!(ee={id:B,type:z,contentsType:m[V.type],from:F,to:H,addr:V.address,buildingName:V.buildingName,lat:V.latitude,lng:V.longitude,ext:ie,time:G,msgConfig:j.msgConfig,onlineState:W}).delay&&delete ee.delay,!ee.msgConfig&&delete j.msgConfig,ee.error=ne,ee.errorText=oe,ee.errorCode=re,!K&&this.onLocationMessage&&this.onLocationMessage(ee),Ie={id:B,type:"loc",chatType:q,from:F,to:H,buildingName:V.buildingName,addr:V.address,lat:V.latitude,lng:V.longitude,ext:ie,time:Number(G),onlineState:W},ee.msgConfig&&(Ie.msgConfig=ee.msgConfig),ae.length>0&&(Ie.reactions=ae),de&&(Ie.chatThread=de),he&&(Ie.chatThreadOverview=he),"chatRoom"===q&&(Ie.priority=Y,Ie.broadcast=J),Q&&(Ie.isContentReplaced=Q),te=Ie,K?[3,15]:[4,null===(R=null===(C=this._localCache)||void 0===C?void 0:C.getInstance())||void 0===R?void 0:R.storeMessage(Ie,d.r.SUCCESS)];case 14:f.sent(),null===(I=this.eventHandler)||void 0===I||I.dispatch("onLocationMessage",Ie),f.label=15;case 15:return[3,28];case 16:return pe=this.useOwnUploadFun?V.remotePath:v.call(this,V),!(ee={id:B,type:z,contentsType:m[V.type],from:F,to:H,url:pe,secret:V.secretKey,filename:V.displayName,file_length:V.fileLength||"",accessToken:this.token||"",ext:ie,length:V.duration,time:G,msgConfig:j.msgConfig,onlineState:W}).delay&&delete ee.delay,!ee.msgConfig&&delete j.msgConfig,ee.error=ne,ee.errorText=oe,ee.errorCode=re,!K&&this.onAudioMessage&&this.onAudioMessage(ee),Ae={id:B,type:"audio",chatType:q,from:F,to:H,url:pe,secret:V.secretKey,file:{},filename:V.displayName,length:V.duration||0,file_length:V.fileLength||0,filetype:V.filetype||"",accessToken:this.token||"",ext:ie,time:Number(G),onlineState:W},ee.msgConfig&&(Ae.msgConfig=ee.msgConfig),ae.length>0&&(Ae.reactions=ae),de&&(Ae.chatThread=de),he&&(Ae.chatThreadOverview=he),"chatRoom"===q&&(Ae.priority=Y,Ae.broadcast=J),Q&&(Ae.isContentReplaced=Q),te=Ae,K?[3,18]:[4,null===(O=null===(A=this._localCache)||void 0===A?void 0:A.getInstance())||void 0===O?void 0:O.storeMessage(Ae,d.r.SUCCESS)];case 17:f.sent(),null===(N=this.eventHandler)||void 0===N||N.dispatch("onAudioMessage",Ae),f.label=18;case 18:return[3,28];case 19:return pe=this.useOwnUploadFun?V.remotePath:v.call(this,V),!(ee={id:B,type:z,contentsType:m[V.type],from:F,to:H,url:pe,secret:V.secretKey,filename:V.displayName,file_length:V.fileLength,accessToken:this.token||"",ext:ie,time:G,msgConfig:j.msgConfig,onlineState:W}).delay&&delete ee.delay,!ee.msgConfig&&delete j.msgConfig,ee.error=ne,ee.errorText=oe,ee.errorCode=re,!K&&this.onFileMessage&&this.onFileMessage(ee),Oe={id:B,type:"file",chatType:q,from:F,to:H,url:pe,secret:V.secretKey,file:{},filename:V.displayName,length:V.duration||0,file_length:V.fileLength||0,filetype:V.filetype||"",accessToken:this.token||"",ext:ie,time:Number(G),onlineState:W},ee.msgConfig&&(Oe.msgConfig=ee.msgConfig),ae.length>0&&(Oe.reactions=ae),de&&(Oe.chatThread=de),he&&(Oe.chatThreadOverview=he),"chatRoom"===q&&(Oe.priority=Y,Oe.broadcast=J),Q&&(Oe.isContentReplaced=Q),te=Oe,K?[3,21]:[4,null===(D=null===(k=this._localCache)||void 0===k?void 0:k.getInstance())||void 0===D?void 0:D.storeMessage(Oe,d.r.SUCCESS)];case 20:f.sent(),null===(x=this.eventHandler)||void 0===x||x.dispatch("onFileMessage",Oe),f.label=21;case 21:return[3,28];case 22:return!(ee={id:B,type:z,contentsType:m[V.type],from:F,to:H,action:V.action,ext:ie,time:G,msgConfig:j.msgConfig,onlineState:W}).msgConfig&&delete j.msgConfig,ee.error=ne,ee.errorText=oe,ee.errorCode=re,!K&&this.onCmdMessage&&this.onCmdMessage(ee),Ne={id:B,type:"cmd",chatType:q,from:F,to:H,action:V.action,ext:ie,time:Number(G),onlineState:W},ee.msgConfig&&(Ne.msgConfig=ee.msgConfig),ae.length>0&&(Ne.reactions=ae),de&&(Ne.chatThread=de),he&&(Ne.chatThreadOverview=he),"chatRoom"===q&&(Ne.priority=Y,Ne.broadcast=J),Q&&(Ne.isContentReplaced=Q),te=Ne,K||null===(P=this.eventHandler)||void 0===P||P.dispatch("onCmdMessage",Ne),[3,28];case 23:return ke={},De={},j.contents[0].customExts&&(ke=g(j.contents[0].customExts)),j.contents[0].params&&(De=g(j.contents[0].params)),ee={id:B,type:z,contentsType:m[V.type],from:F,to:H,customEvent:V.customEvent,params:De,customExts:ke,ext:ie,time:G,onlineState:W},!K&&this.onCustomMessage&&this.onCustomMessage(ee),xe={id:B,type:"custom",chatType:q,from:F,to:H,customEvent:V.customEvent,params:De,customExts:ke,ext:ie,time:Number(G),onlineState:W},ee.msgConfig&&(xe.msgConfig=ee.msgConfig),ae.length>0&&(xe.reactions=ae),de&&(xe.chatThread=de),he&&(xe.chatThreadOverview=he),ce.operationCount>0&&(xe.modifiedInfo=ce,j.type===s.gA.EDIT&&(xe.from=le,xe.time=ue)),"chatRoom"===q&&(xe.priority=Y,xe.broadcast=J),Q&&(xe.isContentReplaced=Q),te=xe,K?[3,25]:[4,null===(L=null===(M=this._localCache)||void 0===M?void 0:M.getInstance())||void 0===L?void 0:L.storeMessage(xe,d.r.SUCCESS)];case 24:f.sent(),null===(U=this.eventHandler)||void 0===U||U.dispatch("onCustomMessage",xe),f.label=25;case 25:return[3,28];case 26:return pe=v.call(this,V),Pe={id:B,type:"combine",chatType:q,to:H,from:F,ext:ie,time:Number(G),onlineState:W,title:V.title||"",summary:V.summary||"",url:pe||"",secret:V.secretKey||"",file_length:V.fileLength||0,filename:V.displayName||"",compatibleText:V.text,combineLevel:V.combineLevel||0},ee.msgConfig&&(Pe.msgConfig=ee.msgConfig),ae.length>0&&(Pe.reactions=ae),de&&(Pe.chatThread=de),he&&(Pe.chatThreadOverview=he),"chatRoom"===q&&(Pe.priority=Y,Pe.broadcast=J),Q&&(Pe.isContentReplaced=Q),te=Pe,!K&&this.eventHandler&&this.eventHandler.dispatch("onCombineMessage",Pe),[3,28];case 27:return l.kg.error("Unknow message type, message:",V),[3,28];case 28:return X?[2,te]:[2,ee]}}))}))}function b(e,t,n){if(this.delivery&&e!==t){var r=this.getUniqueId(),o=new u.Message("delivery",r);o.set({ackId:n,to:e}),l.kg.debug("send delivery ack"),this.send(o.body)}}t.Z=function(e,t,n,r,i){var u,d,m,v,T,S,w,C,R,I,A,O,N,k,D,x,P,M,L,U,j,V,B,z,F,H;return p(this,void 0,void 0,(function(){var p,G,W,q,K,Y,X,$,J,Z,Q,ee,te,ne,re,oe,ie,ae,se,ce,le,ue,de,he,pe,fe,me,ge,ve,ye,_e,Ee,be,Te,Se,we,Ce,Re,Ie,Ae;return f(this,(function(f){switch(f.label){case 0:if(p=new(o())(e.timestamp.low,e.timestamp.high,e.timestamp.unsigned).toString(),G=this.root.lookup("easemob.pb.MessageBody"),W=G.decode(e.payload),q=3,K=!1,Y=new(o())(e.id.low,e.id.high,e.id.unsigned).toString(),i&&e.from&&e.from.name===this.context.userId&&e.from.clientResource===this.clientResource&&W.type===s.gA.CHATROOM)return[2,l.kg.debug("Discard your own chat room message:",Y)];if(e.meta&&e.meta.length){if(X=a.P6.parseNotify(e.meta),$=X.is_online,J=X.callback_replace,this.useReplacedMessageContents&&J&&(K=!0),$||0===$)switch($){case 0:q=0;break;case 1:q=1;break;default:q=2}}else q=3;switch(Z=W.ackMessageId?new(o())(W.ackMessageId.low,W.ackMessageId.high,W.ackMessageId.unsigned).toString():"",Q="",ee=y.call(this,e,W),te=_.call(this,e,W),l.kg.debug("meta thirdMessage:",{metaId:Y,metaNs:e.ns,type:W.type,from:ee,to:te,contentType:null===(d=null===(u=W.contents)||void 0===u?void 0:u[0])||void 0===d?void 0:d.type,contentLen:null===(m=W.contents)||void 0===m?void 0:m.length}),W.type){case s.gA.SINGLECHAT:return[3,1];case s.gA.GROUPCHAT:return[3,2];case s.gA.CHATROOM:return[3,3];case s.gA.READ_ACK:return[3,4];case s.gA.DELIVER_ACK:return[3,5];case s.gA.RECALL:return[3,6];case s.gA.CHANNEL_ACK:return[3,15];case s.gA.EDIT:return[3,16]}return[3,20];case 1:return Q="chat","agoraToken"===this.grantType&&(Q="singleChat"),this.delivery&&!n&&ee!==this.context.userId&&b.call(this,ee,te,Y),[3,21];case 2:return Q="groupchat","agoraToken"===this.grantType&&(Q="groupChat"),[3,21];case 3:return Q="chatroom","agoraToken"===this.grantType&&(Q="chatRoom"),q=1,[3,21];case 4:return Q="read_ack",ne=void 0,W.ext[0]&&JSON.parse(W.ext[0].stringValue)?(ne={id:Y,type:"read",from:ee,to:te,mid:Z,groupReadCount:W.ext[0]&&JSON.parse(W.ext[0].stringValue),ackContent:W.ackContent,onlineState:q},this.onReadMessage&&this.onReadMessage(ne),null===(v=this.eventHandler)||void 0===v||v.dispatch("onReadMessage",ne),[2]):(ne={id:Y,type:"read",from:ee,to:te,mid:Z,onlineState:q},this.onReadMessage&&this.onReadMessage(ne),null===(T=this.eventHandler)||void 0===T||T.dispatch("onReadMessage",ne),[2]);case 5:return Q="deliver_ack",this.onDeliveredMessage&&this.onDeliveredMessage({id:Y,type:"delivery",from:ee,to:te,mid:Z,onlineState:q}),re={id:Y,type:"delivery",from:ee,to:te,mid:Z,onlineState:q},null===(S=this.eventHandler)||void 0===S||S.dispatch("onDeliveredMessage",re),[2];case 6:return Q="recall",oe="",e.ext&&(oe=(null===(w=g(e.ext))||void 0===w?void 0:w.recallMessageExtensionInfo)||""),ie={id:Y,from:ee||"admin",to:te,mid:Z,ext:oe,onlineState:q},ae=te===this.user?ee:te,[4,null===(R=null===(C=this._localCache)||void 0===C?void 0:C.getInstance())||void 0===R?void 0:R.getMessageByServerMsgId(ie.mid)];case 7:return(se=f.sent())?[4,null===(A=null===(I=this._localCache)||void 0===I?void 0:I.getInstance())||void 0===A?void 0:A.removeMsgByServerMsgId(ie.mid)]:[3,9];case 8:f.sent(),f.label=9;case 9:return"singleChat"!==(null==se?void 0:se.chatType)&&"groupChat"!==(null==se?void 0:se.chatType)?[3,14]:(ce=(null==se?void 0:se.from)===this.user||""===(null==se?void 0:se.from),[4,null===(N=null===(O=this._localCache)||void 0===O?void 0:O.getInstance())||void 0===N?void 0:N.getConversationLastMessage(ae,se.chatType)]);case 10:return le=f.sent(),[4,null===(D=null===(k=this._localCache)||void 0===k?void 0:k.getInstance())||void 0===D?void 0:D.getConversationBySessionId((0,c.MQ)({conversationId:ae,conversationType:se.chatType}))];case 11:return(ue=f.sent())?[4,null===(P=null===(x=this._localCache)||void 0===x?void 0:x.getInstance())||void 0===P?void 0:P.updateLocalConversation((0,c.MQ)({conversationId:ae,conversationType:se.chatType}),{lastMessageId:null==le?void 0:le.serverMsgId,unReadCount:(0,c.E7)({conversation:ue,isRecallSelfMsg:ce,recalledMsgTime:se.time})})]:[3,13];case 12:f.sent(),f.label=13;case 13:f.label=14;case 14:return this.onRecallMessage&&this.onRecallMessage(ie),null===(M=this.eventHandler)||void 0===M||M.dispatch("onRecallMessage",ie),[2];case 15:return this.onChannelMessage&&this.onChannelMessage({id:Y,type:"channel",chatType:"singleChat",from:ee,to:te,time:Number(p),onlineState:q}),de={id:Y,type:"channel",chatType:"singleChat",from:ee,to:te,time:Number(p),onlineState:q},null===(L=this.eventHandler)||void 0===L||L.dispatch("onChannelMessage",de),[2];case 16:return he={errorCode:0,reason:""},[4,E.call(this,{status:he,thirdMessage:W,msgBody:W.contents[0],msgId:Y,type:Q,from:ee,to:te,time:p,onlineState:q,ignoreCallback:!0,format:!0,isContentReplaced:K})];case 17:return pe=f.sent(),fe=!!e.to&&-1!==e.to.domain.indexOf("conference"),pe.chatType=fe?"groupChat":"singleChat",me=W.editMessageId&&new(o())(W.editMessageId.low,W.editMessageId.high,W.editMessageId.unsigned).toString(),ge={},"txt"===pe.type?(ve=pe.type,ye=pe.chatType,_e=pe.to,Ee=pe.from,be=pe.time,Te=pe.modifiedInfo,ge={id:me,type:ve,chatType:ye,to:_e,from:Ee,time:be,modifiedInfo:Te,msg:pe.msg},pe.translations&&(ge.translations=pe.translations)):"custom"===pe.type&&((ge=pe).id=me,delete ge.onlineState),ge?[4,null===(j=null===(U=this._localCache)||void 0===U?void 0:U.getInstance())||void 0===j?void 0:j.getMessageByServerMsgId(me)]:[3,19];case 18:"txt"===(null==(Se=f.sent())?void 0:Se.type)&&"txt"===ge.type?null===(B=null===(V=this._localCache)||void 0===V?void 0:V.getInstance())||void 0===B||B.putMessageToDB(h(h({},Se),{msg:ge.msg,modifiedInfo:ge.modifiedInfo,translations:ge.translations})):"custom"===(null==Se?void 0:Se.type)&&"custom"===ge.type&&(null===(F=null===(z=this._localCache)||void 0===z?void 0:z.getInstance())||void 0===F||F.putMessageToDB(h(h({},Se),{modifiedInfo:ge.modifiedInfo,customEvent:ge.customEvent,customExts:ge.customExts,ext:ge.ext}))),f.label=19;case 19:return"txt"!==pe.type&&"custom"!==pe.type||null===(H=this.eventHandler)||void 0===H||H.dispatch("onModifiedMessage",ge),[2];case 20:return l.kg.error("unexpected message type: ".concat(W.type)),[2];case 21:we="normal",Re=!1,"chat"===Q.toLowerCase()||"singleChat"===Q?Ce="singleChat":"groupchat"===Q.toLowerCase()||"groupChat"===Q?Ce="groupChat":(Ce="chatRoom",q=1,e.ext&&(Ie=g(e.ext),Re=!!(null==Ie?void 0:Ie.is_broadcast),we=0===Ie.chatroom_msg_tag?"high":2===Ie.chatroom_msg_tag?"low":"normal")),Ae=0,f.label=22;case 22:return Ae<W.contents.length?[4,E.call(this,{status:t,thirdMessage:W,msgBody:W.contents[Ae],msgId:Y,type:Q,from:ee,to:te,time:p,onlineState:q,chatType:Ce,ignoreCallback:n,priority:we,format:r,broadcast:Re,isContentReplaced:K})]:[3,25];case 23:return[2,f.sent()];case 24:return Ae++,[3,22];case 25:return[2]}}))}))}},7288:function(e,t,n){var r,o;n.d(t,{r:function(){return r}}),(o=r||(r={}))[o.CREATE=0]="CREATE",o[o.FAIL=1]="FAIL",o[o.INPROGRESS=2]="INPROGRESS",o[o.SUCCESS=3]="SUCCESS"},9743:function(e,t,n){n.d(t,{E7:function(){return o},MQ:function(){return r},un:function(){return i}}),n(2222);var r=function(e){return"".concat(e.conversationType,"-").concat(e.conversationId)},o=function(e){var t=e.isRecallSelfMsg,n=e.conversation,r=e.recalledMsgTime,o=n.unReadCount,i=void 0===o?0:o,a=n.unreadCountClearTimestamp;return t||(void 0===a?0:a)>r?i:i&&i>0?i-1:0},i=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}},7360:function(e,t,n){function r(){console.log&&(console.log.apply||Function.prototype.apply.apply(console.log,[console,arguments])),console.trace}n.d(t,{kg:function(){return g}}),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(2222),n(8309),n(9600),n(3843),n(3710),n(2564),n(285),n(1637),n(4812),n(9554),n(2772),n(4916);var o="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=n(4024);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s,c,l=function(e,t,n,r){return new(n||(n=Promise))((function(t,o){function i(e){try{s(r.next(e))}catch(t){o(t)}}function a(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}s((r=r.apply(e,[])).next())}))},u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=function(){},h={};(c=s||(s={}))[c.TRACE=0]="TRACE",c[c.DEBUG=1]="DEBUG",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.SILENT=5]="SILENT";var p=function(){function e(e,t,n){this.name=e||"defaultLogger",this.currentLevel=0,this.useCookiePersist=!1,this.storageLogLevelKey="loglevel",this.levels=s,this.consoleLogVisibility=!0,this.logMethods=["trace","debug","info","warn","error"],this.methodFactory=n||this.defaultMethodFactory,this.report=!1;var r=this._getPersistedLevel();null==r&&(r=null===t?"WARN":t),this.logs=[],this.reportLogs=[],this.reportInterval=3e5,this.timer=null,this.config={useCache:!1,maxCache:3145728,color:"",background:""},this.logBytes=0,this.setLevel(r,!1,"")}return e.prototype.reportLog=function(){var e,t,n;return l(this,void 0,void 0,(function(){var r,o,a,s,c,l,d,h;return u(this,(function(u){switch(u.label){case 0:if(0===(null===(e=this.reportLogs)||void 0===e?void 0:e.length))return[2];for(r=2097152,o=this.reportLogs.join("\n")+"\n",a=o.length,s=[];a>r;)s.push(o.substring(0,r)),a-=r,o=o.substring(r);s.push(o),c=0,l=s,u.label=1;case 1:if(!(c<l.length))return[3,8];if(d=l[c],this.reportLogs=[],!(null===(n=null===(t=this.connection)||void 0===t?void 0:t.context)||void 0===n?void 0:n.accessToken))return[2];u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.reportData(d)];case 3:return"ok"!==(null==(h=u.sent())?void 0:h.status)&&this.reportLogs.unshift(d),[3,5];case 4:return u.sent(),this.reportLogs.unshift(d),[3,5];case 5:return[4,i.P6.delay(3e3)];case 6:u.sent(),u.label=7;case 7:return c++,[3,1];case 8:return[2]}}))}))},e.prototype.reportData=function(e){var t,n=this;if(this.connection){var r=this.connection.context||{},o=r.orgName,a=r.appName,s=r.accessToken,c=r.userId,l={url:"".concat(null===(t=this.connection)||void 0===t?void 0:t.apiUrl,"/").concat(o,"/").concat(a,"/sdk/users/").concat(c,"/client/logs"),type:"POST",data:JSON.stringify({resource:this.connection.clientResource||"random_".concat(Date.now()),logContent:e}),dataType:"json",headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"}};return i.hj.call(this.connection,l).then((function(e){return n.log("report log success",e),e})).catch((function(e){n.error("report log error",e)}))}this.error("report log error","connection is null")},e.prototype._regularlyReportLogs=function(){var e,t=this;this.timer&&clearInterval(this.timer),(null!==(e=this.reportInterval)&&void 0!==e?e:0)<6e4&&(this.reportInterval=6e4),this.timer=setInterval((function(){t.reportLog()}),this.reportInterval||3e5)},e.prototype._stopReportLogs=function(){return l(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.reportLog()];case 1:return e.sent(),[3,3];case 2:return e.sent(),this.error("report log error when stopping upload"),[3,3];case 3:return this.reportLogs=[],clearInterval(this.timer),[2]}}))}))},e.prototype.setConfig=function(e){this.config=e},e.prototype.getLevel=function(){return this.currentLevel},e.prototype.setLevel=function(e,t,n){if("string"==typeof e&&(e=s[e]),void 0===e&&(e=0),!("number"==typeof e&&e>=0&&e<=this.levels.SILENT))throw Error("log.setLevel() called with invalid level: "+e);if(this.currentLevel=e,!1!==t&&this._persistLevel(e),this.replaceLoggingMethods(e,n||""),"undefined"==typeof console&&e<s.SILENT)throw Error("No console available for logging")},e.prototype.setDefaultLevel=function(e){this._getPersistedLevel()||this.setLevel(e,!1,"")},e.prototype.enableAll=function(e){this.setLevel(this.levels.TRACE,!0,"")},e.prototype.disableAll=function(e){this.setLevel(this.levels.SILENT,!0,"")},e.prototype.getLogs=function(){return this.logs},e.prototype.download=function(){if("undefined"!=typeof window&&"undefined"!=typeof document){var e=this.getLogs().join("\n"),t=new Blob([e],{type:"text/plain;charset=UTF-8"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.style.display="none",r.href=n,r.setAttribute("download","sdklog"),document.body.appendChild(r),r.click()}},e.prototype.setConsoleLogVisibility=function(e){this.consoleLogVisibility=e},e.prototype._bindMethod=function(e,t,n){var r=this,o=e[t],i=this.getTime();if(n)return this._cacheLog;if("function"==typeof o.bind)return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=r.getTime();r.consoleLogVisibility&&o.call.apply(o,function(e,t,n){if(2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([e,"".concat(a," IM SDK [").concat("log"===t?"debug":t,"]: ")],n,!1)),r.onLog&&r.onLog({time:a,level:"log"===t?"debug":t,logs:n}),r._cacheReportLogs.apply(r,n)};try{return Function.prototype.bind.call(o,e,"".concat(i," IM SDK [").concat("log"===t?"debug":t,"]: "))}catch(a){return function(){return Function.prototype.apply.apply(o,[e,arguments])}}},e.prototype.getTime=function(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()},e.prototype._cacheLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(new Date).toLocaleString()+": ",r="";e.forEach((function(e){"object"===a(e)?r+=JSON.stringify(e)+" ":r+=e+" "})),this._cacheLogCall(n+r),this._cacheReportLogs.apply(this,e)},e.prototype._cacheLogCall=function(e){var t=e.length,n=this.logBytes+t,r=this.config.maxCache;if(!(t>=r)){if(n<r)this.logBytes+=t;else for(var o=n-r,i=0;i<o;){var a=this.logs.shift();void 0!==a&&(i+=a.length)}this.logs.push(e)}},e.prototype._cacheReportLogs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.report){var n=(new Date).toLocaleString()+": ",r="";e.forEach((function(e){"object"===a(e)?r+=JSON.stringify(e)+" ":r+=e+" "})),this.reportLogs.push(n+r)}},e.prototype._getPersistedLevel=function(){var e;if("undefined"==typeof window)return 5;if("undefined"===(e=window&&window.localStorage&&window.localStorage[this.storageLogLevelKey])){var t=window.document.cookie,n=t.indexOf(encodeURIComponent(this.storageLogLevelKey));-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}return e||5},e.prototype._persistLevel=function(e){var t=this.logMethods[e]||"SILENT";"undefined"!=typeof window&&(window.localStorage&&(window.localStorage[this.storageLogLevelKey]=t),this.useCookiePersist&&(window.document.cookie=encodeURIComponent(this.storageLogLevelKey)+"="+t+";"))},e.prototype.replaceLoggingMethods=function(e,t){for(var n=this,r=0;r<this.logMethods.length;r++){var o=this.logMethods[r];this[o]=r<e?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.report&&n._cacheReportLogs.apply(n,e)}:this.methodFactory(o,e,t)}this.log=this.debug},e.prototype.defaultMethodFactory=function(e,t,n){return this.realMethod(e)||this.enableLoggingWhenConsoleArrives.apply(this,[e,t,n])},e.prototype.realMethod=function(e){return"debug"===e&&(e="log"),"undefined"!=typeof console&&("trace"===e&&o?r:void 0!==console[e]?this._bindMethod(console,e,this.config.useCache):void 0!==console.log?this._bindMethod(console,"log",this.config.useCache):d)},e.prototype.enableLoggingWhenConsoleArrives=function(e,t,n){return function(){"undefined"!=typeof console&&(this.replaceLoggingMethods.call(this,t,n),this[e].apply(this,arguments))}.bind(this)},e}(),f=new p;f.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");return this};var m="undefined"!=typeof window?window.log:void 0;f.noConflict=function(){return"undefined"!=typeof window&&window.log===f&&(window.log=m),f},f.getLoggers=function(){return h},f.initReport=function(e){var t=e.report,n=e.reportInterval,r=e.connection;f.report=t,f.reportInterval=n,f.connection=r,t&&f._regularlyReportLogs()};var g=f},2449:function(e,t,n){n.d(t,{Message:function(){return g}});var r=n(4024),o=function(){function e(e){var t=e.id;this.id=t,this.type=e.type}return e.prototype.set=function(e){this.body={id:this.id,ackId:e.id,type:"read",to:e.to,from:e.from||"",chatType:e.chatType}},e.create=function(e){return{id:r.P6.getUniqueId(),chatType:e.chatType,ackId:e.id,type:"read",to:e.to,from:e.from||"",ackContent:e.ackContent,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly}},e}(),i=function(){function e(e){this.id=e.id,this.type=e.type}return e.prototype.set=function(e){this.body={id:this.id,ackId:e.ackId,type:"delivery",to:e.to,from:e.from||""}},e.create=function(e){return{id:r.P6.getUniqueId(),ackId:e.ackId,type:"delivery",to:e.to,from:e.from||"",isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly}},e}(),a=(n(3843),n(3710),function(){function e(e){var t=e.type,n=e.id;this.id=n,this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"channel",to:e.to,from:e.from||"",time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:r.P6.getUniqueId(),type:"channel",chatType:e.chatType||"singleChat",to:e.to,from:e.from||"",time:Date.now(),isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly}},e}()),s=(n(9753),function(){function e(e){var t=e.type,n=e.id||r.P6.getUniqueId();this.id=n,this.type=t,this.value=""}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"txt",to:e.to,msg:e.msg,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),isChatThread:e.isChatThread},this.value=e.msg},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){var t,n;return(null===(t=e.msgConfig)||void 0===t?void 0:t.languages)&&Array.isArray(null===(n=e.msgConfig)||void 0===n?void 0:n.languages),{type:"txt",id:r.P6.getUniqueId(),msg:e.msg,to:e.to,from:e.from||"",chatType:e.chatType,ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}()),c=function(){function e(e){var t=e.type,n=e.id;this.id=n||r.P6.getUniqueId(),this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"cmd",to:e.to,action:e.action,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:r.P6.getUniqueId(),type:"cmd",to:e.to,from:e.from||"",chatType:e.chatType||"singleChat",action:e.action,time:Date.now(),ext:e.ext,msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),l=function(){function e(e){var t=e.type,n=e.id||r.P6.getUniqueId();this.id=n,this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"custom",to:e.to,customEvent:e.customEvent,customExts:e.customExts,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:r.P6.getUniqueId(),chatType:e.chatType||"singleChat",type:"custom",to:e.to,customEvent:e.customEvent,customExts:e.customExts,from:e.from||"",ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),u=function(){function e(e){var t=e.type,n=e.id;this.id=n||r.P6.getUniqueId(),this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"loc",to:e.to,addr:e.addr,buildingName:e.buildingName,lat:e.lat,lng:e.lng,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:r.P6.getUniqueId(),chatType:e.chatType||"singleChat",type:"loc",to:e.to,addr:e.addr,buildingName:e.buildingName,lat:e.lat,lng:e.lng,from:e.from||"",ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),d=function(){function e(e){var t=e.type,n=e.id||r.P6.getUniqueId();this.id=n,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&r.P6.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"img",file:e.file,width:e.width,height:e.height,to:e.to,from:e.from||"",roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:r.P6.getUniqueId(),chatType:e.chatType,type:"img",url:e.url,width:e.width,height:e.height,file:e.file,to:e.to,from:e.from||"",ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,file_length:e.file_length,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList,thumbnailWidth:e.thumbnailWidth,thumbnailHeight:e.thumbnailHeight}},e}(),h=function(){function e(e){var t=e.type,n=e.id||r.P6.getUniqueId();this.id=n,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&r.P6.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"audio",file:e.file,filename:e.filename,length:e.length,file_length:e.file_length,fileInputId:e.fileInputId,to:e.to,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:r.P6.getUniqueId(),chatType:e.chatType,type:"audio",filename:e.filename,length:e.length,file:e.file,to:e.to,from:e.from||"",ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,file_length:e.file_length,msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),p=function(){function e(e){var t=e.type,n=e.id;this.id=n,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&r.P6.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"video",file:e.file,filename:e.filename,length:e.length,file_length:e.file_length,fileInputId:e.fileInputId,to:e.to,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),apiUrl:e.apiUrl,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:r.P6.getUniqueId(),chatType:e.chatType||"singleChat",type:"video",file:e.file,filename:e.filename,length:e.length,file_length:e.file_length,fileInputId:e.fileInputId,to:e.to,from:e.from||"",ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),f=function(){function e(e){var t=e.type,n=e.id;this.id=n,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&r.P6.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"file",file:e.file,filename:e.filename,fileInputId:e.fileInputId,to:e.to,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:r.P6.getUniqueId(),chatType:e.chatType||"singleChat",type:"file",file:e.file,filename:e.filename,fileInputId:e.fileInputId,file_length:e.file_length,to:e.to,from:e.from||"",ext:e.ext,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),m=function(){function e(e){var t=e.type,n=e.id||r.P6.getUniqueId();this.id=n,this.type=t,this.value=""}return e.create=function(e){return{type:"combine",id:r.P6.getUniqueId(),to:e.to,from:e.from||"",chatType:e.chatType,ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList,compatibleText:e.compatibleText,title:e.title,summary:e.summary,messageList:e.messageList,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete}},e}(),g=function(){function e(t,n){return this.type=t,this.id=n||r.P6.getUniqueId(),e.createOldMsg({type:t,id:this.id})}return e.createOldMsg=function(e){switch(e.type){case"read":return new o({type:"read",id:e.id});case"delivery":return new i({type:"delivery",id:e.id});case"channel":return new a({type:"channel",id:e.id});case"txt":return new s({type:"txt",id:e.id});case"cmd":return new c({type:"cmd",id:e.id});case"custom":return new l({type:"custom",id:e.id});case"loc":return new u({type:"loc",id:e.id});case"img":return new d({type:"img",id:e.id});case"audio":return new h({type:"audio",id:e.id});case"video":return new p({type:"video",id:e.id});case"file":return new f({type:"file",id:e.id})}},e.create=function(e){return"txt"!==(n=e).type||"version"in n?"img"!==(t=e).type||"version"in t?function(e){return"cmd"===e.type&&!("version"in e)}(e)?c.create(e):function(e){return"file"===e.type&&!("version"in e)}(e)?f.create(e):function(e){return"audio"===e.type&&!("version"in e)}(e)?h.create(e):function(e){return"video"===e.type&&!("version"in e)}(e)?p.create(e):function(e){return"custom"===e.type&&!("version"in e)}(e)?l.create(e):function(e){return"loc"===e.type&&!("version"in e)}(e)?u.create(e):function(e){return"channel"===e.type&&!("version"in e)}(e)?a.create(e):function(e){return"delivery"===e.type&&!("version"in e)}(e)?i.create(e):function(e){return"read"===e.type&&!("version"in e)}(e)?o.create(e):function(e){return"combine"===e.type&&!("version"in e)}(e)?m.create(e):{}:d.create(e):s.create(e);var t,n},e.prototype.set=function(e){},e.getFileUrl=r.P6.getFileUrl,e}()},5531:function(e,t,n){var r,o;n.d(t,{E:function(){return r}}),(o=r||(r={}))[o.REQUEST_SUCCESS=0]="REQUEST_SUCCESS",o[o.REQUEST_TIMEOUT=-1]="REQUEST_TIMEOUT",o[o.REQUEST_UNKNOWN=-2]="REQUEST_UNKNOWN",o[o.REQUEST_PARAMETER_ERROR=-3]="REQUEST_PARAMETER_ERROR",o[o.REQUEST_ABORT=-4]="REQUEST_ABORT",o[o.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR=0]="WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR",o[o.WEBIM_CONNCTION_OPEN_ERROR=1]="WEBIM_CONNCTION_OPEN_ERROR",o[o.WEBIM_CONNCTION_AUTH_ERROR=2]="WEBIM_CONNCTION_AUTH_ERROR",o[o.WEBIM_CONNCTION_OPEN_USERGRID_ERROR=3]="WEBIM_CONNCTION_OPEN_USERGRID_ERROR",o[o.WEBIM_CONNCTION_ATTACH_ERROR=4]="WEBIM_CONNCTION_ATTACH_ERROR",o[o.WEBIM_CONNCTION_ATTACH_USERGRID_ERROR=5]="WEBIM_CONNCTION_ATTACH_USERGRID_ERROR",o[o.WEBIM_CONNCTION_REOPEN_ERROR=6]="WEBIM_CONNCTION_REOPEN_ERROR",o[o.WEBIM_CONNCTION_SERVER_CLOSE_ERROR=7]="WEBIM_CONNCTION_SERVER_CLOSE_ERROR",o[o.WEBIM_CONNCTION_SERVER_ERROR=8]="WEBIM_CONNCTION_SERVER_ERROR",o[o.WEBIM_CONNCTION_IQ_ERROR=9]="WEBIM_CONNCTION_IQ_ERROR",o[o.WEBIM_CONNCTION_PING_ERROR=10]="WEBIM_CONNCTION_PING_ERROR",o[o.WEBIM_CONNCTION_NOTIFYVERSION_ERROR=11]="WEBIM_CONNCTION_NOTIFYVERSION_ERROR",o[o.WEBIM_CONNCTION_GETROSTER_ERROR=12]="WEBIM_CONNCTION_GETROSTER_ERROR",o[o.WEBIM_CONNCTION_CROSSDOMAIN_ERROR=13]="WEBIM_CONNCTION_CROSSDOMAIN_ERROR",o[o.WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES=14]="WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES",o[o.WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR=15]="WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR",o[o.WEBIM_CONNCTION_DISCONNECTED=16]="WEBIM_CONNCTION_DISCONNECTED",o[o.WEBIM_CONNCTION_AJAX_ERROR=17]="WEBIM_CONNCTION_AJAX_ERROR",o[o.WEBIM_CONNCTION_JOINROOM_ERROR=18]="WEBIM_CONNCTION_JOINROOM_ERROR",o[o.WEBIM_CONNCTION_GETROOM_ERROR=19]="WEBIM_CONNCTION_GETROOM_ERROR",o[o.WEBIM_CONNCTION_GETROOMINFO_ERROR=20]="WEBIM_CONNCTION_GETROOMINFO_ERROR",o[o.WEBIM_CONNCTION_GETROOMMEMBER_ERROR=21]="WEBIM_CONNCTION_GETROOMMEMBER_ERROR",o[o.WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR=22]="WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR",o[o.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR=23]="WEBIM_CONNCTION_LOAD_CHATROOM_ERROR",o[o.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR=24]="WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR",o[o.WEBIM_CONNCTION_JOINCHATROOM_ERROR=25]="WEBIM_CONNCTION_JOINCHATROOM_ERROR",o[o.WEBIM_CONNCTION_QUITCHATROOM_ERROR=26]="WEBIM_CONNCTION_QUITCHATROOM_ERROR",o[o.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR=27]="WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR",o[o.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR=28]="WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR",o[o.WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR=29]="WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR",o[o.WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR=30]="WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR",o[o.WEBIM_CONNCTION_CALLBACK_INNER_ERROR=31]="WEBIM_CONNCTION_CALLBACK_INNER_ERROR",o[o.WEBIM_CONNCTION_CLIENT_OFFLINE=32]="WEBIM_CONNCTION_CLIENT_OFFLINE",o[o.WEBIM_CONNCTION_CLIENT_LOGOUT=33]="WEBIM_CONNCTION_CLIENT_LOGOUT",o[o.WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR=34]="WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR",o[o.WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP=35]="WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP",o[o.WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP=36]="WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP",o[o.WEBIM_CONNECTION_ACCEPT_JOIN_GROUP=37]="WEBIM_CONNECTION_ACCEPT_JOIN_GROUP",o[o.WEBIM_CONNECTION_DECLINE_JOIN_GROUP=38]="WEBIM_CONNECTION_DECLINE_JOIN_GROUP",o[o.WEBIM_CONNECTION_CLOSED=39]="WEBIM_CONNECTION_CLOSED",o[o.WEBIM_CONNECTION_ERROR=40]="WEBIM_CONNECTION_ERROR",o[o.MAX_LIMIT=50]="MAX_LIMIT",o[o.MESSAGE_NOT_FOUND=51]="MESSAGE_NOT_FOUND",o[o.NO_PERMISSION=52]="NO_PERMISSION",o[o.OPERATION_UNSUPPORTED=53]="OPERATION_UNSUPPORTED",o[o.OPERATION_NOT_ALLOWED=54]="OPERATION_NOT_ALLOWED",o[o.WEBIM_TOKEN_EXPIRED=56]="WEBIM_TOKEN_EXPIRED",o[o.WEBIM_SERVER_SERVING_DISABLED=57]="WEBIM_SERVER_SERVING_DISABLED",o[o.WEBIM_UPLOADFILE_BROWSER_ERROR=100]="WEBIM_UPLOADFILE_BROWSER_ERROR",o[o.WEBIM_UPLOADFILE_ERROR=101]="WEBIM_UPLOADFILE_ERROR",o[o.WEBIM_UPLOADFILE_NO_LOGIN=102]="WEBIM_UPLOADFILE_NO_LOGIN",o[o.WEBIM_UPLOADFILE_NO_FILE=103]="WEBIM_UPLOADFILE_NO_FILE",o[o.WEBIM_DOWNLOADFILE_ERROR=200]="WEBIM_DOWNLOADFILE_ERROR",o[o.WEBIM_DOWNLOADFILE_NO_LOGIN=201]="WEBIM_DOWNLOADFILE_NO_LOGIN",o[o.WEBIM_DOWNLOADFILE_BROWSER_ERROR=202]="WEBIM_DOWNLOADFILE_BROWSER_ERROR",o[o.PARSE_FILE_ERROR=203]="PARSE_FILE_ERROR",o[o.USER_NOT_FOUND=204]="USER_NOT_FOUND",o[o.MESSAGE_PARAMETER_ERROR=205]="MESSAGE_PARAMETER_ERROR",o[o.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE=206]="WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE",o[o.WEBIM_CONNCTION_USER_REMOVED=207]="WEBIM_CONNCTION_USER_REMOVED",o[o.WEBIM_USER_ALREADY_LOGIN=208]="WEBIM_USER_ALREADY_LOGIN",o[o.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD=216]="WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD",o[o.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE=217]="WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE",o[o.USER_MUTED_BY_ADMIN=219]="USER_MUTED_BY_ADMIN",o[o.USER_NOT_FRIEND=221]="USER_NOT_FRIEND",o[o.WEBIM_MESSAGE_REC_TEXT=300]="WEBIM_MESSAGE_REC_TEXT",o[o.WEBIM_MESSAGE_REC_TEXT_ERROR=301]="WEBIM_MESSAGE_REC_TEXT_ERROR",o[o.WEBIM_MESSAGE_REC_EMOTION=302]="WEBIM_MESSAGE_REC_EMOTION",o[o.WEBIM_MESSAGE_REC_PHOTO=303]="WEBIM_MESSAGE_REC_PHOTO",o[o.SERVER_GET_DNSLIST_FAILED=304]="SERVER_GET_DNSLIST_FAILED",o[o.WEBIM_MESSAGE_REC_AUDIO_FILE=305]="WEBIM_MESSAGE_REC_AUDIO_FILE",o[o.WEBIM_MESSAGE_REC_VEDIO=306]="WEBIM_MESSAGE_REC_VEDIO",o[o.WEBIM_MESSAGE_REC_VEDIO_FILE=307]="WEBIM_MESSAGE_REC_VEDIO_FILE",o[o.WEBIM_MESSAGE_REC_FILE=308]="WEBIM_MESSAGE_REC_FILE",o[o.WEBIM_MESSAGE_SED_TEXT=309]="WEBIM_MESSAGE_SED_TEXT",o[o.WEBIM_MESSAGE_SED_EMOTION=310]="WEBIM_MESSAGE_SED_EMOTION",o[o.WEBIM_MESSAGE_SED_PHOTO=311]="WEBIM_MESSAGE_SED_PHOTO",o[o.WEBIM_MESSAGE_SED_AUDIO=312]="WEBIM_MESSAGE_SED_AUDIO",o[o.WEBIM_MESSAGE_SED_AUDIO_FILE=313]="WEBIM_MESSAGE_SED_AUDIO_FILE",o[o.WEBIM_MESSAGE_SED_VEDIO=314]="WEBIM_MESSAGE_SED_VEDIO",o[o.WEBIM_MESSAGE_SED_VEDIO_FILE=315]="WEBIM_MESSAGE_SED_VEDIO_FILE",o[o.WEBIM_MESSAGE_SED_FILE=316]="WEBIM_MESSAGE_SED_FILE",o[o.WEBIM_MESSAGE_SED_ERROR=317]="WEBIM_MESSAGE_SED_ERROR",o[o.STATUS_INIT=400]="STATUS_INIT",o[o.STATUS_DOLOGIN_USERGRID=401]="STATUS_DOLOGIN_USERGRID",o[o.STATUS_DOLOGIN_IM=402]="STATUS_DOLOGIN_IM",o[o.STATUS_OPENED=403]="STATUS_OPENED",o[o.STATUS_CLOSING=404]="STATUS_CLOSING",o[o.STATUS_CLOSED=405]="STATUS_CLOSED",o[o.STATUS_ERROR=406]="STATUS_ERROR",o[o.SERVER_BUSY=500]="SERVER_BUSY",o[o.MESSAGE_INCLUDE_ILLEGAL_CONTENT=501]="MESSAGE_INCLUDE_ILLEGAL_CONTENT",o[o.MESSAGE_EXTERNAL_LOGIC_BLOCKED=502]="MESSAGE_EXTERNAL_LOGIC_BLOCKED",o[o.SERVER_UNKNOWN_ERROR=503]="SERVER_UNKNOWN_ERROR",o[o.MESSAGE_RECALL_TIME_LIMIT=504]="MESSAGE_RECALL_TIME_LIMIT",o[o.SERVICE_NOT_ENABLED=505]="SERVICE_NOT_ENABLED",o[o.SERVICE_NOT_ALLOW_MESSAGING=506]="SERVICE_NOT_ALLOW_MESSAGING",o[o.SERVICE_NOT_ALLOW_MESSAGING_MUTE=507]="SERVICE_NOT_ALLOW_MESSAGING_MUTE",o[o.MESSAGE_MODERATION_BLOCKED=508]="MESSAGE_MODERATION_BLOCKED",o[o.MESSAGE_CURRENT_LIMITING=509]="MESSAGE_CURRENT_LIMITING",o[o.MESSAGE_WEBSOCKET_DISCONNECTED=510]="MESSAGE_WEBSOCKET_DISCONNECTED",o[o.MESSAGE_SIZE_LIMIT=511]="MESSAGE_SIZE_LIMIT",o[o.MESSAGE_SEND_TIMEOUT=512]="MESSAGE_SEND_TIMEOUT",o[o.GROUP_NOT_EXIST=605]="GROUP_NOT_EXIST",o[o.GROUP_NOT_JOINED=602]="GROUP_NOT_JOINED",o[o.GROUP_MEMBERS_FULL=606]="GROUP_MEMBERS_FULL",o[o.PERMISSION_DENIED=603]="PERMISSION_DENIED",o[o.WEBIM_LOAD_MSG_ERROR=604]="WEBIM_LOAD_MSG_ERROR",o[o.GROUP_ALREADY_JOINED=601]="GROUP_ALREADY_JOINED",o[o.GROUP_MEMBERS_LIMIT=607]="GROUP_MEMBERS_LIMIT",o[o.GROUP_IS_DISABLED=608]="GROUP_IS_DISABLED",o[o.GROUP_MEMBER_ATTRIBUTES_SET_FAILED=609]="GROUP_MEMBER_ATTRIBUTES_SET_FAILED",o[o.REST_PARAMS_STATUS=700]="REST_PARAMS_STATUS",o[o.CHATROOM_NOT_JOINED=702]="CHATROOM_NOT_JOINED",o[o.CHATROOM_MEMBERS_FULL=704]="CHATROOM_MEMBERS_FULL",o[o.CHATROOM_NOT_EXIST=705]="CHATROOM_NOT_EXIST",o[o.LOCAL_DB_OPERATION_FAILED=800]="LOCAL_DB_OPERATION_FAILED",o[o.SDK_RUNTIME_ERROR=999]="SDK_RUNTIME_ERROR",o[o.PRESENCE_PARAM_EXCEED=1100]="PRESENCE_PARAM_EXCEED",o[o.REACTION_ALREADY_ADDED=1101]="REACTION_ALREADY_ADDED",o[o.REACTION_CREATING=1102]="REACTION_CREATING",o[o.REACTION_OPERATION_IS_ILLEGAL=1103]="REACTION_OPERATION_IS_ILLEGAL",o[o.TRANSLATION_NOT_VALID=1200]="TRANSLATION_NOT_VALID",o[o.TRANSLATION_TEXT_TOO_LONG=1201]="TRANSLATION_TEXT_TOO_LONG",o[o.TRANSLATION_FAILED=1204]="TRANSLATION_FAILED",o[o.THREAD_NOT_EXIST=1300]="THREAD_NOT_EXIST",o[o.THREAD_ALREADY_EXIST=1301]="THREAD_ALREADY_EXIST",o[o.MODIFY_MESSAGE_NOT_EXIST=1302]="MODIFY_MESSAGE_NOT_EXIST",o[o.MODIFY_MESSAGE_FORMAT_ERROR=1303]="MODIFY_MESSAGE_FORMAT_ERROR",o[o.MODIFY_MESSAGE_FAILED=1304]="MODIFY_MESSAGE_FAILED",o[o.CONVERSATION_NOT_EXIST=1400]="CONVERSATION_NOT_EXIST"},4998:function(e,t,n){var r,o;n.d(t,{a:function(){return r}}),n(7252),(o=r||(r={}))[o.SYNC_INIT=0]="SYNC_INIT",o[o.SYNC_START=1]="SYNC_START",o[o.SYNC_FINISH=2]="SYNC_FINISH"},9937:function(e,t,n){var r,o;n.d(t,{Z:function(){return r}}),(o=r||(r={}))[o.mark_0=0]="mark_0",o[o.mark_1=1]="mark_1",o[o.mark_2=2]="mark_2",o[o.mark_3=3]="mark_3",o[o.mark_4=4]="mark_4",o[o.mark_5=5]="mark_5",o[o.mark_6=6]="mark_6",o[o.mark_7=7]="mark_7",o[o.mark_8=8]="mark_8",o[o.mark_9=9]="mark_9",o[o.mark_10=10]="mark_10",o[o.mark_11=11]="mark_11",o[o.mark_12=12]="mark_12",o[o.mark_13=13]="mark_13",o[o.mark_14=14]="mark_14",o[o.mark_15=15]="mark_15",o[o.mark_16=16]="mark_16",o[o.mark_17=17]="mark_17",o[o.mark_18=18]="mark_18",o[o.mark_19=19]="mark_19"},4024:function(e,t,n){n.d(t,{PU:function(){return S},iw:function(){return A},hj:function(){return w},LR:function(){return M},cT:function(){return P},P6:function(){return j}}),n(9601),n(1539),n(8674),n(3710),n(7941),n(2564),n(6699),n(7042),n(2772),n(9714),n(9653),n(6992),n(8783),n(3948),n(285),n(1637),n(8309),n(4986),n(2222),n(4916);var r=n(5531),o=(n(2023),function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)}),i=function(e,t,n,i){var a,s,c,l,u,d,h,p,f,m,g,v,y,_,E,b,T,S,w,C,R,I,A,O,N=e.response;N&&"string"==typeof N&&(N=JSON.parse(N));var k=e.status,D={elapse:i,httpCode:k,errDesc:null==N?void 0:N.error_description};if(400===k){if(40002===N.error_code)return void t({type:r.E.THREAD_ALREADY_EXIST,message:null==N?void 0:N.error_description,extraInfo:D});if(40009===N.error_code)return void t({type:r.E.OPERATION_UNSUPPORTED,message:null==N?void 0:N.error_description,extraInfo:D});if(60005===N.error_code)return void t({type:r.E.GROUP_MEMBER_ATTRIBUTES_SET_FAILED,message:(null==N?void 0:N.desc)||(null==N?void 0:N.error_description),extraInfo:D});if(60010===N.error_code)return void((null==N?void 0:N.error_description.includes("exceeds chatgroup user metadata single value limit"))?t({type:r.E.MAX_LIMIT,message:(null==N?void 0:N.desc)||N.error_description,extraInfo:D}):t({type:r.E.NO_PERMISSION,message:(null==N?void 0:N.desc)||N.error_description,extraInfo:D}));if(60011===N.error_code)return void t({type:r.E.CHATROOM_NOT_JOINED,message:null==N?void 0:N.desc,extraInfo:D});if(14403===N.error_code)return void t({type:r.E.WEBIM_UPLOADFILE_ERROR,message:null==N?void 0:N.error_description,data:N,extraInfo:D});if(60006===N.error_code||60007===N.error_code||60009===N.error_code||60012===N.error_code)return void t({type:r.E.MAX_LIMIT,message:(null==N?void 0:N.desc)||(null==N?void 0:N.error_description),extraInfo:D});if(91104===N.error_code)return void t({type:r.E.NO_PERMISSION,message:null==N?void 0:N.error_description,extraInfo:D});if(null===(a=N.error_description)||void 0===a?void 0:a.includes("are not members of this group"))return(null===(s=e.responseURL)||void 0===s?void 0:s.includes("chatgroups"))?t({type:r.E.GROUP_NOT_JOINED,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):t({type:r.E.CHATROOM_NOT_JOINED,data:e.response||e.responseText,message:N.error_description,extraInfo:D}),void n({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:null==N?void 0:N.error_description,data:e.responseText,extraInfo:D});if("the app not open presence"===(null==N?void 0:N.result))return void t({type:r.E.SERVICE_NOT_ENABLED,message:null==N?void 0:N.result,extraInfo:D});if(null==N?void 0:N.error_description.includes("remark length must less"))return void t({type:r.E.MAX_LIMIT,message:null==N?void 0:N.error_description,extraInfo:D});switch(null==N?void 0:N.error_description){case"the user is already operation this message":t({type:r.E.REACTION_ALREADY_ADDED,message:null==N?void 0:N.error_description,extraInfo:D});break;case"The quantity has exceeded the limit!":t({type:r.E.MAX_LIMIT,message:null==N?void 0:N.error_description,extraInfo:D});break;case"The user not in this group!":t({type:r.E.GROUP_NOT_JOINED,message:null==N?void 0:N.error_description,extraInfo:D});break;case"the user operation is illegal!":t({type:r.E.REACTION_OPERATION_IS_ILLEGAL,message:null==N?void 0:N.error_description,extraInfo:D});break;case"this appKey is not open reaction service!":case"this appKey not open message roaming":t({type:r.E.SERVICE_NOT_ENABLED,message:null==N?void 0:N.error_description,extraInfo:D});break;case"this message is creating reaction, please try again.":t({type:r.E.REACTION_CREATING,message:null==N?void 0:N.error_description,extraInfo:D});break;case"groupId can not be null!":t({type:r.E.GROUP_NOT_EXIST,message:null==N?void 0:N.error_description,extraInfo:D});break;case"The input text is too long.":t({type:r.E.TRANSLATION_TEXT_TOO_LONG,message:null==N?void 0:N.error_description,extraInfo:D});break;case"The target language is not valid.":t({type:r.E.TRANSLATION_NOT_VALID,message:null==N?void 0:N.error_description,extraInfo:D});break;case"report failed, get message by id failed":t({type:r.E.MESSAGE_NOT_FOUND,message:null==N?void 0:N.error_description,extraInfo:D});break;case"ext is too big ":t({type:r.E.PRESENCE_PARAM_EXCEED,message:null==N?void 0:N.error_description,extraInfo:D});break;case"Request body not readable.Please check content type is correct!":case"param mark must be not empty, please check!":case"param mark illegal, please check it!":case"param pin_msg_id illegal, please check it!":t({type:r.E.REQUEST_PARAMETER_ERROR,message:null==N?void 0:N.error_description,extraInfo:D});break;case"updateRemark | they are not friends, please add as a friend first.":t({type:r.E.USER_NOT_FRIEND,message:null==N?void 0:N.error_description,extraInfo:D});break;default:t({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:null==N?void 0:N.error_description,data:e.responseText,extraInfo:D}),n({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:null==N?void 0:N.error_description,data:e.responseText,extraInfo:D})}}else if(401===k)40001===N.error_code||60001===N.error_code||"Unable to authenticate (OAuth)"===N.error_description?t({type:r.E.NO_PERMISSION,message:null==N?void 0:N.error_description,extraInfo:D}):(n({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:D}),t({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:D}));else if(403===k)4e4===N.error_code||60004===N.error_code||15002===N.error_code?t({type:r.E.SERVICE_NOT_ENABLED,message:null==N?void 0:N.error_description,extraInfo:D}):40003===N.error_code||40004===N.error_code?t({type:r.E.THREAD_ALREADY_EXIST,message:null==N?void 0:N.error_description,extraInfo:D}):40005===N.error_code||40007===N.error_code||91002===N.error_code?t({type:r.E.MAX_LIMIT,message:null==N?void 0:N.error_description,extraInfo:D}):60002===N.error_code?t({type:r.E.PERMISSION_DENIED,message:null==N?void 0:N.error_description,extraInfo:D}):91101===N.error_code?t({type:r.E.MAX_LIMIT,message:null==N?void 0:N.error_description,extraInfo:D}):91102===N.error_code&&t({type:r.E.REQUEST_PARAMETER_ERROR,message:N.error_description,extraInfo:D}),"group member list is full!"===N.error_description?(null===(c=e.responseURL)||void 0===c?void 0:c.includes("chatgroups"))?t({type:r.E.GROUP_MEMBERS_FULL,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):t({type:r.E.CHATROOM_MEMBERS_FULL,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):(null===(l=N.error_description)||void 0===l?void 0:l.includes(N.error_description.includes("already in group")))?(null===(u=e.responseURL)||void 0===u?void 0:u.includes("chatgroups"))&&t({type:r.E.GROUP_ALREADY_JOINED,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):(null===(d=N.error_description)||void 0===d?void 0:d.includes("are not members of this group"))?(null===(h=e.responseURL)||void 0===h?void 0:h.includes("chatgroups"))?t({type:r.E.GROUP_NOT_JOINED,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):t({type:r.E.CHATROOM_NOT_JOINED,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):(null===(p=N.error_description)||void 0===p?void 0:p.includes("service not open!"))||(null===(f=N.error_description)||void 0===f?void 0:f.includes("message report not open"))||(null===(m=N.error_description)||void 0===m?void 0:m.includes("messageroaming function not open"))?t({type:r.E.SERVICE_NOT_ENABLED,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):(null===(g=N.error_description)||void 0===g?void 0:g.includes("members size is greater than max user size !"))?t({type:r.E.GROUP_MEMBERS_LIMIT,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):(null===(v=N.error_description)||void 0===v?void 0:v.includes("can not operate this group, reason: group is disabled"))?t({type:r.E.GROUP_IS_DISABLED,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):(null===(y=N.error_description)||void 0===y?void 0:y.includes("Invitee's contact max count"))||(null===(_=N.error_description)||void 0===_?void 0:_.includes("Inviter's contact max count"))?t({type:r.E.MAX_LIMIT,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):t({type:r.E.PERMISSION_DENIED,data:e.response||e.responseText,message:"permission denied",extraInfo:o(o({},D),{errDesc:"permission denied"})}),n({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:D});else if(404===k)40011===N.error_code?t({type:r.E.THREAD_NOT_EXIST,message:null==N?void 0:N.error_description,extraInfo:D}):40012===N.error_code?t({type:r.E.NO_PERMISSION,message:null==N?void 0:N.error_description,extraInfo:D}):60003===N.error_code||20004===N.error_code?t({type:r.E.GROUP_NOT_JOINED,message:null==N?void 0:N.error_description,extraInfo:D}):91001===N.error_code&&t({type:r.E.CONVERSATION_NOT_EXIST,message:null==N?void 0:N.error_description,extraInfo:D}),(null===(E=N.error_description)||void 0===E?void 0:E.includes("do not find this group"))||(null===(b=N.error_description)||void 0===b?void 0:b.includes("does not exist"))?(null===(T=e.responseURL)||void 0===T?void 0:T.includes("chatgroups"))?t({type:r.E.GROUP_NOT_EXIST,data:e.response||e.responseText,message:"The chat room dose not exist.",extraInfo:o(o({},D),{errDesc:"The chat room dose not exist."})}):t({type:r.E.CHATROOM_NOT_EXIST,data:e.response||e.responseText,message:"The chat room dose not exist.",extraInfo:o(o({},D),{errDesc:"The chat room dose not exist."})}):(null===(S=N.error_description)||void 0===S?void 0:S.includes("username"))&&(null===(w=N.error_description)||void 0===w?void 0:w.includes("doesn't exist!'"))||(null===(C=N.error_description)||void 0===C?void 0:C.includes("user not found"))||(null===(R=N.error_description)||void 0===R?void 0:R.includes("Service resource not found"))&&"UserNotFoundException"===(null==N?void 0:N.exception)?t({type:r.E.USER_NOT_FOUND,data:e.response||e.responseText,message:N.error_description,extraInfo:D}):N.error_description.includes("user session pin message not exist")?t({type:r.E.MESSAGE_NOT_FOUND,message:N.error_description,extraInfo:D}):t({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.response||e.responseText,message:e.responseText,extraInfo:D}),n({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.response||e.responseText,message:e.responseText,extraInfo:D});else if(406===k)90004===N.error_code&&t({type:r.E.OPERATION_NOT_ALLOWED,message:null==N?void 0:N.error_description,extraInfo:D});else if(429===k||503===k){if(null===(I=N.error_description)||void 0===I?void 0:I.includes("The request has reached the maximum limit"))return void t({type:r.E.MAX_LIMIT,message:e.responseText,extraInfo:D});if(null===(A=N.error_description)||void 0===A?void 0:A.includes("upload client logs reached limit"))return void t({type:r.E.MAX_LIMIT,message:e.responseText});t({type:r.E.SERVER_BUSY,data:e.response||e.responseText,message:"Server is busy.",extraInfo:o(o({},D),{errDesc:"Server is busy."})}),n({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:"Server is busy.",extraInfo:o(o({},D),{errDesc:"Server is busy."})})}else if(500===k){if(40006===N.error_code||40008===N.error_code||40010===N.error_code)return void t({type:r.E.SERVER_UNKNOWN_ERROR,message:null==N?void 0:N.error_description,extraInfo:D});if(90005===N.error_code||99999===N.error_code)return void t({type:r.E.REQUEST_UNKNOWN,message:null==N?void 0:N.error_description,extraInfo:D});if(null===(O=N.error_description)||void 0===O?void 0:O.includes("translte failed!"))return void t({type:r.E.TRANSLATION_FAILED,message:e.responseText,extraInfo:D});t({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:"",extraInfo:D}),n({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:"",extraInfo:D})}else t({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:o(o({},D),{errDesc:"ajax error"})}),n({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:o(o({},D),{errDesc:"ajax error"})})},a=n(1595),s=n(2071),c=n(7360),l=5242880,u=5242880,d={size:0},h=(n(2526),n(1817),n(2165),n(5827),n(4553),n(561),n(4319)),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)};function f(){var e=this.context,t=e.orgName,n=e.appName,r=e.accessToken,o={url:"".concat(this.apiUrl,"/").concat(t,"/").concat(n,"/sdk/chatfiles/part-upload"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+r}};return c.kg.debug("Call multipartInit"),w.call(this,o,a.fI.SDK_INTERNAL).then((function(e){var t=e.entities[0];return{data:{fileMaxSize:t.file_upper_limit,partMinSize:t.part_lower_limit,uuid:t.uuid},extraInfo:e.extraInfo,type:e.type}}))}function m(e){var t=this;return new Promise((function(n,o){var i,a,s=(new Date).getTime(),l=t.context,u=l.orgName,d=l.appName,f=l.accessToken,m=e.uuid,g=e.partNumber,v=e.part,y=e.onProgress,_="".concat(t.apiUrl,"/").concat(u,"/").concat(d,"/sdk/chatfiles/part-upload/").concat(m),E=new XMLHttpRequest;c.kg.debug("Call multipartUpload"),E.upload&&(null===(a=(i=E.upload).addEventListener)||void 0===a||a.call(i,"progress",(function(e){null==y||y(e)}),!1)),E.addEventListener("abort",(function(){o({type:r.E.REQUEST_ABORT,message:"Request Abort",errorType:"onabort",xhr:E,extraInfo:{elapse:(new Date).getTime()-s,httpCode:E.status||-1,errDesc:"Request Abort",url:_}})}),!1),E.addEventListener("error",(function(){o({type:r.E.WEBIM_UPLOADFILE_ERROR,data:E,extraInfo:{elapse:(new Date).getTime()-s,httpCode:E.status||-1,errDesc:"request error",url:_}})}),!1),E.addEventListener("load",(function(){try{var e=JSON.parse(E.responseText);if(200!==E.status)return o({type:r.E.WEBIM_UPLOADFILE_ERROR,data:e,extraInfo:{elapse:(new Date).getTime()-s,httpCode:E.status||-1,errDesc:"part upload failed",url:_}}),!1;try{n(p(p({},e),{extraInfo:{elapse:(new Date).getTime()-s,httpCode:E.status||-1,url:_}}))}catch(t){o({type:r.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:t,extraInfo:{elapse:(new Date).getTime()-s,httpCode:E.status||-1,errDesc:"part upload failed",url:_}})}}catch(t){o({type:r.E.WEBIM_UPLOADFILE_ERROR,data:E.responseText,extraInfo:{elapse:(new Date).getTime()-s,httpCode:E.status||-1,errDesc:"part upload failed",url:_}})}}),!1),E.addEventListener("timeout",(function(){o({type:r.E.REQUEST_TIMEOUT,message:"request timeout",extraInfo:{elapse:(new Date).getTime()-s,httpCode:E.status||-1,errDesc:"request timeout",url:_}})}),!1);var b=new FormData;b.append("part_file",v),b.append("part_number",g),E.timeout=h.zj,E.open("PUT",_),E.setRequestHeader("restrict-access","true"),E.setRequestHeader("Accept","*/*"),E.setRequestHeader("Authorization","Bearer "+f),E.send(b)}))}function g(e){var t=e.uuid,n=e.thumbnailHeight,r=e.thumbnailWidth,o=this.context,i=o.orgName,s=o.appName,l=o.accessToken,u="".concat(this.apiUrl,"/").concat(i,"/").concat(s,"/sdk/chatfiles/part-upload/").concat(t,"?restrict-access=true");r&&(u+="&thumbnail-width=".concat(r)),n&&(u+="&thumbnail-height=".concat(n));var d={url:u,dataType:"json",type:"POST",headers:{Authorization:"Bearer "+l}};return c.kg.debug("Call multipartComplete"),w.call(this,d,a.fI.SDK_INTERNAL)}function v(e){var t=e.uuid,n=this.context,r=n.orgName,o=n.appName,i=n.accessToken,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/sdk/chatfiles/part-upload/").concat(t),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+i}};return c.kg.debug("Call multipartAbort"),w.call(this,s,a.fI.SDK_INTERNAL)}var y=function(e,t,n,r){return new(n||(n=Promise))((function(t,o){function i(e){try{s(r.next(e))}catch(t){o(t)}}function a(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}s((r=r.apply(e,[])).next())}))},_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},E=function(){function e(e,t){var n=this;this.handleUploadProgress=function(e,t){var r,o;if(e.total){n.progressArr[t]=e.loaded;var i=n.progressArr.reduce((function(e,t){return e+t}),0);null===(o=(r=n.options).onFileUploadProgress)||void 0===o||o.call(r,{isTrusted:e.isTrusted,type:e.type,loaded:i>n.file.size?n.file.size:i,total:n.file.size,lengthComputable:e.lengthComputable})}},this.uuid="",this.pool=[],this.progressArr=[],this.connection=e,this.options=t,this.partSize=l,this.file=t.file,this.init(),this.rpt=this.connection.dataReport.geOperateFun({operationName:a.fI.REST_UPLOAD_FILE_IN_PARTS})}return e.prototype.init=function(){var e,t,n,o;return y(this,void 0,void 0,(function(){var i,s,u,h,p,m,g,v,y,E,b,T,S,w,C;return _(this,(function(_){switch(_.label){case 0:return _.trys.push([0,4,,6]),[4,f.call(this.connection)];case 1:return i=_.sent(),s=i.data||{},u=s.fileMaxSize,h=void 0===u?0:u,p=s.partMinSize,m=void 0===p?l:p,g=s.uuid,v=void 0===g?"":g,y=i.extraInfo,T=y.elapse,S=y.httpCode,C=y.url,this.partSize=m,this.uuid=v,d.size=m,c.kg.debug("multipartInit success","uuid: ".concat(v),"fileMaxSize: ".concat(h),"partMinSize: ".concat(m)),this.file.size>h?[4,this.multipartAbort()]:[3,3];case 2:return _.sent(),null===(t=(e=this.options).onFileUploadError)||void 0===t||t.call(e,{code:r.E.WEBIM_UPLOADFILE_ERROR,message:"The file size exceeds the maximum limit"}),[2];case 3:return this.rpt({data:{requestUrl:C,requestName:a.c.REST_INIT_UPLOAD_TASK_IN_PARTS,requestElapse:T,requestMethod:"POST",isSuccess:1,code:S}}),this.upload(),[3,6];case 4:return E=_.sent(),b=(null==E?void 0:E.extraInfo)||{},T=b.elapse,S=b.httpCode,w=b.errDesc,C=b.url,this.rpt({data:{requestUrl:C,requestName:a.c.REST_INIT_UPLOAD_TASK_IN_PARTS,requestElapse:T,requestMethod:"POST",isSuccess:0,codeDesc:w,code:S}}),[4,this.multipartAbort()];case 5:return _.sent(),null===(o=null===(n=this.options)||void 0===n?void 0:n.onInitFail)||void 0===o||o.call(n),[3,6];case 6:return[2]}}))}))},e.prototype.upload=function(){var e,t,n;return y(this,void 0,void 0,(function(){var r,o,i,s,c,l,u=this;return _(this,(function(d){switch(d.label){case 0:(new FileReader).readAsArrayBuffer(this.file),r=this.file.size,o=Math.ceil(r/this.partSize),d.label=1;case 1:d.trys.push([1,7,,9]),i=function(t){var n,o,i,c;return _(this,(function(l){switch(l.label){case 0:return n=t*s.partSize,o=Math.min(r,n+s.partSize),i=null===(e=s.file)||void 0===e?void 0:e.slice(n,o),(c=m.call(s.connection,{uuid:s.uuid,partNumber:"".concat(t+1),part:i,onProgress:function(e){u.handleUploadProgress(e,t)}})).then((function(e){var t=(null==e?void 0:e.extraInfo)||{},n=t.elapse,r=t.httpCode,o=t.url;u.rpt({data:{requestUrl:o,requestName:a.c.REST_UPLOAD_PART,requestElapse:n,isSuccess:1,requestMethod:"PUT",code:r}}),u.handleTask(c)})),c.catch((function(e){var t=(null==e?void 0:e.extraInfo)||{},n=t.elapse,r=t.httpCode,o=t.url,i=t.errDesc;u.rpt({data:{requestUrl:o,requestName:a.c.REST_UPLOAD_PART,requestElapse:n,isSuccess:0,requestMethod:"PUT",code:r,codeDesc:i}}),delete e.extraInfo})),s.pool.push(c),4!==s.pool.length?[3,2]:[4,Promise.race(s.pool)];case 1:l.sent(),l.label=2;case 2:return[2]}}))},s=this,c=0,d.label=2;case 2:return c<o?[5,i(c)]:[3,5];case 3:d.sent(),d.label=4;case 4:return c++,[3,2];case 5:return[4,Promise.all(this.pool)];case 6:return d.sent(),this.multipartComplete(),[3,9];case 7:return l=d.sent(),[4,this.multipartAbort()];case 8:return d.sent(),this.rpt({data:{isLastApi:1,isSuccess:0}}),null===(n=(t=this.options).onFileUploadError)||void 0===n||n.call(t,l),[3,9];case 9:return[2]}}))}))},e.prototype.multipartComplete=function(){var e,t,n,r;return y(this,void 0,void 0,(function(){var o,i,s,c,l,u,d,h,p,f,m;return _(this,(function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),o=this.options.thumbnailInfo||{},i=o.width,s=o.height,[4,g.call(this.connection,{uuid:this.uuid,thumbnailHeight:s,thumbnailWidth:i})];case 1:return c=v.sent(),l=(null==c?void 0:c.extraInfo)||{},h=l.elapse,p=l.httpCode,m=l.url,this.rpt({data:{requestUrl:m,requestName:a.c.REST_COMPLETE_UPLOAD_PART,requestElapse:h,requestMethod:"POST",isSuccess:1,code:p}}),this.rpt({data:{isLastApi:1,isSuccess:1}}),null===(t=(e=this.options).onFileUploadComplete)||void 0===t||t.call(e,c),[3,3];case 2:return u=v.sent(),d=(null==u?void 0:u.extraInfo)||{},h=d.elapse,p=d.httpCode,f=d.errDesc,m=d.url,this.rpt({data:{requestUrl:m,requestName:a.c.REST_COMPLETE_UPLOAD_PART,requestElapse:h,requestMethod:"POST",isSuccess:0,codeDesc:f,code:p}}),this.rpt({data:{isLastApi:1,isSuccess:0}}),null===(r=(n=this.options).onFileUploadError)||void 0===r||r.call(n,u),[3,3];case 3:return[2]}}))}))},e.prototype.multipartAbort=function(){return y(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,c;return _(this,(function(l){switch(l.label){case 0:if(!this.uuid)return[2];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,v.call(this.connection,{uuid:this.uuid})];case 2:return e=l.sent(),t=(null==e?void 0:e.extraInfo)||{},o=t.elapse,i=t.httpCode,c=t.url,this.rpt({data:{requestUrl:c,requestName:a.c.REST_ABORT_UPLOAD_PART,requestElapse:o,requestMethod:"DELETE",isSuccess:1,code:i}}),[3,4];case 3:return n=l.sent(),r=(null==n?void 0:n.extraInfo)||{},o=r.elapse,i=r.httpCode,s=r.errDesc,c=r.url,this.rpt({data:{requestUrl:c,requestName:a.c.REST_ABORT_UPLOAD_PART,requestElapse:o,requestMethod:"DELETE",isSuccess:0,codeDesc:s,code:i}}),[3,4];case 4:return[2]}}))}))},e.prototype.handleTask=function(e){var t=this.pool.findIndex((function(t){return t===e}));this.pool.splice(t,1)},e}(),b=function(e){var t,n,o=this,i=(new Date).getTime(),s=e.apiUrl,c=e.orgName,l=e.appName,u=e.operateName,d=e.accessToken,p=e.uploadUrl||"".concat(s,"/").concat(c,"/").concat(l,"/chatfiles"),f=function(t){var n=(new Date).getTime()-i;o.dataReport&&u&&[a.fI.UPLOAD_MSG_ATTACH,a.fI.UPLOAD_CHATROOM_FILE,a.fI.UPLOAD_GROUP_FILE].includes(u)&&o.dataReport.geOperateFun({operationName:u})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:u,requestElapse:n,requestUrl:p,code:(null==g?void 0:g.status)||0,codeDesc:"upload file error"}}),e.onFileUploadError&&e.onFileUploadError(t)};function m(e){f({type:r.E.WEBIM_UPLOADFILE_ERROR,data:g})}var g=new XMLHttpRequest;g.upload&&(null===(n=(t=g.upload).addEventListener)||void 0===n||n.call(t,"progress",e.onFileUploadProgress||S,!1)),g.addEventListener("abort",e.onFileUploadCanceled||S,!1),g.addEventListener("error",m,!1),g.addEventListener("load",(function(t){try{var n=JSON.parse(g.responseText);if(400===g.status)return f({type:r.E.WEBIM_UPLOADFILE_ERROR,data:n}),!1;try{s=n,c=(new Date).getTime()-i,o.dataReport&&u&&[a.fI.UPLOAD_MSG_ATTACH,a.fI.UPLOAD_CHATROOM_FILE,a.fI.UPLOAD_GROUP_FILE].includes(u)&&o.dataReport.geOperateFun({operationName:u})({isEndApi:!0,data:{isSuccess:(null==s?void 0:s.error)?0:1,requestMethod:"POST",requestName:u,requestElapse:c,requestUrl:p,code:g.status,codeDesc:(null==s?void 0:s.error_description)||""}}),e.onFileUploadComplete&&e.onFileUploadComplete(s)}catch(s){f({type:r.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:s})}}catch(s){f({type:r.E.WEBIM_UPLOADFILE_ERROR,data:g.responseText})}var s,c}),!1),g.addEventListener("timeout",m,!1),g.timeout=h.zj,g.open("POST",p),g.setRequestHeader("restrict-access","true"),g.setRequestHeader("Accept","*/*"),g.setRequestHeader("Authorization","Bearer "+d);var v=new FormData;v.append("file",e.file.data),e.thumbnailWidth&&v.append("thumbnail-width",e.thumbnailWidth+""),e.thumbnailHeight&&v.append("thumbnail-height",e.thumbnailHeight+""),g.send(v)},T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},T.apply(this,arguments)},S=function(){};function w(e,t){var n,o=this;return D().platform===A.WEB?new Promise((function(t,o){var a=e.dataType||"text",s=e.success||S,l=e.error||S,u=new XMLHttpRequest;u.timeout=h.Gf;var d=!1;u.ontimeout=function(){c.kg.warn("request timeout"),d=!0;var e={type:r.E.REQUEST_TIMEOUT,message:"Request Timeout",errorType:"timeout_error",xhr:u};l(e),o(e)},u.onerror=function(){o({type:r.E.REQUEST_UNKNOWN,message:"Request Unknow Error",errorType:"onerror",xhr:u})},u.onabort=function(){o({type:r.E.REQUEST_ABORT,message:"Request Abort",errorType:"onabort",xhr:u})},u.onreadystatechange=function(){if(4===u.readyState){var e=(new Date).getTime()-n,h=u.status||0,p={elapse:e,httpCode:h};if(200===h){j.ajaxUnconventionalErrorTimes=0;try{switch(a){case"text":return s(u.responseText),void t(u.responseText);case"json":var f=JSON.parse(u.responseText);return f.extraInfo=p,s(f),void t(f);case"xml":return u.responseXML&&u.responseXML.documentElement?(s(u.responseXML.documentElement),void t(u.responseXML.documentElement)):(l({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:u.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}),void o({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:u.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}));default:l({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:u.responseText,message:"Invalid dataType"}),o({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:u.responseText,message:"Invalid dataType"})}return t(u.response||u.responseText),void s(u.response||u.responseText,u)}catch(m){o(m)}return}0===h?setTimeout((function(){c.kg.debug("request timeout:",d),!d&&i(u,o,l,e)}),0):([400,401,403,404,429,500,503].includes(h)||(c.kg.debug("rest api request fail status:",h),j.ajaxUnconventionalErrorTimes++),i(u,o,l,e))}0===u.readyState&&(l({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:u.responseText,message:"Request not initialized"}),o({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:u.responseText,message:"Request not initialized"}))},e.responseType&&u.responseType&&(u.responseType=e.responseType),e.mimeType&&u.overrideMimeType(e.mimeType);var p=e.type||"POST",f=e.data||null,m="";if("get"===p.toLowerCase()&&f){for(var g in f)f.hasOwnProperty(g)&&(m+=g+"="+f[g]+"&");m=m?m.slice(0,-1):m,e.url+=(e.url.indexOf("?")>0?"&":"?")+(m?m+"&":m)+"_v="+(new Date).getTime(),f=null,m=""}n=(new Date).getTime(),u.open(p,e.url);var v=e.headers||{};for(var y in v["Content-Type"]||(v["Content-Type"]="application/json"),v)v.hasOwnProperty(y)&&u.setRequestHeader(y,v[y]);u.send(f)})).then((function(n){return o.dataReport&&t&&t!==a.fI.SDK_INTERNAL&&o.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:T({isSuccess:1,requestUrl:e.url,requestName:t,requestMethod:e.type},L(n.extraInfo))}),t===a.fI.SDK_INTERNAL&&(n.extraInfo.url=e.url),t!==a.fI.SDK_INTERNAL&&delete n.extraInfo,"Object"===C(n)?T(T({},n),{type:r.E.REQUEST_SUCCESS}):{data:n,type:r.E.REQUEST_SUCCESS}})).catch((function(r){var i,s;if(o.dataReport&&t&&t!==a.fI.SDK_INTERNAL&&o.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:T({isSuccess:0,requestUrl:e.url,requestName:t,requestMethod:e.type},L(r.extraInfo))}),t===a.fI.SDK_INTERNAL)if(r.extraInfo)r.extraInfo.url=e.url;else{var c={elapse:(new Date).getTime()-n,httpCode:null!==(s=null===(i=r.xhr)||void 0===i?void 0:i.status)&&void 0!==s?s:0,url:e.url};r.extraInfo=c}throw t!==a.fI.SDK_INTERNAL&&delete r.extraInfo,r})):R.call(this,e,t)}function C(e){return Object.prototype.toString.call(e).slice(8,-1)}function R(e,t){var n=this;return new Promise((function(n,o){var i=e.success||S,a=e.error||S,l=e.type||"POST",u=e.data||null,d="",p=(new Date).getTime(),f=j.getEnvInfo();if("get"===l.toLowerCase()&&u){for(var m in u)u.hasOwnProperty(m)&&(d+=m+"="+u[m]+"&");d=d?d.slice(0,-1):d,e.url+=(e.url.indexOf("?")>0?"&":"?")+(d?d+"&":d)+"_v="+(new Date).getTime(),u=null,d=""}var g={url:e.url,data:e.data,method:l,headers:{},timeout:h.Gf,success:function(e){var r,s,l,u,d,h={elapse:(new Date).getTime()-p,httpCode:Number((null===(r=e.statusCode)||void 0===r?void 0:r.toString())||(null===(s=e.status)||void 0===s?void 0:s.toString())),errDesc:(null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.error_description)||""};if("200"===(null===(u=e.statusCode)||void 0===u?void 0:u.toString())||"200"===(null===(d=e.status)||void 0===d?void 0:d.toString())){e.data.extraInfo=h;var f=e.data;i(f),n(f)}else e.extraInfo=h,a(f=e),o(f),c.kg.debug(t,"reject reason: ",f)},complete:function(){},fail:function(e){var n={elapse:(new Date).getTime()-p,httpCode:s.Tp,errDesc:"request:fail"};if(e.extraInfo=n,e.data={error:"request:fail",error_description:"request:fail"},"request:fail timeout"===e.errMsg)return o({type:r.E.REQUEST_TIMEOUT,message:"Request Timeout",extraInfo:n}),void a({type:r.E.REQUEST_TIMEOUT,message:"Request Timeout",extraInfo:n});a(e),o(e),c.kg.error(t,"fail reason:",e)}};if("zfb"===f.platform||"dd"===f.platform?g.headers=e.headers:g.header=e.headers,"dd"===f.platform)return dd.httpRequest(g);f.global.request(g)})).then((function(o){return n.dataReport&&t&&t!==a.fI.SDK_INTERNAL&&n.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:T({isSuccess:1,requestUrl:e.url,requestName:t,requestMethod:e.type},L(o.extraInfo))}),t!==a.fI.SDK_INTERNAL&&delete o.extraInfo,"Object"===C(o)?T(T({},o),{type:r.E.REQUEST_SUCCESS}):{data:o,type:r.E.REQUEST_SUCCESS}})).catch((function(r){throw n.dataReport&&t&&t!==a.fI.SDK_INTERNAL&&n.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:T({isSuccess:0,requestUrl:e.url,requestName:t,requestMethod:e.type},L(r.extraInfo))}),t!==a.fI.SDK_INTERNAL&&delete r.extraInfo,r}))}function I(e,t){var n;return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(!e)return n;n=e.apply(void 0,t),e=null}}var A,O,N=I((function(e,t){var n=D();if(n.platform!==A.WEB){var r=n.global,o=function(n){n.isConnected?e():t()};r.offNetworkStatusChange&&r.offNetworkStatusChange(o),r.onNetworkStatusChange&&r.onNetworkStatusChange(o)}else"undefined"!=typeof addEventListener&&(window.addEventListener("online",e),window.addEventListener("offline",t))})),k=I((function(e,t){var n,r,o=D();if(o.platform===A.WEB)document&&document.addEventListener("visibilitychange",(function(){document.hidden?null==t||t():null==e||e()}),!1);else{var i=o.global;i.onAppShow&&(null===(n=i.onAppShow)||void 0===n||n.call(i,e)),i.onAppHide&&(null===(r=i.onAppHide)||void 0===r||r.call(i,t))}}));function D(){return"undefined"!=typeof swan&&x(swan)?{platform:A.BAIDU,global:swan}:"undefined"!=typeof tt&&x(tt)?{platform:A.TT,global:tt}:"undefined"!=typeof dd&&x(dd)?{platform:A.DD,global:dd}:"undefined"!=typeof my&&x(my)?{platform:A.ZFB,global:my}:"undefined"!=typeof wx&&x(wx)?{platform:A.WX,global:wx}:"undefined"!=typeof qq&&x(qq)?{platform:A.QQ,global:qq}:"undefined"!=typeof uni&&x(uni)?{platform:A.UNI,global:uni}:"undefined"!=typeof window&&window.WebSocket?{platform:A.WEB,global:window}:{platform:A.NODE,global:n.g||{}}}function x(e){for(var t=["canIUse","getSystemInfo"],n=0,r=t.length;n<r;n++)if(!e[t[n]])return!1;return!0}function P(e,t){var n,o,i,a=this,s=e.accessToken,c=e.appKey,l=null===(o=null===(n=null==e?void 0:e.file)||void 0===n?void 0:n.data)||void 0===o?void 0:o.size,h=[],p="",f="";if(s)if(c&&(h=c.split("#"),p=h[0],f=h[1]),p||f)if(l<=0)e.onFileUploadError&&e.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_ERROR,message:"fileSize must be greater than 0"});else if(e.uploadUrl)b.call(this,T(T({},e),{orgName:p,appName:f,operateName:t}));else{var m=d.size||u;this.uploadPartEnable&&l>1.5*m?new E(this,{file:null===(i=null==e?void 0:e.file)||void 0===i?void 0:i.data,onFileUploadProgress:e.onFileUploadProgress||S,onFileUploadComplete:e.onFileUploadComplete||S,onFileUploadError:e.onFileUploadError||S,onFileUploadCanceled:e.onFileUploadCanceled||S,onInitFail:function(){b.call(a,T(T({},e),{orgName:p,appName:f,operateName:t}))},thumbnailInfo:{width:e.thumbnailWidth,height:e.thumbnailHeight}}):b.call(this,T(T({},e),{orgName:p,appName:f,operateName:t}))}else e.onFileUploadError&&e.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_ERROR,message:"AppKey illegal"});else e.onFileUploadError&&e.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_NO_LOGIN,message:"AccessToken cannot be empty"})}function M(e,t){e.onFileDownloadComplete=e.onFileDownloadComplete||S,e.onFileDownloadError=e.onFileDownloadError||S;var n=(new Date).getTime(),o=new XMLHttpRequest,i=this;o.addEventListener("load",(function(r){var s=(new Date).getTime()-n;i.dataReport&&t&&t===a.fI.DOWN_GROUP_FILE&&i.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:{isSuccess:200===o.status?1:0,requestMethod:"POST",requestName:t,requestElapse:s,requestUrl:null==e?void 0:e.url,code:o.status,codeDesc:200===o.status?"":"download file error"}}),e.onFileDownloadComplete&&e.onFileDownloadComplete(o.response)}),!1),o.addEventListener("error",(function(s){var c=(new Date).getTime()-n;i.dataReport&&t&&t===a.fI.DOWN_GROUP_FILE&&i.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:t,requestElapse:c,requestUrl:null==e?void 0:e.url,code:(null==o?void 0:o.status)||0,codeDesc:"download file error"}}),e.onFileDownloadError&&e.onFileDownloadError({type:r.E.WEBIM_DOWNLOADFILE_ERROR,id:e.id,xhr:o})}),!1);var s=e.method||"GET",c=e.responseType||"blob",l=e.mimeType||"text/plain; charset=x-user-defined";o.open(s,e.url),"undefined"!=typeof Blob?o.responseType=c:o.overrideMimeType(l);var u={"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream","share-secret":e.secret,Authorization:"Bearer "+this.context.accessToken},d=e.headers||{};for(var h in d)u[h]=d[h];for(var h in u)u[h]&&o.setRequestHeader(h,u[h]);o.send(null)}function L(e){void 0===e&&(e={});var t=e.elapse,n=void 0===t?0:t,r=e.httpCode,o=void 0===r?0:r,i=e.errDesc;return{requestElapse:n,code:o,codeDesc:void 0===i?"":i}}(O=A||(A={})).WEB="web",O.WX="wx",O.QQ="qq",O.ZFB="zfb",O.DD="dd",O.TT="tt",O.BAIDU="baidu",O.QUICK_APP="quick_app",O.UNI="uni",O.NODE="node";var U="localDeviceInfo",j={autoIncrement:0,ajaxUnconventionalErrorTimes:0,ajax:w,getUniqueId:function(){this.autoIncrement?this.autoIncrement++:this.autoIncrement=1;var e=new Date,t=new Date(2010,1,1);return(e.getTime()-t.getTime()+this.autoIncrement).toString()},getFileUrl:function(e){var t={url:"",filename:"",filetype:"",data:{}},n="string"==typeof e?document.getElementById(e):e;if(window.URL.createObjectURL){if(!n.files)throw Error("this is not HTMLInputElement");var r=n.files;if(r.length>0){var o=r.item(0);t.data=o,t.url=window.URL.createObjectURL(o),t.filename=(null==o?void 0:o.name)||""}}else{if("string"!=typeof e)throw Error("in IE fileInputId must be string");o=document.getElementById(e).value,t.url=o;var i=o.lastIndexOf("/"),a=o.lastIndexOf("\\"),s=Math.max(i,a);t.filename=s<0?o:o.substring(s+1)}var c=t.filename.lastIndexOf(".");return-1!==c&&(t.filetype=t.filename.substring(c+1).toLowerCase()),t},uploadFile:P,flow:function(e){for(var t=e.length,n=t;n--;)if("function"!=typeof e[n])throw new TypeError("Expected a function");return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=0,i=t?e[o].apply(this,n):n[0];++o<t;)i=e[o].call(this,i);return i}},listenNetwork:N,listenBrowserVisibility:k,getEnvInfo:D,wxRequest:R,parseDownloadResponse:function(e){if(!window||!window.URL)throw Error("parseDownloadResponse can be used in broswer only");return e&&e.type&&"application/json"===e.type||0>Object.prototype.toString.call(e).indexOf("Blob")?this.url+"?token=":window.URL.createObjectURL(e)},download:M,parseNotify:function(e){for(var t="",n=0;n<e.length;n++)t+="%"+e[n].toString(16);return JSON.parse(decodeURIComponent(t))},getExtraData:L,retryPromise:function(e,t,n){return new Promise((function(r,o){!function t(i){e().then(r).catch((function(e){i>0?setTimeout((function(){t(i-1)}),n||1e3):o(e)}))}(t||3)}))},formatAttachUrl:function(e){return e&&"string"==typeof e?"".concat(this.apiUrl).concat(e.substr(e.indexOf("/",9))):""},Uint8ArrayToString:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},getLocalDeviceInfo:function(){return function(e){var t,n=j.getEnvInfo(),r=n.platform,o="";r!==A.NODE&&r!==A.QUICK_APP||(o="");try{r===A.WEB?o=localStorage.getItem(e)||"":r===A.WX||r===A.QQ||r===A.TT||r===A.BAIDU||r===A.UNI?o=n.global.getStorageSync(e)||"":r!==A.ZFB&&r!==A.DD||(o=(null===(t=n.global.getStorageSync({key:e}))||void 0===t?void 0:t.data)||"")}catch(i){c.kg.debug("get local ".concat(e," failed: "),i)}return c.kg.debug("".concat(e," "),o),o}(U)},setLocalDeviceInfo:function(e){var t,n,r,o;t=U,n=e,(o=(r=j.getEnvInfo()).platform)!==A.NODE&&o!==A.QUICK_APP&&(o===A.WEB?localStorage.setItem(t,n):r.global.setStorage({key:t,data:n,success:function(e){c.kg.debug("set local ".concat(t," success: "),e)},fail:function(e){c.kg.error("set local ".concat(t," failed: "),e)}}))},detectBrowser:function(){if("undefined"==typeof navigator)return"unknown";var e=navigator.userAgent;return/MicroMessenger/i.test(e)?"WeChat":/QQBrowser/i.test(e)?"QQ":!/Chrome/i.test(e)||/Edg/i.test(e)||/OPR/i.test(e)?!/Safari/i.test(e)||/Chrome/i.test(e)||/CriOS/i.test(e)?/Firefox/i.test(e)?"Firefox":/MSIE/i.test(e)||/Trident/i.test(e)?"IE":/Edg/i.test(e)?"Edge":"unknown":"Safari":"Chrome"},getDevicePlatform:function(e){return e.platform===A.WX&&"undefined"!=typeof uni&&x(uni)?A.UNI:e.platform},delay:function(e){return new Promise((function(t){return setTimeout(t,e)}))}}},9662:function(e,t,n){var r=n(614),o=n(6330),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},9483:function(e,t,n){var r=n(4411),o=n(6330),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a constructor")}},6077:function(e,t,n){var r=n(614),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},1223:function(e,t,n){var r=n(5112),o=n(30),i=n(3070).f,a=r("unscopables"),s=Array.prototype;null==s[a]&&i(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},1530:function(e,t,n){var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5787:function(e,t,n){var r=n(7976),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw o("Incorrect invocation")}},9670:function(e,t,n){var r=n(111),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not an object")}},3013:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:function(e,t,n){var r=n(7293);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},260:function(e,t,n){var r,o,i,a=n(3013),s=n(9781),c=n(7854),l=n(614),u=n(111),d=n(2597),h=n(648),p=n(6330),f=n(8880),m=n(8052),g=n(7045),v=n(7976),y=n(9518),_=n(7674),E=n(5112),b=n(9711),T=n(9909),S=T.enforce,w=T.get,C=c.Int8Array,R=C&&C.prototype,I=c.Uint8ClampedArray,A=I&&I.prototype,O=C&&y(C),N=R&&y(R),k=Object.prototype,D=c.TypeError,x=E("toStringTag"),P=b("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",L=a&&!!_&&"Opera"!==h(c.opera),U=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},V={BigInt64Array:8,BigUint64Array:8},B=function(e){var t=y(e);if(u(t)){var n=w(t);return n&&d(n,M)?n[M]:B(t)}},z=function(e){if(!u(e))return!1;var t=h(e);return d(j,t)||d(V,t)};for(r in j)(i=(o=c[r])&&o.prototype)?S(i)[M]=o:L=!1;for(r in V)(i=(o=c[r])&&o.prototype)&&(S(i)[M]=o);if((!L||!l(O)||O===Function.prototype)&&(O=function(){throw D("Incorrect invocation")},L))for(r in j)c[r]&&_(c[r],O);if((!L||!N||N===k)&&(N=O.prototype,L))for(r in j)c[r]&&_(c[r].prototype,N);if(L&&y(A)!==N&&_(A,N),s&&!d(N,x))for(r in U=!0,g(N,x,{configurable:!0,get:function(){return u(this)?this[P]:void 0}}),j)c[r]&&f(c[r],P,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:U&&P,aTypedArray:function(e){if(z(e))return e;throw D("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l(e)&&(!_||v(O,e)))return e;throw D(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var o in j){var i=c[o];if(i&&d(i.prototype,e))try{delete i.prototype[e]}catch(a){try{i.prototype[e]=t}catch(l){}}}N[e]&&!n||m(N,e,n?t:L&&R[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,o;if(s){if(_){if(n)for(r in j)if((o=c[r])&&d(o,e))try{delete o[e]}catch(i){}if(O[e]&&!n)return;try{return m(O,e,n?t:L&&O[e]||t)}catch(i){}}for(r in j)!(o=c[r])||o[e]&&!n||m(o,e,t)}},getTypedArrayConstructor:B,isView:function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(j,t)||d(V,t)},isTypedArray:z,TypedArray:O,TypedArrayPrototype:N}},3331:function(e,t,n){var r=n(7854),o=n(1702),i=n(9781),a=n(3013),s=n(6530),c=n(8880),l=n(7045),u=n(9190),d=n(7293),h=n(5787),p=n(9303),f=n(7466),m=n(7067),g=n(1179),v=n(9518),y=n(7674),_=n(8006).f,E=n(1285),b=n(1589),T=n(8003),S=n(9909),w=s.PROPER,C=s.CONFIGURABLE,R="ArrayBuffer",I="DataView",A="prototype",O="Wrong index",N=S.getterFor(R),k=S.getterFor(I),D=S.set,x=r[R],P=x,M=P&&P[A],L=r[I],U=L&&L[A],j=Object.prototype,V=r.Array,B=r.RangeError,z=o(E),F=o([].reverse),H=g.pack,G=g.unpack,W=function(e){return[255&e]},q=function(e){return[255&e,e>>8&255]},K=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Y=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},X=function(e){return H(e,23,4)},$=function(e){return H(e,52,8)},J=function(e,t,n){l(e[A],t,{configurable:!0,get:function(){return n(this)[t]}})},Z=function(e,t,n,r){var o=m(n),i=k(e);if(o+t>i.byteLength)throw B(O);var a=i.bytes,s=o+i.byteOffset,c=b(a,s,s+t);return r?c:F(c)},Q=function(e,t,n,r,o,i){var a=m(n),s=k(e);if(a+t>s.byteLength)throw B(O);for(var c=s.bytes,l=a+s.byteOffset,u=r(+o),d=0;d<t;d++)c[l+d]=u[i?d:t-d-1]};if(a){var ee=w&&x.name!==R;if(d((function(){x(1)}))&&d((function(){new x(-1)}))&&!d((function(){return new x,new x(1.5),new x(NaN),1!=x.length||ee&&!C})))ee&&C&&c(x,"name",R);else{(P=function(e){return h(this,M),new x(m(e))})[A]=M;for(var te,ne=_(x),re=0;ne.length>re;)(te=ne[re++])in P||c(P,te,x[te]);M.constructor=P}y&&v(U)!==j&&y(U,j);var oe=new L(new P(2)),ie=o(U.setInt8);oe.setInt8(0,2147483648),oe.setInt8(1,2147483649),!oe.getInt8(0)&&oe.getInt8(1)||u(U,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else M=(P=function(e){h(this,M);var t=m(e);D(this,{type:R,bytes:z(V(t),0),byteLength:t}),i||(this.byteLength=t,this.detached=!1)})[A],U=(L=function(e,t,n){h(this,U),h(e,M);var r=N(e),o=r.byteLength,a=p(t);if(a<0||a>o)throw B("Wrong offset");if(a+(n=void 0===n?o-a:f(n))>o)throw B("Wrong length");D(this,{type:I,buffer:e,byteLength:n,byteOffset:a,bytes:r.bytes}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=a)})[A],i&&(J(P,"byteLength",N),J(L,"buffer",k),J(L,"byteLength",k),J(L,"byteOffset",k)),u(U,{getInt8:function(e){return Z(this,1,e)[0]<<24>>24},getUint8:function(e){return Z(this,1,e)[0]},getInt16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Y(Z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return Y(Z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return G(Z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return G(Z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Q(this,1,e,W,t)},setUint8:function(e,t){Q(this,1,e,W,t)},setInt16:function(e,t){Q(this,2,e,q,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Q(this,2,e,q,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Q(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Q(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Q(this,4,e,X,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Q(this,8,e,$,t,arguments.length>2?arguments[2]:void 0)}});T(P,R),T(L,I),e.exports={ArrayBuffer:P,DataView:L}},1048:function(e,t,n){var r=n(7908),o=n(1400),i=n(6244),a=n(5117),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),c=i(n),l=o(e,c),u=o(t,c),d=arguments.length>2?arguments[2]:void 0,h=s((void 0===d?c:o(d,c))-u,c-l),p=1;for(u<l&&l<u+h&&(p=-1,u+=h-1,l+=h-1);h-- >0;)u in n?n[l]=n[u]:a(n,l),l+=p,u+=p;return n}},1285:function(e,t,n){var r=n(7908),o=n(1400),i=n(6244);e.exports=function(e){for(var t=r(this),n=i(t),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:o(c,n);l>s;)t[s++]=e;return t}},8533:function(e,t,n){var r=n(2092).forEach,o=n(9341)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},7745:function(e,t,n){var r=n(6244);e.exports=function(e,t){for(var n=0,o=r(t),i=new e(o);o>n;)i[n]=t[n++];return i}},8457:function(e,t,n){var r=n(9974),o=n(6916),i=n(7908),a=n(3411),s=n(7659),c=n(4411),l=n(6244),u=n(6135),d=n(4121),h=n(1246),p=Array;e.exports=function(e){var t=i(e),n=c(this),f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m;g&&(m=r(m,f>2?arguments[2]:void 0));var v,y,_,E,b,T,S=h(t),w=0;if(!S||this===p&&s(S))for(v=l(t),y=n?new this(v):p(v);v>w;w++)T=g?m(t[w],w):t[w],u(y,w,T);else for(b=(E=d(t,S)).next,y=n?new this:[];!(_=o(b,E)).done;w++)T=g?a(E,m,[_.value,w],!0):_.value,u(y,w,T);return y.length=w,y}},1318:function(e,t,n){var r=n(5656),o=n(1400),i=n(6244),a=function(e){return function(t,n,a){var s,c=r(t),l=i(c),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},2092:function(e,t,n){var r=n(9974),o=n(1702),i=n(8361),a=n(7908),s=n(6244),c=n(5417),l=o([].push),u=function(e){var t=1==e,n=2==e,o=3==e,u=4==e,d=6==e,h=7==e,p=5==e||d;return function(f,m,g,v){for(var y,_,E=a(f),b=i(E),T=r(m,g),S=s(b),w=0,C=v||c,R=t?C(f,S):n||h?C(f,0):void 0;S>w;w++)if((p||w in b)&&(_=T(y=b[w],w,E),e))if(t)R[w]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return w;case 2:l(R,y)}else switch(e){case 4:return!1;case 7:l(R,y)}return d?-1:o||u?u:R}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},6583:function(e,t,n){var r=n(2104),o=n(5656),i=n(9303),a=n(6244),s=n(9341),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),h=u||!d;e.exports=h?function(e){if(u)return r(l,this,arguments)||0;var t=o(this),n=a(t),s=n-1;for(arguments.length>1&&(s=c(s,i(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l},1194:function(e,t,n){var r=n(7293),o=n(5112),i=n(7392),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:function(e,t,n){var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},3671:function(e,t,n){var r=n(9662),o=n(7908),i=n(8361),a=n(6244),s=TypeError,c=function(e){return function(t,n,c,l){r(n);var u=o(t),d=i(u),h=a(u),p=e?h-1:0,f=e?-1:1;if(c<2)for(;;){if(p in d){l=d[p],p+=f;break}if(p+=f,e?p<0:h<=p)throw s("Reduce of empty array with no initial value")}for(;e?p>=0:h>p;p+=f)p in d&&(l=n(l,d[p],p,u));return l}};e.exports={left:c(!1),right:c(!0)}},3658:function(e,t,n){var r=n(9781),o=n(3157),i=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!a(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},1589:function(e,t,n){var r=n(1400),o=n(6244),i=n(6135),a=Array,s=Math.max;e.exports=function(e,t,n){for(var c=o(e),l=r(t,c),u=r(void 0===n?c:n,c),d=a(s(u-l,0)),h=0;l<u;l++,h++)i(d,h,e[l]);return d.length=h,d}},206:function(e,t,n){var r=n(1702);e.exports=r([].slice)},4362:function(e,t,n){var r=n(1589),o=Math.floor,i=function(e,t){var n=e.length,c=o(n/2);return n<8?a(e,t):s(e,i(r(e,0,c),t),i(r(e,c),t),t)},a=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?r(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e};e.exports=i},7475:function(e,t,n){var r=n(3157),o=n(4411),i=n(111),a=n(5112)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(o(t)&&(t===s||r(t.prototype))||i(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},5417:function(e,t,n){var r=n(7475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},3411:function(e,t,n){var r=n(9670),o=n(9212);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){o(e,"throw",a)}}},7072:function(e,t,n){var r=n(5112)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(a){}return n}},4326:function(e,t,n){var r=n(1702),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},648:function(e,t,n){var r=n(1694),o=n(614),i=n(4326),a=n(5112)("toStringTag"),s=Object,c="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),a))?n:c?i(t):"Object"==(r=i(t))&&o(t.callee)?"Arguments":r}},5631:function(e,t,n){var r=n(30),o=n(7045),i=n(9190),a=n(9974),s=n(5787),c=n(8554),l=n(408),u=n(1656),d=n(6178),h=n(6340),p=n(9781),f=n(2423).fastKey,m=n(9909),g=m.set,v=m.getterFor;e.exports={getConstructor:function(e,t,n,u){var d=e((function(e,o){s(e,h),g(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),p||(e.size=0),c(o)||l(o,e[u],{that:e,AS_ENTRIES:n})})),h=d.prototype,m=v(t),y=function(e,t,n){var r,o,i=m(e),a=_(e,t);return a?a.value=n:(i.last=a={index:o=f(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),p?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},_=function(e,t){var n,r=m(e),o=f(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(h,{clear:function(){for(var e=m(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=this,n=m(t),r=_(t,e);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),p?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=m(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!_(this,e)}}),i(h,n?{get:function(e){var t=_(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),p&&o(h,"size",{configurable:!0,get:function(){return m(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",o=v(t),i=v(r);u(e,t,(function(e,t){g(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,d(void 0,!0))}),n?"entries":"values",!n,!0),h(t)}}},7710:function(e,t,n){var r=n(2109),o=n(7854),i=n(1702),a=n(4705),s=n(8052),c=n(2423),l=n(408),u=n(5787),d=n(614),h=n(8554),p=n(111),f=n(7293),m=n(7072),g=n(8003),v=n(9587);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),_=-1!==e.indexOf("Weak"),E=y?"set":"add",b=o[e],T=b&&b.prototype,S=b,w={},C=function(e){var t=i(T[e]);s(T,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(_&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return _&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!p(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!d(b)||!(_||T.forEach&&!f((function(){(new b).entries().next()})))))S=n.getConstructor(t,e,y,E),c.enable();else if(a(e,!0)){var R=new S,I=R[E](_?{}:-0,1)!=R,A=f((function(){R.has(1)})),O=m((function(e){new b(e)})),N=!_&&f((function(){for(var e=new b,t=5;t--;)e[E](t,t);return!e.has(-0)}));O||((S=t((function(e,t){u(e,T);var n=v(new b,e,S);return h(t)||l(t,n[E],{that:n,AS_ENTRIES:y}),n}))).prototype=T,T.constructor=S),(A||N)&&(C("delete"),C("has"),y&&C("get")),(N||I)&&C(E),_&&T.clear&&delete T.clear}return w[e]=S,r({global:!0,constructor:!0,forced:S!=b},w),g(S,e),_||n.setStrong(S,e,y),S}},9920:function(e,t,n){var r=n(2597),o=n(3887),i=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=o(t),c=a.f,l=i.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||c(e,d,l(t,d))}}},4964:function(e,t,n){var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6178:function(e){e.exports=function(e,t){return{value:e,done:t}}},8880:function(e,t,n){var r=n(9781),o=n(3070),i=n(9114);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(e,t,n){var r=n(4948),o=n(3070),i=n(9114);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},7045:function(e,t,n){var r=n(6339),o=n(3070);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},8052:function(e,t,n){var r=n(614),o=n(3070),i=n(6339),a=n(3072);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(r(n)&&i(n,l,s),s.global)c?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(u){}c?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},9190:function(e,t,n){var r=n(8052);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},3072:function(e,t,n){var r=n(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},5117:function(e,t,n){var r=n(6330),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+r(t)+" of "+r(e))}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},317:function(e,t,n){var r=n(7854),o=n(111),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},7207:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},8324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(e,t,n){var r=n(317)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},8886:function(e,t,n){var r=n(8113).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},7871:function(e,t,n){var r=n(3823),o=n(5268);e.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},9363:function(e){e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},3823:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},256:function(e,t,n){var r=n(8113);e.exports=/MSIE|Trident/.test(r)},1528:function(e,t,n){var r=n(8113);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},6833:function(e,t,n){var r=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(e,t,n){var r=n(4326);e.exports="undefined"!=typeof process&&"process"==r(process)},1036:function(e,t,n){var r=n(8113);e.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(e,t,n){var r,o,i=n(7854),a=n(8113),s=i.process,c=i.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},8008:function(e,t,n){var r=n(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var r=n(7854),o=n(1236).f,i=n(8880),a=n(8052),s=n(3072),c=n(9920),l=n(4705);e.exports=function(e,t){var n,u,d,h,p,f=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[f]||s(f,{}):(r[f]||{}).prototype)for(u in t){if(h=t[u],d=e.dontCallGetSet?(p=o(n,u))&&p.value:n[u],!l(m?u:f+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&i(h,"sham",!0),a(n,u,h,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},7007:function(e,t,n){n(4916);var r=n(1470),o=n(8052),i=n(2261),a=n(7293),s=n(5112),c=n(8880),l=s("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var h=s(e),p=!a((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),f=p&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!p||!f||n){var m=r(/./[h]),g=t(h,""[e],(function(e,t,n,o,a){var s=r(e),c=t.exec;return c===i||c===u.exec?p&&!a?{done:!0,value:m(t,n,o)}:{done:!0,value:s(n,t,o)}:{done:!1}}));o(String.prototype,e,g[0]),o(u,h,g[1])}d&&c(u[h],"sham",!0)}},6677:function(e,t,n){var r=n(7293);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:function(e,t,n){var r=n(4374),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},9974:function(e,t,n){var r=n(1470),o=n(9662),i=n(4374),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7065:function(e,t,n){var r=n(1702),o=n(9662),i=n(111),a=n(2597),s=n(206),c=n(4374),l=Function,u=r([].concat),d=r([].join),h={};e.exports=c?l.bind:function(e){var t=o(this),n=t.prototype,r=s(arguments,1),c=function(){var n=u(r,s(arguments));return this instanceof c?function(e,t,n){if(!a(h,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";h[t]=l("C,a","return new C("+d(r,",")+")")}return h[t](e,n)}(t,n.length,n):t.apply(e,n)};return i(n)&&(c.prototype=n),c}},6916:function(e,t,n){var r=n(4374),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(e,t,n){var r=n(9781),o=n(2597),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},5668:function(e,t,n){var r=n(1702),o=n(9662);e.exports=function(e,t,n){try{return r(o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(i){}}},1470:function(e,t,n){var r=n(4326),o=n(1702);e.exports=function(e){if("Function"===r(e))return o(e)}},1702:function(e,t,n){var r=n(4374),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);e.exports=r?a:function(e){return function(){return i.apply(e,arguments)}}},5005:function(e,t,n){var r=n(7854),o=n(614);e.exports=function(e,t){return arguments.length<2?(n=r[e],o(n)?n:void 0):r[e]&&r[e][t];var n}},1246:function(e,t,n){var r=n(648),o=n(8173),i=n(8554),a=n(7497),s=n(5112)("iterator");e.exports=function(e){if(!i(e))return o(e,s)||o(e,"@@iterator")||a[r(e)]}},4121:function(e,t,n){var r=n(6916),o=n(9662),i=n(9670),a=n(6330),s=n(1246),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(o(n))return i(r(n,e));throw c(a(e)+" is not iterable")}},8044:function(e,t,n){var r=n(1702),o=n(3157),i=n(614),a=n(4326),s=n(1340),c=r([].push);e.exports=function(e){if(i(e))return e;if(o(e)){for(var t=e.length,n=[],r=0;r<t;r++){var l=e[r];"string"==typeof l?c(n,l):"number"!=typeof l&&"Number"!=a(l)&&"String"!=a(l)||c(n,s(l))}var u=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(o(this))return t;for(var r=0;r<u;r++)if(n[r]===e)return t}}}},8173:function(e,t,n){var r=n(9662),o=n(8554);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},2597:function(e,t,n){var r=n(1702),o=n(7908),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},3501:function(e){e.exports={}},842:function(e){e.exports=function(e,t){}},490:function(e,t,n){var r=n(5005);e.exports=r("document","documentElement")},4664:function(e,t,n){var r=n(9781),o=n(7293),i=n(317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},1179:function(e){var t=Array,n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2;e.exports={pack:function(e,s,c){var l,u,d,h=t(c),p=8*c-s-1,f=(1<<p)-1,m=f>>1,g=23===s?r(2,-24)-r(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for((e=n(e))!=e||e===1/0?(u=e!=e?1:0,l=f):(l=o(i(e)/a),e*(d=r(2,-l))<1&&(l--,d*=2),(e+=l+m>=1?g/d:g*r(2,1-m))*d>=2&&(l++,d/=2),l+m>=f?(u=0,l=f):l+m>=1?(u=(e*d-1)*r(2,s),l+=m):(u=e*r(2,m-1)*r(2,s),l=0));s>=8;)h[y++]=255&u,u/=256,s-=8;for(l=l<<s|u,p+=s;p>0;)h[y++]=255&l,l/=256,p-=8;return h[--y]|=128*v,h},unpack:function(e,t){var n,o=e.length,i=8*o-t-1,a=(1<<i)-1,s=a>>1,c=i-7,l=o-1,u=e[l--],d=127&u;for(u>>=7;c>0;)d=256*d+e[l--],c-=8;for(n=d&(1<<-c)-1,d>>=-c,c+=t;c>0;)n=256*n+e[l--],c-=8;if(0===d)d=1-s;else{if(d===a)return n?NaN:u?-1/0:1/0;n+=r(2,t),d-=s}return(u?-1:1)*n*r(2,d-t)}}},8361:function(e,t,n){var r=n(1702),o=n(7293),i=n(4326),a=Object,s=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},9587:function(e,t,n){var r=n(614),o=n(111),i=n(7674);e.exports=function(e,t,n){var a,s;return i&&r(a=t.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(e,s),e}},2788:function(e,t,n){var r=n(1702),o=n(614),i=n(5465),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},2423:function(e,t,n){var r=n(2109),o=n(1702),i=n(3501),a=n(111),s=n(2597),c=n(3070).f,l=n(8006),u=n(1156),d=n(2050),h=n(9711),p=n(6677),f=!1,m=h("meta"),g=0,v=function(e){c(e,m,{value:{objectID:"O"+g++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},f=!0;var e=l.f,t=o([].splice),n={};n[m]=1,e(n).length&&(l.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===m){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,m)){if(!d(e))return"F";if(!t)return"E";v(e)}return e[m].objectID},getWeakData:function(e,t){if(!s(e,m)){if(!d(e))return!0;if(!t)return!1;v(e)}return e[m].weakData},onFreeze:function(e){return p&&f&&d(e)&&!s(e,m)&&v(e),e}};i[m]=!0},9909:function(e,t,n){var r,o,i,a=n(4811),s=n(7854),c=n(111),l=n(8880),u=n(2597),d=n(5465),h=n(6200),p=n(3501),f="Object already initialized",m=s.TypeError,g=s.WeakMap;if(a||d.state){var v=d.state||(d.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw m(f);return t.facade=e,v.set(e,t),t},o=function(e){return v.get(e)||{}},i=function(e){return v.has(e)}}else{var y=h("state");p[y]=!0,r=function(e,t){if(u(e,y))throw m(f);return t.facade=e,l(e,y,t),t},o=function(e){return u(e,y)?e[y]:{}},i=function(e){return u(e,y)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},7659:function(e,t,n){var r=n(5112),o=n(7497),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},3157:function(e,t,n){var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4067:function(e,t,n){var r=n(648);e.exports=function(e){var t=r(e);return"BigInt64Array"==t||"BigUint64Array"==t}},614:function(e,t,n){var r=n(4154),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},4411:function(e,t,n){var r=n(1702),o=n(7293),i=n(614),a=n(648),s=n(5005),c=n(2788),l=function(){},u=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=r(h.exec),f=!h.exec(l),m=function(e){if(!i(e))return!1;try{return d(l,u,e),!0}catch(t){return!1}},g=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,c(e))}catch(t){return!0}};g.sham=!0,e.exports=!d||o((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},4705:function(e,t,n){var r=n(7293),o=n(614),i=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==u||n!=l&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},5988:function(e,t,n){var r=n(111),o=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&o(e)===e}},8554:function(e){e.exports=function(e){return null==e}},111:function(e,t,n){var r=n(614),o=n(4154),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===i}:function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},7850:function(e,t,n){var r=n(111),o=n(4326),i=n(5112)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},2190:function(e,t,n){var r=n(5005),o=n(614),i=n(7976),a=n(3307),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,s(e))}},408:function(e,t,n){var r=n(9974),o=n(6916),i=n(9670),a=n(6330),s=n(7659),c=n(6244),l=n(7976),u=n(4121),d=n(1246),h=n(9212),p=TypeError,f=function(e,t){this.stopped=e,this.result=t},m=f.prototype;e.exports=function(e,t,n){var g,v,y,_,E,b,T,S=n&&n.that,w=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),R=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),A=r(t,S),O=function(e){return g&&h(g,"normal",e),new f(!0,e)},N=function(e){return w?(i(e),I?A(e[0],e[1],O):A(e[0],e[1])):I?A(e,O):A(e)};if(C)g=e.iterator;else if(R)g=e;else{if(!(v=d(e)))throw p(a(e)+" is not iterable");if(s(v)){for(y=0,_=c(e);_>y;y++)if((E=N(e[y]))&&l(m,E))return E;return new f(!1)}g=u(e,v)}for(b=C?e.next:g.next;!(T=o(b,g)).done;){try{E=N(T.value)}catch(k){h(g,"throw",k)}if("object"==typeof E&&E&&l(m,E))return E}return new f(!1)}},9212:function(e,t,n){var r=n(6916),o=n(9670),i=n(8173);e.exports=function(e,t,n){var a,s;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(c){s=!0,a=c}if("throw"===t)throw n;if(s)throw a;return o(a),n}},3061:function(e,t,n){var r=n(3383).IteratorPrototype,o=n(30),i=n(9114),a=n(8003),s=n(7497),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=o(r,{next:i(+!l,n)}),a(e,u,!1,!0),s[u]=c,e}},1656:function(e,t,n){var r=n(2109),o=n(6916),i=n(1913),a=n(6530),s=n(614),c=n(3061),l=n(9518),u=n(7674),d=n(8003),h=n(8880),p=n(8052),f=n(5112),m=n(7497),g=n(3383),v=a.PROPER,y=a.CONFIGURABLE,_=g.IteratorPrototype,E=g.BUGGY_SAFARI_ITERATORS,b=f("iterator"),T="keys",S="values",w="entries",C=function(){return this};e.exports=function(e,t,n,a,f,g,R){c(n,t,a);var I,A,O,N=function(e){if(e===f&&M)return M;if(!E&&e in x)return x[e];switch(e){case T:case S:case w:return function(){return new n(this,e)}}return function(){return new n(this)}},k=t+" Iterator",D=!1,x=e.prototype,P=x[b]||x["@@iterator"]||f&&x[f],M=!E&&P||N(f),L="Array"==t&&x.entries||P;if(L&&(I=l(L.call(new e)))!==Object.prototype&&I.next&&(i||l(I)===_||(u?u(I,_):s(I[b])||p(I,b,C)),d(I,k,!0,!0),i&&(m[k]=C)),v&&f==S&&P&&P.name!==S&&(!i&&y?h(x,"name",S):(D=!0,M=function(){return o(P,this)})),f)if(A={values:N(S),keys:g?M:N(T),entries:N(w)},R)for(O in A)(E||D||!(O in x))&&p(x,O,A[O]);else r({target:t,proto:!0,forced:E||D},A);return i&&!R||x[b]===M||p(x,b,M,{name:f}),m[t]=M,A}},3383:function(e,t,n){var r,o,i,a=n(7293),s=n(614),c=n(111),l=n(30),u=n(9518),d=n(8052),h=n(5112),p=n(1913),f=h("iterator"),m=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(r=o):m=!0),!c(r)||a((function(){var e={};return r[f].call(e)!==e}))?r={}:p&&(r=l(r)),s(r[f])||d(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},7497:function(e){e.exports={}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},6339:function(e,t,n){var r=n(1702),o=n(7293),i=n(614),a=n(2597),s=n(9781),c=n(6530).CONFIGURABLE,l=n(2788),u=n(9909),d=u.enforce,h=u.get,p=String,f=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),y=s&&!o((function(){return 8!==f((function(){}),"length",{value:8}).length})),_=String(String).split("String"),E=e.exports=function(e,t,n){"Symbol("===m(p(t),0,7)&&(t="["+g(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(s?f(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=d(e);return a(r,"source")||(r.source=v(_,"string"==typeof t?t:"")),e};Function.prototype.toString=E((function(){return i(this)&&h(this).source||l(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},5948:function(e,t,n){var r,o,i,a,s,c=n(7854),l=n(9974),u=n(1236).f,d=n(261).set,h=n(8572),p=n(6833),f=n(1528),m=n(1036),g=n(5268),v=c.MutationObserver||c.WebKitMutationObserver,y=c.document,_=c.process,E=c.Promise,b=u(c,"queueMicrotask"),T=b&&b.value;if(!T){var S=new h,w=function(){var e,t;for(g&&(e=_.domain)&&e.exit();t=S.get();)try{t()}catch(n){throw S.head&&r(),n}e&&e.enter()};p||g||m||!v||!y?!f&&E&&E.resolve?((a=E.resolve(void 0)).constructor=E,s=l(a.then,a),r=function(){s(w)}):g?r=function(){_.nextTick(w)}:(d=l(d,c),r=function(){d(w)}):(o=!0,i=y.createTextNode(""),new v(w).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),T=function(e){S.head||r(),S.add(e)}}e.exports=T},8523:function(e,t,n){var r=n(9662),o=TypeError,i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw o("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},3929:function(e,t,n){var r=n(7850),o=TypeError;e.exports=function(e){if(r(e))throw o("The method doesn't accept regular expressions");return e}},1574:function(e,t,n){var r=n(9781),o=n(1702),i=n(6916),a=n(7293),s=n(1956),c=n(5181),l=n(5296),u=n(7908),d=n(8361),h=Object.assign,p=Object.defineProperty,f=o([].concat);e.exports=!h||a((function(){if(r&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||s(h({},t)).join("")!=o}))?function(e,t){for(var n=u(e),o=arguments.length,a=1,h=c.f,p=l.f;o>a;)for(var m,g=d(arguments[a++]),v=h?f(s(g),h(g)):s(g),y=v.length,_=0;y>_;)m=v[_++],r&&!i(p,g,m)||(n[m]=g[m]);return n}:h},30:function(e,t,n){var r,o=n(9670),i=n(6048),a=n(748),s=n(3501),c=n(490),l=n(317),u=n(6200),d="prototype",h="script",p=u("IE_PROTO"),f=function(){},m=function(e){return"<"+h+">"+e+"</"+h+">"},g=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(i){}var e,t,n;v="undefined"!=typeof document?document.domain&&r?g(r):(t=l("iframe"),n="java"+h+":",t.style.display="none",c.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):g(r);for(var o=a.length;o--;)delete v[d][a[o]];return v()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f[d]=o(e),n=new f,f[d]=null,n[p]=e):n=v(),void 0===t?n:i.f(n,t)}},6048:function(e,t,n){var r=n(9781),o=n(3353),i=n(3070),a=n(9670),s=n(5656),c=n(1956);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),o=c(t),l=o.length,u=0;l>u;)i.f(e,n=o[u++],r[n]);return e}},3070:function(e,t,n){var r=n(9781),o=n(4664),i=n(3353),a=n(9670),s=n(4948),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=r?i?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=u(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(a(e),t=s(t),a(n),o)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),o=n(6916),i=n(5296),a=n(9114),s=n(5656),c=n(4948),l=n(2597),u=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),u)try{return d(e,t)}catch(n){}if(l(e,t))return a(!o(i.f,e,t),e[t])}},1156:function(e,t,n){var r=n(4326),o=n(5656),i=n(8006).f,a=n(1589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return i(e)}catch(t){return a(s)}}(e):i(o(e))}},8006:function(e,t,n){var r=n(6324),o=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(2597),o=n(614),i=n(7908),a=n(6200),s=n(8544),c=a("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=i(e);if(r(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},2050:function(e,t,n){var r=n(7293),o=n(111),i=n(4326),a=n(7556),s=Object.isExtensible,c=r((function(){}));e.exports=c||a?function(e){return!!o(e)&&(!a||"ArrayBuffer"!=i(e))&&(!s||s(e))}:s},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),o=n(2597),i=n(5656),a=n(1318).indexOf,s=n(3501),c=r([].push);e.exports=function(e,t){var n,r=i(e),l=0,u=[];for(n in r)!o(s,n)&&o(r,n)&&c(u,n);for(;t.length>l;)o(r,n=t[l++])&&(~a(u,n)||c(u,n));return u}},1956:function(e,t,n){var r=n(6324),o=n(748);e.exports=Object.keys||function(e){return r(e,o)}},5296:function(e,t){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(5668),o=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},4699:function(e,t,n){var r=n(9781),o=n(1702),i=n(1956),a=n(5656),s=o(n(5296).f),c=o([].push),l=function(e){return function(t){for(var n,o=a(t),l=i(o),u=l.length,d=0,h=[];u>d;)n=l[d++],r&&!s(o,n)||c(h,e?[n,o[n]]:o[n]);return h}};e.exports={entries:l(!0),values:l(!1)}},288:function(e,t,n){var r=n(1694),o=n(648);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},2140:function(e,t,n){var r=n(6916),o=n(614),i=n(111),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!i(s=r(n,e)))return s;if(o(n=e.valueOf)&&!i(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!i(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),o=n(1702),i=n(8006),a=n(5181),s=n(9670),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?c(t,n(e)):t}},857:function(e,t,n){var r=n(7854);e.exports=r},2534:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},3702:function(e,t,n){var r=n(7854),o=n(2492),i=n(614),a=n(4705),s=n(2788),c=n(5112),l=n(7871),u=n(3823),d=n(1913),h=n(7392),p=o&&o.prototype,f=c("species"),m=!1,g=i(r.PromiseRejectionEvent),v=a("Promise",(function(){var e=s(o),t=e!==String(o);if(!t&&66===h)return!0;if(d&&(!p.catch||!p.finally))return!0;if(!h||h<51||!/native code/.test(e)){var n=new o((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[f]=r,!(m=n.then((function(){}))instanceof r))return!0}return!t&&(l||u)&&!g}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},2492:function(e,t,n){var r=n(7854);e.exports=r.Promise},9478:function(e,t,n){var r=n(9670),o=n(111),i=n(8523);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},612:function(e,t,n){var r=n(2492),o=n(7072),i=n(3702).CONSTRUCTOR;e.exports=i||!o((function(e){r.all(e).then(void 0,(function(){}))}))},8572:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},7651:function(e,t,n){var r=n(6916),o=n(9670),i=n(614),a=n(4326),s=n(2261),c=TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var l=r(n,e,t);return null!==l&&o(l),l}if("RegExp"===a(e))return r(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},2261:function(e,t,n){var r,o,i=n(6916),a=n(1702),s=n(1340),c=n(7066),l=n(2999),u=n(2309),d=n(30),h=n(9909).get,p=n(9441),f=n(7168),m=u("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,y=a("".charAt),_=a("".indexOf),E=a("".replace),b=a("".slice),T=(o=/b*/g,i(g,r=/a/,"a"),i(g,o,"a"),0!==r.lastIndex||0!==o.lastIndex),S=l.BROKEN_CARET,w=void 0!==/()??/.exec("")[1];(T||w||S||p||f)&&(v=function(e){var t,n,r,o,a,l,u,p=this,f=h(p),C=s(e),R=f.raw;if(R)return R.lastIndex=p.lastIndex,t=i(v,R,C),p.lastIndex=R.lastIndex,t;var I=f.groups,A=S&&p.sticky,O=i(c,p),N=p.source,k=0,D=C;if(A&&(O=E(O,"y",""),-1===_(O,"g")&&(O+="g"),D=b(C,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(C,p.lastIndex-1))&&(N="(?: "+N+")",D=" "+D,k++),n=new RegExp("^(?:"+N+")",O)),w&&(n=new RegExp("^"+N+"$(?!\\s)",O)),T&&(r=p.lastIndex),o=i(g,A?n:p,D),A?o?(o.input=b(o.input,k),o[0]=b(o[0],k),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:T&&o&&(p.lastIndex=p.global?o.index+o[0].length:r),w&&o&&o.length>1&&i(m,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&I)for(o.groups=l=d(null),a=0;a<I.length;a++)l[(u=I[a])[0]]=o[u[1]];return o}),e.exports=v},7066:function(e,t,n){var r=n(9670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4706:function(e,t,n){var r=n(6916),o=n(2597),i=n(7976),a=n(7066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||o(e,"flags")||!i(s,e)?t:r(a,e)}},2999:function(e,t,n){var r=n(7293),o=n(7854).RegExp,i=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),s=i||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},9441:function(e,t,n){var r=n(7293),o=n(7854).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:function(e,t,n){var r=n(7293),o=n(7854).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:function(e,t,n){var r=n(8554),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},7152:function(e,t,n){var r,o=n(7854),i=n(2104),a=n(614),s=n(9363),c=n(8113),l=n(206),u=n(8053),d=o.Function,h=/MSIE .\./.test(c)||s&&((r=o.Bun.version.split(".")).length<3||0==r[0]&&(r[1]<3||3==r[1]&&0==r[2]));e.exports=function(e,t){var n=t?2:1;return h?function(r,o){var s=u(arguments.length,1)>n,c=a(r)?r:d(r),h=s?l(arguments,n):[],p=s?function(){i(c,this,h)}:c;return t?e(p,o):e(p)}:e}},6340:function(e,t,n){var r=n(5005),o=n(7045),i=n(5112),a=n(9781),s=i("species");e.exports=function(e){var t=r(e);a&&t&&!t[s]&&o(t,s,{configurable:!0,get:function(){return this}})}},8003:function(e,t,n){var r=n(3070).f,o=n(2597),i=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,i)&&r(e,i,{configurable:!0,value:t})}},6200:function(e,t,n){var r=n(2309),o=n(9711),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5465:function(e,t,n){var r=n(7854),o=n(3072),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},2309:function(e,t,n){var r=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.2",mode:r?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(e,t,n){var r=n(9670),o=n(9483),i=n(8554),a=n(5112)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||i(n=r(s)[a])?t:o(n)}},8710:function(e,t,n){var r=n(1702),o=n(9303),i=n(1340),a=n(4488),s=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(e){return function(t,n){var r,u,d=i(a(t)),h=o(n),p=d.length;return h<0||h>=p?e?"":void 0:(r=c(d,h))<55296||r>56319||h+1===p||(u=c(d,h+1))<56320||u>57343?e?s(d,h):r:e?l(d,h,h+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},3197:function(e,t,n){var r=n(1702),o=2147483647,i=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",c=RangeError,l=r(a.exec),u=Math.floor,d=String.fromCharCode,h=r("".charCodeAt),p=r([].join),f=r([].push),m=r("".replace),g=r("".split),v=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},_=function(e,t,n){var r=0;for(e=n?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),r+=36;return u(r+36*e/(e+38))},E=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=h(e,n++);if(o>=55296&&o<=56319&&n<r){var i=h(e,n++);56320==(64512&i)?f(t,((1023&o)<<10)+(1023&i)+65536):(f(t,o),n--)}else f(t,o)}return t}(e)).length,a=128,l=0,m=72;for(t=0;t<e.length;t++)(n=e[t])<128&&f(r,d(n));var g=r.length,v=g;for(g&&f(r,"-");v<i;){var E=o;for(t=0;t<e.length;t++)(n=e[t])>=a&&n<E&&(E=n);var b=v+1;if(E-a>u((o-l)/b))throw c(s);for(l+=(E-a)*b,a=E,t=0;t<e.length;t++){if((n=e[t])<a&&++l>o)throw c(s);if(n==a){for(var T=l,S=36;;){var w=S<=m?1:S>=m+26?26:S-m;if(T<w)break;var C=T-w,R=36-w;f(r,d(y(w+C%R))),T=u(C/R),S+=36}f(r,d(y(T))),m=_(l,b,v==g),l=0,v++}}l++,a++}return p(r,"")};e.exports=function(e){var t,n,r=[],o=g(m(v(e),a,"."),".");for(t=0;t<o.length;t++)n=o[t],f(r,l(i,n)?"xn--"+E(n):n);return p(r,".")}},3111:function(e,t,n){var r=n(1702),o=n(4488),i=n(1340),a=n(1361),s=r("".replace),c=RegExp("^["+a+"]+"),l=RegExp("(^|[^"+a+"])["+a+"]+$"),u=function(e){return function(t){var n=i(o(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,l,"$1")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},6293:function(e,t,n){var r=n(7392),o=n(7293),i=n(7854).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},6532:function(e,t,n){var r=n(6916),o=n(5005),i=n(5112),a=n(8052);e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=i("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}),{arity:1})}},2015:function(e,t,n){var r=n(6293);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},261:function(e,t,n){var r,o,i,a,s=n(7854),c=n(2104),l=n(9974),u=n(614),d=n(2597),h=n(7293),p=n(490),f=n(206),m=n(317),g=n(8053),v=n(6833),y=n(5268),_=s.setImmediate,E=s.clearImmediate,b=s.process,T=s.Dispatch,S=s.Function,w=s.MessageChannel,C=s.String,R=0,I={},A="onreadystatechange";h((function(){r=s.location}));var O=function(e){if(d(I,e)){var t=I[e];delete I[e],t()}},N=function(e){return function(){O(e)}},k=function(e){O(e.data)},D=function(e){s.postMessage(C(e),r.protocol+"//"+r.host)};_&&E||(_=function(e){g(arguments.length,1);var t=u(e)?e:S(e),n=f(arguments,1);return I[++R]=function(){c(t,void 0,n)},o(R),R},E=function(e){delete I[e]},y?o=function(e){b.nextTick(N(e))}:T&&T.now?o=function(e){T.now(N(e))}:w&&!v?(a=(i=new w).port2,i.port1.onmessage=k,o=l(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(D)?(o=D,s.addEventListener("message",k,!1)):o=A in m("script")?function(e){p.appendChild(m("script"))[A]=function(){p.removeChild(this),O(e)}}:function(e){setTimeout(N(e),0)}),e.exports={set:_,clear:E}},863:function(e,t,n){var r=n(1702);e.exports=r(1..valueOf)},1400:function(e,t,n){var r=n(9303),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},4599:function(e,t,n){var r=n(7593),o=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw o("Can't convert number to bigint");return BigInt(t)}},7067:function(e,t,n){var r=n(9303),o=n(7466),i=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw i("Wrong length or index");return n}},5656:function(e,t,n){var r=n(8361),o=n(4488);e.exports=function(e){return r(o(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488),o=Object;e.exports=function(e){return o(r(e))}},4590:function(e,t,n){var r=n(3002),o=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw o("Wrong offset");return n}},3002:function(e,t,n){var r=n(9303),o=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw o("The argument can't be less than 0");return t}},7593:function(e,t,n){var r=n(6916),o=n(111),i=n(2190),a=n(8173),s=n(2140),c=n(5112),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,c=a(e,u);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!o(n)||i(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:function(e,t,n){var r=n(7593),o=n(2190);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},1694:function(e,t,n){var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},1340:function(e,t,n){var r=n(648),o=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9843:function(e,t,n){var r=n(2109),o=n(7854),i=n(6916),a=n(9781),s=n(3832),c=n(260),l=n(3331),u=n(5787),d=n(9114),h=n(8880),p=n(5988),f=n(7466),m=n(7067),g=n(4590),v=n(4948),y=n(2597),_=n(648),E=n(111),b=n(2190),T=n(30),S=n(7976),w=n(7674),C=n(8006).f,R=n(7321),I=n(2092).forEach,A=n(6340),O=n(7045),N=n(3070),k=n(1236),D=n(9909),x=n(9587),P=D.get,M=D.set,L=D.enforce,U=N.f,j=k.f,V=Math.round,B=o.RangeError,z=l.ArrayBuffer,F=z.prototype,H=l.DataView,G=c.NATIVE_ARRAY_BUFFER_VIEWS,W=c.TYPED_ARRAY_TAG,q=c.TypedArray,K=c.TypedArrayPrototype,Y=c.aTypedArrayConstructor,X=c.isTypedArray,$="BYTES_PER_ELEMENT",J="Wrong length",Z=function(e,t){Y(e);for(var n=0,r=t.length,o=new e(r);r>n;)o[n]=t[n++];return o},Q=function(e,t){O(e,t,{configurable:!0,get:function(){return P(this)[t]}})},ee=function(e){var t;return S(F,e)||"ArrayBuffer"==(t=_(e))||"SharedArrayBuffer"==t},te=function(e,t){return X(e)&&!b(t)&&t in e&&p(+t)&&t>=0},ne=function(e,t){return t=v(t),te(e,t)?d(2,e[t]):j(e,t)},re=function(e,t,n){return t=v(t),!(te(e,t)&&E(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?U(e,t,n):(e[t]=n.value,e)};a?(G||(k.f=ne,N.f=re,Q(K,"buffer"),Q(K,"byteOffset"),Q(K,"byteLength"),Q(K,"length")),r({target:"Object",stat:!0,forced:!G},{getOwnPropertyDescriptor:ne,defineProperty:re}),e.exports=function(e,t,n){var a=e.match(/\d+/)[0]/8,c=e+(n?"Clamped":"")+"Array",l="get"+e,d="set"+e,p=o[c],v=p,y=v&&v.prototype,_={},b=function(e,t){U(e,t,{get:function(){return e=t,(n=P(this)).view[l](e*a+n.byteOffset,!0);var e,n},set:function(e){return r=t,o=e,i=P(this),n&&(o=(o=V(o))<0?0:o>255?255:255&o),void i.view[d](r*a+i.byteOffset,o,!0);var r,o,i},enumerable:!0})};G?s&&(v=t((function(e,t,n,r){return u(e,y),x(E(t)?ee(t)?void 0!==r?new p(t,g(n,a),r):void 0!==n?new p(t,g(n,a)):new p(t):X(t)?Z(v,t):i(R,v,t):new p(m(t)),e,v)})),w&&w(v,q),I(C(p),(function(e){e in v||h(v,e,p[e])})),v.prototype=y):(v=t((function(e,t,n,r){u(e,y);var o,s,c,l=0,d=0;if(E(t)){if(!ee(t))return X(t)?Z(v,t):i(R,v,t);o=t,d=g(n,a);var h=t.byteLength;if(void 0===r){if(h%a)throw B(J);if((s=h-d)<0)throw B(J)}else if((s=f(r)*a)+d>h)throw B(J);c=s/a}else c=m(t),o=new z(s=c*a);for(M(e,{buffer:o,byteOffset:d,byteLength:s,length:c,view:new H(o)});l<c;)b(e,l++)})),w&&w(v,q),y=v.prototype=T(K)),y.constructor!==v&&h(y,"constructor",v),L(y).TypedArrayConstructor=v,W&&h(y,W,c);var S=v!=p;_[c]=v,r({global:!0,constructor:!0,forced:S,sham:!G},_),$ in v||h(v,$,a),$ in y||h(y,$,a),A(c)}):e.exports=function(){}},3832:function(e,t,n){var r=n(7854),o=n(7293),i=n(7072),a=n(260).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;e.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||o((function(){return 1!==new c(new s(2),1,void 0).length}))},3074:function(e,t,n){var r=n(7745),o=n(6304);e.exports=function(e,t){return r(o(e),t)}},7321:function(e,t,n){var r=n(9974),o=n(6916),i=n(9483),a=n(7908),s=n(6244),c=n(4121),l=n(1246),u=n(7659),d=n(4067),h=n(260).aTypedArrayConstructor,p=n(4599);e.exports=function(e){var t,n,f,m,g,v,y,_,E=i(this),b=a(e),T=arguments.length,S=T>1?arguments[1]:void 0,w=void 0!==S,C=l(b);if(C&&!u(C))for(_=(y=c(b,C)).next,b=[];!(v=o(_,y)).done;)b.push(v.value);for(w&&T>2&&(S=r(S,arguments[2])),n=s(b),f=new(h(E))(n),m=d(f),t=0;n>t;t++)g=w?S(b[t],t):b[t],f[t]=m?p(g):+g;return f}},6304:function(e,t,n){var r=n(260),o=n(6707),i=r.aTypedArrayConstructor,a=r.getTypedArrayConstructor;e.exports=function(e){return i(o(e,a(e)))}},9711:function(e,t,n){var r=n(1702),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},5143:function(e,t,n){var r=n(7293),o=n(5112),i=n(9781),a=n(1913),s=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),a&&!e.toJSON||!t.size&&(a||!i)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},3307:function(e,t,n){var r=n(6293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),o=n(7293);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},4811:function(e,t,n){var r=n(7854),o=n(614),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},6800:function(e,t,n){var r=n(857),o=n(2597),i=n(6061),a=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},6061:function(e,t,n){var r=n(5112);t.f=r},5112:function(e,t,n){var r=n(7854),o=n(2309),i=n(2597),a=n(9711),s=n(6293),c=n(3307),l=r.Symbol,u=o("wks"),d=c?l.for||l:l&&l.withoutSetter||a;e.exports=function(e){return i(u,e)||(u[e]=s&&i(l,e)?l[e]:d("Symbol."+e)),u[e]}},1361:function(e){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},9575:function(e,t,n){var r=n(2109),o=n(1470),i=n(7293),a=n(3331),s=n(9670),c=n(1400),l=n(7466),u=n(6707),d=a.ArrayBuffer,h=a.DataView,p=h.prototype,f=o(d.prototype.slice),m=o(p.getUint8),g=o(p.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(f&&void 0===t)return f(s(this),e);for(var n=s(this).byteLength,r=c(e,n),o=c(void 0===t?n:t,n),i=new(u(this,d))(l(o-r)),a=new h(this),p=new h(i),v=0;r<o;)g(p,v++,m(a,r++));return i}})},2222:function(e,t,n){var r=n(2109),o=n(7293),i=n(3157),a=n(111),s=n(7908),c=n(6244),l=n(7207),u=n(6135),d=n(5417),h=n(1194),p=n(5112),f=n(7392),m=p("isConcatSpreadable"),g=f>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,arity:1,forced:!g||!h("concat")},{concat:function(e){var t,n,r,o,i,a=s(this),h=d(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(v(i=-1===t?a:arguments[t]))for(o=c(i),l(p+o),n=0;n<o;n++,p++)n in i&&u(h,p,i[n]);else l(p+1),u(h,p++,i);return h.length=p,h}})},7327:function(e,t,n){var r=n(2109),o=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:function(e,t,n){var r=n(2109),o=n(2092).findIndex,i=n(1223),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},9826:function(e,t,n){var r=n(2109),o=n(2092).find,i=n(1223),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},9554:function(e,t,n){var r=n(2109),o=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},1038:function(e,t,n){var r=n(2109),o=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:o})},6699:function(e,t,n){var r=n(2109),o=n(1318).includes,i=n(7293),a=n(1223);r({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},2772:function(e,t,n){var r=n(2109),o=n(1470),i=n(1318).indexOf,a=n(9341),s=o([].indexOf),c=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:c||!a("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?s(this,e,t)||0:i(this,e,t)}})},9753:function(e,t,n){n(2109)({target:"Array",stat:!0},{isArray:n(3157)})},6992:function(e,t,n){var r=n(5656),o=n(1223),i=n(7497),a=n(9909),s=n(3070).f,c=n(1656),l=n(6178),u=n(1913),d=n(9781),h="Array Iterator",p=a.set,f=a.getterFor(h);e.exports=c(Array,"Array",(function(e,t){p(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,l(void 0,!0)):l("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var m=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&d&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(g){}},9600:function(e,t,n){var r=n(2109),o=n(1702),i=n(8361),a=n(5656),s=n(9341),c=o([].join);r({target:"Array",proto:!0,forced:i!=Object||!s("join",",")},{join:function(e){return c(a(this),void 0===e?",":e)}})},4986:function(e,t,n){var r=n(2109),o=n(6583);r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},1249:function(e,t,n){var r=n(2109),o=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},5827:function(e,t,n){var r=n(2109),o=n(3671).left,i=n(9341),a=n(7392);r({target:"Array",proto:!0,forced:!n(5268)&&a>79&&a<83||!i("reduce")},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},5069:function(e,t,n){var r=n(2109),o=n(1702),i=n(3157),a=o([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a(this)}})},7042:function(e,t,n){var r=n(2109),o=n(3157),i=n(4411),a=n(111),s=n(1400),c=n(6244),l=n(5656),u=n(6135),d=n(5112),h=n(1194),p=n(206),f=h("slice"),m=d("species"),g=Array,v=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,r,d,h=l(this),f=c(h),y=s(e,f),_=s(void 0===t?f:t,f);if(o(h)&&(n=h.constructor,(i(n)&&(n===g||o(n.prototype))||a(n)&&null===(n=n[m]))&&(n=void 0),n===g||void 0===n))return p(h,y,_);for(r=new(void 0===n?g:n)(v(_-y,0)),d=0;y<_;y++,d++)y in h&&u(r,d,h[y]);return r.length=d,r}})},5212:function(e,t,n){var r=n(2109),o=n(2092).some;r({target:"Array",proto:!0,forced:!n(9341)("some")},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},561:function(e,t,n){var r=n(2109),o=n(7908),i=n(1400),a=n(9303),s=n(6244),c=n(3658),l=n(7207),u=n(5417),d=n(6135),h=n(5117),p=n(1194)("splice"),f=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,p,g,v,y,_=o(this),E=s(_),b=i(e,E),T=arguments.length;for(0===T?n=r=0:1===T?(n=0,r=E-b):(n=T-2,r=m(f(a(t),0),E-b)),l(E+n-r),p=u(_,r),g=0;g<r;g++)(v=b+g)in _&&d(p,g,_[v]);if(p.length=r,n<r){for(g=b;g<E-r;g++)y=g+n,(v=g+r)in _?_[y]=_[v]:h(_,y);for(g=E;g>E-r+n;g--)h(_,g-1)}else if(n>r)for(g=E-r;g>b;g--)y=g+n-1,(v=g+r-1)in _?_[y]=_[v]:h(_,y);for(g=0;g<n;g++)_[g+b]=arguments[g+2];return c(_,E-r+n),p}})},3843:function(e,t,n){var r=n(2109),o=n(1702),i=Date,a=o(i.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return a(new i)}})},3710:function(e,t,n){var r=n(1702),o=n(8052),i=Date.prototype,a="Invalid Date",s="toString",c=r(i[s]),l=r(i.getTime);String(new Date(NaN))!=a&&o(i,s,(function(){var e=l(this);return e==e?c(this):a}))},4812:function(e,t,n){var r=n(2109),o=n(7065);r({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},8309:function(e,t,n){var r=n(9781),o=n(6530).EXISTS,i=n(1702),a=n(7045),s=Function.prototype,c=i(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=i(l.exec);r&&!o&&a(s,"name",{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(e){return""}}})},8862:function(e,t,n){var r=n(2109),o=n(5005),i=n(2104),a=n(6916),s=n(1702),c=n(7293),l=n(614),u=n(2190),d=n(206),h=n(8044),p=n(6293),f=String,m=o("JSON","stringify"),g=s(/./.exec),v=s("".charAt),y=s("".charCodeAt),_=s("".replace),E=s(1..toString),b=/[\uD800-\uDFFF]/g,T=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,w=!p||c((function(){var e=o("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),C=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),R=function(e,t){var n=d(arguments),r=h(t);if(l(r)||void 0!==e&&!u(e))return n[1]=function(e,t){if(l(r)&&(t=a(r,this,f(e),t)),!u(t))return t},i(m,null,n)},I=function(e,t,n){var r=v(n,t-1),o=v(n,t+1);return g(T,e)&&!g(S,o)||g(S,e)&&!g(T,r)?"\\u"+E(y(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:w||C},{stringify:function(e,t,n){var r=d(arguments),o=i(w?R:m,null,r);return C&&"string"==typeof o?_(o,b,I):o}})},9098:function(e,t,n){n(7710)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(5631))},1532:function(e,t,n){n(9098)},9653:function(e,t,n){var r=n(2109),o=n(1913),i=n(9781),a=n(7854),s=n(857),c=n(1702),l=n(4705),u=n(2597),d=n(9587),h=n(7976),p=n(2190),f=n(7593),m=n(7293),g=n(8006).f,v=n(1236).f,y=n(3070).f,_=n(863),E=n(3111).trim,b="Number",T=a[b],S=s[b],w=T.prototype,C=a.TypeError,R=c("".slice),I=c("".charCodeAt),A=l(b,!T(" 0o1")||!T("0b1")||T("+0x1")),O=function(e){var t,n,r=arguments.length<1?0:T("bigint"==typeof(n=f(e,"number"))?n:function(e){var t,n,r,o,i,a,s,c,l=f(e,"number");if(p(l))throw C("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=E(l),43===(t=I(l,0))||45===t){if(88===(n=I(l,2))||120===n)return NaN}else if(48===t){switch(I(l,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(a=(i=R(l,2)).length,s=0;s<a;s++)if((c=I(i,s))<48||c>o)return NaN;return parseInt(i,r)}return+l}(n));return h(w,t=this)&&m((function(){_(t)}))?d(Object(r),this,O):r};O.prototype=w,A&&!o&&(w.constructor=O),r({global:!0,constructor:!0,wrap:!0,forced:A},{Number:O});var N=function(e,t){for(var n,r=i?g(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;r.length>o;o++)u(t,n=r[o])&&!u(e,n)&&y(e,n,v(t,n))};o&&S&&N(s[b],S),(A||o)&&N(s[b],T)},3161:function(e,t,n){n(2109)({target:"Number",stat:!0},{isInteger:n(5988)})},4048:function(e,t,n){n(2109)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},9601:function(e,t,n){var r=n(2109),o=n(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},9070:function(e,t,n){var r=n(2109),o=n(9781),i=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},9720:function(e,t,n){var r=n(2109),o=n(4699).entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},9660:function(e,t,n){var r=n(2109),o=n(6293),i=n(7293),a=n(5181),s=n(7908);r({target:"Object",stat:!0,forced:!o||i((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},7941:function(e,t,n){var r=n(2109),o=n(7908),i=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},1539:function(e,t,n){var r=n(1694),o=n(8052),i=n(288);r||o(Object.prototype,"toString",i,{unsafe:!0})},821:function(e,t,n){var r=n(2109),o=n(6916),i=n(9662),a=n(8523),s=n(2534),c=n(408);r({target:"Promise",stat:!0,forced:n(612)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,l=n.reject,u=s((function(){var n=i(t.resolve),a=[],s=0,u=1;c(e,(function(e){var i=s++,c=!1;u++,o(n,t,e).then((function(e){c||(c=!0,a[i]=e,--u||r(a))}),l)})),--u||r(a)}));return u.error&&l(u.value),n.promise}})},4164:function(e,t,n){var r=n(2109),o=n(1913),i=n(3702).CONSTRUCTOR,a=n(2492),s=n(5005),c=n(614),l=n(8052),u=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&c(a)){var d=s("Promise").prototype.catch;u.catch!==d&&l(u,"catch",d,{unsafe:!0})}},3401:function(e,t,n){var r,o,i,a=n(2109),s=n(1913),c=n(5268),l=n(7854),u=n(6916),d=n(8052),h=n(7674),p=n(8003),f=n(6340),m=n(9662),g=n(614),v=n(111),y=n(5787),_=n(6707),E=n(261).set,b=n(5948),T=n(842),S=n(2534),w=n(8572),C=n(9909),R=n(2492),I=n(3702),A=n(8523),O="Promise",N=I.CONSTRUCTOR,k=I.REJECTION_EVENT,D=I.SUBCLASSING,x=C.getterFor(O),P=C.set,M=R&&R.prototype,L=R,U=M,j=l.TypeError,V=l.document,B=l.process,z=A.f,F=z,H=!!(V&&V.createEvent&&l.dispatchEvent),G="unhandledrejection",W=function(e){var t;return!(!v(e)||!g(t=e.then))&&t},q=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,d=e.domain;try{s?(a||(2===t.rejection&&J(t),t.rejection=1),!0===s?n=i:(d&&d.enter(),n=s(i),d&&(d.exit(),o=!0)),n===e.promise?l(j("Promise-chain cycle")):(r=W(n))?u(r,n,c,l):c(n)):l(i)}catch(h){d&&!o&&d.exit(),l(h)}},K=function(e,t){e.notified||(e.notified=!0,b((function(){for(var n,r=e.reactions;n=r.get();)q(n,e);e.notified=!1,t&&!e.rejection&&X(e)})))},Y=function(e,t,n){var r,o;H?((r=V.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!k&&(o=l["on"+e])?o(r):e===G&&T("Unhandled promise rejection",n)},X=function(e){u(E,l,(function(){var t,n=e.facade,r=e.value;if($(e)&&(t=S((function(){c?B.emit("unhandledRejection",r,n):Y(G,n,r)})),e.rejection=c||$(e)?2:1,t.error))throw t.value}))},$=function(e){return 1!==e.rejection&&!e.parent},J=function(e){u(E,l,(function(){var t=e.facade;c?B.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)}))},Z=function(e,t,n){return function(r){e(t,r,n)}},Q=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw j("Promise can't be resolved itself");var r=W(t);r?b((function(){var n={done:!1};try{u(r,t,Z(ee,n,e),Z(Q,n,e))}catch(o){Q(n,o,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(o){Q({done:!1},o,e)}}};if(N&&(U=(L=function(e){y(this,U),m(e),u(r,this);var t=x(this);try{e(Z(ee,t),Z(Q,t))}catch(n){Q(t,n)}}).prototype,(r=function(e){P(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new w,rejection:!1,state:0,value:void 0})}).prototype=d(U,"then",(function(e,t){var n=x(this),r=z(_(this,L));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=c?B.domain:void 0,0==n.state?n.reactions.add(r):b((function(){q(r,n)})),r.promise})),o=function(){var e=new r,t=x(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z(Q,t)},A.f=z=function(e){return e===L||void 0===e?new o(e):F(e)},!s&&g(R)&&M!==Object.prototype)){i=M.then,D||d(M,"then",(function(e,t){var n=this;return new L((function(e,t){u(i,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete M.constructor}catch(te){}h&&h(M,U)}a({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:L}),p(L,O,!1,!0),f(O)},8674:function(e,t,n){n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:function(e,t,n){var r=n(2109),o=n(6916),i=n(9662),a=n(8523),s=n(2534),c=n(408);r({target:"Promise",stat:!0,forced:n(612)},{race:function(e){var t=this,n=a.f(t),r=n.reject,l=s((function(){var a=i(t.resolve);c(e,(function(e){o(a,t,e).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},683:function(e,t,n){var r=n(2109),o=n(6916),i=n(8523);r({target:"Promise",stat:!0,forced:n(3702).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return o(t.reject,void 0,e),t.promise}})},6294:function(e,t,n){var r=n(2109),o=n(5005),i=n(1913),a=n(2492),s=n(3702).CONSTRUCTOR,c=n(9478),l=o("Promise"),u=i&&!s;r({target:"Promise",stat:!0,forced:i||s},{resolve:function(e){return c(u&&this===l?a:this,e)}})},4916:function(e,t,n){var r=n(2109),o=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9714:function(e,t,n){var r=n(6530).PROPER,o=n(8052),i=n(9670),a=n(1340),s=n(7293),c=n(4706),l="toString",u=RegExp.prototype[l],d=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=r&&u.name!=l;(d||h)&&o(RegExp.prototype,l,(function(){var e=i(this);return"/"+a(e.source)+"/"+a(c(e))}),{unsafe:!0})},2023:function(e,t,n){var r=n(2109),o=n(1702),i=n(3929),a=n(4488),s=n(1340),c=n(4964),l=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(s(a(this)),s(i(e)),arguments.length>1?arguments[1]:void 0)}})},8783:function(e,t,n){var r=n(8710).charAt,o=n(1340),i=n(9909),a=n(1656),s=n(6178),c="String Iterator",l=i.set,u=i.getterFor(c);a(String,"String",(function(e){l(this,{type:c,string:o(e),index:0})}),(function(){var e,t=u(this),n=t.string,o=t.index;return o>=n.length?s(void 0,!0):(e=r(n,o),t.index+=e.length,s(e,!1))}))},3123:function(e,t,n){var r=n(2104),o=n(6916),i=n(1702),a=n(7007),s=n(9670),c=n(8554),l=n(7850),u=n(4488),d=n(6707),h=n(1530),p=n(7466),f=n(1340),m=n(8173),g=n(1589),v=n(7651),y=n(2261),_=n(2999),E=n(7293),b=_.UNSUPPORTED_Y,T=4294967295,S=Math.min,w=[].push,C=i(/./.exec),R=i(w),I=i("".slice),A=!E((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=f(u(this)),a=void 0===n?T:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!l(e))return o(t,i,e,a);for(var s,c,d,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=new RegExp(e.source,p+"g");(s=o(y,v,i))&&!((c=v.lastIndex)>m&&(R(h,I(i,m,s.index)),s.length>1&&s.index<i.length&&r(w,h,g(s,1)),d=s[0].length,m=c,h.length>=a));)v.lastIndex===s.index&&v.lastIndex++;return m===i.length?!d&&C(v,"")||R(h,""):R(h,I(i,m)),h.length>a?g(h,0,a):h}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:o(t,this,e,n)}:t,[function(t,n){var r=u(this),a=c(t)?void 0:m(t,e);return a?o(a,t,r,n):o(i,f(r),t,n)},function(e,r){var o=s(this),a=f(e),c=n(i,o,a,r,i!==t);if(c.done)return c.value;var l=d(o,RegExp),u=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(b?"g":"y"),g=new l(b?"^(?:"+o.source+")":o,m),y=void 0===r?T:r>>>0;if(0===y)return[];if(0===a.length)return null===v(g,a)?[a]:[];for(var _=0,E=0,w=[];E<a.length;){g.lastIndex=b?0:E;var C,A=v(g,b?I(a,E):a);if(null===A||(C=S(p(g.lastIndex+(b?E:0)),a.length))===_)E=h(a,E,u);else{if(R(w,I(a,_,E)),w.length===y)return w;for(var O=1;O<=A.length-1;O++)if(R(w,A[O]),w.length===y)return w;E=_=C}}return R(w,I(a,_)),w}]}),!A,b)},4032:function(e,t,n){var r=n(2109),o=n(7854),i=n(6916),a=n(1702),s=n(1913),c=n(9781),l=n(6293),u=n(7293),d=n(2597),h=n(7976),p=n(9670),f=n(5656),m=n(4948),g=n(1340),v=n(9114),y=n(30),_=n(1956),E=n(8006),b=n(1156),T=n(5181),S=n(1236),w=n(3070),C=n(6048),R=n(5296),I=n(8052),A=n(7045),O=n(2309),N=n(6200),k=n(3501),D=n(9711),x=n(5112),P=n(6061),M=n(6800),L=n(6532),U=n(8003),j=n(9909),V=n(2092).forEach,B=N("hidden"),z="Symbol",F="prototype",H=j.set,G=j.getterFor(z),W=Object[F],q=o.Symbol,K=q&&q[F],Y=o.TypeError,X=o.QObject,$=S.f,J=w.f,Z=b.f,Q=R.f,ee=a([].push),te=O("symbols"),ne=O("op-symbols"),re=O("wks"),oe=!X||!X[F]||!X[F].findChild,ie=c&&u((function(){return 7!=y(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=$(W,t);r&&delete W[t],J(e,t,n),r&&e!==W&&J(W,t,r)}:J,ae=function(e,t){var n=te[e]=y(K);return H(n,{type:z,tag:e,description:t}),c||(n.description=t),n},se=function(e,t,n){e===W&&se(ne,t,n),p(e);var r=m(t);return p(n),d(te,r)?(n.enumerable?(d(e,B)&&e[B][r]&&(e[B][r]=!1),n=y(n,{enumerable:v(0,!1)})):(d(e,B)||J(e,B,v(1,{})),e[B][r]=!0),ie(e,r,n)):J(e,r,n)},ce=function(e,t){p(e);var n=f(t),r=_(n).concat(he(n));return V(r,(function(t){c&&!i(le,n,t)||se(e,t,n[t])})),e},le=function(e){var t=m(e),n=i(Q,this,t);return!(this===W&&d(te,t)&&!d(ne,t))&&(!(n||!d(this,t)||!d(te,t)||d(this,B)&&this[B][t])||n)},ue=function(e,t){var n=f(e),r=m(t);if(n!==W||!d(te,r)||d(ne,r)){var o=$(n,r);return!o||!d(te,r)||d(n,B)&&n[B][r]||(o.enumerable=!0),o}},de=function(e){var t=Z(f(e)),n=[];return V(t,(function(e){d(te,e)||d(k,e)||ee(n,e)})),n},he=function(e){var t=e===W,n=Z(t?ne:f(e)),r=[];return V(n,(function(e){!d(te,e)||t&&!d(W,e)||ee(r,te[e])})),r};l||(q=function(){if(h(K,this))throw Y("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=D(e),n=function(e){this===W&&i(n,ne,e),d(this,B)&&d(this[B],t)&&(this[B][t]=!1),ie(this,t,v(1,e))};return c&&oe&&ie(W,t,{configurable:!0,set:n}),ae(t,e)},I(K=q[F],"toString",(function(){return G(this).tag})),I(q,"withoutSetter",(function(e){return ae(D(e),e)})),R.f=le,w.f=se,C.f=ce,S.f=ue,E.f=b.f=de,T.f=he,P.f=function(e){return ae(x(e),e)},c&&(A(K,"description",{configurable:!0,get:function(){return G(this).description}}),s||I(W,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:q}),V(_(re),(function(e){M(e)})),r({target:z,stat:!0,forced:!l},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(e,t){return void 0===t?y(e):ce(y(e),t)},defineProperty:se,defineProperties:ce,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:de}),L(),U(q,z),k[B]=!0},1817:function(e,t,n){var r=n(2109),o=n(9781),i=n(7854),a=n(1702),s=n(2597),c=n(614),l=n(7976),u=n(1340),d=n(7045),h=n(9920),p=i.Symbol,f=p&&p.prototype;if(o&&c(p)&&(!("description"in f)||void 0!==p().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(f,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};h(g,p),g.prototype=f,f.constructor=g;var v="Symbol(test)"==String(p("test")),y=a(f.valueOf),_=a(f.toString),E=/^Symbol\((.*)\)[^)]+$/,b=a("".replace),T=a("".slice);d(f,"description",{configurable:!0,get:function(){var e=y(this);if(s(m,e))return"";var t=_(e),n=v?T(t,7,-1):b(t,E,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},763:function(e,t,n){var r=n(2109),o=n(5005),i=n(2597),a=n(1340),s=n(2309),c=n(2015),l=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=a(e);if(i(l,t))return l[t];var n=o("Symbol")(t);return l[t]=n,u[n]=t,n}})},2165:function(e,t,n){n(6800)("iterator")},2526:function(e,t,n){n(4032),n(763),n(6620),n(8862),n(9660)},6620:function(e,t,n){var r=n(2109),o=n(2597),i=n(2190),a=n(6330),s=n(2309),c=n(2015),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!i(e))throw TypeError(a(e)+" is not a symbol");if(o(l,e))return l[e]}})},2990:function(e,t,n){var r=n(1702),o=n(260),i=r(n(1048)),a=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",(function(e,t){return i(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:function(e,t,n){var r=n(260),o=n(2092).every,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:function(e,t,n){var r=n(260),o=n(1285),i=n(4599),a=n(648),s=n(6916),c=n(1702),l=n(7293),u=r.aTypedArray,d=r.exportTypedArrayMethod,h=c("".slice);d("fill",(function(e){var t=arguments.length;u(this);var n="Big"===h(a(this),0,3)?i(e):+e;return s(o,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),l((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},5035:function(e,t,n){var r=n(260),o=n(2092).filter,i=n(3074),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=o(a(this),e,arguments.length>1?arguments[1]:void 0);return i(this,t)}))},7174:function(e,t,n){var r=n(260),o=n(2092).findIndex,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:function(e,t,n){var r=n(260),o=n(2092).find,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},2846:function(e,t,n){var r=n(260),o=n(2092).forEach,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},8145:function(e,t,n){var r=n(3832);(0,n(260).exportTypedArrayStaticMethod)("from",n(7321),r)},4731:function(e,t,n){var r=n(260),o=n(1318).includes,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:function(e,t,n){var r=n(260),o=n(1318).indexOf,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:function(e,t,n){var r=n(7854),o=n(7293),i=n(1702),a=n(260),s=n(6992),c=n(5112)("iterator"),l=r.Uint8Array,u=i(s.values),d=i(s.keys),h=i(s.entries),p=a.aTypedArray,f=a.exportTypedArrayMethod,m=l&&l.prototype,g=!o((function(){m[c].call([1])})),v=!!m&&m.values&&m[c]===m.values&&"values"===m.values.name,y=function(){return u(p(this))};f("entries",(function(){return h(p(this))}),g),f("keys",(function(){return d(p(this))}),g),f("values",y,g||!v,{name:"values"}),f(c,y,g||!v,{name:"values"})},8867:function(e,t,n){var r=n(260),o=n(1702),i=r.aTypedArray,a=r.exportTypedArrayMethod,s=o([].join);a("join",(function(e){return s(i(this),e)}))},7789:function(e,t,n){var r=n(260),o=n(2104),i=n(6583),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return o(i,a(this),t>1?[e,arguments[1]]:[e])}))},3739:function(e,t,n){var r=n(260),o=n(2092).map,i=n(6304),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(i(e))(t)}))}))},4483:function(e,t,n){var r=n(260),o=n(3671).right,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return o(i(this),e,t,t>1?arguments[1]:void 0)}))},9368:function(e,t,n){var r=n(260),o=n(3671).left,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return o(i(this),e,t,t>1?arguments[1]:void 0)}))},2056:function(e,t,n){var r=n(260),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){for(var e,t=this,n=o(t).length,r=a(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t}))},3462:function(e,t,n){var r=n(7854),o=n(6916),i=n(260),a=n(6244),s=n(4590),c=n(7908),l=n(7293),u=r.RangeError,d=r.Int8Array,h=d&&d.prototype,p=h&&h.set,f=i.aTypedArray,m=i.exportTypedArrayMethod,g=!l((function(){var e=new Uint8ClampedArray(2);return o(p,e,{length:1,0:3},1),3!==e[1]})),v=g&&i.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=c(e);if(g)return o(p,this,n,t);var r=this.length,i=a(n),l=0;if(i+t>r)throw u("Wrong length");for(;l<i;)this[t+l]=n[l++]}),!g||v)},678:function(e,t,n){var r=n(260),o=n(6304),i=n(7293),a=n(206),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=a(s(this),e,t),r=o(this),i=0,c=n.length,l=new r(c);c>i;)l[i]=n[i++];return l}),i((function(){new Int8Array(1).slice()})))},7462:function(e,t,n){var r=n(260),o=n(2092).some,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:function(e,t,n){var r=n(7854),o=n(1470),i=n(7293),a=n(9662),s=n(4362),c=n(260),l=n(8886),u=n(256),d=n(7392),h=n(8008),p=c.aTypedArray,f=c.exportTypedArrayMethod,m=r.Uint16Array,g=m&&o(m.prototype.sort),v=!(!g||i((function(){g(new m(2),null)}))&&i((function(){g(new m(2),{})}))),y=!!g&&!i((function(){if(d)return d<74;if(l)return l<67;if(u)return!0;if(h)return h<602;var e,t,n=new m(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(g(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));f("sort",(function(e){return void 0!==e&&a(e),y?g(this,e):s(p(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!y||v)},5021:function(e,t,n){var r=n(260),o=n(7466),i=n(1400),a=n(6304),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),r=n.length,c=i(e,r);return new(a(n))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===t?r:i(t,r))-c))}))},2974:function(e,t,n){var r=n(7854),o=n(2104),i=n(260),a=n(7293),s=n(206),c=r.Int8Array,l=i.aTypedArray,u=i.exportTypedArrayMethod,d=[].toLocaleString,h=!!c&&a((function(){d.call(new c(1))}));u("toLocaleString",(function(){return o(d,h?s(l(this)):l(this),s(arguments))}),a((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!a((function(){c.prototype.toLocaleString.call([1,2])})))},5016:function(e,t,n){var r=n(260).exportTypedArrayMethod,o=n(7293),i=n(7854),a=n(1702),s=i.Uint8Array,c=s&&s.prototype||{},l=[].toString,u=a([].join);o((function(){l.call({})}))&&(l=function(){return u(this)});var d=c.toString!=l;r("toString",l,d)},2472:function(e,t,n){n(9843)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},4747:function(e,t,n){var r=n(7854),o=n(8324),i=n(8509),a=n(8533),s=n(8880),c=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var l in o)o[l]&&c(r[l]&&r[l].prototype);c(i)},3948:function(e,t,n){var r=n(7854),o=n(8324),i=n(8509),a=n(6992),s=n(8880),c=n(5112),l=c("iterator"),u=c("toStringTag"),d=a.values,h=function(e,t){if(e){if(e[l]!==d)try{s(e,l,d)}catch(r){e[l]=d}if(e[u]||s(e,u,t),o[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(r){e[n]=a[n]}}};for(var p in o)h(r[p]&&r[p].prototype,p);h(i,"DOMTokenList")},6815:function(e,t,n){var r=n(2109),o=n(7854),i=n(7152)(o.setInterval,!0);r({global:!0,bind:!0,forced:o.setInterval!==i},{setInterval:i})},8417:function(e,t,n){var r=n(2109),o=n(7854),i=n(7152)(o.setTimeout,!0);r({global:!0,bind:!0,forced:o.setTimeout!==i},{setTimeout:i})},2564:function(e,t,n){n(6815),n(8417)},5556:function(e,t,n){n(6992);var r=n(2109),o=n(7854),i=n(6916),a=n(1702),s=n(9781),c=n(5143),l=n(8052),u=n(7045),d=n(9190),h=n(8003),p=n(3061),f=n(9909),m=n(5787),g=n(614),v=n(2597),y=n(9974),_=n(648),E=n(9670),b=n(111),T=n(1340),S=n(30),w=n(9114),C=n(4121),R=n(1246),I=n(8053),A=n(5112),O=n(4362),N=A("iterator"),k="URLSearchParams",D=k+"Iterator",x=f.set,P=f.getterFor(k),M=f.getterFor(D),L=Object.getOwnPropertyDescriptor,U=function(e){if(!s)return o[e];var t=L(o,e);return t&&t.value},j=U("fetch"),V=U("Request"),B=U("Headers"),z=V&&V.prototype,F=B&&B.prototype,H=o.RegExp,G=o.TypeError,W=o.decodeURIComponent,q=o.encodeURIComponent,K=a("".charAt),Y=a([].join),X=a([].push),$=a("".replace),J=a([].shift),Z=a([].splice),Q=a("".split),ee=a("".slice),te=/\+/g,ne=Array(4),re=function(e){return ne[e-1]||(ne[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},oe=function(e){try{return W(e)}catch(t){return e}},ie=function(e){var t=$(e,te," "),n=4;try{return W(t)}catch(r){for(;n;)t=$(t,re(n--),oe);return t}},ae=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ce=function(e){return se[e]},le=function(e){return $(q(e),ae,ce)},ue=p((function(e,t){x(this,{type:D,iterator:C(P(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(b(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===K(e,0)?ee(e,1):e:T(e)))};de.prototype={type:k,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,a,s,c,l=R(e);if(l)for(n=(t=C(e,l)).next;!(r=i(n,t)).done;){if(a=(o=C(E(r.value))).next,(s=i(a,o)).done||(c=i(a,o)).done||!i(a,o).done)throw G("Expected sequence with length 2");X(this.entries,{key:T(s.value),value:T(c.value)})}else for(var u in e)v(e,u)&&X(this.entries,{key:u,value:T(e[u])})},parseQuery:function(e){if(e)for(var t,n,r=Q(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(n=Q(t,"="),X(this.entries,{key:ie(J(n)),value:ie(Y(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],X(n,le(e.key)+"="+le(e.value));return Y(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){m(this,pe);var e=x(this,new de(arguments.length>0?arguments[0]:void 0));s||(this.length=e.entries.length)},pe=he.prototype;if(d(pe,{append:function(e,t){I(arguments.length,2);var n=P(this);X(n.entries,{key:T(e),value:T(t)}),s||this.length++,n.updateURL()},delete:function(e){I(arguments.length,1);for(var t=P(this),n=t.entries,r=T(e),o=0;o<n.length;)n[o].key===r?Z(n,o,1):o++;s||(this.length=n.length),t.updateURL()},get:function(e){I(arguments.length,1);for(var t=P(this).entries,n=T(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){I(arguments.length,1);for(var t=P(this).entries,n=T(e),r=[],o=0;o<t.length;o++)t[o].key===n&&X(r,t[o].value);return r},has:function(e){I(arguments.length,1);for(var t=P(this).entries,n=T(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){I(arguments.length,1);for(var n,r=P(this),o=r.entries,i=!1,a=T(e),c=T(t),l=0;l<o.length;l++)(n=o[l]).key===a&&(i?Z(o,l--,1):(i=!0,n.value=c));i||X(o,{key:a,value:c}),s||(this.length=o.length),r.updateURL()},sort:function(){var e=P(this);O(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=P(this).entries,r=y(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),l(pe,N,pe.entries,{name:"entries"}),l(pe,"toString",(function(){return P(this).serialize()}),{enumerable:!0}),s&&u(pe,"size",{get:function(){return P(this).entries.length},configurable:!0,enumerable:!0}),h(he,k),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:he}),!c&&g(B)){var fe=a(F.has),me=a(F.set),ge=function(e){if(b(e)){var t,n=e.body;if(_(n)===k)return t=e.headers?new B(e.headers):new B,fe(t,"content-type")||me(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:w(0,T(n)),headers:w(0,t)})}return e};if(g(j)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return j(e,arguments.length>1?ge(arguments[1]):{})}}),g(V)){var ve=function(e){return m(this,z),new V(e,arguments.length>1?ge(arguments[1]):{})};z.constructor=ve,ve.prototype=z,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ve})}}e.exports={URLSearchParams:he,getState:P}},1637:function(e,t,n){n(5556)},8789:function(e,t,n){n(8783);var r,o=n(2109),i=n(9781),a=n(5143),s=n(7854),c=n(9974),l=n(1702),u=n(8052),d=n(7045),h=n(5787),p=n(2597),f=n(1574),m=n(8457),g=n(1589),v=n(8710).codeAt,y=n(3197),_=n(1340),E=n(8003),b=n(8053),T=n(5556),S=n(9909),w=S.set,C=S.getterFor("URL"),R=T.URLSearchParams,I=T.getState,A=s.URL,O=s.TypeError,N=s.parseInt,k=Math.floor,D=Math.pow,x=l("".charAt),P=l(/./.exec),M=l([].join),L=l(1..toString),U=l([].pop),j=l([].push),V=l("".replace),B=l([].shift),z=l("".split),F=l("".slice),H=l("".toLowerCase),G=l([].unshift),W="Invalid scheme",q="Invalid host",K="Invalid port",Y=/[a-z]/i,X=/[\d+-.a-z]/i,$=/\d/,J=/^0x/i,Z=/^[0-7]+$/,Q=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,oe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ie=/[\t\n\r]/g,ae=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)G(t,e%256),e=k(e/256);return M(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=L(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},se={},ce=f({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),le=f({},ce,{"#":1,"?":1,"{":1,"}":1}),ue=f({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=v(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var n;return 2==e.length&&P(Y,x(e,0))&&(":"==(n=x(e,1))||!t&&"|"==n)},fe=function(e){var t;return e.length>1&&pe(F(e,0,2))&&(2==e.length||"/"===(t=x(e,2))||"\\"===t||"?"===t||"#"===t)},me=function(e){return"."===e||"%2e"===H(e)},ge={},ve={},ye={},_e={},Ee={},be={},Te={},Se={},we={},Ce={},Re={},Ie={},Ae={},Oe={},Ne={},ke={},De={},xe={},Pe={},Me={},Le={},Ue=function(e,t,n){var r,o,i,a=_(e);if(t){if(o=this.parse(a))throw O(o);this.searchParams=null}else{if(void 0!==n&&(r=new Ue(n,!0)),o=this.parse(a,null,r))throw O(o);(i=I(new R)).bindURL(this),this.searchParams=i}};Ue.prototype={type:"URL",parse:function(e,t,n){var o,i,a,s,c,l=this,u=t||ge,d=0,h="",f=!1,v=!1,y=!1;for(e=_(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=V(e,re,""),e=V(e,oe,"$1")),e=V(e,ie,""),o=m(e);d<=o.length;){switch(i=o[d],u){case ge:if(!i||!P(Y,i)){if(t)return W;u=ye;continue}h+=H(i),u=ve;break;case ve:if(i&&(P(X,i)||"+"==i||"-"==i||"."==i))h+=H(i);else{if(":"!=i){if(t)return W;h="",u=ye,d=0;continue}if(t&&(l.isSpecial()!=p(he,h)||"file"==h&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=h,t)return void(l.isSpecial()&&he[l.scheme]==l.port&&(l.port=null));h="","file"==l.scheme?u=Oe:l.isSpecial()&&n&&n.scheme==l.scheme?u=_e:l.isSpecial()?u=Se:"/"==o[d+1]?(u=Ee,d++):(l.cannotBeABaseURL=!0,j(l.path,""),u=Pe)}break;case ye:if(!n||n.cannotBeABaseURL&&"#"!=i)return W;if(n.cannotBeABaseURL&&"#"==i){l.scheme=n.scheme,l.path=g(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,u=Le;break}u="file"==n.scheme?Oe:be;continue;case _e:if("/"!=i||"/"!=o[d+1]){u=be;continue}u=we,d++;break;case Ee:if("/"==i){u=Ce;break}u=xe;continue;case be:if(l.scheme=n.scheme,i==r)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query=n.query;else if("/"==i||"\\"==i&&l.isSpecial())u=Te;else if("?"==i)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query="",u=Me;else{if("#"!=i){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.path.length--,u=xe;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query=n.query,l.fragment="",u=Le}break;case Te:if(!l.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,u=xe;continue}u=Ce}else u=we;break;case Se:if(u=we,"/"!=i||"/"!=x(h,d+1))continue;d++;break;case we:if("/"!=i&&"\\"!=i){u=Ce;continue}break;case Ce:if("@"==i){f&&(h="%40"+h),f=!0,a=m(h);for(var E=0;E<a.length;E++){var b=a[E];if(":"!=b||y){var T=de(b,ue);y?l.password+=T:l.username+=T}else y=!0}h=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&l.isSpecial()){if(f&&""==h)return"Invalid authority";d-=m(h).length+1,h="",u=Re}else h+=i;break;case Re:case Ie:if(t&&"file"==l.scheme){u=ke;continue}if(":"!=i||v){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&l.isSpecial()){if(l.isSpecial()&&""==h)return q;if(t&&""==h&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(h))return s;if(h="",u=De,t)return;continue}"["==i?v=!0:"]"==i&&(v=!1),h+=i}else{if(""==h)return q;if(s=l.parseHost(h))return s;if(h="",u=Ae,t==Ie)return}break;case Ae:if(!P($,i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&l.isSpecial()||t){if(""!=h){var S=N(h,10);if(S>65535)return K;l.port=l.isSpecial()&&S===he[l.scheme]?null:S,h=""}if(t)return;u=De;continue}return K}h+=i;break;case Oe:if(l.scheme="file","/"==i||"\\"==i)u=Ne;else{if(!n||"file"!=n.scheme){u=xe;continue}if(i==r)l.host=n.host,l.path=g(n.path),l.query=n.query;else if("?"==i)l.host=n.host,l.path=g(n.path),l.query="",u=Me;else{if("#"!=i){fe(M(g(o,d),""))||(l.host=n.host,l.path=g(n.path),l.shortenPath()),u=xe;continue}l.host=n.host,l.path=g(n.path),l.query=n.query,l.fragment="",u=Le}}break;case Ne:if("/"==i||"\\"==i){u=ke;break}n&&"file"==n.scheme&&!fe(M(g(o,d),""))&&(pe(n.path[0],!0)?j(l.path,n.path[0]):l.host=n.host),u=xe;continue;case ke:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&pe(h))u=xe;else if(""==h){if(l.host="",t)return;u=De}else{if(s=l.parseHost(h))return s;if("localhost"==l.host&&(l.host=""),t)return;h="",u=De}continue}h+=i;break;case De:if(l.isSpecial()){if(u=xe,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=r&&(u=xe,"/"!=i))continue}else l.fragment="",u=Le;else l.query="",u=Me;break;case xe:if(i==r||"/"==i||"\\"==i&&l.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(c=H(c=h))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(l.shortenPath(),"/"==i||"\\"==i&&l.isSpecial()||j(l.path,"")):me(h)?"/"==i||"\\"==i&&l.isSpecial()||j(l.path,""):("file"==l.scheme&&!l.path.length&&pe(h)&&(l.host&&(l.host=""),h=x(h,0)+":"),j(l.path,h)),h="","file"==l.scheme&&(i==r||"?"==i||"#"==i))for(;l.path.length>1&&""===l.path[0];)B(l.path);"?"==i?(l.query="",u=Me):"#"==i&&(l.fragment="",u=Le)}else h+=de(i,le);break;case Pe:"?"==i?(l.query="",u=Me):"#"==i?(l.fragment="",u=Le):i!=r&&(l.path[0]+=de(i,se));break;case Me:t||"#"!=i?i!=r&&("'"==i&&l.isSpecial()?l.query+="%27":l.query+="#"==i?"%23":de(i,se)):(l.fragment="",u=Le);break;case Le:i!=r&&(l.fragment+=de(i,ce))}d++}},parseHost:function(e){var t,n,r;if("["==x(e,0)){if("]"!=x(e,e.length-1))return q;if(!(t=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return x(e,d)};if(":"==h()){if(":"!=x(e,1))return;d+=2,u=++l}for(;h();){if(8==l)return;if(":"!=h()){for(t=n=0;n<4&&P(ee,h());)t=16*t+N(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,l>6)return;for(r=0;h();){if(o=null,r>0){if(!("."==h()&&r<4))return;d++}if(!P($,h()))return;for(;P($,h());){if(i=N(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}c[l]=256*c[l]+o,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c}(F(e,1,-1))))return q;this.host=t}else if(this.isSpecial()){if(e=y(e),P(te,e))return q;if(null===(t=function(e){var t,n,r,o,i,a,s,c=z(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==x(o,0)&&(i=P(J,o)?16:8,o=F(o,8==i?1:2)),""===o)a=0;else{if(!P(10==i?Q:8==i?Z:ee,o))return e;a=N(o,i)}j(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=D(256,5-t))return null}else if(a>255)return null;for(s=U(n),r=0;r<n.length;r++)s+=n[r]*D(256,3-r);return s}(e)))return q;this.host=t}else{if(P(ne,e))return q;for(t="",n=m(e),r=0;r<n.length;r++)t+=de(n[r],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,l=t+":";return null!==o?(l+="//",e.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=ae(o),null!==i&&(l+=":"+i)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+M(a,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw O(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new je(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ae(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(_(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=m(_(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=de(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(_(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=de(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ae(e):ae(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getHostname:function(){var e=this.host;return null===e?"":ae(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ie)},getPort:function(){var e=this.port;return null===e?"":_(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=_(e))?this.port=null:this.parse(e,Ae))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,De))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=_(e))?this.query=null:("?"==x(e,0)&&(e=F(e,1)),this.query="",this.parse(e,Me)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=_(e))?("#"==x(e,0)&&(e=F(e,1)),this.fragment="",this.parse(e,Le)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var je=function(e){var t=h(this,Ve),n=b(arguments.length,1)>1?arguments[1]:void 0,r=w(t,new Ue(e,!1,n));i||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ve=je.prototype,Be=function(e,t){return{get:function(){return C(this)[e]()},set:t&&function(e){return C(this)[t](e)},configurable:!0,enumerable:!0}};if(i&&(d(Ve,"href",Be("serialize","setHref")),d(Ve,"origin",Be("getOrigin")),d(Ve,"protocol",Be("getProtocol","setProtocol")),d(Ve,"username",Be("getUsername","setUsername")),d(Ve,"password",Be("getPassword","setPassword")),d(Ve,"host",Be("getHost","setHost")),d(Ve,"hostname",Be("getHostname","setHostname")),d(Ve,"port",Be("getPort","setPort")),d(Ve,"pathname",Be("getPathname","setPathname")),d(Ve,"search",Be("getSearch","setSearch")),d(Ve,"searchParams",Be("getSearchParams")),d(Ve,"hash",Be("getHash","setHash"))),u(Ve,"toJSON",(function(){return C(this).serialize()}),{enumerable:!0}),u(Ve,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),A){var ze=A.createObjectURL,Fe=A.revokeObjectURL;ze&&u(je,"createObjectURL",c(ze,A)),Fe&&u(je,"revokeObjectURL",c(Fe,A))}E(je,"URL"),o({global:!0,constructor:!0,forced:!a,sham:!i},{URL:je})},285:function(e,t,n){n(8789)},5717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},3720:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(C){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},i={};function a(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=c(e,(0|e)<0?-1:0,!0),a&&(i[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=c(e,e<0?-1:0,!1),a&&(o[e]=n),n)}function s(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=p)return T}else{if(e<=-f)return S;if(e+1>=f)return b}return e<0?s(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=c;var l=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var o=s(l(n,8)),i=g,a=0;a<e.length;a+=8){var c=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+c),n);if(c<8){var h=s(l(n,c));i=i.mul(h).add(s(d))}else i=(i=i.mul(o)).add(s(d))}return i.unsigned=t,i}function d(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var h=4294967296,p=h*h,f=p/2,m=a(1<<24),g=a(0);n.ZERO=g;var v=a(0,!0);n.UZERO=v;var y=a(1);n.ONE=y;var _=a(1,!0);n.UONE=_;var E=a(-1);n.NEG_ONE=E;var b=c(-1,2147483647,!1);n.MAX_VALUE=b;var T=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=T;var S=c(0,-2147483648,!1);n.MIN_VALUE=S;var w=n.prototype;w.toInt=function(){return this.unsigned?this.low>>>0:this.low},w.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},w.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=s(l(e,6),this.unsigned),i=this,a="";;){var c=i.div(o),u=(i.sub(c.mul(o)).toInt()>>>0).toString(e);if((i=c).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},w.getHighBits=function(){return this.high},w.getHighBitsUnsigned=function(){return this.high>>>0},w.getLowBits=function(){return this.low},w.getLowBitsUnsigned=function(){return this.low>>>0},w.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},w.isZero=function(){return 0===this.high&&0===this.low},w.eqz=w.isZero,w.isNegative=function(){return!this.unsigned&&this.high<0},w.isPositive=function(){return this.unsigned||this.high>=0},w.isOdd=function(){return!(1&~this.low)},w.isEven=function(){return!(1&this.low)},w.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},w.eq=w.equals,w.notEquals=function(e){return!this.eq(e)},w.neq=w.notEquals,w.ne=w.notEquals,w.lessThan=function(e){return this.comp(e)<0},w.lt=w.lessThan,w.lessThanOrEqual=function(e){return this.comp(e)<=0},w.lte=w.lessThanOrEqual,w.le=w.lessThanOrEqual,w.greaterThan=function(e){return this.comp(e)>0},w.gt=w.greaterThan,w.greaterThanOrEqual=function(e){return this.comp(e)>=0},w.gte=w.greaterThanOrEqual,w.ge=w.greaterThanOrEqual,w.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},w.comp=w.compare,w.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(y)},w.neg=w.negate,w.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,l=e.low>>>16,u=0,h=0,p=0,f=0;return p+=(f+=i+(65535&e.low))>>>16,h+=(p+=o+l)>>>16,u+=(h+=n+s)>>>16,u+=t+a,c((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(h&=65535),this.unsigned)},w.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},w.sub=w.subtract,w.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,l=e.high>>>16,u=65535&e.high,h=e.low>>>16,p=65535&e.low,f=0,v=0,y=0,_=0;return y+=(_+=a*p)>>>16,v+=(y+=i*p)>>>16,y&=65535,v+=(y+=a*h)>>>16,f+=(v+=o*p)>>>16,v&=65535,f+=(v+=i*h)>>>16,v&=65535,f+=(v+=a*u)>>>16,f+=n*p+o*h+i*u+a*l,c((y&=65535)<<16|(_&=65535),(f&=65535)<<16|(v&=65535),this.unsigned)},w.mul=w.multiply,w.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return _;i=v}else{if(this.eq(S))return e.eq(y)||e.eq(E)?S:e.eq(S)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:E:(o=this.sub(e.mul(n)),i=n.add(o.div(e)));if(e.eq(S))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),u=a<=48?1:l(2,a-48),h=s(n),p=h.mul(e);p.isNegative()||p.gt(o);)p=(h=s(n-=u,this.unsigned)).mul(e);h.isZero()&&(h=y),i=i.add(h),o=o.sub(p)}return i},w.div=w.divide,w.modulo=function(e){return r(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},w.mod=w.modulo,w.rem=w.modulo,w.not=function(){return c(~this.low,~this.high,this.unsigned)},w.and=function(e){return r(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},w.or=function(e){return r(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},w.xor=function(e){return r(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},w.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},w.shl=w.shiftLeft,w.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},w.shr=w.shiftRight,w.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},w.shru=w.shiftRightUnsigned,w.shr_u=w.shiftRightUnsigned,w.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},w.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},w.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},w.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},w.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},3281:function(e,t,n){e.exports=n(9050)},2967:function(e){e.exports=r;var t,n=/\/|\./;function r(e,t){n.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:t}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},3996:function(e,t,n){var r=t,o=n(7025),i=n(9935);function a(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof o){e("switch(d%s){",r);for(var i=t.resolvedType.values,a=Object.keys(i),s=0;s<a.length;++s)t.repeated&&i[a[s]]===t.typeDefault&&e("default:"),e("case%j:",a[s])("case %i:",i[a[s]])("m%s=%j",r,i[a[s]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function s(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof o?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var s=t[r].resolve(),c=i.safeProp(s.name);s.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),a(n,s,r,c+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),a(n,s,r,c+"[i]")("}")("}")):(s.resolvedType instanceof o||n("if(d%s!=null){",c),a(n,s,r,c),s.resolvedType instanceof o||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var n=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],a=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?r:t[l].map?a:c).push(t[l]);if(r.length){for(n("if(o.arrays||o.defaults){"),l=0;l<r.length;++l)n("d%s=[]",i.safeProp(r[l].name));n("}")}if(a.length){for(n("if(o.objects||o.defaults){"),l=0;l<a.length;++l)n("d%s={}",i.safeProp(a[l].name));n("}")}if(c.length){for(n("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],d=i.safeProp(u.name);if(u.resolvedType instanceof o)n("d%s=o.enums===String?%j:%j",d,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var h="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",d,h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else n("d%s=%j",d,u.typeDefault)}n("}")}var p=!1;for(l=0;l<t.length;++l){u=t[l];var f=e._fieldsArray.indexOf(u);d=i.safeProp(u.name),u.map?(p||(p=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),s(n,u,f,d+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),s(n,u,f,d+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",d,u.name),s(n,u,f,d),u.partOf&&n("if(o.oneofs)")("d%s=%j",i.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},5305:function(e,t,n){e.exports=function(e){var t=i.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var s=e._fieldsArray[n].resolve(),c=s.resolvedType instanceof r?"int32":s.type,l="m"+i.safeProp(s.name);t("case %i:",s.id),s.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==o.defaults[s.keyType]?t("k=%j",o.defaults[s.keyType]):t("k=null"),void 0!==o.defaults[c]?t("value=%j",o.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),void 0===o.basic[c]?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==o.long[s.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):s.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==o.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===o.basic[c]?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):t("%s.push(r.%s())",l,c)):void 0===o.basic[c]?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):t("%s=r.%s()",l,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var u=e._fieldsArray[n];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",a(u))}return t("return m")};var r=n(7025),o=n(7063),i=n(9935);function a(e){return"missing required '"+e.name+"'"}},4928:function(e,t,n){e.exports=function(e){for(var t,n=i.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(i.compareFieldsById),c=0;c<s.length;++c){var l=s[c].resolve(),u=e._fieldsArray.indexOf(l),d=l.resolvedType instanceof r?"int32":l.type,h=o.basic[d];t="m"+i.safeProp(l.name),l.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|o.mapKey[l.keyType],l.keyType),void 0===h?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,d,t),n("}")("}")):l.repeated?(n("if(%s!=null&&%s.length){",t,t),l.packed&&void 0!==o.packed[d]?n("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",d,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),void 0===h?a(n,l,u,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(l.id<<3|h)>>>0,d,t)),n("}")):(l.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),void 0===h?a(n,l,u,t):n("w.uint32(%i).%s(%s)",(l.id<<3|h)>>>0,d,t))}return n("return w")};var r=n(7025),o=n(7063),i=n(9935);function a(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},7025:function(e,t,n){e.exports=a;var r=n(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="Enum";var o=n(9313),i=n(9935);function a(e,t,n,o,i){if(r.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=i||{},this.reserved=void 0,t)for(var a=Object.keys(t),s=0;s<a.length;++s)"number"==typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}a.fromJSON=function(e,t){var n=new a(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,n){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},a.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},3548:function(e,t,n){e.exports=l;var r=n(3243);((l.prototype=Object.create(r.prototype)).constructor=l).className="Field";var o,i=n(7025),a=n(7063),s=n(9935),c=/^required|optional|repeated$/;function l(e,t,n,o,i,l,u){if(s.isObject(o)?(u=i,l=o,o=i=void 0):s.isObject(i)&&(u=l,l=i,i=void 0),r.call(this,e,l),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(n))throw TypeError("type must be a string");if(void 0!==o&&!c.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!s.isString(i))throw TypeError("extend must be a string");"proto3_optional"===o&&(o="optional"),this.rule=o&&"optional"!==o?o:void 0,this.type=n,this.id=t,this.extend=i||void 0,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==a.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},l.d=function(e,t,n,r){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(o,i){s.decorateType(o.constructor).add(new l(i,e,t,n,{default:r}))}},l._configure=function(e){o=e}},8836:function(e,t,n){var r=e.exports=n(9482);r.build="light",r.load=function(e,t,n){return"function"==typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=n(4928),r.decoder=n(5305),r.verifier=n(4497),r.converter=n(3996),r.ReflectionObject=n(3243),r.Namespace=n(9313),r.Root=n(9424),r.Enum=n(7025),r.Type=n(7645),r.Field=n(3548),r.OneOf=n(7598),r.MapField=n(6039),r.Service=n(7513),r.Method=n(4429),r.Message=n(8368),r.wrappers=n(1667),r.types=n(7063),r.util=n(9935),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},9482:function(e,t,n){var r=t;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=o,o()},9050:function(e,t,n){var r=e.exports=n(8836);r.build="full",r.tokenize=n(626),r.parse=n(2228),r.common=n(2967),r.Root._configure(r.Type,r.parse,r.common)},6039:function(e,t,n){e.exports=a;var r=n(3548);((a.prototype=Object.create(r.prototype)).constructor=a).className="MapField";var o=n(7063),i=n(9935);function a(e,t,n,o,a,s){if(r.call(this,e,t,o,void 0,void 0,a,s),!i.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},a.d=function(e,t,n){return"function"==typeof n?n=i.decorateType(n).name:n&&"object"==typeof n&&(n=i.decorateEnum(n).name),function(r,o){i.decorateType(r.constructor).add(new a(o,e,t,n))}}},8368:function(e,t,n){e.exports=o;var r=n(9693);function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}o.create=function(e){return this.$type.create(e)},o.encode=function(e,t){return this.$type.encode(e,t)},o.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},o.decode=function(e){return this.$type.decode(e)},o.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},o.verify=function(e){return this.$type.verify(e)},o.fromObject=function(e){return this.$type.fromObject(e)},o.toObject=function(e,t){return this.$type.toObject(e,t)},o.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},4429:function(e,t,n){e.exports=i;var r=n(3243);((i.prototype=Object.create(r.prototype)).constructor=i).className="Method";var o=n(9935);function i(e,t,n,i,a,s,c,l,u){if(o.isObject(a)?(c=a,a=s=void 0):o.isObject(s)&&(c=s,s=void 0),void 0!==t&&!o.isString(t))throw TypeError("type must be a string");if(!o.isString(n))throw TypeError("requestType must be a string");if(!o.isString(i))throw TypeError("responseType must be a string");r.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!a||void 0,this.responseType=i,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=u}i.fromJSON=function(e,t){return new i(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},9313:function(e,t,n){e.exports=d;var r=n(3243);((d.prototype=Object.create(r.prototype)).constructor=d).className="Namespace";var o,i,a,s=n(3548),c=n(7598),l=n(9935);function u(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function d(e,t){r.call(this,e,t),this.nested=void 0,this._nestedArray=null}function h(e){return e._nestedArray=null,e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=u,d.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},d.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=l.toArray(this.nested))}}),d.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",u(this.nestedArray,e)])},d.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((void 0!==t.fields?o.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?i.fromJSON:void 0!==t.id?s.fromJSON:d.fromJSON)(n[r],t));return this},d.prototype.get=function(e){return this.nested&&this.nested[e]||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof o||e instanceof a||e instanceof i||e instanceof d||e instanceof c))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof d&&e instanceof d)||t instanceof o||t instanceof i)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),h(this)},d.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),h(this)},d.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof d))throw Error("path conflicts with non-namespace objects")}else n.add(n=new d(r))}return t&&n.addJSON(t),n},d.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this.resolve()},d.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof d&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof d&&(r=this._nestedArray[o].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},d.prototype.lookupType=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[o,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d._configure=function(e,t,n){o=e,i=t,a=n}},3243:function(e,t,n){e.exports=i,i.className="ReflectionObject";var r,o=n(9935);function i(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},i.prototype.getOption=function(e){if(this.options)return this.options[e]},i.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},i.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var i=r.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(i){var a=i[e];o.setProperty(a,n,t)}else(i={})[e]=o.setProperty({},n,t),r.push(i)}else{var s={};s[e]=t,r.push(s)}return this},i.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){r=e}},7598:function(e,t,n){e.exports=a;var r=n(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="OneOf";var o=n(3548),i=n(9935);function a(e,t,n,o){if(Array.isArray(t)||(n=t,t=void 0),r.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}s(this)},a.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){i.decorateType(t.constructor).add(new a(n,e)),Object.defineProperty(t,n,{get:i.oneOfGetter(e),set:i.oneOfSetter(e)})}}},2228:function(e,t,n){e.exports=w,w.filename=null,w.defaults={keepCase:!1};var r=n(626),o=n(9424),i=n(7645),a=n(3548),s=n(6039),c=n(7598),l=n(7025),u=n(7513),d=n(4429),h=n(7063),p=n(9935),f=/^[1-9][0-9]*$/,m=/^-?[1-9][0-9]*$/,g=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,y=/^0[0-7]+$/,_=/^-?0[0-7]+$/,E=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,b=/^[a-zA-Z_][a-zA-Z_0-9]*$/,T=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,S=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function w(e,t,n){t instanceof o||(n=t,t=new o),n||(n=w.defaults);var C,R,I,A,O,N=n.preferTrailingComment||!1,k=r(e,n.alternateCommentMode||!1),D=k.next,x=k.push,P=k.peek,M=k.skip,L=k.cmnt,U=!0,j=!1,V=t,B=n.keepCase?function(e){return e}:p.camelCase;function z(e,t,n){var r=w.filename;return n||(w.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+k.line+")")}function F(){var e,t=[];do{if('"'!==(e=D())&&"'"!==e)throw z(e);t.push(D()),M(e),e=P()}while('"'===e||"'"===e);return t.join("")}function H(e){var t=D();switch(t){case"'":case'"':return x(t),F();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e){var t=1;switch("-"===e.charAt(0)&&(t=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return t*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(e))return t*parseInt(e,10);if(g.test(e))return t*parseInt(e,16);if(y.test(e))return t*parseInt(e,8);if(E.test(e))return t*parseFloat(e);throw z(e,"number",!0)}(t)}catch(n){if(T.test(t))return t;throw z(t,"value")}}function G(e,t){var n,r;do{!t||'"'!==(n=P())&&"'"!==n?e.push([r=W(D()),M("to",!0)?W(D()):r]):e.push(F())}while(M(",",!0));M(";")}function W(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw z(e,"id");if(m.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(_.test(e))return parseInt(e,8);throw z(e,"id")}function q(){if(void 0!==C)throw z("package");if(C=D(),!T.test(C))throw z(C,"name");V=V.define(C),M(";")}function K(){var e,t=P();switch(t){case"weak":e=I||(I=[]),D();break;case"public":D();default:e=R||(R=[])}t=F(),M(";"),e.push(t)}function Y(){if(M("="),A=F(),!(j="proto3"===A)&&"proto2"!==A)throw z(A,"syntax");M(";")}function X(e,t){switch(t){case"option":return Z(e,t),M(";"),!0;case"message":return function(e,t){if(!b.test(t=D()))throw z(t,"type name");var n=new i(t);$(n,(function(e){if(!X(n,e))switch(e){case"map":!function(e){M("<");var t=D();if(void 0===h.mapKey[t])throw z(t,"type");M(",");var n=D();if(!T.test(n))throw z(n,"type");M(">");var r=D();if(!b.test(r))throw z(r,"name");M("=");var o=new s(B(r),W(D()),t,n);$(o,(function(e){if("option"!==e)throw z(e);Z(o,e),M(";")}),(function(){te(o)})),e.add(o)}(n);break;case"required":case"repeated":J(n,e);break;case"optional":J(n,j?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!b.test(t=D()))throw z(t,"name");var n=new c(B(t));$(n,(function(e){"option"===e?(Z(n,e),M(";")):(x(e),J(n,"optional"))})),e.add(n)}(n,e);break;case"extensions":G(n.extensions||(n.extensions=[]));break;case"reserved":G(n.reserved||(n.reserved=[]),!0);break;default:if(!j||!T.test(e))throw z(e);x(e),J(n,"optional")}})),e.add(n)}(e,t),!0;case"enum":return function(e,t){if(!b.test(t=D()))throw z(t,"name");var n=new l(t);$(n,(function(e){switch(e){case"option":Z(n,e),M(";");break;case"reserved":G(n.reserved||(n.reserved=[]),!0);break;default:!function(e,t){if(!b.test(t))throw z(t,"name");M("=");var n=W(D(),!0),r={};$(r,(function(e){if("option"!==e)throw z(e);Z(r,e),M(";")}),(function(){te(r)})),e.add(t,n,r.comment)}(n,e)}})),e.add(n)}(e,t),!0;case"service":return function(e,t){if(!b.test(t=D()))throw z(t,"service name");var n=new u(t);$(n,(function(e){if(!X(n,e)){if("rpc"!==e)throw z(e);!function(e,t){var n=L(),r=t;if(!b.test(t=D()))throw z(t,"name");var o,i,a,s,c=t;if(M("("),M("stream",!0)&&(i=!0),!T.test(t=D()))throw z(t);if(o=t,M(")"),M("returns"),M("("),M("stream",!0)&&(s=!0),!T.test(t=D()))throw z(t);a=t,M(")");var l=new d(c,r,o,a,i,s);l.comment=n,$(l,(function(e){if("option"!==e)throw z(e);Z(l,e),M(";")})),e.add(l)}(n,e)}})),e.add(n)}(e,t),!0;case"extend":return function(e,t){if(!T.test(t=D()))throw z(t,"reference");var n=t;$(null,(function(t){switch(t){case"required":case"repeated":J(e,t,n);break;case"optional":J(e,j?"proto3_optional":"optional",n);break;default:if(!j||!T.test(t))throw z(t);x(t),J(e,"optional",n)}}))}(e,t),!0}return!1}function $(e,t,n){var r=k.line;if(e&&("string"!=typeof e.comment&&(e.comment=L()),e.filename=w.filename),M("{",!0)){for(var o;"}"!==(o=D());)t(o);M(";",!0)}else n&&n(),M(";"),e&&("string"!=typeof e.comment||N)&&(e.comment=L(r)||e.comment)}function J(e,t,n){var r=D();if("group"!==r){if(!T.test(r))throw z(r,"type");var o=D();if(!b.test(o))throw z(o,"name");o=B(o),M("=");var s=new a(o,W(D()),r,t,n);if($(s,(function(e){if("option"!==e)throw z(e);Z(s,e),M(";")}),(function(){te(s)})),"proto3_optional"===t){var l=new c("_"+o);s.setOption("proto3_optional",!0),l.add(s),e.add(l)}else e.add(s);j||!s.repeated||void 0===h.packed[r]&&void 0!==h.basic[r]||s.setOption("packed",!1,!0)}else!function(e,t){var n=D();if(!b.test(n))throw z(n,"name");var r=p.lcFirst(n);n===r&&(n=p.ucFirst(n)),M("=");var o=W(D()),s=new i(n);s.group=!0;var c=new a(r,o,n,t);c.filename=w.filename,$(s,(function(e){switch(e){case"option":Z(s,e),M(";");break;case"required":case"repeated":J(s,e);break;case"optional":J(s,j?"proto3_optional":"optional");break;default:throw z(e)}})),e.add(s).add(c)}(e,t)}function Z(e,t){var n=M("(",!0);if(!T.test(t=D()))throw z(t,"name");var r,o,i,a,s,c=t,l=c;n&&(M(")"),l=c="("+c+")",t=P(),S.test(t)&&(r=t.substr(1),c+=t,D())),M("="),o=e,i=l,a=Q(e,c),s=r,o.setParsedOption&&o.setParsedOption(i,a,s)}function Q(e,t){if(M("{",!0)){for(var n={};!M("}",!0);){if(!b.test(O=D()))throw z(O,"name");var r,o=O;"{"===P()?r=Q(e,t+"."+O):(M(":"),"{"===P()?r=Q(e,t+"."+O):(r=H(),ee(e,t+"."+O,r)));var i=n[o];i&&(r=[].concat(i).concat(r)),n[o]=r,M(",",!0)}return n}var a=H();return ee(e,t,a),a}function ee(e,t,n){e.setOption&&e.setOption(t,n)}function te(e){if(M("[",!0)){do{Z(e,"option")}while(M(",",!0));M("]")}return e}for(;null!==(O=D());)switch(O){case"package":if(!U)throw z(O);q();break;case"import":if(!U)throw z(O);K();break;case"syntax":if(!U)throw z(O);Y();break;case"option":Z(V,O),M(";");break;default:if(X(V,O)){U=!1;continue}throw z(O)}return w.filename=null,{package:C,imports:R,weakImports:I,syntax:A,root:t}}},1408:function(e,t,n){e.exports=c;var r,o=n(9693),i=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function h(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new i(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=d(),r._configure();var t=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},593:function(e,t,n){e.exports=i;var r=n(1408);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(e){r.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},9424:function(e,t,n){e.exports=d;var r=n(9313);((d.prototype=Object.create(r.prototype)).constructor=d).className="Root";var o,i,a,s=n(3548),c=n(7025),l=n(7598),u=n(9935);function d(e){r.call(this,"",e),this.deferred=[],this.files=[]}function h(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=u.path.resolve,d.prototype.fetch=u.fetch,d.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=void 0);var o=this;if(!r)return u.asPromise(e,o,t,n);var s=r===h;function c(e,t){if(r){var n=r;if(r=null,s)throw e;n(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in a)return n}return null}function d(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){i.filename=e;var r,a=i(t,o,n),d=0;if(a.imports)for(;d<a.imports.length;++d)(r=l(a.imports[d])||o.resolvePath(e,a.imports[d]))&&p(r);if(a.weakImports)for(d=0;d<a.weakImports.length;++d)(r=l(a.weakImports[d])||o.resolvePath(e,a.weakImports[d]))&&p(r,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(h){c(h)}s||f||c(null,o)}function p(e,t){if(!(o.files.indexOf(e)>-1))if(o.files.push(e),e in a)s?d(e,a[e]):(++f,setTimeout((function(){--f,d(e,a[e])})));else if(s){var n;try{n=u.fs.readFileSync(e).toString("utf8")}catch(i){return void(t||c(i))}d(e,n)}else++f,o.fetch(e,(function(n,i){--f,r&&(n?t?f||c(null,o):c(n):d(e,i))}))}var f=0;u.isString(t)&&(t=[t]);for(var m,g=0;g<t.length;++g)(m=o.resolvePath("",t[g]))&&p(m);if(s)return o;f||c(null,o)},d.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,h)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function f(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||f(0,e)||this.deferred.push(e);else if(e instanceof c)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof o)for(var t=0;t<this.deferred.length;)f(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);p.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);p.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,n){o=e,i=t,a=n}},5054:function(e){e.exports={}},5994:function(e,t,n){t.Service=n(7948)},7948:function(e,t,n){e.exports=o;var r=n(9693);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(r){return s.emit("error",r,t),a(r)}return s.emit("data",n,t),a(null,n)}s.end(!0)}))}catch(c){return s.emit("error",c,t),void setTimeout((function(){a(c)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:function(e,t,n){e.exports=s;var r=n(9313);((s.prototype=Object.create(r.prototype)).constructor=s).className="Service";var o=n(4429),i=n(9935),a=n(5994);function s(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),i=0;i<r.length;++i)n.add(o.fromJSON(r[i],t.methods[r[i]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return i.toObject(["options",t&&t.options||void 0,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof o?(this.methods[e.name]=e,e.parent=this,c(this)):r.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof o){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return r.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var r,o=new a.Service(e,t,n),s=0;s<this.methodsArray.length;++s){var c=i.lcFirst((r=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");o[c]=i.codegen(["r","c"],i.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return o}},626:function(e){e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,o=/^ *[*/]+ */,i=/^\s*\*?\/*/,a=/\n/g,s=/\s/,c=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"\t"};function u(e){return e.replace(c,(function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}}))}function d(e,c){e=e.toString();var l=0,d=e.length,h=1,p=null,f=null,m=0,g=!1,v=!1,y=[],_=null;function E(e){return Error("illegal "+e+" (line "+h+")")}function b(t){return e.charAt(t)}function T(t,n,r){p=e.charAt(t++),m=h,g=!1,v=r;var s,l=t-(c?2:3);do{if(--l<0||"\n"===(s=e.charAt(l))){g=!0;break}}while(" "===s||"\t"===s);for(var u=e.substring(t,n).split(a),d=0;d<u.length;++d)u[d]=u[d].replace(c?i:o,"").trim();f=u.join("\n").trim()}function S(t){var n=w(t),r=e.substring(t,n);return/^\s*\/{1,2}/.test(r)}function w(e){for(var t=e;t<d&&"\n"!==b(t);)t++;return t}function C(){if(y.length>0)return y.shift();if(_)return function(){var t="'"===_?r:n;t.lastIndex=l-1;var o=t.exec(e);if(!o)throw E("string");return l=t.lastIndex,R(_),_=null,u(o[1])}();var o,i,a,p,f,m=0===l;do{if(l===d)return null;for(o=!1;s.test(a=b(l));)if("\n"===a&&(m=!0,++h),++l===d)return null;if("/"===b(l)){if(++l===d)throw E("comment");if("/"===b(l))if(c){if(p=l,f=!1,S(l)){f=!0;do{if((l=w(l))===d)break;l++}while(S(l))}else l=Math.min(d,w(l)+1);f&&T(p,l,m),h++,o=!0}else{for(f="/"===b(p=l+1);"\n"!==b(++l);)if(l===d)return null;++l,f&&T(p,l-1,m),++h,o=!0}else{if("*"!==(a=b(l)))return"/";p=l+1,f=c||"*"===b(p);do{if("\n"===a&&++h,++l===d)throw E("comment");i=a,a=b(l)}while("*"!==i||"/"!==a);++l,f&&T(p,l-2,m),o=!0}}}while(o);var g=l;if(t.lastIndex=0,!t.test(b(g++)))for(;g<d&&!t.test(b(g));)++g;var v=e.substring(l,l=g);return'"'!==v&&"'"!==v||(_=v),v}function R(e){y.push(e)}function I(){if(!y.length){var e=C();if(null===e)return null;R(e)}return y[0]}return Object.defineProperty({next:C,peek:I,push:R,skip:function(e,t){var n=I();if(n===e)return C(),!0;if(!t)throw E("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return void 0===e?m===h-1&&(c||"*"===p||g)&&(t=v?f:null):(m<e&&I(),m!==e||g||!c&&"/"!==p||(t=v?null:f)),t}},"line",{get:function(){return h}})}d.unescape=u},7645:function(e,t,n){e.exports=y;var r=n(9313);((y.prototype=Object.create(r.prototype)).constructor=y).className="Type";var o=n(7025),i=n(7598),a=n(3548),s=n(6039),c=n(7513),l=n(8368),u=n(1408),d=n(1173),h=n(9935),p=n(4928),f=n(5305),m=n(4497),g=n(3996),v=n(1667);function y(e,t){r.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function _(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,l,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:h.oneOfGetter(this._oneofsArray[n].oneof),set:h.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),y.generateConstructor=function(e){for(var t,n=h.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",h.safeProp(t.name)):t.repeated&&n("this%s=[]",h.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},y.fromJSON=function(e,t){var n=new y(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var l=Object.keys(t.fields),u=0;u<l.length;++u)n.add((void 0!==t.fields[l[u]].keyType?s.fromJSON:a.fromJSON)(l[u],t.fields[l[u]]));if(t.oneofs)for(l=Object.keys(t.oneofs),u=0;u<l.length;++u)n.add(i.fromJSON(l[u],t.oneofs[l[u]]));if(t.nested)for(l=Object.keys(t.nested),u=0;u<l.length;++u){var d=t.nested[l[u]];n.add((void 0!==d.id?a.fromJSON:void 0!==d.fields?y.fromJSON:void 0!==d.values?o.fromJSON:void 0!==d.methods?c.fromJSON:r.fromJSON)(l[u],d))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},y.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return h.toObject(["options",t&&t.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),_(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),_(this)):r.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),_(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),_(this)}return r.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=p(this)({Writer:d,types:t,util:h}),this.decode=f(this)({Reader:u,types:t,util:h}),this.verify=m(this)({types:t,util:h}),this.fromObject=g.fromObject(this)({types:t,util:h}),this.toObject=g.toObject(this)({types:t,util:h});var r=v[e];if(r){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(o),o.toObject=this.toObject,this.toObject=r.toObject.bind(o)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){h.decorateType(t,e)}}},7063:function(e,t,n){var r=t,o=n(9935),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var n=0,r={};for(t|=0;n<e.length;)r[i[n+t]]=e[n++];return r}r.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),r.long=a([0,0,0,1,1],7),r.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:function(e,t,n){var r,o,i=e.exports=n(9693),a=n(5054);i.codegen=n(5124),i.fetch=n(9054),i.path=n(8626),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},i.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],o=e[n++];void 0!==o&&(t[r]=o)}return t};var s=/\\/g,c=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(s,"\\\\").replace(c,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,(function(e,t){return t.toUpperCase()}))},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(i.decorateRoot.remove(e.$type),e.$type.name=t,i.decorateRoot.add(e.$type)),e.$type;r||(r=n(7645));var o=new r(t||e.name);return i.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var u=0;i.decorateEnum=function(e){if(e.$type)return e.$type;o||(o=n(7025));var t=new o("Enum"+u++,e);return i.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},i.setProperty=function(e,t,n){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var o=n.shift();if("__proto__"===o)return t;if(n.length>0)t[o]=e(t[o]||{},n,r);else{var i=t[o];i&&(r=[].concat(i).concat(r)),t[o]=r}return t}(e,t=t.split("."),n)},Object.defineProperty(i,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(n(9424)))}})},1945:function(e,t,n){e.exports=o;var r=n(9693);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(r.isString(e)){if(!r.Long)return o.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?i:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){var r=t;function o(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=o,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},4497:function(e,t,n){e.exports=function(e){var t=o.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&t("var p={}");for(var r=0;r<e.fieldsArray.length;++r){var c=e._fieldsArray[r].resolve(),l="m"+o.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",i(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),s(t,c,"k[i]"),a(t,c,r,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",i(c,"array"))("for(var i=0;i<%s.length;++i){",l),a(t,c,r,l+"[i]")("}");else{if(c.partOf){var u=o.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",u)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",u)}a(t,c,r,l)}c.optional&&t("}")}return t("return null")};var r=n(7025),o=n(9935);function i(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,n,o){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",o)("default:")("return%j",i(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,o)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",o)("return%j",i(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",i(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',o)("return%j",i(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',o)("return%j",i(t,"boolean"));break;case"string":e("if(!util.isString(%s))",o)("return%j",i(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",i(t,"buffer"))}return e}function s(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",i(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",i(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",i(t,"boolean key"))}return e}},1667:function(e,t,n){var r=t,o=n(8368);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",r="";if(t&&t.json&&e.type_url&&e.value){r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var i=this.lookup(r);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof o){var a=e.$type.toObject(e,t);return""===n&&(n="type.googleapis.com/"),r=n+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),a["@type"]=r,a}return this.toObject(e,t)}}},1173:function(e,t,n){e.exports=d;var r,o=n(9693),i=o.LongBits,a=o.base64,s=o.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var h=function(){return o.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function p(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=h(),d.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},f.prototype=Object.create(c.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,i.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=i.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=i.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var v=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(o.isString(e)){var n=d.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=h(),r._configure()}},3155:function(e,t,n){e.exports=i;var r=n(1173);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(){r.call(this)}function a(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()},8e3:function(e,t,n){var r=n(7581);e.exports=n(3626)(r),"_sockjs_onload"in n.g&&setTimeout(n.g._sockjs_onload,1)},2530:function(e,t,n){var r=n(5717),o=n(685);function i(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(i,o),e.exports=i},3212:function(e,t,n){var r=n(5717),o=n(3184);function i(){o.call(this)}r(i,o),i.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},i.prototype.once=function(e,t){var n=this,r=!1;this.on(e,(function o(){n.removeListener(e,o),r||(r=!0,t.apply(this,arguments))}))},i.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0;i<t.length;i++)t[i].apply(this,r)}},i.prototype.on=i.prototype.addListener=o.prototype.addEventListener,i.prototype.removeListener=o.prototype.removeEventListener,e.exports.v=i},685:function(e){function t(e){this.type=e}t.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},t.prototype.stopPropagation=function(){},t.prototype.preventDefault=function(){},t.CAPTURING_PHASE=1,t.AT_TARGET=2,t.BUBBLING_PHASE=3,e.exports=t},3184:function(e){function t(){this._listeners={}}t.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];-1===n.indexOf(t)&&(n=n.concat([t])),this._listeners[e]=n},t.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);-1===r||(n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e])}},t.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],o=0;o<r.length;o++)r[o].apply(this,n)},e.exports=t},3326:function(e,t,n){var r=n(5717),o=n(685);function i(e){o.call(this),this.initEvent("message",!1,!1),this.data=e}r(i,o),e.exports=i},691:function(e,t,n){var r=n(3683);function o(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(e,t){r.postMessage("c",JSON.stringify([e,t]))},o.prototype._transportMessage=function(e){r.postMessage("t",e)},o.prototype._send=function(e){this._transport.send(e)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=o},551:function(e,t,n){var r=n(273),o=n(7705),i=n(691),a=n(6311),s=n(3683),c=n(7486);e.exports=function(e,t){var n,l={};t.forEach((function(e){e.facadeTransport&&(l[e.facadeTransport.transportName]=e.facadeTransport)})),l[a.transportName]=a,e.bootstrap_iframe=function(){var t;s.currentWindowId=c.hash.slice(1),o.attachEvent("message",(function(o){if(o.source===parent&&(void 0===n&&(n=o.origin),o.origin===n)){var a;try{a=JSON.parse(o.data)}catch(m){return void o.data}if(a.windowId===s.currentWindowId)switch(a.type){case"s":var u;try{u=JSON.parse(a.data)}catch(m){a.data;break}var d=u[0],h=u[1],p=u[2],f=u[3];if(d!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+d+'", the iframe: "'+e.version+'".');if(!r.isOriginEqual(p,c.href)||!r.isOriginEqual(f,c.href))throw new Error("Can't connect to different domain from within an iframe. ("+c.href+", "+p+", "+f+")");t=new i(new l[h](p,f));break;case"m":t._send(a.data);break;case"c":t&&t._close(),t=null}}})),s.postMessage("s")}}},2550:function(e,t,n){var r=n(3212).v,o=n(5717),i=n(2217);function a(e,t){r.call(this);var n=this,o=+new Date;this.xo=new t("GET",e),this.xo.once("finish",(function(e,t){var r,a;if(200===e){if(a=+new Date-o,t)try{r=JSON.parse(t)}catch(s){}i.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()}))}o(a,r),a.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=a},6311:function(e,t,n){var r=n(5717),o=n(3212).v,i=n(3515),a=n(2550);function s(e){var t=this;o.call(this),this.ir=new a(e,i),this.ir.once("finish",(function(e,n){t.ir=null,t.emit("message",JSON.stringify([e,n]))}))}r(s,o),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=s},3616:function(e,t,n){var r=n(3212).v,o=n(5717),i=n(7705),a=n(5088),s=n(6311);function c(e,t){var o=this;r.call(this);var c=function(){var n=o.ifr=new a(s.transportName,t,e);n.once("message",(function(e){if(e){var t;try{t=JSON.parse(e)}catch(i){return o.emit("finish"),void o.close()}var n=t[0],r=t[1];o.emit("finish",n,r)}o.close()})),n.once("close",(function(){o.emit("finish"),o.close()}))};n.g.document.body?c():i.attachEvent("load",c)}o(c,r),c.enabled=function(){return a.enabled()},c.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=c},5172:function(e,t,n){var r=n(3212).v,o=n(5717),i=n(273),a=n(6073),s=n(9033),c=n(3515),l=n(7103),u=n(3616),d=n(2550);function h(e,t){var n=this;r.call(this),setTimeout((function(){n.doXhr(e,t)}),0)}o(h,r),h._getReceiver=function(e,t,n){return n.sameOrigin?new d(t,c):s.enabled?new d(t,s):a.enabled&&n.sameScheme?new d(t,a):u.enabled()?new u(e,t):new d(t,l)},h.prototype.doXhr=function(e,t){var n=this,r=i.addPath(e,"/info");this.xo=h._getReceiver(e,r,t),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),h.timeout),this.xo.once("finish",(function(e,t){n._cleanup(!0),n.emit("finish",e,t)}))},h.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},h.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},h.timeout=8e3,e.exports=h},7486:function(e,t,n){e.exports=n.g.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3626:function(e,t,n){n(1247);var r,o=n(4564),i=n(5717),a=n(8915),s=n(8028),c=n(273),l=n(7705),u=n(5581),d=n(2217),h=n(8510),p=n(4886),f=n(685),m=n(3184),g=n(7486),v=n(2530),y=n(3326),_=n(5172);function E(e,t,n){if(!(this instanceof E))return new E(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");m.call(this),this.readyState=E.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&p.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return a.string(r)}}this._server=n.server||a.numberString(1e3);var i=new o(e);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==i.protocol&&"https:"!==i.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var s="https:"===i.protocol;if("https:"===g.protocol&&!s&&!c.isLoopbackAddr(i.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var l=t.sort();l.forEach((function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<l.length-1&&e===l[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}));var u=c.getOrigin(g.href);this._origin=u?u.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,this.url,this._urlInfo={nullOrigin:!h.hasDomain(),sameOrigin:c.isOriginEqual(this.url,g.href),sameScheme:c.isSchemeEqual(this.url,g.href)},this._ir=new _(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function b(e){return 1e3===e||e>=3e3&&e<=4999}i(E,m),E.prototype.close=function(e,t){if(e&&!b(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==E.CLOSING&&this.readyState!==E.CLOSED&&this._close(e||1e3,t||"Normal closure",!0)},E.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===E.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===E.OPEN&&this._transport.send(s.quote(e))},E.version=n(2828),E.CONNECTING=0,E.OPEN=1,E.CLOSING=2,E.CLOSED=3,E.prototype._receiveInfo=function(e,t){if(this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=d.extend(e,this._urlInfo);var n=r.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,this._transports.length,this._connect()}else this._close(1002,"Cannot connect to server")},E.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(e.transportName,e.needBody&&(!n.g.document.body||void 0!==n.g.document.readyState&&"complete"!==n.g.document.readyState&&"interactive"!==n.g.document.readyState))return this._transports.unshift(e),void l.attachEvent("load",this._connect.bind(this));var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var r=c.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),o=this._transportOptions[e.transportName],i=new e(r,this._transUrl,o);return i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=e.transportName,void(this._transport=i)}this._close(2e3,"All transports failed",!1)},E.prototype._transportTimeout=function(){this.readyState===E.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},E.prototype._transportMessage=function(e){var t,n=this,r=e.slice(0,1),o=e.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new f("heartbeat")),void this.transport}if(o)try{t=JSON.parse(o)}catch(i){}if(void 0!==t)switch(r){case"a":Array.isArray(t)&&t.forEach((function(e){n.transport,n.dispatchEvent(new y(e))}));break;case"m":this.transport,this.dispatchEvent(new y(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},E.prototype._transportClose=function(e,t){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),b(e)||2e3===e||this.readyState!==E.CONNECTING?this._close(e,t):this._connect()},E.prototype._open=function(){this._transport&&this._transport.transportName,this.readyState,this.readyState===E.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=E.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new f("open")),this.transport):this._close(1006,"Server lost session")},E.prototype._close=function(e,t,n){this.transport,this.readyState;var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===E.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=E.CLOSING,setTimeout(function(){this.readyState=E.CLOSED,r&&this.dispatchEvent(new f("error"));var o=new v("close");o.wasClean=n||!1,o.code=e||1e3,o.reason=t,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},E.prototype.countRTO=function(e){return e>100?4*e:300+e},e.exports=function(e){return r=u(e),n(551)(E,e),E}},1247:function(){var e,t=Array.prototype,n=Object.prototype,r=Function.prototype,o=String.prototype,i=t.slice,a=n.toString,s=function(e){return"[object Function]"===n.toString.call(e)},c=function(e){return"[object String]"===a.call(e)},l=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();e=l?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var u=function(t,r,o){for(var i in r)n.hasOwnProperty.call(r,i)&&e(t,i,r[i],o)},d=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function h(){}u(r,{bind:function(e){var t=this;if(!s(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=i.call(arguments,1),r=Math.max(0,t.length-n.length),o=[],a=0;a<r;a++)o.push("$"+a);var c=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")((function(){if(this instanceof c){var r=t.apply(this,n.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(i.call(arguments)))}));return t.prototype&&(h.prototype=t.prototype,c.prototype=new h,h.prototype=null),c}}),u(Array,{isArray:function(e){return"[object Array]"===a.call(e)}});var p,f,m,g=Object("a"),v="a"!==g[0]||!(0 in g);u(t,{forEach:function(e){var t=d(this),n=v&&c(this)?this.split(""):t,r=arguments[1],o=-1,i=n.length>>>0;if(!s(e))throw new TypeError;for(;++o<i;)o in n&&e.call(r,n[o],o,t)}},(p=t.forEach,f=!0,m=!0,p&&(p.call("foo",(function(e,t,n){"object"!=typeof n&&(f=!1)})),p.call([1],(function(){m="string"==typeof this}),"x")),!(p&&f&&m)));var y=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);u(t,{indexOf:function(e){var t=v&&c(this)?this.split(""):d(this),n=t.length>>>0;if(!n)return-1;var r,o=0;for(arguments.length>1&&((r=+arguments[1])!=r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))),o=r),o=o>=0?o:Math.max(0,n+o);o<n;o++)if(o in t&&t[o]===e)return o;return-1}},y);var _,E=o.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(_=void 0===/()??/.exec("")[1],o.split=function(e,n){var r=this;if(void 0===e&&0===n)return[];if("[object RegExp]"!==a.call(e))return E.call(this,e,n);var o,i,s,c,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),d=0;for(e=new RegExp(e.source,u+"g"),r+="",_||(o=new RegExp("^"+e.source+"$(?!\\s)",u)),n=void 0===n?-1>>>0:n>>>0;(i=e.exec(r))&&!((s=i.index+i[0].length)>d&&(l.push(r.slice(d,i.index)),!_&&i.length>1&&i[0].replace(o,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(i[e]=void 0)})),i.length>1&&i.index<r.length&&t.push.apply(l,i.slice(1)),c=i[0].length,d=s,l.length>=n));)e.lastIndex===i.index&&e.lastIndex++;return d===r.length?!c&&e.test("")||l.push(""):l.push(r.slice(d)),l.length>n?l.slice(0,n):l}):"0".split(void 0,0).length&&(o.split=function(e,t){return void 0===e&&0===t?[]:E.call(this,e,t)});var b=o.substr;u(o,{substr:function(e,t){return b.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},"".substr&&"b"!=="0b".substr(-1))},7581:function(e,t,n){e.exports=[n(2412),n(9842),n(4620),n(3004),n(882)(n(3004)),n(5616),n(882)(n(5616)),n(2387),n(9998),n(882)(n(2387)),n(5375)]},2940:function(e,t,n){var r=n(3212).v,o=n(5717),i=n(7705),a=n(273),s=n.g.XMLHttpRequest;function c(e,t,n,o){var i=this;r.call(this),setTimeout((function(){i._start(e,t,n,o)}),0)}o(c,r),c.prototype._start=function(e,t,n,r){var o=this;try{this.xhr=new s}catch(u){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();t=a.addQuery(t,"t="+ +new Date),this.unloadRef=i.unloadAdd((function(){o._cleanup(!0)}));try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o.emit("finish",0,""),o._cleanup(!1)})}catch(u){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!c.supportsCORS||(this.xhr.withCredentials=!0),r&&r.headers)for(var l in r.headers)this.xhr.setRequestHeader(l,r.headers[l]);this.xhr.onreadystatechange=function(){if(o.xhr){var e,t,n=o.xhr;switch(n.readyState,n.readyState){case 3:try{t=n.status,e=n.responseText}catch(r){}1223===t&&(t=204),200===t&&e&&e.length>0&&o.emit("chunk",t,e);break;case 4:1223===(t=n.status)&&(t=204),12005!==t&&12029!==t||(t=0),n.responseText,o.emit("finish",t,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(u){o.emit("finish",0,""),o._cleanup(!1)}},c.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),i.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!s;var l=["Active"].concat("Object").join("X");!c.enabled&&l in n.g&&(s=function(){try{return new n.g[l]("Microsoft.XMLHTTP")}catch(e){return null}},c.enabled=!!new s);var u=!1;try{u="withCredentials"in new s}catch(d){}c.supportsCORS=u,e.exports=c},3759:function(e,t,n){e.exports=n.g.EventSource},9334:function(e,t,n){var r=n.g.WebSocket||n.g.MozWebSocket;e.exports=r?function(e){return new r(e)}:void 0},3004:function(e,t,n){var r=n(5717),o=n(9395),i=n(6709),a=n(9033),s=n(3759);function c(e){if(!c.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/eventsource",i,a)}r(c,o),c.enabled=function(){return!!s},c.transportName="eventsource",c.roundTrips=2,e.exports=c},5616:function(e,t,n){var r=n(5717),o=n(3608),i=n(3515),a=n(9395);function s(e){if(!o.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/htmlfile",o,i)}r(s,a),s.enabled=function(e){return o.enabled&&e.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,e.exports=s},5088:function(e,t,n){var r=n(5717),o=n(3212).v,i=n(2828),a=n(273),s=n(3683),c=n(7705),l=n(8915);function u(e,t,n){if(!u.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=a.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=l.string(8);var i=a.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=s.createIframe(i,(function(e){r.emit("close",1006,"Unable to load an iframe ("+e+")"),r.close()})),this.onmessageCallback=this._message.bind(this),c.attachEvent("message",this.onmessageCallback)}r(u,o),u.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){c.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},u.prototype._message=function(e){if(e.data,!a.isOriginEqual(e.origin,this.origin))return e.origin,void this.origin;var t;try{t=JSON.parse(e.data)}catch(r){return void e.data}if(t.windowId!==this.windowId)return t.windowId,void this.windowId;switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([i,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch(o){return void t.data}this.emit("close",n[0],n[1]),this.close()}},u.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},u.prototype.send=function(e){this.postMessage("m",e)},u.enabled=function(){return s.iframeEnabled},u.transportName="iframe",u.roundTrips=2,e.exports=u},5375:function(e,t,n){var r=n(5717),o=n(8347),i=n(514),a=n(771);function s(e){if(!s.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/jsonp",a,i)}r(s,o),s.enabled=function(){return!!n.g.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,e.exports=s},9395:function(e,t,n){var r=n(5717),o=n(273),i=n(8347);function a(e,t,n,r){i.call(this,e,t,function(e){return function(t,n,r){var i={};"string"==typeof n&&(i.headers={"Content-type":"text/plain"});var a=o.addPath(t,"/xhr_send"),s=new e("POST",a,n,i);return s.once("finish",(function(e){if(s=null,200!==e&&204!==e)return r(new Error("http status "+e));r()})),function(){s.close(),s=null;var e=new Error("Aborted");e.code=1e3,r(e)}}}(r),n,r)}r(a,i),e.exports=a},1851:function(e,t,n){var r=n(5717),o=n(3212).v;function i(e,t){o.call(this),this.sendBuffer=[],this.sender=t,this.url=e}r(i,o),i.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},i.prototype.sendScheduleWait=function(){var e,t=this;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout((function(){t.sendStop=null,t.sendSchedule()}),25)},i.prototype.sendSchedule=function(){this.sendBuffer.length;var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,(function(t){e.sendStop=null,t?(e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()})),this.sendBuffer=[]}},i.prototype._cleanup=function(){this.removeAllListeners()},i.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=i},882:function(e,t,n){var r=n(5717),o=n(5088),i=n(2217);e.exports=function(e){function t(t,n){o.call(this,e.transportName,t,n)}return r(t,o),t.enabled=function(t,r){if(!n.g.document)return!1;var a=i.extend({},r);return a.sameOrigin=!0,e.enabled(a)&&o.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=o.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}},1265:function(e,t,n){var r=n(5717),o=n(3212).v;function i(e,t,n){o.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}r(i,o),i.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",(function(t){e.emit("message",t)})),t.once("close",(function(n,r){e.pollIsClosing,e.poll=t=null,e.pollIsClosing||("network"===r?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))}))},i.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=i},8347:function(e,t,n){var r=n(5717),o=n(273),i=n(1851),a=n(1265);function s(e,t,n,r,s){var c=o.addPath(e,t),l=this;i.call(this,e,n),this.poll=new a(r,c,s),this.poll.on("message",(function(e){l.emit("message",e)})),this.poll.once("close",(function(e,t){l.poll=null,l.emit("close",e,t),l.close()}))}r(s,i),s.prototype.close=function(){i.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=s},6709:function(e,t,n){var r=n(5717),o=n(3212).v,i=n(3759);function a(e){o.call(this);var t=this,n=this.es=new i(e);n.onmessage=function(e){e.data,t.emit("message",decodeURI(e.data))},n.onerror=function(e){n.readyState;var r=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(r)}}r(a,o),a.prototype.abort=function(){this._cleanup(),this._close("user")},a.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},a.prototype._close=function(e){var t=this;setTimeout((function(){t.emit("close",null,e),t.removeAllListeners()}),200)},e.exports=a},3608:function(e,t,n){var r=n(5717),o=n(3683),i=n(273),a=n(3212).v,s=n(8915);function c(e){a.call(this);var t=this;o.polluteGlobalNamespace(),this.id="a"+s.string(6),e=i.addQuery(e,"c="+decodeURIComponent(o.WPrefix+"."+this.id)),c.htmlfileEnabled;var r=c.htmlfileEnabled?o.createHtmlfile:o.createIframe;n.g[o.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(e){t.emit("message",e)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=r(e,(function(){t._cleanup(),t._close("permanent")}))}r(c,a),c.prototype.abort=function(){this._cleanup(),this._close("user")},c.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n.g[o.WPrefix][this.id]},c.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()},c.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in n.g)try{c.htmlfileEnabled=!!new n.g[l]("htmlfile")}catch(u){}c.enabled=c.htmlfileEnabled||o.iframeEnabled,e.exports=c},514:function(e,t,n){var r=n(3683),o=n(8915),i=n(8510),a=n(273),s=n(5717),c=n(3212).v;function l(e){var t=this;c.call(this),r.polluteGlobalNamespace(),this.id="a"+o.string(6);var i=a.addQuery(e,"c="+encodeURIComponent(r.WPrefix+"."+this.id));n.g[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(i),this.timeoutId=setTimeout((function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))}),l.timeout)}s(l,c),l.prototype.abort=function(){if(n.g[r.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},l.timeout=35e3,l.scriptErrorTimeout=1e3,l.prototype._callback=function(e){this._cleanup(),this.aborting||(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())},l.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},l.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete n.g[r.WPrefix][this.id]},l.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout((function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))}),l.scriptErrorTimeout))},l.prototype._createScript=function(e){var t,r=this,a=this.script=n.g.document.createElement("script");if(a.id="a"+o.string(8),a.src=e,a.type="text/javascript",a.charset="UTF-8",a.onerror=this._scriptError.bind(this),a.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(a.readyState,/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){r.loadedOkay=!0;try{a.onclick()}catch(e){}}a&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===a.async&&n.g.document.attachEvent)if(i.isOpera())(t=this.script2=n.g.document.createElement("script")).text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=t.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(c){}a.async=!0}void 0!==a.async&&(a.async=!0);var s=n.g.document.getElementsByTagName("head")[0];s.insertBefore(a,s.firstChild),t&&s.insertBefore(t,s.firstChild)},e.exports=l},1044:function(e,t,n){var r=n(5717),o=n(3212).v;function i(e,t){o.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(e,t){n._chunkHandler(e,t),n.xo=null;var r=200===e?"network":"permanent";n.emit("close",null,r),n._cleanup()}))}r(i,o),i.prototype._chunkHandler=function(e,t){if(200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var o=r.slice(0,n);o&&this.emit("message",o)}},i.prototype._cleanup=function(){this.removeAllListeners()},i.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=i},771:function(e,t,n){var r,o,i=n(8915),a=n(273);e.exports=function(e,t,s){r||((r=n.g.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(o=n.g.document.createElement("textarea")).name="d",r.appendChild(o),n.g.document.body.appendChild(r));var c="a"+i.string(8);r.target=c,r.action=a.addQuery(a.addPath(e,"/jsonp_send"),"i="+c);var l=function(e){try{return n.g.document.createElement('<iframe name="'+e+'">')}catch(r){var t=n.g.document.createElement("iframe");return t.name=e,t}}(c);l.id=c,l.style.display="none",r.appendChild(l);try{o.value=t}catch(d){}r.submit();var u=function(e){l.onerror&&(l.onreadystatechange=l.onerror=l.onload=null,setTimeout((function(){l.parentNode.removeChild(l),l=null}),500),o.value="",s(e))};return l.onerror=function(){u()},l.onload=function(){u()},l.onreadystatechange=function(e){l.readyState,"complete"===l.readyState&&u()},function(){u(new Error("Aborted"))}}},6073:function(e,t,n){var r=n(3212).v,o=n(5717),i=n(7705),a=n(8510),s=n(273);function c(e,t,n){var o=this;r.call(this),setTimeout((function(){o._start(e,t,n)}),0)}o(c,r),c.prototype._start=function(e,t,r){var o=this,a=new n.g.XDomainRequest;t=s.addQuery(t,"t="+ +new Date),a.onerror=function(){o._error()},a.ontimeout=function(){o._error()},a.onprogress=function(){a.responseText,o.emit("chunk",200,a.responseText)},a.onload=function(){o.emit("finish",200,a.responseText),o._cleanup(!1)},this.xdr=a,this.unloadRef=i.unloadAdd((function(){o._cleanup(!0)}));try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(c){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),i.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!(!n.g.XDomainRequest||!a.hasDomain()),e.exports=c},9033:function(e,t,n){var r=n(5717),o=n(2940);function i(e,t,n,r){o.call(this,e,t,n,r)}r(i,o),i.enabled=o.enabled&&o.supportsCORS,e.exports=i},7103:function(e,t,n){var r=n(3212).v;function o(){var e=this;r.call(this),this.to=setTimeout((function(){e.emit("finish",200,"{}")}),o.timeout)}n(5717)(o,r),o.prototype.close=function(){clearTimeout(this.to)},o.timeout=2e3,e.exports=o},3515:function(e,t,n){var r=n(5717),o=n(2940);function i(e,t,n){o.call(this,e,t,n,{noCredentials:!0})}r(i,o),i.enabled=o.enabled,e.exports=i},2412:function(e,t,n){var r=n(7705),o=n(273),i=n(5717),a=n(3212).v,s=n(9334);function c(e,t,n){if(!c.enabled())throw new Error("Transport created when disabled");a.call(this);var i=this,l=o.addPath(e,"/websocket");l="https"===l.slice(0,5)?"wss"+l.slice(5):"ws"+l.slice(4),this.url=l,this.ws=new s(this.url,[],n),this.ws.onmessage=function(e){e.data,i.emit("message",e.data)},this.unloadRef=r.unloadAdd((function(){i.ws.close()})),this.ws.onclose=function(e){e.code,e.reason,i.emit("close",e.code,e.reason),i._cleanup()},this.ws.onerror=function(e){i.emit("close",1006,"WebSocket connection broken"),i._cleanup()}}i(c,a),c.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)},c.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()},c.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return!!s},c.transportName="websocket",c.roundTrips=2,e.exports=c},9998:function(e,t,n){var r=n(5717),o=n(9395),i=n(4620),a=n(1044),s=n(6073);function c(e){if(!s.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",a,s)}r(c,o),c.enabled=i.enabled,c.transportName="xdr-polling",c.roundTrips=2,e.exports=c},4620:function(e,t,n){var r=n(5717),o=n(9395),i=n(1044),a=n(6073);function s(e){if(!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",i,a)}r(s,o),s.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&a.enabled&&e.sameScheme},s.transportName="xdr-streaming",s.roundTrips=2,e.exports=s},2387:function(e,t,n){var r=n(5717),o=n(9395),i=n(1044),a=n(9033),s=n(3515);function c(e){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",i,a)}r(c,o),c.enabled=function(e){return!e.nullOrigin&&(!(!s.enabled||!e.sameOrigin)||a.enabled)},c.transportName="xhr-polling",c.roundTrips=2,e.exports=c},9842:function(e,t,n){var r=n(5717),o=n(9395),i=n(1044),a=n(9033),s=n(3515),c=n(8510);function l(e){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",i,a)}r(l,o),l.enabled=function(e){return!e.nullOrigin&&!c.isOpera()&&a.enabled},l.transportName="xhr-streaming",l.roundTrips=2,l.needBody=!!n.g.document,e.exports=l},2017:function(e,t,n){n.g.crypto&&n.g.crypto.getRandomValues?e.exports.randomBytes=function(e){var t=new Uint8Array(e);return n.g.crypto.getRandomValues(t),t}:e.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}},8510:function(e,t,n){e.exports={isOpera:function(){return n.g.navigator&&/opera/i.test(n.g.navigator.userAgent)},isKonqueror:function(){return n.g.navigator&&/konqueror/i.test(n.g.navigator.userAgent)},hasDomain:function(){if(!n.g.document)return!0;try{return!!n.g.document.domain}catch(e){return!1}}}},8028:function(e){var t,n=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(e){var r=JSON.stringify(e);return n.lastIndex=0,n.test(r)?(t||(t=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,(function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""})),e.lastIndex=0,n}(n)),r.replace(n,(function(e){return t[e]}))):r}}},7705:function(e,t,n){var r=n(8915),o={},i=!1,a=n.g.chrome&&n.g.chrome.app&&n.g.chrome.app.runtime;e.exports={attachEvent:function(e,t){void 0!==n.g.addEventListener?n.g.addEventListener(e,t,!1):n.g.document&&n.g.attachEvent&&(n.g.document.attachEvent("on"+e,t),n.g.attachEvent("on"+e,t))},detachEvent:function(e,t){void 0!==n.g.addEventListener?n.g.removeEventListener(e,t,!1):n.g.document&&n.g.detachEvent&&(n.g.document.detachEvent("on"+e,t),n.g.detachEvent("on"+e,t))},unloadAdd:function(e){if(a)return null;var t=r.string(8);return o[t]=e,i&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in o&&delete o[e]},triggerUnloadCallbacks:function(){for(var e in o)o[e](),delete o[e]}},a||e.exports.attachEvent("unload",(function(){i||(i=!0,e.exports.triggerUnloadCallbacks())}))},3683:function(e,t,n){var r=n(7705),o=n(8510);e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in n.g||(n.g[e.exports.WPrefix]={})},postMessage:function(t,r){n.g.parent!==n.g&&n.g.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:t,data:r||""}),"*")},createIframe:function(e,t){var o,i,a=n.g.document.createElement("iframe"),s=function(){clearTimeout(o);try{a.onload=null}catch(e){}a.onerror=null},c=function(){a&&(s(),setTimeout((function(){a&&a.parentNode.removeChild(a),a=null}),0),r.unloadDel(i))},l=function(e){a&&(c(),t(e))};return a.src=e,a.style.display="none",a.style.position="absolute",a.onerror=function(){l("onerror")},a.onload=function(){clearTimeout(o),o=setTimeout((function(){l("onload timeout")}),2e3)},n.g.document.body.appendChild(a),o=setTimeout((function(){l("timeout")}),15e3),i=r.unloadAdd(c),{post:function(e,t){setTimeout((function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}}),0)},cleanup:c,loaded:s}},createHtmlfile:function(t,o){var i,a,s,c=["Active"].concat("Object").join("X"),l=new n.g[c]("htmlfile"),u=function(){clearTimeout(i),s.onerror=null},d=function(){l&&(u(),r.unloadDel(a),s.parentNode.removeChild(s),s=l=null,CollectGarbage())},h=function(e){l&&(d(),o(e))};l.open(),l.write('<html><script>document.domain="'+n.g.document.domain+'";<\/script></html>'),l.close(),l.parentWindow[e.exports.WPrefix]=n.g[e.exports.WPrefix];var p=l.createElement("div");return l.body.appendChild(p),s=l.createElement("iframe"),p.appendChild(s),s.src=t,s.onerror=function(){h("onerror")},i=setTimeout((function(){h("timeout")}),15e3),a=r.unloadAdd(d),{post:function(e,t){try{setTimeout((function(){s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}),0)}catch(n){}},cleanup:d,loaded:u}}},e.exports.iframeEnabled=!1,n.g.document&&(e.exports.iframeEnabled=("function"==typeof n.g.postMessage||"object"==typeof n.g.postMessage)&&!o.isKonqueror())},4886:function(e,t,n){var r={};["log","debug","warn"].forEach((function(e){var t;try{t=n.g.console&&n.g.console[e]&&n.g.console[e].apply}catch(o){}r[e]=t?function(){return n.g.console[e].apply(n.g.console,arguments)}:"log"===e?function(){}:r.log})),e.exports=r},2217:function(e){e.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,o=arguments.length;r<o;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}}},8915:function(e,t,n){var r=n(2017);e.exports={string:function(e){for(var t=r.randomBytes(e),n=[],o=0;o<e;o++)n.push("abcdefghijklmnopqrstuvwxyz012345".substr(t[o]%32,1));return n.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},5581:function(e){e.exports=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach((function(e){e&&("websocket"===e.transportName&&!1===n.websocket||(t.length&&-1===t.indexOf(e.transportName)?e.transportName:e.enabled(n)?(e.transportName,r.main.push(e),e.facadeTransport&&r.facade.push(e.facadeTransport)):e.transportName))})),r}}}},273:function(e,t,n){var r=n(4564);e.exports={getOrigin:function(e){if(!e)return null;var t=new r(e);if("file:"===t.protocol)return null;var n=t.port;return n||(n="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){return this.getOrigin(e)===this.getOrigin(t)},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}}},2828:function(e){e.exports="1.6.1"},4564:function(e,t,n){var r=n(4058),o=n(8188),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(i,"")}var h=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function f(e){var t,r=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},o={},i=typeof(e=e||r);if("blob:"===e.protocol)o=new v(unescape(e.pathname),{});else if("string"===i)for(t in o=new v(e,{}),p)delete o[t];else if("object"===i){for(t in e)t in p||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=d(e)).replace(a,""),t=t||{};var n,r=l.exec(e),o=r[1]?r[1].toLowerCase():"",i=!!r[2],s=!!r[3],c=0;return i?s?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):s?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===o?c>=2&&(n=n.slice(2)):m(o)?n=r[4]:o?i&&(n=n.slice(2)):c>=2&&m(t.protocol)&&(n=r[4]),{protocol:o,slashes:i||m(o),slashesCount:c,rest:n}}function v(e,t,n){if(e=(e=d(e)).replace(a,""),!(this instanceof v))return new v(e,t,n);var i,s,c,l,p,y,_=h.slice(),E=typeof t,b=this,T=0;for("object"!==E&&"string"!==E&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),i=!(s=g(e||"",t=f(t))).protocol&&!s.slashes,b.slashes=s.slashes||i&&t.slashes,b.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||u.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!m(b.protocol)))&&(_[3]=[/(.*)/,"pathname"]);T<_.length;T++)"function"!=typeof(l=_[T])?(c=l[0],y=l[1],c!=c?b[y]=e:"string"==typeof c?~(p="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof l[2]?(b[y]=e.slice(0,p),e=e.slice(p+l[2])):(b[y]=e.slice(p),e=e.slice(0,p))):(p=c.exec(e))&&(b[y]=p[1],e=e.slice(0,p.index)),b[y]=b[y]||i&&l[3]&&t[y]||"",l[4]&&(b[y]=b[y].toLowerCase())):e=l(e,b);n&&(b.query=n(b.query)),i&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(b.pathname,t.pathname)),"/"!==b.pathname.charAt(0)&&m(b.protocol)&&(b.pathname="/"+b.pathname),r(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(~(p=b.auth.indexOf(":"))?(b.username=b.auth.slice(0,p),b.username=encodeURIComponent(decodeURIComponent(b.username)),b.password=b.auth.slice(p+1),b.password=encodeURIComponent(decodeURIComponent(b.password))):b.username=encodeURIComponent(decodeURIComponent(b.auth)),b.auth=b.password?b.username+":"+b.password:b.username),b.origin="file:"!==b.protocol&&m(b.protocol)&&b.host?b.protocol+"//"+b.host:"null",b.href=b.toString()}v.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,r(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,c.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";i[e]=t.charAt(0)!==a?a+t:t}else i[e]=t;break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(i.username=t.slice(0,s),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(s+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var l=0;l<h.length;l++){var u=h[l];u[4]&&(i[u[1]]=i[u[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin="file:"!==i.protocol&&m(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var a=i+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},v.extractProtocol=g,v.location=f,v.trimLeft=d,v.qs=o,e.exports=v},8188:function(e,t){var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function o(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var r,i,a=[];for(i in"string"!=typeof t&&(t="?"),e)if(n.call(e,i)){if((r=e[i])||null!=r&&!isNaN(r)||(r=""),i=o(i),r=o(r),null===i||null===r)continue;a.push(i+"="+r)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,o={};t=n.exec(e);){var i=r(t[1]),a=r(t[2]);null===i||null===a||i in o||(o[i]=a)}return o}},4058:function(e){e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{default:function(){return ye}});var e=n(8e3),t=n.n(e),o=n(3281),i=n.n(o),a=n(3720),s=n.n(a),c=(n(9601),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(8309),n(3843),n(3710),n(1532),n(4812),n(9070),n(7941),n(2222),n(9575),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(5827),n(2564),n(9653),n(9554),n(4747),n(6699),n(2023),n(7327),n(7252)),l=n(4024),u=n(4998),d=n(5531),h=n(6424),p=n(7360),f=["onTextMessage","onFileMessage","onAudioMessage","onVideoMessage","onImageMessage","onLocationMessage","onCustomMessage","onCMDMessage"],m=function(){function e(e,t,n){this.handlerData={},this.handlerData={},e.addEventHandler=this.addEventHandler.bind(this),e.removeEventHandler=this.removeEventHandler.bind(this)}return e.prototype.addEventHandler=function(e,t){this.handlerData[e]=t},e.prototype.removeEventHandler=function(e){delete this.handlerData[e]},e.prototype.dispatch=function(e,t){for(var n in f.includes(e)&&t?p.kg.debug("dispatch event: "+e,{id:t.id,type:t.type,time:t.time,from:t.from,to:t.to,chatType:t.chatType}):"onMessage"===e?p.kg.debug("dispatch event: "+e,null==t?void 0:t.length):p.kg.debug("dispatch event: "+e,t||""),this.handlerData){var r=this.handlerData[n][e];r&&r(t)}},e}(),g=function(){};function v(e){this.onOpened=e.onOpened||g,this.onPresence=e.onPresence||g,this.onTextMessage=e.onTextMessage||g,this.onPictureMessage=e.onPictureMessage||g,this.onAudioMessage=e.onAudioMessage||g,this.onVideoMessage=e.onVideoMessage||g,this.onFileMessage=e.onFileMessage||g,this.onLocationMessage=e.onLocationMessage||g,this.onCmdMessage=e.onCmdMessage||g,this.onCustomMessage=e.onCustomMessage||g,this.onReceivedMessage=e.onReceivedMessage||g,this.onDeliveredMessage=e.onDeliveredMessage||g,this.onReadMessage=e.onReadMessage||g,this.onRecallMessage=e.onRecallMessage||g,this.onChannelMessage=e.onChannelMessage||g,this.onError=e.onError||g,this.onOffline=e.onOffline||g,this.onOnline=e.onOnline||g,this.onStatisticMessage=e.onStatisticMessage||g,this.onContactInvited=e.onContactInvited||g,this.onContactAgreed=e.onContactAgreed||g,this.onContactRefuse=e.onContactRefuse||g,this.onContactDeleted=e.onContactDeleted||g,this.onContactAdded=e.onContactAdded||g,this.onTokenWillExpire=e.onTokenWillExpire||g,this.onTokenExpired=e.onTokenExpired||g,this.onClosed=e.onClosed||g,this.onPresenceStatusChange=e.onPresenceStatusChange||g}n(2772);var y={biz:"",debug:!1,token:""},_="https://data-reporting.agora.io/report",E="https://data-reporting.sh.agoralab.co/report",b=n(2071),T=n(1595),S=function(e){var t=Number(T.C8[e]);return t===T.C8.USER_LOGIN?"MANUALLOGIN":t===T.C8.MSYNC_SENDMESSAGE?"SENDMESSAGE":t>T.C8.UNKNOWOPERATION&&t<T.C8.REST_OPERATE?"REST":t>T.C8.REST_OPERATE&&t<T.C8.MSYNC_OPERATE?"MESSAGE":t>T.C8.MSYNC_OPERATE&&t<T.C8.ROSTER_OPERATE?"ROSTER":t>T.C8.ROSTER_OPERATE&&t<T.C8.USER_OPERATE?"USER":t>T.C8.USER_OPERATE&&t<T.C8.GROUP_OPERATE?"GROUP":t>T.C8.GROUP_OPERATE&&t<T.C8.CHATROOM_OPERATE?"CHATROOM":"OPERATION"},w=function(){return(new Date).getTime()},C=function(e){return[l.iw.BAIDU,l.iw.WX,l.iw.DD,l.iw.ZFB,l.iw.TT,l.iw.QUICK_APP,l.iw.UNI].includes(e.platform)},R=function(){return e=1,t=99999,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e;var e,t},I=n(4319),A={},O=(n(561),n(1249),function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}),N=1e3,k=function(){function e(e){this.eventQueue=[],this.stock=N,this.config=e,this.governor()}return e.prototype.add=function(e){this.stock<=0||(this.eventQueue.push(e),this.consume(),this.stock-=1)},e.prototype.consume=function(){var e=this;0!==this.eventQueue.length&&(this.timer&&this.eventQueue.length<=10&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t,n=e.eventQueue.splice(0,10),r=n.filter((function(e){return e.appId===n[0].appId})),o=n.filter((function(e){return e.appId!==n[0].appId}));(t=e.eventQueue).unshift.apply(t,o),e.batchSend(r)}),1e3))},e.prototype.governor=function(){var e=this,t=setInterval((function(){e.stock=N}),6e4);"undefined"!=typeof addEventListener&&addEventListener("beforeunload",(function(){clearInterval(t)}))},e.prototype.batchSend=function(e){var t,n;if(void 0===e&&(e=[]),0!==e.length)try{var r=e.map((function(e){e.biz,e.appId;var t=e.eventId,n=O(e,["biz","appId","eventId"]);return{eventId:Number(t),body:n}}));!function(e,t){try{var n=t.biz,r=t.appId,o=t.data,i=t.debug,a=t.onSuccess;if(!n)throw new Error("biz is not defined");A.global||(A=l.P6.getEnvInfo());var s=A;if(C(s)){var c={url:i?E:_,data:o,method:"POST",timeout:I.zj,success:function(){null==a||a()},fail:function(){},complete:function(){}},u={token:e,appid:null!=r?r:"",sendts:"".concat(Math.floor((new Date).getTime()/1e3)),biz:n,debug:"".concat(i)};if("zfb"===s.platform||"dd"===s.platform?c.headers=u:c.header=u,"dd"===s.platform)return s.global.httpRequest(c);s.global.request(c)}else{var d=new XMLHttpRequest;d.onreadystatechange=function(){2===d.readyState&&(null==a||a())},d.open("POST",i?E:_),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("token",e),d.setRequestHeader("appid",null!=r?r:""),d.setRequestHeader("sendts","".concat(Math.floor((new Date).getTime()/1e3))),d.setRequestHeader("biz",n),d.setRequestHeader("debug","".concat(i)),d.send(JSON.stringify(o))}}catch(h){}}(this.config.token,{biz:null===(t=e[0])||void 0===t?void 0:t.biz,appId:null===(n=e[0])||void 0===n?void 0:n.appId,data:r,debug:this.config.debug,onSuccess:this.consume.bind(this)})}catch(o){}},e}(),D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},D.apply(this,arguments)},x=new(function(){function e(e){this.inited=!1,this.appId="",this.biz="",this.eventQueue={},this.config=y,e&&this.init(e)}return e.prototype.init=function(e){var t;if(void 0===e&&(e={}),!e.biz||!e.token)throw new Error("Event Report: biz or token is not defined");try{this.appId=null!==(t=e.appId)&&void 0!==t?t:"",this.biz=e.biz,this.config=D(D({},y),e),this.eventQueue=new k(this.config),this.log(e),this.inited=!0}catch(n){}},e.prototype.send=function(e,t,n){var r;if(void 0===t&&(t={}),this.inited){var o=D(D({},t),{eventId:Number(e),biz:this.biz,appId:null!==(r=null==n?void 0:n.appId)&&void 0!==r?r:this.appId});this.eventQueue.add(o),this.log(o)}},e.prototype.log=function(e){try{this.config.debug&&(e.payload,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}}(e,["payload"]))}catch(t){}},e}()),P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},P.apply(this,arguments)},M={requestName:"",subrequestid:"1",requestMethod:"GET",requestUrl:"",requestElapse:0,code:0,codeDesc:"",isLastApi:0,isSuccess:1},L=function(){function e(e){this.platform=l.P6.getEnvInfo(),this.isReportDt=e.isReport||!1,this.isCollectDt=!0,C(this.platform)&&!this.isReportDt&&(this.isCollectDt=!1),this.eventQueue=[],this.accessChannel=b.yK,this.options=function(e,t){t.platform||(t=l.P6.getEnvInfo());var n=e.org,r=e.appkey,o=e.deviceId,i=e.sdkVersion,a=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||"".concat(t.platform,"_mini_program");return{org:n,appkey:r,deviceId:o,sdkServiceId:"sid_".concat(l.P6.getUniqueId(),"_").concat(R()),did:a,sdkVersion:i,os:b.Wc,sdkProduct:T.aC.web}}(e,this.platform),this.sid=this.options.sdkServiceId,this.init(e)}return e.getInstance=function(){return e.instance},e.prototype.getServiceId=function(){return this.sid||"sid_0"},e.prototype.setIsReportDt=function(e){this.isReportDt=e,e&&this.rptEventQueue()},e.prototype.setIsCollectDt=function(e){this.isCollectDt=e,e||(this.eventQueue=[])},e.prototype.rptEventQueue=function(){var e=this;this.eventQueue.length&&this.eventQueue.forEach((function(t,n){x.send(t.eventId,t.dt),n>=e.eventQueue.length-1&&(e.eventQueue=[])}))},e.prototype.init=function(t){e.instance||(e.instance=this,x.init({biz:b.el,token:b.$x,appId:t.appkey,debug:!1}),this.reportInit())},e.prototype.reportInit=function(){if(this.isCollectDt){var e=this.options,t=e.did,n=e.os,r=e.sdkVersion,o=e.deviceId;this.reportData(b.iB.INIT,{did:t,os:n,sdkVersion:r,deviceId:o})}},e.prototype.geOperateFun=function(e){var t=this;if(!this.isCollectDt)return function(){};var n=1,r=0,o="",i=w(),a=e.uid,s=e.operationName;a&&(this.uid=a);var c={uid:this.uid,operationId:"opr_".concat(l.P6.getUniqueId(),"_").concat(R()),requestid:"req_".concat(l.P6.getUniqueId(),"_").concat(R()),operationName:s};return function(e){var a,u,d,h;if(e.data.isSuccess?(r=0,o=""):(0===e.data.code&&(e.data.code=b.Tp),r=null!==(a=e.data.code)&&void 0!==a?a:r,o=null!==(u=e.data.codeDesc)&&void 0!==u?u:o),(null===(d=e.data)||void 0===d?void 0:d.accessChannel)&&(t.accessChannel=null===(h=e.data)||void 0===h?void 0:h.accessChannel),e.isRetry?(n++,e.data.subrequestid="".concat(n)):(c.requestid="req_".concat(l.P6.getUniqueId(),"_").concat(R()),n=1),e.data.isLastApi){var p=w();e.data.requestElapse=p-i,e.data.requestMethod="",e.data.subrequestid="0",e.data.code=200===r?0:r,e.data.codeDesc=o}else e.data.requestName||(e.data.requestName=s);e.data.requestElapse||(e.data.requestElapse=w()-i),t.reportData.call(t,b.iB.API,P(P(P(P({},M),c),e.data),{accessChannel:t.accessChannel,operationType:S(s)})),e.isEndApi&&t.reportData.call(t,b.iB.API,P(P(P({},c),M),{isSuccess:e.data.isSuccess,isLastApi:1,subrequestid:"0",requestMethod:"",code:200===r?0:r,codeDesc:o,requestElapse:e.data.requestElapse,accessChannel:t.accessChannel,operationType:S(s)}))}},e.prototype.reportData=function(e,t){return n=this,r=void 0,i=function(){var n,r,o,i,a,s,c;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),n=w(),r=0,e!==b.iB.API?[3,2]:[4,(d=this.platform,new Promise((function(e){var t;d.platform||(d=l.P6.getEnvInfo());var n="";if(d.platform===l.iw.WEB){var r=navigator.connection;(null==r?void 0:r.type)?(null==r||r.type,n=T.td.WIFI):(null==r?void 0:r.effectiveType)&&(n=T.td[r.effectiveType.toLocaleUpperCase()]),e(n)}else d.platform===l.iw.NODE?(n=T.td.UNKNOWN,e(n)):null===(t=d.global)||void 0===t||t.getNetworkType({success:function(t){n=T.td[t.networkType.toLocaleUpperCase()],e(n)}})})))];case 1:r=u.sent(),u.label=2;case 2:return o=this.options,i=o.appkey,a=o.sdkServiceId,s=o.sdkProduct,c=P({lts:n,net:r,appkey:i,sdkServiceId:a,sdkProduct:s},t),this.isReportDt?x.send(e,c):this.isCollectDt&&this.eventQueue.push({eventId:e,dt:c}),[3,4];case 3:return u.sent(),[3,4];case 4:return[2]}var d}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{c(i.next(e))}catch(n){t(n)}}function s(e){try{c(i.throw(e))}catch(n){t(n)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}c((i=i.apply(n,r||[])).next())}));var n,r,o,i},e}(),U=n(7288),j=n(7479),V=n(2856),B=n(9667),z=n(3770),F=n(1735),H=n(7384),G=n(70),W=n(8161);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var K=function(){return K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},K.apply(this,arguments)},Y=function(e,t,n,r){return new(n||(n=Promise))((function(t,o){function i(e){try{s(r.next(e))}catch(t){o(t)}}function a(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}s((r=r.apply(e,[])).next())}))},X=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},$=l.P6.getEnvInfo(),J="web"===$.platform,Z={CLOSED:3,CLOSING:2,CONNECTING:0,OPEN:1},Q=function(){function e(t){var n,r;if(this.name="connection",this.max_cache_length=100,this.enableReportLogs=!1,this._reportLogs=!1,this._reportInterval=I.XV,this._isLogging=!1,this.unSyncQueue=[],this.lastHeartbeat=Date.now(),this.isDebug=t.isDebug||!1,this.isReport=!1,this.enableReportLogs=t.enableReportLogs||!1,this.uploadPartEnable=!0,this.isHttpDNS=void 0===t.isHttpDNS?J:t.isHttpDNS,this.heartBeatWait=t.heartBeatWait||I.al,this.autoReconnectNumMax=t.autoReconnectNumMax||I.ke,this.refreshDNSIntervals=this.autoReconnectNumMax<5?this.autoReconnectNumMax:5,this.delivery=t.delivery||!1,this.disconnectedReason=void 0,this.loginInfoCustomExt=void 0,this.dnsArr=["https://rs.easemob.com","https://rs.chat.agora.io","http://59.110.89.59","http://39.97.193.190","http://39.97.193.187"],this.dnsIndex=0,this.dnsTotal=this.dnsArr.length,this.restHosts=[],this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.socketHost=[],this.hostTotal=0,this.times=1,this.autoReconnectNumTotal=0,this.domain="easemob.com",this.appKey=t.appKey,this.appName="",this.orgName="",this.token="",this.grantType="",this.apiUrl=t.apiUrl||"",this.url=t.url||"",this.https=t.https||"undefined"!=typeof window&&"https:"===(null===(n=window.location)||void 0===n?void 0:n.protocol),this.version="4.10.0",this.deviceId=t.deviceId||"webim",this.isFixedDeviceId=null===(r=t.isFixedDeviceId)||void 0===r||r,this.osType=16,this.useOwnUploadFun=t.useOwnUploadFun||!1,this.compressType=[0],this.encryptType=[0],this.clientResource="",this.expiresIn=0,this.expirationTime=0,this.useReplacedMessageContents=t.useReplacedMessageContents||!1,this.logOut=!0,this.context={jid:{appKey:"",clientResource:"",domain:"easemob.com",name:""},userId:"",appKey:"",status:0,restTokenData:"",appName:"",orgName:"",root:{},accessToken:""},this._msgHash={},this._msgPromiseHash={},this._queues=[],this._load_msg_cache=[],this.unMSyncSendMsgMap=new Map,this.mr_cache={},this.reconnecting=!1,this._offlineMessagePullState=u.a.SYNC_INIT,this._offlineMessagePullQueue=[],this.uniPushConfig={},this.uniPush=null,this.isRegisterPush=!1,this.pushCertificateName="","string"!=typeof this.appKey||2!==this.appKey.split("#").length)throw Error("Illegal appKey: ".concat(this.appKey));this.devInfos=this.appKey.split("#"),this.orgName=this.devInfos[0],this.appName=this.devInfos[1],this.listen=v.bind(this),this.mSync=this.usePlugin(h.ZP),this.eventHandler=this.usePlugin(m),Object.assign(e.prototype,j),Object.assign(e.prototype,V),Object.assign(e.prototype,B),Object.assign(e.prototype,z),Object.assign(e.prototype,F),Object.assign(e.prototype,H),Object.assign(e.prototype,G),this.dataReport=new L({appkey:this.appKey,org:this.orgName,sdkVersion:this.version,deviceId:this.deviceId,isReport:this.isReport});var o=0,i=this;if(Object.defineProperty(l.P6,"ajaxUnconventionalErrorTimes",{set:function(e){0!==e&&(p.kg.debug("rest api request fail times: ".concat(e)),(o=e)%5==0&&i.isHttpDNS&&(p.kg.debug("refresh dns config when rest request fail."),de.call(i,(function(){}))))},get:function(){return o}}),this.isFixedDeviceId){var a=l.P6.getLocalDeviceInfo();a&&(this.clientResource=JSON.parse(a).deviceId)}p.kg.debug("init SDK: Conn ".concat(this.version," ").concat($.platform))}return e.prototype.usePlugin=function(e,t){if("push"!==t)return t?void(this[t]=new e(this)):new e(this);e.config&&e.emPush?(this.uniPushConfig=e.config,this.uniPush=e.emPush):p.kg.error("use push plugin failed","emPush",this.uniPush,"config",this.uniPushConfig)},e.prototype.listen=function(e){},e.prototype.addEventHandler=function(e,t){},e.prototype.removeEventHandler=function(e){},e.prototype.registerUser=function(e){return Y(this,void 0,void 0,(function(){var t,n;return X(this,(function(r){switch(r.label){case 0:if(!e.username||!e.password)throw Error("Invalid parameter");r.label=1;case 1:if(r.trys.push([1,5,,6]),!this.orgName&&!this.appName)throw c.Z.create({type:d.E.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR,message:"signup error"});return t=this.dataReport.geOperateFun({uid:e.username,operationName:T.fI.REGISTER}),this.isHttpDNS?(this.dnsIndex=0,[4,de.call(this,t)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,te.call(this,e,{rpt:t})];case 4:return[2,r.sent()];case 5:throw n=r.sent(),e.error&&e.error(n),n;case 6:return[2]}}))}))},e.prototype.open=function(e){var t;return Y(this,void 0,void 0,(function(){var n,r,o,i,a,s;return X(this,(function(u){switch(u.label){case 0:if(p.kg.debug("open",e.user,"isLogout:",this.logOut),this._isLogging)throw r=c.Z.create({type:d.E.WEBIM_CONNCTION_OPEN_ERROR,message:"Currently logging in, please wait."});if(!this.logOut)throw r=c.Z.create({type:d.E.WEBIM_USER_ALREADY_LOGIN,message:"The user has logged in."});this.retryConnectTimes=0,this._isLogging=!0,u.label=1;case 1:if(u.trys.push([1,8,9,10]),"web"===$.platform&&(n=l.P6.detectBrowser(),p.kg.debug("browser",n)),r=ce.call(this,e))throw null===(t=this.onError)||void 0===t||t.call(this,r),r;return e.accessToken&&(this.token=e.accessToken),o=K({},e),i=this.dataReport.geOperateFun({uid:e.user,operationName:T.fI.LOGIN}),this.dnsIndex=0,this.isHttpDNS?[4,de.call(this,i)]:[3,3];case 2:return u.sent(),[3,5];case 3:return"web"!==$.platform&&this.enableReportLogs?[4,de.call(this,i)]:[3,5];case 4:u.sent(),u.label=5;case 5:return p.kg.initReport({report:this._reportLogs,reportInterval:this._reportInterval,connection:this}),[4,re.call(this,o,{rpt:i})];case 6:return a=u.sent(),[4,ae.call(this,i)];case 7:return u.sent(),p.kg.debug("grantType",this.grantType),l.P6.listenNetwork(oe.bind(this),ie.bind(this)),l.P6.listenBrowserVisibility((function(){p.kg.debug("visibility: true")}),(function(){p.kg.debug("visibility: false")})),[2,a];case 8:throw s=u.sent(),this._isLogging=!1,e.error&&e.error(s),s;case 9:return p.kg.reportLog(),[7];case 10:return[2]}}))}))},e.prototype.isOpened=function(){return this.sock&&this.sock.readyState===Z.OPEN||!1},e.prototype.close=function(){var e,t,n;p.kg.debug("call close"),p.kg._stopReportLogs(),this.logOut=!0,this.disconnectedReason=void 0,this.reconnecting=!1,this.context.status=d.E.STATUS_CLOSING,this.sock&&this.sock.close(),null===(e=this.unMSyncSendMsgMap)||void 0===e||e.clear(),this.stopHeartBeat(),this.rejectMessage(),this.context.status=d.E.STATUS_CLOSED,this._load_msg_cache=[],this._queues=[],this.unSyncQueue=[],this._msgHash={},this.mr_cache={},this.token="",this.context.accessToken="",this.isRegisterPush=!1,this.clearTokenTimeout(),null===(n=null===(t=null==this?void 0:this._localCache)||void 0===t?void 0:t.getInstance())||void 0===n||n.close(),this.connectionTimer&&clearTimeout(this.connectionTimer),this.provisionTimer&&clearTimeout(this.provisionTimer),this.probingTimer&&clearTimeout(this.probingTimer)},e.prototype.downloadAndParseCombineMessage=function(e){var t=this,n=e.url,r=e.secret;return new Promise((function(e,o){var i,a,s=l.P6.getEnvInfo(),c="web"!==s.platform&&"node"!==s.platform&&"quick_app"!==s.platform&&(null===(a=null===(i=s.global)||void 0===i?void 0:i.canIUse)||void 0===a?void 0:a.call(i,"getFileSystemManager")),u=function(n){var r=function(e){o({type:d.E.PARSE_FILE_ERROR,message:"Read file failed",data:e})},i=function(n){return Y(t,void 0,void 0,(function(){var t,r,i,a,s,u,h,f,m,g,v,y,_;return X(this,(function(E){switch(E.label){case 0:for(t=c?new Uint8Array(n.data):new Uint8Array(n.target.result),r=0,i=0,a=2,s=t.subarray(r,r+a),u=l.P6.Uint8ArrayToString(s),p.kg.debug("file header:",u),i+=a,h=0,f=2;f<t.length-1;f++)f%2==1&&(h^=t[f]);if(m=t.subarray(t.length-1,t.length),p.kg.debug("checkResult:",h,m[0]===h),m[0]!==h)return[2,o({type:d.E.PARSE_FILE_ERROR,message:"File verification failed"})];if("cm"!==u)return[3,7];E.label=1;case 1:E.trys.push([1,5,,6]),g=[],v=function(){var e,n,o,s;return X(this,(function(c){switch(c.label){case 0:return r+=a,i+=a=4,e=t.subarray(r,r+a),r+=a,a=e.reduce((function(t,n,r){return t+(n<<8*(e.length-r-1))}),0),i+=a,n=t.subarray(r,r+a),o=(o=y.root.lookup("easemob.pb.Meta")).decode(n),[4,W.Z.call(y,o,0,!0,!0)];case 1:return s=c.sent(),g.push(s),[2]}}))},y=this,E.label=2;case 2:return i<t.length-1?[5,v()]:[3,4];case 3:return E.sent(),[3,2];case 4:return[2,e(g)];case 5:return _=E.sent(),o({type:d.E.PARSE_FILE_ERROR,message:"Parse file failed",data:_}),[3,6];case 6:return[3,8];case 7:return[2,o({type:d.E.PARSE_FILE_ERROR,message:"File verification failed"})];case 8:return[2]}}))}))};if(c){var a=s.global.getFileSystemManager(),u=n.tempFilePath;a.readFile({filePath:u,success:i,fail:r})}else if(n instanceof Blob){var h=new FileReader;h.readAsArrayBuffer(n),h.onerror=r,h.onload=i}},h=function(e){o({type:d.E.WEBIM_DOWNLOADFILE_ERROR,message:"Download failed, please try again",data:e})};c?s.global.downloadFile({url:n,success:u,fail:h}):l.P6.download.call(t,{url:n,headers:{Accept:"application/json"},onFileDownloadComplete:u,onFileDownloadError:h,secret:r,accessToken:t.context.accessToken})}))},e.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatID)},e.prototype.clear=function(){this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.hostTotal=0},e.prototype.heartBeat=function(){},e.prototype.renewToken=function(e){var t=this;return this.isOpened()?this.getTokenExpireTimestamp(e).then((function(n){var r=n.expire_timestamp,o=Date.now();return t.expirationTime=r,t.expiresIn=r-o,t.token=e,t.context.accessToken=e,t.clearTokenTimeout(),t.tokenExpireTimeCountDown(t.expiresIn),{status:!0,token:e,expire:r}})):Promise.reject({status:!1})},e.prototype.clearTokenTimeout=function(){p.kg.info("clearTokenTimeout"),this.tokenWillExpireTimer&&clearTimeout(this.tokenWillExpireTimer),this.tokenExpiredTimer&&clearTimeout(this.tokenExpiredTimer),this.tokenWillExpireTimer=null,this.tokenExpiredTimer=null},e.prototype.tokenExpireTimeCountDown=function(e){var t=this;p.kg.info("tokenExpireTimeCountDown",e),e>Math.pow(2,31)-1&&(e=Math.pow(2,31)-1),this.tokenWillExpireTimer=setTimeout((function(){var n;t.onTokenWillExpire&&t.onTokenWillExpire(),null===(n=t.eventHandler)||void 0===n||n.dispatch("onTokenWillExpire"),p.kg.info("onTokenWillExpire",Math.floor(e/2))}),e/2),this.tokenExpiredTimer=setTimeout((function(){var e;p.kg.info("onTokenExpired",0),t.onTokenExpired&&t.onTokenExpired(),null===(e=t.eventHandler)||void 0===e||e.dispatch("onTokenExpired"),t.close()}),e)},e.prototype.compareTokenExpireTime=function(e,t){var n,r=Number(t)-Number(e);p.kg.debug("compareTokenExpireTime",r),r<=this.expiresIn/2&&r>0?(this.onTokenWillExpire&&this.onTokenWillExpire(),null===(n=this.eventHandler)||void 0===n||n.dispatch("onTokenWillExpire"),p.kg.info("onTokenWillExpire",r)):r<=0&&(this.closeByTokenExpired(),p.kg.info("closeByTokenExpired",r))},e.prototype.closeByTokenExpired=function(){var e;p.kg.info("closed By TokenExpired"),this.onTokenExpired&&this.onTokenExpired(),null===(e=this.eventHandler)||void 0===e||e.dispatch("onTokenExpired"),this.close()},e.prototype.rejectMessage=function(){var e=this,t=Object.keys(this._msgHash);if(t.length>0){var n=c.Z.create({type:d.E.MESSAGE_WEBSOCKET_DISCONNECTED,message:"websocket disconnected"});t.forEach((function(t){var r,o,i;(null===(r=e.unMSyncSendMsgMap)||void 0===r?void 0:r.has(t))||(e._msgHash[t].reject instanceof Function&&e._msgHash[t].reject(n),null===(i=null===(o=e._localCache)||void 0===o?void 0:o.getInstance())||void 0===i||i.updateLocalMessage(t,{serverMsgId:t,status:U.r.FAIL}),e._msgHash[t].fail instanceof Function&&e._msgHash[t].fail(n),e._msgHash[t].messageTimer&&clearTimeout(e._msgHash[t].messageTimer),delete e._msgHash[t])}))}},e.prototype.resetConnState=function(){this.mSync.stopHeartBeat(),this.times=1,this.autoReconnectNumTotal=0,this.hostIndex=0},e.prototype.reconnect=function(e){var t,n=this;if(this.logout)return p.kg.warn("The user has already logged out when reconnecting");p.kg.debug("socket reconnect readyState",this.sock.readyState),(this.sock.readyState!==Z.CONNECTING||e)&&(this.sock.readyState!==Z.OPEN||e)&&(p.kg.info("reconnect: time",this.times),p.kg.info("reconnect sock.readyState: ",this.sock.readyState),!1===this.reconnecting&&(this.reconnecting=!0),null===(t=this.eventHandler)||void 0===t||t.dispatch("onReconnecting"),this.rejectMessage(),this.isHttpDNS&&(this.hostIndex<this.socketHost.length-1?this.hostIndex++:this.hostIndex=this.socketHost.length-1),setTimeout((function(){(n.sock.readyState!==Z.OPEN||e)&&(p.kg.info("login sock.readyState: ",n.sock.readyState),n.sock.close(),se.call(n).catch((function(e){p.kg.error("reconnect websocket failed",e)})),n.times++)}),500*this.times),this.autoReconnectNumTotal++)},e.prototype.send=function(e){return Promise.resolve(null)},e.prototype.setLoginInfoCustomExt=function(e){if(p.kg.debug("setLoginInfoCustomExt","params:",e),e){if("string"!=typeof e)throw new Error("ext must be a string");if(e.length>1024)throw new Error("ext length must be less than 1024")}this.loginInfoCustomExt=e},e.prototype.onShow=function(){var e=this;p.kg.debug("execute onshow callback",this.lastHeartbeat),!this.logOut&&!this.reconnecting&&Date.now()-this.lastHeartbeat>2e3&&(p.kg.debug("send ping"),this.mSync.sendUnreadDeal(),this.probingTimer&&clearTimeout(this.probingTimer),this.probingTimer=setTimeout((function(){p.kg.error("Websocket connection timeout"),e.logOut||e.reconnecting||e.reconnect(!0)}),I.xd))},e._getSock=function(){},e}();function ee(e,t){var n=t.rpt,r=t.isRetry,o=this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users",i={requestName:T.c.RESISTER,requestUrl:o},a={headers:{"Content-type":"application/json"},url:o,dataType:"json",data:JSON.stringify({username:e.username,password:e.password,nickname:e.nickname||""})};return l.P6.ajax(a,T.fI.SDK_INTERNAL).then((function(e){var t=K(K({},e),{type:d.E.REQUEST_SUCCESS}),o=e.extraInfo,a=o.httpCode,s=o.elapse;return n({isEndApi:!0,isRetry:r,data:K(K({},{requestElapse:s,isSuccess:1,code:a}),i)}),t})).catch((function(e){var t=e.extraInfo,o=t.elapse,a=t.httpCode,s=t.errDesc;throw n({isRetry:r,data:K(K({},{requestElapse:o,isSuccess:0,code:a,codeDesc:s}),i)}),e}))}function te(e,t){return Y(this,void 0,void 0,(function(){var n,r;return X(this,(function(o){switch(o.label){case 0:n=t.rpt,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,ee.call(this,e,t)];case 2:return[2,o.sent()];case 3:return!((r=o.sent()).message.includes("Open registration doesn't allow")||r.message.includes("username be unique")||r.message.includes("is not legal"))&&this.isHttpDNS&&this.restIndex+1<this.restTotal?(this.restIndex++,pe.call(this),[4,te.call(this,e,{rpt:n})]):[3,5];case 4:return[2,o.sent()];case 5:throw p.kg.error("retry signup failed",r),n({data:{isLastApi:1,isSuccess:0}}),r;case 6:return[3,7];case 7:return[2]}}))}))}function ne(e,t){var n;return Y(this,void 0,void 0,(function(){var r,o,i,a,s,c,u,d,h,f=this;return X(this,(function(m){switch(m.label){case 0:if(r=ce.call(this,e))throw r;return p.kg.debug("socket readyState",null===(n=this.sock)||void 0===n?void 0:n.readyState),o=t.rpt,i=t.isRetry,le.call(this,e),this.user=e.user,a=this.context.appName,s=this.context.orgName,c=this.apiUrl+"/"+s+"/"+a+"/token",e.accessToken?(p.kg.debug("login with accessToken"),this.grantType="accessToken",this.token=e.accessToken,this.context.accessToken=e.accessToken,this.context.restTokenData=e.accessToken,[2,{accessToken:e.accessToken}]):[3,1];case 1:return e.agoraToken?(p.kg.debug("login with agoraToken"),this.grantType="agoraToken",this.token=e.agoraToken,this.context.accessToken=e.agoraToken,this.context.restTokenData=e.agoraToken,[2,{accessToken:e.agoraToken}]):[3,2];case 2:return p.kg.debug("login with password"),this.grantType="password",u={grant_type:"password",username:e.user,password:e.pwd,timestamp:+new Date},d=JSON.stringify(u),h={headers:{"Content-type":"application/json"},url:c,dataType:"json",data:d,version:this.version},p.kg.debug("start get token"),[4,l.P6.ajax(h,T.fI.SDK_INTERNAL).then((function(e){p.kg.debug("get token success",e),f.token=e.access_token,f.context.restTokenData=e.access_token,f.context.accessToken=e.access_token,f.expiresIn=e.expires_in;var t=e.extraInfo,n=t.httpCode,r=t.elapse,a={requestName:T.c.LOGIN_BY_PWD,requestElapse:r,requestUrl:c,isSuccess:1,code:n};return o({isRetry:i,data:a}),{accessToken:e.access_token,duration:e.expires_in}})).catch((function(e){var t=e.extraInfo,n=t.elapse,r=t.httpCode,a=t.errDesc,s={requestName:T.c.LOGIN_BY_PWD,requestElapse:n,requestUrl:c,isSuccess:0,code:r,codeDesc:a};throw o({isRetry:i,data:s}),e}))];case 3:return[2,m.sent()]}}))}))}function re(e,t){var n;return Y(this,void 0,void 0,(function(){var r,o,i;return X(this,(function(a){switch(a.label){case 0:r=t.rpt,a.label=1;case 1:return a.trys.push([1,3,,7]),[4,ne.call(this,e,t)];case 2:return[2,a.sent()];case 3:return"invalid password"!==(o=a.sent()).message&&"user not found"!==o.message&&this.isHttpDNS&&this.restIndex+1<this.restTotal?(this.restIndex++,pe.call(this),[4,re.call(this,e,{rpt:r,isRetry:!0})]):[3,5];case 4:return[2,a.sent()];case 5:throw p.kg.error("retry login failed",o),r({data:{isLastApi:1,isSuccess:0}}),this.clear(),i=void 0,o.error&&o.error_description?(i=c.Z.create({type:d.E.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,message:o.error_description,data:o}),this.onError&&this.onError(i),i):(i=c.Z.create({type:d.E.WEBIM_CONNCTION_OPEN_ERROR,message:null!==(n=o.message)&&void 0!==n?n:"login failed",data:o}),this.onError&&this.onError(i),i);case 6:return[3,7];case 7:return[2]}}))}))}function oe(){var e;p.kg.debug("online"),this.onOnline&&this.onOnline(),null===(e=this.eventHandler)||void 0===e||e.dispatch("onOnline"),this.sock&&1!==this.sock.readyState&&(p.kg.debug("sock.readyState:",this.sock.readyState),this.logOut||this.reconnecting||this.reconnect())}function ie(){var e,t;p.kg.debug("offline"),null===(e=this.sock)||void 0===e||e.close(),this.onOffline&&this.onOffline(),null===(t=this.eventHandler)||void 0===t||t.dispatch("onOffline")}function ae(e){var t,n,r;return Y(this,void 0,void 0,(function(){var o,i,a,s;return X(this,(function(c){switch(c.label){case 0:o=(new Date).getTime(),c.label=1;case 1:return c.trys.push([1,3,,7]),[4,se.call(this,e)];case 2:return i=c.sent(),e&&e({data:{isLastApi:1,isSuccess:1,accessChannel:null===(t=this.socketHost[this.hostIndex])||void 0===t?void 0:t.channel}}),[2,i];case 3:if(a=c.sent(),p.kg.error("connect to msync failed times:",this.retryConnectTimes,a),I.bh.includes(a.type))throw e&&e({data:{isLastApi:1,isSuccess:0,accessChannel:null===(n=this.socketHost[this.hostIndex])||void 0===n?void 0:n.channel,codeDesc:this.disconnectedReason&&JSON.stringify(this.disconnectedReason)||a.message}}),a;return this.retryConnectTimes++,this.retryConnectTimes<I.Ge?(this.isHttpDNS&&(this.hostIndex<this.socketHost.length-1?this.hostIndex++:this.hostIndex=this.socketHost.length-1,he.call(this)),a.type===d.E.REQUEST_TIMEOUT&&"provision timeout"===a.message||(s=(new Date).getTime()-o,null==e||e({isRetry:1!==this.retryConnectTimes,data:{requestUrl:this.url,requestName:T.c.CONNECT_WEBSOCKET,isSuccess:0,code:T.dd.closed,requestElapse:s,codeDesc:this.disconnectedReason&&JSON.stringify(this.disconnectedReason)||"websocket close"}})),[4,ae.call(this,e)]):[3,5];case 4:return c.sent(),[3,6];case 5:throw p.kg.error("connect failed three times",a),e&&e({data:{isLastApi:1,isSuccess:0,accessChannel:null===(r=this.socketHost[this.hostIndex])||void 0===r?void 0:r.channel,codeDesc:this.disconnectedReason&&JSON.stringify(this.disconnectedReason)||a.message}}),a;case 6:return[3,7];case 7:return[2]}}))}))}function se(e){var t=this,n=(new Date).getTime(),r="pending";return new Promise((function(o,i){var a;t._getSock?a=t._getSock():(a=new WebSocket(t.url)).binaryType="arraybuffer",t.sock=a,t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout((function(){t.disconnectedReason={type:d.E.REQUEST_TIMEOUT,message:"connection timeout"},r="rejected",a.close(),null==i||i(t.disconnectedReason)}),I.th),p.kg.debug("start connect ws"),t.connectionResolve=o,t.connectionReject=i;var s=function(){if(t.connectionTimer&&clearTimeout(t.connectionTimer),p.kg.debug("websocket onOpen"),e){var r=(new Date).getTime()-n;e({isRetry:0!==t.retryConnectTimes,data:{requestUrl:t.url,requestName:T.c.CONNECT_WEBSOCKET,isSuccess:1,code:T.dd.success,requestElapse:r}})}var o;o=t._getSock?l.P6.flow([t.mSync.generateProvision,t.mSync.base64transform])():t.mSync.generateProvision();try{t.provisionTimer&&clearTimeout(t.provisionTimer),t.provisionTimer=setTimeout((function(){p.kg.debug("provision timeout"),t.disconnectedReason=c.Z.create({type:d.E.REQUEST_TIMEOUT,message:"provision timeout"}),a.close(),null==i||i(t.disconnectedReason)}),I.Nt),a.send(o)}catch(u){var s=c.Z.create({type:d.E.SDK_RUNTIME_ERROR,message:"send message error",data:u});t.onError&&t.onError(s)}},u=function(e){t.connectionTimer&&clearTimeout(t.connectionTimer),setTimeout((function(){var n,o,a,s,l,u,h;if(p.kg.debug("websocket onClose, isLogging:",t._isLogging,e),"zfb"!==$.platform&&"dd"!==$.platform||(t.sock.readyState=Z.CLOSED),t._isLogging)return null==i||i({type:d.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}),void(r="rejected");if("rejected"!==r)if(r="rejected",t.logOut)t.clear(),t.resetConnState(),null===(o=null===(n=null==t?void 0:t._localCache)||void 0===n?void 0:n.getInstance())||void 0===o||o.close(),t.onClosed&&t.onClosed(),null===(a=t.eventHandler)||void 0===a||a.dispatch("onDisconnected",t.disconnectedReason),null==i||i(t.disconnectedReason||{type:d.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"});else if(t.autoReconnectNumTotal<t.autoReconnectNumMax){t.reconnect();var f={type:d.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};t.onError&&t.onError(f),t.autoReconnectNumTotal%t.refreshDNSIntervals==0&&"web"===$.platform&&t.isHttpDNS&&(p.kg.debug("refresh dns config when websocket close"),de.call(t,(function(){})))}else null===(s=t.unMSyncSendMsgMap)||void 0===s||s.clear(),t.rejectMessage(),f={type:d.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"},t.disconnectedReason=c.Z.create({type:d.E.WEBIM_CONNCTION_DISCONNECTED,message:"reconnection failed"}),t.onError&&t.onError(f),null===(u=null===(l=null==t?void 0:t._localCache)||void 0===l?void 0:l.getInstance())||void 0===u||u.close(),t.onClosed&&t.onClosed(),null===(h=t.eventHandler)||void 0===h||h.dispatch("onDisconnected",t.disconnectedReason),t.resetConnState(),t.reconnecting=!1,null==i||i(f),p.kg.debug("reconnect fail");else p.kg.debug("reject is null")}),0)},h=function(e){var n=t.mSync,r=n.decodeMSync,o=n.distributeMSync;l.P6.flow([r,o])(e)};"web"===$.platform?(a.onopen=s,a.onclose=u,a.onmessage=h):(a.onOpen(s),a.onMessage(h),a.onClose(u),"undefined"!=typeof window&&window.WebSocket||a.onError((function(e){var n,o,a,s;if(t.connectionTimer&&clearTimeout(t.connectionTimer),p.kg.debug("websocket onerror, isLogging:",t._isLogging,e),t.sock.readyState!==Z.CLOSED&&(t.sock=K(K({},t.sock),{close:t.sock.close,send:t.sock.send,readyState:Z.CLOSED})),t.onError&&t.onError({type:d.E.WEBIM_CONNECTION_ERROR,message:"on socket error",data:e}),t._isLogging)return null==i||i({type:d.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}),void(r="rejected");if("rejected"!==r){if(r="rejected",!t.logOut)if(t.autoReconnectNumTotal<t.autoReconnectNumMax)p.kg.debug("sock.onError reconnect",t.autoReconnectNumTotal,t.autoReconnectNumMax),t.reconnect(),t.autoReconnectNumTotal%t.refreshDNSIntervals==0&&"web"===$.platform&&t.isHttpDNS&&(p.kg.debug("refresh dns config when websocket error"),de.call(t,(function(){})));else{var l={type:d.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};t.disconnectedReason=c.Z.create({type:d.E.WEBIM_CONNCTION_DISCONNECTED,message:"reconnection failed"}),null===(n=t.unMSyncSendMsgMap)||void 0===n||n.clear(),t.rejectMessage(),t.onError&&t.onError(l),null===(a=null===(o=null==t?void 0:t._localCache)||void 0===o?void 0:o.getInstance())||void 0===a||a.close(),t.onClosed&&t.onClosed(),null===(s=t.eventHandler)||void 0===s||s.dispatch("onDisconnected",t.disconnectedReason),t.resetConnState(),t.reconnecting=!1,null==i||i(l),p.kg.debug("reconnect fail")}}else p.kg.debug("reject is null")})))}))}function ce(e){if("object"!==q(e)||null===e)return c.Z.create({type:d.E.WEBIM_CONNCTION_OPEN_ERROR,message:"the param is illegal"});if(!e.user||"string"!=typeof e.user){var t=c.Z.create({type:d.E.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR,message:"the user is empty or type is not string"});return p.kg.debug("open params error",t),t}return!("agoraToken"in e)||e.agoraToken&&"string"==typeof e.agoraToken?!("accessToken"in e)||e.accessToken&&"string"==typeof e.accessToken?"accessToken"in e||"agoraToken"in e||e.pwd?void 0:(t=c.Z.create({type:d.E.WEBIM_CONNCTION_OPEN_ERROR,message:"the accessToken or pwd is illegal"}),p.kg.debug("open params error",t),t):(t=c.Z.create({type:d.E.WEBIM_CONNCTION_OPEN_ERROR,message:"the accessToken is illegal"}),p.kg.debug("open params error",t),t):(t=c.Z.create({type:d.E.WEBIM_CONNCTION_OPEN_ERROR,message:"the agoraToken is illegal"}),p.kg.debug("open params error",t),t)}function le(e){this.context.jid={appKey:this.appKey,name:e.user,domain:this.domain,clientResource:this.clientResource},this.context.root=this.root,this.context.userId=e.user,this.context.appKey=this.appKey,this.context.appName=this.appName,this.context.orgName=this.orgName}function ue(e){var t=this,n=e.rpt,r=e.isRetry,o=this.dnsIndex<this.dnsTotal?this.dnsIndex:0,i=this.dnsArr[o]+"/easemob/server.json";p.kg.debug("call getHttpDNS: "+this.dnsIndex);var a={url:i,dataType:"json",type:"GET",data:{app_key:encodeURIComponent(this.appKey)}};return l.P6.ajax(a,T.fI.SDK_INTERNAL).then((function(e){if(!e)throw c.Z.create({type:d.E.SERVER_GET_DNSLIST_FAILED,message:"get DNS failed"});p.kg.debug("getHttpDNS success");var o=e.rest.hosts,a=t.https?"https":"http";if(p.kg.info("httpType: "+a),!o)throw c.Z.create({type:d.E.SERVER_GET_DNSLIST_FAILED,message:"DNS hosts resolution failed",data:e.rest});var s=o.filter((function(e){if(e.protocol===a)return e}));t.restHosts=s,t.restTotal=s.length;var l=e["msync-ws"].hosts;if(!l)throw c.Z.create({type:d.E.SERVER_GET_DNSLIST_FAILED,message:"DNS msync-ws resolution failed",data:e["msync-ws"]});var u=l.filter((function(e){if(e.protocol===a)return e}));if(t.socketHost=u,t.hostTotal=u.length,t.isHttpDNS&&pe.call(t),t.isHttpDNS&&he.call(t),t._reportLogs="true"===e.enableReportLogs,t._reportInterval=Number(e.reportInterval||I.XV),"true"===(null==e?void 0:e.enableDataReport)?(t.dataReport.setIsCollectDt(!0),t.dataReport.setIsReportDt(!0)):(t.dataReport.setIsReportDt(!1),t.dataReport.setIsCollectDt(!1)),"false"===(null==e?void 0:e.uploadinparts_enable)&&(t.uploadPartEnable=!1),e.extraInfo){var h=e.extraInfo,f=h.elapse,m=h.httpCode,g={requestUrl:i,requestName:T.c.GET_DNS,requestElapse:f,isSuccess:1,code:m};n&&n({isRetry:r,data:g})}})).catch((function(e){var t=e.extraInfo,o=t.elapse,a=t.httpCode,s=t.errDesc,l={requestUrl:i,requestName:T.c.GET_DNS,isSuccess:0,code:a,codeDesc:s,requestElapse:o};throw n&&n({isRetry:r,data:l}),c.Z.create({type:d.E.SERVER_GET_DNSLIST_FAILED,message:e.message,data:e})}))}function de(e,t){return Y(this,void 0,void 0,(function(){var n;return X(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,6]),[4,ue.call(this,{rpt:e,isRetry:t})];case 1:case 3:return[2,r.sent()];case 2:return n=r.sent(),p.kg.error("get DNS failed",n,"times:",this.dnsIndex),this.dnsIndex++,this.dnsIndex<this.dnsTotal?[4,de.call(this,e,!0)]:[3,4];case 4:throw p.kg.error("retryRequestDNS failed"),c.Z.create({type:d.E.SERVER_GET_DNSLIST_FAILED,message:"get DNS failed",data:n});case 5:return[3,6];case 6:return[2]}}))}))}function he(){var e=this.socketHost[this.hostIndex],t=e.domain,n=e.ip,r=e.port,o="";o=t||n,r&&"80"!==r&&"443"!==r&&(o+=":"+r),o&&(this.url="//"+o+"/websocket");var i=this.https?"wss:":"ws:";this.url=i+this.url}function pe(){var e,t;if(this.restIndex>this.restTotal)return p.kg.debug("restIndex > restTotal"),"";var n="",r=this.restHosts[this.restIndex],o=r.domain,i=r.ip,a=r.port,s=this.https?"https:":"http:";return i&&"undefined"!=typeof window&&"http:"===(null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.protocol)?n=s+"//"+i+":"+a:(n=s+"//"+o,a&&"80"!==a&&"443"!==a&&(n+=":".concat(a)),"undefined"==typeof window||window.location||(n="https://"+o),"undefined"!=typeof window&&window.location&&"file:"===(null===(t=window.location)||void 0===t?void 0:t.protocol)&&(n="https://"+o)),"undefined"==typeof window&&(n=s+"//"+o),this.apiUrl=n,n}var fe=n(2449);i().util.Long=s(),i().configure();var me=i().Root.fromJSON({nested:{easemob:{nested:{pb:{nested:{MessageBody:{fields:{type:{type:"Type",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},contents:{rule:"repeated",type:"Content",id:4},ext:{rule:"repeated",type:"KeyValue",id:5},ackMessageId:{type:"uint64",id:6},msgConfig:{type:"MessageConfig",id:7},ackContent:{type:"string",id:8},meta:{type:"string",id:9},editMessageId:{type:"uint64",id:11}},nested:{Content:{fields:{type:{type:"Type",id:1},text:{type:"string",id:2},latitude:{type:"double",id:3},longitude:{type:"double",id:4},address:{type:"string",id:5},displayName:{type:"string",id:6},remotePath:{type:"string",id:7},secretKey:{type:"string",id:8},fileLength:{type:"int32",id:9},action:{type:"string",id:10},params:{rule:"repeated",type:"KeyValue",id:11},duration:{type:"int32",id:12},size:{type:"Size",id:13},thumbnailRemotePath:{type:"string",id:14},thumbnailSecretKey:{type:"string",id:15},thumbnailDisplayName:{type:"string",id:16},thumbnailFileLength:{type:"int32",id:17},thumbnailSize:{type:"Size",id:18},customEvent:{type:"string",id:19},customExts:{rule:"repeated",type:"KeyValue",id:20},buildingName:{type:"string",id:21},subType:{type:"SubType",id:22},title:{type:"string",id:23},summary:{type:"string",id:24},combineLevel:{type:"int32",id:25}},nested:{Type:{values:{TEXT:0,IMAGE:1,VIDEO:2,LOCATION:3,VOICE:4,FILE:5,COMMAND:6,CUSTOM:7,COMBINE:8}},Size:{fields:{width:{type:"double",id:1},height:{type:"double",id:2}}},SubType:{values:{COMBINE:0}}}},Type:{values:{NORMAL:0,CHAT:1,GROUPCHAT:2,CHATROOM:3,READ_ACK:4,DELIVER_ACK:5,RECALL:6,CHANNEL_ACK:7,EDIT:8}},MessageConfig:{fields:{allowGroupAck:{type:"bool",id:1}}}}},KeyValue:{oneofs:{value:{oneof:["varintValue","floatValue","doubleValue","stringValue"]}},fields:{key:{type:"string",id:1},type:{type:"ValueType",id:2},varintValue:{type:"int64",id:3},floatValue:{type:"float",id:4},doubleValue:{type:"double",id:5},stringValue:{type:"string",id:6}},nested:{ValueType:{values:{BOOL:1,INT:2,UINT:3,LLINT:4,FLOAT:5,DOUBLE:6,STRING:7,JSON_STRING:8}}}},JID:{fields:{appKey:{type:"string",id:1},name:{type:"string",id:2},domain:{type:"string",id:3},clientResource:{type:"string",id:4}}},ConferenceBody:{fields:{sessionId:{type:"string",id:1},operation:{type:"Operation",id:2},conferenceId:{type:"string",id:3},type:{type:"Type",id:4},content:{type:"string",id:5},network:{type:"string",id:6},version:{type:"string",id:7},identity:{type:"Identity",id:8},duration:{type:"string",id:9},peerName:{type:"string",id:10},endReason:{type:"EndReason",id:11},status:{type:"Status",id:12},isDirect:{type:"bool",id:13},controlType:{type:"StreamControlType",id:14},routeFlag:{type:"int32",id:15},routeKey:{type:"string",id:16}},nested:{Status:{fields:{errorCode:{type:"int32",id:1}}},Operation:{values:{JOIN:0,INITIATE:1,ACCEPT_INITIATE:2,ANSWER:3,TERMINATE:4,REMOVE:5,STREAM_CONTROL:6,MEDIA_REQUEST:7}},Type:{values:{VOICE:0,VIDEO:1}},Identity:{values:{CALLER:0,CALLEE:1}},EndReason:{values:{HANGUP:0,NORESPONSE:1,REJECT:2,BUSY:3,FAIL:4,UNSUPPORTED:5,OFFLINE:6}},StreamControlType:{values:{PAUSE_VOICE:0,RESUME_VOICE:1,PAUSE_VIDEO:2,RESUME_VIDEO:3}}}},MSync:{fields:{version:{type:"Version",id:1,options:{default:"MSYNC_V1"}},guid:{type:"JID",id:2},auth:{type:"string",id:3},compressAlgorimth:{type:"uint32",id:4},crypto:{type:"uint32",id:5},userAgent:{type:"string",id:6},pov:{type:"uint64",id:7},command:{type:"Command",id:8},deviceId:{type:"uint32",id:10},encryptType:{rule:"repeated",type:"EncryptType",id:11,options:{packed:!1}},encryptKey:{type:"string",id:12},payload:{type:"bytes",id:9}},nested:{Version:{values:{MSYNC_V1:0,MSYNC_V2:1}},Command:{values:{SYNC:0,UNREAD:1,NOTICE:2,PROVISION:3}}}},EncryptType:{values:{ENCRYPT_NONE:0,ENCRYPT_AES_128_CBC:1,ENCRYPT_AES_256_CBC:2}},CommSyncUL:{fields:{meta:{type:"Meta",id:1},key:{type:"uint64",id:2},queue:{type:"JID",id:3},isRoam:{type:"bool",id:4},lastFullRoamKey:{type:"uint64",id:5}}},CommSyncDL:{fields:{status:{type:"Status",id:1},metaId:{type:"uint64",id:2},serverId:{type:"uint64",id:3},metas:{rule:"repeated",type:"Meta",id:4},nextKey:{type:"uint64",id:5},queue:{type:"JID",id:6},isLast:{type:"bool",id:7},timestamp:{type:"uint64",id:8},isRoam:{type:"bool",id:9}}},CommNotice:{fields:{queue:{type:"JID",id:1}}},CommUnreadUL:{fields:{}},CommUnreadDL:{fields:{status:{type:"Status",id:1},unread:{rule:"repeated",type:"MetaQueue",id:2},timestamp:{type:"uint64",id:3}}},MetaQueue:{fields:{queue:{type:"JID",id:1},n:{type:"uint32",id:2}}},Meta:{fields:{id:{type:"uint64",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},timestamp:{type:"uint64",id:4},ns:{type:"NameSpace",id:5},payload:{type:"bytes",id:6},routetype:{type:"RouteType",id:7},ext:{rule:"repeated",type:"KeyValue",id:8},meta:{type:"bytes",id:9},directedUsers:{rule:"repeated",type:"string",id:10}},nested:{NameSpace:{values:{STATISTIC:0,CHAT:1,MUC:2,ROSTER:3,CONFERENCE:4,NOTIFY:5,QUERY:6}},RouteType:{values:{ROUTE_ALL:0,ROUTE_ONLINE:1,ROUTE_DIRECT:2}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},reason:{type:"string",id:2},redirectInfo:{rule:"repeated",type:"RedirectInfo",id:3}},nested:{ErrorCode:{values:{OK:0,FAIL:1,UNAUTHORIZED:2,MISSING_PARAMETER:3,WRONG_PARAMETER:4,REDIRECT:5,TOKEN_EXPIRED:6,PERMISSION_DENIED:7,NO_ROUTE:8,UNKNOWN_COMMAND:9,PB_PARSER_ERROR:10,BIND_ANOTHER_DEVICE:11,IM_FORBIDDEN:12,TOO_MANY_DEVICES:13,PLATFORM_LIMIT:14,USER_MUTED:15,ENCRYPT_DISABLE:16,ENCRYPT_ENABLE:17,DECRYPT_FAILURE:18,PERMISSION_DENIED_EXTERNAL:19}}}},RedirectInfo:{fields:{host:{type:"string",id:1},port:{type:"uint32",id:2}}},Provision:{fields:{osType:{type:"OsType",id:1},version:{type:"string",id:2},networkType:{type:"NetworkType",id:3},appSign:{type:"string",id:4},compressType:{rule:"repeated",type:"CompressType",id:5,options:{packed:!1}},encryptType:{rule:"repeated",type:"EncryptType",id:6,options:{packed:!1}},encryptKey:{type:"string",id:7},status:{type:"Status",id:8},deviceUuid:{type:"string",id:9},isManualLogin:{type:"bool",id:10},password:{type:"string",id:11},deviceName:{type:"string",id:12},resource:{type:"string",id:13},auth:{type:"string",id:14},serviceId:{type:"string",id:16},actionVersion:{type:"string",id:17},authToken:{type:"string",id:18},sessionId:{type:"string",id:20},reason:{type:"string",id:21}},nested:{OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}},CompressType:{values:{COMPRESS_NONE:0,COMPRESS_ZLIB:1}}}},MUCBody:{fields:{mucId:{type:"JID",id:1},operation:{type:"Operation",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},setting:{type:"Setting",id:5},reason:{type:"string",id:6},isChatroom:{type:"bool",id:7},status:{type:"Status",id:8},isThread:{type:"bool",id:9},mucParentId:{type:"JID",id:10},mucName:{type:"string",id:11},eventInfo:{type:"EventInfo",id:12},mucMemberCount:{type:"int32",id:13},ext:{type:"string",id:14},leaveOtherRooms:{type:"bool",id:15}},nested:{Operation:{values:{CREATE:0,DESTROY:1,JOIN:2,LEAVE:3,APPLY:4,APPLY_ACCEPT:5,APPLY_DECLINE:6,INVITE:7,INVITE_ACCEPT:8,INVITE_DECLINE:9,KICK:10,GET_BLACKLIST:11,BAN:12,ALLOW:13,UPDATE:14,BLOCK:15,UNBLOCK:16,PRESENCE:17,ABSENCE:18,DIRECT_JOINED:19,ASSIGN_OWNER:20,ADD_ADMIN:21,REMOVE_ADMIN:22,ADD_MUTE:23,REMOVE_MUTE:24,UPDATE_ANNOUNCEMENT:25,DELETE_ANNOUNCEMENT:26,UPLOAD_FILE:27,DELETE_FILE:28,ADD_USER_WHITE_LIST:29,REMOVE_USER_WHITE_LIST:30,BAN_GROUP:31,REMOVE_BAN_GROUP:32,THREAD_CREATE:33,THREAD_DESTROY:34,THREAD_JOIN:35,THREAD_LEAVE:36,THREAD_KICK:37,THREAD_UPDATE:38,THREAD_PRESENCE:39,THREAD_ABSENCE:40,DISABLE_GROUP:41,ABLE_GROUP:42,SET_METADATA:43,DELETE_METADATA:44,GROUP_MEMBER_METADATA_UPDATE:45}},Setting:{fields:{name:{type:"string",id:1},desc:{type:"string",id:2},type:{type:"Type",id:3},maxUsers:{type:"int32",id:4},owner:{type:"string",id:5}},nested:{Type:{values:{PRIVATE_OWNER_INVITE:0,PRIVATE_MEMBER_INVITE:1,PUBLIC_JOIN_APPROVAL:2,PUBLIC_JOIN_OPEN:3,PUBLIC_ANONYMOUS:4}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,PERMISSION_DENIED:1,WRONG_PARAMETER:2,MUC_NOT_EXIST:3,USER_NOT_EXIST:4,UNKNOWN:5}}}},EventInfo:{fields:{eventType:{type:"EventType",id:1,options:{default:"EVENT_NONE"}},ext:{type:"string",id:2}},nested:{EventType:{values:{EVENT_NONE:0,CIRCLE_CHANNEL:1}}}}}},RosterBody:{fields:{operation:{type:"Operation",id:1},status:{type:"Status",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},reason:{type:"string",id:5},rosterVer:{type:"string",id:6},biDirection:{type:"bool",id:7}},nested:{Operation:{values:{GET_ROSTER:0,GET_BLACKLIST:1,ADD:2,REMOVE:3,ACCEPT:4,DECLINE:5,BAN:6,ALLOW:7,REMOTE_ACCEPT:8,REMOTE_DECLINE:9}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,USER_NOT_EXIST:1,USER_ALREADY_FRIEND:2,USER_ALREADY_BLACKLIST:3}}}}}},StatisticsBody:{fields:{operation:{type:"Operation",id:1},os:{type:"OsType",id:2},version:{type:"string",id:3},network:{type:"NetworkType",id:4},imTime:{type:"uint32",id:5},chatTime:{type:"uint32",id:6},location:{type:"string",id:7},reason:{type:"string",id:10}},nested:{Operation:{values:{INFORMATION:0,USER_REMOVED:1,USER_LOGIN_ANOTHER_DEVICE:2,USER_KICKED_BY_CHANGE_PASSWORD:3,USER_KICKED_BY_OTHER_DEVICE:4}},OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}}}}}}}}}});Q.prototype.root=me;var ge=p.kg.getLogger("defaultLogger");ge.setConfig({useCache:!1,maxCache:3145728,color:"",background:""}),ge.enableAll(),Q.prototype._getSock=function(){if(this.isHttpDNS){var e=this.socketHost[this.hostIndex];if(!e)throw this.times=1,this.autoReconnectNumTotal=0,this.hostIndex=0,this.onClosed&&this.onClosed(),new Error("No connected domain name when get websocket.");var n=e.domain,r=e.ip,o="",i=e.port;o=n||r,i&&"80"!==i&&"443"!==i&&(o+=":"+i),o&&(this.url="//"+o+"/ws");var a=this.https?"https:":"http:";this.url=a+this.url}return this.connectionTimer&&clearTimeout(this.connectionTimer),new(t())(this.url,null,{timeout:3e4})},Q.prototype.getUniqueId=l.P6.getUniqueId;var ve={connection:Q,message:fe.Message,utils:l.P6,logger:ge,statusCode:d.E};"undefined"!=typeof window&&(window.WebIM=ve);var ye=ve}(),r}();const lF=iO(cF.exports),uF=window.localStorage.getItem("webimConfig"),dF=uF&&JSON.parse(uF)||{},hF=new lF.connection({appKey:dF.appKey?dF.appKey:"1144240528210153#travel-plus",isHttpDNS:!dF.isPrivate,url:dF.imServer?dF.imServer:"//im-api-v2.easemob.com/ws",apiUrl:dF.restServer?`${dF.restServer}:${dF.port}`:"//a1.easemob.com"});var pF={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(e,t){(function(){var n,r="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",a=16,s=32,c=64,l=128,u=256,d=1/0,h=9007199254740991,p=NaN,f=4294967295,m=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",s],["partialRight",c],["rearg",u]],g="[object Arguments]",v="[object Array]",y="[object Boolean]",_="[object Date]",E="[object Error]",b="[object Function]",T="[object GeneratorFunction]",S="[object Map]",w="[object Number]",C="[object Object]",R="[object Promise]",I="[object RegExp]",A="[object Set]",O="[object String]",N="[object Symbol]",k="[object WeakMap]",D="[object ArrayBuffer]",x="[object DataView]",P="[object Float32Array]",M="[object Float64Array]",L="[object Int8Array]",U="[object Int16Array]",j="[object Int32Array]",V="[object Uint8Array]",B="[object Uint8ClampedArray]",z="[object Uint16Array]",F="[object Uint32Array]",H=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,Y=RegExp(q.source),X=RegExp(K.source),$=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),oe=/^\s+/,ie=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ee=/($^)/,be=/['\n\r\u2028\u2029\\]/g,Te="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",we="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Re="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="[']",Ne="["+Te+"]",ke="["+Ae+"]",De="["+Se+"]",xe="\\d+",Pe="["+we+"]",Me="["+Ce+"]",Le="[^"+Te+Ae+xe+we+Ce+Re+"]",Ue="\\ud83c[\\udffb-\\udfff]",je="[^"+Te+"]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Re+"]",Fe="\\u200d",He="(?:"+Me+"|"+Le+")",Ge="(?:"+ze+"|"+Le+")",We="(?:['](?:d|ll|m|re|s|t|ve))?",qe="(?:['](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+De+"|"+Ue+")"+"?",Ye="["+Ie+"]?",Xe=Ye+Ke+("(?:"+Fe+"(?:"+[je,Ve,Be].join("|")+")"+Ye+Ke+")*"),$e="(?:"+[Pe,Ve,Be].join("|")+")"+Xe,Je="(?:"+[je+De+"?",De,Ve,Be,Ne].join("|")+")",Ze=RegExp(Oe,"g"),Qe=RegExp(De,"g"),et=RegExp(Ue+"(?="+Ue+")|"+Je+Xe,"g"),tt=RegExp([ze+"?"+Me+"+"+We+"(?="+[ke,ze,"$"].join("|")+")",Ge+"+"+qe+"(?="+[ke,ze+He,"$"].join("|")+")",ze+"?"+He+"+"+We,ze+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xe,$e].join("|"),"g"),nt=RegExp("["+Fe+Te+Se+Ie+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,at={};at[P]=at[M]=at[L]=at[U]=at[j]=at[V]=at[B]=at[z]=at[F]=!0,at[g]=at[v]=at[D]=at[y]=at[x]=at[_]=at[E]=at[b]=at[S]=at[w]=at[C]=at[I]=at[A]=at[O]=at[k]=!1;var st={};st[g]=st[v]=st[D]=st[x]=st[y]=st[_]=st[P]=st[M]=st[L]=st[U]=st[j]=st[S]=st[w]=st[C]=st[I]=st[A]=st[O]=st[N]=st[V]=st[B]=st[z]=st[F]=!0,st[E]=st[b]=st[k]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ut=parseInt,dt="object"==typeof oO&&oO&&oO.Object===Object&&oO,ht="object"==typeof self&&self&&self.Object===Object&&self,pt=dt||ht||Function("return this")(),ft=t&&!t.nodeType&&t,mt=ft&&e&&!e.nodeType&&e,gt=mt&&mt.exports===ft,vt=gt&&dt.process,yt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(kk){}}(),_t=yt&&yt.isArrayBuffer,Et=yt&&yt.isDate,bt=yt&&yt.isMap,Tt=yt&&yt.isRegExp,St=yt&&yt.isSet,wt=yt&&yt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Rt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function kt(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Dt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function xt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Pt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Mt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Lt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=Wt("length");function Vt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Bt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function zt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,Ht,n)}function Ft(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Ht(e){return e!=e}function Gt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:p}function Wt(e){return function(t){return null==t?n:t[e]}}function qt(e){return function(t){return null==e?n:e[t]}}function Kt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Yt(e,t){for(var r,o=-1,i=e.length;++o<i;){var a=t(e[o]);a!==n&&(r=r===n?a:r+a)}return r}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function $t(e){return e?e.slice(0,pn(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function Zt(e,t){return xt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}var nn=qt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),rn=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ct[e]}function an(e){return nt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,o=0,a=[];++n<r;){var s=e[n];s!==t&&s!==i||(e[n]=i,a[o++]=n)}return a}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){return an(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):jt(e)}function hn(e){return an(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function pn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var fn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var ie=(t=null==t?pt:mn.defaults(pt.Object(),t,mn.pick(pt,ot))).Array,Te=t.Date,Se=t.Error,we=t.Function,Ce=t.Math,Re=t.Object,Ie=t.RegExp,Ae=t.String,Oe=t.TypeError,Ne=ie.prototype,ke=we.prototype,De=Re.prototype,xe=t["__core-js_shared__"],Pe=ke.toString,Me=De.hasOwnProperty,Le=0,Ue=function(){var e=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),je=De.toString,Ve=Pe.call(Re),Be=pt._,ze=Ie("^"+Pe.call(Me).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=gt?t.Buffer:n,He=t.Symbol,Ge=t.Uint8Array,We=Fe?Fe.allocUnsafe:n,qe=cn(Re.getPrototypeOf,Re),Ke=Re.create,Ye=De.propertyIsEnumerable,Xe=Ne.splice,$e=He?He.isConcatSpreadable:n,Je=He?He.iterator:n,et=He?He.toStringTag:n,nt=function(){try{var e=di(Re,"defineProperty");return e({},"",{}),e}catch(kk){}}(),ct=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,dt=Te&&Te.now!==pt.Date.now&&Te.now,ht=t.setTimeout!==pt.setTimeout&&t.setTimeout,ft=Ce.ceil,mt=Ce.floor,vt=Re.getOwnPropertySymbols,yt=Fe?Fe.isBuffer:n,jt=t.isFinite,qt=Ne.join,gn=cn(Re.keys,Re),vn=Ce.max,yn=Ce.min,_n=Te.now,En=t.parseInt,bn=Ce.random,Tn=Ne.reverse,Sn=di(t,"DataView"),wn=di(t,"Map"),Cn=di(t,"Promise"),Rn=di(t,"Set"),In=di(t,"WeakMap"),An=di(Re,"create"),On=In&&new In,Nn={},kn=Ui(Sn),Dn=Ui(wn),xn=Ui(Cn),Pn=Ui(Rn),Mn=Ui(In),Ln=He?He.prototype:n,Un=Ln?Ln.valueOf:n,jn=Ln?Ln.toString:n;function Vn(e){if(es(e)&&!Ha(e)&&!(e instanceof Hn)){if(e instanceof Fn)return e;if(Me.call(e,"__wrapped__"))return ji(e)}return new Fn(e)}var Bn=function(){function e(){}return function(t){if(!Qa(t))return{};if(Ke)return Ke(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function zn(){}function Fn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Xn(e,t){var n=Ha(e),r=!n&&Fa(e),o=!n&&!r&&Ka(e),i=!n&&!r&&!o&&cs(e),a=n||r||o||i,s=a?Xt(e.length,Ae):[],c=s.length;for(var l in e)!t&&!Me.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||yi(l,c))||s.push(l);return s}function $n(e){var t=e.length;return t?e[Kr(0,t-1)]:n}function Jn(e,t){return Pi(Oo(e),ar(t,0,e.length))}function Zn(e){return Pi(Oo(e))}function Qn(e,t,r){(r!==n&&!Va(e[t],r)||r===n&&!(t in e))&&or(e,t,r)}function er(e,t,r){var o=e[t];Me.call(e,t)&&Va(o,r)&&(r!==n||t in e)||or(e,t,r)}function tr(e,t){for(var n=e.length;n--;)if(Va(e[n][0],t))return n;return-1}function nr(e,t,n,r){return dr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function rr(e,t){return e&&No(t,Ns(t),e)}function or(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var r=-1,o=t.length,i=ie(o),a=null==e;++r<o;)i[r]=a?n:Cs(e,t[r]);return i}function ar(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function sr(e,t,r,o,i,a){var s,c=1&t,l=2&t,u=4&t;if(r&&(s=i?r(e,o,i,a):r(e)),s!==n)return s;if(!Qa(e))return e;var d=Ha(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return Oo(e,s)}else{var h=fi(e),p=h==b||h==T;if(Ka(e))return So(e,c);if(h==C||h==g||p&&!i){if(s=l||p?{}:gi(e),!c)return l?function(e,t){return No(e,pi(e),t)}(e,function(e,t){return e&&No(t,ks(t),e)}(s,e)):function(e,t){return No(e,hi(e),t)}(e,rr(s,e))}else{if(!st[h])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case D:return wo(e);case y:case _:return new r(+e);case x:return function(e,t){var n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case P:case M:case L:case U:case j:case V:case B:case z:case F:return Co(e,n);case S:return new r;case w:case O:return new r(e);case I:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new r;case N:return o=e,Un?Re(Un.call(o)):{}}var o}(e,h,c)}}a||(a=new Yn);var f=a.get(e);if(f)return f;a.set(e,s),is(e)?e.forEach((function(n){s.add(sr(n,t,r,n,e,a))})):ts(e)&&e.forEach((function(n,o){s.set(o,sr(n,t,r,o,e,a))}));var m=d?n:(u?l?oi:ri:l?ks:Ns)(e);return It(m||e,(function(n,o){m&&(n=e[o=n]),er(s,o,sr(n,t,r,o,e,a))})),s}function cr(e,t,r){var o=r.length;if(null==e)return!o;for(e=Re(e);o--;){var i=r[o],a=t[i],s=e[i];if(s===n&&!(i in e)||!a(s))return!1}return!0}function lr(e,t,o){if("function"!=typeof e)throw new Oe(r);return Ni((function(){e.apply(n,o)}),t)}function ur(e,t,n,r){var o=-1,i=kt,a=!0,s=e.length,c=[],l=t.length;if(!s)return c;n&&(t=xt(t,Jt(n))),r?(i=Dt,a=!1):t.length>=200&&(i=Qt,a=!1,t=new Kn(t));e:for(;++o<s;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d==d){for(var h=l;h--;)if(t[h]===d)continue e;c.push(u)}else i(t,d,r)||c.push(u)}return c}Vn.templateSettings={escape:$,evaluate:J,interpolate:Z,variable:"",imports:{_:Vn}},Vn.prototype=zn.prototype,Vn.prototype.constructor=Vn,Fn.prototype=Bn(zn.prototype),Fn.prototype.constructor=Fn,Hn.prototype=Bn(zn.prototype),Hn.prototype.constructor=Hn,Gn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(An){var r=t[e];return r===o?n:r}return Me.call(t,e)?t[e]:n},Gn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==n:Me.call(t,e)},Gn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=An&&t===n?o:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,r=tr(t,e);return r<0?n:t[r][1]},Wn.prototype.has=function(e){return tr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(wn||Wn),string:new Gn}},qn.prototype.delete=function(e){var t=li(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return li(this,e).get(e)},qn.prototype.has=function(e){return li(this,e).has(e)},qn.prototype.set=function(e,t){var n=li(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,o),this},Kn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!wn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var dr=xo(_r),hr=xo(Er,!0);function pr(e,t){var n=!0;return dr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function fr(e,t,r){for(var o=-1,i=e.length;++o<i;){var a=e[o],s=t(a);if(null!=s&&(c===n?s==s&&!ss(s):r(s,c)))var c=s,l=a}return l}function mr(e,t){var n=[];return dr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function gr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=vi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?gr(s,t-1,n,r,o):Pt(o,s):r||(o[o.length]=s)}return o}var vr=Po(),yr=Po(!0);function _r(e,t){return e&&vr(e,t,Ns)}function Er(e,t){return e&&yr(e,t,Ns)}function br(e,t){return Nt(t,(function(t){return $a(e[t])}))}function Tr(e,t){for(var r=0,o=(t=_o(t,e)).length;null!=e&&r<o;)e=e[Li(t[r++])];return r&&r==o?e:n}function Sr(e,t,n){var r=t(e);return Ha(e)?r:Pt(r,n(e))}function wr(e){return null==e?e===n?"[object Undefined]":"[object Null]":et&&et in Re(e)?function(e){var t=Me.call(e,et),r=e[et];try{e[et]=n;var o=!0}catch(kk){}var i=je.call(e);o&&(t?e[et]=r:delete e[et]);return i}(e):function(e){return je.call(e)}(e)}function Cr(e,t){return e>t}function Rr(e,t){return null!=e&&Me.call(e,t)}function Ir(e,t){return null!=e&&t in Re(e)}function Ar(e,t,r){for(var o=r?Dt:kt,i=e[0].length,a=e.length,s=a,c=ie(a),l=1/0,u=[];s--;){var d=e[s];s&&t&&(d=xt(d,Jt(t))),l=yn(d.length,l),c[s]=!r&&(t||i>=120&&d.length>=120)?new Kn(s&&d):n}d=e[0];var h=-1,p=c[0];e:for(;++h<i&&u.length<l;){var f=d[h],m=t?t(f):f;if(f=r||0!==f?f:0,!(p?Qt(p,m):o(u,m,r))){for(s=a;--s;){var g=c[s];if(!(g?Qt(g,m):o(e[s],m,r)))continue e}p&&p.push(m),u.push(f)}}return u}function Or(e,t,r){var o=null==(e=Ii(e,t=_o(t,e)))?e:e[Li(Xi(t))];return null==o?n:Ct(o,e,r)}function Nr(e){return es(e)&&wr(e)==g}function kr(e,t,r,o,i){return e===t||(null==e||null==t||!es(e)&&!es(t)?e!=e&&t!=t:function(e,t,r,o,i,a){var s=Ha(e),c=Ha(t),l=s?v:fi(e),u=c?v:fi(t),d=(l=l==g?C:l)==C,h=(u=u==g?C:u)==C,p=l==u;if(p&&Ka(e)){if(!Ka(t))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new Yn),s||cs(e)?ti(e,t,r,o,i,a):function(e,t,n,r,o,i,a){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!i(new Ge(e),new Ge(t)));case y:case _:case w:return Va(+e,+t);case E:return e.name==t.name&&e.message==t.message;case I:case O:return e==t+"";case S:var s=sn;case A:var c=1&r;if(s||(s=un),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var u=ti(s(e),s(t),r,o,i,a);return a.delete(e),u;case N:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,l,r,o,i,a);if(!(1&r)){var f=d&&Me.call(e,"__wrapped__"),m=h&&Me.call(t,"__wrapped__");if(f||m){var b=f?e.value():e,T=m?t.value():t;return a||(a=new Yn),i(b,T,r,o,a)}}if(!p)return!1;return a||(a=new Yn),function(e,t,r,o,i,a){var s=1&r,c=ri(e),l=c.length,u=ri(t),d=u.length;if(l!=d&&!s)return!1;var h=l;for(;h--;){var p=c[h];if(!(s?p in t:Me.call(t,p)))return!1}var f=a.get(e),m=a.get(t);if(f&&m)return f==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);var v=s;for(;++h<l;){var y=e[p=c[h]],_=t[p];if(o)var E=s?o(_,y,p,t,e,a):o(y,_,p,e,t,a);if(!(E===n?y===_||i(y,_,r,o,a):E)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var b=e.constructor,T=t.constructor;b==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof T&&T instanceof T||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,r,o,i,a)}(e,t,r,o,kr,i))}function Dr(e,t,r,o){var i=r.length,a=i,s=!o;if(null==e)return!a;for(e=Re(e);i--;){var c=r[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var l=(c=r[i])[0],u=e[l],d=c[1];if(s&&c[2]){if(u===n&&!(l in e))return!1}else{var h=new Yn;if(o)var p=o(u,d,l,e,t,h);if(!(p===n?kr(d,u,3,o,h):p))return!1}}return!0}function xr(e){return!(!Qa(e)||function(e){return!!Ue&&Ue in e}(e))&&($a(e)?ze:ge).test(Ui(e))}function Pr(e){return"function"==typeof e?e:null==e?nc:"object"==typeof e?Ha(e)?Br(e[0],e[1]):Vr(e):dc(e)}function Mr(e){if(!Si(e))return gn(e);var t=[];for(var n in Re(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!Qa(e))return function(e){var t=[];if(null!=e)for(var n in Re(e))t.push(n);return t}(e);var t=Si(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function jr(e,t){var n=-1,r=Wa(e)?ie(e.length):[];return dr(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function Vr(e){var t=ui(e);return 1==t.length&&t[0][2]?Ci(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Br(e,t){return Ei(e)&&wi(t)?Ci(Li(e),t):function(r){var o=Cs(r,e);return o===n&&o===t?Rs(r,e):kr(t,o,3)}}function zr(e,t,r,o,i){e!==t&&vr(t,(function(a,s){if(i||(i=new Yn),Qa(a))!function(e,t,r,o,i,a,s){var c=Ai(e,r),l=Ai(t,r),u=s.get(l);if(u)return void Qn(e,r,u);var d=a?a(c,l,r+"",e,t,s):n,h=d===n;if(h){var p=Ha(l),f=!p&&Ka(l),m=!p&&!f&&cs(l);d=l,p||f||m?Ha(c)?d=c:qa(c)?d=Oo(c):f?(h=!1,d=So(l,!0)):m?(h=!1,d=Co(l,!0)):d=[]:rs(l)||Fa(l)?(d=c,Fa(c)?d=gs(c):Qa(c)&&!$a(c)||(d=gi(l))):h=!1}h&&(s.set(l,d),i(d,l,o,a,s),s.delete(l));Qn(e,r,d)}(e,t,s,r,zr,o,i);else{var c=o?o(Ai(e,s),a,s+"",e,t,i):n;c===n&&(c=a),Qn(e,s,c)}}),ks)}function Fr(e,t){var r=e.length;if(r)return yi(t+=t<0?r:0,r)?e[t]:n}function Hr(e,t,n){t=t.length?xt(t,(function(e){return Ha(e)?function(t){return Tr(t,1===e.length?e[0]:e)}:e})):[nc];var r=-1;return t=xt(t,Jt(ci())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(jr(e,(function(e,n,o){return{criteria:xt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var c=Ro(o[r],i[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Tr(e,a);n(s,a)&&Zr(i,_o(a,e),s)}return i}function Wr(e,t,n,r){var o=r?Ft:zt,i=-1,a=t.length,s=e;for(e===t&&(t=Oo(t)),n&&(s=xt(e,Jt(n)));++i<a;)for(var c=0,l=t[i],u=n?n(l):l;(c=o(s,u,c,r))>-1;)s!==e&&Xe.call(s,c,1),Xe.call(e,c,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;yi(o)?Xe.call(e,o,1):uo(e,o)}}return e}function Kr(e,t){return e+mt(bn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return ki(Ri(e,t,nc),e+"")}function $r(e){return $n(Vs(e))}function Jr(e,t){var n=Vs(e);return Pi(n,ar(t,0,n.length))}function Zr(e,t,r,o){if(!Qa(e))return e;for(var i=-1,a=(t=_o(t,e)).length,s=a-1,c=e;null!=c&&++i<a;){var l=Li(t[i]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var d=c[l];(u=o?o(d,l,c):n)===n&&(u=Qa(d)?d:yi(t[i+1])?[]:{})}er(c,l,u),c=c[l]}return e}var Qr=On?function(e,t){return On.set(e,t),e}:nc,eo=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:Qs(t),writable:!0})}:nc;function to(e){return Pi(Vs(e))}function no(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=ie(o);++r<o;)i[r]=e[r+t];return i}function ro(e,t){var n;return dr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function oo(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!ss(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return io(e,t,nc,n)}function io(e,t,r,o){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!=t,c=null===t,l=ss(t),u=t===n;i<a;){var d=mt((i+a)/2),h=r(e[d]),p=h!==n,f=null===h,m=h==h,g=ss(h);if(s)var v=o||m;else v=u?m&&(o||p):c?m&&p&&(o||!f):l?m&&p&&!f&&(o||!g):!f&&!g&&(o?h<=t:h<t);v?i=d+1:a=d}return yn(a,4294967294)}function ao(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Va(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function so(e){return"number"==typeof e?e:ss(e)?p:+e}function co(e){if("string"==typeof e)return e;if(Ha(e))return xt(e,co)+"";if(ss(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function lo(e,t,n){var r=-1,o=kt,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=Dt;else if(i>=200){var l=t?null:Xo(e);if(l)return un(l);a=!1,o=Qt,c=new Kn}else c=t?[]:s;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),s.push(u)}else o(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}function uo(e,t){return null==(e=Ii(e,t=_o(t,e)))||delete e[Li(Xi(t))]}function ho(e,t,n,r){return Zr(e,t,n(Tr(e,t)),r)}function po(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?no(e,r?0:i,r?i+1:o):no(e,r?i+1:0,r?o:i)}function fo(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Pt([e],t.args))}),n)}function mo(e,t,n){var r=e.length;if(r<2)return r?lo(e[0]):[];for(var o=-1,i=ie(r);++o<r;)for(var a=e[o],s=-1;++s<r;)s!=o&&(i[o]=ur(i[o]||a,e[s],t,n));return lo(gr(i,1),t,n)}function go(e,t,r){for(var o=-1,i=e.length,a=t.length,s={};++o<i;){var c=o<a?t[o]:n;r(s,e[o],c)}return s}function vo(e){return qa(e)?e:[]}function yo(e){return"function"==typeof e?e:nc}function _o(e,t){return Ha(e)?e:Ei(e,t)?[e]:Mi(vs(e))}var Eo=Xr;function bo(e,t,r){var o=e.length;return r=r===n?o:r,!t&&r>=o?e:no(e,t,r)}var To=ct||function(e){return pt.clearTimeout(e)};function So(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function wo(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function Co(e,t){var n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ro(e,t){if(e!==t){var r=e!==n,o=null===e,i=e==e,a=ss(e),s=t!==n,c=null===t,l=t==t,u=ss(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||o&&s&&l||!r&&l||!i)return 1;if(!o&&!a&&!u&&e<t||u&&r&&i&&!o&&!a||c&&r&&i||!s&&i||!l)return-1}return 0}function Io(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,c=t.length,l=vn(i-a,0),u=ie(c+l),d=!r;++s<c;)u[s]=t[s];for(;++o<a;)(d||o<i)&&(u[n[o]]=e[o]);for(;l--;)u[s++]=e[o++];return u}function Ao(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,c=-1,l=t.length,u=vn(i-s,0),d=ie(u+l),h=!r;++o<u;)d[o]=e[o];for(var p=o;++c<l;)d[p+c]=t[c];for(;++a<s;)(h||o<i)&&(d[p+n[a]]=e[o++]);return d}function Oo(e,t){var n=-1,r=e.length;for(t||(t=ie(r));++n<r;)t[n]=e[n];return t}function No(e,t,r,o){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var c=t[a],l=o?o(r[c],e[c],c,r,e):n;l===n&&(l=e[c]),i?or(r,c,l):er(r,c,l)}return r}function ko(e,t){return function(n,r){var o=Ha(n)?Rt:nr,i=t?t():{};return o(n,e,ci(r,2),i)}}function Do(e){return Xr((function(t,r){var o=-1,i=r.length,a=i>1?r[i-1]:n,s=i>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(i--,a):n,s&&_i(r[0],r[1],s)&&(a=i<3?n:a,i=1),t=Re(t);++o<i;){var c=r[o];c&&e(t,c,o,a)}return t}))}function xo(e,t){return function(n,r){if(null==n)return n;if(!Wa(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Re(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Po(e){return function(t,n,r){for(var o=-1,i=Re(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}function Mo(e){return function(t){var r=an(t=vs(t))?hn(t):n,o=r?r[0]:t.charAt(0),i=r?bo(r,1).join(""):t.slice(1);return o[e]()+i}}function Lo(e){return function(t){return Mt($s(Fs(t).replace(Ze,"")),e,"")}}function Uo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return Qa(r)?r:n}}function jo(e){return function(t,r,o){var i=Re(t);if(!Wa(t)){var a=ci(r,3);t=Ns(t),r=function(e){return a(i[e],e,i)}}var s=e(t,r,o);return s>-1?i[a?t[s]:s]:n}}function Vo(e){return ni((function(t){var o=t.length,i=o,a=Fn.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new Oe(r);if(a&&!c&&"wrapper"==ai(s))var c=new Fn([],!0)}for(i=c?i:o;++i<o;){var l=ai(s=t[i]),u="wrapper"==l?ii(s):n;c=u&&bi(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[ai(u[0])].apply(c,u[3]):1==s.length&&bi(s)?c[l]():c.thru(s)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Ha(n))return c.plant(n).value();for(var r=0,i=o?t[r].apply(this,e):n;++r<o;)i=t[r].call(this,i);return i}}))}function Bo(e,t,r,o,i,a,s,c,u,d){var h=t&l,p=1&t,f=2&t,m=24&t,g=512&t,v=f?n:Uo(e);return function l(){for(var y=arguments.length,_=ie(y),E=y;E--;)_[E]=arguments[E];if(m)var b=si(l),T=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,b);if(o&&(_=Io(_,o,i,m)),a&&(_=Ao(_,a,s,m)),y-=T,m&&y<d){var S=ln(_,b);return Ko(e,t,Bo,l.placeholder,r,_,S,c,u,d-y)}var w=p?r:this,C=f?w[e]:e;return y=_.length,c?_=function(e,t){var r=e.length,o=yn(t.length,r),i=Oo(e);for(;o--;){var a=t[o];e[o]=yi(a,r)?i[a]:n}return e}(_,c):g&&y>1&&_.reverse(),h&&u<y&&(_.length=u),this&&this!==pt&&this instanceof l&&(C=v||Uo(C)),C.apply(w,_)}}function zo(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Fo(e,t){return function(r,o){var i;if(r===n&&o===n)return t;if(r!==n&&(i=r),o!==n){if(i===n)return o;"string"==typeof r||"string"==typeof o?(r=co(r),o=co(o)):(r=so(r),o=so(o)),i=e(r,o)}return i}}function Ho(e){return ni((function(t){return t=xt(t,Jt(ci())),Xr((function(n){var r=this;return e(t,(function(e){return Ct(e,r,n)}))}))}))}function Go(e,t){var r=(t=t===n?" ":co(t)).length;if(r<2)return r?Yr(t,e):t;var o=Yr(t,ft(e/dn(t)));return an(t)?bo(hn(o),0,e).join(""):o.slice(0,e)}function Wo(e){return function(t,r,o){return o&&"number"!=typeof o&&_i(t,r,o)&&(r=o=n),t=hs(t),r===n?(r=t,t=0):r=hs(r),function(e,t,n,r){for(var o=-1,i=vn(ft((t-e)/(n||1)),0),a=ie(i);i--;)a[r?i:++o]=e,e+=n;return a}(t,r,o=o===n?t<r?1:-1:hs(o),e)}}function qo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function Ko(e,t,r,o,i,a,l,u,d,h){var p=8&t;t|=p?s:c,4&(t&=~(p?c:s))||(t&=-4);var f=[e,t,i,p?a:n,p?l:n,p?n:a,p?n:l,u,d,h],m=r.apply(n,f);return bi(e)&&Oi(m,f),m.placeholder=o,Di(m,e,t)}function Yo(e){var t=Ce[e];return function(e,n){if(e=ms(e),(n=null==n?0:yn(ps(n),292))&&jt(e)){var r=(vs(e)+"e").split("e");return+((r=(vs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Xo=Rn&&1/un(new Rn([,-0]))[1]==d?function(e){return new Rn(e)}:sc;function $o(e){return function(t){var n=fi(t);return n==S?sn(t):n==A?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return xt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Jo(e,t,o,d,h,p,f,m){var g=2&t;if(!g&&"function"!=typeof e)throw new Oe(r);var v=d?d.length:0;if(v||(t&=-97,d=h=n),f=f===n?f:vn(ps(f),0),m=m===n?m:ps(m),v-=h?h.length:0,t&c){var y=d,_=h;d=h=n}var E=g?n:ii(e),b=[e,t,o,d,h,y,_,p,f,m];if(E&&function(e,t){var n=e[1],r=t[1],o=n|r,a=o<131,s=r==l&&8==n||r==l&&n==u&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var d=e[3];e[3]=d?Io(d,c,t[4]):c,e[4]=d?ln(e[3],i):t[4]}(c=t[5])&&(d=e[5],e[5]=d?Ao(d,c,t[6]):c,e[6]=d?ln(e[5],i):t[6]);(c=t[7])&&(e[7]=c);r&l&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(b,E),e=b[0],t=b[1],o=b[2],d=b[3],h=b[4],!(m=b[9]=b[9]===n?g?0:e.length:vn(b[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||t==a?function(e,t,r){var o=Uo(e);return function i(){for(var a=arguments.length,s=ie(a),c=a,l=si(i);c--;)s[c]=arguments[c];var u=a<3&&s[0]!==l&&s[a-1]!==l?[]:ln(s,l);return(a-=u.length)<r?Ko(e,t,Bo,i.placeholder,n,s,u,n,n,r-a):Ct(this&&this!==pt&&this instanceof i?o:e,this,s)}}(e,t,m):t!=s&&33!=t||h.length?Bo.apply(n,b):function(e,t,n,r){var o=1&t,i=Uo(e);return function t(){for(var a=-1,s=arguments.length,c=-1,l=r.length,u=ie(l+s),d=this&&this!==pt&&this instanceof t?i:e;++c<l;)u[c]=r[c];for(;s--;)u[c++]=arguments[++a];return Ct(d,o?n:this,u)}}(e,t,o,d);else var T=function(e,t,n){var r=1&t,o=Uo(e);return function t(){return(this&&this!==pt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,o);return Di((E?Qr:Oi)(T,b),e,t)}function Zo(e,t,r,o){return e===n||Va(e,De[r])&&!Me.call(o,r)?t:e}function Qo(e,t,r,o,i,a){return Qa(e)&&Qa(t)&&(a.set(t,e),zr(e,t,n,Qo,a),a.delete(t)),e}function ei(e){return rs(e)?n:e}function ti(e,t,r,o,i,a){var s=1&r,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var h=-1,p=!0,f=2&r?new Kn:n;for(a.set(e,t),a.set(t,e);++h<c;){var m=e[h],g=t[h];if(o)var v=s?o(g,m,h,t,e,a):o(m,g,h,e,t,a);if(v!==n){if(v)continue;p=!1;break}if(f){if(!Ut(t,(function(e,t){if(!Qt(f,t)&&(m===e||i(m,e,r,o,a)))return f.push(t)}))){p=!1;break}}else if(m!==g&&!i(m,g,r,o,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function ni(e){return ki(Ri(e,n,Gi),e+"")}function ri(e){return Sr(e,Ns,hi)}function oi(e){return Sr(e,ks,pi)}var ii=On?function(e){return On.get(e)}:sc;function ai(e){for(var t=e.name+"",n=Nn[t],r=Me.call(Nn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function si(e){return(Me.call(Vn,"placeholder")?Vn:e).placeholder}function ci(){var e=Vn.iteratee||rc;return e=e===rc?Pr:e,arguments.length?e(arguments[0],arguments[1]):e}function li(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ui(e){for(var t=Ns(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,wi(o)]}return t}function di(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return xr(r)?r:n}var hi=vt?function(e){return null==e?[]:(e=Re(e),Nt(vt(e),(function(t){return Ye.call(e,t)})))}:fc,pi=vt?function(e){for(var t=[];e;)Pt(t,hi(e)),e=qe(e);return t}:fc,fi=wr;function mi(e,t,n){for(var r=-1,o=(t=_o(t,e)).length,i=!1;++r<o;){var a=Li(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Za(o)&&yi(a,o)&&(Ha(e)||Fa(e))}function gi(e){return"function"!=typeof e.constructor||Si(e)?{}:Bn(qe(e))}function vi(e){return Ha(e)||Fa(e)||!!($e&&e&&e[$e])}function yi(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function _i(e,t,n){if(!Qa(n))return!1;var r=typeof t;return!!("number"==r?Wa(n)&&yi(t,n.length):"string"==r&&t in n)&&Va(n[t],e)}function Ei(e,t){if(Ha(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ss(e))||(ee.test(e)||!Q.test(e)||null!=t&&e in Re(t))}function bi(e){var t=ai(e),n=Vn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=ii(n);return!!r&&e===r[0]}(Sn&&fi(new Sn(new ArrayBuffer(1)))!=x||wn&&fi(new wn)!=S||Cn&&fi(Cn.resolve())!=R||Rn&&fi(new Rn)!=A||In&&fi(new In)!=k)&&(fi=function(e){var t=wr(e),r=t==C?e.constructor:n,o=r?Ui(r):"";if(o)switch(o){case kn:return x;case Dn:return S;case xn:return R;case Pn:return A;case Mn:return k}return t});var Ti=xe?$a:mc;function Si(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function wi(e){return e==e&&!Qa(e)}function Ci(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Re(r)))}}function Ri(e,t,r){return t=vn(t===n?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=vn(n.length-t,0),a=ie(i);++o<i;)a[o]=n[t+o];o=-1;for(var s=ie(t+1);++o<t;)s[o]=n[o];return s[t]=r(a),Ct(e,this,s)}}function Ii(e,t){return t.length<2?e:Tr(e,no(t,0,-1))}function Ai(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oi=xi(Qr),Ni=ht||function(e,t){return pt.setTimeout(e,t)},ki=xi(eo);function Di(e,t,n){var r=t+"";return ki(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return It(m,(function(n){var r="_."+n[0];t&n[1]&&!kt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ce):[]}(r),n)))}function xi(e){var t=0,r=0;return function(){var o=_n(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Pi(e,t){var r=-1,o=e.length,i=o-1;for(t=t===n?o:t;++r<t;){var a=Kr(r,i),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var Mi=function(e){var t=xa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,o){t.push(r?o.replace(de,"$1"):n||e)})),t}));function Li(e){if("string"==typeof e||ss(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ui(e){if(null!=e){try{return Pe.call(e)}catch(kk){}try{return e+""}catch(kk){}}return""}function ji(e){if(e instanceof Hn)return e.clone();var t=new Fn(e.__wrapped__,e.__chain__);return t.__actions__=Oo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vi=Xr((function(e,t){return qa(e)?ur(e,gr(t,1,qa,!0)):[]})),Bi=Xr((function(e,t){var r=Xi(t);return qa(r)&&(r=n),qa(e)?ur(e,gr(t,1,qa,!0),ci(r,2)):[]})),zi=Xr((function(e,t){var r=Xi(t);return qa(r)&&(r=n),qa(e)?ur(e,gr(t,1,qa,!0),n,r):[]}));function Fi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ps(n);return o<0&&(o=vn(r+o,0)),Bt(e,ci(t,3),o)}function Hi(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o-1;return r!==n&&(i=ps(r),i=r<0?vn(o+i,0):yn(i,o-1)),Bt(e,ci(t,3),i,!0)}function Gi(e){return(null==e?0:e.length)?gr(e,1):[]}function Wi(e){return e&&e.length?e[0]:n}var qi=Xr((function(e){var t=xt(e,vo);return t.length&&t[0]===e[0]?Ar(t):[]})),Ki=Xr((function(e){var t=Xi(e),r=xt(e,vo);return t===Xi(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Ar(r,ci(t,2)):[]})),Yi=Xr((function(e){var t=Xi(e),r=xt(e,vo);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Ar(r,n,t):[]}));function Xi(e){var t=null==e?0:e.length;return t?e[t-1]:n}var $i=Xr(Ji);function Ji(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var Zi=ni((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return qr(e,xt(t,(function(e){return yi(e,n)?+e:e})).sort(Ro)),r}));function Qi(e){return null==e?e:Tn.call(e)}var ea=Xr((function(e){return lo(gr(e,1,qa,!0))})),ta=Xr((function(e){var t=Xi(e);return qa(t)&&(t=n),lo(gr(e,1,qa,!0),ci(t,2))})),na=Xr((function(e){var t=Xi(e);return t="function"==typeof t?t:n,lo(gr(e,1,qa,!0),n,t)}));function ra(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(qa(e))return t=vn(e.length,t),!0})),Xt(t,(function(t){return xt(e,Wt(t))}))}function oa(e,t){if(!e||!e.length)return[];var r=ra(e);return null==t?r:xt(r,(function(e){return Ct(t,n,e)}))}var ia=Xr((function(e,t){return qa(e)?ur(e,t):[]})),aa=Xr((function(e){return mo(Nt(e,qa))})),sa=Xr((function(e){var t=Xi(e);return qa(t)&&(t=n),mo(Nt(e,qa),ci(t,2))})),ca=Xr((function(e){var t=Xi(e);return t="function"==typeof t?t:n,mo(Nt(e,qa),n,t)})),la=Xr(ra);var ua=Xr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,oa(e,r)}));function da(e){var t=Vn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var pa=ni((function(e){var t=e.length,r=t?e[0]:0,o=this.__wrapped__,i=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&o instanceof Hn&&yi(r)?((o=o.slice(r,+r+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:n}),new Fn(o,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(i)}));var fa=ko((function(e,t,n){Me.call(e,n)?++e[n]:or(e,n,1)}));var ma=jo(Fi),ga=jo(Hi);function va(e,t){return(Ha(e)?It:dr)(e,ci(t,3))}function ya(e,t){return(Ha(e)?At:hr)(e,ci(t,3))}var _a=ko((function(e,t,n){Me.call(e,n)?e[n].push(t):or(e,n,[t])}));var Ea=Xr((function(e,t,n){var r=-1,o="function"==typeof t,i=Wa(e)?ie(e.length):[];return dr(e,(function(e){i[++r]=o?Ct(t,e,n):Or(e,t,n)})),i})),ba=ko((function(e,t,n){or(e,n,t)}));function Ta(e,t){return(Ha(e)?xt:jr)(e,ci(t,3))}var Sa=ko((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var wa=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_i(e,t[0],t[1])?t=[]:n>2&&_i(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,gr(t,1),[])})),Ca=dt||function(){return pt.Date.now()};function Ra(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Jo(e,l,n,n,n,n,t)}function Ia(e,t){var o;if("function"!=typeof t)throw new Oe(r);return e=ps(e),function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=n),o}}var Aa=Xr((function(e,t,n){var r=1;if(n.length){var o=ln(n,si(Aa));r|=s}return Jo(e,r,t,n,o)})),Oa=Xr((function(e,t,n){var r=3;if(n.length){var o=ln(n,si(Oa));r|=s}return Jo(t,r,e,n,o)}));function Na(e,t,o){var i,a,s,c,l,u,d=0,h=!1,p=!1,f=!0;if("function"!=typeof e)throw new Oe(r);function m(t){var r=i,o=a;return i=a=n,d=t,c=e.apply(o,r)}function g(e){var r=e-u;return u===n||r>=t||r<0||p&&e-d>=s}function v(){var e=Ca();if(g(e))return y(e);l=Ni(v,function(e){var n=t-(e-u);return p?yn(n,s-(e-d)):n}(e))}function y(e){return l=n,f&&i?m(e):(i=a=n,c)}function _(){var e=Ca(),r=g(e);if(i=arguments,a=this,u=e,r){if(l===n)return function(e){return d=e,l=Ni(v,t),h?m(e):c}(u);if(p)return To(l),l=Ni(v,t),m(u)}return l===n&&(l=Ni(v,t)),c}return t=ms(t)||0,Qa(o)&&(h=!!o.leading,s=(p="maxWait"in o)?vn(ms(o.maxWait)||0,t):s,f="trailing"in o?!!o.trailing:f),_.cancel=function(){l!==n&&To(l),d=0,i=u=a=l=n},_.flush=function(){return l===n?c:y(Ca())},_}var ka=Xr((function(e,t){return lr(e,1,t)})),Da=Xr((function(e,t,n){return lr(e,ms(t)||0,n)}));function xa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(r);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(xa.Cache||qn),n}function Pa(e){if("function"!=typeof e)throw new Oe(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xa.Cache=qn;var Ma=Eo((function(e,t){var n=(t=1==t.length&&Ha(t[0])?xt(t[0],Jt(ci())):xt(gr(t,1),Jt(ci()))).length;return Xr((function(r){for(var o=-1,i=yn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Ct(e,this,r)}))})),La=Xr((function(e,t){var r=ln(t,si(La));return Jo(e,s,n,t,r)})),Ua=Xr((function(e,t){var r=ln(t,si(Ua));return Jo(e,c,n,t,r)})),ja=ni((function(e,t){return Jo(e,u,n,n,n,t)}));function Va(e,t){return e===t||e!=e&&t!=t}var Ba=qo(Cr),za=qo((function(e,t){return e>=t})),Fa=Nr(function(){return arguments}())?Nr:function(e){return es(e)&&Me.call(e,"callee")&&!Ye.call(e,"callee")},Ha=ie.isArray,Ga=_t?Jt(_t):function(e){return es(e)&&wr(e)==D};function Wa(e){return null!=e&&Za(e.length)&&!$a(e)}function qa(e){return es(e)&&Wa(e)}var Ka=yt||mc,Ya=Et?Jt(Et):function(e){return es(e)&&wr(e)==_};function Xa(e){if(!es(e))return!1;var t=wr(e);return t==E||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!rs(e)}function $a(e){if(!Qa(e))return!1;var t=wr(e);return t==b||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ja(e){return"number"==typeof e&&e==ps(e)}function Za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function Qa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function es(e){return null!=e&&"object"==typeof e}var ts=bt?Jt(bt):function(e){return es(e)&&fi(e)==S};function ns(e){return"number"==typeof e||es(e)&&wr(e)==w}function rs(e){if(!es(e)||wr(e)!=C)return!1;var t=qe(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==Ve}var os=Tt?Jt(Tt):function(e){return es(e)&&wr(e)==I};var is=St?Jt(St):function(e){return es(e)&&fi(e)==A};function as(e){return"string"==typeof e||!Ha(e)&&es(e)&&wr(e)==O}function ss(e){return"symbol"==typeof e||es(e)&&wr(e)==N}var cs=wt?Jt(wt):function(e){return es(e)&&Za(e.length)&&!!at[wr(e)]};var ls=qo(Ur),us=qo((function(e,t){return e<=t}));function ds(e){if(!e)return[];if(Wa(e))return as(e)?hn(e):Oo(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=fi(e);return(t==S?sn:t==A?un:Vs)(e)}function hs(e){return e?(e=ms(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ps(e){var t=hs(e),n=t%1;return t==t?n?t-n:t:0}function fs(e){return e?ar(ps(e),0,f):0}function ms(e){if("number"==typeof e)return e;if(ss(e))return p;if(Qa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$t(e);var n=me.test(e);return n||ve.test(e)?ut(e.slice(2),n?2:8):fe.test(e)?p:+e}function gs(e){return No(e,ks(e))}function vs(e){return null==e?"":co(e)}var ys=Do((function(e,t){if(Si(t)||Wa(t))No(t,Ns(t),e);else for(var n in t)Me.call(t,n)&&er(e,n,t[n])})),_s=Do((function(e,t){No(t,ks(t),e)})),Es=Do((function(e,t,n,r){No(t,ks(t),e,r)})),bs=Do((function(e,t,n,r){No(t,Ns(t),e,r)})),Ts=ni(ir);var Ss=Xr((function(e,t){e=Re(e);var r=-1,o=t.length,i=o>2?t[2]:n;for(i&&_i(t[0],t[1],i)&&(o=1);++r<o;)for(var a=t[r],s=ks(a),c=-1,l=s.length;++c<l;){var u=s[c],d=e[u];(d===n||Va(d,De[u])&&!Me.call(e,u))&&(e[u]=a[u])}return e})),ws=Xr((function(e){return e.push(n,Qo),Ct(xs,n,e)}));function Cs(e,t,r){var o=null==e?n:Tr(e,t);return o===n?r:o}function Rs(e,t){return null!=e&&mi(e,t,Ir)}var Is=zo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),Qs(nc)),As=zo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),ci),Os=Xr(Or);function Ns(e){return Wa(e)?Xn(e):Mr(e)}function ks(e){return Wa(e)?Xn(e,!0):Lr(e)}var Ds=Do((function(e,t,n){zr(e,t,n)})),xs=Do((function(e,t,n,r){zr(e,t,n,r)})),Ps=ni((function(e,t){var n={};if(null==e)return n;var r=!1;t=xt(t,(function(t){return t=_o(t,e),r||(r=t.length>1),t})),No(e,oi(e),n),r&&(n=sr(n,7,ei));for(var o=t.length;o--;)uo(n,t[o]);return n}));var Ms=ni((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Rs(e,n)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var n=xt(oi(e),(function(e){return[e]}));return t=ci(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Us=$o(Ns),js=$o(ks);function Vs(e){return null==e?[]:Zt(e,Ns(e))}var Bs=Lo((function(e,t,n){return t=t.toLowerCase(),e+(n?zs(t):t)}));function zs(e){return Xs(vs(e).toLowerCase())}function Fs(e){return(e=vs(e))&&e.replace(_e,nn).replace(Qe,"")}var Hs=Lo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gs=Lo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ws=Mo("toLowerCase");var qs=Lo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ks=Lo((function(e,t,n){return e+(n?" ":"")+Xs(t)}));var Ys=Lo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xs=Mo("toUpperCase");function $s(e,t,r){return e=vs(e),(t=r?n:t)===n?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Js=Xr((function(e,t){try{return Ct(e,n,t)}catch(kk){return Xa(kk)?kk:new Se(kk)}})),Zs=ni((function(e,t){return It(t,(function(t){t=Li(t),or(e,t,Aa(e[t],e))})),e}));function Qs(e){return function(){return e}}var ec=Vo(),tc=Vo(!0);function nc(e){return e}function rc(e){return Pr("function"==typeof e?e:sr(e,1))}var oc=Xr((function(e,t){return function(n){return Or(n,e,t)}})),ic=Xr((function(e,t){return function(n){return Or(e,n,t)}}));function ac(e,t,n){var r=Ns(t),o=br(t,r);null!=n||Qa(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=br(t,Ns(t)));var i=!(Qa(n)&&"chain"in n&&!n.chain),a=$a(e);return It(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Oo(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Pt([this.value()],arguments))})})),e}function sc(){}var cc=Ho(xt),lc=Ho(Ot),uc=Ho(Ut);function dc(e){return Ei(e)?Wt(Li(e)):function(e){return function(t){return Tr(t,e)}}(e)}var hc=Wo(),pc=Wo(!0);function fc(){return[]}function mc(){return!1}var gc=Fo((function(e,t){return e+t}),0),vc=Yo("ceil"),yc=Fo((function(e,t){return e/t}),1),_c=Yo("floor");var Ec,bc=Fo((function(e,t){return e*t}),1),Tc=Yo("round"),Sc=Fo((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new Oe(r);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Ra,Vn.assign=ys,Vn.assignIn=_s,Vn.assignInWith=Es,Vn.assignWith=bs,Vn.at=Ts,Vn.before=Ia,Vn.bind=Aa,Vn.bindAll=Zs,Vn.bindKey=Oa,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ha(e)?e:[e]},Vn.chain=da,Vn.chunk=function(e,t,r){t=(r?_i(e,t,r):t===n)?1:vn(ps(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,a=0,s=ie(ft(o/t));i<o;)s[a++]=no(e,i,i+=t);return s},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ie(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Pt(Ha(n)?Oo(n):[n],gr(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=ci();return e=t?xt(e,(function(e){if("function"!=typeof e[1])throw new Oe(r);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Ct(o[0],this,n))return Ct(o[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=Ns(e);return function(n){return cr(n,e,t)}}(sr(e,1))},Vn.constant=Qs,Vn.countBy=fa,Vn.create=function(e,t){var n=Bn(e);return null==t?n:rr(n,t)},Vn.curry=function e(t,r,o){var i=Jo(t,8,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},Vn.curryRight=function e(t,r,o){var i=Jo(t,a,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},Vn.debounce=Na,Vn.defaults=Ss,Vn.defaultsDeep=ws,Vn.defer=ka,Vn.delay=Da,Vn.difference=Vi,Vn.differenceBy=Bi,Vn.differenceWith=zi,Vn.drop=function(e,t,r){var o=null==e?0:e.length;return o?no(e,(t=r||t===n?1:ps(t))<0?0:t,o):[]},Vn.dropRight=function(e,t,r){var o=null==e?0:e.length;return o?no(e,0,(t=o-(t=r||t===n?1:ps(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?po(e,ci(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?po(e,ci(t,3),!0):[]},Vn.fill=function(e,t,r,o){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&_i(e,t,r)&&(r=0,o=i),function(e,t,r,o){var i=e.length;for((r=ps(r))<0&&(r=-r>i?0:i+r),(o=o===n||o>i?i:ps(o))<0&&(o+=i),o=r>o?0:fs(o);r<o;)e[r++]=t;return e}(e,t,r,o)):[]},Vn.filter=function(e,t){return(Ha(e)?Nt:mr)(e,ci(t,3))},Vn.flatMap=function(e,t){return gr(Ta(e,t),1)},Vn.flatMapDeep=function(e,t){return gr(Ta(e,t),d)},Vn.flatMapDepth=function(e,t,r){return r=r===n?1:ps(r),gr(Ta(e,t),r)},Vn.flatten=Gi,Vn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,d):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===n?1:ps(t)):[]},Vn.flip=function(e){return Jo(e,512)},Vn.flow=ec,Vn.flowRight=tc,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Vn.functions=function(e){return null==e?[]:br(e,Ns(e))},Vn.functionsIn=function(e){return null==e?[]:br(e,ks(e))},Vn.groupBy=_a,Vn.initial=function(e){return(null==e?0:e.length)?no(e,0,-1):[]},Vn.intersection=qi,Vn.intersectionBy=Ki,Vn.intersectionWith=Yi,Vn.invert=Is,Vn.invertBy=As,Vn.invokeMap=Ea,Vn.iteratee=rc,Vn.keyBy=ba,Vn.keys=Ns,Vn.keysIn=ks,Vn.map=Ta,Vn.mapKeys=function(e,t){var n={};return t=ci(t,3),_r(e,(function(e,r,o){or(n,t(e,r,o),e)})),n},Vn.mapValues=function(e,t){var n={};return t=ci(t,3),_r(e,(function(e,r,o){or(n,r,t(e,r,o))})),n},Vn.matches=function(e){return Vr(sr(e,1))},Vn.matchesProperty=function(e,t){return Br(e,sr(t,1))},Vn.memoize=xa,Vn.merge=Ds,Vn.mergeWith=xs,Vn.method=oc,Vn.methodOf=ic,Vn.mixin=ac,Vn.negate=Pa,Vn.nthArg=function(e){return e=ps(e),Xr((function(t){return Fr(t,e)}))},Vn.omit=Ps,Vn.omitBy=function(e,t){return Ls(e,Pa(ci(t)))},Vn.once=function(e){return Ia(2,e)},Vn.orderBy=function(e,t,r,o){return null==e?[]:(Ha(t)||(t=null==t?[]:[t]),Ha(r=o?n:r)||(r=null==r?[]:[r]),Hr(e,t,r))},Vn.over=cc,Vn.overArgs=Ma,Vn.overEvery=lc,Vn.overSome=uc,Vn.partial=La,Vn.partialRight=Ua,Vn.partition=Sa,Vn.pick=Ms,Vn.pickBy=Ls,Vn.property=dc,Vn.propertyOf=function(e){return function(t){return null==e?n:Tr(e,t)}},Vn.pull=$i,Vn.pullAll=Ji,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,ci(n,2)):e},Vn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Wr(e,t,n,r):e},Vn.pullAt=Zi,Vn.range=hc,Vn.rangeRight=pc,Vn.rearg=ja,Vn.reject=function(e,t){return(Ha(e)?Nt:mr)(e,Pa(ci(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ci(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return qr(e,o),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new Oe(r);return Xr(e,t=t===n?t:ps(t))},Vn.reverse=Qi,Vn.sampleSize=function(e,t,r){return t=(r?_i(e,t,r):t===n)?1:ps(t),(Ha(e)?Jn:Jr)(e,t)},Vn.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Vn.setWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:Zr(e,t,r,o)},Vn.shuffle=function(e){return(Ha(e)?Zn:to)(e)},Vn.slice=function(e,t,r){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&_i(e,t,r)?(t=0,r=o):(t=null==t?0:ps(t),r=r===n?o:ps(r)),no(e,t,r)):[]},Vn.sortBy=wa,Vn.sortedUniq=function(e){return e&&e.length?ao(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?ao(e,ci(t,2)):[]},Vn.split=function(e,t,r){return r&&"number"!=typeof r&&_i(e,t,r)&&(t=r=n),(r=r===n?f:r>>>0)?(e=vs(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=co(t))&&an(e)?bo(hn(e),0,r):e.split(t,r):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new Oe(r);return t=null==t?0:vn(ps(t),0),Xr((function(n){var r=n[t],o=bo(n,0,t);return r&&Pt(o,r),Ct(e,this,o)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?no(e,1,t):[]},Vn.take=function(e,t,r){return e&&e.length?no(e,0,(t=r||t===n?1:ps(t))<0?0:t):[]},Vn.takeRight=function(e,t,r){var o=null==e?0:e.length;return o?no(e,(t=o-(t=r||t===n?1:ps(t)))<0?0:t,o):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?po(e,ci(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?po(e,ci(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new Oe(r);return Qa(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Na(e,t,{leading:o,maxWait:t,trailing:i})},Vn.thru=ha,Vn.toArray=ds,Vn.toPairs=Us,Vn.toPairsIn=js,Vn.toPath=function(e){return Ha(e)?xt(e,Li):ss(e)?[e]:Oo(Mi(vs(e)))},Vn.toPlainObject=gs,Vn.transform=function(e,t,n){var r=Ha(e),o=r||Ka(e)||cs(e);if(t=ci(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Qa(e)&&$a(i)?Bn(qe(e)):{}}return(o?It:_r)(e,(function(e,r,o){return t(n,e,r,o)})),n},Vn.unary=function(e){return Ra(e,1)},Vn.union=ea,Vn.unionBy=ta,Vn.unionWith=na,Vn.uniq=function(e){return e&&e.length?lo(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?lo(e,ci(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?lo(e,n,t):[]},Vn.unset=function(e,t){return null==e||uo(e,t)},Vn.unzip=ra,Vn.unzipWith=oa,Vn.update=function(e,t,n){return null==e?e:ho(e,t,yo(n))},Vn.updateWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:ho(e,t,yo(r),o)},Vn.values=Vs,Vn.valuesIn=function(e){return null==e?[]:Zt(e,ks(e))},Vn.without=ia,Vn.words=$s,Vn.wrap=function(e,t){return La(yo(t),e)},Vn.xor=aa,Vn.xorBy=sa,Vn.xorWith=ca,Vn.zip=la,Vn.zipObject=function(e,t){return go(e||[],t||[],er)},Vn.zipObjectDeep=function(e,t){return go(e||[],t||[],Zr)},Vn.zipWith=ua,Vn.entries=Us,Vn.entriesIn=js,Vn.extend=_s,Vn.extendWith=Es,ac(Vn,Vn),Vn.add=gc,Vn.attempt=Js,Vn.camelCase=Bs,Vn.capitalize=zs,Vn.ceil=vc,Vn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=ms(r))==r?r:0),t!==n&&(t=(t=ms(t))==t?t:0),ar(ms(e),t,r)},Vn.clone=function(e){return sr(e,4)},Vn.cloneDeep=function(e){return sr(e,5)},Vn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:n)},Vn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:n)},Vn.conformsTo=function(e,t){return null==t||cr(e,t,Ns(t))},Vn.deburr=Fs,Vn.defaultTo=function(e,t){return null==e||e!=e?t:e},Vn.divide=yc,Vn.endsWith=function(e,t,r){e=vs(e),t=co(t);var o=e.length,i=r=r===n?o:ar(ps(r),0,o);return(r-=t.length)>=0&&e.slice(r,i)==t},Vn.eq=Va,Vn.escape=function(e){return(e=vs(e))&&X.test(e)?e.replace(K,rn):e},Vn.escapeRegExp=function(e){return(e=vs(e))&&re.test(e)?e.replace(ne,"\\$&"):e},Vn.every=function(e,t,r){var o=Ha(e)?Ot:pr;return r&&_i(e,t,r)&&(t=n),o(e,ci(t,3))},Vn.find=ma,Vn.findIndex=Fi,Vn.findKey=function(e,t){return Vt(e,ci(t,3),_r)},Vn.findLast=ga,Vn.findLastIndex=Hi,Vn.findLastKey=function(e,t){return Vt(e,ci(t,3),Er)},Vn.floor=_c,Vn.forEach=va,Vn.forEachRight=ya,Vn.forIn=function(e,t){return null==e?e:vr(e,ci(t,3),ks)},Vn.forInRight=function(e,t){return null==e?e:yr(e,ci(t,3),ks)},Vn.forOwn=function(e,t){return e&&_r(e,ci(t,3))},Vn.forOwnRight=function(e,t){return e&&Er(e,ci(t,3))},Vn.get=Cs,Vn.gt=Ba,Vn.gte=za,Vn.has=function(e,t){return null!=e&&mi(e,t,Rr)},Vn.hasIn=Rs,Vn.head=Wi,Vn.identity=nc,Vn.includes=function(e,t,n,r){e=Wa(e)?e:Vs(e),n=n&&!r?ps(n):0;var o=e.length;return n<0&&(n=vn(o+n,0)),as(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&zt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ps(n);return o<0&&(o=vn(r+o,0)),zt(e,t,o)},Vn.inRange=function(e,t,r){return t=hs(t),r===n?(r=t,t=0):r=hs(r),function(e,t,n){return e>=yn(t,n)&&e<vn(t,n)}(e=ms(e),t,r)},Vn.invoke=Os,Vn.isArguments=Fa,Vn.isArray=Ha,Vn.isArrayBuffer=Ga,Vn.isArrayLike=Wa,Vn.isArrayLikeObject=qa,Vn.isBoolean=function(e){return!0===e||!1===e||es(e)&&wr(e)==y},Vn.isBuffer=Ka,Vn.isDate=Ya,Vn.isElement=function(e){return es(e)&&1===e.nodeType&&!rs(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(Wa(e)&&(Ha(e)||"string"==typeof e||"function"==typeof e.splice||Ka(e)||cs(e)||Fa(e)))return!e.length;var t=fi(e);if(t==S||t==A)return!e.size;if(Si(e))return!Mr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return kr(e,t)},Vn.isEqualWith=function(e,t,r){var o=(r="function"==typeof r?r:n)?r(e,t):n;return o===n?kr(e,t,n,r):!!o},Vn.isError=Xa,Vn.isFinite=function(e){return"number"==typeof e&&jt(e)},Vn.isFunction=$a,Vn.isInteger=Ja,Vn.isLength=Za,Vn.isMap=ts,Vn.isMatch=function(e,t){return e===t||Dr(e,t,ui(t))},Vn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Dr(e,t,ui(t),r)},Vn.isNaN=function(e){return ns(e)&&e!=+e},Vn.isNative=function(e){if(Ti(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=ns,Vn.isObject=Qa,Vn.isObjectLike=es,Vn.isPlainObject=rs,Vn.isRegExp=os,Vn.isSafeInteger=function(e){return Ja(e)&&e>=-9007199254740991&&e<=h},Vn.isSet=is,Vn.isString=as,Vn.isSymbol=ss,Vn.isTypedArray=cs,Vn.isUndefined=function(e){return e===n},Vn.isWeakMap=function(e){return es(e)&&fi(e)==k},Vn.isWeakSet=function(e){return es(e)&&"[object WeakSet]"==wr(e)},Vn.join=function(e,t){return null==e?"":qt.call(e,t)},Vn.kebabCase=Hs,Vn.last=Xi,Vn.lastIndexOf=function(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o;return r!==n&&(i=(i=ps(r))<0?vn(o+i,0):yn(i,o-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Bt(e,Ht,i,!0)},Vn.lowerCase=Gs,Vn.lowerFirst=Ws,Vn.lt=ls,Vn.lte=us,Vn.max=function(e){return e&&e.length?fr(e,nc,Cr):n},Vn.maxBy=function(e,t){return e&&e.length?fr(e,ci(t,2),Cr):n},Vn.mean=function(e){return Gt(e,nc)},Vn.meanBy=function(e,t){return Gt(e,ci(t,2))},Vn.min=function(e){return e&&e.length?fr(e,nc,Ur):n},Vn.minBy=function(e,t){return e&&e.length?fr(e,ci(t,2),Ur):n},Vn.stubArray=fc,Vn.stubFalse=mc,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=bc,Vn.nth=function(e,t){return e&&e.length?Fr(e,ps(t)):n},Vn.noConflict=function(){return pt._===this&&(pt._=Be),this},Vn.noop=sc,Vn.now=Ca,Vn.pad=function(e,t,n){e=vs(e);var r=(t=ps(t))?dn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Go(mt(o),n)+e+Go(ft(o),n)},Vn.padEnd=function(e,t,n){e=vs(e);var r=(t=ps(t))?dn(e):0;return t&&r<t?e+Go(t-r,n):e},Vn.padStart=function(e,t,n){e=vs(e);var r=(t=ps(t))?dn(e):0;return t&&r<t?Go(t-r,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),En(vs(e).replace(oe,""),t||0)},Vn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&_i(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=hs(e),t===n?(t=e,e=0):t=hs(t)),e>t){var o=e;e=t,t=o}if(r||e%1||t%1){var i=bn();return yn(e+i*(t-e+lt("1e-"+((i+"").length-1))),t)}return Kr(e,t)},Vn.reduce=function(e,t,n){var r=Ha(e)?Mt:Kt,o=arguments.length<3;return r(e,ci(t,4),n,o,dr)},Vn.reduceRight=function(e,t,n){var r=Ha(e)?Lt:Kt,o=arguments.length<3;return r(e,ci(t,4),n,o,hr)},Vn.repeat=function(e,t,r){return t=(r?_i(e,t,r):t===n)?1:ps(t),Yr(vs(e),t)},Vn.replace=function(){var e=arguments,t=vs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,r){var o=-1,i=(t=_o(t,e)).length;for(i||(i=1,e=n);++o<i;){var a=null==e?n:e[Li(t[o])];a===n&&(o=i,a=r),e=$a(a)?a.call(e):a}return e},Vn.round=Tc,Vn.runInContext=e,Vn.sample=function(e){return(Ha(e)?$n:$r)(e)},Vn.size=function(e){if(null==e)return 0;if(Wa(e))return as(e)?dn(e):e.length;var t=fi(e);return t==S||t==A?e.size:Mr(e).length},Vn.snakeCase=qs,Vn.some=function(e,t,r){var o=Ha(e)?Ut:ro;return r&&_i(e,t,r)&&(t=n),o(e,ci(t,3))},Vn.sortedIndex=function(e,t){return oo(e,t)},Vn.sortedIndexBy=function(e,t,n){return io(e,t,ci(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oo(e,t);if(r<n&&Va(e[r],t))return r}return-1},Vn.sortedLastIndex=function(e,t){return oo(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return io(e,t,ci(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oo(e,t,!0)-1;if(Va(e[n],t))return n}return-1},Vn.startCase=Ks,Vn.startsWith=function(e,t,n){return e=vs(e),n=null==n?0:ar(ps(n),0,e.length),t=co(t),e.slice(n,n+t.length)==t},Vn.subtract=Sc,Vn.sum=function(e){return e&&e.length?Yt(e,nc):0},Vn.sumBy=function(e,t){return e&&e.length?Yt(e,ci(t,2)):0},Vn.template=function(e,t,r){var o=Vn.templateSettings;r&&_i(e,t,r)&&(t=n),e=vs(e),t=Es({},t,o,Zo);var i,a,s=Es({},t.imports,o.imports,Zo),c=Ns(s),l=Zt(s,c),u=0,d=t.interpolate||Ee,h="__p += '",p=Ie((t.escape||Ee).source+"|"+d.source+"|"+(d===Z?he:Ee).source+"|"+(t.evaluate||Ee).source+"|$","g"),f="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(p,(function(t,n,r,o,s,c){return r||(r=o),h+=e.slice(u,c).replace(be,on),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),h+="';\n";var m=Me.call(t,"variable")&&t.variable;if(m){if(ue.test(m))throw new Se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(H,""):h).replace(G,"$1").replace(W,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Js((function(){return we(c,f+"return "+h).apply(n,l)}));if(g.source=h,Xa(g))throw g;return g},Vn.times=function(e,t){if((e=ps(e))<1||e>h)return[];var n=f,r=yn(e,f);t=ci(t),e-=f;for(var o=Xt(r,t);++n<e;)t(n);return o},Vn.toFinite=hs,Vn.toInteger=ps,Vn.toLength=fs,Vn.toLower=function(e){return vs(e).toLowerCase()},Vn.toNumber=ms,Vn.toSafeInteger=function(e){return e?ar(ps(e),-9007199254740991,h):0===e?e:0},Vn.toString=vs,Vn.toUpper=function(e){return vs(e).toUpperCase()},Vn.trim=function(e,t,r){if((e=vs(e))&&(r||t===n))return $t(e);if(!e||!(t=co(t)))return e;var o=hn(e),i=hn(t);return bo(o,en(o,i),tn(o,i)+1).join("")},Vn.trimEnd=function(e,t,r){if((e=vs(e))&&(r||t===n))return e.slice(0,pn(e)+1);if(!e||!(t=co(t)))return e;var o=hn(e);return bo(o,0,tn(o,hn(t))+1).join("")},Vn.trimStart=function(e,t,r){if((e=vs(e))&&(r||t===n))return e.replace(oe,"");if(!e||!(t=co(t)))return e;var o=hn(e);return bo(o,en(o,hn(t))).join("")},Vn.truncate=function(e,t){var r=30,o="...";if(Qa(t)){var i="separator"in t?t.separator:i;r="length"in t?ps(t.length):r,o="omission"in t?co(t.omission):o}var a=(e=vs(e)).length;if(an(e)){var s=hn(e);a=s.length}if(r>=a)return e;var c=r-dn(o);if(c<1)return o;var l=s?bo(s,0,c).join(""):e.slice(0,c);if(i===n)return l+o;if(s&&(c+=l.length-c),os(i)){if(e.slice(c).search(i)){var u,d=l;for(i.global||(i=Ie(i.source,vs(pe.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var h=u.index;l=l.slice(0,h===n?c:h)}}else if(e.indexOf(co(i),c)!=c){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+o},Vn.unescape=function(e){return(e=vs(e))&&Y.test(e)?e.replace(q,fn):e},Vn.uniqueId=function(e){var t=++Le;return vs(e)+t},Vn.upperCase=Ys,Vn.upperFirst=Xs,Vn.each=va,Vn.eachRight=ya,Vn.first=Wi,ac(Vn,(Ec={},_r(Vn,(function(e,t){Me.call(Vn.prototype,t)||(Ec[t]=e)})),Ec),{chain:!1}),Vn.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),It(["drop","take"],(function(e,t){Hn.prototype[e]=function(r){r=r===n?1:vn(ps(r),0);var o=this.__filtered__&&!t?new Hn(this):this.clone();return o.__filtered__?o.__takeCount__=yn(r,o.__takeCount__):o.__views__.push({size:yn(r,f),type:e+(o.__dir__<0?"Right":"")}),o},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ci(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),It(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),It(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(nc)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Or(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Pa(ci(e)))},Hn.prototype.slice=function(e,t){e=ps(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=ps(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(f)},_r(Hn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=Vn[o?"take"+("last"==t?"Right":""):t],a=o||/^find/.test(t);i&&(Vn.prototype[t]=function(){var t=this.__wrapped__,s=o?[1]:arguments,c=t instanceof Hn,l=s[0],u=c||Ha(t),d=function(e){var t=i.apply(Vn,Pt([e],s));return o&&h?t[0]:t};u&&r&&"function"==typeof l&&1!=l.length&&(c=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=a&&!h,m=c&&!p;if(!a&&u){t=m?t:new Hn(this);var g=e.apply(t,s);return g.__actions__.push({func:ha,args:[d],thisArg:n}),new Fn(g,h)}return f&&m?e.apply(this,s):(g=this.thru(d),f?o?g.value()[0]:g.value():g)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ha(o)?o:[],e)}return this[n]((function(n){return t.apply(Ha(n)?n:[],e)}))}})),_r(Hn.prototype,(function(e,t){var n=Vn[t];if(n){var r=n.name+"";Me.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Bo(n,2).name]=[{name:"wrapper",func:n}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Oo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oo(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ha(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=yn(t,e+a);break;case"takeRight":e=vn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,l=r?s:a-1,u=this.__iteratees__,d=u.length,h=0,p=yn(c,this.__takeCount__);if(!n||!r&&o==c&&p==c)return fo(e,this.__actions__);var f=[];e:for(;c--&&h<p;){for(var m=-1,g=e[l+=t];++m<d;){var v=u[m],y=v.iteratee,_=v.type,E=y(g);if(2==_)g=E;else if(!E){if(1==_)continue e;break e}}f[h++]=g}return f},Vn.prototype.at=pa,Vn.prototype.chain=function(){return da(this)},Vn.prototype.commit=function(){return new Fn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===n&&(this.__values__=ds(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,r=this;r instanceof zn;){var o=ji(r);o.__index__=0,o.__values__=n,t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[Qi],thisArg:n}),new Fn(t,this.__chain__)}return this.thru(Qi)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return fo(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Je&&(Vn.prototype[Je]=function(){return this}),Vn}();mt?((mt.exports=mn)._=mn,ft._=mn):pt._=mn}).call(oO)}(pF,pF.exports);const fF=iO(pF.exports),mF={0:{none:""},1:{"invalid password":"","login failed":"","user not found":""},17:{duplicate_unique_property_exists:"id",resource_limited:"",unauthorized:"",resource_not_found:""},28:{"appkey or token error":""},101:{"file exceeding maximum limit":"10M",none:""},217:{"the user was kicked by other device":""},602:{"not in group or chatroom":""},605:{"The chat room dose not exist.":""},221:{"not contact":","},400:{"UserId password error.":"","Please wait a moment while trying to send.":"","Image verification code error.":"","Image code id cannot be empty.":"","Phone number cannot be empty.":"","UserId hfp already exists.":"","phone number illegal":"","Please send SMS to get mobile phone verification code.":"","SMS verification code error.":""},603:{blocked:"",blacklist:"",already:""},504:{"exceed recall time limit":""},507:{muted:""},508:{moderation:""}},gF={SESSION_MESSAGE_TYPE:{img:"[]",file:"[]",audio:"[]",loc:"[]",video:"[]"},CUSTOM_TYPE:{userCard:""},ALL_MESSAGE_TYPE:{TEXT:"txt",IMAGE:"img",AUDIO:"audio",LOCAL:"loc",VIDEO:"video",FILE:"file",CUSTOM:"custom",CMD:"cmd",INFORM:"inform"},CHAT_TYPE:{SINGLE:"singleChat",GROUP:"groupChat"},MENTION_ALL:{TEXT:"",VALUE:"ALL"},CHANGE_MESSAGE_BODAY_TYPE:{RECALL:0,DELETE:1,MODIFY:2}},vF={INFORM_TYPE:{subscribe:"",subscribed:"",unsubscribed:"",other_person_refuse:"",other_person_agree:"",memberPresence:"",memberAbsence:"",inviteToJoin:"",removeMember:"",directJoined:"",updateAnnouncement:"",setAdmin:"",removeAdmin:"",muteMember:"",unmuteMember:"",destroy:"",requestToJoin:"",acceptRequest:"",updateInfo:"",memberAttributesUpdate:""},INFORM_FROM:{FRIEND:"friend",GROUP:"group"}};function yF(e,t=""){508===e&&(t="moderation"),507===e&&(t="muted");const n=mF[e]&&mF[e][t]||t;kL({title:"Easemob SDK Error",message:n,type:"error",center:!0})}const _F="/png/head-customer-VDEQYAKi.png",EF="/jpg/driver-BMYLe_H4.jpg",{SESSION_MESSAGE_TYPE:bF,CHAT_TYPE:TF,ALL_MESSAGE_TYPE:SF,CUSTOM_TYPE:wF}=gF,CF=e=>{const{type:t,msg:n}=e;let r="";return bF[t]?r=bF[t]:t===SF.CUSTOM?e.customEvent&&wF[e.customEvent]&&(r=wF[e.customEvent]):r=e.isRecall?"":n,r},RF=(e,t)=>{const{ext:n,type:r,from:o}=e,i="em_at_list";return!(!t||!(null==t?void 0:t.isMention))||(r===SF.TEXT?!(!n||!n[i])&&!!(n[i].includes(hF.user)||o!==hF.user&&"ALL"===n[i]):void 0)},IF=(e,t)=>{let n=t?t.unreadMessageNum:0;return e.from===hF.user||e.isRecall||e.read?n:t?e.modifiedInfo?n:n+1:1};const{CHAT_TYPE:AF}=gF;function OF(e){const t=hF.user;return e.chatType===AF.SINGLE&&e.to===t?e.from:e.to}const{INFORM_FROM:NF,INFORM_TYPE:kF}=vF;const{ALL_MESSAGE_TYPE:DF}=gF,xF=({msgType:e,msgOptions:t},n)=>({[DF.TEXT]:{chatType:t.chatType,type:e,to:t.id,msg:t.msg,ext:t.ext},[DF.IMAGE]:{chatType:t.chatType,type:e,to:t.id,file:t.file,width:t.width||0,height:t.height||0,ext:t.ext||{},url:"",thumb:"",secret:"",onFileUploadError:e=>{n(e)},onFileUploadProgress:e=>{},onFileUploadComplete:function(e){}},[DF.VIDEO]:{chatType:t.chatType,type:e,to:t.id,file:t.file,width:t.width||0,height:t.height||0,ext:t.ext||{},url:"",thumb:"",secret:"",onFileUploadError:e=>{n(e)},onFileUploadProgress:e=>{},onFileUploadComplete:function(e){}},[DF.FILE]:{chatType:t.chatType,type:e,to:t.id,file:t.file,filename:t.file&&t.file.filename,ext:{file_length:t.file&&t.file.size,...t.ext},onFileUploadError:function(e){n(e)},onFileUploadProgress:function(e){},onFileUploadComplete:function(){}},[DF.AUDIO]:{chatType:t.chatType,type:e,to:t.id,file:t.file,filename:t.file&&t.file.filename,length:t.length||0,ext:{...t.ext},onFileUploadError:function(e){n(e)},onFileUploadProgress:function(e){},onFileUploadComplete:function(){}},[DF.CUSTOM]:{chatType:t.chatType,type:e,to:t.id,customEvent:t.customEvent,customExts:t.customExts,ext:t.ext}}[e]),PF=e=>({[DF.TEXT]:{chatType:e.chatType,type:e.type,ext:e.ext||{},from:e.from||"",id:e.id,msg:e.msg,time:e.time,to:e.to},[DF.IMAGE]:{chatType:e.chatType,type:e.type,file:e.file,secret:e.secret,thumb:e.thumb,url:e.url,ext:e.ext||{},from:e.from||"",to:e.to,id:e.id,height:e.height,width:e.width,time:e.time},[DF.VIDEO]:{chatType:e.chatType,type:e.type,file:e.file,secret:e.secret,thumb:e.thumb,url:e.url,ext:e.ext||{},from:e.from||"",to:e.to,id:e.id,height:e.height,width:e.width,time:e.time},[DF.FILE]:{chatType:e.chatType,type:e.type,ext:e.ext||{},from:e.from||"",id:e.id,time:e.time,to:e.to,url:e.url,filename:e.filename,file_length:e.ext&&e.ext.file_length},[DF.AUDIO]:{chatType:e.chatType,type:e.type,ext:e.ext||{},from:e.from||"",id:e.id,time:e.time,to:e.to,url:e.url,length:e.length,filename:e.filename},[DF.CUSTOM]:{chatType:e.chatType,type:e.type,ext:e.ext||{},from:e.from||"",id:e.id,customEvent:e.customEvent,customExts:{...e.customExts},time:e.time,to:e.to}}[e.type]),MF=/^[\uD800-\uDBFF]$/,LF=/^[\uDC00-\uDFFF]$/,UF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var jF,VF;(VF=jF||(jF={}))[VF.Unknown=1e-13]="Unknown",VF[VF.Rule=1e-12]="Rule",VF[VF.DICT=2e-8]="DICT",VF[VF.Surname=1]="Surname",VF[VF.Custom=1]="Custom";const BF=1,zF=10,FF=100;function HF(e){var t;return e.length-((null===(t=e.match(UF))||void 0===t?void 0:t.length)||0)}function GF(e){const t=[];let n=0;for(;n<e.length;){const r=e[n];MF.test(r)&&LF.test(e[n+1])?(t.push(e.substring(n,n+2)),n+=2):(t.push(r),n+=1)}return t}class WF{constructor(){this.NumberDICT=[],this.StringDICT=new Map}get(e){if(e.length>1)return this.StringDICT.get(e);{const t=e.charCodeAt(0);return this.NumberDICT[t]}}set(e,t){if(e.length>1)this.StringDICT.set(e,t);else{const n=e.charCodeAt(0);this.NumberDICT[n]=t}}clear(){this.NumberDICT=[],this.StringDICT.clear()}}const qF={"bng png png":[""],"lng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng zhng":[""],"ko qio y":[""],"q":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"shng":["","","","","",""],"xi":["","","","","","","","","","","","",""],"hn":["","","","","",""],"wn m":[""],"zhng":["","","","","","","","","","","","","","","","","","","",""],"sn":["","","","","","","","",""],"shng shng shang":[""],"q j":["","",""],"b fu":[""],"y y y":[""],"min":["","","","","","","","","","","","","","","","","","","",""],"gi":["","","","","","","","","","","","","","",""],"chu":["","","","","","","","",""],"zhun":["","","","","","","","","","","","","","","","",""],"qi j":[""],"p":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"qi":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bng":["","","","","","","","","","","","","","","","","","","","",""],"y":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cng":["","","","","","","","","","","","","","","","","","","",""],"dng":["","","","","","","","","","","","","","","","","","","","","","","",""],"s":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"di":["","","",""],"ling":["","","","","","","","","","","","",""],"yu":["","","","","","","","","","","","","","","",""],"yn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bng":["","","","","","","","","","","","",""],"sng sng":[""],"gn":["","","","","","","","","","","","","","","",""],"ji":["","","","","","","","","","","","","","","",""],"g g":["","",""],"y":["","","","","","","","","","","","","","",""],"pn":["","","","","","","","","","","","","","","","",""],"zhng zhng":[""],"j":["","","","","","","","","","","","","","","","",""],"ji":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"fng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gun kung":[""],"chun":["","","","","",""],"chn":["","","","","","","","","","","","","","","","","","","","","","","","","",""],"ln":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zhu":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zh":["","","","","","","","","","","","","","","","","","","","",""],"b":["","","","","","","","","","","","","","","","","","",""],"wn":["","","","","","","","","","","","","","","","","",""],"dn":["","","","","","","","","","","","","","","","","","","","","","","",""],"wi wi":[""],"jng dn":[""],"l l":[""],"j":["","","","","","","","","","","","","","","","","","",""],"pi":["","","",""],"f":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y j":[""],"y":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ni":["","","","","","","","","",""],"w":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji":["","","","","","","","","","","","","","",""],"tu zh":["","",""],"me m ma yo":[""],"zh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"w w":[""],"zh":["","","","","","","","","","","","",""],"h":["","","","","","","","","","","","","","","","","","","","","","","","",""],"f":["","","","","","","","","","","","","","","","","",""],"l yu yo lo":["",""],"yn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"png":["","","","","","","","",""],"png":["","","","","",""],"qio":["","","","","","","","","","","","","","","","","","","","","","","",""],"h":["","","","","","",""],"gui":[""],"chng shng":["","",""],"y":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ho y":[""],"ni mi":[""],"q":["","","","","","","","","","","","","","","","","","","",""],"y":["","","","","","",""],"x":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xing":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"du":["","","","","","",""],"sh":["","","","","","","","","","","","","",""],"j":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"nng":["","","","",""],"ji":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"mo":["","","","","","","","","","",""],"mi":["","","","","",""],"lun":["","",""],"r":["","","","","",""],"xu":["","","","","","","","","","","","","","",""],"yn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"f":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh":["","","","","","","","","","","","","","","","","","","","","","",""],"n":["",""],"qin":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"su":["","","","","","","","","","","","","","","",""],"y":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zh":["","","","","","","",""],"qin gn":[""],"zh lun":[""],"gu":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ln ln":[""],"ju":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"le lio":[""],"g m":[""],"y y":["",""],"zhng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"r":["","","","","","","","","","",""],"ch":["","","","","","","","","","","","","","","","","","","","",""],"ku":["","","","","","","","","","",""],"yn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"q":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jng":["","","","","","","","","","","","","","","","","","","","","","",""],"s":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"su":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gn":["","","","",""],"y":["","","","","","","","","","","","","","","","","","","","","","",""],"xi su":[""],"q zhi":["",""],"y y":["","","","",""],"j q":["",""],"tu":["","","",""],"wng w":[""],"kng hng gng":[""],"d":["",""],"jio":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hi":["","","","","","","","",""],"hng png":[""],"m":["","","","","","","","","","","","","","","","","","",""],ye:[""],"xing":["","","","","","","","","","","","","","","",""],"jng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng":["","","","","","","","","","","","","","","","","","",""],"ling":["","","","","","","","","","",""],"qn qng":["",""],"b":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yu":["","","","","","","","","","","","","","","","","","","","","","",""],"xi":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dn dn":["",""],"lin":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"du":["","","","","","","","","","","","",""],"wi mn":["",""],"rn":["","","","","","","","","","",""],"j":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"wng":["","","","",""],"shn sh":[""],"l":["","","","","","","","","","","","","","",""],"dng":["","","","","","","","",""],"z":["","","","","","",""],"jn jn":["","",""],"p p":[""],"chu qi":[""],"zhng":["","","",""],"jn":["","","","","","","","","","","","","","","","","","","","","",""],"bng":["","","","","","","",""],"rng":["","","","",""],"f":["","",""],"jn sn":[""],"ln":["","","","","","","","","","","","","","","","","","","","","","",""],"cng":["","","","","","","","","","","","","","",""],"zi z z":[""],"t":["","","","","","","","","","",""],"f":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xin":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu ch du":[""],"hng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"rn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"qin":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gn hn":[""],"y g":[""],"di":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lng lng lng":[""],"cho":["","",""],"chng zhng":["","","",""],"s":[""],"chng":["","","","","","","","","","","","","","","","","","","",""],"y":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"m":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"men mn":[""],"fn":["","","",""],"cho mio":[""],"yng ng":[""],"zhng":["","","","","","","","","","","","","",""],"p p":[""],"w":["","","","","","","","","","","","","","","","","",""],"jin":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji ji jie":[""],"yo f":[""],"rn rn":[""],"fn bn":[""],"d":["","","","","","","","","","","","","","","","",""],"fng":["","","","","","","","","","","","","",""],"zhng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"pi":["","","","","","","","","","","","","","",""],"dio":["","","","","","","","","","","","","","","","","","",""],"dn":["","","","","","","","","","","","",""],"wn":["","","","","","","","","","","",""],"xn":[""],"kng":["","","","","","",""],"i":["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j q":["",""],"xi x":[""],"jn yn":[""],"dn":["","","","","","","","","","","","",""],"f":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng":["","","","","","","","","","","",""],"yu":["","","","","","","","","","","","","","","","","","",""],"hu":["","","","","","",""],"hu kui":["","","",""],"y":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cu":["","","","","","","","","","","","","","","","","","","","","","","","",""],"sn":["","","","","",""],"wi":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chun zhun":["",""],"ch j":["","",""],"j ch":[""],"y":["","","","","","","","","","","","","","","","","",""],"qin":["","","","","","","","","","","","","","","","","","","","","",""],"shng":["","","","","","","","","","","","","","","",""],"chng":["","","","","","","","","","","","","","","","",""],"chen cng":[""],"xn":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xn":["","","","","","","","","",""],"ch":["","","","","","","","","","","","","","","","","",""],"xin xun":[""],"n n":[""],"b bi":[""],"g g":[""],"n":["","","","","","","","","","","",""],"n n":[""],"bn":["","","","","","","","","","","","",""],"x":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zhu":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"shn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"q":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"s c":[""],"bng":["","","","","",""],"s sh":[""],"ji qi g":[""],"y ch":[""],"din tin":["",""],"hn gn":[""],"mi":["","","","","","","","","","","","","","","",""],"dn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"b":["","","","","","","","","","","","","","","","","","","","","","",""],"b":["","","","","","","","","","","","","","","","","","","",""],"zho sho":[""],"c":["","","","",""],"wi":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zu":["","",""],"yng":["","","","","","","","","","","","","","","","","","",""],"t t":["",""],"zhn":["","","","","","","","","","","","","","","","","","","",""],"h h h":[""],"b":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh":["","","",""],"y di":["","","",""],"f f b b":[""],"zu zu":[""],"gu":["","","","","","","","","","","","","","",""],"nng":["","","","","","",""],"q":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yng yng":[""],"w":["","","",""],"k":["","","","",""],"bo":["","","","","","","","","","","","","","",""],"hui hu":[""],"g h":[""],"lo":["","","","","","","","","","","","","","",""],"xing":["","","","","","","",""],"g":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bi":["","","","","","","","",""],"f":["","","","","",""],"mng":["","","","",""],"r ni":[""],"hn":["","","","",""],"hu":["",""],"gu":["","","","","","","","","","","","","","","","","","","","","","","",""],"qun":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tio":["","","","",""],"jio":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"c":["","","","","","","","","","","","",""],"xng":["","","","","","","","","","","","","","","","","","","",""],"tu":["","","","","","","","","","","","","","","","","",""],"kn":["","","","","","","","","",""],"zh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gi":["","","","","","","","","","","","","","",""],"li":["","","","","","","","","","","","","","","","","","","","","","","","",""],"ku":["","","",""],"gng":["","","","","","","","","","","","","","","","","","","","","","","","","",""],"l":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"m":["","","","","","","","","","","","","","",""],"zh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"n":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"l":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"mu":["","","","","","","","","","",""],"r":["","","","","","","","","","","","","","","","","","","","",""],"dng tng tng":[""],"ch":["","","","","","",""],"ch":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gng gng":["",""],"zhu":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"r":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jin cn":[""],"xi":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"l":["","","","","","","","","","","","","","","","","","","","","","","","","",""],ta:[""],"jio yo":["","",""],"zhn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"c z zhi":["",""],"kui":["","","","","","","","","","","","","","","","","","","","","","",""],"chi":["","","","","","",""],"nng":["","","","","","","","","","","","","","","","","","","","","","",""],"jn":["","","","","","","","","","","","","","","","","",""],"hu hu":["",""],"jing":["","","","","","","","","","","","","","","","","","","",""],"chng tng":[""],"zhn zhn":["",""],"zu":["","","","","","","","","","","","","","",""],"qn":["","","","","","","","","","","","",""],"j":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh du":[""],"tng":["","","","","","","","","","","",""],"shn":["","","","","","","","","","","","","","","","","",""],"tu tu":[""],"nn":["","","","","","","","","","","","",""],"xio":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bin pin":["","",""],"tu":["","","",""],"x":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"c":["","","","","","","","","","","","","","","","","","","",""],"":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"qi":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x":["","",""],"gung kung":[""],"k":["","","","","","","","","","","","",""],"w":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jn":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ling":["","","","","","","","","","","",""],"z":["","","","","","","","","","",""],"qio xio":[""],"yng":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hn":["","","","","","","","","","","",""],"jng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sn":["",""],"pi":[""],"s":[""],"x":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"l":["","","","","","","","","","","","","","","","","","","","","","","","",""],"bo":["","","","","","","","","","","","","","","","","","","","",""],"y sh y":[""],"s q":[""],"xn shn":[""],"xi":["","","","","","","","","","","","","","","","","","","","","","",""],"d":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chu":["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"li ling":[""],"jin":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j j":["","","",""],"xio":["","","","","","","","","","","","","","","","","","",""],"pi":["","","","","","","",""],"bio":["","",""],"ch t":[""],"fi":["","","","","","","","","","","","","","","","","","","","","","","",""],"fng":["","","","","","","","","","",""],"n":["","","","","","",""],"bi":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xn":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h ch":[""],"ji":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yo":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cu z":[""],"ling li":[""],"wn":["","","","","","","","","","","","","","","","","","","","","","","",""],"zng":["","","","","","","","","","","","","","",""],"gun":["","","","","","","","","","","","","",""],"tin":["","","","","","","","","","","","","","",""],"mn":["","","","","","","","","","","",""],"do do":[""],"tn tn":["",""],"ju ju":[""],"chu":["","","","","","","","","","","","","","","",""],"xng":["","","","","","","","","","","","","",""],"png":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng chng":[""],"hu":["","","","","","","","","","","","","","",""],"t":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gn":["","","","","","","","","","","","","","",""],"ling jng":["",""],"su":["","","","","","","","","","","","",""],"chng chng":[""],"ji":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kng kng":[""],"jun":["","","","","","","","","","","","","","","","","","","",""],"zng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"n":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zhu":["","","","","","","","","","","",""],"w wi":[""],"lu":["","","","","","","","","",""],"sng":["","","","","","","","","","","","","","","","","",""],"lng":["","","","",""],"z":["","","","","","","","","","","","","",""],"bn":["","","","","","",""],"ci":["","","","","","","","","","",""],"zhi":["","","","",""],"y":["","","","","","","","",""],"sh":["","","","","","","","","",""],"qng":["","","","","","","","","","","","","","","","","","",""],"yng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chng chn":["",""],"run":["","","","","","","","","","",""],"zhng tng":[""],"chn":["","","","","",""],"ji ji":[""],"j ji":[""],"bng bng":[""],"ru":["","","","","","","","","","","","","",""],"t":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"wi":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"pin":["","","","","","","",""],"yn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng dng":[""],"":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xi":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ch":["","",""],"shng":["","",""],"ch":["","","","","","","","","","","","",""],"hung":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yo":["","","","","","","","","","","","","","","","","",""],"chu qio":[""],"yu":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zh":["","","","","","","","","","","","",""],"c":["","","","","","",""],"b":["","","","","","","","",""],"xn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ci s":[""],"dun":["","","","",""],"u":["","","","","","","","",""],"tu":["","",""],"zn z z":[""],"l lu":["",""],"fn":["","","","","","","","","","","","","","","",""],"ku gu":[""],"su":["","","","","","","",""],"zh s t":[""],"s":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xi":["","","","","","",""],"yun yun":["",""],"rng":["","","","",""],"n":["",""],"yn":["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gu jing":[""],"m":["","","","","","","","","","",""],"bng":["","","","","","","","","","","",""],"din":["","","","","","","","","","","","","","","","","",""],"tng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ho":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x x":[""],"shn":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"qin jin":[""],"qu ju":["",""],"cng chen":[""],"rng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"t tn":[""],"su":["","","","","","","","","","","","","","","",""],"di":["",""],"zi":["","","","","","","",""],"g":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bn":["","","","","","","","","","","","","","","","","","","","","",""],"ch":["","","","","","","","","","","","","","","",""],"nu":["","","","",""],"cn cn":[""],"li":["","","","","","","","","","","","","","","","","","","","","","","",""],"cu":["","","","","","","","","","",""],"yng":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zo co":[""],"sng":["","","","","","","","","","",""],"o":["","","","","","","","","","","","","","",""],"q cu":[""],"chung":["","","",""],"sh":["",""],"hn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zhng":["","","","","","","","","","","","","","","","","","","","","",""],"yn yn":["","",""],"pio bio":["",""],"lin":["","","","","","","","","","","","","","","","","","","","","","","","",""],"mn":["","","","","","","","","","","","","","","","","",""],"tn tn":[""],"yng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng":["","","","","","","","","","","","","","","","","",""],"zhun":["","","","","","","","","","","","","",""],"xing":["","","","","","","","","","","","","","","","","",""],"shn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu tu":[""],"zn":["","","",""],"p":["","","","","","","","","","","","","","","","","","",""],"lo":["","","","","","","","","","","","","","","","","","","","",""],"chng":["","","","","","","",""],"gung":["","","","","","","","","","","","","","","","","",""],"lio":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng":["","","","","","","","","","",""],"chn zhn zhun":[""],"b":["","","","","","","","","","","","","","","","","","","","","","","",""],"hu":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chun":["","","","",""],"ti jin":[""],"sng":["",""],"xin":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y j":[""]," w":[""],"tng zhung":[""],"ln":["","","","","","","","","","","","",""],"g":["","","","","","","","","","","","","","","","","","",""],"jing":["","","","","","","","","","","","","","","","","","","","",""],"mn":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji jie":[""],"qio":["","","","","","","","","","","","","",""],"p":["","","","","","","","","","","",""],"si":["","","",""],"chn tn shn":[""],"dng dng":["","",""],"xun":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dn dn":["","",""],"cn":["","","","","","","",""],"bn bn":[""],"n n":[""],"ti":["","","","","","","","","","","","","","","",""],"ln":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"n y i y":[""],"mng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"nng":["","","","","","","","","","","","","","","",""],"qing":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"li":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kung":["","",""],"bo":["","","","","","","","","","","","","","","","","","","",""],"bio":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zn":["","","","","","",""],"ho":["","","","","","","","","","","","","","","","","",""],"qng":["","","","","","","","","",""],"chn":["","","","","","","","","","","","","",""],"tng":["","","","","","","","","","","","","","","","","","","",""],"lng lng lng":[""],"chn chn":[""],"rng xing":["",""],"hu xi":[""],"lu":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"li":["","","","","","","","","","","","","","","","","","","","","","",""],"nng nng":[""],"w w":[""],"yn":["","","","","","","","","","","","","","","","","",""],"zn":["","","","","","","",""],"yun":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xing":["","","","","","","","","","","","","","","",""],"chng":["","","","","","","","","","","","","","","","",""],"zho":["","","","","","","","","","","","","","","","","","","","","","",""],"du ru yu":["","",""],"k":["","","","","","","","","","","","","","","","","","","","","",""],"t":["","","","",""],"dng":["","","","","","","",""],"du":["","","","","",""],"hung":["","","","","","","","","","","",""],"r":["","","","","","","","","","","",""],"ni":["","","",""],"y sh":[""],"li l":[""],han:["",""],"tin":["","","","","","","",""],"xng xng":[""],"din":["","","","","","","","","","","",""],"z c":[""],"jin":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"shu":["","","","","","","","","","","","","","",""],"j":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jing":["","","","","","","","","",""],"mo":["","","","","","","","","","","","","","","","","","","","","","","","",""],"rn":["","","","","","","","",""],"ni n":[""],"gng":["","","","","","","","","","","","","","","","","","","","","",""],"c":["","","","","","","","","","","","","","","","","","","","",""],"gu":["","","","",""],"mo m":[""],"gu":["","","","","","","","","","","","","","","","","","","","","",""],"x":["","","","","","","","","","","",""],"m":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yu yn":[""],"xi":["","",""],"jn":["","","","","","","","","","","","","","","","","","","","","","",""],"m":["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gun gun":["","","","",""],"mng":["","","","","","","","","","","","",""],"zhng":["","","","","","","","",""],"zu":["","","","","","","","","","","","","","","","",""],"yun":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"mng":["","","","","","","","","","","","","","","","","","","","",""],"ku":["","","","","","","","","","","","","",""],"ti":["","","","","","","","","","","","","","",""],"fng png":["",""],"chng chng":[""],"kung":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lng":[""],"pn":["","","","","","","","","","","","","","","","","",""],"f":["","","","",""],"xin":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"qi":["","","","","","","","",""],"jng chng":["","",""],"su":["","","","","","","","","","","","","","","","","","","","",""],"mi":["","","","","","","","","","","","","","","",""],"t":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zhn":["","","","",""],"ling ling":["","",""],"dio":["","","","","","","","","","","","","","","","","","","","",""],"cu":["","","","",""],"i":["","","","","","","",""],"du":["","","","","","","","",""],"d":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j j":[""],"fn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ch ch":["",""],"zh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"png":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ki":["","","","","","","","","","","","","","","","","","",""],"gn":["","","","","","","","","","","","","","","","","","","","",""],"kn qin":[""],"t":["","","","","","","","","","","","","","",""],"o w":[""],"ch":["","","","","","","","","",""],"dng":["","","","","","","","","","","","","","","","","","","","","","",""],"hn":["","","","","","","","","","","","","","","","","","","","","",""],"zo":["",""],"do":["","","","","","","","",""],"chung":["","","","","","","","",""],"fn fn":[""],"qi qi":[""],"kn":["","","","","","",""],"cn":["",""],"ch":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"l":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yu":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"li":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"z":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chung chung":["",""],"q":["","","","","","","",""],"bi bi":["",""],"po bo":[""],"chn chn":["","",""],"gu":["","","","","","","","","","","","",""],"gng":["","","","","","","","","","","","","","",""],"do":["","","","","","","","","","","","","","","","","","",""],"chung":["","","","",""],"k":["","","","","","","","","","","",""],"du":["","","","","","","","","","","","","","","",""],"shu shu":[""],"qun xun":[""],"ch sh":["",""],"c c":[""],"gu":["","","","","","","","","","","","","","","","","","","","","","","","",""],"lu":["","","","","","","","","","","","","","","","","","","","","","",""],"cu":["","","","","","","","","","","","","","",""],"xio xu":[""],"ki k":["",""],"l l":[""],"t":["","","","","","","","",""],"pu":[""],"wn":["","","","","","","","","","","",""],"bo b":["",""],"du":["","","","","","","","","","",""],"qng":["","","","","","","","","","","","","","",""],"yn shn":[""],"d zhu":[""],"yn":["","","","","","","","","","","","","","","","","","","","","","","","",""],"hu":["","","","","","","","",""],"shng":["","","","","","","","","","","","","",""],"dun zh":[""],"w":["","","","","","","","","","","","","","","","","","","","","","","","","",""],"g":["","","","","","","","","","","","","","","","",""],"d zh":[""],"chun":["","","","","","","","",""],"tun zhun":["","",""],"l ji":[""],"png":["","","","","","","","","","",""],"pio":["","","","","","","","","","",""],"ku":["","","","","","","",""],"jio cho":["","","",""],"qio":["","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"zh zh":[""],"p p":["",""],"tng":["","","","","","","",""],"chn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zun":["","","","",""],"m":["","","","","","","","","","","","","","","","","","","","",""],"zh":["","","","","","","","","","","","","","","","","","","","","","",""],"qun":["","","","",""],"jn jng":["","",""],"kng":["","","","","","","","","","",""],"xi li":[""],"zh ch":[""],"n":["","","",""],"sho":["","","","","","","","",""],"mio":["","","","","","","","","","",""],"ku":["",""],"w":["","","","","","","","","","","","","","","","",""],"kung":["","","","","","","","","","","",""],"h":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"go":["","","","","","","","","","","","",""],"b bi":[""],"lng":["","","","","","","","","","","","","","","","","","","","","","",""],"xn":["","","","","","","","","","","","","","","","","","","","",""],"jun jun":["",""],"l li":[""],"ki":["","","",""],"wng yng":[""],"qn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jing":["","","","","","","","","","","","","","","","","","",""],"fn":["","","","","","","","","","","","","","",""],"jun":["","","","","","","","","","",""],"tng dng":["","","",""],"l":["","","","","","","","","","","","","","","",""],"ch":["","","","","","","","","","","","","","",""],"sho":["","",""],"gu gu":[""],"cng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"to yo":["",""],"po":["","","","","","","","","","",""],"d":["","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"bi bi":[""],"no":["","","","","","","","","","","",""],"ch shi":[""],"fng":["","","","","","","","","","",""],"z":["","","","","","","","",""],"qi":["","","","","","","","","","","","","","","","","","",""],"zng cng":[""],"fi":["","","","","","","","","",""],"ku gu":["",""],"sun":[""],"p":["","","","","","","","","","",""],"q u":["",""],"k qi":[""],"yn yn":["",""],"bin":["","","","","","","","","","",""],"n":["","","","","","","","","","","","","","","","",""],"nin":["","","","","","",""],"s":["","","","","","","","","","",""],"z":["","","","","","","",""],"shng":["","","","","","","","","","","","","","","","","","","","","","","","",""],"wn":["","","","","","","","","","","","",""],"hu hu hu":["",""],"bi":["","","","","","","","","",""],"z c":[""],"dn shn chn":["",""],"nn n":[""],"shui l":[""],"b bo p":[""],"kung gun":[""],"bin":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"b":["","","","","","",""],"zhn zhn":["",""],"k qi":[""],"l":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"l":["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gu":["","","","","","","",""],"ng yng":[""],"yn":["","","","","","","","","","","","","","","","",""],"qu":["","","","","","","","","","","","","","","","","","","",""],"lun":[""],"jun jun":["",""],"chng n hn":[""],"wi yn":[""],"tng":["","","","","","","","","","","","","","","",""],"zh zhi":[""],"hn n":["",""],"y":["","","","","",""],"sh":["","","","","","","","","","","","","","","","","","","","","",""],"d":["","","","","","","","","","","","","","","","","",""],"zh zhi":[""],"png":["","","","","","","","","","",""],"zh sh":[""],"mng":["","","","","","","","","","","","","","","","","","","","","","",""],"zu":["","","",""],"sh xi":["",""],"o":["","","","","","","","","","","","","","","","","","","","","","","",""],"ln qin":[""],"s mu":[""],"gng hng":[""],"ln mio":[""],"qi ru":[""],"d":["","","",""],"xin xun":["",""],"cn shn cn sn":["","","",""],"i y":[""],"ch ch ch ch":[""],"shung":["","","","","","","","","","","","","",""],"shu":["",""],"gui":[""],"b":["","","","","","","","","","","","","",""],"f f":[""],"zhu y l ju":[""],"q":["","","","","","",""],"ji xi":["",""],"wi y":["","",""],"di":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ru":["","","","","","","","","","",""],"j gu":[""],"lng":["","","",""],"do do to":[""],"zh zh":[""],"jio":["","","","","","","","","","","","","","","","","","","","","","","","",""],"zho sho":[""],"k k":[""],"ti ti":["",""],"p":["","","","","","",""],"y xi":[""],"ho ho":[""],"tn":["","","","","","","",""],"hng hng":[""],"mi":["","","",""],"x y y":[""],"ch":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xun sng":[""],"yo":["","","","","","","","","","","","","","",""],"z":["","","","","","","","","","","","","","","","","",""],"h g":["",""],"cn du":[""],"tng tng":[""],"t t":["",""],"zh zh":["",""],"xi h":[""]," y":[""],"ma m m":[""],"ln":["","","","","","","","","","","","","","","","",""],"tn":["","","",""],"b p":[""],"qn":["","","","","","","","","","",""],"ji g":[""],"fu p":[""],"ba b":[""],"dn":["","","","","","","","","","","","",""],"fn":["","","","","","","","","","","","","","","","","","","","",""]," hu":[""],"kng hng":["",""],"shn":[""],"zh z":[""],"yn shn":[""],"w":["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cho cho":[""],"n n":[""],"xu chu ju":[""],"chu":["","",""],"du r":[""],"hu":["",""],"hng hu u":[""],"w y":[""],"ya y":[""]," e":[""],"di":["","",""],"mn q":[""],"hng":["","","","","","","","","","","","","","",""],"n":["","","","","","","","","","","","","","","",""],"tn tin":[""],"f ":["",""],"di ti":[""],"u u u":[""],"bi bei":[""],"yun yn yn":["",""],"gu":["","","","","","","","","","","","","","","","","","",""],"hu q":[""],"qing qing":["",""],"sh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jun":["","","","","",""],"pn":["",""],"wn mn":[""],"ne n":[""]," m mu":[""],"rn":["","","","","","","","","","","","",""],"ti ch":[""],"q zh":[""],"z c":[""],"gu g gu":[""],"c z":[""],"hu x gu":[""],"h     a":[""],"no":["","","","","","","","","","","","","","",""],"xi g":[""],"pi":["","","","","",""],"ho xio":[""],"mng":["",""],"d dn":[""],"zu j":[""],"xin gn":[""],"pu":["","",""],"yng yng":[""],"z z zh":[""],"h h hu hu h":[""],"hi":[""],"d":["","","","","","","","","",""],"k k":[""],"g":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"k g":[""],zuo:[""],"lng":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xin xin":[""],"q":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x di":[""],"li li li lie":[""],"z":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"m":[""],"j x qi":[""],"g lu k lo":[""],"sh xn":[""],"zn z z zan":[""],"hi k":[""],"hu":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hui sh":[""],"to":["","","","","","","","","","","","","","","","","","","","","","",""],"xin":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]," n":[""],"xun xun":["",""],"wi h w gu gu":[""],"yn y yn":[""],"i":["","","","","","",""],"pn":["",""],"shn":["","","","","","","","","","","","","","","","","","","","","",""],"hng hng hng":[""],"w wa":[""],"h h h":[""],"zi":["","","","","","","","",""],"d di":[""],"pi":["","","","","","",""],"gn hn":[""],"y y":["",""],"yu hu":["",""],"nin":["","","","","","","","","",""],"hu hu":["",""],"j ji zhi":["",""],"mu":[""],"y yo":["",""],"lng":["","",""],"  ":[""],"l l li":[""],"n na ni n ni":[""],"h":["","","","","","","","","","","","","","","","","","","","","","",""],"b p b":[""],"zh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ling lng":[""],"li l":[""],"hn":["","","","","","","","","",""],"hng hng":[""],"gng":["","","","","","","","","","","","","",""],"chu yu":[""],"g ji":[""],"bei bi":[""],"hn hn":[""],"chn":["","","","","","","","","","","","","","","","","","","",""],"i i":[""],"ji qin":[""],"yn dn xin":[""],"ch":["","","","",""],"w g ":[""],"zo":["","","","","","","","","","","","","","","","","","",""],"d":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gng hng gng":["",""],"du":[""],"lo lo":["","",""],"hun":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lng":["","","","",""],"w wi":[""],"fng":["","","",""],"yn jn":[""],"h xi":[""],"wi":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"shu":[""],"chng":["","","","","","","","","",""],"r w":[""],"qing":["","","",""],"y":[""],"y":["","","","","","","","","","",""],"li":["","","","","","","","","","","","","","","","","",""],"tu":["","","","","","","","","",""],"zhu zho tio":[""],"kn":["","","","","","","","","",""],"zhu zho":["",""],"hng hng":["",""],"ln ln":[""],"a    ":[""],"qing":["","","","","","","","","","","","","","","","","","","",""],"tn zhn xing du":[""],"wn":["","","","","","",""],"cu qi":[""],"di sh ji t":[""],"yu w":[""],"z c":[""],"b t":[""],"chu chui":[""],"y y ":[""],"fi":["","","","","","","","","","","","","","","","","","","","","","",""],"p":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh":[""],"l la":[""],"yng qng":[""],"p":["","","","",""],"zh sh":[""],"s":["","","","","","","","","","","","","","","","","","","","","","","","","",""],"ni":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lu lu luo":["",""],"tn chn tu":[""],bo:["",""],"dng":["","","","","","","","","","","","","","","","","",""],"lng":[""],"n n":[""],"k":["",""],"yng y":[""],"l l l":[""],"ji":["","","","","","","","","","","","","","","","","","","","","","","",""],"hu":["","","","","","","","","","","","","","",""],"di zh":[""],"wi":["","",""],"nu r":[""],"x hu gu":[""],"zn":[""],"w ":[""],"h":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hun yun xun h":[""],"x":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h h y":[""],"ku":["","","","","","","","","","","","","","","","","","",""],"zhng chung":[""],"wi wi":["","",""],"du zh":[""],"sng sng":[""],"qio jio":[""],"pn bn":[""],"cn sn q":[""],"zh ch":[""],"mio":[""],"pn pn":[""],"ku":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lou lu":[""],"zo qio":[""],"h xio xio h":[""]," sh":[""],"xi":["","","","","","","","","","","","","","","","","","","","",""],"qing qing":["","","","",""],"i y":["",""],"m m ma":[""],"k k":[""],"d t":["",""],"sng":["","","","","","",""],"chn":["","","","","","","","",""],"w g":[""],"png bng":[""],"xin qin qin":[""],"lo":["","","","","","","","","",""],"wng":["","","","","","","",""],"w":["","","","","",""],"hi hi":[""],"h":["","","","",""],zi:[""],"si":[""],"g g g":[""],"g":["",""],"n":["","","","",""],"di":[""],"i i i":[""],"tng":["","","",""],"zu su":[""],"zh zh zh zhe":[""],"m":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"su":["",""],"tn":["","","","","","","","","","","","","",""],"jio do":[""],"ki g":[""],"shn cn":[""],"co":["","","","","","","","","","","",""],"pio":["","","",""],"lu lou":[""],"g":["",""],"g ji":[""],"jio xio":[""],"x sh":["",""],"p":["","","","","",""],"d di":[""],"ma m":[""],"l lei":[""],"g g g":[""],"si":["","","","","",""],"zu chui":[""],"cho zho":["","",""],"zu":["","","",""],"qio qio":["","",""],"ch x shu":[""],"tn chn":[""],"dn tn":["","","","",""],"hi m":[""],"":["","","","",""],"fn bo":[""],"chung":["","",""],"c z h":[""],"tn ku":[""],"cng chng":[""],"dng":["","","","","","","","","",""],"p":["","","","","","","",""],"ju":["","","",""],"l":["","","","",""],"zhn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"":[""],"zhu zhu":[""],"jio qio ch":[""],"yun":["","","","","","","","","","","","",""],"i i i":[""],"yng yng":["",""],"ju xu":[""],"pn pn fn":[""],"g":["","","","",""],"xn hn hn":[""],"dng":["","","","","","","","","",""],"ln":["","","","","","","","","","",""],"t":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu ":[""],"ho":["","","",""],"h xi":[""],"xi p":[""],"zhu chu":["","",""],"m":[""],"ch c":[""],"b po bo":[""],"me mi m":[""],"xi hi":[""],"o xio":[""],"m":["",""],"pn":["","","","","","","","","","","","",""],"m":["",""],"rng rng":[""],"l":["",""],"jio ju jio":[""],"chu":["","","","","","","","","","","","","","","",""],"hun hun":[""],"z c":[""],"chi":["","","","",""],"nng nng":[""],"z zn cn":[""],"s":["","","","","","","","","",""],"zng":["","","","","","",""],"z ni yn":[""],"nng":[""],"lu lu luo":[""],"wi gu":[""],"hu":["","","","","","","","","","","","","","","",""],"nn":["","",""],"jin nn":[""],"nn":[""],"tun":["","","","","","","","","","",""],"tn dn":["",""],"gu":["","","","","","","","","","","","","","","","","",""],"kn":["","",""],"wi tng":[""],"qn":["","",""],"r":["","","","","",""],"ti":["","",""],"p":["","","","","","","","","","","","","","","","",""],"qun jun jun":["",""],"chu chun":[""],"tun":["","",""],"l":["","","","","","","","",""],"hun yun":[""],"lun":["","","","","","","","","","","","","","","","","","","","","","","","","","",""],"t":["","","",""],"x wi":[""],"d de":["",""],"qin s":[""],"zhn":["","","","","","","","","","","","","","","","","","","","","","",""],"chng chng":["","",""],"q yn":[""],"ji":["","","","","","","","","","","","","","","","","","","","",""],"zh zh":[""],"bn":["","","","","","","","","","","","",""],"qn":["","","","","","","","","","",""],"mi fn":[""],"rng kng":[""],"fng fng":[""],"fn bn":[""],"tn":["","","","","","","","","","","",""],"hui pi p pi":[""],"d ln":[""],"tn":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"b":["","","","","","","","","","","",""],"fn":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zhu":["","","","","","","","","","","","","","","","","",""],"p":["","","","","","","","","","",""],"pn bn":[""],"kn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"din":["","","","","","","","","","","","","","","","","","","","","","",""],"m m":[""],"k k":["",""],"xu":["","","","","","","","",""],"d ch":["",""],"l":["","","",""],"lng":["","","","","","","","","",""],"mn":["","","","","","","","","","","","","","","","","","","","","","","",""],"dng tng":["","",""],"c":["","","","","","","","","","","","","","","","","","","","","","","","","",""],"du":["","","","","","","",""],"du du":[""],"du du":["",""],"ch":["","","","","","","","","","","",""],"shng":["","","","","","","","",""],"shu":["","","","","",""],da:["","",""],"hng":["","","","","","","","","","","","","","",""],"n n":[""],"xng":["","","","","","","","","","","","","","","","","",""],"yun hun":[""],"bng":["","","","","","","","","","","",""],"pu f":[""],"cn":["","",""],"bng fng":[""],"d fng":[""],"xi ji":[""],"mi mn":[""],"lng":["","","","","",""],"shn yn":[""],"qn jn":[""],"p b":[""],"hu":["","","","","","","","","",""],"su s":[""],"p p":[""],"qng zhng":["",""],"wn wn":[""],"ln":["","",""],"zhng chng":[""],"kng":["","","","","",""],"ci ci":["","",""],"ch tu":[""],"bng":["","","",""],"kn xin":[""],"y sh":["",""],"pi":["","","","","","","","","",""],"so so":[""],"jn qn jn":[""],"png bng":[""],"qin zn jin":[""],"n":["","","","","","","","","","","","","",""],"du hu":["",""],"hun":["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bo b p":[""],"mo mu w":[""],"run":["","",""],"i  y":[""],"gng":["",""],"mi":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"d":["","","","","","","",""],"fng":["","","",""],"hng":[""],"chn":["","","","","","","","","","","","","","","","","",""],"jing":["","","","","","","","","","","","","",""],"hung":["","","","","",""],"dun":["","","","","","","","","","","","","","","","","",""],"t":["","","","","","",""],"wng":["","","","","","",""],"si si s":[""],"zng":["","","","","","",""],"tin":["","","","","","","","","","","","","","","","","","",""],"zhng":["","","","","","","","","","","",""],"tin zhn":[""],"wn":["","","","","","","","","","","","","","","","","",""],"li":["","","","","","","","","",""],"hi":["","","","",""],"lng":["","","","","","",""],"bng":["","","","","","","","","",""],"chn":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"u qi":[""],"qin jin":[""],"zhun tun":[""],"shung":["","","","","",""],"sh":["","","","","","",""],"lu":["","","","","",""],"ch":["","","","","","","","","","","","","","","","","","","","","","","",""],"sh":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"d zh":["",""],"kn":["","","","","","",""],"chn":["","","","","","","","",""],"zh zhu":[""],"qing":["","","","",""],"zng":["","","","","","","","","","",""],"qing":["","","","","","","","","","","",""],"kui tu":[""],"tun dng":[""],"qio qu":[""],"zn dn":[""],"qio o":[""],"y t":[""],"xu b ju":[""],"ln":["","","","","","","","","","","","","","","","","","","","","",""],"hui":["","",""],"rng":["","","",""],"ln xin":[""],"do":["","","","","","","","","","","","","","","","","","",""],"ru":["","","","","","","",""],san:[""],"zhung":["","","","","","",""],"k qio":["",""],"kn":["","","","","","","","","","","","","",""],"mng":["","","","","",""],"cn":["",""],"zh zhng":[""],"g yng":[""],"jing xing":["",""],"png fng fng":[""],"zhi":["","","","","","","",""],"xun xing":[""],"wi":["",""],"wn yun wn yun":[""],"mo wn":[""],"mng":["","","","","",""],"d di":[""],"f f":["","","",""],"gui":["","",""],"yng":["","","","","","","","","","","",""],"hng bn":[""],"go":["","","","","","","","","","","","","",""],"to bn":[""],"tu tou":[""],"yn to":[""],"ku ku":["",""],"ji ji g xi":[""],"hu":["","","","","","","","","","","","","","","","","","","","","",""],"ji ji g xi":[""],"n":["","",""],"d t":[""],"yn yn":["",""],"po":["","","","","","","",""],"ni":["","","","","","","",""],"qun jun":["","",""],"zu":["",""],"q qi xi":[""],"ki":["","","","","",""],"bn bn":["",""],"to":[""],"zng zhung":[""],"bn":["","","","","",""],"xn zhu":[""],"sh":["","","","","","","","","",""],"h p ti":[""],"o y":["","",""],"yn":["","","","","","","","",""],"du ch":[""],"n r":[""],"n":["","","","",""],"dng dng tin":[""],"t ji":[""],"nun":[""],"ho ho":[""],"fn":["","","","","","","","","","","","","","","","","","","","",""],"shu":["","","","","","","","","","",""],"fi pi":[""],"wng":["","","","",""],"zhung":["","","","","","","","","","","","","",""],"m":["",""],"f yu":[""],"hi ji":[""],"d":["","","","","","","","","","","","","","",""],"mio":["","","","","",""],"fu pi p":[""],"yu ju":[""],"ni":[""],"n nn":[""],"tu":["","","","","","","","",""],"wn yun":[""],"fng":["","","","","",""],"n":[""],"zhu":["",""],"zho":["","","","","","","","","",""],"ni n":[""],"tu":["","","","",""],"xin xun x":[""],"zh y":["",""],"":["","","",""],"mi":["","","","","","","","","","","","","","","","","",""],"q q":[""],"x x":["",""],"shn shn":["","","","",""],"mn":["","","","","","","","","","","",""],"ji":["","","","",""],"wi wi":[""],"pn":["","","","","",""],"hu hu":[""],"jio xio":[""],"gu d":[""],"lo m":[""],"nin nin":[""],"zhn":["","","","","","","","","","","","","","","","","","","","","","","","",""],"hng":["","","","","","","","","","","",""],"jn xn":[""],"ku h":[""]," y":[""],"xin shn":[""],"w":[""],"ro ro":["",""],"sho sho":[""],"xi":["","","","","",""],"w mi m":[""],"chu li":[""],"ning":["","",""],"n nu":["",""],"pu b":[""],"ni su":[""],"tu":["","","","","",""],"mn":["","","","","","","","",""],"w w y":[""],"x i":[""],"zhu shu":[""],"dng dng":[""],"i i ":[""]," ":[""],"min":["","","","","","","","","","","","","","","",""],"pu pi b":[""],"bio":["","","","","","",""],"f fn":[""],"w":["","",""],"n n":["",""],"qun jun":["",""],"hn":["","","","","","","","","","","","","",""],"qin jn":[""],"wn w":[""],"li li":["","",""],"zhu chu":[""],"chu no":[""],"n n":[""],"hn kn":[""],"dng yng":[""],"nn":[""],"ru chu":[""],"ji":["","","","","","","","","","","",""],"tu y":["",""],"y y":[""],"wi wi":[""],"d t":["","",""],"ru":["","","","","","","","","","","","","","","","","","","","","",""],"run nn":[""],"mio":["","","","","","",""],"y pi":[""],"min min":[""],"t sh":["",""],"du tu":["",""],"o":["","","","","","",""],"ch zu":[""],"yng":["","","","","",""],"qn shn":[""],"ji":["","","","","","",""],"so":[""],"zhn zhn":[""],"ji su":[""],"mng mng":[""],"nio":["","","","","","","","",""],"to":["","","","","","","","","","","","","","","","","","","","","","",""],"bio":[""],"pio pio":["",""],"xun":["","","","","","","","","","","",""],"mn mn":[""],"kng":["","","","","","","","","","","","","",""],"hn nn":[""],"nn":["",""],"zh":["",""],"m m":[""],"pi":[""],"zhn":["","","","","","","","","","","",""],"xin yn jn":[""],"lin":["","","","","","","","","","","","","",""],"qing hun xun":[""],"dng":["","","","","",""],"cn":["","","","","","",""],"tio":["","","","","",""],"b":["","",""],"li":["","","","","","","","","","","","","",""],"qin xin":["",""],"xi hu":[""],"hun qun":[""],"l l":["",""],"zh chu":[""],"kng":["",""],"m z":[""],"sn xn":["",""],"bi b":["",""],"yu ni":[""],"zhun":["","",""],"hi":["",""],"no":[""],"chn cn":[""],"b":["","","",""],"ni":["",""],"nng nng":["","","","","",""],"zhi":[""],"t ji":[""],"sng":["","","","","","","","","",""],"ru":["","",""],"zhn":["","","","","",""],"m f":[""],"dng tn":[""],"wn yun":[""],"chng":["",""],"qn":["","","","","","",""],"zi":["",""],"bo sh":[""],"ji jia jie":[""],"hung hung":[""],"kun":["","","","","","",""],"s xi xi":[""],"ji zn":[""],"bng bng":[""],"jn qn":[""],"lu j":[""],"xi xi":[""],"qn qn":[""],"cn":["",""],"du":["","","","","","","","","","","","","","","","",""],"l lu":[""],"sh y y":[""],"jing jing qing":[""],"jing jing":["","","",""],"zn":["","","","","","","","","","",""],"sh zh":["",""],"xio":["","","","","","","","","","",""],"ji j":["","",""],"sho sho":[""],"r":["","","","","","","","","","","","","","","","","","",""],"wng yu":[""],"wng":["","","","",""],"lio":["","","","","","","","","",""],"mng mng lng png":[""],"g":["",""],"ku ku":[""],"tu":["","","","","","","","","","","",""],"yn":["","","","","","","","","","","","","","","","","","","","",""],"ch ch":[""],"ko":["",""],"jn jn":[""],"wi y":[""],"nio su":[""],"cng":["","","",""],"dio":[""],"png bng bng":[""],"lu":["","","","","","","",""],"sh zh":["",""],"xi t":[""],"ch co":[""],"tn zhn":[""],"n j":[""],"hng lng":[""],"q ki":["",""],"ng":["","",""],"gng gng":["",""],"k":["","","","",""],"gu":["","","","","","","","",""],"tio":["","","","","","","","","","","","","","","","","","","",""],"q j":[""],"lng":["","","",""],"p":["","","","","","","","","","",""],"b k":[""],"lu":["","","","","","","","","","","","","",""],"f ni":[""],"n":[""],"zh sh":["",""],"qi":["","","",""],"qio jio":["",""],"xi y":[""],"b":["","","","","","","","","",""],"chng":["","","","","","","",""],"z cu":["",""],"lng lng":[""],"dng dng":[""],"xio":["","","","",""],"p b":["",""],"zhn chn":["","",""],"wi wi":[""],"yng dng":[""],"sh di":[""],"yo":["","","","","","","","","","","","","","","","","","","","","",""],"kn zhn":[""],"hn dng":[""],"qin kn":[""],"w mo":[""],"k ji":["",""],"wi wi":[""],"k":["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng tng":[""],"rng yng":["",""],"i ki":[""],"ko qio":[""],"cu":["","","","","","","","",""],"qin qn":[""],"d di":[""],"cn":[""],"dng":["","","","","","","",""],"o o":[""],"p pi":[""],"jio qio":["",""],"ju gu":["",""],"zhn shn":["",""],"xi ji":[""],"gu x jun":[""],"r":[""],"l li":["","","",""],"x gu jun":[""],"yng hng":[""],"yng":["","","","","","","","","","","","","","","",""],"cho":["","","","",""],"cun":["","",""],"chun":["","","","",""],"jng xng":[""],"cho":["","","","","","","","","","","",""],"qio":["","",""],"gng":["","","","","","","","",""],"ch ch chi c":[""],"xing hng":[""],"shui":["","",""],"p":["","","",""],"tng n":[""],"m w":[""],"ti ti ti":[""],"zhu":["","","","","","","",""],"jun jun":[""],"shu":["","","","","","",""],"chu do":["",""],"jin jin sn":[""],"sh qi":[""],"q j":["",""],"shn qio shn":[""],"zhung chung":[""],"chn chn":[""],"mi":["","","","","","","","","","","","","","",""],"gn gn":[""],"bng bng":["",""],"j j":[""],"gung n":[""],"gung":["","","",""],me:[""],"dn tn":[""],"bi tng":[""],"yng yng":[""],"d de":[""],"d du":[""],"mng mng png":[""],"bng png":[""],"chng":["","","","","",""],"j cu":[""],"qng":["","","","","","","","","",""],"gu wi hu":[""],"jn qn":[""],"ku":["","","","","","","","","","","","","","","","",""],"qing s":["",""],"yn yn":["","","","","","",""],"p pi":["",""],"nng lng":[""],"d t tu":[""],"ju zhng":[""],"m m":["","",""],"cho":["","","","","","","",""],yi:[""],"sho":["","","","","","","","","","","",""],"xun yun":[""],"qing qing jing":["",""],"tn dn":["",""],"bi":[""],"qing jing qing":[""],"j xu":[""],"tun":["",""],"yu":["","","",""],"shn xin":[""],"wn":["","","","","","","","","","","","","","","","","","","","","","","","","",""],"png bng":[""],"pio pio":[""],"zhu b":[""],"tu y":[""],"png fng":[""],"wng":["","","","","","","","","","","","","","","","","","",""],"c":["",""],"di di":[""],"hui":["","","","","","","","","","",""],"w wng ji":[""],"chng zhng":[""],"d di de":[""],"cng zng":[""],"sh t":[""],"t ch":["","",""],"d":["","","","","","","",""],"zh zhng":["",""],"bi":["","","","","",""],"chng zhng":[""],"jio jio":["","",""],"lng lng":[""],"q j":["","","",""],"dng tng":[""],"gi":["",""],"rn":["","","","","","","","",""],"chn":["","","","","","",""],"t":["","","","","",""],"t ti tu":[""],"gn hn":["",""],"y q":[""],"ti sh":[""],"x li":[""],"yng yng":["","",""],"mn wn mn":["",""],"sng zhng":[""],"y sh":["",""],"q sh":["",""],"tn zhn dn":[""],"qin qn":["",""],"hn":["","","","","","",""],"ni":["","","","","","","","","",""],"kung wng":[""],"kng hng":[""],"ki x":["",""],"u":["",""],"bo bo":[""],"mn mn":[""],"zu zh":[""],"zn":[""],"yng":["","","","","","","",""],"ku j":[""],"no ni":[""],"zhng zhng":["","","",""],"ti zhn":[""],"h g":[""],"c j z":[""],"s si":[""],"yu chu":[""],"t di":[""],"yu yo":[""],"xun":["","","","","","","","","","","","","","","","","","","","","",""],"x xu":[""],"b p":[""],"x sh":[""],"nn nn":[""],"tio yo":[""],"x q x":[""],"xio jio":[""],"h ku":[""],"n":["","","",""],"hn":[""],"dng tng":[""],"qun zhun":[""]," w  w":["",""],"tng":["","","","",""],"yun jun":[""],"qio qio":[""],"ji k":[""],"ho jio":[""],"hu":["","","","","","",""],"mn mn":["",""],"y y":["",""],"qun":["","","",""],"ku l":[""],"y nin":[""],"mn mn":[""],"gun":["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kng kng":[""],"ln ln":[""],"gu":["","","","","","","","","","","","",""],"yun wn":["",""],"ln ln":[""],"y x":["",""],"chu chu":[""],"hn mn":[""],"chng tng":[""],"su ru":[""],"cn":["","","","","",""],"cn":["","","","","","","","",""],"dn d":["",""],"r":[""],"y tu":[""],"ki q":[""],"dng tng shng yng":[""],"chn xn dn":[""],"k qi":[""],"nu":["","","","","","","","","","","","","","","","",""],"gn":["","","","","","","","","","","","","","","","",""],"cng sng":[""],"si s s":[""],"gng gng hng":["",""],"shu s":["",""],"yo yo":[""],"hung":["","","","","","","",""],"zhng":["","","","",""],"co":["","","",""],"x xi":[""],"co so":[""],"x ch":[""],"qi qin":[""],"co cng":[""],"o o":[""],"lin lin":["","","",""],"jn qn jn":[""],"d ch":[""],"zh zh":[""],"lu l":["",""],"cng":["",""],"zh zh":["","","",""],"chng":["","","","","","","","","","","","","","","","","","","","","","","","","",""],"bi":["","","","","",""],"chng dng zhng":[""],"x x":[""],"du dn tn":[""],"xio jio":[""],"xin xin":[""],"lio lio":["","","",""],"shng":["","","","","",""],"no no nng":[""],"jng jng":[""],"j jio":[""],"xun hun":[""],"co so so":[""],"mn":["","","","",""],"mng mng mng":[""],"i y n":[""],"mng mng":["","",""],"q j j":[""],"m":[""],"ln xin":[""],"yu yu":[""],"li li":["",""],"rng":["","","",""],"hun":["","","","","","","","","","",""],"nn":["","","","","","",""],"m m":[""],"gng zhung":["",""],"zhung gng":[""],"x qu":[""],"x h":["","",""],"ji g":[""],"zi":["","","","","","",""],"dng":["",""],"h x":[""],"chu":["","",""],"bin pin":[""],"shng jing":[""],"shn shn":[""],"ci":["","","","","",""],"zh z zh":[""],"l l ci":[""],"b p":[""],"d d":[""],"rng":[""],"fn f":[""],"dio d yu l":[""],"kng gng":[""],"y w":[""],"y w k":[""],"tu ch y":[""],"g ji x g":[""],"dn":["",""],"so so":["",""],"ro":["","",""],"x ch q":[""],"bn pn":[""],"b o":[""],"x zh":[""],"zh sn kn":[""],"zho":["","",""],"kung wng zi":[""],"h g":["","",""],"b b":[""],"dn shn":[""],"n n ru n":[""],"zhu":["","","","",""],"pu":["",""],"zh sh zh":[""],"pu pu f":["",""],"po":["","","",""],"o o ni":[""],"ln ln":["",""],"qing qing chng":[""],"zh zhi":[""],"b p":["",""],"yo to":[""],"h h qi":[""],"n n":[""],"p pi":[""],"m m m":[""],"chu":["","","","",""],"ji y":[""],"f b":["","",""],"zh":["","","","",""],"dn dn dn":[""],"chi c":[""],"nin":["",""],"l l l l":[""],"bn pn":[""],"pi":[""],"ln":[""],"gui":["","",""],"tu t zh":[""],"o o ni":[""],"j gu":[""],"pn pn fn":[""],"bi bi":[""],"bi":["","","","","","","",""],"qi":[""],"nng nng nng":[""],"z zhi":["",""],"hn":["","",""],"ku gu":[""],"ji ji":[""],"nn":[""],"shun":["","","",""],"cn zn":[""],"z zn":["",""],"ko":["","","","",""],"y ch hi":[""],"c s chu":[""],"zhui zhui y":[""],"sh sh":[""],"bi":["",""],"ku gung":[""],"nng":["","",""],"jio jio":["","",""],"ku k":[""],"n r":[""],"tio tio":[""],"di sh":[""],"li":["",""],"y y":["",""],"w zhu":[""],"xi ji":["",""],"dng dng":["",""],"zhng zhng":["","",""],"i i":[""],"tu shu":["",""],"t t":[""],"su sh":[""],"s sh su":[""],"kng qin":["",""],"bng png":[""],"ru ru":[""],"jio k":[""],"w w":[""],"tng":["","","","","","","",""],"hu ch":[""],"t sh ch":[""],"l lu":[""],"sho sho":["",""],"ni":["",""],"sh sng su":[""],"y y":[""],"ju zhu":[""],"b p zh":[""],"zn":["",""],"lo":["","",""],"sn":["","","","","","","",""],"wn wn wn y":[""],"png":["","",""],"sh":[""],"f f b":[""],"do":[""],"lu lu w":[""],"jun qun":[""],"chn tin":[""],"nin ni":[""],"ru wi r":[""],"zu":["","","","","","",""],"w xi":[""],"qng qin":[""],"pu pu":[""],"qi":["",""],"pi pi":[""],"qin wn":[""],"y y":[""],"ni n y":[""],"hu x":[""],"yn shn yn":[""],"zhng dng":[""],"kng":["",""],"tu":["","",""],"zu zhu chu":[""],"tin":["",""],"kn":["","",""],"p":["","","","","",""],"gu gui":[""],"dn shn":["",""],"chn xin cn shn":[""],"so":["","","","","","","","","","",""],"png":["","","","",""],"zhng kng":[""],"ji yu":[""],"jin jin":["",""],"p ch":[""],"si zng ci":[""],"t d d":[""],"zng sng":[""],"hung yng":[""],"zn zun":[""],"x j":[""],"k qi":[""],"chui chui chui tun zhu":[""],"d t":[""],"l l":[""],"l":["","","","","","","","","","","","","","","","",""],"ji q":[""],"chng dng":[""],"di sh y":[""],"jin qin jin":[""],"y":["","","","","","",""],"chn":["","","","","","","","",""],"g g":["",""],"lu lu":["",""],"chu zu":[""],"chui":[""],"sn":["","","","","","","","","",""],"rng nng nng":[""],"png bng":[""],"cu":["","","","","",""],"k ":[""],"n nu nu":[""],"l xi xin":[""],"qi":["",""],"xin xin":[""],"ji zh":[""],"pn bn p":[""],"bn":["","","","","","","","","","","","","","",""],"zh ni":[""],"w w w":[""],"hu":["","","","","","","","","","","",""],"qing qing chng":[""],"tin shn":[""],"n nu":[""],"n":[""],"sh ni":["",""],"bn":["","","","","","","","","","","",""],"sh s shi":[""],"chn sn":[""],"ji li lio jio no":[""],"fng png":[""],"shui":[""],"d t zh":[""],"q j ch":[""],"su sng":[""],"lin lin":[""],"gi x":[""],"h ch":[""],"tng":["","","",""],"ni zh":[""],"m m":[""],"jing qing":[""],"o qio":[""],"ni ch":[""],"mn mn":[""],"chn cn":[""],"s m s":[""],"bio bio":[""],"ju ju":[""],"pi":["","","",""],"pi pi":[""],"zn zn zn qin":[""],"s s":[""],"hng":["","","","",""],"hng gung":[""],"nin":["","","","","","","","","","","",""],"chng zhng":[""],"hu wi":[""],"co":["","",""],"xio su":[""],"lio lio":[""],"cu zu":[""],"wi tu":[""],"cun":["","","","","","",""],"qio yo j":[""],"zhu w":[""],"li li":[""],"nng":["","","",""],"qng jng":[""],"kui":["","",""],"p b":[""],"b bi":[""],"j j":[""],"mng":[""],"su su":[""],"xng":["","",""],"c":[""],"nng nng nng":[""],"zh ji":[""],"l li":["",""],"su su":[""],"l lu yu":[""],"t zhi zh":[""],"pn":["","","",""],"li":["","","","","","","","","","","","","","",""],"c s":[""],"jn pi":[""],"l lu":["",""],"l li":["",""],"l lu":[""],"zn cun":[""],"xin jin":[""],"m m m":[""],"zn cun zn zun":[""],"zun":[""],"l shi":[""],"l lu":[""],"gu gu":[""],"j q y":[""],"fng":[""],"w mu":[""],"ch shu":[""],"g gu ":[""],"du du":["",""],"du qu":["",""],"sn sn":[""],"dn du":["",""],"q y j":[""],"xio xu":[""],"sh sh shu":["",""],"i zh":["",""],"xing xun":[""],"zhu zh":[""],"y d":[""],"l ti":[""],"fi fi":[""],"y zhng":[""],"du du":[""],"w gun":[""],"tu tio":[""],"du":["","","","","","","","","","","","","","","","","","","","",""],"yn zh":[""],"chn ji":[""],"w y y":[""],"yu li":[""],"png bng":[""],"mo mo":[""],"p b":[""],"xun xun":[""],"w m":[""],"zo":["","","","","","","","",""],"g":[""],"gn hn":[""],"ti yng":[""],"x x":[""],"tn zhn":[""],"w w":[""],"p pi":[""],"zng":["","","","","","","",""],"i":["","","","","","","","",""],"hung hung":[""],"xun":["","","","",""],"x ku":[""],"hng":[""],"shi":["",""],"yn yn":["",""],"shng chng":["","",""],"jng yng":[""],"shn":["","","","","","","",""],"q d":[""],"n n yn":[""],"wng wng":[""],"zn":["","","","","","","","","","","","","","","","",""],"yn yn":[""],"mn mn":[""],"d sh":[""],"sh":["","","","","","","","","","","","","","","","","",""],"jin ln":[""],"nun":["","",""],"bo p":[""],"x x":[""],"p bo":["",""],"q q":[""],"q q":[""],"gng gng":[""],"h h":["",""],"zng cng":["",""],"cng zng":["",""],"cn qin jin":[""],"qi h":[""],"b p":["","","",""],"yu yu":[""],"bn fn":["",""],"f f":["",""],"fi k":["",""],"q x chn":[""],"jun zu":[""],"hung mng wng":[""],"q j":[""],"tng chung":["",""],"zh":["","","","","","","","",""],"zh sh sh":[""],"sh sh zh":[""],"zh sh":[""],"p p p pio":[""],"do tio m":[""],"gu qi":[""],"xi":["","","",""],"chng chng":[""],"z":["","","","","","","",""],"y w":[""],"gn gn":[""],"ch ch":[""],"shn sh":[""],"cn":["","","","","",""],"rn r":["",""],"sho bio":[""],"d du":["",""],"g gi":[""],"y zh l du":[""],"gng gng":[""],"tio tio":["",""],"m m":[""],"s zh x":[""],"yun wn":["",""],"bi fi":[""],"sh du":[""],"ni chu":[""],"w yu":["",""],"mo":["","","","","","","","","","","","","","","","","",""],"p m":[""],"ng":["","",""],"fng bng":[""],"h d":[""],"xn":["","","",""],"yo yo":[""]," ":[""],"zh q":[""],"cng zng":["",""],"xin zhn":[""],"ti s":[""],"gu j gu":[""],"bo f":[""],"y xi":["",""],"tu du":["","","",""],"y du l":[""],"n ch":[""],"pn bn":["",""],"yng yng yng yng":[""],"f f f":[""],"bi b b":[""],"mu":[""],"sho sho":[""],"zh":["","","","","","","","","",""],"yu yu":["",""],"gu j":[""],"zh zu":[""],"di zh":["",""],"zh z z":[""],"ch zh":["",""],"o o":["",""],"b f pi b bi":[""],"du zu w":[""],"b bi":[""],"zh ch":[""],"bi pi":[""],"sh fi":[""],"shn zh shi c":[""],"l yu":["",""],"q qi":["",""],"q x":["",""],"gu ku":[""],"bng bn":[""],"xio jio":[""],"jin zn":["",""],"yu y":[""],"h h":[""],"gn":["",""],"zh y":[""],"g g":[""],"hng hng":[""],"gung gung":[""],"y t":["",""],"sng":["","",""],"j ji":[""],"y mu":[""],"ro no":["",""],"gu hu":["",""],"chn zhn":[""],"tng yng":[""],"b po":[""],"bn fn":[""],"fng fng":["",""],"s yn":[""],"tng tng":[""],"xun jun xi":[""],"t ch":[""],"o yu":[""],"kun":["","","",""],"sho so":[""],"qn chn cn":[""],"l s q":[""],"chn yn":[""],"bn bng":["","",""],"to chu do":[""],"cng sng":[""],"gn hn":[""],"d zh":[""],"pi bi pi":[""],"bng pu bi bi":[""],"d di t":[""],"sn":["","","",""],"rn shn":[""],"lng lng lng":[""],"f s":[""],"zu su":[""],"zu":["","","","","","","","","","","","","","","","",""],"zho zhu":[""],"chn shn":[""],"ji qi":[""],"y y":[""],"chu zhu dio":[""],"qing kng":[""],"zhu chu":[""],"bi p":[""],"mn":[""],"qun jun qun":[""],"du chun":[""],"wi hu":[""],"ji ji":[""],"hn jin":[""],"shn zhn":[""],"yn y":[""],"zh ch":[""],"gu ku":[""],"j zh":[""],"k h":[""],"yu yu":[""],"sng cng":[""],"yun xun":[""],"yng yng yng":[""],"pin":["","","","","","","","","",""],"di y":[""],"dn shn":[""],"cu zu":[""],"d d sh":[""],"ki ji":[""],"ru ru":[""],"l yu":[""],"wn yn":["",""],"l":["","","","","","","","",""],"shn":["","","","",""],"b pi":[""],"zhn nin zhn":[""],"f f b":[""],"jin jn":[""],"bng bng":[""],"sh xi":["",""],"nu":["","","",""],"qin lin xin":[""],"gng":["","","","",""],"go":["","","","","","","","","","","","","","","",""],"din zhn zhn":[""],"kn jin":[""],"x di":[""],"j gu":[""],"rng yng":[""],"tun shun qun":[""],"q s":[""],"cu zh":[""],"yu cho":[""],"mn wn":[""],"l ch":[""],"li li":["","",""],"cho jio cho":[""],"chng tng":[""],"ji lio":[""],"m m":[""],"nio m":[""],"hng hng":["",""],"xu":["","","","","","",""],"f fi":[""],"rn":["","","","","","",""],"zhn jin":[""],"shn":["","","","","","","",""],"tu dn":[""],"tng chng":[""],"s qi":[""],"tn din":[""],"fn fn fi":[""],"rn yn":[""],"c chu":[""],"sh qio":[""],"png b":[""],"zhi sh t":[""],"bio bio":[""],"qin lin":[""],"n m":[""],"jin kn":[""],"nu run r":[""],"j j":["",""],"hung gu g":[""],"l ch":[""],"mi mi":[""],"u":["","","","","","","","","","","","","","",""],"zh zhu":[""],"ju j":[""],"hui gu":[""],"chn zhn":[""],"wi zu":[""],"cng":["",""],"y y":[""],"ch q x":[""],"ki i":[""],"y yn":[""],"x ki":[""],"shu su":[""],"i i i i i    ":[""],"q y":[""],"chu x":[""],"ch chui":[""],"kn qin":[""],"kn k":[""],"chun chun":[""],"yn yn":[""],"jn qn":[""],"pn":[""],"x chu":[""],"x sh":[""],"lin hn":[""],"zh ch":[""],"s sh":[""],"s":[""],"wn m":[""],"pio":["","","","",""],"qng jng":[""],"fu b":[""],"zh shi":[""],"y yn yn":[""],"hn mi":[""],"chu":["","",""],"ku hu":["","",""],"cun":["","","","","","",""],"yn yn yn":[""],"qng kng shng":[""],"yo xio xio":[""],"g g":["",""],"gun wn":[""],"d di":[""],"xn xn":[""],"m":["",""],"du nu":[""],"si su":[""],lu:[""],"so":["","","",""],"sh zh":[""],"d d":[""],"mng mng":[""],"yng r":[""],"shu":["","","",""],"zhng chng zhng":[""],"tn":[""],"fn fn":[""],"gu ji":[""],"bn p p":[""],"zhu qu":[""],"d ti":[""],"pn":["","",""],"hn hn":["",""],tu:[""],"tng shng":["",""],"zh j":[""],"gn hn cn":[""],"wn mn":[""],"fng png":[""],"h hung":[""],"ni yu":[""],"hng":[""],"shn chn":[""],"dn zhun":[""],"n ni":[""],"mi m":["",""],"t d":[""],"m w":[""],"hng png":[""],"sh sh":[""],"zhu z":[""],"u u":["",""],"j j":[""],"tu du":[""],"m l":[""],"y ch":[""],"xi y":[""],"b p":[""],"m b":["",""],"ch sh":[""],"yu yu o":[""],"png png":["",""],"po po":[""],"n n":["",""],"yu s":[""],"ju xu":["",""],"lng shung":["",""],"lu p":["",""],"z sh":["",""],"s x":[""],"s q z":[""],"x xin":[""],"ko ko":[""],"n yn ":[""],"li li":[""],"qi ji":[""],"qin jin":[""],"j j":["","","",""],"h x":["",""],"jn xn":["",""],"yng chng yng":[""],"lin l":[""],"fng hng":["",""],"jing jing":[""],"su ni":[""],"yng chng":[""],"tn yn":[""],"w gu":["",""],"hng":["",""],"zhng zhng":["",""],"shu to":[""],"shun":["",""],"kng nng":[""],"w wn yun":[""],"tu tu":[""],"w":["","","","","","","","",""],"qi j":[""],"gu gun":[""],"ln ln":["","",""],"tng chng":[""],"no chu zhu":[""],"png png":[""],"fi":["","","",""],"p pi":[""],"nin shn":[""],"bio h":[""],"chn zhn":[""],"hn hn":[""],"qin":["","","","","","","","","",""],"wn mn":[""],"r ru lu":[""],"d du":["","",""],"jin jin":["","","",""],"min shng":["",""],"nun nun":[""],"qi w":[""],"tng tng":[""],"d t d":[""],"gng jing":[""],"hng qng":[""],"tun":["",""],"hu mn x":[""],"x x":[""],"pn":["","","",""],"mn hn":[""],"tun nun":[""],"qi jio":["",""],"yn yn":[""],"bn pn":[""],"zhung hn":[""],"yn gu":[""],"lin lin nin xin xin":[""],"d t":["",""],"li li":["","",""],"ln":[""],"m":["","","","","","","","","","","","",""],"zhn qn":[""],"n nio":[""],"ch x":["",""],"wng wng":[""],"ho xu":[""],"q x xi":[""],"xng yng":[""],"z ho":[""],"pio pio pio":[""],"cng sng":[""],"fng png":[""],"lu t":[""],"png bn":[""],"chng shung":[""],"hu ku hu":[""],"lio li":[""],"cu cu":[""],"cng zng":[""],"cng zng":[""],"p pi":[""],"dng xing":[""],"hung gung":[""],"lio lo lo":[""],"cng zng":[""],"zh zh":[""],"tn shn":[""],"t zh":[""],"sn s":[""],"hi":["","","",""],"chng dng":["",""],"cn cn":[""],"png png":[""],"hng gng":["",""],"wn mn":[""],"kui hu":[""],"gu w":[""],"pn fn":[""],"j sh":[""],"hu hu":[""],"dng tng":[""],"m n":[""],"b p":[""],"cu zu":[""],"h hu":[""],"i ki k":[""],"wi du":["",""],"zn cun":["",""],"yng yng":[""],"wng wng":[""],"m mi":["",""],"su":["","",""],"hui wi":[""],"zn jin":[""],"yng yng yng":[""],"rng rng":[""],"shung":[""],"zhu jio z":[""],"s":["","",""],"lun lun":[""],"dng tng":[""],"xn qun qun":[""],"hu bio":[""],"zh y":[""],"fn bn":[""],"jing gu":[""],"png fng":[""],"qu":["","","",""],"bin":["","","","","","","","","","","","","","","","",""],"zho zho":[""],"zhu ch":[""],"po po bo":[""],"po fu":[""],"shn qin shn":[""],"zh zh":[""],"jio yo":[""],"qun":["","","","","","",""],"yng yng":[""],"lo lu":[""],"hu hu":[""],"r":["",""],"f po":[""],"xi ch":["",""],"yn shn":[""],"hn xn":[""],"ko":["","","","","","","","",""],"jun y":[""],"jn q":[""],"to do":[""],"cho j":[""],"w i":[""],"zng cng":[""],"x y":[""],"xn xn":[""],"cho zhu":[""],"xing yng":["",""],"ku":["","","","",""],"hu yn xn":[""],"jio qio":[""],"qin shn shn":[""],"x y":[""],"sh sh":[""],"y zh":[""],"yng yng":[""],"n yn":[""],"yn yn":[""],"h xio":[""],"xing":["","",""],"xn xn":["",""],"gng":["","",""],"li":[""],"cng zng":[""],"l o":[""],"sh shu":[""],"fng png":[""],"cu su":[""],"tng":["","",""],"yn y":[""],"o o":[""],"hn rn":[""],"u u":[""],"hung hung":[""],"chn dn chn":[""],"jio zhu qio ju":[""],"yn yn":[""],"ti li":[""],"o":[""],"yn xn":[""],"ju jio":["","","","",""],"ln ln":[""],"zhu zho":[""],"zho zhu":[""],"f f":[""],"di":["","",""],"zng":["","","","","","","","",""],"pin pin":[""],"bin min":[""],"bng":["","",""],"yu yng":[""],"chng chng":["",""],"ni":["",""],"ji l":[""],"m mu":[""],"mng":[""],"g qi":[""],"yu chu":[""],"t zh":[""],"bn":["","",""],"jin qin":["",""],"m":["","","","",""],"mo l":[""],"b qun":[""],"zhu bo":[""],"n hn":[""],"kng gng":[""],"pi fi":[""],"fn hun":[""],"kung":["","","","","","","",""],"y qun ch":[""],"xng shng":[""],"tu y":[""],"k":["",""],"hun hun":[""],"h m":[""],"t sh":[""],"mng du":[""],"x sh":[""],"sun":["","",""],"bi p":[""],"jin yn":["",""],"y y":[""],"y wi":[""],"ci":[""],"mo mo":["",""],"chun chun":[""],"tun tun":["",""],"y ji qi":[""],"h xi g hi":[""],"bin pin":["",""],"b p":[""],"ho go":[""],"fn fn":[""],"yo xio":[""],"shu x":[""],"g li xi":[""],"nu r":[""],"no no yu":[""],"rng":["","","","","","","",""],"no yu":[""],"l shui":[""],"wng wng":[""],"yng chng":[""],"mn wn":[""],"bn fn":[""],"mn yn":[""],"qing cng":["","",""],"n gn":[""],"xun xin":[""],"c c":["",""],"y ti":[""],"z j":[""],"f":["","","","",""],"yn kn":[""],"hu hn":[""],"xun qing":[""],"f f":[""],"bng pn":[""],"cu s":[""],"y wi":[""],"tin tin":[""],"zhu zu":[""],"bng pi":[""],"gun":["","","","","","","","","","",""],"hn hu":[""],"xi ji":[""],"chng dng yng":[""],"tin zhn":[""],"bn pin":["",""],"t sh":[""],"cu":["","",""],"zo su":[""],"ju qing":[""],"l f":[""],"j z":[""],"su":["","","","","","",""],"m x":[""],"qing wi wi":[""],"hun y y":[""],"b po":[""],"zh h":[""],"pio":["",""],"w w":[""],"xing hng":[""],"wng":["","","","",""],"shn shn":[""],"ru":["","",""],"yng":["","","","","",""],"shui":[""],"bng":["",""],"yu zh":[""],"din tin shng":[""],"tng dng":["",""],"zi z":[""],"b q":[""],"d f":[""],"c j":[""],"zi z tin":[""],"zh chu sh":[""],"fn pn":["",""],"sh y":[""],"dng dng dng":[""],"jing qing":[""],"p y sh":[""],"ji qi":[""],"y n":[""],"n":["","","",""],"g y":[""],"n yo":["",""],"l li":["",""],"y xi":[""],"xu":["","","","","","",""],"dn da":[""],"f bin":[""],"fi fi":["",""],"shn din":[""],"tng chng":[""],"tng tng":[""],"wi yu y":[""],"tn sh":[""],"p p":["",""],"bng png":[""],"m ln":[""],"tin din":[""],"n y ":[""],"k ":[""],"zh ch":[""],"ji xi xi":[""],"li hu":[""],"chi cu":[""],"din chn":[""],"da d":[""],"bi bi":[""],"qu":[""],"dn dn":[""],"gu wi":[""],"nng nng":[""],"bi bi":[""],"b b":[""],"bi":[""],"j b":[""],"de d d d":[""],"p b":[""],"go ho":[""],"go yo":[""],"l lu b":[""],"zh c":[""],"zho zhn dn":[""],"jin jin":["","","","",""],"gi g h":[""],"mng wng":[""],"yun":["","",""],"tin xin":[""],"xing xing":[""],"dn":["","",""],"x pn":[""],"shng xng":[""],"yn hn":[""],"min min":[""],"kn kn":[""],"yng yng yng":[""],"yo o o":[""],"j x ku":[""],"y ch":[""],"di t":[""],"bng fng":[""],"png pn":[""],"m m":["",""],"xun shn xn":[""],"tio":["","","","",""],"zhe zhu zho zho":[""],"qio sho xio":[""],"cu zhui":[""],"gn":["",""],"su zu":[""],"p b":["","",""],"y z go":[""],"xng xng":[""],"gu wi ku":[""],"ku j":[""],"qing hun":[""],"mn mn":["",""],"dio du":[""],"lou lu l":[""],"shn rn":[""],"lio lio":["",""],"jin xin":[""],"w m":[""],"gu ku":[""],"nng chng":[""],"hu yu":[""],"mng mng":[""],"kung gu":[""],"gun qun":[""],"mn mn":[""],"jn gun qn":[""],"jn qn gun":[""],"y x ju":[""],"jio jio":["",""],"dun":[""],"sh dn":[""],"gng qing kng":[""],"hu x":[""],"pn bn fn":[""],"yn yn":["",""],"lu k":[""],"f fi":["",""],"zh zh":[""],"l l l":[""],"kung gung":[""],"g lu":[""],"shu sh":["",""],"wi wi i":[""],"qu k k":[""],"mng bng":[""],"lu lng":[""],"yng tng":[""],"n":["",""],"kng kng":[""],"yn yn":[""],"zhu chu du":[""],"kng kng":[""],"zng cng":[""],"jin zhn":[""],"l li":["",""],"qu x":[""],"ln ln ln":[""],"no gng":[""],"ji y":[""],"wi wi":[""],"t d":[""],"ch ch":[""],"qio qu":[""],"s xi":[""],"li li":["","","",""],"s t":[""],"bng png":[""],"hu k g":[""],"wi ku":[""],"xi qi y":[""],"lin qin":[""],"wi i gi":[""],"l l":[""],"o qio":[""],"png png":["",""],"yn yn":[""],"li li":[""],"m m":[""],"q zh":[""],"lo lu":[""],"pn b":[""],"j sh":[""],"h qio qio":[""],"k hu":[""],"qu h":[""]," q":[""],"c":["",""],"xin xn":[""],"li li li":[""],"yn yn":[""],"q zh":["",""],"bng fng":[""],"b m":[""],"sun":["","","","",""],"pio pio":[""],"j zhi":[""],"shu li":[""],"jn jn":[""],"chn shn":[""],"yng shng":[""],"zh zh t":[""],"shn chn":[""],"y y u":[""],"z z":[""],"ch n":[""],"zhng zhng chng":[""],"ho mo":[""],"k k":[""],"z":["",""],"chng":["",""],"hu ku":["",""],"chng chn chng":["",""],"sh zh":["",""],"f p":[""],"xn z":[""],"t sh":[""],"zhn zhn":[""],"j q":["","",""],"lng lng":[""],"zu z s":[""],"x qi":["",""],"zhng zhng":[""],"zng zng":[""],"xin jin lin":[""],"z ji":[""],"j q":[""],"rng":[""],"shn cn cn":[""],"mn mi":[""],"j j":[""],"xio ro":[""],"zhu b":[""],"tng zhng zhng":[""],"zu":[""],"bio po":["",""],"zhu ju":[""],"cun zn":[""],"kng kng kng":[""],"y y":[""],"zhi":["",""],"bo":["",""],"k zh":[""],"jio lio li":[""],"w gu":[""],"tio yo":[""],"xn yn":[""],"y y":[""],"tin din yn":[""],"cho k":[""],"kun cun":["",""],"ch q":[""],"q ku":[""],"jng zhn":[""],"kn kn":[""],"zh d":[""],"l jn":[""],"zhu ru":[""],"hng hng":[""],"cn jn hn":[""],"d xi n":[""],"z zu":[""],"lng lng":["","","","",""],"zh zh":["",""],"d d":["",""],"shi":["","","",""],"yn jn":[""],"lng lng":["","",""],"zh zh":[""],o:[""],"pu b f p":[""],"pi bi":[""],"g":["","","",""],"ti ch":[""],"gui di":[""],"zho do":[""],"jng qng":[""],"ln ln":[""],"jn qn":[""],"sh y":["",""],"yu yo chu":[""],"xio shu qio":[""],"gng gn lng":[""],"png png":[""],"zhu hu":[""],"jin jin":[""],"d zh":[""],"zn cn cn":[""],"zhun sun zun":[""],"pio bio":[""],"gu gu":[""],"c j":[""],"m mi":[""],"shi s":[""],"sn zhun":[""],"gn gn":[""],"b b":[""],"b b":[""],shi:[""],"zhn jin":[""],"zhun zun":[""],"fn pn bin":[""],"su sh":[""],"zun":["","","","","",""],"n":["","",""],"sh cho":[""],"kng jng":[""],"fn":["",""],"c":["","","","",""],"nin zhn":[""],"c s":[""],"zhu y":[""],"shn sn":[""],"bin bin":["",""],"min":["","","","","","",""],"h h h":[""],"g gu":[""],"m mi":[""],"sn shn":["",""],"zo":["","","",""],"m s":[""],"ji ji":[""],"x j":["",""],"zhng zhng":[""],"ch ch":["",""],"yu yo":["",""],"hng gng":["",""],"h g":["",""],"wn wn":["",""],"fu":[""],"j ji ji":[""],"p p b":["",""],"jn jn":[""],"zh z":["",""],"h":[""],"f f":[""],"chu chu":[""],"li li li":[""],"b b":[""],"tin zhn":[""],"jing jing":[""],"ji ji":["","",""],"gu ku":[""],"bi m":[""],"gng hun":[""],"ji xi":[""],"qun shun":[""],"gi i":[""],"lu lo":["",""],"bng bng png":[""],"gi j":["",""],"tng tng dng":[""],"tio dio do":[""],"li li li":[""],"gi hi":[""],"ch zh":[""],"wn min mn wn":[""],"hun hun wn":[""],"qn xin":[""],"t t":[""],"yn xin":[""],"zng zng zng":[""],"chn ln":[""],"zhn zhn":[""],"qin qng zhng":[""],"qng q":[""],"ln gun":["",""],"chu cho":["",""],"tin tn chn":[""],"l l":["",""],"run run":[""],"j q":[""],"zhng chng":["",""],"mio mo":[""],"xi y":[""],"hun":["","",""],"gng gng":["",""],"tu x sh":[""],"zng zng":["",""],"yn gn":[""],"gu w":[""],"yn yn wn":["",""],"bng bng":[""],"g h":["",""],"c cu su":[""],"cu shui":[""],"rng rng rng":[""],"zi zng":[""],"ci":["","",""],"fng fng":[""],"su s":["",""],"yn yn":["",""],"zng zng":["",""],"zhun jun":[""],"m m":["",""],"pio pio":["",""],"fn p":[""],"bng bng":[""],"mu mi mio lio":[""],"yo yu zhu":[""],"zng zng":["",""],"j ju":[""],"chu chu":[""],"zn zn":[""],"ro":["","",""],"chn chn":[""],"hu hu":["","",""],"qio so zo":[""],"jio zhu":["",""],"dn tn chn":[""],"nng":[""],"p f":[""],"yo l":[""],"rng xing":[""],"l s x l":[""],"xin qin":[""],"jng jng":[""],"t t":[""],"bng bng bng":[""],"zng zng":[""],"j q":[""],"wn yn yn":[""],"fng fng":[""],"shui cu su":[""],"mi mu lio mio m":[""],"qio so":[""],"fu":["","","","",""],"b ba p":["",""],"gu gui":[""],"yng xing":["",""],"mi go":[""],"y x":[""],"qing qin":[""],"qing kng":[""],"qin xin yn":[""],"nu":[""],"hng gng":[""],"p b p":[""],"q y":[""],"k":[""],"qio qio":[""],"zhi d":[""],"do zhu":[""],"hu q":[""],"shu":[""],"run nu":[""],"r ni":[""],"zhun dun":[""],"p b":[""],"ch s":[""],"q ch":[""],"ln ln":[""],"j ji":[""],"tng tng":[""],"png":["",""],"zh z":[""],"y y":[""],"yn yng":[""],"w tu zhu":[""],"r n":[""],"ti zh":[""],"d zh":[""],"qi":[""],"n jin":[""],"li l":[""],"co":["","","",""],"b d":[""],"xio xio":[""],"d d":[""],"chi":["","",""],"hn qn hn":[""],"png pn pn":["",""],"zhn chn":[""],"ng":["",""],"y y":[""],"p b b":[""],"fi b":[""],"bi bi":[""],"fi z":[""],"png png":["",""],"f f zhu":[""],"shng shng":[""],"ku":["","",""],"gi hi":[""],"g g g":[""],"nng ni":[""],"gu ku":[""],"mi m":[""],"zng zng":[""],"jio ju":["",""],"cu":[""],"de te":[""],"zu jun":[""],"ni":["","","","","",""],"p f":[""],"nio":[""],"shu":[""],"gu":["","",""],"l x":[""],"yn ":[""],"go go":[""],"l bio":[""],"chui":[""],"zhun chun chn zhun":[""],"chui":["",""],"fn pn":[""],"w h":[""],"shn dn":[""],"tn":["","","","","","","","","","","",""],"b bei":[""],"l g":[""],"so so":[""],"no":["","","",""],"n lun":[""],"qin xin":[""],"gung jing":[""],"gung jing":[""],"chu xi":[""],"min bin":[""],"di zh":[""],"zh jn":[""],"sh sh":[""],"p":["",""],"bn b pn":[""],"ku":[""],"gn gn":[""],"s shi":[""],"f b":[""],"jio qi":[""],"chi ch":[""],"sho qu":[""],"h xi":[""],"z z":[""],"hu h":[""],"tn chn":[""],"ji gi":[""],"x zh":[""],"yun yn":[""],"xn xn":[""],"ln hu":[""],"w h":[""],"gu gu":[""],"mo mo":[""],"fi f":[""],"chn yn":[""],"qi":[""],"s s":[""],"tio sho":[""],"l j":[""],"k h":[""],"j q":[""],"ru r":[""],"zh nng":[""],"p b":[""],"xi":[""],"zh zu":[""],"j ch":[""],"ni":[""],"shng ru":[""],"qi ji":[""],"z c":[""],"qin x":[""],"chi":[""],"f pi":[""],"ro":["","","","",""],"yng xng":[""],"qin xn":["",""],"yn yn":[""],"h h":[""],"sh su":[""],"png fng":[""],"shn xn":[""],"wn gun gun":[""],"yu s":[""],"sho xio":["",""],"lng ling":[""],"pio f":[""],"wn wn min":[""],"sh sh":["",""],"t t":[""],"xin lin":["",""],"wn y":[""],"zu ch":[""],"l l":[""],"jn jn":[""],"ni rn":[""],"z z zi":[""],"t t":[""],"ji sh":[""],"qio zho":[""],"ti zh ch":[""],"fi fi":["",""],"qn qn jn":[""],"z j":["",""],"ln m":[""],"tin tin":[""],"ti":["","",""],"lu l lo lu":[""],"zh zhu zhe":[""],"shn rn":[""],"g g":[""],"jn su":[""],"ku kui":[""],"r n":[""],"mng mng mng":[""],"yun hun":[""],"x sh":[""],"x x":[""],"m mng":[""],"su su":[""],"gi g h hi":[""],"yo zhu":[""],"dio tio d":[""],"x qi f":[""],"z j":[""],"lio l":[""],xu:[""],"hn hn":[""],"mn wn mn":[""],"p b":[""],"fn fn b":[""],"hng hng":[""],"y o":["",""],"x xio":[""],"bo b b":[""],"c z":[""],"wn lun":[""],"ko ho":[""],"yun wi":[""],"zhu chu":[""],"w mi":[""],"xio ho":[""],"y x x":[""],"ji j":[""],"dio zhu":[""],"cng zng":[""],"l":[""],"ch zh":[""],"pn png":[""],"gn hn":[""],"hng jing":[""],"hu hu":[""],"xi h":[""],"m m m":[""],"fng bng":[""],"bng bng":[""],"ju qu":[""],"qn qin":[""],"gng zhng":[""],"f f":[""],"di d":[""],"gu q x":[""],"b p":[""],"sh y":[""],"ti":["","","","","","",""],"g lu":[""],"mng bng":[""],"y x":[""],"h g":[""],"qi n":[""]," y":[""],"zh zh":[""],"l zh":[""],"su":["",""],"yu qi":[""],"xi h":[""],"x q":[""],"b p":[""],"ni nng":[""],"h xi":[""],"gu hu":[""],"m m m":[""],"sh zh":[""],"zh di":[""],"jin chn":[""],"ma m m":[""],"mng mng":[""],"bi bi":[""],"bn fi":[""],"lo lio":[""],"yn xn":[""],"l l":[""],"xu xi":[""],"xng hng hng hng":[""],"shui cu":[""],"tu tu":[""],"lng lng":[""],"bo po po":[""],"j ji":[""],"h k":[""],"y y":["",""],"n ju":[""],"bi p":[""],"ch nu":[""],"ch q du nu":[""],"ji qi ji":[""],"b m":[""],"gu gu":[""],"li li":[""],"chng chng":[""],"ji g":[""],"do chu":[""],"shang chng":[""],"yun gn":[""],"yn n":[""],"t x":[""],"f f":[""],"ch zh":[""],"tu tn":[""],"li":[""],"yo yo":[""],"qn tn":[""],"jin xin":["",""],"pin":["","","","",""],"pi mi":[""],"yng yng":[""],"q q":["","",""],"jin bin":[""],"lu lun":[""],"z zu":[""],"hu xi":[""],"ji ji xi":["",""],"xu h":[""],"l l":[""],"to":["",""],"zhn":[""],"z z":[""],"y di":["",""],"xing":["",""],"dio tio":[""],"y ch ch":[""],"lng lng":[""],"i i i i x":["",""],"shu":[""],"y y":["","",""],"shu shu yu":["",""],"shu shi":["",""],"q ju":[""],"ch li":[""],"n n":[""],"dio tio":[""],"p bi":[""],"j j":[""],"z zu zh cu":[""],"ch j":[""],"ho xi":[""],"ln ln":["",""],"sh d":[""],"hu gu":[""],"x shi i":[""],"nn nn":["",""],"mi":["",""],"zn":["",""],"sh zh":["",""],"jun xun":[""],"y tu":[""],"zhn":[""],"x h":[""],"xing yng":[""],"tio dio zhu":[""],"chn shn":[""],"m mi":[""],"mn mn":[""],"g y":[""],"hu hu hu":[""],"zh zhi":[""],"hun hun":[""],"kn kn":[""],"m h":[""],"m h ho":[""],"j lu":[""],"z zhi":["",""],"di t":[""],"b bn":[""],"ji g ji":[""],"xing mn":[""],"cng":[""],"zhun zun":["",""],"wn zhun":[""],"gn gng zhung":[""],"yun yn":[""],"bn b":[""],"ji g":[""],"zu":["","",""],"di t":[""],"j qi":[""],"q c":["",""],"j ji":[""],"gu hu":[""],"qu q j":[""],"tng tng":[""],"chu zhu":[""],"q c":[""],"yu t":[""],"b bo":[""],"ku w":[""],"gu ju":[""],"fng fng png":[""],"po b":[""],"q q":[""],"jin chn":[""],"po po":[""],"din di ti":[""],"j j qi":[""],"b":[""],"lu l":[""],"di du du ch":[""],"zhui":[""],"bng pin":[""],"tio to":[""],"sh chu":[""],"ling ling":[""],"t t":[""],"ch":["","",""],"d zh":[""],"dng dng":["","",""],"cng":[""],"dn cn":[""],"ju ju":[""],"lio":[""],"xi s":[""],"t":["","",""],"y zh g":["",""],"xn xin":[""],"fn gu":[""],"zhun zhun":[""],"zhu zhu":["",""],"b":["","",""],"zhun zhun zhui":[""],"zi zi":[""],"nin zhn":[""],"bin bian":[""],"do bin":[""],"y y":["","",""],"gu guo gu":[""],"wng kung":[""],"hi hun":[""],"zh zhi":[""],"yun yun":[""],"zh l":[""],"zh wng":[""],"zhu du":[""],"sh ku":[""],"tu":[""],"tng tng":[""],"gung":[""],"di di":[""],"su su":[""],"t d":[""],"y wi":[""],"sh d zh":[""],"c":[""],"hun hi":[""],"l ch":[""],"kng hng":[""],"n ni n":[""],"xi y y y x":[""],"gi hi":[""],"hun xn":[""],"ch x":[""],"ho":[""],"l zh":[""],"xio o":[""],"du d":[""],"lio":["","",""],"zn cun cu":["",""],"dng dng":[""],"c zu":[""],"f p":[""],"shi sh":[""],"ning":["",""],"qi chu":[""],"p f":["",""],"chn chn":[""],"yn lin xin":[""],"ning ning":[""],"l li":[""],"l x x":[""],"lio lio":[""],"dng dng":["",""],"qio jio":[""],"y hu":[""],"hu w":[""],"r rn jin":["",""],"d di":[""],"p zho":[""],"y y":[""],"b p":["",""],"t tu":["",""],"bi":[""],"bng png":[""],"h k":["",""],"chng":["",""],"xing jing":[""],"y s":[""],"x hu":[""],"rn rn":[""],"shn shu":[""],"ch l":[""],"xin x":["",""],"hu xing":[""],"dio tio yo":[""],"xin ku tin gu":["","",""],"zh ni":[""],"zhng yng":[""],"tu t du":[""],"mi mng":[""],"wn jin":["",""],"tng dng":["",""],"jun jin cun":[""],"s tu":[""],"jun xun jun":[""],"w hu w":[""],"zhu chu":[""],"xng xng jng":[""],"j j":["",""],"zu ni":[""],"yun yun wn wn":[""],"gng gng":["",""],"zhu":["","","","",""],"":["",""],"cu ch":[""],"su s":[""],"yo z":[""],"y t g":[""],"qing chng":[""],"g l":["","",""],"b p b":[""],"go ho":[""],"z chu":[""],"xi xi":[""],"shu su":[""],"d d":["",""],"qio sn cn":[""],"l o":[""],"tng tng":[""],"jin zn":[""],"hu su ru":[""],"qing qing":["",""],"sn xin s":[""],"jin jin":["",""],"dng chng":["",""],"zun zun":[""],"s x":[""],"yo yu":[""],"tu du":[""],"zun zun":[""],"qin yn":[""],"p p":[""],"yo dio tio":[""],"tng tng":[""],"p p":[""],"tn xin":[""],"li li":[""],"ho go":[""],"tng tng":[""],"tn chn xn":[""],"hu shn":[""],"hn b":["",""],"kng kng":["",""],"xin jin jin jin":[""],"xi xi":[""],"xi k":[""],"bin gun":[""],"h g":["",""],"hng xing":[""],"s x":[""],"tng tng":[""]," yn":["",""],"hng jun xing":[""],"bn pn":[""],"d sh":["",""],"qu qu":[""],"tng tng chng":[""],"kn hn":["",""],"x s t":[""],"mn mn":[""],"qu qu":[""],"yn din":[""]," ":[""],"bi p p":[""],"yn yn":[""],"y yo sh":[""],"lng lng":[""],"du zhu":[""],"su du":[""],"gi q i":[""],"hu du":["",""],"wi ku":[""],"l di":[""],"zhu cu wi":[""],"h h":["",""],"jn jun":["",""],"nn nn nu":[""],"qu qio qio":[""],"gun hun":[""],"gu x":[""],"s x":[""],"n":[""],"w mng":[""],"tng":[""],"l lu":[""],"mi":[""],"jng ling":[""],"g j":[""],"b":[""],"yng yng":[""],"g t s":[""],"bin yng":[""],"qio sho":[""],"jun xun":[""],"shng zhng":[""],"p bng b bi":[""],la:[""],"xi di":[""],"ng":[""],"mu m":[""],"b bng":[""],"mi w":[""],"ru":[""],"sh xi":[""],"yn wn":[""],"dn d":["",""],"du":[""],"lu":[""],"bn pn":[""],"yng":["","",""],"mn":["",""],"jng gng":[""],"ji xi ji":[""],"k k":[""],"pn bn":[""],"chn zhn":[""],"fng fng":["",""],"bio di":[""],"b f":[""],"so su":[""],"li lio":[""],"sh s y":[""],"yng jun":[""],"zh tu":[""],"y s":[""],"zu z zh":[""],"ti":["",""],"xing nng":[""],"tng xng":[""],"g le":[""],"ch zha":[""],"nng nng":[""],"yn w":[""],"zh sh":[""],"xn jn":[""],"kui ju":[""],"zng":["",""],"ti di":[""],"xn xun":[""],"ling lng":[""],"pin":["","","",""],"di ti":[""],"so so":[""],"g g":[""],"bi m":[""],"xio qio":[""],"bng png":[""],"b ju":[""],"b p":[""],"mo mng":[""],"ku yu":[""],"b b":["",""],"j c":[""],"b b":[""],"zh zh":["",""],"chu di":[""],"lu g":[""],"gu xi w ku":[""],"xin xin":["",""],"p b":[""],"y s":[""],"b b":[""],"gu xi":[""],"si x":[""],"nio dio":[""],"dio zho":[""],"gn hn yn":[""],"f gu":[""],"jin qin zhn":[""],"h ji":[""],"pin bin":[""],"chun zh":[""],"cng qing":[""],"sn xn":[""],"bio po":[""],"zh c":[""],"jn qn":["",""],chi:[""],"m me":[""],"m me ma":[""],"m m":[""],"dn shn":[""],"zhn yn":[""],"dn zhn":[""],"min mn mng":[""],"hu":[""],"nng":[""],"q j z zhi":[""],"yn kn yn":[""],"yn kn":[""],"gng w":[""],"gu jn qi":["",""],"ku w":[""],"lu":[""],"u q":[""],"lu l":[""],"g g g":[""],"w gu":[""],"zh d":[""],"gng hng":[""],"yo xio":[""]},KF=new WF;Object.keys(qF).forEach((e=>{const t=qF[e];for(let n of t)KF.set(n,e)}));const YF=["zh","ch","sh","z","c","s","b","p","m","f","d","t","n","l","g","k","h","j","q","x","r","y","w",""],XF=["j","q","x"],$F=["un","un","un","un","uan","u","u","u","u","ue","n","n","n","n","un","","","","","u"],JF={"un":"n","un":"n","un":"n","un":"n",uan:"an","u":"","u":"","u":"","u":"",ue:"e","n":"n","n":"n","n":"n","n":"n",un:"n","":"","":"","":"","":"",u:""},ZF=["ia","ian","iang","iao","ie","iu","iong","ua","uai","uan","uang","ue","ui","uo","an","e","van","ve"],QF={"":"y","":"r","":"sn","":"s","":"w","":"li","":"q","":"b","":"ji","":"sh","":"bi","":"qin","":"wn","":"y","":"dn","":"ling","":"shung","":"du","":"j","":"sh y","":"lng y","":"d y","":"y sh","":"y sh y"},eH={"":"chng","":"hng","":"du","":"gng"};const tH=function(){const e={"":"lng y","":"lng y","":"sh y","":"y sh","":"d y","":"y sh y"};for(let t in QF)for(let n in eH){const r=`${QF[t]} ${eH[n]}`;e[`${t}${n}`]=r}return e}(),nH=Object.keys(tH).map((e=>({zh:e,pinyin:tH[e],probability:1e-12,length:HF(e),priority:BF,dict:Symbol("rule")}))),rH={"":{"b":[4]},"":{"y":[4],"y":[1,2,3]}},oH={"":["","","","","","",""],"":["","","","","","",""]},iH=Object.keys(rH);function aH(e,t,n){return function(e,t){if(""===e)return t&&KF.get(t)?KF.get(t).split(" ")[0]:"tng"}(e,t)||function(e,t){if(!(""!==e||t&&KF.get(t)))return"lio"}(e,t)||function(e,t,n){if(-1===iH.indexOf(e))return AH(e);if(t===n&&t&&AH(t)!==t)return OH(AH(e));if(n&&!oH[e].includes(n)){const t=AH(n);if(t!==n){const n=xH(t),r=rH[e];for(let e in r)if(-1!==r[e].indexOf(Number(n)))return e}}}(e,t,n)||AH(e)}const sH={"":"nn gng","":"d w","":"m q","":"s m","":"shng gun","":"u yng","":"xi hu","":"zh g","":"wn rn","":"dng fng","":"h lin","":"hung f","":"y ch","":"gng yng","":"tn ti","":"gng y","":"zng zhng","":"p yng","":"chn y","":"ti sh","":"shn t","":"gng sn","":"zhng sn","":"xun yun","":"lng h","":"zhng l","":"y wn","":"zhng sn","":"m rng","":"xin y","":"l qi","":"s t","":"s kng","":"q gun","":"s ku","":"zhng d","":"z j","":"zhun sn","":"dun m","":"w m","":"gng x","":"q dio","":"yu zhng","":"rng s","":"gng ling","":"tu b","":"ji g","":"zi f","":"g ling","":"dun gn","":"bi l","":"dng gu","":"nn mn","":"h yn","":"yng sh","":"ling qi","":"zu qi","":"dng mn","":"x mn","":"gu lng","":"gun qi","":"zho","":"qin","":"sn","":"l","":"zhu","":"w","":"zhng","":"wng","":"fng","":"chn","":"ch","":"wi","":"jing","":"shn","":"hn","":"yng","":"zh","":"qn","":"yu","":"x","":"h","":"l","":"sh","":"zhng","":"kng","":"co","":"yn","":"hu","":"jn","":"wi","":"to","":"jing","":"q","":"xi","":"zu","":"y","":"bi","":"shu","":"du","":"zhng","":"yn","":"s","":"pn","":"g","":"x","":"fn","":"png","":"lng","":"l","":"wi","":"chng","":"m","":"mio","":"fng","":"hu","":"fng","":"y","":"rn","":"yun","":"li","":"fng","":"bo","":"sh","":"tng","":"fi","":"lin","":"cn","":"xu","":"li","":"h","":"n","":"tng","":"tng","":"yn","":"lu","":"b","":"ho","":"w","":"n","":"chng","":"yu","":"y","":"sh","":"f","":"p","":"bin","":"q","":"kng","":"w","":"y","":"yun","":"b","":"g","":"mng","":"png","":"hung","":"h","":"m","":"xio","":"yn","":"yo","":"sho","":"zhn","":"wng","":"q","":"mo","":"y","":"d","":"m","":"bi","":"mng","":"zng","":"j","":"f","":"chng","":"di","":"tn","":"sng","":"mo","":"png","":"xing","":"j","":"sh","":"q","":"xing","":"zh","":"dng","":"ling","":"d","":"run","":"ln","":"mn","":"x","":"j","":"m","":"qing","":"ji","":"l","":"lu","":"wi","":"jing","":"tng","":"yn","":"gu","":"mi","":"shng","":"ln","":"dio","":"zhng","":"x","":"qi","":"lu","":"go","":"xi","":"ci","":"tin","":"fn","":"h","":"lng","":"hu","":"y","":"wn","":"zh","":"k","":"zn","":"gun","":"l","":"m","":"jng","":"fng","":"qi","":"mio","":"gn","":"xi","":"yng","":"zng","":"dng","":"xun","":"bn","":"dng","":"y","":"shn","":"hng","":"hng","":"bo","":"zh","":"zu","":"sh","":"cu","":"j","":"ni","":"gng","":"chng","":"j","":"xng","":"hu","":"pi","":"l","":"rng","":"wng","":"xn","":"yng","":"y","":"hu","":"zhn","":"q","":"ji","":"fng","":"ru","":"y","":"ch","":"jn","":"j","":"bng","":"m","":"sng","":"jng","":"dun","":"f","":"w","":"w","":"jio","":"b","":"gng","":"m","":"wi","":"shn","":"g","":"ch","":"hu","":"m","":"png","":"qun","":"x","":"bn","":"yng","":"qi","":"zhng","":"y","":"gng","":"nng","":"qi","":"lun","":"bo","":"gn","":"tu","":"l","":"rng","":"z","":"w","":"f","":"li","":"jng","":"zhn","":"sh","":"lng","":"y","":"xng","":"s","":"sho","":"go","":"l","":"j","":"b","":"yn","":"s","":"bi","":"hui","":"p","":"ti","":"cng","":"","":"su","":"xin","":"j","":"li","":"zhu","":"ln","":"t","":"mng","":"ch","":"qio","":"yn","":"y","":"x","":"ni","":"cng","":"shung","":"wn","":"shn","":"dng","":"zhi","":"tn","":"gng","":"lo","":"png","":"j","":"shn","":"f","":"d","":"rn","":"zi","":"l","":"yng","":"x","":"q","":"sng","":"gu","":"p","":"ni","":"shu","":"tng","":"bin","":"h","":"yn","":"j","":"ji","":"p","":"shng","":"nng","":"wn","":"bi","":"zhung","":"yn","":"chi","":"q","":"yn","":"chng","":"m","":"lin","":"r","":"x","":"hun","":"i","":"y","":"rng","":"xing","":"g","":"y","":"shn","":"g","":"lio","":"y","":"zhng","":"j","":"j","":"hng","":"b","":"d","":"gng","":"mn","":"hng","":"kung","":"gu","":"wn","":"ku","":"gung","":"l","":"qu","":"dng","":"u","":"sh","":"w","":"l","":"wi","":"yu","":"ku","":"lng","":"sh","":"gng","":"sh","":"ni","":"cho","":"gu","":"o","":"rng","":"lng","":"z","":"xn","":"kn","":"n","":"jin","":"ro","":"kng","":"zng","":"m","":"sh","":"ni","":"yng","":"j","":"x","":"fng","":"cho","":"gun","":"kui","":"xing","":"zh","":"hu","":"jng","":"hng","":"yu","":"zh","":"qun","":"l","":"g","":"y","":"hun","":"gng","":"mu","":"h","":"yn","":"f","":"xio","":"u","":"qn","":"pio","":"p","":"yn","":"gu","":"yo","":"gu","":"zun","":"chn","":"sh","":"sho","":"qi","":"s","":"nng","":"l","":"chui","":"xng"},cH=Object.keys(sH).map((e=>({zh:e,pinyin:sH[e],probability:1+HF(e),length:HF(e),priority:zF,dict:Symbol("surname")}))),lH={"":"zh ge","":"chng wi","":"rn wi","":"zu wi","":"b fen","":"yo qi","":"yng gi","":"zng zhng","":"t gng","":"ju de","":"rn wu","":"n ge","":"chng wi","":"wi zh","":"lio ji","":"ch l","":"hung shang","":"zh yo","":"d ling","":"l ling","":"j h","":"gn b","":"m d","":"xng wi","":"zh jin","":"rn shi","":"sh zhng","":"sh fu","":"dio ch","":"chng xn","":"fn wi","":"zh shi","":"do dn","":"zh ling","":"hng kun","":"hng li","":"hng hu","":"hng y","":"g hng","":"zi hng","":"hng jia","":"ni hng","":"wi hng","":"tng hng","":"bn hng","":"hng w","":"yng hng","":"yn hng","":"shng hng","":"zh hng","":"zng hng","":"hng qng","":"dng hng","":"hng gu","":"hng dang","":"hng hu","":"ti hng","":"r hng","":"zhng hng","":"nng hng","":"gng hng","":"jin hng","":"g hng","":"hng ho","":"hng go","":"hng shu","":"hng wi","":"hng m","":"hng chng","":"hng j","":"hun hng","":"hng hu","":"hng bi","":"hng do","":"do heng","":"cn y","":"chng fn","":"jn gun","":"shng zhng","":"sh ling","":"yng dng","":"yun zhng","":"qing dio","":"zh nng","":"yn yu","":"y wi","":"ch y","":"b zhng","":"mng g","":"zh yu","":"sh dng","":"zh ho","":"chng zhng","":"go xng","":"b lio","":"chn ling","":"png zi","":"xin de","":"zh sh","":"sh de","":"shui lng","":"gi wi","":"b jn","":"chng fn","":"d ying","":"sho nin","":"xng q","":"ti jian","":"xi xi","":"xio zhng","":"gng xn","":"h tong","":"h do","":"chng qng","":"chng jin","":"sh de","":"shn ch","":"li j","":"j y","":"j wi","":"gun jn","":"fng f","":"tu fa","":"tu xing","":"ji zhng","":"z x","":"yo shi","":"jing lng","":"hn ling","":"gng wi","":"j li","":"d ch","":"xin zhng","":"sho n","":"l shang","":"zh p","":"nng ling","":"ch ling","":"gng yng","":"tio zhn","":"x zng","":"j de","":"zng ling","":"dng zhn","":"jing sh","":"ch bi","":"jio wi","":"zhng lo","":"di fu","":"ch y","":"dng de","":"jn ling","":"m yng","":"d qu","":"wi shu","":"pin yi","":"gng mng","":"sh tou","":"zhu zhng","":"wi zh","":"pio liang","":"po dn","":"zng z","":"ju s","":"dng zu","":"jn kui","":"rn wi","":"chng f","":"h tng","":"ch j","":"d xiong","":"d jing","":"shu jio","":"y jio","":"tun zhng","":"du zhng","":"q zhng","":"nn d","":"y tou","":"hu zhng","":"d di","":"wng ye","":"zhng ling","":"y wi","":"ji huo","":"hu shn","":"y zi","":"li ling","":"zhng d","":"min qing","":"kui j","":"gu fn","":"j nn","":"dio dng","":"yn jng","":"sho jing","":"zhng d","":"xio de","":"bin gng","":"d gng","":"rn de","":"png gu","":"nin tou","":"zhng zh","":"sn zng","":"b xu","":"chng xing","":"sho ling","":"xn si","":"du d","":"gn xin","":"h y","":"ch f","":"zhng gun","":"b ln","":"qn qi","":"shn fn","":"g bo","":"zhu shu","":"zh dn","":"k sou","":"y zi","":"wi zhng","":"gng j","":"sh zhng","":"bin ling","":"yng yu","":"xi zi","":"yu q","":"jin ji","":"d xi","":"d bn","":"z dn","":"dn yo","":"r ling","":"xu ru","":"g gn","":"rng ling","":"m hu","":"zhun dng","":"chng hu","":"k zhng","":"ch zh","":"zhu zhng","":"zho j","":"qing p","":"tng zhng","":"shu xing","":"l ma","":"zhn zhng","":"zh gun","":"chng chng","":"min de","":"zhu sh","":"d ji","":"zhn xing","":"xing mo","":"ch fn","":"wi qu","":"wi q","":"b bo","":"bi zi","":"qun zi","":"jin shi","":"lng zho","":"y hu","":"d du","":"d sh","":"chng d","":"shu d","":"d d","":"wng d","":"dng d","":"d h","":"d chng","":"jin d","":"qin d","":"g d","":"dng d","":"zhng d","":"l n","":"zi xing","":"jio ling","":"du chn","":"zng zhng","":"xing gong","":"kng bi","":"d liang","":"shu fn","":"sh tou","":"m shu","":"xng li","":"pn ch","":"sn wn","":"ch jng","":"sn zi","":"qun tou","":"d f","":"z zhng","":"g tou","":"nng k","":"gng hun","":"b ru","":"hun yun","":"chng xi","":"chng li","":"zh g","":"i ho","":"mn tou","":"jn zhng","":"shu zhng","":"chng zhng","":"s zhng","":"zhng z","":"qing jng","":"qi dng","":"tu er","":"zhn zhng","":"zh teng","":"xing ch","":"tng shui","":"zhng jing","":"mng zhng","":"mng jing","":"m tou","":"dng tan","":"d qio","":"gn hu","":"sho ye","":"shu ling","":"b j","":"wi ba","":"li de","":"ho q","":"yo shi","":"dng zu","":"chn zhu","":"y ba","":"ch zi","":"shng jing","":" xn","":"dn zi","":"yng ji","":"zh ju","":"yn zhun","":"xing zhng","":"g sh","":"zhng yu","":"yng zhng","":"dng chng","":"n xu","":"yn hu","":"chng yng","":"hu wi","":"t b","":"zun jn","":"yu du","":"ling xing","":"bi zi","":"sh de","":"sh m","":"j zhng","":"pi zhng","":"ji q","":"fn ling","":"sh c","":"d fng","":"yo he","":"ch ch","":"ling z","":"l tou","":"dio yn","":"c hou","":"chng shn","":"zhn tou","":"pn mng","":"sh zhng","":"gu hun","":"p ling","":"x m","":"din zho","":"shn wi","":"xio jing","":"zhu yn","":"ch s","":"yn w","":"g yu","":"sh gn","":"b l","":"d fng","":"wi tou","":"bn zhng","":"xng xi","":"nng yun","":"qn chi","":"wi sh","":"gu dng","":"xu jin","":"jin di","":"mn yun","":"ji shi","":"j ling","":"yn m","":"cn zhng","":"lin zhng","":"z j","":"w jing","":"wn ch","":"zh bn","":"gng qi","":"j ling","":"do zhng","":"xi lu","":"wng ba","":"qi g","":"jin g","":"y hung","":"chng ji","":"lng h","":"wi hi","":"j zi","":"chng hun","":"g da","":"yn shn","":"d s","":"du gun","":"zh shi","":"din h","":"kn shu","":"f b","":"y mn","":"jn zo","":"qi dun","":"zh tou","":"wi shng","":"ch sheng","":"qi ch","":"zhu l","":"zhu xing","":"j ch","":"tu bn","":"gn zi","":"hn hu","":"sho f","":"xng zh","":"n mn","":"gn li","":"jun q","":"shn zi","":"gng gi","":"lng lu","":"l ba","":"zi h","":"tu dng","":"wi nn","":"zhu l","":"yn zi","":"gn m","":"bi f","":"zng di","":"ji j","":"bo gung","":"q dio","":"xing j","":"jio hu","":"ju zh","":" y","":"zi zhng","":"zhng bi","":"ch chi","":"du ku","":"pi ki","":"tng zhng","":"z fn","":"w ch","":"ji dng","":"zhun j","":"g zi","":"p sh","":"gn sh","":"gn jn","":"dng ling","":"yn zi","":"hu er","":"qi zhng","":"chng fn","":"ch ","":"lu min","":"zun yn","":"di chng","":"shng dng","":"xio ling","":"zu fang","":"zho xing","":"i y","":"dio j","":"kn zhng","":"y zhng","":"fng zheng","":"b xi","":"kng x","":"gng di","":"pin ch","":"shng dio","":"sh ling","":"tn zi","":"w ling","":"kng d","":"dio d","":"sn sh","":"chung shng","":"hi shn","":"mn zi","":"chng di","":"lu ch","":"dn dio","":"lo jing","":"rn shn","":"jin dun","":"chng xin","":"ji z","":"dio yng","":"lu bo","":"f zhu","":"yng shng","":"zh jing","":"zu guo","":"j ju","":"wi zhng","":"gu ling","":"yu q","":"f h","":"qing dn","":"qio rn","":"ch fng","":"qio shng","":"q zi","":"qng dio","":"tio xn","":"di wi","":"lio ji","":"d zhng","":"ji b","":"ln de","":"zng ling","":"y zhu","":"b jing","":"yo si","":"ch j","":"gng gn","":"ch m","":"xin yu","":"jin x","":"zhng dn","":"chng yn","":"chng sh","":"yng chou","":"zh dng","":"w nng","":"bo z","":"qin tou","":"jun yn","":"fi di","":"dn do","":"gn zi","":"mn jing","":"hu tou","":"h ci","":"nun huo","":"li j","":"dio qin","":"ju jing","":"bo zng","":"sng sh","":"yu mo","":"qin f","":"gng t","":"zhung zi","":"bi bo","":"ti zi","":"sng sn","":"h h","":"k w","":"z zhun","":"gng din","":"fn xng","":"tn shui","":"s d","":"bn fn","":"lu de","":"b b","":"xing jin","":"dn b","":"hn dn","":"zhn gun","":"f h","":"nng ni","":"xi hu","":"wi lio","":"yn zho","":"chu dio","":"sh zi","":"x jun","":"bio d","":"bi niu","":"s liang","":"h ci","":"ln y","":"gi zi","":"fn wi","":"lng tng","":"yu w","":"y ling","":"mo f","":"chi qin","":"bi f","":"zhun s","":"shng yu","":"ji gng","":"gng shu","":"zh gn","":"chng ch","":"zhng xing","":"gng chi","":"li dn","":"shng de","":"tio zi","":"chng wi","":"z s","":"jng fng","":"ji g","":"din b","":"din zhng","":"zhng chung","":"lo lao","":"m hu","":"gng jia","":"j l","":"k mn","":"d ling","":"ch cu","":"sh ji","":"cn c","":"d zi","":"zh zhng","":"xing chn","":"hng yn","":"sh mng","":"x ho","":"li zhun","":"jng d","":"h ma","":"qng ji","":"dng zi","":"chn m","":"go l","":"xi ji","":"w wi","":"b jie","":"lio d","":"bin xing","":"h dn","":"qng jia","":"chng zi","":"h wn","":"hun j","":"jio hun","":"jing lng","":"chn y","":"kng qu","":"l ln","":"dn ling","":"zh zhu","":"d dio","":"b s","":"qng b","":"d dng","":"zhn b","":"so zhou","":"qi c","":"nin zhng","":"wi zhun","":"tu zi","":"ci feng","":"l yu","":"xu p","":"sn lun","":"dng ling","":"do teng","":"q sh","":"zn ji","":"chng f","":"zho w","":"dn k","":"xng w","":"rng rang","":"lin li","":"yng d","":"z zhng","":"gu zi","":"li g","":"xun yn","":"tio pi","":"q gn","":"chi y","":"kn k","":"sho r","":"yu tun","":"yng fn","":"tu hun","":"g dio","":"y dio","":"yn dio","":"yu f","":"g p","":"d din","":"chi sh","":"yn chn","":"shu xu","":"go yao","":"tn m","":"dio rn","":"sn j","":"shng tu","":"fng m","":"fng ji","":"g liang","":"sh dng","":"zhng dn","":"wng wi","":"zhng zh","":"q hng","":"m lio","":"xing sheng","":"jio zhng","":"qun xing","":"sh ling","":"chn mn","":"j y","":"ji f","":"si wi","":"jing xio","":"sh ho","":"m lu","":"p do","":"pin zi","":"qi xio","":"dn wn","":"x b","":"ku d","":"jin xi","":"qio shu","":"s dio","":"ch ju","":"bio shui","":"ch zi","":"zho xing","":"chn zh","":"du peng","":"p zi","":"d zi","":"f zi","":"gn jng","":"do sh","":"jing gun","":"ch tou","":"gu xing","":"n ji","":"lo dao","":"xin ling","":"bng x","":"chng fng","":"q yu","":"qng dn","":"b gng","":"fi zi","":"ch sh","":"cn ling","":"qng shui","":"pio mio","":"zhng jing","":"ci gn","":"sh sh","":"jun zi","":"yu shu","":"xing zi","":"png gung","":"qi w","":"kn gun","":"fng tou","":"jng gn","":"go ch","":"kng h","":"bin dn","":"j yng","":"g zi","":"gng x","":"fn ch","":"fi dn","":"wi b","":"f xng","":"j xng","":"cun dng","":"jin hu","":"qin b","":"yu zhng","":"shn ch","":"dio zi","":"xing wi","":"zhun z","":"jng l","":"k ch","":"lio sh","":"zhun you","":"dng p","":"zhu zi","":"dn zi","":"ho zhn","":"yn mi","":"zh x","":"gn lin","":"n jing","":"ji ling","":"hu chun","":"j ling","":"tio b","":"sho xio","":"zhu lu","":"zng w","":"k b","":"yo xi","":"yng chu","":"hun shu","":"m j","":"zh zhu","":"h lng","":"bo zhng","":"x zhe","":"zhng ji","":"gng zhun","":"jio kn","":"chng t","":"so xng","":"p gi","":"zhng sh","":"ch ji","":"y gn","":"zhng zh","":"yng yn","":"qi r","":"zhn jing","":"nin sho","":"sh shn","":"zh ni","":"ch sh","":"zhng fng","":"dng ling","":"fng ling","":"qing dio","":"lo sho","":"m r","":"gu g","":"jing shui","":"ch zi","":"w nang","":"zhng jn","":"k hn","":"bng zhu","":"gng xio","":"qi pin","":"chi sh","":"zh hui","":"yng zho","":"ch n","":"qi cu","":"r tou","":"y ji","":"z zhng","":"do gun","":"ju s","":"dng ling","":"p jia","":"yun fn","":"kng xin","":"ho s","":"n h","":"lng tng","":"bin si","":"h cng","":"chng h","":"lng sn","":"hng lng","":"hu zi","":"ni mng","":"sh lu","":"n ch","":"mu l","":"zh lan","":"zhng bio","":"dio dng","":"gu lu","":"chng zi","":"ji qio","":"chng wn","":"po zh","":"fn hun","":"z zhun","":"go dio","":"yn hng","":"g zhu","":"qing qi","":"bn xing","":"jio hng","":"co shui","":"q mn","":"zhu s","":"nng kn","":"xng tou","":"j n","":"ji jio","":"f j","":"mng jing","":"yu mo","":"tu li","":"n rng","":"zun tn","":"ji cng","":"lu p","":"hng do","":"yn ling","":"ji mn","":"kng er","":"g mo","":"ho k","":"zun kng","":"h nng","":"xng yng","":"fn mn","":"cng c","":"fn ch","":"chng zi","":"xio dio","":"sho yng","":"shu xing","":"rn fng","":"g bei","":"jing mn","":"m bn","":"pi j","":"wi w","":"gn tou","":"hu sun","":"li zhui","":"hng xio","":"yn xun","":"gn dio","":"fng zh","":"nn ch","":"zhu y","":"mn hng","":"j sh","":"dun f","":"shng hun","":"hun qng","":"kn h","":"zh shui","":"zu yu","":"zi k","":"zhun hng","":"yn m","":"kng g","":"p din","":"ling jing","":"hu l","":"sn mn","":"tu f","":"sng hun","":"mi m","":"li j","":"b w","":"dio l","":"sh ti","":"j zhng","":"shun s","":"pi ju","":"qi ku","":"chung ku","":"h qian","":"sh dn","":"p png","":"h d","":"ln sn","":"sh gn","":"tin kng","":"dio zun","":"yu sh","":"ling bin","":"yu xing","":"tng s","":"zhng dio","":"ji do","":"gn k","":"zh k","":"yu gng","":"hu gu","":"zho hu","":"gng zhng","":"j f","":"kng zi","":"n zh","":"zhng zho","":"shu zi","":"sng zng","":"ji di","":"n fn","":"zhng y","":"zhng sn","":"jio dng","":"jun q","":"zi yn","":"tu dn","":"zu cn","":"fn ling","":"dio hun","":"lio rn","":"li zu","":"din dng","":"hn ji","":"zhng xing","":"j shu","":"x f","":"zh gn","":"sh xing","":"hng qing","":"k hu","":"si zi","":"dn gn","":"hun xing","":"zho tou","":"s gun","":"d shui","":" ha","":"g sh","":"m b","":"ho w","":"xi ch","":"xio zhng","":"l jin","":"zhn tou","":"jio du","":"sh w","":"pn y","":"f ye","":"m fi","":"yn fn","":"h jing","":"b he","":"d ch","":"kng wi","":"p l","":"w l","":"dio hu","":"li tou","":"xin sn","":"jio jun","":"mo shi","":"gn jn","":"xin yu","":"xing gu","":"dn shn","":"zh xng","":"p ki","":"c zhng","":"f qi","":"ji j","":"sh ch","":"shng f","":"chng b","":"fng h","":"yn ling","":"sho wi","":"chng y","":"cng jng","":"hu bo","":"wi h","":"wi xing","":"h ho","":"zho m","":"tio dn","":"wn l","":"hun s","":"qing hng","":"zho sh","":"xing shn","":"tio mng","":"m feng","":"fn ni","":"gng y","":"run huo","":"jn xng","":"ho zi","":"zho y","":"bi jing","":"ci zhng","":"ji z","":"mi kng","":"ji fng","":"sh duo","":"chn huo","":"b ji","":"din ling","":"h zi","":"dio sh","":"ch shn","":"d shu","":"dn gng","":"hng mn","":"nng gn","":"jio din","":"ji zi","":"gn xio","":"hng chun","":"jio zh","":"y s","":"m zh","":"yu zh","":"go gn","":"jng zhun","":"zng sn","":"ho du","":"gun qi","":"to bn","":"m ceng","":"mu q","":"zhn l","":"m zha","":"cu he","":"li qie","":"shui d","":"ti zi","":"fn de","":"nin zhu","":"ci y","":"sn zhung","":" nu","":"xng wi","":"xng tou","":"q ling","":"dio yn","":"ch zh","":"yu yn","":"chng s","":"dng h","":"ln dio","":"xing zhng","":"mn yu","":"po zhang","":"sng f","":"xio jing","":"ling xng","":"fng b","":"ci kui","":"d gn","":"l sh","":"jio chng","":"si bi","":"sh xing","":"r m","":"xin ling","":"y s","":"lu lin","":"ling kuai","":"yo gn","":"li da","":"g g","":"gng gn","":"ji gng","":"tio du","":"kn mn","":"yu g","":"t pin","":"tio dng","":"zhn jing","":"qi jng","":"m fng","":"wi y","":"jio huo","":"m su","":"zu nng","":"mio tou","":"d zhn","":"d zng","":"ch shng","":"gu da","":"sh yn","":"sh ch","":"ti gn","":"jing xing","":"fn zi","":"sh ch","":"l yn","":"qing gn","":"fng rn","":"chu mn","":"din jing","":"hu tu","":"jng sh","":"xing lng","":"zhng lio","":"bn f","":"ji ba","":"k gn","":"kn ji","":"zhng dn","":"zhng kn","":"xi mn","":"dng gun","":"sh ling","":"gng dio","":"jin zu","":"dn pin","":"ch ch","":"pio bi","":"gng zi","":"tio ch","":"ho dng","":"zhun l","":"bng q","":"ji bn","":"i yu","":"gn do","":"k ch","":"p chi","":"zhng sh","":"tin hu","":"gng ch","":"jio yn","":"ch si","":"m pn","":"wi m","":"bn sng","":"chng h","":"d dio","":"fi fn","":"zun yng","":"ji zi","":"cho zi","":"gng sh","":"lng dang","":"p sn","":"f hun","":"zhun ln","":"hng ci","":"po tng","":"po s","":"tin y","":"h hu","":"q qio","":"tng ling","":"fng hun","":"w jio","":"mn gn","":"lng tou","":"yn ti","":"yu fng","":"xu zhng","":"gu zi","":"b dio","":"y bi","":"x chn","":"dio yu","":"mn gn","":"zng z","":"t gn","":"bin dio","":"f m","":"m zi","":"yu l","":"chn xn","":"m gn","":"chng yn","":"z xng","":"t dio","":"kn xing","":"y tou","":"xi qi","":"si shng","":"p zhng","":"tng wn","":"b xng","":"xi sh","":"tu q","":"xin dn","":"yu m","":"hn ling","":"y yu","":"ho k","":"zh xing","":"zh jun","":"z sh","":"x chung","":"fng dn","":"jin jing","":"l shu","":"xu f","":"kng dng","":"du xing","":"xin jin","":"hu jing","":"zi b","":"tio zao","":"qio p","":"b d","":"ji f","":"lio dun","":"tng dio","":"sh m","":"sh ch","":"b s","":"tio zi","":"tu m","":"w hu","":"m sh","":"dio zhun","":"j m","":"hun zhi","":"dio yn","":"fn hu","":"j u","":"dun h","":"mn li","":"lng j","":"fn ling","":"hun l","":"zhun dio","":"xng xing","":"shu xing","":"pi yu","":"gi tou","":"lin gn","":"b j","":"do b","":"ling c","":"mng ju","":"b dio","":"jio bn","":"zhng b","":"jun yng","":"sho wi","":"y zhun","":"yu p","":"qin li","":"d li","":"h ch","":"yn ","":"gn q","":"hi ling","":"jng dng","":"zhu chung","":"yu xing","":"sh j","":"gng gun","":"ln ch","":"zhng b","":"hu p","":"ji qio","":"kng ch","":"k xi","":"p chn","":"chng shng","":"yu l","":"i ho","":"zng l","":"gng jng","":"xu png","":"nng yn","":"chng du","":"dng chi","":"zhng zhun","":"bng ch","":"chung min","":"dn ju","":"b l","":"hung dang","":"so zi","":"ji sh","":"mn tu","":"mi f","":"d shu","":"zho ling","":"chung jing","":"j n","":"pn tou","":"ch sh","":"sn su","":"yng s","":"hn zhn","":"qin qing","":"w jin","":"ln zhun","":"ho jio","":"p pi","":"xing f","":"zh gng","":"dng ","":"bng ji","":"li ji","":"gng s","":"dn ji","":"zun xn","":"hung yn","":"m zho","":"bio ling","":"bi mn","":"ci du","":"ch sh","":"gun chi","":"to hun","":"chng mn","":"li fn","":"l lng","":"s xing","":"y xng","":"ju l","":"dn kng","":"zh ch","":"ji j","":"ch xng","":"hn jing","":"ho xu","":"ho ho","":"yn f","":"so b","":"f xing","":"gu gn","":"gng q","":"kng y","":"kn z","":"j b","":"jing hu","":"g zh","":"dio lng","":"f ti","":"ln bng","":"dio pi","":"zhun pn","":"gng go","":"chi gun","":"yu mn","":"jio zhng","":"chng chng","":"ji xng","":"yu tn","":"hu n","":"ch h","":"bng b","":"d kng","":"zhun qun","":"hng bo","":"hng ti","":"yn hng","":"zi hu","":"zhng j","":"gun zhng","":"xing min","":"kn tou","":"pn tou","":"y xng","":"jn yu","":"li c","":"g d","":"yn zho","":"bo sng","":"m sa","":"i du","":"pin zhu","":"chu ju","":"dio sng","":"qing jing","":"chng zu","":"f bin","":"zho m","":"zho f","":"shng fng","":"tin s","":"xing hng","":"q shu","":"bi ti","":"chng ling","":"f ci","":"ji f","":"fn jun","":"xio ling","":"jio zhu","":"l zi","":"dio diao","":"sn bng","":"go tio","":"b s","":"ji xn","":"shn dng","":"to ro","":"n chng","":"nin zi","":"m fng","":"s b","":"chng yun","":"xng qn","":"t l","":"gun ling","":"qing b","":"qing zhng","":"yn ch","":"sh do","":"di li","":"t bn","":"xin w","":"s jing","":"jn li","":"chn ji","":"f sh","":"g shn","":"tin fn","":"p ho","":"s tng","":"bi zh","":"hu shng","":"ju du","":"tng chi","":"su ch","":"sng l","":"m m","":"xu shu","":"s b","":"su co","":"qin wi","":"dio tu","":"lng jun","":"wi dio","":"z ti","":"jun f","":"chui du","":"yng xing","":"sn gung","":"g lu","":"b mng","":"lng tu","":"yn yn","":"li zhou","":"pin er","":"qin shu","":"sn t","":"ni xng","":"qing li","":"ji sng","":"fn jin","":"sho zhung","":"li kng","":"go ji","":"k xu","":"b m","":"p gu","":"m xu","":"zh sng","":"ch zi","":"hng dng","":" zi","":"ch lu","":"g zhng","":"gu ch","":"hun hn","":"l ji","":"sh zh","":"shn ling","":"tng ho","":"m ling","":"gng shng","":"f sng","":"shui zh","":"z m","":"sn ji","":"d qing","":"jio w","":"b qng","":"yn po","":"nio nu","":"co du","":"chng jn","":"n nn","":"qi zhng","":"tio dng","":"hun yun","":"j jing","":"gng g","":"m yo","":"bi xng","":"qi min","":"sn h","":"li jn","":"bi di","":"chng gn","":"nin fng","":"b zi","":"bn shu","":"yn shn","":"r jing","":"chng gung","":"jin f","":"zhng shng","":"xio zhun","":"y zhu","":"ru gun","":"hu jun","":"hng hu","":"ji k","":"gung yn","":"p m","":"du dio","":"ji ch","":"kng ","":"png dio","":"p chung","":"sng zhng","":"zu l","":"sho f","":"shu shu","":"bn tou","":"jn j","":"shui xng","":"l zi","":"bng z","":"tio su","":"pio x","":"ji qing","":"k chun","":"mi xie","":"cu ch","":"mn ji","":"sh dio","":"chng sn","":"jng chung","":"x chng","":"dio mn","":"hu tu","":"hu la","":"to shi","":"c shui","":"xing shui","":"kun zh","":"y qng","":"yn b","":"wn g","":"d d","":"dio q","":"jio chi","":"lu z","":"xing c","":"x dao","":"lu f","":"y xing","":"jn m","":"ju d","":"xi zi","":"chn jun","":"zh zheng","":"x yng","":"b lu","":"du zi","":" sho","":"f j","":"hng sho","":"jing hu","":"k sng","":"sho x","":"yn chun","":"jio yng","":"wi ch","":"jio zho","":"p zhn","":"yn sui","":"ji jn","":"su po","":"sng lun","":"xing xing","":"hu f","":"d chng","":"yn ling","":"zhng qi","":"hu qun","":"hu tng","":"png zhun","":"l qin","":"j du","":"sn j","":"g shi","":"s yn","":"p x","":"yn zh","":"lng zhn","":"sh zh","":"sho nn","":"gun yu","":"ho to","":"n xing","":"yng s","":"wn shng","":"gn r","":"g tng","":"b j","":"p ji","":"jio zhn","":"yn dng","":"q ling","":"xun dio","":"bn xing","":"gn ci","":"j gn","":"g qi","":"gu yu","":"qi k","":"b g","":"m fng","":"y y","":"ji mo","":"b j","":"chn ji","":"sh xng","":"chng ch","":"zhun y","":"zhu liang","":"b c","":"zng qng","":"d sh","":"dio rn","":"ji yun","":"jng gn","":"j ling","":"lng tou","":"shui zhn","":"pn xing","":"su yu","":"h m","":"xing t","":"xng hu","":"zo tu","":"chng hn","":"zun dng","":"cn du","":"dng shn","":"dio wn","":"gn t","":"g b","":"gng xun","":"ji shng","":"lu xin","":"qi qi","":"sn jin","":"sho qi","":"tng f","":"t ling","":"tng ku","":"j di","":"xing sh","":"yng jun","":"zhun j","":"b ti","":"cng zh","":"fi b","":"g ji","":"g l","":"gu wn","":"gui xing","":"ln ti","":"n gng","":"bo chung","":"qio ch","":"sh ji","":"tn xng","":"xing jng","":"z rn","":"zh yn","":"zhu zhng","":"zhun tou","":"p shu","":"chn huo","":"chng p","":"d ling","":"gn ji","":"gng ch","":"ji li","":"q shu","":"sh shn","":"tio hu","":" mn","":"bi lu","":"bi sn","":"ci ch","":"chung tng","":"f xing","":"gng dng","":"ho xng","":"hun yng","":"hun zu","":"ji dio","":"jun yn","":"li dn","":"xing tou","":"xu ji","":"jio yu","":"y ling","":"bi zhun","":"b ji","":"chn ji","":"f q","":"hu hu","":"kun chuo","":"lio w","":"qi hu","":"shn du","":"yng x","":"zhun ti","":"z zh","":"ci ling","":"zng x","":"chng xng","":"chu mu","":"cu zh","":"tio jng","":"dio zh","":"fng zhu","":"g du","":"h er","":"hng ling","":"hun ji","":"hn p","":"k chi","":"min h","":"sh ch","":"xng sh","":"sh jn","":"xn chi","":"y qi","":"cun mi","":"zh go","":"zun gn","":"p hu","":"bn hu","":"chng dio","":"d li","":"du lu","":"fi zhun","":"gn zhng","":"ho shng","":"hu pin","":"jio hn","":"lu gn","":"m m","":"n ho","":"pn sh","":"w nng","":"y sho","":"yu chi","":"zhn gu","":"zhn xng","":"chng shn","":"z ling","":"dio fng","":"f lng","":"fn dio","":"fng zi","":"gng f","":"g zi","":"gung gn","":"ji gn","":"j sng","":"j g","":"kn y","":"kng zhun","":"ling l","":"po lu","":"pi hun","":"p shn","":"sn j","":"sn jin","":"shn xu","":"sh gn","":"tio j","":"tu kng","":"xu b","":"jio h","":"yn gn","":"zhi ci","":"chng ji","":"zh dio","":"z jn","":"b j","":"bin nio","":"c dio","":"do gu","":"lo zhn","":"p q","":"shu bi","":"wi m","":"x b","":"xing m","":"y ti","":"zhun jn","":"bng h","":"bn xing","":"go tu","":"jin mio","":"yu ch","":"mi xing","":"bng q","":"qin dn","":"qi bin","":"qng dio","":"qn mng","":"sn bn","":"xng ch","":"sh ji","":"qin shng","":"chng yng","":"gng zhng","":"zhng d","":"zhng ci","":"zi zhng","":"ji zhng","":"kn zhng","":"zhng zh","":"zhng gu","":"zhng du","":"zhng sh","":"shu zho","":"lng zi","":"chng q","":"chng zhng","":"chng tn","":"chng z","":"chng shn","":"chng yu","":"chng lun","":"y ye","":"ni nai","":"lo ye","":"b ba","":"m ma","":"shn shen","":"ji jiu","":"g gu","":"sh shu","":"y fu","":"ji mu","":"g fu","":"ji fu","":"p po","":"gng gong","":"ji zi","":"ji jie","":"g ge","":"mi mei","":"mi fu","":"y zi","":"bo bao","":"w wa","":"hi zi","":"r zi","":"yng zi","":"sh zi","":"shn zi","":"ji zi","":"so zi","":"b zi","":"tng zi","":"zh zi","":"min zi","":"b zi","":"bi zi","":"mo zi","":"pi zi","":"zh zi","":"bin zi","":"g zi","":"fng zi","":"wn zi","":"tn zi","":"pi zi","":"h zi","":"gu zi","":"i zi","":"y zi","":"xio zi","":"yng zi","":"w zi","":"du zi","":"din zi","":"bn zi","":"zhng zi","":"r zi","":"t zi","":"pin zi","":"yun zi","":"hu zi","":"sng zi","":"zh zi","":"sh zi","":"qin zi","":"sh zi","":"png zi","":"bo zi","":"kui zi","":"ln zi","":"shng zi","":"zu ba","":"r duo","":"qi zi","":"bng b","":"kng tng","":"p pa","":"m gu","":"h lu","":"h li","":"j zi","":"h zi","":"zhu zi","":"zh zi","":"sh fu","":"y fu","":"w zi","":"bi zi","":"c wei","":"mi zi","":"du wu","":"zh lio","":"y er","":"hn tun","":"dng long","":"zhung jia","":"cng ming","":"jng zi","":"yn zi","":"pn zi","":"lio qu","":"l qi","":"x zi","":"ln zi","":"zho xi","":"zho x","":"zho q","":"ch bng","":"shng zhng","":"zng p","":"p ti","":"bin de","":"zhng fu","":"du fu","":"b gn","":"zng yng","":"xng rn","":"d zhe","":"d y","":"wn y","":"zh y","":"d zh","":"tng y","":"wi y","":"zhun y","":"dn y","":"r y","":"q y","":"h y","":"zh y","":"zhu y","":"ch y","":"yn y","":"gu y","":"ji y","":"wn y","":"lio lio","":"gng lio","":"s lio","":"y yu","":"y ho","":"y j","":"y dng","":"y g","":"yu y","":"y y","":"r y","":"sn y","":"s y","":"w y","":"li y","":"q y","":"b y","":"ji y","":"y lng","":"y lng","":"y r","":"y sn","":"y s","":"y w","":"y li","":"y q","":"y b","":"y ji","":"y yu","":"y bng","":"y lu","":"wi l","":"wi zhn","":"cng hi","":"nn wi","":"z nn","":"hun nn","":"m nn","":"d nn","":"dio nn","":"xn nn","":"lu nn","":"l nn","":"zi nn","":"nn mn","":"k nn","":"wi nn","":"f nn","":"to nn","":"b nn","":"y nn","":"z nn","":" nn","":"xn nn","":"kng nn","":"x huan","":"zho zho","":"b xng","":"y y","":"wn q","":"ni q","":"q zh","":"wi q","":"ji q","":"q jng","":"q ji","":"wi q","":"q xin","":"q f","":"ji q","":"q zh","":"q gng","":"q y","":"g lo"},uH=Object.keys(lH).map((e=>({zh:e,pinyin:lH[e],probability:2e-8,length:2,priority:BF,dict:Symbol("dict2")}))),dH={"":"wi shn me","":"sh j shang","":"jin ch zhng","":"gn shn me","":"zh hu er","":"jn k nng","":"dng sh zhng","":"lio b q","":"cn mu zhng","":"cho xin z","":"hi ni wi","":"jn b zh","":"b l t","":"b zi hu","":"lu shn j","":"yu din er","":"pi j po","":"b d lio","":"m wi sng","":"yn sh ling","":"f p qi","":"sh d f","":"y l jing","":"y gn er","":"du de q","":"n hu er","":"z g er","":"w l ling","":"zn me zho","":"mng hung hung","":"ji ji r","":"xn l hu","":"f xng ling","":"xng chng chng","":"fn z ling","":"gu z jin","":"lo d nn","":"dng ni wi","":"zh me zho","":"sho ni nai","":"n d l","":"gng nin q","":"gng zu ling","":"bi d l","":"shn li hng","":"ho ho er","":"jio xing yu","":"ho y si","":"t y hn","":"mi y si","":"l f sh","":"t sh gn","":"chng q ling","":"ko de zh","":"ch xng do","":"rn xng do","":"zhng lng jing","":"zho mng dn","":"yn m dn","":"m ni h","":"lun hng hng","":"hu gng s","":"zi zhng ling","":"qio de q","":"j zhun t","":" png gng","":"jun xn ci","":"x bn zi","":"gu de q","":"hu gng sh","":"wi sheng n","":"tun tun zhun","":"d bo jio","":"rn sho dn","":"lo sh zi","":"yo gn yu","":"ji zh to","":"no hng hng","":"sn lin gun","":"zhng tu x","":"r rn zhun","":"ji g yn","":"zh shi min","":"h shi zhng","":"xn ho dn","":"gn din ch","":"qing gn zi","":"k sng bng","":"b yn i","":"w gng jn","":"mi de q","":"li h ma","":"j liang g","":"z m dn","":"ki xio chi","":"n qing rn","":"yng xing zhun","":"ju sh yu","":"shu xio hua","":"png tu hu","":"b li gng","":"y gung dn","":"sho ln qun","":"yng tn dio","":"sho xin du","":"lng zhng m","":"du zhe gn","":"mng mng ling","":"run g tou","":"p gi jun","":"hu x n","":"bi hi gu","":"hng tng tng","":"w hu c","":"d du suo","":"h ku b","":"m wi zo","":"y mo zi","":"d shu sh","":"lng wng y","":"q tu shang","":"h tu chng","":"b gn zi","":"zhn pin yi","":"d zh y","":"du dn tu","":"lu y shu","":"yn s h","":"bo de zh","":"bo t qun","":"o de h","":"s w zhng","":"jn b q","":"sh ch hi","":"lin hu lo","":"jin sh min","":"hu ch q","":"din wi ch","":"i g er","":"n zhn er","":"fi hu ling","":"d sh fu","":"zh dn tng","":"d h lu","":"n q mn","":"wi jin d","":"d shn er","":"tn de li","":"jio y zi","":"kng bo dn","":"w li du","":"dn zhu din","":"g tu er","":"kn de q","":"h tu zhng","":"d xng xing","":"jn de q","":"f xing zng","":"k lin xing","":"ch de xi","":"hn bo bo","":"no rng rng","":"sh li bo","":"h de li","":"gn xng yu","":"mn h lu","":"gu gu jio","":"x yng shn","":"ln yn do","":"l ji chng","":"jun p gi","":"gu de yng","":"fi jing jn","":"tio d ling","":"h ba gu","":"gu ji ji","":"cu li dn","":"y ji xu","":"qio zh gng","":"li ch zhng","":"hu d n","":"fn de zho","":"t g da","":"sh fng jng","":"qng ling j","":"xi d d","":"sh z er","":"d m dn","":"k jio pin","":"kn d shn","":"dng din er","":"ch de xio","":"lu h x","":"go l shn","":"zhng shng xing","":"yn xi yn","":"jn de zh","":"ch de ki","":"zu s chu","":"yng shng chng","":"sh de zho","":"sh jn er","":"qin b li","":"k d sng","":"hu de li","":"yn h h","":"sh ke lng","":"lio ju zi","":"zng hng hu","":"mn gun ch","":"qi b zi","":"hng deng deng","":"gn de j","":"dng jin er","":"lu m jio","":"j ni jn","":"fn de shng","":"dng ch b","":"bo h din","":"lng zho hui","":"h do ci","":"dng gun c","":"dn dan min","":"ch de zh","":"zhu jin er","":"zh zho er","":"zh gn tou","":"yn zho er","":"yn jun er","":"xun chun dn","":"xn p er","":"xin qi jio","":"s sh m","":"shu de li","":"shu pio er","":"shu b gn","":"sh de shng","":"sh b zho","":"sh b qng","":"sh jin er","":"shng s b","":"shn fng j","":"s y zheng","":"r j b","":"r de kui","":"qng jia gng","":"j hn sh","":"pi zh b","":"n jn er","":"n w wa","":"ni qi yun","":"n hu er","":"mn tu er","":"mi p er","":"mo jn er","":"li jin bng","":"lio wng ti","":"lo li sho","":"kn ju er","":"ko qn b","":"jun b do","":"jn j ling","":"hu b li","":"hn gu er","":"g nng nng","":"gu jn er","":"gng qi xin","":"g de zh","":"gn lng tu","":"gn de shng","":"gn jio m","":"g zh er","":"g bng cu","":"du de zh","":"du mn zi","":"dng gu gu","":"d li er","":"d zhu zi","":"d bn zi","":"cn jn er","":"c jn er","":"chui shu er","":"chng jn er","":"ch de li","":"b gng sh","":"bn tou er","":"bi f zhng","":"w wa qn","":"s jn er","":"g du er","":"gng lo b","":"d jing yn","":"y dn shu","":"p j ti","":"ti li p","":"k t lng","":"ki h hng","":"l y j","":"hu sh lio","":"y gng gng","":"y chng shn","":"fng y gng","":"xu y gng","":"gu y m","":"xng q y","":"l bi y","":"y j d","":"y yu y","":"y z m","":"y sh y","":"y c fng","":"y yng zh","":"y z ju","":"y nin j","":"y b zu","":"q qu r","":"nn wi shu","":"nn wi qng","":"xng y hng","":"bi bi de","":"gn n hng","":"gn y hng","":"q bi zhn"},hH=Object.keys(dH).map((e=>({zh:e,pinyin:dH[e],probability:2e-8,length:3,priority:BF,dict:Symbol("dict3")}))),pH={"":"chng j s hn","":"s tng b d","":"y m y yng","":"qng zng go yun","":" m tu f","":"ji fng s xing","":"su zu su wi","":"m m hu h","":"h qing sh dn","":"xng go ci li","":"w nng wi l","":"b l si r","":"wi su y wi","":"k sh m r","":"mi wn mi lio","":"b wi rn zh","":"ji ji b b","":"qin p hu j","":"p tin gi d","":"zh ji lio dng","":"gng b yng qi","":"y sh d f","":"b wi w qun","":"b k shu shi","":"h zu fi wi","":"fn ho b ch","":"m m hu h","":"b z wi q","":"qio w shng x","":"lio r zh zhng","":"shn w tng ju","":"go go xng xng","":"i shng tn q","":"hn zng y x","":"ch xn j l","":"q b chng shng","":"bn y sn gng","":"sh hn lu p","":"r sh b xi","":"zhun li zhun q","":"sh y wn j","":"xing y wi mng","":"lin lin b sh","":"q zh k sh","":"shn ch gu m","":"ji ji sh sh","":"yu d fng sh","":"j l g l","":"dio bng qin jing","":"zi g zi w","":"zhun wi wi n","":"t t shi sh","":"sng j b r","":"zhung m zu yng","":"jin y yng wi","":"xing ch w j","":"tn wi gun zh","":"mn mn b l","":"x n i l","":"xin wi rn zh","":"zhng y w zho","":"wi fi zu di","":"hn h q c","":"p y bn mng","":"min wi q nn","":"y y b sh","":"dng tu shng si","":"b zhu bin j","":"d m d yng","":"xn hun zu l","":"y zu lio zh","":"z l hng jin","":"hn hn hu h","":"qi r q fn","":"p t wi xio","":"shn gng bn y","":"qin ch wn bi","":"sh b shng sh","":"j wi j yu","":"tin xun d zhun","":"yng zn ch yu","":"b li xin wi","":"cho chao no no","":"yn tu zhun xing","":"t shng t zhng","":"nng s b q","":"b xng rn sh","":"jn l r wi","":"jng mng qing gn","":"lo lao do do","":"j ji zh zh","":"gng b k m","":"qi r b sh","":"pi yu ji nn","":"x li h t","":"g yu su chng","":"d d qu qu","":"hng tng d xio","":"tng r b wn","":"do gng hu zhng","":"ni fn m xin","":"hu xin wi y","":"bi f bi zhng","":"chng jin tin r","":"fn bi wi shng","":"y lio bi lio","":"d da li li","":"xn j hu lio","":"c xn d yi","":"j p g da","":"y wi png d","":"r j yu li","":"sh shn ch d","":"tu q su ho","":"jin b rng f","":"rn mn wi hun","":"qing zhu b sh","":"wi sh y wn","":"r sh ji zhn","":"xn l yu sh","":"y y hun y","":"shn b shu sh","":"mng sh wi k","":"g z wi zhn","":"yun shng zi do","":"ji k ji nn","":"ho ho xin sheng","":"gui m gui yng","":"po tu l min","":"yu shu ho xin","":"w su b wi","":"dio h l shn","":"b b wi yng","":"ho d x gng","":"zhng sh zh d","":"chng shng b s","":"wi wi zhung gun","":"b k shng sh","":"gu sh shn chi","":"ji shn z ho","":"gn zu gn wi","":"mo s dn ki","":"zu m hun jing","":"wi sh gu zo","":"wi rn sh bio","":"yn ch yng cu","":"yu qing hu dio","":"chng do f zh","":"m ma li li","":"x x do do","":"r l b bng","":"sn bng zh jing","":"gui wn m jio","":"xing m xing yng","":"gng gu y qi","":"ki hu ji gu","":"z z x x","":"chun zng gng l","":"h bi bng zi","":"chng nin li yu","":"zhng er b jng","":"b sh ti ju","":"chng zhn q g","":"q x yn yn","":"jn zhu b sh","":"f fu ti ti","":"qing c du l","":"p li p l","":"rn ci j j","":"f rn shn xng","":"b z wi png","":"wi f b rn","":"lin pin li d","":"h tin qing d","":"lu lu d fng","":"z chu z li","":"l shn ho sh","":"y gng wi shu","":"m m cng cng","":"xu ti r n","":"zh zhu wi n","":"y tu wi jn","":"q q ch ch","":"qing ln dn y","":"lng rn f zh","":"zhun bi wi shng","":"zhun wn m jio","":"zi ji nn to","":"zhng dng fng wi","":"b z wi gui","":"nn xing nn d","":"y y y y","":"dn jn ling ju","":" y fng chng","":"x li hu l","":"fn lo hun tng","":"ho go w yun","":"l s shi shu","":"ch qing rn y","":"d chu d li","":"chng ji l y","":"z yun z y","":"f zhi li li","":"g wi jn yng","":"r t wi n","":"xi b wi l","":"y hng r shng","":"mi tu cng ying","":"tin ch d yun","":"fng jun cn yn","":"du zi du nn","":"r xi wi gn","":"hng ji l shu","":"lng bi wi jin","":"ch bin b jng","":"y chng y h","":"y nin zh ch","":"jn chn tu qio","":"d d d d","":"shu gu li li","":"ho zhng y xi","":"hng de f z","":"chun wi mi tn","":"f shng d g","":"s hi wi ji","":"lio ru zh zhng","":"d yu k wi","":"ch tu l min","":"g gu nng nng","":"chung mng j jng","":"ti rn ch zh","":"n f chng gun","":"yu j b li","":"g tou ji zi","":"y b yn tin","":"y dng din er","":"sh li yn zhun","":"chn c ln dio","":"hu zhng wi lng","":"hu sho hu lio","":"gn cu l su","":"dio er lng dng","":"gung zhng b shu","":"zhng gu d gu","":"zhng du d du","":"nn sh nn fn","":"sh xu wi mng","":"fn f yu wi","":"yn cu yng ch","":"dng du x cng","":"yn xn hu lio","":"zun ni jio jin","":"qio zhung d bn","":"gi xin gng zhng","":"h nn bng zi","":"ho ch ln zu","":"h l b wi","":"d ch fng tu","":"gng chng l d","":"pio pio liang liang","":"zh zhng zh y","":"d m h y","":"l sh chng yn","":"shui xin chu fn","":"ji chng l dun","":"kun d wi hui","":"zu bng yu b","":"y xio lio zh","":"tin xi wi gng","":"hun w h shn","":"h z wi q","":"ho z wi zh","":"fng z chu yu","":"d y png tu","":"chun wi ji hu","":"ch l p wi","":"chng co ji y","":"xio ji zi q","":"sho b gng sh","":"nn fn nn sh","":"tin zhun ji w","":"sh fi fn mng","":"sh w q shu","":"pin tng pin xn","":"ling r wi ch","":"xing lng f h","":"gng hu b li","":"zhng zhng xi hui","":"y shn x gu","":"y y zhng d","":"sng hn lu p","":"sn zu d shn","":"j j y tng","":"ho sh zh t","":"gn jng l su","":"ch jing r xing","":"nio nio nu nu","":"h li wi ba","":"ho y w lo","":"d r w dng","":"d m hu yn","":"bn shng dng dng","":"yo w h li","":"xi bng xi jing","":"shu dio g tu","":"sh din wng z","":"rn sh b xng","":"q go h gu","":"l jio b gi","":"h wi yn gu","":"h wi bio l","":"hu c b b","":"gu gun zhn jing","":"g ge d d","":"d f pin pin","":"zu wi shng c","":"yun jia du tu","":"yu x k chng","":"y ln bn zho","":"pin yn zh y","":"ki hu ji sh","":"jng nin li yu","":"hn h q c","":"gu lin xin ch","":"chng nin li yu","":"b xn s qng","":"b dng rn z","":"bng d yo yun","":"zh f wi hn","":"zh me din er","":"y xng su rn","":"xi hu zhn tou","":"w d fng sh","":"wng wn wn qi","":"sh j wi rn","":"qing nin li yu","":"pi nn ji fn","":"ch zh ti rn","":"zh l wi m","":"wi r li lun","":"tin bng tin jing","":"sh jn qi yun","":"nn qing bi dio","":"k zhng zu l","":"hu j b f","":"xi wi xing tu","":"zhng yu yu x","":"b ling wi chng","":"bi bi qi qi","":"bi jn zh jing","":"q hng b sh","":"xu z sh l","":"xin d wi kui","":"t j ho hn","":"sh b jin qn","":"shn chi gu sh","":"qio qio d d","":"png p zh x","":"mi tu m wi","":"lio lio k sh","":"hng h r jing","":"h f tng yn","":"g bn qin chng","":"dn w x f","":"d rn xin sheng","":"y mn gng sh","":"sh bi l zhun","":"sh fi d sh","":"sh b ch c","":"si wng sh m","":"r b x shn","":"qi shn t hu","":"pin yn zh z","":"po m mi xi","":"nng zh b wn","":"lng lng sn sn","":"ling t ci y","":"lin zhng sn yun","":"l bng yu hui","":"b wi y shn","":"zhun bi wi x","":"y yn hun yn","":"wi wi d gun","":"wi wi b k","":"tng yn h f","":"png b wi jin","":"m c wi shn","":"ji qing di bng","":"f shng j ji","":"dn rn ch zh","":"dn sh h jing","":"chung j tng shn","":"co zhng yng fi","":"zu sh b ji","":"y j du rn","":"su hng ji sh","":"wn y zi do","":"wn b du t","":"ti bn dng dng","":"shn t f f","":"qu ch sho chun","":"m w zn zhng","":"j rn tin xing","":"hu ji sh nn","":"gng jn ti g","":"di z bo j","":"di sn l s","":"b m s tng","":"xu jin no di","":"wi fi zu ","":"rn ci nn d","":"qng fi d y","":"qi zhng yo hi","":"hu j hu lio","":"hu d wi lo","":"ho ji tn bi","":"chng g dng k","":"zi chn zi f","":"y nn chng xing","":"y m g da","":"y ln wi h","":"yng wi zhng yng","":"yn wi xn shng","":"yn b yu zhng","":"t qing b xin","":"png tu d y","":"m b xi j","":"ling ci l yng","":"jio xu xing zhng","":"hu b dng ch","":"h yo h li","":"b z wi xn","":"b j xng j","":"png ru w rn","":"zu z nn to","":"z w chu x","":"zhun hu wi f","":"yng gun sn jn","":"y d r ch","":"xi m sh l","":"wn r b zhun","":"tin do ho hun","":"shn dn l b","":"s du chng bng","":"pin zh zh z","":"nng qu w ln","":"m m w wn","":"ling l r wi","":"l l k sh","":"ku bi zi do","":"jn z ho qi","":"ho wi rn sh","":"ho shng j ji","":"g yu su ho","":"du d ling l","":"zh tin wi sh","":"y xng chun fi","":"xn kun t pn","":"wi d b z","":"tin xi wi ji","":"sh wi wi t","":"sn zi b nn","":"m hu r gun","":"l li l l","":"jin fng ji zun","":"ji cng b li","":"j gng ho y","":"j nin li yu","":"hu d wi lo","":"gng mng gi xng","":"fng wi gu ni","":"du nn xng bng","":"b p b l","":"zu d z hu","":"zu b chng x","":"zu b ku tng","":"zu ji y shang","":"zu zh yu w","":"zu y yu yu","":"zun tu m fng","":"zun tin d dng","":"zun p ch y","":"zun hu d bng","":"zun dng m fng","":"zun bng qi hu","":"z wi f yn","":"zhu f nn sh","":"zhu rn xin bin","":"zhu dio wi p","":"zhu ch nng zhng","":"chu xn yn q","":"chu xn q xu","":"chu ni xing sh","":"chu ni sh xu","":"chu ni f zhng","":"chu mi t gu","":"chu mi gu qi","":"zhung f chng gun","":"zhung yn bo xing","":"zhun chu wi x","":"zhun chn wi x","":"zhui xing lu ji","":"zhui p f l","":"zhui b tu m","":"zh chng wn dun","":"zh jin wi l","":"zh yu q kng","":"zh yu kng x","":"zh tin wi n","":"zh yun yu r","":"zh mo l l","":"zh c b sh","":"zh w b hun","":"zh ling cn du","":"zh ling x chn","":"zh r gun x","":"zh fn zo gi","":"zhu du y s","":"zhu zhng wi hun","":"chng mng j yn","":"zhng zhu tng yn","":"zhng mo cun qi","":"zhng ho zhng w","":"zhi zh su t","":"zh ch w tu","":"zh dng b y","":"zh zo wi bi","":"zh yn wi gng","":"zh sh wi xng","":"zh shn shu m","":"zh g wi w","":"zh gn xing ch","":"zh d y bn","":"zh w q c","":"zhng shn shui xi","":"zhng gun l xi","":"zhng gun n l","":"zhng gng shui w","":"zhng dn gn kn","":"zhn tu xu ti","":"zhn sng jng bi","":"zh y s l","":"sh jin wi sh","":"zh r z zh","":"zho d s wi","":"zhng j xio r","":"zhn n wng hu","":"zhn fng wng q","":"zhn jing qin q","":"zng m tu zh","":"zng shn sh rn","":"zo yo zhng shng","":"zo zhn w yo","":"zo gu sh c","":"cun sn j w","":"cun mei c ","":"cun lng h zhng","":"cun fng j d","":"zi xio zi yn","":"zi ji wn z","":"yn shn b x","":"yn sh xi jun","":"yu zhng sh gu","":"yu lu shn hng","":"y n qi ji","":"y j wi fng","":"y nn chng xing","":"y y li li","":"y zh w dng","":"y xio xun tin","":"y sh chn f","":"y sh xio xi","":"y qing zun x","":"y du qn mu","":"y chun p d","":"y yng k g","":"y zh y xing","":"y q y qi","":"y ji wi gu","":"yu ji w hun","":"yu ji w y","":"yu gu nn tu","":"yu b yu fng","":"yu gn dng jn","":"yu yn t y","":"yng zhng jio jio","":"yng sh yn shu","":"yng yng fi jn","":"yng xn yn zho","":"yng yn yn w","":"yng tin shn sh","":"yn li shu ru","":"yn zhn shn t","":"yn d shng li","":"yn shng qi m","":"yn ch dn sh","":"yn yun wi sh","":"yn sh wi w","":"y mi y w","":"y s li lu","":"y l wng qi","":"y y wi zh","":"y yn wi hu","":"y sh jin qn","":"y shu j shu","":"y sh wi y","":"y shu wi gng","":"y shng ling dn","":"y shn wi jin","":"y qun wi y","":"y l li xng","":"y hu wi f","":"y hi wi bi","":"y gu wi tin","":"y g wi jin","":"y gng xio ju","":"y f wi jio","":"y d w x","":"y sh wng li","":"y qn zi hui","":"y d ji jin","":"y tu l dng","":"y z sh shu","":"y qng chng fi","":"y shang zh hu","":"y dn sh b","":"y hun y bo","":"y gng ho lng","":"y dio w qing","":"yo ch n sh","":"yo m xio chu","":"yng jng x ru","":"ng shu shn mi","":"yng yng s s","":"yng go mi ji","":"yng fng ji y","":"yn zho sh jn","":"yn zho ho m","":"yn sh wng zhn","":"yn jn qin jn","":"yn jn m xi","":"yn ji yu g","":"yn g zho w","":"yn di zh sh","":"yn ch wi cho","":"shn zo fi shng","":"yn g wi xun","":"yn ch ho ","":"y ling wi jin","":"chn hng du sh","":"q sh hng xi","":"dng hng ch s","":"xi ch bn hng","":"r n chng hng","":"d hng d sh","":"xn hng sh m","":"xn ch xing h","":"xu zhi li li","":"xun y g sh","":"xun sh wi y","":"xun dn chng sh","":"xun hun s cn","":"xun gu x y","":"xun qun lu xi","":"xun h gun hu","":"x q yng z","":"xi rn d d","":"xi ln yng zho","":"xing j h zh","":"xing s d j","":"xng wn zi shng","":"xng wn yn w","":"xng gun qn yun","":"xng go ci li","":"xn shu xing yng","":"xn ku xing yng","":"xi sh nng qun","":"xi jin li z","":"jio dun ling chng","":"xio yn b p","":"xio yn dn y","":"xio mng sh bo","":"xu zh ju gn","":"xu ti w shng","":"xu zh wi mn","":"xu m wi l","":"xing wng fng hui","":"xiang pei yu zhu","":"xing sh yu p","":"xing sh r dng","":"xing qi xing cu","":"xing n pi f","":"xing mn yu xing","":"xin zhng ch j","":"xin w zhu bin","":"x yn b ch","":"sh q  jio","":"x mo bin f","":"x su b f","":"w ln yn zho","":"w x wi gu","":"w f hn y","":"w dun zhun hng","":"w sh li y","":"w s xing xun","":"w hu q gu","":"w hu l zh","":"w g d f","":"w z yu ch","":"w xi zh ch","":"w shng w xi","":"w nng wi y","":"w ku bo s","":"w kng b zun","":"w jin k chng","":"w jin dng xi","":"w  b wi","":"w dng wi d","":"w ling wi do","":"w qun tu zho","":"wn w chi sh","":"wi wi tu tu","":"wi r wi su","":"wi b b xi","":"wi shn zu l","":"wi shn zh ku","":"wi rn b f","":"wi qi wi j","":"wi mn f m","":"wi hu f cu","":"wi ho chng qin","":"wi gu wi y","":"wng fng xing yng","":"wng chn pio shng","":"wng zh hun tng","":"wng gng dn gun","":"wng gu d f","":"wn gun ji s","":"wn sh dng ru","":"wn ji b bo","":"wn su ki sh","":"w m shng f","":"tn yn yn l","":"tu yun dun qin","":"tu gn ji sh","":"tun fn ju j","":"tun tu j min","":"t s yn mi","":"t tu zhng no","":"t ku yn mi","":"t b w f","":"tu zhun r q","":"tu m bi n","":"tu hn no mn","":"tu kui j lin","":"tu ch tu m","":"tng z chung y","":"tng w xing zh","":"tng w xing x","":"tng gun zi bo","":"tng wn dio w","":"tng li zhng zh","":"ti sh ki hu","":"tio gun b fn","":"tio y lio chn","":"tio yo tio li","":"tio chn lio zu","":"tin b wi y","":"tin b wi gui","":"tin xi wi lng","":"tin ti l m","":"tin nin b su","":"tn nng q qi","":"tn yn wi zhng","":"tn yn wi zhng","":"sh kng j m","":"su w yng j","":"su yn ci gn","":"sng jn l xu","":"sng yn zh ji","":"s tng b dng","":"s m cun t","":"s b ni li","":"s su zh zh","":"s n f yun","":"shu wng xi d","":"shu g qi jn","":"shn fng r h","":"shn fng chu hu","":"shu zhng zhu yn","":"shung gn du ji","":"sh m r chu","":"sh m ling chi","":"sh l lu ji","":"sh hi ln hung","":"sh bi ln hung","":"sh yn hun f","":"sh p wi p","":"sh chun wi zh","":"sh qu yu jin","":"shu z chng jin","":"shu z y ch","":"shu jio gn jng","":"shu b yng xn","":"sh shu ji wn","":"sh zh y xng","":"sh sh yng w","":"sh qng shui y","":"sh dng q chng","":"sh wi zh j","":"sh yng jing lng","":"sh wi mn tin","":"sh du w y","":"sh y yu l","":"sh yng b li","":"sh sh jn gu","":"sh x zhn cng","":"sh w dng x","":"sh wi w gng","":"sh m ji nn","":"sh sh f zhng","":"sh ch kn zhng","":"sh zh wi zhung","":"sh j lng xin","":"shng jng xin zhun","":"shng jn xin xing","":"shng tu s zhui","":"shn j du rn","":"shn w gu gun","":"shn lng sh sh","":"shn wn q sh","":"shn l qin q","":"shn g wi lng","":"shn w tng j","":"shn chu xi yun","":"sh j wi gng","":"sh dun q chng","":"sh c zhu yng","":"sh xi wi xn","":"sho chng ru xng","":"shng dng xu gui","":"shng b dng gng","":"shn z wi mu","":"shn wi shu c","":"shn shn w ","":"shn ci nn sh","":"shn yn p mi","":"shn y xin k","":"shn yn chng xng","":"shn yo y wi","":"shn li chun sh","":"shn ji zo zhu","":"sh j wi sh","":"s l dn b","":"sng yn wi y","":"sng yn b x","":"sng t chu mi","":"sng h jun sh","":"sn zhn sn bi","":"sn w ling sh","":"sn rn wi zhng","":"sn ch ling cu","":"si jng fn sh","":"s xn gng sh","":"s so yng du","":"run hng xing t","":"r w gu zhng","":"r ti zh b","":"r l qi qng","":"r chng rn y","":"r shu tu sh","":"r qi r cu","":"r dng chn ti","":"ru b g bng","":"ru qng chu ti","":"rng m kung rng","":"r zhng wi sh","":"r yu shn chn","":"r xng yu xi","":"r xu yu g","":"r xng yu sh","":"rn d b j","":"rn yn j j","":"rn m gu yng","":"rn m y d","":"r o fn bng","":"jun lo yng w","":"q y yu ji","":"q yo ro gu","":"qing xng jn xing","":"qng q y qi","":"qng xin sh q","":"qng xin h c","":"qng du jing qu","":"qng chng do d","":"qng z p t","":"qng ln hi si","":"qn shu  mi","":"qn s zh ho","":"qi zh wi ji","":"qi sh do gn","":"qi l yn xn","":"qi jn de dng","":"qio z yn lng","":"qio f q zhng","":"jing zu ni sh","":"qing zh z su","":"qing s qing hu","":"qing sh z i","":"qing sh m jio","":"qing gng jng n","":"qing gu b sh","":"qing f bin h","":"qing r hu k","":"qing d y pn","":"qin xng to qng","":"qin yng dn ji","":"qin lio bi dng","":"q xi r y","":"q yn wi sh","":"ki t jn z","":"q x l q","":"q sh xin zhu","":"q wng sh ni","":"q tin kung d","":"p tin shui t","":"p xing n d","":"p jn li xi","":"p ji wi gu","":"p g wi yun","":"png pio png zhun","":"png tin j d","":"bng shng x q","":"png j j zhng","":"pn zu b sh","":"pin y zh c","":"p f wn shn","":"png lng po fng","":"fu bi kui l","":"png mi ho f","":"pn hu zh li","":"pn chn sh gu","":"n d nn li","":"nng y chu xio","":"nng gun tio xin","":"nng fn dio zh","":"nng m dn zhung","":"nin t wi xing","":"nin y sh ho","":"nin hu chu m","":"n b y ln","":"n r b z","":"nng zh wi sh","":"nng b chn gun","":"no zh wi q","":"nn jn y tu","":"nn d h t","":"nn mn ju sh","":"nn fn bi g","":"m zh n x","":"m yun xn tn","":"m tio xn zho","":"m ling y yng","":"m tu m no","":"m gn nio q","":"mu s chui chn","":"m y d y","":"m fn sh zh","":"m lng jun qi","":"m lng wn jio","":"m mn b zho","":"m b zhu bin","":"mng zhng zh dng","":"mng h zh yng","":"mng xio d yn","":"mng w g dng","":"mio ch kn sh","":"mng xu q cho","":"min l b ci","":"m yu ji y","":"m y tu sh","":"m lin hi g","":"mn shn l jng","":"mn dn h b","":"mi dn chn xng","":"mo mng ji jio","":"mo su du jng","":"mo f do sh","":"mi wn wi shng","":"mi l zun h","":"mi d hun zh","":"mn sn yun s","":"m r hu shn","":"lu p jing h","":"lu lu nn h","":"lu co wi ku","":"lu zh gu xin","":"lun fng h mng","":"shui yu ji zhng","":"shui t tng qng","":"shui shu sh rn","":"shui t gu xn","":"shui m y j","":"shui r chng zhng","":"l jn yn xu","":"lu jn gng ln","":"lng nio jin yun","":"lng nio ch y","":"lng yu q zho","":"lng xu xun hung","":"lng dio fng j","":"li ch zh tu","":"lng yun zh q","":"lng rn png f","":"lng jng cu l","":"ln d y jing","":"li shang y chung","":"li gun hu min","":"lio w j s","":"lio shn d mng","":"lio rn w wn","":"lio b k jin","":"lio b zhng jn","":"lio f cu k","":"shn sh du sh","":"ling xio l wi","":"xing sh du l","":"ling ru zh zo","":"ling r jing hi","":"ling jn mi f","":"ling j shn fn","":"lin g chu hn","":"l y wi zh","":"l lng zh hn","":"l gung b hu","":"l wi qng mo","":"l rng wi gu","":"l shng xng jio","":"l bn jio m","":"lng mi hng yn","":"li tin do d","":"li z chng b","":"li w ji shng","":"li t zh shn","":"li t j sh","":"li lun zh wi","":"li li r zh","":"li kui j s","":"l shn l shu","":"lo yun jn tin","":"lo sh xi r","":"lo sh g zi","":"lng hun f d","":"ku qng du l","":"kung r li sh","":"kung ji m fng","":"k sh shng hu","":"ku qng sh b","":"ku jio shng fng","":"ku jio chn fng","":"ku jio fng qng","":"ku gn sh jio","":"ku f zh li","":"kng f pin pin","":"k y lio zu","":"k m wi h","":"k zh tu y","":"k tu chng zh","":"kng yn wi sh","":"ki hu ji gu","":"jn bn yn ch","":"jio ti j jn","":"ju m pn zh","":"ju tu jing no","":"ju tu ju no","":"jun nio zh hun","":"jun x r zng","":"jun ji bi do","":"j m wi shn","":"j shu xing qng","":"j sh hn zhu","":"j wi mo co","":"j shn qin jing","":"j xi shn shng","":"ji yo b wng","":"ji zhun gng chng","":"ji zhng sn hn","":"jng y l qn","":"jng d xi m","":"jng q jun sh","":"jng j zi t","":"jn sh ki si","":"jn wi shng rng","":"jn tu xio chng","":"jn tu yng j","":"jn tu ch fn","":"jn tu b zh","":"jn du jn sho","":"jn nng hun sh","":"jn j z sh","":"jn gng f q","":"jn gun xin si","":"jn w b jn","":"jn ch bi hi","":"ji y y rn","":"ji rn nn d","":"ji lng x lng","":"ji f yng kung","":"ji q o qio","":"jio no shng m","":"jio shu ling fi","":"jio l ji ch","":"jio sh ln sh","":"jio r s n","":"jio fng b s","":"xing yo zhu gui","":"jing q g y","":"jing mn yu jing","":"jing du g y","":"jin hu lng h","":"jin yng du xng","":"jin b k zhng","":"xin s bo p","":"jin q y rn","":"jin s sh m","":"jin b zhng l","":"jin xin cng ch","":"jin zu b sh","":"ji gun tin xi","":"ji f zh qn","":"ji li qin jn","":"ji j rn z","":"ji do cng rng","":"ji di rn w","":"j fng lng yu","":"j xng y qng","":"j shn l yun","":"j gng ling zu","":"j shang lin y","":"j sh xing dio","":"j b k wi","":"j shn yn j","":"j bn yu y","":"j b tng jio","":"j s li ji","":"j sh li r","":"j l wi b","":"j d li gng","":"j chn mi g","":"j pi mo m","":"hu wi f xin","":"hu f xing y","":"hu jn gng ch","":"hn yng ln yng","":"hu zhu wi du","":"hu zhng wi du","":"hu gun li chng","":"hu mng p s","":"hu chun zhun du","":"hung ch do nng","":"hung gun co l","":"hung f r ch","":"hung f chu tio","":"hun zh fn b","":"hun nin zh s","":"hun nin qu lo","":"hui shang wi k","":"hu d hu wn","":"hu xio wi ji","":"hu f wi q","":"hu ch wi fng","":"hu bu lng dng","":"h xin wi chun","":"h l h zh","":"h li h q","":"h b j x","":"hu wi x d","":"hu d zi w","":"hng jin y gn","":"hng l lio f","":"hng shng j z","":"hng bu lng dng","":"hng qing yng du","":"hng n ln shng","":"hn hi nn tin","":"h f j p","":"h s gn l","":"h h hi gn","":"h yn yu s","":"h zng lin hng","":"ho ho shng shng","":"ho yng du hn","":"ho wn z y","":"ho wi sh dun","":"ho wn ju y","":"ho shng zh d","":"ho q shng y","":"ho  b tng","":"ho dn fi s","":"ho gn bo q","":"ho f b shung","":"hn sun lu p","":"hn yng j hu","":"hn h b mng","":"gu wi y shn","":"gu sh ln cu","":"gu xun j sh","":"gung wn xin sheng","":"gung lng sn ju","":"gun shn di l","":"gun j do sh","":"gu x wi mn","":"gu jin xin wn","":"gu g xing lin","":"g wn fn zho","":"g dio dn tn","":"g dio b tn","":"g y shn rn","":"gu h q rng","":"gu x hu gun","":"gu zho j y","":"gng zh bi gn","":"gng wi chn ch","":"gng shu r xing","":"gng jin su bi","":"gng b chn y","":"gng dio m f","":"gng xng gi w","":"gng p nn sh","":"gng lng mng ho","":"gng di gn b","":"gng chng di h","":"gng chng mng dun","":"g s mng yng","":"g g b n","":"g g b t","":"g shu x yng","":"go ch m m","":"go y b yn","":"gng tu z d","":"gn wi gn zu","":"gn fn su sh","":"gn ch xi li","":"gn t sh k","":"gn mng fn y","":"gn jing m y","":"gn chng zh jing","":"f zi w ch","":"f zhi z hun","":"f wi z yn","":"f sh zhng mn","":"f wi hu sh","":"f ho lu j","":"f shu l sh","":"f shu zh s","":"p zhng z ti","":"f tu zhu fn","":"fng wi ki m","":"fng m lun ","":"fng x xi sh","":"fng yng f yn","":"fng w b ji","":"fn t b r","":"fn fng p li","":"fi fi shng shng","":"fi sh b y","":"fi jing sh q","":"fng p xi ch","":"fng lng yun gun","":"fn r b jio","":"fn bn hun yun","":"fn lo wi y","":"f ln chng zhun","":"f b dng zu","":"f yn qin jn","":"f jin t f","":"f dun xn chng","":"r sh wi n","":"r n xn chng","":"r n qng ji","":" w yng shn","":" pio zhn j","":" pio zi do","":"w zu qing ji","":" y zhng shng","":"w sh j xi","":"w j xi li","":"w b q shn","":" hng du sh","":" jn kng yn","":"  shng shng","":" jn nio yn","":"du y d jio","":"du rn su ho","":"du yn shu qing","":"du wn wi f","":"du dun gu yo","":"du ci shn g","":"dn sh w mn","":"dn j hung gun","":"du n yng j","":"dun hun gu zng","":"dun jin b sh","":"d j q ch","":"du j y shng","":"d m wi sh","":"d jun t xu","":"d jn j yun","":"d yu qin qi","":"d sh d jin","":"du zhun shn hng","":"du d lin chng","":"dng jin zhng ji","":"dng y x h","":"dng zhng kun yo","":"dng mng x yng","":"dng ln x zho","":"dng ling x sh","":"dng ji x sh","":"dng ch x zhui","":"dng chng yu r","":"dng chng y sh","":"dng tu ln ln","":"di dng b j","":"di dn bn ji","":"dio xn yn zho","":"din do y chng","":"d b nng xin","":"d m sh z","":"do q f zh","":"do x pi kng","":"do zi gn g","":"do chng su lng","":"do gu wi yn","":"to zi zh j","":"to pi m zu","":"dng chi wi n","":"dng zhu ch zhng","":"dng zhu b zhu","":"dng w sh zhng","":"dn r nng m","":"tn wn tu shu","":"dn ji w y","":"dn s pio yn","":"d p b wn","":"d mng f d","":"d ch y zi","":"d mn h lu","":"t li zhng zh","":"cu hu lio yun","":"cu k d hng","":"cn j zh li","":"cu cu ch ch","":"cu zh ho qing","":"cu gng wi ru","":"cng s ji jin","":"c f b yng","":"c chng b h","":"c bi wi bn","":"chn sh pin j","":"chn sn n f","":"chu tu t y","":"chun wi xio tn","":"chun fng shn hu","":"chun hng zhu l","":"ch ch j li","":"ch zn j xin","":"ch tng yn qu","":"ch sh xio gng","":"ch go ln shn","":"ch r w jin","":"ch mn yng zh","":"ch ch y m","":"ch ch sh t","":"ch ch jn tu","":"chu shn mn hi","":"chng gun z li","":"ch y wi hu","":"ch r yun jia","":"ch dun cn chng","":"ch cn zh gng","":"chng bi x gng","":"chng bi xng fi","":"chn shu hu n","":"chng y do qng","":"chng t zi y","":"chn t ci y","":"chn ji yu w","":"chng d du gng","":"chn yn zhng j","":"chn yn b ju","":"chn k s j","":"ch qin l yn","":"ch shn fng q","":"ch zi chun zhung","":"zho shng m g","":"zho pn m sh","":"cho jn gun g","":"chng r b h","":"chng su y wi","":"chng hng b xi","":"zhng yu zn bi","":"chng shng j r","":"zhng nin sn lo","":"chng chn b lo","":"zhng o sh fi","":"chng tng l sh","":"chn x zhn n","":"ch sn cu s","":"cng ti li xi","":"cng xin di ch","":"cng zng ni j","":"cng yng jin xi","":"cn sng dn b","":"cn fng s xi","":"cn w cu zng","":"shn chn mo yu","":"ci yu gn j","":"ci b zh shui","":"ci d nn yng","":"ci b zh qin","":"b z wi y","":"b z wi j","":"b z wi f","":"b z ch sh","":"b zhu tng r","":"b zh dng dng","":"b yu li ch","":"b xing wi mu","":"b tn wi bo","":"b lio r lio","":"b k ku du","":"b hung q ch","":"b dng b zhng","":"b ch shn me","":"b ch li sh","":"b ling fn xng","":"b t yng sh","":"b w x g","":"b hn zhng rn","":"b wn yu l","":"b kng m m","":"b p chu jn","":"b f chu su","":"b zh yn wi","":"b hi yn zh","":"bng wi jing gu","":"bng qing jing yng","":"bng du jing gung","":"bng b yu jing","":"bng ji d p","":"bn bn j j","":"bio mi zh nin","":"bio l wi jin","":"bio f din j","":"bin tn l b","":"b gi b q","":"b yn mi shu","":"b w zh sh","":"p shn di h","":"p ji zhn g","":"p ji j n","":"p h hui y","":"p f yng gun","":"bi q yo gng","":"bi chung go w","":"bi chn xng gng","":"bi b zh yn","":"bi gng fi sh","":"p y l gun","":"p si lng mn","":"bo l wn xu","":"bo h png h","":"bo wn zhi gu","":"bo f ch sh","":"bo bin y du","":"bng xin zun ln","":"bi jing fng hu","":"bi shu shui w","":"bi kng qin chung","":"bi y qng xing","":"bi shu wi lng","":"bi shu xing zh","":"b wn w yn","":"b gu jun x","":"b bn s yun","":"o b k zhng","":"o gng shu y","":"n sh ch shn","":"n shn wi l","":"n lo hui sho","":"n b dng ch","":"i rn ho sh","":"i rn gun chng","":"i fng j fng","":"i shn s hi","":" ji  wng","":" dng xing wi","":"zhu wng zh bi","":"zh ln d shu","":"zh tng zho r","":"y b jng rn","":"y jn wi li","":"y r sn xng","":"xu j y ch","":"w j li shu","":"w shng w xi","":"wi y b xn","":"sh shn wi gu","":"sh q qi jing","":"qing zu ji rn","":"q chng du ni","":"ln shn l b","":"jn tin gung yu","":"jin nn ji ju","":"ji q ji b","":"hn hn  ","":"hu g b jn","":"gu p  rn","":"g m sh xin","":"f tu zhu fn","":"fng wi zh bo","":"dng tn bi jing","":"chn hn dng xng","":"ch ch wi mng","":"b wn qing zh","":"b nn ji y","":"lio w shng j","":"yu y shu y","":"d y w r","":"shu y b r","":"j y fn sn","":"sh y sh r","":"sh y jng bi","":"dng y mo r","":"dng y qu r","":"b y r zh","":"w y xng min","":"bio l b y","":"ling yu b y","":"xn ku b y","":"yn xng b y","":"zhng lng b y","":"cn c b y","":"fn fn b y","":"hu y b y","":"b y r sn","":"bi b y y","":"yn xng bo y","":"y bi xi y","":"bi chng ji y","":"png chng ji y","":"qun bi fng y","":"qn j h y","":"bi b hu y","":"bi b sh y","":"bi w sh y","":"wn b sh y","":"wn w sh y","":"h r wi y","":"h ling wi y","":"h r wi y","":"tin xi wi y","":"xing y wi y","":"jio ru hu y","":"jio r hu y","":"jio ru hu y","":"yn xng ru y","":"sh zhng ru y","":"zhng sh ru y","":"wi jng wi y","":"zhng du fi y","":"b nng zn y","":"wn y d sh","":"y b ni zhng","":"y y gun zh","":"y y dng bi","":"bi b dng y","":"sh b dng y","":"y y jng bi","":"y y fng bi","":"y y ch wn","":"y y zh wn","":"bi l tio y","":"zhng q hu y","":"y li r q","":"y l gng jio","":"y l q ch","":"y l b sh","":"zho cho zho lu","":"q y fng yng","":"y hng b xng","":"hng hng b xng"},fH=Object.keys(pH).map((e=>({zh:e,pinyin:pH[e],probability:2e-8,length:4,priority:BF,dict:Symbol("dict4")}))),mH={"":"b r gn bn do","":"b r k sh h","":"b xng r yn zhng","":"b r sh wi k","":"h l r b wi","":"k zhng mng y h","":"mng d wi d y","":"mn y sh wi tin","":"sh hu zh g ling","":"w y x wi gu","":"xin xi shu wi qing","":"hng hng ch zhung yuan","":"y d l y hi","":"yn b jin wi jng","":"zh tng do du zi"},gH=Object.keys(mH).map((e=>({zh:e,pinyin:mH[e],probability:2e-8,length:5,priority:BF,dict:Symbol("dict5")})));function vH(e,t){return e&&(e.decimal<t.decimal||e.decimal===t.decimal&&e.probability>t.probability)?e:t}function yH(e){e.probability<1e-300&&(e.probability*=1e300,e.decimal+=1)}function _H(e){return e.priority===FF?-e.length*e.length*100:e.priority===zF?-e.length*e.length*10:0}function EH(e,t){return e&&e.count<=t.count?e:t}function bH(e){return e.priority===FF?-e.length*e.length*1e5:e.priority===zF?-e.length*e.length*100:1}var TH,SH;(SH=TH||(TH={}))[SH.ReverseMaxMatch=1]="ReverseMaxMatch",SH[SH.MaxProbability=2]="MaxProbability",SH[SH.MinTokenization=3]="MinTokenization";class wH{constructor(e,t="",n=""){this.children=new Map,this.fail=null,this.patterns=[],this.parent=e,this.prefix=t,this.key=n}}const CH=[...gH,...fH,...hH,...uH,...nH,...cH],RH=new class{constructor(){this.dictMap=new Map,this.queues=[],this.root=new wH(null)}build(e){this.buildTrie(e),this.buildFailPointer()}buildTrie(e){for(let t of e){const e=GF(t.zh);let n=this.root;for(let t=0;t<e.length;t++){let r=e[t];if(!n.children.has(r)){const o=new wH(n,e.slice(0,t).join(""),r);n.children.set(r,o),this.addNodeToQueues(o)}n=n.children.get(r)}this.insertPattern(n.patterns,t),t.node=n,this.addPatternToDictMap(t)}}buildFailPointer(){let e=[],t=0;for(this.queues.forEach((t=>{e=e.concat(t)})),this.queues=[];e.length>t;){let n=e[t++],r=n.parent&&n.parent.fail,o=n.key;for(;r&&!r.children.has(o);)r=r.fail;n.fail=r?r.children.get(o):this.root}}addPatternToDictMap(e){this.dictMap.has(e.dict)||this.dictMap.set(e.dict,new Set),this.dictMap.get(e.dict).add(e)}addNodeToQueues(e){this.queues[HF(e.prefix)]||(this.queues[HF(e.prefix)]=[]),this.queues[HF(e.prefix)].push(e)}insertPattern(e,t){for(let n=e.length-1;n>=0;n--){const r=e[n];if(t.priority===r.priority&&t.probability>=r.probability)e[n+1]=r;else{if(!(t.priority>r.priority))return void(e[n+1]=t);e[n+1]=r}}e[0]=t}removeDict(e){if(this.dictMap.has(e)){this.dictMap.get(e).forEach((e=>{e.node.patterns=e.node.patterns.filter((t=>t!==e))})),this.dictMap.delete(e)}}match(e,t){let n=this.root,r=[];const o=GF(e);for(let i=0;i<o.length;i++){let e=o[i];for(;null!==n&&!n.children.has(e);)n=n.fail;if(null===n)n=this.root;else{n=n.children.get(e);const o=n.patterns.find((e=>"off"===t?e.priority!==zF:"head"!==t||e.length-1-i==0));o&&r.push(Object.assign(Object.assign({},o),{index:i-o.length+1}));let a=n.fail;for(;null!==a;){const e=a.patterns.find((e=>"off"===t?e.priority!==zF:"head"!==t||e.length-1-i==0));e&&r.push(Object.assign(Object.assign({},e),{index:i-e.length+1})),a=a.fail}}}return r}search(e,t,n=2){const r=this.match(e,t);return 1===n?function(e){const t=[];for(let o=e.length-1;o>=0;){const{index:i}=e[o];let a=o-1;for(;a>=0&&(n=e[o],!((r=e[a]).index+r.length<=n.index||r.priority>n.priority||r.priority===n.priority&&r.length>n.length));)a--;(a<0||e[a].index+e[a].length<=i)&&t.push(e[o]),o=a}var n,r;return t.reverse()}(r):3===n?function(e,t){const n=[];let r=e.length-1,o=e[r];for(let i=t-1;i>=0;i--){const a=i+1>=t?{count:0,patterns:[]}:n[i+1];for(;o&&o.index+o.length-1===i;){const t=o.index,i={count:bH(o)+a.count,patterns:a.patterns,concatPattern:o};n[t]=EH(n[t],i),o=e[--r]}const s={count:1+a.count,patterns:a.patterns};n[i]=EH(n[i],s),n[i].concatPattern&&(n[i].patterns=n[i].patterns.concat(n[i].concatPattern),n[i].concatPattern=void 0,delete n[i+1])}return n[0].patterns.reverse()}(r,HF(e)):function(e,t){const n=[];let r=e.length-1,o=e[r];for(let i=t-1;i>=0;i--){const a=i+1>=t?{probability:1,decimal:0,patterns:[]}:n[i+1];for(;o&&o.index+o.length-1===i;){const t=o.index,i={probability:o.probability*a.probability,decimal:a.decimal+_H(o),patterns:a.patterns,concatPattern:o};yH(i),n[t]=vH(n[t],i),o=e[--r]}const s={probability:1e-13*a.probability,decimal:0,patterns:a.patterns};yH(s),n[i]=vH(n[i],s),n[i].concatPattern&&(n[i].patterns=n[i].patterns.concat(n[i].concatPattern),n[i].concatPattern=void 0,delete n[i+1])}return n[0].patterns.reverse()}(r,HF(e))}};RH.build(CH);const IH=new WF,AH=e=>{const t=KF.get(e);return t?t.split(" ")[0]:e},OH=e=>e.replace(/(|||)/g,"a").replace(/(|||)/g,"o").replace(/(|||)/g,"e").replace(/(|||)/g,"i").replace(/(|||)/g,"u").replace(/(|||)/g,"").replace(/(n|||)/g,"n").replace(/(m||m|m)/g,"m").replace(/(|||)/g,""),NH=(e,t="off")=>{const n=IH;let r=KF.get(e)?KF.get(e).split(" "):[];if(n.get(e))r=n.get(e).split(" ");else if("off"!==t){const t=sH[e];t&&(r=[t].concat(r.filter((e=>e!==t))))}return r},kH=e=>{const t=e.split(" "),n=[],r=[];for(let o of t)for(let e of YF)if(o.startsWith(e)){let t=o.slice(e.length);-1!==XF.indexOf(e)&&-1!==$F.indexOf(t)&&(t=JF[t]),n.push(e),r.push(t);break}return{final:r.join(" "),initial:n.join(" ")}},DH=e=>{const{final:t}=kH(e);let n="",r="",o="";return-1!==ZF.indexOf(OH(t))?(n=t[0],r=t[1],o=t.slice(2)):(r=t[0]||"",o=t.slice(1)||""),{head:n,body:r,tail:o}},xH=e=>{const t=/(||||||n|m|)/,n=/(||||||||)/,r=/(|||||||m|)/,o=/(|||||||m|)/,i=/(a|o|e|i|u||)/,a=/(n|m)$/,s=[];return e.split(" ").forEach((e=>{t.test(e)?s.push("1"):n.test(e)?s.push("2"):r.test(e)?s.push("3"):o.test(e)?s.push("4"):i.test(e)||a.test(e)?s.push("0"):s.push("")})),s.join(" ")},PH=(e,t)=>{const n=[];return e.split(" ").forEach((e=>{n.push(t?e[0]:e)})),n.join(" ")};function MH(e,t){return!(t instanceof RegExp)||t.test(e)}const LH=(e,t)=>!(1!==HF(e)||!t.multiple)&&((e,t="off")=>{let n=NH(e,t);return n.length>0?n.map((t=>({origin:e,result:t,isZh:!0,originPinyin:t}))):[{origin:e,result:e,isZh:!1,originPinyin:e}]})(e,t.surname),UH=(e,t)=>{switch(t.toneType){case"symbol":break;case"none":e.forEach((e=>{e.isZh&&(e.result=OH(e.result))}));break;case"num":e.forEach((e=>{e.isZh&&(e.result=((e,t)=>{const n=OH(e).split(" "),r=xH(t).split(" "),o=[];return n.forEach(((e,t)=>{o.push(`${e}${r[t]}`)})),o.join(" ")})(e.result,e.originPinyin))}))}},jH={pattern:"pinyin",toneType:"symbol",type:"string",multiple:!1,mode:"normal",removeNonZh:!1,nonZh:"spaced",v:!1,separator:" ",toneSandhi:!0,segmentit:2};function VH(e,t){t=Object.assign(Object.assign({},jH),t||{});const n=(e=>"string"==typeof e)(e);if(!n)return e;if(""===e)return"array"===t.type||"all"===t.type?[]:"";void 0===t.surname&&("surname"===t.mode?t.surname="all":t.surname="off"),"all"===t.type&&(t.pattern="pinyin"),"num"===t.pattern&&(t.toneType="none"),t.removeNonZh&&(t.nonZh="removed");let r=Array(HF(e)),{list:o}=((e,t,n,r)=>{const o=RH.search(e,n,r);let i=0;const a=GF(e);for(let s=0;s<a.length;){const e=o[i];if(e&&s===e.index){if(1===e.length&&e.priority<=BF){const e=a[s];let n="";n=aH(e,a[s-1],a[s+1]),t[s]={origin:e,result:n,isZh:n!==e,originPinyin:n},s++,i++;continue}const n=e.pinyin.split(" ");let r=0;for(let o=0;o<e.length;o++){const i=GF(e.zh);t[s+o]={origin:i[o],result:n[r],isZh:!0,originPinyin:n[r]},r++}s+=e.length,i++}else{const e=a[s];let n="";n=aH(e,a[s-1],a[s+1]),t[s]={origin:e,result:n,isZh:n!==e,originPinyin:n},s++}}return{list:t,matches:o}})(e,r,t.surname,t.segmentit);return o=((e,t)=>(!1===t&&e.forEach((e=>{""===e.origin?e.result=e.originPinyin="y":""===e.origin&&(e.result=e.originPinyin="b")})),e))(o,t.toneSandhi),o=((e,t)=>{let n=t.nonZh;if("removed"===n)return e.filter((e=>e.isZh||!MH(e.origin,t.nonZhScope)));if("consecutive"===n){for(let n=e.length-2;n>=0;n--){const r=e[n],o=e[n+1];!r.isZh&&!o.isZh&&MH(r.origin,t.nonZhScope)&&MH(o.origin,t.nonZhScope)&&(r.origin+=o.origin,r.result+=o.result,o.delete=!0)}return e.filter((e=>!e.delete))}return e})(o,t),LH(e,t)&&(o=LH(e,t)),((e,t)=>{switch(t.pattern){case"pinyin":break;case"num":e.forEach((e=>{e.result=e.isZh?xH(e.result):""}));break;case"initial":e.forEach((e=>{e.result=e.isZh?kH(e.result).initial:""}));break;case"final":e.forEach((e=>{e.result=e.isZh?kH(e.result).final:""}));break;case"first":e.forEach((e=>{e.result=PH(e.result,e.isZh)}));break;case"finalHead":e.forEach((e=>{e.result=e.isZh?DH(e.result).head:""}));break;case"finalBody":e.forEach((e=>{e.result=e.isZh?DH(e.result).body:""}));break;case"finalTail":e.forEach((e=>{e.result=e.isZh?DH(e.result).tail:""}))}})(o,t),UH(o,t),((e,t)=>{t.v&&e.forEach((e=>{e.isZh&&(e.result=e.result.replace(//g,"v"))}))})(o,t),((e,t,n)=>{if(t.multiple&&1===HF(n)){let t="";e=e.filter((e=>{const n=e.result!==t;return t=e.result,n}))}return"array"===t.type?e.map((e=>e.result)):"all"===t.type?e.map((e=>{const n=e.isZh?e.result:"",{initial:r,final:o}=kH(n),{head:i,body:a,tail:s}=DH(n);let c=[];return""!==n&&(c=[n].concat(NH(e.origin,t.surname).filter((e=>e!==n)))),{origin:e.origin,pinyin:n,initial:r,final:o,first:PH(e.result,e.isZh),finalHead:i,finalBody:a,finalTail:s,num:Number(xH(e.originPinyin)),isZh:e.isZh,polyphonic:c,inZhRange:!!KF.get(e.origin),result:e.result}})):e.map((e=>e.result)).join(t.separator)})(o,t,e)}var BH,zH;function FH(e){const t={},n={};for(const r in e)if(Object.hasOwnProperty.call(e,r)){const t=e[r],o=t.nickname?VH(t.nickname,{pattern:"initial"})[0]:VH(t.hxId,{pattern:"initial"})[0];n[o]||(n[o]=[]),n[o].push(t)}return fF.sortBy(fF.keys(n)).forEach((e=>{t[e]=n[e]})),t}(zH=BH||(BH={}))[zH.AllSegment=1]="AllSegment",zH[zH.AllArray=2]="AllArray",zH[zH.AllString=3]="AllString",zH[zH.PinyinSegment=4]="PinyinSegment",zH[zH.PinyinArray=5]="PinyinArray",zH[zH.PinyinString=6]="PinyinString",zH[zH.ZhSegment=7]="ZhSegment",zH[zH.ZhArray=8]="ZhArray",zH[zH.ZhString=9]="ZhString",BH.AllSegment;const HH=e=>{let t=[];if(fF.isArray(e)&&(t=fF.cloneDeep(e)),e.constructor==Object)for(const n in e)if(Object.hasOwnProperty.call(e,n)){const r=e[n];t.push({device:n,status:1*r})}return t};const GH=Dt(!1);function WH(){const e=Oj("is_open_play_ring",!0),t=()=>{document.querySelector("#ring").pause()},n=fF.throttle((async()=>{const e=document.querySelector("#ring");try{await e.play()}catch(t){GH.value||r()}}),3e3),r=()=>{GH.value=!0,BL.alert("!","",{confirmButtonText:"OK",callback:()=>{t()}})};return{isOpenPlayRing:e,clickRing:t,playRing:n}}const qH=()=>{const e=Oj("isOpenedEMLog",!1);return $o((()=>{e.value?(lF.logger.setConfig({useCache:!0,maxCache:3145728}),lF.logger.setLevel(0),lF.logger.enableAll()):lF.logger.disableAll()})),{isOpenedEMLog:e,donwLoadEMLog:()=>lF.logger.download()}},KH=e=>{const{chatType:t="singleChat",from:n,id:r}=e;let o={type:"read",chatType:t,to:n,id:r},i=lF.message.create(o);i.msg_id=r,i.to&&hF.send(i)},YH=e=>{const{chatType:t="singleChat",from:n}=e;let r={type:"channel",chatType:t,to:n},o=lF.message.create(r);hF.send(o)},{ALL_MESSAGE_TYPE:XH,CHANGE_MESSAGE_BODAY_TYPE:$H}=gF,JH={state:{messageList:{}},mutations:{UPDATE_MESSAGE_LIST:(e,t)=>{const n=fF.assign({},e.messageList),r=OF(t);t.is_read=0,n[r]||(n[r]=[]),fF.unionBy(n[r].push(t),(e=>e.id)),e.messageList=n},UPDATE_HISTORY_MESSAGE:(e,t)=>{const{listKey:n,historyMessage:r}=t,o=fF.assign({},e.messageList);o[n]?fF.unionBy(o[n].unshift(...r),(e=>e.id)):(o[n]=[],fF.unionBy(o[n].push(...r),(e=>e.id))),e.messageList=o},CLEAR_SOMEONE_MESSAGE:(e,t)=>{e.messageList[t]=[]},CHANGE_MESSAGE_BODAY:(e,t)=>{const{type:n,key:r,mid:o}=t;switch(n){case $H.RECALL:if(e.messageList[r]){fF.find(e.messageList[r],(e=>e.id===o)).isRecall=!0}break;case $H.DELETE:if(e.messageList[r]){const t=e.messageList[r],n=fF.findIndex(e.messageList[r],(e=>e.id===o));t.splice(n,1),e.messageList[r]=fF.assign([],t)}break;case $H.MODIFY:if(e.messageList[r]){const n=fF.find(e.messageList[r],(e=>e.id===o));fF.assign(n,null==t?void 0:t.message)}}}},actions:{createNewMessage:({dispatch:e,commit:t},n)=>{const{isOpenPlayRing:r,playRing:o}=WH(),i=OF(n);t("UPDATE_MESSAGE_LIST",n),r.value&&o(),e("gatherConversation",i);const a=new URLSearchParams(window.location.search),s={};a.forEach(((e,t)=>{s[t]=e})),setTimeout((()=>{s.id===n.from&&"/chat/conversation/message"===window.location.pathname&&(t("CLEAR_UNREAD_NUM",i),KH({from:n.from,id:n.id}),YH({from:n.from}))}),360)},getHistoryMessage:async({state:e,dispatch:t,commit:n},r)=>{const{id:o,chatType:i,cursor:a,iid:s}=r;return new Promise((async(r,i)=>{const a={page_size:10,chat_im_user_id:o},c=hF.user;s&&Object.assign(a,{id:s}),bG("/admin/im/chat/history/list",a).then((i=>{const s=i.list;s.length>0&&s.forEach((e=>{e.from_im_user_id!==c&&0===e.is_read&&(KH({from:a.from,id:a.id}),YH({from:e.from_im_user_id})),Object.assign(e,{read:!0,id:e.msg_id,chatType:"singleChat",from:e.from_im_user_id,msg:e.content,time:e.create_time,to:e.to_im_user_id,iid:e.id})})),r({messages:s}),n("UPDATE_HISTORY_MESSAGE",{listKey:o,historyMessage:fF.reverse(s)}),e.messageList[o]||t("gatherConversation",o)})).catch((e=>{i(e)}))}))},sendShowTypeMessage:async({dispatch:e,commit:t},n)=>new Promise(((r,o)=>{const i=xF(n,(e=>{o(e)})),a=lF.message.create(i);hF.send(a).then((n=>{const{serverMsgId:o}=n;a.id=o,a.from=hF.user;const i=PF(a);t("UPDATE_MESSAGE_LIST",i),e("gatherConversation",i.to),r("OK")})).catch((e=>{o(e)}))})),createInformMessage:({dispatch:e,commit:t},n)=>{const r=fF.cloneDeep(n);r.type=XH.INFORM;const o=OF(n);t("UPDATE_MESSAGE_LIST",r),e("gatherConversation",o)},removeMessage:({dispatch:e,commit:t},n)=>{const{id:r,from:o,chatType:i}=n,a=OF(n);return new Promise(((n,s)=>{hF.removeHistoryMessages({targetId:o,chatType:i,messageIds:[r]}).then((o=>{t("CHANGE_MESSAGE_BODAY",{type:$H.DELETE,key:a,mid:r}),e("gatherConversation",a),n("OK")})).catch((e=>{s(e)}))}))},recallMessage:async({dispatch:e,commit:t},n)=>{const{mid:r,to:o,chatType:i}=n;return new Promise(((n,a)=>{hF.recallMessage({mid:r,to:o,chatType:i}).then((()=>{t("CHANGE_MESSAGE_BODAY",{type:$H.RECALL,key:o,mid:r}),e("gatherConversation",o),n("OK")})).catch((e=>{a(e)}))}))},modifyMessage:async({dispatch:e,commit:t},n)=>{const{id:r,to:o,chatType:i,msg:a}=n;return new Promise(((n,s)=>{const c=lF.message.create({type:"txt",msg:a,to:o,chatType:i});hF.modifyMessage({messageId:r,modifiedMessage:c}).then((i=>{const{message:a}=i||{};t("CHANGE_MESSAGE_BODAY",{type:$H.MODIFY,key:o,mid:r,message:a}),e("gatherConversation",o),n(i)})).catch((e=>{s(e)}))}))}}},{INFORM_FROM:ZH}=vF,{CHAT_TYPE:QH}=gF,eG={state:{informDetail:[],conversationListData:{}},mutations:{INIT_CONVERSATION_STATE:(e,t)=>{const n=hF.user;e.informDetail=Oj(`EASEIM_${n}_INFORM`,[]),e.conversationListData=t},CLEAR_INFORM_LIST:e=>{e.informDetail=[]},UPDATE_INFORM_LIST:(e,t)=>{const n=fF.assign([],e.informDetail);n.unshift(t),e.informDetail=n},UPDATE_CONVERSATION_LIST:(e,t)=>{const n=function(e){const t={},n=fF.values(e);return fF.sortBy(n,(function(e){return-e.latestSendTime})).forEach((e=>{const n=e.conversationKey;return t[n]=e})),t}(fF.assign(fF.cloneDeep(e.conversationListData),t));e.conversationListData=n},DELETE_ONE_CONVERSATION:(e,t)=>{const n=fF.assign({},e.conversationListData);n[t]&&delete n[t],e.conversationListData=fF.assign({},n);const r={channel:t,chatType:"singleChat",deleteRoam:!1};hF.deleteConversation(r).then((e=>{})).catch((e=>{}))},CLEAR_UNREAD_NUM:(e,t)=>{e.conversationListData[t]&&(e.conversationListData[t].unreadMessageNum=0)},CLEAR_AT_STATUS:(e,t)=>{e.conversationListData[t].isMention=!1},CLEAR_UNTREATED_STATUS:(e,t)=>{e.informDetail[t].untreated=0},CLEAR_UNREAD_STATUS:(e,t)=>{e.conversationListData[t].unreadMessageNum=0},UPDATE_UNREAD_STATUS:(e,t)=>{e.conversationListData[t].unreadMessageNum++},UPDATE_INFORM_BTNSTATUS:(e,{index:t,btnStatus:n})=>{e.informDetail[t].operationStatus=n}},actions:{createNewInform:({dispatch:e,commit:t},n)=>{var r,o;const{fromType:i,informContent:a}=n,s=function(e,t){const{type:n,from:r,to:o,status:i}=t;if(e===NF.FRIEND){let t={};return t="subscribe"===n?{fromType:e,type:n,title:kF[n],from:r,to:o,time:Date.now(),desc:i||kF[n],isOpearationBtn:!0,operationStatus:0}:{fromType:e,type:n,title:kF[n],from:r,to:o,time:Date.now(),desc:i||kF[n]},t.from===hF.user?t.untreated=0:t.untreated=1,t}if(e===NF.GROUP){let n={};const{operation:r,from:o,to:i,id:a}=t;return n="inviteToJoin"===r||"requestToJoin"===r?{fromType:e,operation:r,title:"",from:o,to:i,groupId:a,time:Date.now(),desc:kF[r],isOpearationBtn:!0,operationStatus:0}:{fromType:e,operation:r,title:"",from:o,to:i,groupId:a,time:Date.now(),desc:kF[r]||r},n.from===hF.user?n.untreated=0:n.untreated=1,n}}(i,a);if(t("UPDATE_INFORM_LIST",s),i===ZH.FRIEND){const t={from:a.from,to:a.to,chatType:QH.SINGLE};switch(a.type){case"unsubscribed":t.msg="",e("createInformMessage",t);break;case"subscribed":t.msg=",",e("createInformMessage",t)}}if(i===ZH.GROUP){const n={from:a.from,to:a.id,chatType:QH.GROUP};switch(a.operation){case"memberPresence":t("UPDATE_GROUP_INFOS",{groupId:a.id,type:"addAffiliationsCount"}),e("fetchGoupsMember",a.id),n.msg=`${a.from}`,e("createInformMessage",n);break;case"memberAbsence":t("UPDATE_GROUP_INFOS",{groupId:a.id,type:"delAffiliationsCount"}),e("fetchGoupsMember",a.id),n.msg=`${a.from}`,e("createInformMessage",n);break;case"updateAnnouncement":e("fetchAnnounment",a.id),n.msg=`${a.from}~`,e("createInformMessage",n);break;case"setAdmin":e("fetchGoupsAdmin",a.id),n.msg=`${a.from}${a.to}~`,e("createInformMessage",n);break;case"removeAdmin":e("fetchGoupsAdmin",a.id),n.msg=`${a.from}${a.to}~`,e("createInformMessage",n);break;case"muteMember":n.msg=`${a.from}${a.to?a.to:""}~`,e("createInformMessage",n);break;case"unmuteMember":n.msg=`${a.from}${a.to?a.to:""}~`,e("createInformMessage",n);break;case"removeMember":n.msg=`${a.from}${a.id}~`,e("createInformMessage",n),t("DELETE_ONE_CONVERSATION",a.id),t("UPDATE_GROUP_LIST",{type:"deleteFromList",groupId:a.id});break;case"destroy":n.msg=`${a.from}~`,e("createInformMessage",n),setTimeout((()=>{e("fetchGroupList",{pageNum:1,pageSize:500})}),300);break;case"updateInfo":n.msg=`${a.from}~`,e("createInformMessage",n),e("getAssignGroupDetail",a.id);break;case"acceptRequest":setTimeout((()=>{e("fetchGroupList",{pageNum:1,pageSize:500})}),300);break;case"memberAttributesUpdate":n.msg=`${a.from}${null==(r=null==a?void 0:a.attributes)?void 0:r.nickName}`,e("createInformMessage",n),t("SET_GROUP_MEMBERS_INFO",{groupId:a.id,inGroupInfo:[{[a.from]:{nickName:null==(o=null==a?void 0:a.attributes)?void 0:o.nickName}}]})}}},gatherConversation:({commit:e},t)=>{const n=function(e){const t={},n=e[e.length-1],r=(e,t,n)=>{const r=hF.user,o=OF(t),{chatType:i,from:a,ext:s,id:c,time:l,to:u,type:d}=t;let{fromType:h="0",fromName:p="",toType:f,toName:m,fromUrl:g,toAvatarUrl:v}=s||{};g="/static/image/head-customer.png"===g?_F:"/static/image/head-driver.jpg"===g?EF:g;const y=r===a?f:h,_=r===a?m:p,E=r===a?v:g;if("create"===e){const e={conversationType:i,conversationKey:o,conversationInfo:{name:"",avatarUrl:g},fromInfo:{fromId:a,fromName:""},targetId:u,unreadMessageNum:IF(t),isMention:RF(t),latestMessage:{msg:CF(t),type:d,ext:{...s}},latestMessageId:c,latestSendTime:l||Date.now()};if(i===TF.GROUP){const t=oG.state.Contacts.groupList[u];(null==t?void 0:t.groupname)&&(e.conversationInfo.name=t.groupname)}else i===TF.SINGLE&&(e.conversationInfo.name=u===r?a:u,e.conversationInfo.labelName=_||(u===r?a:u),e.conversationInfo.userType=y,e.conversationInfo.avatarUrl=E);return e}if("update"===e){const e={fromInfo:{fromId:a,fromName:""},latestMessage:{msg:CF(t),type:d,ext:{...s}},targetId:u,latestMessageId:c,latestSendTime:l||Date.now(),isMention:RF(t,n),conversationInfo:{name:u===r?a:u,labelName:_||(u===r?a:u),avatarUrl:E,userType:y},unreadMessageNum:IF(t,fF.cloneDeep(n))};return fF.assign(n,e)}};return(e=>{const n=oG.state.Conversation.conversationListData,o=OF(e);if(n[o]){if(n&&n[o]){const n=fF.cloneDeep(oG.state.Conversation.conversationListData[o]),i=r("update",e,n);t[o]=i}}else{const n=r("create",e);t[o]=n}})(n),t}(fF.cloneDeep(JH.state.messageList[t]));e("UPDATE_CONVERSATION_LIST",n)}}},tG={state:{friendList:{},groupList:{},friendBlackList:[]},mutations:{SET_FRIEND_LIST:(e,t)=>{e.friendList=fF.assign({},t)},SET_ADD_NEW_FRIEND:(e,t)=>{e.friendList=fF.assign(e.friendList,t)},DELETE_FRIEND_FROM_LIST:(e,t)=>{t&&delete e.friendList[t]},SET_BLACK_LIST:(e,t)=>{e.friendBlackList=fF.assign([],t)},SET_FRIEND_PRESENCE:(e,t)=>{const n=e.friendList;t.length>0&&t.forEach((e=>{const t={uid:(r=e).uid||r.userId,expiry:r.expiry||r.expire,lastTime:r.lastTime||r.last_time,statusDetails:HH(r.status||r.statusDetails),ext:r.ext};var r;n[t.uid]&&(n[t.uid].userStatus=t)}))},SET_GROUP_LIST:(e,t)=>{const{setType:n,data:r}=t;if("init"===n&&(e.groupList=fF.assign({},r)),"replenish"===n){const{id:t,name:n,disabled:o}=r;e.groupList[t]?e.groupList[t].groupDetail=r:e.groupList[t]={groupid:t,groupname:n,disabled:o,groupDetail:r}}},UPDATE_GROUP_INFOS:(e,t)=>{const{groupId:n,type:r,params:o}=t;if(e.groupList[n]&&e.groupList[n].groupDetail)switch(r){case"groupName":e.groupList[n].groupDetail.name=o;break;case"groupDescription":e.groupList[n].groupDetail.description=o;break;case"addAffiliationsCount":e.groupList[n].groupDetail.affiliations_count=e.groupList[n].groupDetail.affiliations_count+1;break;case"delAffiliationsCount":e.groupList[n].groupDetail.affiliations_count=e.groupList[n].groupDetail.affiliations_count-1}},UPDATE_GROUP_LIST:(e,t)=>{const{type:n,groupId:r,groupName:o}=t;"updateGroupName"===n&&(e.groupList[r].groupname=o),"deleteFromList"===n&&e.groupList[r]&&delete e.groupList[r]}},actions:{fetchAllFriendListFromServer:async({dispatch:e,commit:t})=>{const n={};try{const{data:r}=await hF.getContacts();r.length>0&&r.map((e=>n[e]={hxId:e}));const o=await e("getOtherUserInfo",r);t("SET_FRIEND_LIST",fF.merge(n,o)),e("subFriendsPresence",r)}catch(r){t("SET_FRIEND_LIST",n),e("subFriendsPresence",data)}},onAddedNewFriend:async({dispatch:e,commit:t},n)=>{const{from:r}=n;let o={};o[r]={hxId:r};try{const n=await e("getOtherUserInfo",[r]);fF.merge(o,n),t("SET_ADD_NEW_FRIEND",o)}catch(i){}e("subFriendsPresence",[r])},onDeleteFriend:async({dispatch:e,commit:t},n)=>{const{from:r}=n;e("unsubFriendsPresence",[r]),t("DELETE_FRIEND_FROM_LIST",r)},fetchBlackList:async({dispatch:e,commit:t},n)=>{const{data:r}=await hF.getBlocklist();r.length>0&&t("SET_BLACK_LIST",r)},getOtherUserInfo:async({commit:e},t)=>new Promise((async(e,n)=>{let r={};const o=[],i=fF.chunk([...t],99);try{i.length>0&&i.map((e=>o.push(hF.fetchUserInfoById(e))));const t=await Promise.all(o),n=fF.map(t,"data");n.length>0&&n.map((e=>r=Object.assign(r,e))),e(r)}catch(a){n(a)}})),subFriendsPresence:async({commit:e},t)=>{const n=[],r=fF.chunk([...t],100);try{r.length>0&&r.map((e=>n.push(hF.subscribePresence({usernames:e,expiry:2592e3}))));const t=await Promise.all(n),o=fF.flattenDeep(fF.map(t,"result"));e("SET_FRIEND_PRESENCE",o.length>0&&o.filter((e=>""!==e.uid)))}catch(o){}},unsubFriendsPresence:async({commit:e},t)=>{const n={usernames:[...t]};hF.unsubscribePresence(n).then((e=>{}))},fetchGroupList:async({commit:e},t)=>{const n=await hF.getJoinedGroups({...t});e("SET_GROUP_LIST",{setType:"init",data:fF.keyBy(n.data,"groupid")})},getAssignGroupDetail:async({dispatch:e,commit:t},n)=>{const r={groupId:n},o=await hF.getGroupInfo(r);o.data&&t("SET_GROUP_LIST",{setType:"replenish",data:o.data[0]})}},getters:{sortedFriendList:e=>FH(e.friendList)}},nG={state:{groupsInfos:{}},mutations:{SET_GORUPS_ADMINS:(e,t)=>{const{groupId:n,admin:r}=t;e.groupsInfos[n]||(e.groupsInfos[n]={}),e.groupsInfos[n].admin=r},SET_GOUPS_MEMBERS:(e,t)=>{const{groupId:n,members:r}=t;e.groupsInfos[n]||(e.groupsInfos[n]={}),e.groupsInfos[n].members=r},SET_GROUPS_BLIACK_LIST:(e,t)=>{const{groupId:n,blacklist:r}=t;e.groupsInfos[n]||(e.groupsInfos[n]={}),e.groupsInfos[n].blacklist=r},SET_GOUPS_MUTE_LIST:(e,t)=>{const{groupId:n,mutelist:r}=t;e.groupsInfos[n]||(e.groupsInfos[n]={}),e.groupsInfos[n].mutelist=r},SET_GOUPS_ANNOUN:(e,t)=>{const{groupId:n,announcement:r}=t;e.groupsInfos[n]||(e.groupsInfos[n]={}),e.groupsInfos[n].announcement=r},SET_GROUP_MEMBERS_INFO:(e,t)=>{const{groupId:n,inGroupInfo:r}=t;let o={};r.length>0&&r.map((e=>o=Object.assign(o,e))),e.groupsInfos[n]||(e.groupsInfos[n]={}),e.groupsInfos[n].groupMemberInfo=_.assign(e.groupsInfos[n].groupMemberInfo,o)}},actions:{fetchMultiGoupsInfos:async({dispatch:e},t)=>{e("fetchGoupsAdmin",t),e("fetchAnnounment",t),e("fetchGoupsBlackList",t),e("fetchGoupsMember",t),e("fetchGoupsMuteList",t)},fetchGoupsAdmin:async({commit:e},t)=>{const{data:n}=await hF.getGroupAdmin({groupId:t});e("SET_GORUPS_ADMINS",{groupId:t,admin:n})},fetchGoupsMember:async({dispatch:e,commit:t},n)=>{const r={pageNum:1,pageSize:1e3,groupId:n},{data:o}=await hF.listGroupMembers(r);e("fetchGroupMemberAttributes",{groupId:n,members:o}),t("SET_GOUPS_MEMBERS",{groupId:n,members:o})},fetchGroupMemberAttributes:async({dispatch:e,commit:t},n)=>{const{groupId:r,members:o}=n,i=_.chunk(o,10);let a=[];i.forEach((e=>{const t=_.flatten(_.map(e,_.values));a.push(hF.getGroupMembersAttributes({groupId:r,userIds:t}))}));try{const e=await Promise.all(a),n=_.map(e,"data");t("SET_GROUP_MEMBERS_INFO",{groupId:r,inGroupInfo:n})}catch(s){}},setInTheGroupInfo:async({commit:e},t)=>{const{groupId:n,nickName:r}=t;try{await hF.setGroupMemberAttributes({groupId:n,userId:hF.user,memberAttributes:{nickName:r}}),e("SET_GROUP_MEMBERS_INFO",{groupId:n,inGroupInfo:[{[hF.user]:{nickName:r}}]})}catch(o){}},fetchAnnounment:async({dispatch:e,commit:t},n)=>{const r={groupId:n},{data:o}=await hF.fetchGroupAnnouncement(r);t("SET_GOUPS_ANNOUN",{groupId:n,announcement:o.announcement})},fetchGoupsBlackList:async({dispatch:e,commit:t},n)=>{const{data:r}=await hF.getGroupBlocklist({groupId:n});t("SET_GROUPS_BLIACK_LIST",{groupId:n,blacklist:r})},fetchGoupsMuteList:async({dispatch:e,commit:t},n)=>{try{const{data:e}=await hF.getGroupMuteList({groupId:n});t("SET_GOUPS_MUTE_LIST",{groupId:n,mutelist:e})}catch(r){}},modifyGroupInfo:async({dispatch:e,commit:t},n)=>{const{groupid:r,modifyType:o,content:i}=n;if(0===o){const e={groupId:r,groupName:i};await hF.modifyGroup(e),t("UPDATE_GROUP_INFOS",{groupId:r,type:"groupName",params:i}),t("UPDATE_GROUP_LIST",{type:"updateGroupName",groupId:r,groupName:i})}if(1===o){const e={groupId:r,description:i};await hF.modifyGroup(e),t("UPDATE_GROUP_INFOS",{groupId:r,type:"groupDescription",params:i})}},modifyGroupAnnouncement:async({dispatch:e},t)=>{await hF.updateGroupAnnouncement(t),e("fetchAnnounment",t.groupId)},inviteUserJoinTheGroup:async({dispatch:e},t)=>{const{users:n,groupId:r}=t;try{await hF.inviteUsersToGroup({users:n,groupId:r}),kL({message:"~",type:"success"})}catch(o){kL({message:"~",type:"error"})}},removeTheGroupMember:async({dispatch:e},t)=>{const{username:n,groupId:r}=t;try{await hF.removeGroupMember({username:n,groupId:r}),kL({message:`${n}!`,type:"success"}),e("getAssignGroupDetail",r),e("fetchGoupsMember",r)}catch(o){kL({message:"",type:"error"})}},addMemberToBlackList:async({dispatch:e},t)=>{const{groupId:n,usernames:r}=t;try{await hF.blockGroupMembers({groupId:n,usernames:r}),kL({message:"~",type:"success"}),e("fetchGoupsMember",n),e("fetchGoupsBlackList",n),e("getAssignGroupDetail",n)}catch(o){kL({message:"~",type:"error"})}},removeTheMemberFromBlackList:async({dispatch:e},t)=>{const{groupId:n,usernames:r}=t;try{await hF.unblockGroupMembers({groupId:n,usernames:r}),kL({message:"~",type:"success"}),e("fetchGoupsBlackList",n)}catch(o){kL({message:"~",type:"error"})}},addMemberToMuteList:async({dispatch:e},t)=>{const{groupId:n,usernames:r}=t,o=[];try{r.length>0&&r.map((e=>{o.push=hF.muteGroupMember({groupId:n,username:e,muteDuration:8864e5})})),await Promise.all(o),kL({message:"~",type:"success"}),setTimeout((()=>{e("fetchGoupsMuteList",n)}),800)}catch(i){kL({message:"~",type:"error"})}},removeTheMemberFromMuteList:async({dispatch:e},t)=>{const{groupId:n,usernames:r}=t,o=[];try{r.length>0&&r.map((e=>{o.push=hF.unmuteGroupMember({groupId:n,username:e})})),await Promise.all(o),kL({message:"~",type:"success"}),setTimeout((()=>{e("fetchGoupsMuteList",n)}),800)}catch(i){kL({message:"~",type:"error"})}},leaveIntheGroup:async({commit:e},t)=>{if(!t.groupId)return;const{groupId:n}=t;return new Promise(((t,r)=>{hF.leaveGroup({groupId:n}).then((r=>{e("UPDATE_GROUP_LIST",{type:"deleteFromList",groupId:n}),t(r)})).catch((e=>{r(e)}))}))},destroyInTheGroup:async({commit:e},t)=>{if(!t.groupId)return;const{groupId:n}=t;return new Promise(((t,r)=>{let o={groupId:n};hF.destroyGroup(o).then((r=>{t(r),e("UPDATE_GROUP_LIST",{type:"deleteFromList",groupId:n})})).catch((e=>{r(e)}))}))}},getters:{}},rG="/png/service-CCrhVEqD.png",oG=new aF({state:{loginState:!1,networkStatus:!0,isShowWarningTips:!0,loginUserInfo:{hxId:"",nickname:"",avatarurl:rG},loginUserOnlineStatus:""},getters:{loginUserInfo:e=>e.loginUserInfo,loginUserOnlineStatus:e=>e.loginUserOnlineStatus},mutations:{CLOSE_WARNING_TIPS:e=>e.isShowWarningTips=!1,CHANGE_LOGIN_STATUS:(e,t)=>{e.loginState=t},CHANGE_NETWORK_STATUS:(e,t)=>{e.networkStatus=t},SET_LOGIN_USER_INFO:(e,t)=>{e.loginUserInfo=Object.assign(e.loginUserInfo,t),e.loginUserInfo.avatarurl=rG},SET_LOGIN_USER_ONLINE_STATUS:(e,t)=>{e.loginUserOnlineStatus=t}},actions:{getMyUserInfo:async({commit:e},t)=>{const{data:n}=await hF.fetchUserInfoById(t);n[t].hxId=t,e("SET_LOGIN_USER_INFO",n[t])},updateMyUserInfo:async({commit:e},t)=>{const{data:n}=await hF.updateUserInfo({...t});e("SET_LOGIN_USER_INFO",n)},handlePresenceChanges:({commit:e},t)=>{const{userId:n,ext:r}=t||{};n===hF.user?e("SET_LOGIN_USER_ONLINE_STATUS",r||"Unset"):e("SET_FRIEND_PRESENCE",[{...t}])}},modules:{Conversation:eG,Contacts:tG,Message:JH,Groups:nG}});const iG={all:aG=aG||new Map,on:function(e,t){var n=aG.get(e);n?n.push(t):aG.set(e,[t])},off:function(e,t){var n=aG.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):aG.set(e,[]))},emit:function(e,t){var n=aG.get(e);n&&n.slice().map((function(e){e(t)})),(n=aG.get("*"))&&n.slice().map((function(n){n(e,t)}))}};var aG;const sG=()=>({mountPresenceEventListener:()=>{hF.addEventHandler("presenceStatusChange",{onPresenceStatusChange:e=>{(e=>{oG.dispatch("handlePresenceChanges",e)})(...e)}})}}),cG=()=>{const{INFORM_FROM:e}=vF;return{mountGroupEventListener:()=>{hF.addEventHandler("groupEvent",{onGroupEvent:t=>{var n,r;n=e.GROUP,r=t,oG.dispatch("createNewInform",{fromType:n,informContent:r})}})}}},lG=()=>{const{mountConnectEventListener:e}=(()=>{const e=()=>{t(),n(),r(),o(),setTimeout((()=>{hF.getServerConversations({pageSize:50,cursor:""}).then((e=>{const t=hF.user,n=e.data.conversations.reduce(((e,n)=>{const{to:r,ext:o}=n.lastMessage||{},i=t===r?o.fromUrl:o.toAvatarUrl;return e[n.conversationId]={...n,conversationKey:n.conversationId,latestMessage:n.lastMessage,latestMessageId:n.lastMessage.id,latestSendTime:n.lastMessage.time,targetId:n.conversationId,unreadMessageNum:n.unReadCount,conversationInfo:{avatarUrl:"/static/image/head-customer.png"===i?_F:"/static/image/head-driver.jpg"===i?EF:i,labelName:t===r?o.fromName:o.toName,userType:t===r?o.fromType:o.toType,name:n.conversationId}},e}),{});oG.commit("INIT_CONVERSATION_STATE",n)}))}),500)},t=()=>{const e=hF.user;oG.dispatch("getMyUserInfo",e)},n=()=>{oG.dispatch("fetchAllFriendListFromServer")},r=()=>oG.dispatch("fetchBlackList"),o=()=>{oG.dispatch("fetchGroupList",{pageNum:1,pageSize:20})};return{mountConnectEventListener:()=>{const{isOpenPlayRing:t,clickRing:n}=WH();hF.addEventHandler("connection",{onConnected:()=>{oG.commit("CHANGE_LOGIN_STATUS",!0),t.value&&n(),e()},onDisconnected:()=>{Dz.push("/login"),oG.commit("CHANGE_LOGIN_STATUS",!1)},onOnline:()=>{oG.commit("CHANGE_NETWORK_STATUS",!0)},onOffline:()=>{oG.commit("CHANGE_NETWORK_STATUS",!1)},onError:e=>{yF(e.type,e.message)}})},fetchLoginUsersInitData:e,getMyUserInfos:t,fetchFriendList:n,fetchTheLoginUserBlickList:r,fetchGroupList:o}})();e();const{mountPresenceEventListener:t}=sG();t();const{mountReviceMessageEventListener:n}=(()=>{const{CHANGE_MESSAGE_BODAY_TYPE:e}=gF,t=e=>{oG.dispatch("createNewMessage",e)},n=t=>{const{from:n,to:r,mid:o}=t,i=r===hF.user?n:r;oG.commit("CHANGE_MESSAGE_BODAY",{type:e.RECALL,key:i,mid:o}),oG.dispatch("gatherConversation",i)},r=t=>{const{from:n,to:r,id:o}=t;if(!r)return;const i=r===hF.user?n:r;oG.commit("CHANGE_MESSAGE_BODAY",{type:e.MODIFY,key:i,mid:o,message:t}),oG.dispatch("gatherConversation",i)};return{mountReviceMessageEventListener:()=>{hF.addEventHandler("messageListen",{onReadMessage:e=>{var t;if("read"===e.type){const n=null==(t=oG.state.Message.messageList[e.from])?void 0:t.find((t=>(t.msg_id||t.id)===e.mid));if(!n)return;n.is_read=1}},onTextMessage:function(e){t(e)},onEmojiMessage:function(e){t(e)},onImageMessage:function(e){t(e)},onCmdMessage:function(e){},onAudioMessage:function(e){t(e)},onLocationMessage:function(e){t(e)},onFileMessage:function(e){t(e)},onCustomMessage:function(e){t(e)},onVideoMessage:function(e){t(e)},onRecallMessage:function(e){n(e)},onModifiedMessage:function(e){r(e)},onChannelMessage:e=>{oG.commit("CLEAR_UNREAD_NUM",e.from)}})},pushNewMessage:t,otherModifyMessage:r,otherRecallMessage:n}})();n();const{mountContactEventListener:r}=(()=>{const{INFORM_FROM:e}=vF,t=(e,t)=>{oG.dispatch("createNewInform",{fromType:e,informContent:t})};return{mountContactEventListener:()=>{hF.addEventHandler("friendListen",{onContactInvited:n=>{t(e.FRIEND,n)},onContactDeleted:n=>{t(e.FRIEND,n),oG.dispatch("onDeleteFriend",n)},onContactAdded:n=>{t(e.FRIEND,n),oG.dispatch("onAddedNewFriend",n)},onContactRefuse:n=>{n.type="other_person_refuse",t(e.FRIEND,n)},onContactAgreed:n=>{n.type="other_person_agree",t(e.FRIEND,n),oG.dispatch("onAddedNewFriend",n)}})}}})();r();const{mountGroupEventListener:o}=cG();o()},uG=kV("userStore",(()=>{const e=Tz(),t=Dt(""),n=Dt(""),r=Dt(!0),o=Dt(""),i=Dt(""),a=Dt([]),s=Dt([]),c=yt({}),l=Dt(!1),u={},d=e=>e.filter((e=>(e.children.length>0&&(e.children=d(e.children)),1===e.is_hide))),h=async()=>{lG(),c.im_user_id&&i.value&&hF.open({user:c.im_user_id,accessToken:i.value})},p=()=>{const e=Object.assign({"/src/views/Chat/driverWithdraw/index.vue":()=>sV((()=>import("./index-CrV75zQT.js")),__vite__mapDeps([49,50,51,24,52,26])),"/src/views/Chat/driverWithdraw/withdrawForm.vue":()=>sV((()=>import("./withdrawForm-CUl6Ugml.js")),__vite__mapDeps([50,51])),"/src/views/Chat/history/index.vue":()=>sV((()=>import("./index-DrRpqW6f.js")),__vite__mapDeps([53,20,24,54,26])),"/src/views/admin/access/accessForm.vue":()=>sV((()=>import("./accessForm-BSjM9zy-.js")),__vite__mapDeps([55,56,24,57,26,58,59,35,60,61])),"/src/views/admin/access/index.vue":()=>sV((()=>import("./index-DPoIGdHZ.js")),__vite__mapDeps([62,55,56,24,57,26,58,59,35,60,61,63])),"/src/views/admin/ads/adsForm.vue":()=>sV((()=>import("./adsForm-DnnH7QqH.js")),__vite__mapDeps([64,65,66,67])),"/src/views/admin/ads/index.vue":()=>sV((()=>import("./index-rVBg9o5t.js")),__vite__mapDeps([68,64,65,66,67,24,69,26])),"/src/views/admin/article/articleForm.vue":()=>sV((()=>import("./articleForm-B7X05KoH.js")),__vite__mapDeps([70,71])),"/src/views/admin/article/index.vue":()=>sV((()=>import("./index-42sAhMGy.js")),__vite__mapDeps([72,70,71,24,73,26])),"/src/views/admin/car_prices/carPricesForm.vue":()=>sV((()=>import("./carPricesForm-iN5JQAdd.js")),[]),"/src/views/admin/car_prices/index.vue":()=>sV((()=>import("./index-DbkkQUKH.js")),__vite__mapDeps([74,75,24,76,26])),"/src/views/admin/dict/dictForm.vue":()=>sV((()=>import("./dictForm-DFz7tJXl.js")),__vite__mapDeps([77,58,59,35,60,61])),"/src/views/admin/dict/index.vue":()=>sV((()=>import("./index-BaCD9K_b.js")),__vite__mapDeps([78,77,58,59,35,60,61,24,79,26])),"/src/views/admin/main/index.vue":()=>sV((()=>import("./index-BMUTOOjY.js")),__vite__mapDeps([80,24,81,26])),"/src/views/admin/role/index.vue":()=>sV((()=>import("./index-DTVCj7BA.js")),__vite__mapDeps([82,83,59,35,60,24,84,26])),"/src/views/admin/role/roleForm.vue":()=>sV((()=>import("./roleForm-CXjq2lTn.js")),__vite__mapDeps([83,59,35,60])),"/src/views/admin/setting/index.vue":()=>sV((()=>import("./index-DJI5FmDe.js")),__vite__mapDeps([85,86,24,87,26])),"/src/views/admin/setting/settingForm.vue":()=>sV((()=>import("./settingForm-B2eCJS9O.js")),[]),"/src/views/admin/setting/site.vue":()=>sV((()=>import("./site-CGM8P38o.js")),__vite__mapDeps([88,24,89,26])),"/src/views/admin/test/index.vue":()=>sV((()=>import("./index-b-m90uU-.js")),__vite__mapDeps([90,5,9])),"/src/views/admin/upload/index.vue":()=>sV((()=>import("./index-Co7iCMGo.js")),__vite__mapDeps([91,65,24,92,26,67])),"/src/views/admin/upload/setting.vue":()=>sV((()=>import("./setting-Cgin6BUZ.js")),__vite__mapDeps([93,24,94,26])),"/src/views/admin/user/index.vue":()=>sV((()=>import("./index-kMebPNze.js")),__vite__mapDeps([95,96,58,59,35,60,61,24,97,26])),"/src/views/admin/user/userForm.vue":()=>sV((()=>import("./userForm-DGicGloU.js")),__vite__mapDeps([96,58,59,35,60,61])),"/src/views/admin/version/index.vue":()=>sV((()=>import("./index-VS6A5vZF.js")),__vite__mapDeps([98,99,100,65,101,67,102,5,9])),"/src/views/admin/version/versionForm.vue":()=>sV((()=>import("./versionForm-DJFRxXDs.js")),__vite__mapDeps([103,104])),"/src/views/clientServer/customizedIntentionList/index.vue":()=>sV((()=>import("./index-Cjepal-_.js")),__vite__mapDeps([105,5,9])),"/src/views/company/companies/companiesForm.vue":()=>sV((()=>import("./companiesForm-Dtzvhz90.js")),__vite__mapDeps([106,65,107,67])),"/src/views/company/companies/index.vue":()=>sV((()=>import("./index-DfdNvomI.js")),__vite__mapDeps([108,106,65,107,67,109,110,24,111,26])),"/src/views/company/companies/resetPwd.vue":()=>sV((()=>import("./resetPwd-tYZYIoKT.js")),__vite__mapDeps([109,110])),"/src/views/company/company_bills/company_billsForm.vue":()=>sV((()=>import("./company_billsForm-CRyV6Hnl.js")),[]),"/src/views/company/company_bills/index.vue":()=>sV((()=>import("./index-DPu9Y1BM.js")),__vite__mapDeps([112,113,24,114,26])),"/src/views/company/company_configs/company_configsForm.vue":()=>sV((()=>import("./company_configsForm-Cz_WrwXr.js")),[]),"/src/views/company/company_configs/index.vue":()=>sV((()=>import("./index-BlwPBbgR.js")),__vite__mapDeps([115,116,24,117,26])),"/src/views/company/driverWithdraw/index.vue":()=>sV((()=>import("./index-B7BOMnU3.js")),__vite__mapDeps([118,119,120,24,121,26])),"/src/views/company/driverWithdraw/withdrawForm.vue":()=>sV((()=>import("./withdrawForm-Bu0QOZg5.js")),__vite__mapDeps([119,120])),"/src/views/company/drivers/driver_bills.vue":()=>sV((()=>import("./driver_bills-DfsN9_9T.js")),__vite__mapDeps([122,24,123,26])),"/src/views/company/drivers/driversForm.vue":()=>sV((()=>import("./driversForm-r_rYT7MT.js")),__vite__mapDeps([124,16,125,11])),"/src/views/company/drivers/index.vue":()=>sV((()=>import("./index-vY4ax22X.js")),__vite__mapDeps([126,124,16,125,11,24,127,26])),"/src/views/distribution/bandCard/index.vue":()=>sV((()=>import("./index-D_8RJQYd.js")),__vite__mapDeps([128,5,9])),"/src/views/distribution/goodsCommission/addForm.vue":()=>sV((()=>import("./addForm-hmUz5qEa.js")),__vite__mapDeps([129,99,100,65,101,67,102,130])),"/src/views/distribution/goodsCommission/index.vue":()=>sV((()=>import("./index-c7u0qZk5.js")),__vite__mapDeps([131,129,99,100,65,101,67,102,130,5,9])),"/src/views/distribution/integralDetails/index.vue":()=>sV((()=>import("./index-DaHfrta3.js")),__vite__mapDeps([132,5,9])),"/src/views/distribution/referralCommission/index.vue":()=>sV((()=>import("./index-BAEHVsXN.js")),__vite__mapDeps([133,5,9])),"/src/views/distribution/travelCommission/addForm.vue":()=>sV((()=>import("./addForm-2b_tJkdK.js")),__vite__mapDeps([134,99,100,65,101,67,102,135])),"/src/views/distribution/travelCommission/index.vue":()=>sV((()=>import("./index-cIti4oIo.js")),__vite__mapDeps([136,134,99,100,65,101,67,102,135,5,9])),"/src/views/distribution/userPromotionStatistics/index.vue":()=>sV((()=>import("./index-CKs1j7yr.js")),__vite__mapDeps([137,5,9])),"/src/views/financemanager/commissionWithdrawalReview/index.vue":()=>sV((()=>import("./index-Bf4RVHPi.js")),__vite__mapDeps([138,5,139,140,9])),"/src/views/financemanager/companyDZ/index.vue":()=>sV((()=>import("./index-DN_eV6g6.js")),__vite__mapDeps([141,5,9])),"/src/views/financemanager/company_withdraw/_old.vue":()=>sV((()=>import("./_old-6VmMbjvk.js")),__vite__mapDeps([142,24,143,26])),"/src/views/financemanager/company_withdraw/detailForm copy.vue":()=>sV((()=>import("./detailForm copy-B6FtPM6i.js")),__vite__mapDeps([144,20,145])),"/src/views/financemanager/company_withdraw/detailForm.vue":()=>sV((()=>import("./detailForm-yh091l4C.js")),__vite__mapDeps([146,5,9])),"/src/views/financemanager/company_withdraw/index.vue":()=>sV((()=>import("./index-BbQLt5zl.js")),__vite__mapDeps([147,146,5,9])),"/src/views/financemanager/driver_withdraw/index.vue":()=>sV((()=>import("./index-VOgQ4POI.js")),__vite__mapDeps([148,24,149,26])),"/src/views/financemanager/driver_withdraw/index1.vue":()=>sV((()=>import("./index1-CJxIXbEn.js")),__vite__mapDeps([150,5,9])),"/src/views/financemanager/merchantFundFlow/index.vue":()=>sV((()=>import("./index-DHw1nwgw.js")),__vite__mapDeps([151,5,9])),"/src/views/financemanager/merchantStatement/detailForm.vue":()=>sV((()=>import("./detailForm-CshpNBeH.js")),__vite__mapDeps([152,5,9])),"/src/views/financemanager/merchantStatement/index.vue":()=>sV((()=>import("./index-C_6W_Nkj.js")),__vite__mapDeps([153,152,5,9,154])),"/src/views/financemanager/userFundFlow/index.vue":()=>sV((()=>import("./index-Dhhuecjl.js")),__vite__mapDeps([155,5,9])),"/src/views/h5/phoneRegister/download.vue":()=>sV((()=>import("./download-KwF2HAe9.js")),__vite__mapDeps([47,45,48])),"/src/views/h5/phoneRegister/index.html":()=>sV((()=>import("./index-l0sNRNKZ.js")),[]),"/src/views/h5/phoneRegister/index.vue":()=>sV((()=>import("./index-Boff4na1.js")),__vite__mapDeps([44,45,29,46,31])),"/src/views/localLife/access/accessForm.vue":()=>sV((()=>import("./accessForm-7KrENoqM.js")),__vite__mapDeps([156,56,24,57,26,58,59,35,60,61])),"/src/views/localLife/access/index.vue":()=>sV((()=>import("./index-BO7tLbCD.js")),__vite__mapDeps([157,156,56,24,57,26,58,59,35,60,61,158])),"/src/views/localLife/addShopPage/index.vue":()=>sV((()=>import("./index-CmclIllw.js")),__vite__mapDeps([159,160,65,161,67,100,101,24,162,26])),"/src/views/localLife/goodsmanager/add.vue":()=>sV((()=>import("./add-lSMw_BYD.js")),__vite__mapDeps([163,160,65,161,67,100,101,24,164,26])),"/src/views/localLife/goodsmanager/goodsCheck.vue":()=>sV((()=>import("./goodsCheck-BpoXf0Nh.js")),__vite__mapDeps([165,24,166,26])),"/src/views/localLife/goodsmanager/index.vue":()=>sV((()=>import("./index-CR2QZSmj.js")),__vite__mapDeps([167,163,160,65,161,67,100,101,24,164,26,165,166,5,9,168])),"/src/views/localLife/goodsmanager/shopForm.vue":()=>sV((()=>import("./shopForm-B4JyXK65.js")),__vite__mapDeps([169,168])),"/src/views/localLife/merOrder/index.vue":()=>sV((()=>import("./index-56KX8i1n.js")),__vite__mapDeps([170,5,171,9])),"/src/views/localLife/merchantPointsIssuanceRecord/index.vue":()=>sV((()=>import("./index-zNJYwHoS.js")),__vite__mapDeps([172,5,173,9])),"/src/views/localLife/ordermanager/index.vue":()=>sV((()=>import("./index-CteYwNud.js")),__vite__mapDeps([174,175,99,100,65,101,67,102,176,5,9])),"/src/views/localLife/ordermanager/shopTypeForm.vue":()=>sV((()=>import("./shopTypeForm-BEwN3SaN.js")),__vite__mapDeps([175,99,100,65,101,67,102,176])),"/src/views/localLife/platformIntegralBalance/index.vue":()=>sV((()=>import("./index-B8keSoeJ.js")),__vite__mapDeps([177,5,9])),"/src/views/localLife/platformIntegralTransactionRecords/index.vue":()=>sV((()=>import("./index-DAMp4Rdm.js")),__vite__mapDeps([178,5,179,9])),"/src/views/localLife/refundType/index.vue":()=>sV((()=>import("./index-sr0nk5Ez.js")),__vite__mapDeps([180,181,99,100,65,101,67,102,182,5,9])),"/src/views/localLife/refundType/refundTypeForm.vue":()=>sV((()=>import("./refundTypeForm-GHQOlbC9.js")),__vite__mapDeps([181,99,100,65,101,67,102,182])),"/src/views/localLife/role/index.vue":()=>sV((()=>import("./index-Ci7TyKGN.js")),__vite__mapDeps([183,184,59,35,60,24,185,26])),"/src/views/localLife/role/roleForm.vue":()=>sV((()=>import("./roleForm-CmEn5xvt.js")),__vite__mapDeps([184,59,35,60])),"/src/views/localLife/shopCheck/index.vue":()=>sV((()=>import("./index-CPE7YnJt.js")),__vite__mapDeps([186,187,188,5,9])),"/src/views/localLife/shopCheck/shopCheckForm.vue":()=>sV((()=>import("./shopCheckForm-DFKoG9z-.js")),__vite__mapDeps([187,188])),"/src/views/localLife/shopType/index.vue":()=>sV((()=>import("./index-BQCflyyj.js")),__vite__mapDeps([189,190,99,100,65,101,67,102,191,5,9])),"/src/views/localLife/shopType/shopTypeForm.vue":()=>sV((()=>import("./shopTypeForm-Bv9EG8LB.js")),__vite__mapDeps([190,99,100,65,101,67,102,191])),"/src/views/localLife/shopmanager/add.vue":()=>sV((()=>import("./add-DaLrd7L2.js")),__vite__mapDeps([192,160,65,161,67,100,101,24,193,26])),"/src/views/localLife/shopmanager/index.vue":()=>sV((()=>import("./index-Ec4QWF6l.js")),__vite__mapDeps([194,192,160,65,161,67,100,101,24,193,26,195,196,5,9,197])),"/src/views/localLife/shopmanager/shopCheck.vue":()=>sV((()=>import("./shopCheck-D51HXPt2.js")),__vite__mapDeps([195,24,196,26])),"/src/views/localLife/shopmanager/shopForm.vue":()=>sV((()=>import("./shopForm-BACB6Bnn.js")),__vite__mapDeps([198,197])),"/src/views/localLife/user/index.vue":()=>sV((()=>import("./index-B2_Ddacr.js")),__vite__mapDeps([199,200,58,59,35,60,61,24,201,26])),"/src/views/localLife/user/userForm.vue":()=>sV((()=>import("./userForm-BLucmx8f.js")),__vite__mapDeps([200,58,59,35,60,61])),"/src/views/localLife/userIntegralBalance/index.vue":()=>sV((()=>import("./index-Sbyex2Cl.js")),__vite__mapDeps([202,5,9])),"/src/views/localLife/userPointsTransactionRecords/index.vue":()=>sV((()=>import("./index-DTEtZnP9.js")),__vite__mapDeps([203,5,204,9])),"/src/views/ordermanager/orders/index.vue":()=>sV((()=>import("./index-DTMezwyG.js")),__vite__mapDeps([205,206,20,24,207,26])),"/src/views/ordermanager/orders/ordersForm.vue":()=>sV((()=>import("./ordersForm-B-BJ6G_-.js")),[]),"/src/views/ordermanager/private/carForm.vue":()=>sV((()=>import("./carForm-CJ6q5Sh0.js")),__vite__mapDeps([208,20,209])),"/src/views/ordermanager/private/carOrderList.vue":()=>sV((()=>import("./carOrderList-BX1QtUms.js")),__vite__mapDeps([210,208,20,209,24,211,26])),"/src/views/system/cache/cacheForm.vue":()=>sV((()=>import("./cacheForm-TON00Cm6.js")),[]),"/src/views/system/cache/index.vue":()=>sV((()=>import("./index-DT5RKc0H.js")),__vite__mapDeps([212,213,24,214,26])),"/src/views/system/log/index.vue":()=>sV((()=>import("./index-6wGVauMt.js")),__vite__mapDeps([215,24,216,26])),"/src/views/system/queue/index.vue":()=>sV((()=>import("./index-DHnJv89T.js")),__vite__mapDeps([217,24,218,26])),"/src/views/system/queue/status.vue":()=>sV((()=>import("./status-DlAo8P4x.js")),__vite__mapDeps([219,24,220,26])),"/src/views/usermanager/customer_bills/company_billsForm.vue":()=>sV((()=>import("./company_billsForm-D2EUsAWV.js")),[]),"/src/views/usermanager/customer_bills/index.vue":()=>sV((()=>import("./index-CCMmTU7s.js")),__vite__mapDeps([221,222,24,223,26])),"/src/views/usermanager/users/index.vue":()=>sV((()=>import("./index-CqNIktdu.js")),__vite__mapDeps([224,225,24,226,26])),"/src/views/usermanager/users/usersForm.vue":()=>sV((()=>import("./usersForm-D2DIxMxJ.js")),[])});Object.assign(u,e)},f=e=>{const t=[];for(const n of e){const{url:e,uri:r,menu_icon:o,access_name:i,children:a}=n;"/chat/index"===e?(l.value=!0,t.push(Cz)):t.push({path:e,name:r,icon:o,title:i,component:(null==a?void 0:a.length)?void 0:u[`/src/views${e}.vue`],children:(null==a?void 0:a.length)?f(a):void 0})}return t},m=()=>{for(const e of Object.keys(c))delete c[e]},g=()=>{o.value="",a.value=[],s.value=[],m(),localStorage.clear()};return{getUserInfo:()=>({username:t.value,password:BV(n.value),rememberMe:r.value,authorization:o.value,adminUser:c}),setUserInfo:({username:e,password:a,rememberMe:s,authorization:c,easeToekn:l})=>{e&&(t.value=e),a&&(n.value=(e=>{const t=new VV;return t.setPublicKey("MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdH\nnzkXSOVOZbFu/TJhZ7rFAN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQ=="),t.encrypt(e)})(a)),s&&(r.value=s),c&&(o.value=c),l&&(i.value=l)},clearUserInfo:()=>{t.value="",n.value="",g()},clearUserRole:g,getUserRole:async()=>{var t;const n=await bG("/admin/index/index/lists",{});if(!n)return!1;const{admin_user:r={},button_list:o=[],menu_list:u=[]}=n;a.value=o,s.value=u,d(u),m(),Object.assign(c,r),p();const g={path:"/dashboard",name:"/dashboard",component:()=>sV((()=>import("./index-CYJ_P9t-.js")),__vite__mapDeps([227,228,35,1,4,229])),redirect:null==(t=u.find((e=>1===e.access_id&&0===e.parent_access_id)))?void 0:t.url,children:f(u)};if(g.children.push(...wz),e.addRoute(g),l.value){const e=await bG("/admin/im/ease_mob/token");i.value=e.access_token,h()}return!0},getMenuList:()=>s.value,username:t,authorization:o,password:n,rememberMe:r,buttonList:a,adminUser:c,easeToekn:i}}),{persist:!0}),dG=()=>uG(LV),hG=`${window.location.origin}/prod-api`;let pG=!1;const fG={url:"",paramsStr:"",timestamp:0},mG={"Content-Type":"application/json"},gG=async(e,t)=>{if(!e.ok)return yG(e,t);const n=await e.json();t&&_L.service({fullscreen:!0}).close();const{code:r,data:o={},msg:i=""}=n||{};return r&&200===r?o:vG(r,i)},vG=(e,t)=>(e||0===e?401===e?_G():t&&kL.error(t):kL.error(""),!1),yG=(e,t)=>{const{status:n,statusText:r}=e;return t&&_L.service({fullscreen:!0}).close(),n?n>=400&&n<500?kL.error(`: ${r} (${n})`):n>=500&&n<600?kL.error(`: ${r}(${n})`):kL.error(""):kL.error(""),!1},_G=async()=>{if(pG)return!1;pG=!0;const{ElMessageBox:e}=await sV((async()=>{const{ElMessageBox:e}=await import("./index-DP2MLe3e.js");return{ElMessageBox:e}}),__vite__mapDeps([230,17,24,34,35,5,139,16,29,21,28,228,38,65,59,58,15]));e.confirm("","",{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then((()=>{dG().clearUserRole(),location.href="/login"})).catch((()=>{}))},EG=async(e="",t={},n={})=>{const{loading:r=!1,headers:o={},isAuth:i=!0,isRepeat:a=!1,method:s="POST"}=n,c=JSON.stringify(t);if(a&&!((e,t)=>{if(Object.keys(t).length>5242880)return vG("???","5M");const{url:n,paramsStr:r,timestamp:o}=fG,i=Date.now();return n===e&&r===t&&i-o<1e3?vG("???",""):(Object.assign(fG,{url:e,paramsStr:t,timestamp:i}),!0)})(e,c))return!1;r&&_L.service({fullscreen:!0}),Object.assign(mG,i?{Authorization:`Bearer ${dG().authorization}`}:{},o);let l={};try{l=await fetch(hG+e,{method:s,headers:mG,body:c})}catch(u){return yG(l,r)}return gG(l,r)},bG=async(e="",t={},n={})=>{const{loading:r=!1,headers:o={},isAuth:i=!0}=n;r&&_L.service({fullscreen:!0}),Object.assign(mG,i?{Authorization:`Bearer ${dG().authorization}`}:{},o);let a={};const s=new URL(hG+e),c=Object.keys(t).reduce(((e,n)=>(t[n]&&(e[n]=t[n]),e)),{}),l=new URLSearchParams(c);s.search=l;try{a=await fetch(s,{method:"GET",headers:mG})}catch(u){return yG(a,r)}return gG(a,r)},TG=(e="",t={},n={})=>EG(e,t,{...n,method:"PUT"}),SG=async(e="",t={},n={})=>{const{loading:r=!1,headers:o={},isAuth:i=!0}=n;r&&_L.service({fullscreen:!0}),Object.assign(mG,i?{Authorization:`Bearer ${dG().authorization}`}:{},o);let a={};const s=new URL(hG+e),c=Object.keys(t).reduce(((e,n)=>(t[n]&&(e[n]=t[n]),e)),{}),l=new URLSearchParams(c);s.search=l;try{a=await fetch(s,{method:"DELETE",headers:mG})}catch(u){return yG(a,r)}return gG(a,r)},wG={class:"container"},CG="IM_MESSAGE",RG={__name:"index",props:{EaseIMClient:{type:Object,default:()=>({}),required:!0},msgCreateFunc:{type:Function,default:()=>({}),required:!0}},emits:["onInviteMembers"],setup(e,{expose:t,emit:n}){const r=e,o=n,{EaseIMClient:i,msgCreateFunc:a}=r;((e,t)=>{if(!e)throw"imclient must pass!";if(!t)throw"create message function must pass";oU=e,iU=t})(i,a),i.addEventHandler("IM_CONNECT",{onConnected:()=>{s()},onDisconnected:()=>{c()}});const s=()=>{const e={onTextMessage:e=>{const{ext:t}=e;t&&(null==t?void 0:t.action)===KL&&C(e)},onCmdMessage:e=>{e&&(null==e?void 0:e.action)===YL&&R(e)}};c(),i.addEventHandler(CG,e),u()},c=()=>i.removeEventHandler(CG),l=Dt(""),u=()=>l.value=i.user||"",d={singleCall:Gj,multiCall:iV},{callComponents:h,callKitStatus:p,callKitTimer:f,updateLocalStatus:m,updateChannelInfos:g,sendInviteMessage:v,inMultiChanelSendInviteMsg:y}=bU(),{EVENT_NAME:_,EVENT_LEVEL:E,CALLKIT_EVENT_TYPE:b,CALLKIT_EVENT_CODE:T,PUB_CHANNEL_EVENT:S}=hU(),w=new aU,C=e=>{const{from:t,ext:n}=e||{};if(t!==i.user)if(p.localClientStatus>qL.idle){const e={targetId:t,sendBody:n};w.sendAnswerMsg(e,tU)}else g(e),m(qL.alerting),w.sendAlertMsg(e)},R=e=>{if(e.from===i.user)return;const t=Object.assign({},e.ext)||{},{calleeDevId:n,callerDevId:r}=t,o=i.context.jid.clientResource,{action:a}=t,{localClientStatus:s,channelInfos:c}=p,l=p.channelInfos.callId;let u=!0;const d={targetId:e.from,sendBody:t,status:u},h={type:{},ext:{},callType:0,eventHxId:""};switch(a){case JL:if(m(qL.alerting),t.callId!==l)return void(u=!1);s>qL.receivedConfirmRing&&2!==c.callType&&(u=!1),r!==o&&(u=!1),u?(w.sendConfirmRing(d),m(qL.inviting)):(w.sendConfirmRing(d),m(qL.idle));break;case ZL:if(n!==o)return;!t.status&&p.localClientStatus<qL.receivedConfirmRing&&m(qL.idle),m(qL.receivedConfirmRing);break;case $L:{if(r!==o)return;m(qL.receivedAnswerCall),f.value&&clearTimeout(f.value);const n={targetId:e.from,sendBody:t};if(p.channelInfos.calleeDevId||2===p.channelInfos.callType?p.channelInfos.calleeDevId!==t.calleeDevId&&2!==p.channelInfos.callType&&(n.sendBody.result=rU):(t.videoToVoice&&(p.channelInfos.callType=0),g(e)),w.sendConfirmCallee(n),m(qL.confirmCallee),t.result!==nU&&2!==p.channelInfos.callType)return t.result===tU&&(h.type=b[T.CALLEE_BUSY],h.ext={message:""}),t.result===rU&&(h.type=b[T.CALLEE_REFUSE],h.ext={message:""}),h.callType=p.channelInfos.callType,h.eventHxId=e.from||"",S(_,{...h}),m(qL.idle)}break;case QL:if(e.to===i.user){if(t.result&&t.result===tU)return;if(t.calleeDevId!==o)return m(qL.idle),h.type=b[T.OTHER_HANDLE],h.ext={message:""},h.callType=p.channelInfos.callType,h.eventHxId=e.from||"",void S(_,{...h})}if(t.result!==nU&&p.localClientStatus!==qL.confirmCallee)return m(qL.idle);m(qL.confirmCallee);break;case XL:if(e.from===i.user)return;if(e.from===p.channelInfos.callerIMName)return m(qL.idle);h.type=b[T.CALLER_CANCEL],h.ext={message:""},h.callType=p.channelInfos.callType,h.eventHxId=e.from||"",S(_,{...h});break;case eU:if(t.callId!==p.channelInfos.callType)return;p.channelInfos.callType=GL.SINGLE_VOICE}},I=e=>{const t=p.channelInfos,n={targetId:t.callerIMName,sendBody:{callerDevId:t.callerDevId,callId:t.callId}};if(e===nU){w.sendAnswerMsg(n,nU),m(qL.answerCall);const e={type:b[T.CALLEE_ACCPET],ext:{message:""},callType:p.channelInfos.callType,eventHxId:t.callerIMName};2===p.channelInfos.callType&&(e.eventHxId=p.channelInfos.groupId),S(_,{...e})}if(e===rU){w.sendAnswerMsg(n,rU),m(qL.idle);const e={type:b[T.CALLEE_REFUSE],ext:{message:""},callType:p.channelInfos.callType,eventHxId:t.callerIMName};2===p.channelInfos.callType&&(e.eventHxId=p.channelInfos.groupId),S(_,{...e})}},A=()=>{const e=p.inviteTarget;if(e)if(p.channelInfos.callType===GL.MULTI_VIDEO){e.length&&e.forEach((e=>{w.sendCannelMsg({targetId:e,callId:p.channelInfos.callId})}));const t={type:b[T.CANCEL],ext:{message:""},callType:GL.MULTI_VIDEO,eventHxId:p.channelInfos.groupId};S(_,{...t}),m(qL.idle)}else{w.sendCannelMsg({targetId:e,callId:p.channelInfos.callId});const t={type:b[T.CANCEL],ext:{message:""},callType:p.channelInfos.callType,eventHxId:e};S(_,{...t}),m(qL.idle)}},O=()=>{const{calleeIMName:e,callerIMName:t,callId:n}=p.channelInfos,r=e===i.user?t:e;w.sendVideoToVioce(r,n),p.channelInfos.callType=GL.SINGLE_VOICE},N=async e=>{const t=i.user,n=p.channelInfos.channelName;if(!t&&!n)return;const{access_token:r,admin_user_id:o}=await bG("/admin/im/agora/token",{channel_name:n});p.channelInfos.agoraChannelToken=r,p.channelInfos.agoraUserId=o,e()},k=async e=>{const t=i.user,n=p.channelInfos.channelName;if(!t&&!n)return;const{result:r}=await function(e,t){const{username:n,channelName:r}=t,o=new Headers;o.append("authorization",`Bearer ${e.context.accessToken}`);var i={method:"GET",headers:o,redirect:"follow"};return new Promise((function(t,o){fetch(`${e.apiUrl}/channel/mapper?userAccount=${n}&channelName=${r}&appkey=${window.encodeURIComponent(e.appKey)}`,i).then((e=>e.text())).then((e=>{t(JSON.parse(e))})).catch((e=>{o(e)}))}))}(i,{username:t,channelName:n});p.channelInfos.channelUsers={...r},e()},D=({groupId:e})=>{o("onInviteMembers",{groupId:e})};return t({sendInviteMessage:v,inMultiChanelSendInviteMsg:y}),kr((()=>{c()})),(e,t)=>(Ri(),ki("div",wG,[Lt(p).localClientStatus===Lt(qL).receivedConfirmRing?(Ri(),Di(PU,{key:0,callKitStatus:Lt(p),onUpdateLocalStatus:Lt(m),onHandleSendAnswerMsg:I},null,8,["callKitStatus","onUpdateLocalStatus"])):Hi("",!0),(Ri(),Di(Vr(d[Lt(h)]),{callKitStatus:Lt(p),loginUserHxId:l.value,onGetAgoraRtcToken:N,onGetAgoraChannelDetails:k,onUpdateLocalStatus:Lt(m),onOnInviteMembers:D,onHandleCancelCall:A,onHandleVideoToVioce:O},null,40,["callKitStatus","loginUserHxId","onUpdateLocalStatus"]))]))}},IG=wU(RG,[["__scopeId","data-v-6e19f30b"]]),AG={class:"dialog-footer"},OG={__name:"index",emits:["sendMulitInviteMsg"],setup(e,{expose:t,emit:n}){const r=Lz(),o=n,i=Dt(!1),a=Dt([]),s=async e=>{var t,n;if(!e)return;const o=[],i=(null==(t=r.state.Groups.groupsInfos[e])?void 0:t.members)||[];if(i.length>0)i.length>0&&i.forEach((e=>{o.push(e.member||e.owner)})),a.value=o;else{await r.dispatch("fetchGoupsMember",e);const t=(null==(n=r.state.Groups.groupsInfos[e])?void 0:n.members)||[];t.length>0&&t.forEach((e=>{o.push(e.member||e.owner)})),a.value=o}},c=Dt([]),l=()=>{c.value.length>0&&o("sendMulitInviteMsg",Object.assign([],It(c.value))),c.value=[],i.value=!1};return t({alertDialog:e=>{i.value=!0,s(e)}}),(e,t)=>{const n=UN,r=jN,o=nO,s=VD;return Ri(),Di(s,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),title:"",width:"50%"},{footer:wn((()=>[Ui("span",AG,[ji(o,{onClick:t[1]||(t[1]=e=>i.value=!1)},{default:wn((()=>t[3]||(t[3]=[zi("")]))),_:1}),ji(o,{type:"primary",onClick:l},{default:wn((()=>t[4]||(t[4]=[zi("")]))),_:1})])])),default:wn((()=>[ji(r,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e)},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(a.value,(e=>(Ri(),Di(n,{key:e,label:e,disabled:e===Lt(hF).user},{default:wn((()=>[zi(ee(e),1)])),_:2},1032,["label","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])}}},NG=["src"],kG={__name:"App",setup(e){const{isOpenedEMLog:t,donwLoadEMLog:n}=qH();t.value=!1;const r=Dt(null),o=Dt(null),i=({groupId:e})=>{o.value.alertDialog(e)},a=e=>{r.value.inMultiChanelSendInviteMsg(e,2)},s=Lz(),c=Dt(null);return Zo(ma((()=>s.state.loginUserInfo.hxId)),(e=>{c.value="admin_user_2"===e?"/mp3/messageRing_01-i6Iec9Ue.mp3":"/mp3/messageRing_02-CoXDouIF.mp3"})),(e,t)=>{const n=Ur("router-view"),s=rR;return Ri(),Di(s,{locale:Lt(zL)},{default:wn((()=>[ji(n,null,{default:wn((({Component:e})=>[ji(La,{name:"slide-fade",mode:"out-in",duration:{enter:500,leave:300}},{default:wn((()=>[(Ri(),Di(Vr(e)))])),_:2},1024)])),_:1}),Ui("audio",{id:"ring",src:c.value,controls:"",hidden:""},null,8,NG),ji(IG,{ref_key:"easeCallKit",ref:r,EaseIMClient:Lt(hF),msgCreateFunc:Lt(lF).message,onOnInviteMembers:i},null,8,["EaseIMClient","msgCreateFunc"]),ji(OG,{ref_key:"inviteCallComp",ref:o,onSendMulitInviteMsg:a},null,512)])),_:1},8,["locale"])}}};const DG=["xlink:href"],xG=wU(Object.assign({name:"SvgIcon"},{__name:"index",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},setup(e){const t=e,n=ma((()=>{return e=t.iconClass,/^(https?:|mailto:|tel:)/.test(e);var e})),r=ma((()=>`#icon-${t.iconClass}`)),o=ma((()=>({mask:`url(${t.iconClass}) no-repeat 50% 50%`,"-webkit-mask":`url(${t.iconClass}) no-repeat 50% 50%`}))),i=ma((()=>"svg-icon"+(t.className?` ${t.className}`:"")));return(e,t)=>n.value?(Ri(),ki("div",{key:0,style:z(o.value),class:"svg-external-icon svg-icon"},null,4)):(Ri(),ki("svg",{key:1,class:q(i.value),"aria-hidden":"true"},[Ui("use",{"xlink:href":r.value},null,8,DG)],2))}}),[["__scopeId","data-v-22ac1e00"]]),PG={mounted(e,t){const n=dG(),{value:r}=t,o=n.buttonList;if(r&&r instanceof Array&&r.length>0){o.some((e=>"*:*:*"===e||r.includes(e)))||e.parentNode&&e.parentNode.removeChild(e)}}};if("undefined"!=typeof window){let e=function(){var e=document.body,t=document.getElementById("__svg__icons__dom__");t||((t=document.createElementNS("http://www.w3.org/2000/svg","svg")).style.position="absolute",t.style.width="0",t.style.height="0",t.id="__svg__icons__dom__",t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),t.innerHTML='<symbol class="icon" viewBox="0 0 1024 1024"  id="icon-chat"><path d="M85.126 747.297c33.836 33.614 155.514-32.634 155.514-32.634 15.583 9.127 32.813 16.428 49.42 22.706a345.934 345.934 0 0 1 78.758-367.304 345.934 345.934 0 0 1 369.753-78.18 350.564 350.564 0 0 0-78.58-120.877c-135.258-135.079-354.572-135.079-489.65-.045a346.023 346.023 0 0 0-52.804 421.621S51.557 713.862 85.17 747.297z" fill="#1296db" data-spm-anchor-id="a313x.search_index.0.i0.44ce3a81PClg40" /><path d="M769.158 263.123a388.853 388.853 0 0 0-80.585-118.873C537.733-6.41 292.42-6.41 141.713 144.25a386.003 386.003 0 0 0-70.167 450.872C43.364 651.976 13.936 735.5 56.587 777.884c42.83 42.607 126.976 12.689 183.964-15.583 5.921 2.805 12.377 5.61 19.144 8.46a385.291 385.291 0 0 0 80.496 119.273 386.983 386.983 0 0 0 448.378 71.28c56.988 28.36 140.911 58.145 183.741 15.582 42.563-42.563 13.134-125.997-15.048-182.762a385.736 385.736 0 0 0-188.104-531.01zM221.273 681.005c-38.155 20.747-85.304 37.175-105.427 37.398.356-19.946 16.695-66.738 37.264-104.626l10.997-20.258-11.843-19.812a305.063 305.063 0 0 1 46.748-372.202 304.796 304.796 0 0 1 216.109-89.355 305.018 305.018 0 0 1 243.266 120.387c-3.205-.356-6.455-.579-9.616-.89l-8.014-.668a389.298 389.298 0 0 0-22.261-.935l-2.983-.134c-8.37 0-16.74.267-25.021.757-2.493.134-4.987.445-7.435.623a406.172 406.172 0 0 0-26.402 2.983 341.31 341.31 0 0 0-17.675 3.117l-7.212 1.38c-8.103 1.781-16.162 3.74-24.131 6.01l-4.007 1.247c-6.678 2.004-13.312 4.14-19.857 6.5-2.671.89-5.253 1.915-7.836 2.939A391.747 391.747 0 0 0 434.4 274.12c-1.648.89-3.384 1.692-5.076 2.583a404.059 404.059 0 0 0-21.637 12.688l-5.788 3.83a379.86 379.86 0 0 0-36.597 27.157l-6.189 5.21a398.781 398.781 0 0 0-18.966 17.63c-6.188 6.189-12.02 12.6-17.764 19.1-1.825 2.092-3.562 4.274-5.343 6.411a396.822 396.822 0 0 0-16.695 21.37 376.832 376.832 0 0 0-24.087 37.844l-3.294 5.788c-4.007 7.435-7.702 14.96-11.175 22.617-.89 1.87-1.603 3.784-2.404 5.699a398.826 398.826 0 0 0-7.257 17.764c-1.069 2.805-2.048 5.654-3.028 8.459a385.87 385.87 0 0 0-11.932 41.227c-.668 2.76-1.335 5.52-1.914 8.281a410.536 410.536 0 0 0-3.918 22.127l-.445 2.716a378.746 378.746 0 0 0-2.672 24.932l-.445 8.148a406.038 406.038 0 0 0-.49 26.713c.045 5.476.268 10.908.58 16.384.177 3.116.31 6.277.578 9.439.49 5.965 1.202 11.931 1.959 17.897l.89 7.48c.134.579.179 1.113.223 1.692l-10.24 5.699zm654.47 131.873c20.524 37.843 36.864 84.591 37.175 104.537-20.035-.312-67.183-16.785-105.383-37.576l-20.079-10.908-19.723 11.486a305.864 305.864 0 0 1-370.198-47.638 305.953 305.953 0 0 1-.09-432.217 304.974 304.974 0 0 1 20.525-18.61c1.959-1.647 4.007-3.206 5.966-4.764a286.645 286.645 0 0 1 17.14-12.6 312.854 312.854 0 0 1 28.895-17.72l3.117-1.557a306.399 306.399 0 0 1 49.152-20.169c1.603-.534 3.206-1.113 4.808-1.558 8.593-2.582 17.364-4.72 26.18-6.5 1.691-.356 3.427-.623 5.208-.89a301.902 301.902 0 0 1 28.94-4.008c8.102-.667 16.294-1.113 24.486-1.157l2.493-.09c8.593 0 17.141.446 25.734 1.203l6.01.668a304.573 304.573 0 0 1 45.858 8.503c2.449.624 4.853 1.202 7.212 1.915 8.37 2.404 16.652 5.12 24.844 8.28l.089.045c39.624 15.227 75.197 38.423 105.739 69.01a304.796 304.796 0 0 1 46.703 372.2l-11.843 19.813 10.997 20.302z" fill="#000A64" /><path d="M596.235 377.455A262.945 262.945 0 0 0 374.65 597.838a40.515 40.515 0 0 0 80.05 12.466A184.632 184.632 0 0 1 608.3 457.55a40.515 40.515 0 1 0-12.02-80.14z" fill="#000A64" /></symbol><symbol   viewBox="0 0 52 45" id="icon-dark"><defs><filter x="-9.4%" y="-6.2%" width="118.8%" height="122.5%" filterUnits="objectBoundingBox" id="icon-dark_a"><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"></feColorMatrix><feMerge><feMergeNode in="shadowMatrixOuter1"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter><filter x="-4.2%" y="-2.5%" width="108.3%" height="110%" filterUnits="objectBoundingBox" id="icon-dark_c"><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" in="shadowBlurOuter1"></feColorMatrix></filter><rect id="icon-dark_b" x="0" y="0" width="48" height="40" rx="4" /></defs><g filter="url(#icon-dark_a)" transform="translate(2 1)" fill="none" fill-rule="evenodd"><mask id="icon-dark_d" fill="#fff"><use xlink:href="#icon-dark_b" /></mask><use fill="#000" filter="url(#icon-dark_c)" xlink:href="#icon-dark_b" /><use fill="#F0F2F5" xlink:href="#icon-dark_b" /><path fill="#FFF" mask="url(#icon-dark_d)" d="M0 0h48v10H0z" /><path fill="#303648" mask="url(#icon-dark_d)" d="M0 0h16v40H0z" /></g></symbol><symbol   viewBox="0 0 52 45" id="icon-light"><defs><filter x="-9.4%" y="-6.2%" width="118.8%" height="122.5%" filterUnits="objectBoundingBox" id="icon-light_a"><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"></feColorMatrix><feMerge><feMergeNode in="shadowMatrixOuter1"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter><filter x="-4.2%" y="-2.5%" width="108.3%" height="110%" filterUnits="objectBoundingBox" id="icon-light_c"><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" in="shadowBlurOuter1"></feColorMatrix></filter><rect id="icon-light_b" x="0" y="0" width="48" height="40" rx="4" /></defs><g filter="url(#icon-light_a)" transform="translate(2 1)" fill="none" fill-rule="evenodd"><mask id="icon-light_d" fill="#fff"><use xlink:href="#icon-light_b" /></mask><use fill="#000" filter="url(#icon-light_c)" xlink:href="#icon-light_b" /><use fill="#F0F2F5" xlink:href="#icon-light_b" /><path fill="#FFF" mask="url(#icon-light_d)" d="M0 0h16v40H0z" /><path fill="#FFF" mask="url(#icon-light_d)" d="M0 0h48v10H0z" /></g></symbol>',e.insertBefore(t,e.lastChild)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}let MG=new Array;MG["error.system"]="",MG["error.input.notnull"]="{0}",MG["error.input.length"]="{0}{1}{2}",MG["error.input.min.length"]="{0}{1}",MG["error.input.max.length"]="{0}{1}",MG["error.input.format"]="{0}{1}",MG["error.input.money"]="{0}{1}2",MG["error.date.format"]="{0}",MG["error.checkbox.notnull"]="{0}",MG["error.select.notnull"]="{0}",MG["error.regexp.format"]="{0}",MG["error.mobile.format"]="{0}",MG["error.phone.format"]="{0}",MG["error.mobilephone.format"]="",MG["error.idcard.format"]="",MG["error.input.float.format"]="{0}{1}",MG["error.batchdelete.empty"]="",MG["error.delete"]="",MG["error.upload"]="",MG["error.upload.empty"]="",MG["error.upload.exceed"]="{0}",MG["error.upload.type"]="{0}{1}",MG["error.auth.select"]="",MG["error.length.range"]="{0}maxLengthminLength",MG["error.number.range"]="{0}{1}{2}",MG["error.number.min"]="{0}{1}",MG["error.number.max"]="{0}{1}",MG["error.number.sort"]="{0}1-9999",MG["error.compare.range"]="{0}maxmin",MG["error.search.param"]="",MG["error.identify.code"]="",MG["error.org.role.param"]="",MG["error.confirmpwd"]="",MG["error.menutype.select"]="",MG["error.hospital.select"]="",MG["error.dept.select"]="",MG["error.add.doctorhospital"]="",MG["error.doctorhospital.select"]="",MG["error.add.repeat"]="{0}",MG["error.idcard.validate"]="",MG["error.upload.size"]="{0}",MG["error.authtype.select"]="",MG["error.accountName.format"]=".@_-818",MG["error.doctor.select"]="",MG["error.exist.isDefault"]="",MG["error.exist.isMain"]="",MG["error.doctorhospital.isDefault"]="",MG["error.doctorhospital.isMain"]="",MG["error.fee.added"]="",MG["error.fees.empty"]="",MG["error.hosp.enable"]="",MG["error.dept.child.not.0"]="0",MG["error.exist.region.province"]="",MG["error.moneyN.format1"]="00001020",MG["error.moneyN.format2"]="27",MG["confirm.delete.select"]="",MG["confirm.delete"]="",MG["confirm.stopaccount"]="",MG["confirm.startaccount"]="",MG["confirm.delete.primarydept"]="",MG["confirm.delete.data"]="{0}",MG["confirm.delete.recommenddept"]="",MG["info.delete"]="";var LG={exports:{}},UG=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},jG=UG,VG=Object.prototype.toString,BG=function(e){return function(t){var n=VG.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function zG(e){return e=e.toLowerCase(),function(t){return BG(t)===e}}function FG(e){return Array.isArray(e)}function HG(e){return void 0===e}var GG=zG("ArrayBuffer");function WG(e){return null!==e&&"object"==typeof e}function qG(e){if("object"!==BG(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var KG=zG("Date"),YG=zG("File"),XG=zG("Blob"),$G=zG("FileList");function JG(e){return"[object Function]"===VG.call(e)}var ZG=zG("URLSearchParams");function QG(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),FG(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var eW=function(e){return function(t){return e&&t instanceof e}}("undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array)),tW={isArray:FG,isArrayBuffer:GG,isBuffer:function(e){return null!==e&&!HG(e)&&null!==e.constructor&&!HG(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||VG.call(e)===t||JG(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&GG(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:WG,isPlainObject:qG,isUndefined:HG,isDate:KG,isFile:YG,isBlob:XG,isFunction:JG,isStream:function(e){return WG(e)&&JG(e.pipe)},isURLSearchParams:ZG,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:QG,merge:function e(){var t={};function n(n,r){qG(t[r])&&qG(n)?t[r]=e(t[r],n):qG(n)?t[r]=e({},n):FG(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)QG(arguments[r],n);return t},extend:function(e,t,n){return QG(t,(function(t,r){e[r]=n&&"function"==typeof t?jG(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,o,i,a={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)a[i=r[o]]||(t[i]=e[i],a[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:BG,kindOfTest:zG,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(HG(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:eW,isFileList:$G},nW=tW;function rW(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var oW=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(nW.isURLSearchParams(t))r=t.toString();else{var o=[];nW.forEach(t,(function(e,t){null!=e&&(nW.isArray(e)?t+="[]":e=[e],nW.forEach(e,(function(e){nW.isDate(e)?e=e.toISOString():nW.isObject(e)&&(e=JSON.stringify(e)),o.push(rW(t)+"="+rW(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},iW=tW;function aW(){this.handlers=[]}aW.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},aW.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},aW.prototype.forEach=function(e){iW.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var sW=aW,cW=tW,lW=tW;function uW(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}lW.inherits(uW,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var dW=uW.prototype,hW={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){hW[e]={value:e}})),Object.defineProperties(uW,hW),Object.defineProperty(dW,"isAxiosError",{value:!0}),uW.from=function(e,t,n,r,o,i){var a=Object.create(dW);return lW.toFlatObject(e,a,(function(e){return e!==Error.prototype})),uW.call(a,e.message,t,n,r,o),a.name=e.name,i&&Object.assign(a,i),a};var pW=uW,fW={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mW=tW;var gW,vW,yW,_W,EW=function(e,t){t=t||new FormData;var n=[];function r(e){return null===e?"":mW.isDate(e)?e.toISOString():mW.isArrayBuffer(e)||mW.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,i){if(mW.isPlainObject(o)||mW.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+i);n.push(o),mW.forEach(o,(function(n,o){if(!mW.isUndefined(n)){var a,s=i?i+"."+o:o;if(n&&!i&&"object"==typeof n)if(mW.endsWith(o,"{}"))n=JSON.stringify(n);else if(mW.endsWith(o,"[]")&&(a=mW.toArray(n)))return void a.forEach((function(e){!mW.isUndefined(e)&&t.append(s,r(e))}));e(n,s)}})),n.pop()}else t.append(i,r(o))}(e),t};var bW,TW,SW,wW,CW,RW,IW,AW,OW,NW,kW,DW,xW=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},PW=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},MW=function(e,t){return e&&!xW(t)?PW(e,t):t};function LW(){if(RW)return CW;RW=1;var e=pW;function t(t){e.call(this,null==t?"canceled":t,e.ERR_CANCELED),this.name="CanceledError"}return tW.inherits(t,e,{__CANCEL__:!0}),CW=t}function UW(){if(NW)return OW;NW=1;var e=tW,t=function(){if(vW)return gW;vW=1;var e=pW;return gW=function(t,n,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?n(new e("Request failed with status code "+r.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}}(),n=function(){if(_W)return yW;_W=1;var e=tW;return yW=e.isStandardBrowserEnv()?function(){return{write:function(t,n,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(n)),e.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),e.isString(o)&&s.push("path="+o),e.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),yW}(),r=oW,o=MW,i=function(){if(TW)return bW;TW=1;var e=tW,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return bW=function(n){var r,o,i,a={};return n?(e.forEach(n.split("\n"),(function(n){if(i=n.indexOf(":"),r=e.trim(n.substr(0,i)).toLowerCase(),o=e.trim(n.substr(i+1)),r){if(a[r]&&t.indexOf(r)>=0)return;a[r]="set-cookie"===r?(a[r]?a[r]:[]).concat([o]):a[r]?a[r]+", "+o:o}})),a):a}}(),a=function(){if(wW)return SW;wW=1;var e=tW;return SW=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(n){var r=e.isString(n)?o(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return function(){return!0}}()}(),s=fW,c=pW,l=LW(),u=AW?IW:(AW=1,IW=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""});return OW=function(d){return new Promise((function(h,p){var f,m=d.data,g=d.headers,v=d.responseType;function y(){d.cancelToken&&d.cancelToken.unsubscribe(f),d.signal&&d.signal.removeEventListener("abort",f)}e.isFormData(m)&&e.isStandardBrowserEnv()&&delete g["Content-Type"];var _=new XMLHttpRequest;if(d.auth){var E=d.auth.username||"",b=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";g.Authorization="Basic "+btoa(E+":"+b)}var T=o(d.baseURL,d.url);function S(){if(_){var e="getAllResponseHeaders"in _?i(_.getAllResponseHeaders()):null,n={data:v&&"text"!==v&&"json"!==v?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:e,config:d,request:_};t((function(e){h(e),y()}),(function(e){p(e),y()}),n),_=null}}if(_.open(d.method.toUpperCase(),r(T,d.params,d.paramsSerializer),!0),_.timeout=d.timeout,"onloadend"in _?_.onloadend=S:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(S)},_.onabort=function(){_&&(p(new c("Request aborted",c.ECONNABORTED,d,_)),_=null)},_.onerror=function(){p(new c("Network Error",c.ERR_NETWORK,d,_,_)),_=null},_.ontimeout=function(){var e=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",t=d.transitional||s;d.timeoutErrorMessage&&(e=d.timeoutErrorMessage),p(new c(e,t.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,d,_)),_=null},e.isStandardBrowserEnv()){var w=(d.withCredentials||a(T))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;w&&(g[d.xsrfHeaderName]=w)}"setRequestHeader"in _&&e.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:_.setRequestHeader(t,e)})),e.isUndefined(d.withCredentials)||(_.withCredentials=!!d.withCredentials),v&&"json"!==v&&(_.responseType=d.responseType),"function"==typeof d.onDownloadProgress&&_.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(f=function(e){_&&(p(!e||e&&e.type?new l:e),_.abort(),_=null)},d.cancelToken&&d.cancelToken.subscribe(f),d.signal&&(d.signal.aborted?f():d.signal.addEventListener("abort",f))),m||(m=null);var C=u(T);C&&-1===["http","https","file"].indexOf(C)?p(new c("Unsupported protocol "+C+":",c.ERR_BAD_REQUEST,d)):_.send(m)}))}}var jW=tW,VW=function(e,t){cW.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},BW=pW,zW=EW,FW={"Content-Type":"application/x-www-form-urlencoded"};function HW(e,t){!jW.isUndefined(e)&&jW.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var GW,WW={transitional:fW,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(GW=UW()),GW),transformRequest:[function(e,t){if(VW(t,"Accept"),VW(t,"Content-Type"),jW.isFormData(e)||jW.isArrayBuffer(e)||jW.isBuffer(e)||jW.isStream(e)||jW.isFile(e)||jW.isBlob(e))return e;if(jW.isArrayBufferView(e))return e.buffer;if(jW.isURLSearchParams(e))return HW(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=jW.isObject(e),o=t&&t["Content-Type"];if((n=jW.isFileList(e))||r&&"multipart/form-data"===o){var i=this.env&&this.env.FormData;return zW(n?{"files[]":e}:e,i&&new i)}return r||"application/json"===o?(HW(t,"application/json"),function(e,t){if(jW.isString(e))try{return(t||JSON.parse)(e),jW.trim(e)}catch(kk){if("SyntaxError"!==kk.name)throw kk}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||WW.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&jW.isString(e)&&e.length)try{return JSON.parse(e)}catch(kk){if(o){if("SyntaxError"===kk.name)throw BW.from(kk,BW.ERR_BAD_RESPONSE,this,null,this.response);throw kk}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:DW?kW:(DW=1,kW=null)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};jW.forEach(["delete","get","head"],(function(e){WW.headers[e]={}})),jW.forEach(["post","put","patch"],(function(e){WW.headers[e]=jW.merge(FW)}));var qW,KW,YW=WW,XW=tW,$W=YW;function JW(){return KW?qW:(KW=1,qW=function(e){return!(!e||!e.__CANCEL__)})}var ZW=tW,QW=function(e,t,n){var r=this||$W;return XW.forEach(n,(function(n){e=n.call(r,e,t)})),e},eq=JW(),tq=YW,nq=LW();function rq(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nq}var oq,iq,aq=tW,sq=function(e,t){t=t||{};var n={};function r(e,t){return aq.isPlainObject(e)&&aq.isPlainObject(t)?aq.merge(e,t):aq.isPlainObject(t)?aq.merge({},t):aq.isArray(t)?t.slice():t}function o(n){return aq.isUndefined(t[n])?aq.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function i(e){if(!aq.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return aq.isUndefined(t[n])?aq.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return aq.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);aq.isUndefined(r)&&t!==s||(n[e]=r)})),n};function cq(){return iq?oq:(iq=1,oq={version:"0.27.2"})}var lq=cq().version,uq=pW,dq={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){dq[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var hq={};dq.transitional=function(e,t,n){return function(r,o,i){if(!1===e)throw new uq(function(e,t){return"[Axios v"+lq+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}(o," has been removed"+(t?" in "+t:"")),uq.ERR_DEPRECATED);return t&&!hq[o]&&(hq[o]=!0),!e||e(r,o,i)}};var pq,fq,mq,gq,vq,yq,_q={assertOptions:function(e,t,n){if("object"!=typeof e)throw new uq("options must be an object",uq.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new uq("option "+i+" must be "+c,uq.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new uq("Unknown option "+i,uq.ERR_BAD_OPTION)}},validators:dq},Eq=tW,bq=oW,Tq=sW,Sq=function(e){return rq(e),e.headers=e.headers||{},e.data=QW.call(e,e.data,e.headers,e.transformRequest),e.headers=ZW.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ZW.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||tq.adapter)(e).then((function(t){return rq(e),t.data=QW.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return eq(t)||(rq(e),t&&t.response&&(t.response.data=QW.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},wq=sq,Cq=MW,Rq=_q,Iq=Rq.validators;function Aq(e){this.defaults=e,this.interceptors={request:new Tq,response:new Tq}}Aq.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=wq(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&Rq.assertOptions(n,{silentJSONParsing:Iq.transitional(Iq.boolean),forcedJSONParsing:Iq.transitional(Iq.boolean),clarifyTimeoutError:Iq.transitional(Iq.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!o){var s=[Sq,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(a),i=Promise.resolve(t);s.length;)i=i.then(s.shift(),s.shift());return i}for(var c=t;r.length;){var l=r.shift(),u=r.shift();try{c=l(c)}catch(d){u(d);break}}try{i=Sq(c)}catch(d){return Promise.reject(d)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},Aq.prototype.getUri=function(e){e=wq(this.defaults,e);var t=Cq(e.baseURL,e.url);return bq(t,e.params,e.paramsSerializer)},Eq.forEach(["delete","get","head","options"],(function(e){Aq.prototype[e]=function(t,n){return this.request(wq(n||{},{method:e,url:t,data:(n||{}).data}))}})),Eq.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(wq(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Aq.prototype[e]=t(),Aq.prototype[e+"Form"]=t(!0)}));var Oq=tW,Nq=UG,kq=Aq,Dq=sq;var xq=function e(t){var n=new kq(t),r=Nq(kq.prototype.request,n);return Oq.extend(r,kq.prototype,n),Oq.extend(r,n),r.create=function(n){return e(Dq(t,n))},r}(YW);xq.Axios=kq,xq.CanceledError=LW(),xq.CancelToken=function(){if(fq)return pq;fq=1;var e=LW();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(t){r.reason||(r.reason=new e(t),n(r.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},pq=t}(),xq.isCancel=JW(),xq.VERSION=cq().version,xq.toFormData=EW,xq.AxiosError=pW,xq.Cancel=xq.CanceledError,xq.all=function(e){return Promise.all(e)},xq.spread=gq?mq:(gq=1,mq=function(e){return function(t){return e.apply(null,t)}}),xq.isAxiosError=function(){if(yq)return vq;yq=1;var e=tW;return vq=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),LG.exports=xq,LG.exports.default=xq;const Pq=iO(LG.exports);
//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Mq,Lq;function Uq(){return Mq.apply(null,arguments)}function jq(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function Vq(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function Bq(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zq(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(Bq(e,t))return!1;return!0}function Fq(e){return void 0===e}function Hq(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function Gq(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function Wq(e,t){var n,r=[],o=e.length;for(n=0;n<o;++n)r.push(t(e[n],n));return r}function Kq(e,t){for(var n in t)Bq(t,n)&&(e[n]=t[n]);return Bq(t,"toString")&&(e.toString=t.toString),Bq(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Yq(e,t,n,r){return fX(e,t,n,r,!0).utc()}function Xq(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function $q(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());return r&&(t=Xq(e),n=Lq.call(t.parsedDateParts,(function(e){return null!=e})),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?r:(e._isValid=r,e._isValid)}function Jq(e){var t=Yq(NaN);return null!=e?Kq(Xq(t),e):Xq(t).userInvalidated=!0,t}Lq=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var Zq=Uq.momentProperties=[],Qq=!1;function eK(e,t){var n,r,o,i=Zq.length;if(Fq(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Fq(t._i)||(e._i=t._i),Fq(t._f)||(e._f=t._f),Fq(t._l)||(e._l=t._l),Fq(t._strict)||(e._strict=t._strict),Fq(t._tzm)||(e._tzm=t._tzm),Fq(t._isUTC)||(e._isUTC=t._isUTC),Fq(t._offset)||(e._offset=t._offset),Fq(t._pf)||(e._pf=Xq(t)),Fq(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)Fq(o=t[r=Zq[n]])||(e[r]=o);return e}function tK(e){eK(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Qq&&(Qq=!0,Uq.updateOffset(this),Qq=!1)}function nK(e){return e instanceof tK||null!=e&&null!=e._isAMomentObject}function rK(e){!1===Uq.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function oK(e,t){var n=!0;return Kq((function(){if(null!=Uq.deprecationHandler&&Uq.deprecationHandler(null,e),n){var r,o,i,a=[],s=arguments.length;for(o=0;o<s;o++){if(r="","object"==typeof arguments[o]){for(i in r+="\n["+o+"] ",arguments[0])Bq(arguments[0],i)&&(r+=i+": "+arguments[0][i]+", ");r=r.slice(0,-2)}else r=arguments[o];a.push(r)}rK((Array.prototype.slice.call(a).join(""),(new Error).stack)),n=!1}return t.apply(this,arguments)}),t)}var iK,aK={};function sK(e,t){null!=Uq.deprecationHandler&&Uq.deprecationHandler(e,t),aK[e]||(rK(),aK[e]=!0)}function cK(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function lK(e,t){var n,r=Kq({},e);for(n in t)Bq(t,n)&&(Vq(e[n])&&Vq(t[n])?(r[n]={},Kq(r[n],e[n]),Kq(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)Bq(e,n)&&!Bq(t,n)&&Vq(e[n])&&(r[n]=Kq({},r[n]));return r}function uK(e){null!=e&&this.set(e)}Uq.suppressDeprecationWarnings=!1,Uq.deprecationHandler=null,iK=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)Bq(e,t)&&n.push(t);return n};function dK(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var hK=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pK=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fK={},mK={};function gK(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(mK[e]=o),t&&(mK[t[0]]=function(){return dK(o.apply(this,arguments),t[1],t[2])}),n&&(mK[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function vK(e,t){return e.isValid()?(t=yK(t,e.localeData()),fK[t]=fK[t]||function(e){var t,n,r,o=e.match(hK);for(t=0,n=o.length;t<n;t++)mK[o[t]]?o[t]=mK[o[t]]:o[t]=(r=o[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=cK(o[r])?o[r].call(t,e):o[r];return i}}(t),fK[t](e)):e.localeData().invalidDate()}function yK(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(pK.lastIndex=0;n>=0&&pK.test(e);)e=e.replace(pK,r),pK.lastIndex=0,n-=1;return e}var _K={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function EK(e){return"string"==typeof e?_K[e]||_K[e.toLowerCase()]:void 0}function bK(e){var t,n,r={};for(n in e)Bq(e,n)&&(t=EK(n))&&(r[t]=e[n]);return r}var TK={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var SK,wK=/\d/,CK=/\d\d/,RK=/\d{3}/,IK=/\d{4}/,AK=/[+-]?\d{6}/,OK=/\d\d?/,NK=/\d\d\d\d?/,kK=/\d\d\d\d\d\d?/,DK=/\d{1,3}/,xK=/\d{1,4}/,PK=/[+-]?\d{1,6}/,MK=/\d+/,LK=/[+-]?\d+/,UK=/Z|[+-]\d\d:?\d\d/gi,jK=/Z|[+-]\d\d(?::?\d\d)?/gi,VK=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,BK=/^[1-9]\d?/,zK=/^([1-9]\d|\d)/;function FK(e,t,n){SK[e]=cK(t)?t:function(e,r){return e&&n?n:t}}function HK(e,t){return Bq(SK,e)?SK[e](t._strict,t._locale):new RegExp(GK(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o}))))}function GK(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function WK(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function qK(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=WK(t)),n}SK={};var KK={};function YK(e,t){var n,r,o=t;for("string"==typeof e&&(e=[e]),Hq(t)&&(o=function(e,n){n[t]=qK(e)}),r=e.length,n=0;n<r;n++)KK[e[n]]=o}function XK(e,t){YK(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function $K(e,t,n){null!=t&&Bq(KK,e)&&KK[e](t,n._a,n,e)}function JK(e){return e%4==0&&e%100!=0||e%400==0}var ZK=0,QK=1,eY=2,tY=3,nY=4,rY=5,oY=6,iY=7,aY=8;function sY(e){return JK(e)?366:365}gK("Y",0,0,(function(){var e=this.year();return e<=9999?dK(e,4):"+"+e})),gK(0,["YY",2],0,(function(){return this.year()%100})),gK(0,["YYYY",4],0,"year"),gK(0,["YYYYY",5],0,"year"),gK(0,["YYYYYY",6,!0],0,"year"),FK("Y",LK),FK("YY",OK,CK),FK("YYYY",xK,IK),FK("YYYYY",PK,AK),FK("YYYYYY",PK,AK),YK(["YYYYY","YYYYYY"],ZK),YK("YYYY",(function(e,t){t[ZK]=2===e.length?Uq.parseTwoDigitYear(e):qK(e)})),YK("YY",(function(e,t){t[ZK]=Uq.parseTwoDigitYear(e)})),YK("Y",(function(e,t){t[ZK]=parseInt(e,10)})),Uq.parseTwoDigitYear=function(e){return qK(e)+(qK(e)>68?1900:2e3)};var cY,lY=uY("FullYear",!0);function uY(e,t){return function(n){return null!=n?(hY(this,e,n),Uq.updateOffset(this,t),this):dY(this,e)}}function dY(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function hY(e,t,n){var r,o,i,a,s;if(e.isValid()&&!isNaN(n)){switch(r=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(o?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(o?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(o?r.setUTCHours(n):r.setHours(n));case"Date":return void(o?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,a=e.month(),s=29!==(s=e.date())||1!==a||JK(i)?s:28,o?r.setUTCFullYear(i,a,s):r.setFullYear(i,a,s)}}function pY(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?JK(e)?29:28:31-n%7%2}cY=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},gK("M",["MM",2],"Mo",(function(){return this.month()+1})),gK("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),gK("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),FK("M",OK,BK),FK("MM",OK,CK),FK("MMM",(function(e,t){return t.monthsShortRegex(e)})),FK("MMMM",(function(e,t){return t.monthsRegex(e)})),YK(["M","MM"],(function(e,t){t[QK]=qK(e)-1})),YK(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[QK]=o:Xq(n).invalidMonth=e}));var fY="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mY="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gY=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,vY=VK,yY=VK;function _Y(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Yq([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=cY.call(this._shortMonthsParse,a))?o:null:-1!==(o=cY.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=cY.call(this._shortMonthsParse,a))||-1!==(o=cY.call(this._longMonthsParse,a))?o:null:-1!==(o=cY.call(this._longMonthsParse,a))||-1!==(o=cY.call(this._shortMonthsParse,a))?o:null}function EY(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=qK(t);else if(!Hq(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,pY(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function bY(e){return null!=e?(EY(this,e),Uq.updateOffset(this,!0),this):dY(this,"Month")}function TY(){function e(e,t){return t.length-e.length}var t,n,r,o,i=[],a=[],s=[];for(t=0;t<12;t++)n=Yq([2e3,t]),r=GK(this.monthsShort(n,"")),o=GK(this.months(n,"")),i.push(r),a.push(o),s.push(o),s.push(r);i.sort(e),a.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function SY(e,t,n,r,o,i,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,o,i,a),s}function wY(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function CY(e,t,n){var r=7+t-n;return-((7+wY(e,0,r).getUTCDay()-t)%7)+r-1}function RY(e,t,n,r,o){var i,a,s=1+7*(t-1)+(7+n-r)%7+CY(e,r,o);return s<=0?a=sY(i=e-1)+s:s>sY(e)?(i=e+1,a=s-sY(e)):(i=e,a=s),{year:i,dayOfYear:a}}function IY(e,t,n){var r,o,i=CY(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?r=a+AY(o=e.year()-1,t,n):a>AY(e.year(),t,n)?(r=a-AY(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function AY(e,t,n){var r=CY(e,t,n),o=CY(e+1,t,n);return(sY(e)-r+o)/7}gK("w",["ww",2],"wo","week"),gK("W",["WW",2],"Wo","isoWeek"),FK("w",OK,BK),FK("ww",OK,CK),FK("W",OK,BK),FK("WW",OK,CK),XK(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=qK(e)}));function OY(e,t){return e.slice(t,7).concat(e.slice(0,t))}gK("d",0,"do","day"),gK("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),gK("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),gK("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),gK("e",0,0,"weekday"),gK("E",0,0,"isoWeekday"),FK("d",OK),FK("e",OK),FK("E",OK),FK("dd",(function(e,t){return t.weekdaysMinRegex(e)})),FK("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),FK("dddd",(function(e,t){return t.weekdaysRegex(e)})),XK(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:Xq(n).invalidWeekday=e})),XK(["d","e","E"],(function(e,t,n,r){t[r]=qK(e)}));var NY="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),kY="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),DY="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xY=VK,PY=VK,MY=VK;function LY(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Yq([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=cY.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=cY.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=cY.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=cY.call(this._weekdaysParse,a))||-1!==(o=cY.call(this._shortWeekdaysParse,a))||-1!==(o=cY.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=cY.call(this._shortWeekdaysParse,a))||-1!==(o=cY.call(this._weekdaysParse,a))||-1!==(o=cY.call(this._minWeekdaysParse,a))?o:null:-1!==(o=cY.call(this._minWeekdaysParse,a))||-1!==(o=cY.call(this._weekdaysParse,a))||-1!==(o=cY.call(this._shortWeekdaysParse,a))?o:null}function UY(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],s=[],c=[],l=[];for(t=0;t<7;t++)n=Yq([2e3,1]).day(t),r=GK(this.weekdaysMin(n,"")),o=GK(this.weekdaysShort(n,"")),i=GK(this.weekdays(n,"")),a.push(r),s.push(o),c.push(i),l.push(r),l.push(o),l.push(i);a.sort(e),s.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function jY(){return this.hours()%12||12}function VY(e,t){gK(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function BY(e,t){return t._meridiemParse}gK("H",["HH",2],0,"hour"),gK("h",["hh",2],0,jY),gK("k",["kk",2],0,(function(){return this.hours()||24})),gK("hmm",0,0,(function(){return""+jY.apply(this)+dK(this.minutes(),2)})),gK("hmmss",0,0,(function(){return""+jY.apply(this)+dK(this.minutes(),2)+dK(this.seconds(),2)})),gK("Hmm",0,0,(function(){return""+this.hours()+dK(this.minutes(),2)})),gK("Hmmss",0,0,(function(){return""+this.hours()+dK(this.minutes(),2)+dK(this.seconds(),2)})),VY("a",!0),VY("A",!1),FK("a",BY),FK("A",BY),FK("H",OK,zK),FK("h",OK,BK),FK("k",OK,BK),FK("HH",OK,CK),FK("hh",OK,CK),FK("kk",OK,CK),FK("hmm",NK),FK("hmmss",kK),FK("Hmm",NK),FK("Hmmss",kK),YK(["H","HH"],tY),YK(["k","kk"],(function(e,t,n){var r=qK(e);t[tY]=24===r?0:r})),YK(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),YK(["h","hh"],(function(e,t,n){t[tY]=qK(e),Xq(n).bigHour=!0})),YK("hmm",(function(e,t,n){var r=e.length-2;t[tY]=qK(e.substr(0,r)),t[nY]=qK(e.substr(r)),Xq(n).bigHour=!0})),YK("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[tY]=qK(e.substr(0,r)),t[nY]=qK(e.substr(r,2)),t[rY]=qK(e.substr(o)),Xq(n).bigHour=!0})),YK("Hmm",(function(e,t,n){var r=e.length-2;t[tY]=qK(e.substr(0,r)),t[nY]=qK(e.substr(r))})),YK("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[tY]=qK(e.substr(0,r)),t[nY]=qK(e.substr(r,2)),t[rY]=qK(e.substr(o))}));var zY=uY("Hours",!0);var FY,HY={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:fY,monthsShort:mY,week:{dow:0,doy:6},weekdays:NY,weekdaysMin:DY,weekdaysShort:kY,meridiemParse:/[ap]\.?m?\.?/i},GY={},WY={};function qY(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function KY(e){return e?e.toLowerCase().replace("_","-"):e}function YY(e){var t=null;if(void 0===GY[e]&&"undefined"!=typeof module&&module&&module.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{t=FY._abbr,require("./locale/"+e),XY(t)}catch(kk){GY[e]=null}return GY[e]}function XY(e,t){var n;return e&&((n=Fq(t)?JY(e):$Y(e,t))?FY=n:"undefined"!=typeof console&&console.warn),FY._abbr}function $Y(e,t){if(null!==t){var n,r=HY;if(t.abbr=e,null!=GY[e])sK("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=GY[e]._config;else if(null!=t.parentLocale)if(null!=GY[t.parentLocale])r=GY[t.parentLocale]._config;else{if(null==(n=YY(t.parentLocale)))return WY[t.parentLocale]||(WY[t.parentLocale]=[]),WY[t.parentLocale].push({name:e,config:t}),null;r=n._config}return GY[e]=new uK(lK(r,t)),WY[e]&&WY[e].forEach((function(e){$Y(e.name,e.config)})),XY(e),GY[e]}return delete GY[e],null}function JY(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return FY;if(!jq(e)){if(t=YY(e))return t;e=[e]}return function(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=KY(e[i]).split("-")).length,n=(n=KY(e[i+1]))?n.split("-"):null;t>0;){if(r=YY(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&qY(o,n)>=t-1)break;t--}i++}return FY}(e)}function ZY(e){var t,n=e._a;return n&&-2===Xq(e).overflow&&(t=n[QK]<0||n[QK]>11?QK:n[eY]<1||n[eY]>pY(n[ZK],n[QK])?eY:n[tY]<0||n[tY]>24||24===n[tY]&&(0!==n[nY]||0!==n[rY]||0!==n[oY])?tY:n[nY]<0||n[nY]>59?nY:n[rY]<0||n[rY]>59?rY:n[oY]<0||n[oY]>999?oY:-1,Xq(e)._overflowDayOfYear&&(t<ZK||t>eY)&&(t=eY),Xq(e)._overflowWeeks&&-1===t&&(t=iY),Xq(e)._overflowWeekday&&-1===t&&(t=aY),Xq(e).overflow=t),e}var QY=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eX=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tX=/Z|[+-]\d\d(?::?\d\d)?/,nX=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],rX=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],oX=/^\/?Date\((-?\d+)/i,iX=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,aX={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function sX(e){var t,n,r,o,i,a,s=e._i,c=QY.exec(s)||eX.exec(s),l=nX.length,u=rX.length;if(c){for(Xq(e).iso=!0,t=0,n=l;t<n;t++)if(nX[t][1].exec(c[1])){o=nX[t][0],r=!1!==nX[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,n=u;t<n;t++)if(rX[t][1].exec(c[3])){i=(c[2]||" ")+rX[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(c[4]){if(!tX.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),hX(e)}else e._isValid=!1}function cX(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function lX(e){var t,n,r,o,i,a,s,c,l=iX.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){if(n=l[4],r=l[3],o=l[2],i=l[5],a=l[6],s=l[7],c=[cX(n),mY.indexOf(r),parseInt(o,10),parseInt(i,10),parseInt(a,10)],s&&c.push(parseInt(s,10)),t=c,!function(e,t,n){return!e||kY.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(Xq(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return aX[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(l[8],l[9],l[10]),e._d=wY.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Xq(e).rfc2822=!0}else e._isValid=!1}function uX(e,t,n){return null!=e?e:null!=t?t:n}function dX(e){var t,n,r,o,i,a=[];if(!e._d){for(r=function(e){var t=new Date(Uq.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[eY]&&null==e._a[QK]&&function(e){var t,n,r,o,i,a,s,c,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,a=4,n=uX(t.GG,e._a[ZK],IY(mX(),1,4).year),r=uX(t.W,1),((o=uX(t.E,1))<1||o>7)&&(c=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,l=IY(mX(),i,a),n=uX(t.gg,e._a[ZK],l.year),r=uX(t.w,l.week),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i);r<1||r>AY(n,i,a)?Xq(e)._overflowWeeks=!0:null!=c?Xq(e)._overflowWeekday=!0:(s=RY(n,r,o,i,a),e._a[ZK]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(i=uX(e._a[ZK],r[ZK]),(e._dayOfYear>sY(i)||0===e._dayOfYear)&&(Xq(e)._overflowDayOfYear=!0),n=wY(i,0,e._dayOfYear),e._a[QK]=n.getUTCMonth(),e._a[eY]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[tY]&&0===e._a[nY]&&0===e._a[rY]&&0===e._a[oY]&&(e._nextDay=!0,e._a[tY]=0),e._d=(e._useUTC?wY:SY).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[tY]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(Xq(e).weekdayMismatch=!0)}}function hX(e){if(e._f!==Uq.ISO_8601)if(e._f!==Uq.RFC_2822){e._a=[],Xq(e).empty=!0;var t,n,r,o,i,a,s,c=""+e._i,l=c.length,u=0;for(s=(r=yK(e._f,e._locale).match(hK)||[]).length,t=0;t<s;t++)o=r[t],(n=(c.match(HK(o,e))||[])[0])&&((i=c.substr(0,c.indexOf(n))).length>0&&Xq(e).unusedInput.push(i),c=c.slice(c.indexOf(n)+n.length),u+=n.length),mK[o]?(n?Xq(e).empty=!1:Xq(e).unusedTokens.push(o),$K(o,n,e)):e._strict&&!n&&Xq(e).unusedTokens.push(o);Xq(e).charsLeftOver=l-u,c.length>0&&Xq(e).unusedInput.push(c),e._a[tY]<=12&&!0===Xq(e).bigHour&&e._a[tY]>0&&(Xq(e).bigHour=void 0),Xq(e).parsedDateParts=e._a.slice(0),Xq(e).meridiem=e._meridiem,e._a[tY]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[tY],e._meridiem),null!==(a=Xq(e).era)&&(e._a[ZK]=e._locale.erasConvertYear(a,e._a[ZK])),dX(e),ZY(e)}else lX(e);else sX(e)}function pX(e){var t=e._i,n=e._f;return e._locale=e._locale||JY(e._l),null===t||void 0===n&&""===t?Jq({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),nK(t)?new tK(ZY(t)):(Gq(t)?e._d=t:jq(n)?function(e){var t,n,r,o,i,a,s=!1,c=e._f.length;if(0===c)return Xq(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<c;o++)i=0,a=!1,t=eK({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],hX(t),$q(t)&&(a=!0),i+=Xq(t).charsLeftOver,i+=10*Xq(t).unusedTokens.length,Xq(t).score=i,s?i<r&&(r=i,n=t):(null==r||i<r||a)&&(r=i,n=t,a&&(s=!0));Kq(e,n||t)}(e):n?hX(e):function(e){var t=e._i;Fq(t)?e._d=new Date(Uq.now()):Gq(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=oX.exec(e._i);null===t?(sX(e),!1===e._isValid&&(delete e._isValid,lX(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:Uq.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):jq(t)?(e._a=Wq(t.slice(0),(function(e){return parseInt(e,10)})),dX(e)):Vq(t)?function(e){if(!e._d){var t=bK(e._i),n=void 0===t.day?t.date:t.day;e._a=Wq([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),dX(e)}}(e):Hq(t)?e._d=new Date(t):Uq.createFromInputFallback(e)}(e),$q(e)||(e._d=null),e))}function fX(e,t,n,r,o){var i,a={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(Vq(e)&&zq(e)||jq(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=e,a._f=t,a._strict=r,(i=new tK(ZY(pX(a))))._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function mX(e,t,n,r){return fX(e,t,n,r,!1)}Uq.createFromInputFallback=oK("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),Uq.ISO_8601=function(){},Uq.RFC_2822=function(){};var gX=oK("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=mX.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Jq()})),vX=oK("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=mX.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Jq()}));function yX(e,t){var n,r;if(1===t.length&&jq(t[0])&&(t=t[0]),!t.length)return mX();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var _X=["year","quarter","month","week","day","hour","minute","second","millisecond"];function EX(e){var t=bK(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=function(e){var t,n,r=!1,o=_X.length;for(t in e)if(Bq(e,t)&&(-1===cY.call(_X,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<o;++n)if(e[_X[n]]){if(r)return!1;parseFloat(e[_X[n]])!==qK(e[_X[n]])&&(r=!0)}return!0}(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=JY(),this._bubble()}function bX(e){return e instanceof EX}function TX(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function SX(e,t){gK(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+dK(~~(e/60),2)+t+dK(~~e%60,2)}))}SX("Z",":"),SX("ZZ",""),FK("Z",jK),FK("ZZ",jK),YK(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=CX(jK,e)}));var wX=/([\+\-]|\d\d)/gi;function CX(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(wX)||["-",0,0])[1]+qK(n[2]))?0:"+"===n[0]?r:-r}function RX(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(nK(e)||Gq(e)?e.valueOf():mX(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Uq.updateOffset(n,!1),n):mX(e).local()}function IX(e){return-Math.round(e._d.getTimezoneOffset())}function AX(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}Uq.updateOffset=function(){};var OX=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,NX=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function kX(e,t){var n,r,o,i=e,a=null;return bX(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:Hq(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=OX.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:qK(a[eY])*n,h:qK(a[tY])*n,m:qK(a[nY])*n,s:qK(a[rY])*n,ms:qK(TX(1e3*a[oY]))*n}):(a=NX.exec(e))?(n="-"===a[1]?-1:1,i={y:DX(a[2],n),M:DX(a[3],n),w:DX(a[4],n),d:DX(a[5],n),h:DX(a[6],n),m:DX(a[7],n),s:DX(a[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=RX(t,e),e.isBefore(t)?n=xX(e,t):((n=xX(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(mX(i.from),mX(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new EX(i),bX(e)&&Bq(e,"_locale")&&(r._locale=e._locale),bX(e)&&Bq(e,"_isValid")&&(r._isValid=e._isValid),r}function DX(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function xX(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function PX(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(sK(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),MX(this,kX(n,r),e),this}}function MX(e,t,n,r){var o=t._milliseconds,i=TX(t._days),a=TX(t._months);e.isValid()&&(r=null==r||r,a&&EY(e,dY(e,"Month")+a*n),i&&hY(e,"Date",dY(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Uq.updateOffset(e,i||a))}kX.fn=EX.prototype,kX.invalid=function(){return kX(NaN)};var LX=PX(1,"add"),UX=PX(-1,"subtract");function jX(e){return"string"==typeof e||e instanceof String}function VX(e){return nK(e)||Gq(e)||jX(e)||Hq(e)||function(e){var t=jq(e),n=!1;t&&(n=0===e.filter((function(t){return!Hq(t)&&jX(e)})).length);return t&&n}(e)||function(e){var t,n,r=Vq(e)&&!zq(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=i.length;for(t=0;t<a;t+=1)n=i[t],o=o||Bq(e,n);return r&&o}(e)||null==e}function BX(e,t){if(e.date()<t.date())return-BX(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function zX(e){var t;return void 0===e?this._locale._abbr:(null!=(t=JY(e))&&(this._locale=t),this)}Uq.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Uq.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var FX=oK("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function HX(){return this._locale}var GX=1e3,WX=6e4,qX=36e5,KX=126227808e5;function YX(e,t){return(e%t+t)%t}function XX(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-KX:new Date(e,t,n).valueOf()}function $X(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-KX:Date.UTC(e,t,n)}function JX(e,t){return t.erasAbbrRegex(e)}function ZX(){var e,t,n,r,o,i=[],a=[],s=[],c=[],l=this.eras();for(e=0,t=l.length;e<t;++e)n=GK(l[e].name),r=GK(l[e].abbr),o=GK(l[e].narrow),a.push(n),i.push(r),s.push(o),c.push(n),c.push(r),c.push(o);this._erasRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function QX(e,t){gK(0,[e,e.length],0,t)}function e$(e,t,n,r,o){var i;return null==e?IY(this,r,o).year:(t>(i=AY(e,r,o))&&(t=i),t$.call(this,e,t,n,r,o))}function t$(e,t,n,r,o){var i=RY(e,t,n,r,o),a=wY(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}gK("N",0,0,"eraAbbr"),gK("NN",0,0,"eraAbbr"),gK("NNN",0,0,"eraAbbr"),gK("NNNN",0,0,"eraName"),gK("NNNNN",0,0,"eraNarrow"),gK("y",["y",1],"yo","eraYear"),gK("y",["yy",2],0,"eraYear"),gK("y",["yyy",3],0,"eraYear"),gK("y",["yyyy",4],0,"eraYear"),FK("N",JX),FK("NN",JX),FK("NNN",JX),FK("NNNN",(function(e,t){return t.erasNameRegex(e)})),FK("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),YK(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?Xq(n).era=o:Xq(n).invalidEra=e})),FK("y",MK),FK("yy",MK),FK("yyy",MK),FK("yyyy",MK),FK("yo",(function(e,t){return t._eraYearOrdinalRegex||MK})),YK(["y","yy","yyy","yyyy"],ZK),YK(["yo"],(function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ZK]=n._locale.eraYearOrdinalParse(e,o):t[ZK]=parseInt(e,10)})),gK(0,["gg",2],0,(function(){return this.weekYear()%100})),gK(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),QX("gggg","weekYear"),QX("ggggg","weekYear"),QX("GGGG","isoWeekYear"),QX("GGGGG","isoWeekYear"),FK("G",LK),FK("g",LK),FK("GG",OK,CK),FK("gg",OK,CK),FK("GGGG",xK,IK),FK("gggg",xK,IK),FK("GGGGG",PK,AK),FK("ggggg",PK,AK),XK(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=qK(e)})),XK(["gg","GG"],(function(e,t,n,r){t[r]=Uq.parseTwoDigitYear(e)})),gK("Q",0,"Qo","quarter"),FK("Q",wK),YK("Q",(function(e,t){t[QK]=3*(qK(e)-1)})),gK("D",["DD",2],"Do","date"),FK("D",OK,BK),FK("DD",OK,CK),FK("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),YK(["D","DD"],eY),YK("Do",(function(e,t){t[eY]=qK(e.match(OK)[0])}));var n$=uY("Date",!0);gK("DDD",["DDDD",3],"DDDo","dayOfYear"),FK("DDD",DK),FK("DDDD",RK),YK(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=qK(e)})),gK("m",["mm",2],0,"minute"),FK("m",OK,zK),FK("mm",OK,CK),YK(["m","mm"],nY);var r$=uY("Minutes",!1);gK("s",["ss",2],0,"second"),FK("s",OK,zK),FK("ss",OK,CK),YK(["s","ss"],rY);var o$,i$,a$=uY("Seconds",!1);for(gK("S",0,0,(function(){return~~(this.millisecond()/100)})),gK(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),gK(0,["SSS",3],0,"millisecond"),gK(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),gK(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),gK(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),gK(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),gK(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),gK(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),FK("S",DK,wK),FK("SS",DK,CK),FK("SSS",DK,RK),o$="SSSS";o$.length<=9;o$+="S")FK(o$,MK);function s$(e,t){t[oY]=qK(1e3*("0."+e))}for(o$="S";o$.length<=9;o$+="S")YK(o$,s$);i$=uY("Milliseconds",!1),gK("z",0,0,"zoneAbbr"),gK("zz",0,0,"zoneName");var c$=tK.prototype;function l$(e){return e}c$.add=LX,c$.calendar=function(e,t){1===arguments.length&&(arguments[0]?VX(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,n=Vq(e)&&!zq(e),r=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)r=r||Bq(e,o[t]);return n&&r}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||mX(),r=RX(n,this).startOf("day"),o=Uq.calendarFormat(this,r)||"sameElse",i=t&&(cK(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,mX(n)))},c$.clone=function(){return new tK(this)},c$.diff=function(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=RX(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=EK(t)){case"year":i=BX(this,r)/12;break;case"month":i=BX(this,r);break;case"quarter":i=BX(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:WK(i)},c$.endOf=function(e){var t,n;if(void 0===(e=EK(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?$X:XX,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=qX-YX(t+(this._isUTC?0:this.utcOffset()*WX),qX)-1;break;case"minute":t=this._d.valueOf(),t+=WX-YX(t,WX)-1;break;case"second":t=this._d.valueOf(),t+=GX-YX(t,GX)-1}return this._d.setTime(t),Uq.updateOffset(this,!0),this},c$.format=function(e){e||(e=this.isUtc()?Uq.defaultFormatUtc:Uq.defaultFormat);var t=vK(this,e);return this.localeData().postformat(t)},c$.from=function(e,t){return this.isValid()&&(nK(e)&&e.isValid()||mX(e).isValid())?kX({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},c$.fromNow=function(e){return this.from(mX(),e)},c$.to=function(e,t){return this.isValid()&&(nK(e)&&e.isValid()||mX(e).isValid())?kX({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},c$.toNow=function(e){return this.to(mX(),e)},c$.get=function(e){return cK(this[e=EK(e)])?this[e]():this},c$.invalidAt=function(){return Xq(this).overflow},c$.isAfter=function(e,t){var n=nK(e)?e:mX(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=EK(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},c$.isBefore=function(e,t){var n=nK(e)?e:mX(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=EK(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},c$.isBetween=function(e,t,n,r){var o=nK(e)?e:mX(e),i=nK(t)?t:mX(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n)))},c$.isSame=function(e,t){var n,r=nK(e)?e:mX(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=EK(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},c$.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},c$.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},c$.isValid=function(){return $q(this)},c$.lang=FX,c$.locale=zX,c$.localeData=HX,c$.max=vX,c$.min=gX,c$.parsingFlags=function(){return Kq({},Xq(this))},c$.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)Bq(e,t)&&n.push({unit:t,priority:TK[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=bK(e)),o=r.length;for(n=0;n<o;n++)this[r[n].unit](e[r[n].unit])}else if(cK(this[e=EK(e)]))return this[e](t);return this},c$.startOf=function(e){var t,n;if(void 0===(e=EK(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?$X:XX,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=YX(t+(this._isUTC?0:this.utcOffset()*WX),qX);break;case"minute":t=this._d.valueOf(),t-=YX(t,WX);break;case"second":t=this._d.valueOf(),t-=YX(t,GX)}return this._d.setTime(t),Uq.updateOffset(this,!0),this},c$.subtract=UX,c$.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},c$.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},c$.toDate=function(){return new Date(this.valueOf())},c$.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?vK(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):cK(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",vK(n,"Z")):vK(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},c$.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",o="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(c$[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),c$.toJSON=function(){return this.isValid()?this.toISOString():null},c$.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},c$.unix=function(){return Math.floor(this.valueOf()/1e3)},c$.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},c$.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},c$.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},c$.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},c$.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},c$.eraYear=function(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Uq(o[e].since).year())*n+o[e].offset;return this.year()},c$.year=lY,c$.isLeapYear=function(){return JK(this.year())},c$.weekYear=function(e){return e$.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},c$.isoWeekYear=function(e){return e$.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},c$.quarter=c$.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},c$.month=bY,c$.daysInMonth=function(){return pY(this.year(),this.month())},c$.week=c$.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},c$.isoWeek=c$.isoWeeks=function(e){var t=IY(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},c$.weeksInYear=function(){var e=this.localeData()._week;return AY(this.year(),e.dow,e.doy)},c$.weeksInWeekYear=function(){var e=this.localeData()._week;return AY(this.weekYear(),e.dow,e.doy)},c$.isoWeeksInYear=function(){return AY(this.year(),1,4)},c$.isoWeeksInISOWeekYear=function(){return AY(this.isoWeekYear(),1,4)},c$.date=n$,c$.day=c$.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=dY(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},c$.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},c$.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},c$.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},c$.hour=c$.hours=zY,c$.minute=c$.minutes=r$,c$.second=c$.seconds=a$,c$.millisecond=c$.milliseconds=i$,c$.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=CX(jK,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=IX(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?MX(this,kX(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Uq.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:IX(this)},c$.utc=function(e){return this.utcOffset(0,e)},c$.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(IX(this),"m")),this},c$.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=CX(UK,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},c$.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?mX(e).utcOffset():0,(this.utcOffset()-e)%60==0)},c$.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},c$.isLocal=function(){return!!this.isValid()&&!this._isUTC},c$.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},c$.isUtc=AX,c$.isUTC=AX,c$.zoneAbbr=function(){return this._isUTC?"UTC":""},c$.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},c$.dates=oK("dates accessor is deprecated. Use date instead.",n$),c$.months=oK("months accessor is deprecated. Use month instead",bY),c$.years=oK("years accessor is deprecated. Use year instead",lY),c$.zone=oK("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),c$.isDSTShifted=oK("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!Fq(this._isDSTShifted))return this._isDSTShifted;var e,t={};return eK(t,this),(t=pX(t))._a?(e=t._isUTC?Yq(t._a):mX(t._a),this._isDSTShifted=this.isValid()&&function(e,t){var n,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0;for(n=0;n<r;n++)qK(e[n])!==qK(t[n])&&i++;return i+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var u$=uK.prototype;function d$(e,t,n,r){var o=JY(),i=Yq().set(r,t);return o[n](i,e)}function h$(e,t,n){if(Hq(e)&&(t=e,e=void 0),e=e||"",null!=t)return d$(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=d$(e,r,n,"month");return o}function p$(e,t,n,r){"boolean"==typeof e?(Hq(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,Hq(t)&&(n=t,t=void 0),t=t||"");var o,i=JY(),a=e?i._week.dow:0,s=[];if(null!=n)return d$(t,(n+a)%7,r,"day");for(o=0;o<7;o++)s[o]=d$(t,(o+a)%7,r,"day");return s}u$.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return cK(r)?r.call(t,n):r},u$.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(hK).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},u$.invalidDate=function(){return this._invalidDate},u$.ordinal=function(e){return this._ordinal.replace("%d",e)},u$.preparse=l$,u$.postformat=l$,u$.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return cK(o)?o(e,t,n,r):o.replace(/%d/i,e)},u$.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return cK(n)?n(t):n.replace(/%s/i,t)},u$.set=function(e){var t,n;for(n in e)Bq(e,n)&&(cK(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},u$.eras=function(e,t){var n,r,o,i=this._eras||JY("en")._eras;for(n=0,r=i.length;n<r;++n){if("string"==typeof i[n].since)o=Uq(i[n].since).startOf("day"),i[n].since=o.valueOf();switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Uq(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf()}}return i},u$.erasParse=function(e,t,n){var r,o,i,a,s,c=this.eras();for(e=e.toUpperCase(),r=0,o=c.length;r<o;++r)if(i=c[r].name.toUpperCase(),a=c[r].abbr.toUpperCase(),s=c[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return c[r];break;case"NNNN":if(i===e)return c[r];break;case"NNNNN":if(s===e)return c[r]}else if([i,a,s].indexOf(e)>=0)return c[r]},u$.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?Uq(e.since).year():Uq(e.since).year()+(t-e.offset)*n},u$.erasAbbrRegex=function(e){return Bq(this,"_erasAbbrRegex")||ZX.call(this),e?this._erasAbbrRegex:this._erasRegex},u$.erasNameRegex=function(e){return Bq(this,"_erasNameRegex")||ZX.call(this),e?this._erasNameRegex:this._erasRegex},u$.erasNarrowRegex=function(e){return Bq(this,"_erasNarrowRegex")||ZX.call(this),e?this._erasNarrowRegex:this._erasRegex},u$.months=function(e,t){return e?jq(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||gY).test(t)?"format":"standalone"][e.month()]:jq(this._months)?this._months:this._months.standalone},u$.monthsShort=function(e,t){return e?jq(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[gY.test(t)?"format":"standalone"][e.month()]:jq(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},u$.monthsParse=function(e,t,n){var r,o,i;if(this._monthsParseExact)return _Y.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Yq([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},u$.monthsRegex=function(e){return this._monthsParseExact?(Bq(this,"_monthsRegex")||TY.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Bq(this,"_monthsRegex")||(this._monthsRegex=yY),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},u$.monthsShortRegex=function(e){return this._monthsParseExact?(Bq(this,"_monthsRegex")||TY.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Bq(this,"_monthsShortRegex")||(this._monthsShortRegex=vY),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},u$.week=function(e){return IY(e,this._week.dow,this._week.doy).week},u$.firstDayOfYear=function(){return this._week.doy},u$.firstDayOfWeek=function(){return this._week.dow},u$.weekdays=function(e,t){var n=jq(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?OY(n,this._week.dow):e?n[e.day()]:n},u$.weekdaysMin=function(e){return!0===e?OY(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},u$.weekdaysShort=function(e){return!0===e?OY(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},u$.weekdaysParse=function(e,t,n){var r,o,i;if(this._weekdaysParseExact)return LY.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Yq([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},u$.weekdaysRegex=function(e){return this._weekdaysParseExact?(Bq(this,"_weekdaysRegex")||UY.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Bq(this,"_weekdaysRegex")||(this._weekdaysRegex=xY),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},u$.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(Bq(this,"_weekdaysRegex")||UY.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Bq(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=PY),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},u$.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(Bq(this,"_weekdaysRegex")||UY.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Bq(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=MY),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},u$.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},u$.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},XY("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===qK(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),Uq.lang=oK("moment.lang is deprecated. Use moment.locale instead.",XY),Uq.langData=oK("moment.langData is deprecated. Use moment.localeData instead.",JY);var f$=Math.abs;function m$(e,t,n,r){var o=kX(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function g$(e){return e<0?Math.floor(e):Math.ceil(e)}function v$(e){return 4800*e/146097}function y$(e){return 146097*e/4800}function _$(e){return function(){return this.as(e)}}var E$=_$("ms"),b$=_$("s"),T$=_$("m"),S$=_$("h"),w$=_$("d"),C$=_$("w"),R$=_$("M"),I$=_$("Q"),A$=_$("y"),O$=E$;function N$(e){return function(){return this.isValid()?this._data[e]:NaN}}var k$=N$("milliseconds"),D$=N$("seconds"),x$=N$("minutes"),P$=N$("hours"),M$=N$("days"),L$=N$("months"),U$=N$("years");var j$=Math.round,V$={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function B$(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}var z$=Math.abs;function F$(e){return(e>0)-(e<0)||+e}function H$(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,o,i,a,s,c=z$(this._milliseconds)/1e3,l=z$(this._days),u=z$(this._months),d=this.asSeconds();return d?(e=WK(c/60),t=WK(e/60),c%=60,e%=60,n=WK(u/12),u%=12,r=c?c.toFixed(3).replace(/\.?0+$/,""):"",o=d<0?"-":"",i=F$(this._months)!==F$(d)?"-":"",a=F$(this._days)!==F$(d)?"-":"",s=F$(this._milliseconds)!==F$(d)?"-":"",o+"P"+(n?i+n+"Y":"")+(u?i+u+"M":"")+(l?a+l+"D":"")+(t||e||c?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(c?s+r+"S":"")):"P0D"}var G$=EX.prototype;G$.isValid=function(){return this._isValid},G$.abs=function(){var e=this._data;return this._milliseconds=f$(this._milliseconds),this._days=f$(this._days),this._months=f$(this._months),e.milliseconds=f$(e.milliseconds),e.seconds=f$(e.seconds),e.minutes=f$(e.minutes),e.hours=f$(e.hours),e.months=f$(e.months),e.years=f$(e.years),this},G$.add=function(e,t){return m$(this,e,t,1)},G$.subtract=function(e,t){return m$(this,e,t,-1)},G$.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=EK(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+v$(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(y$(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},G$.asMilliseconds=E$,G$.asSeconds=b$,G$.asMinutes=T$,G$.asHours=S$,G$.asDays=w$,G$.asWeeks=C$,G$.asMonths=R$,G$.asQuarters=I$,G$.asYears=A$,G$.valueOf=O$,G$._bubble=function(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,c=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*g$(y$(s)+a),a=0,s=0),c.milliseconds=i%1e3,e=WK(i/1e3),c.seconds=e%60,t=WK(e/60),c.minutes=t%60,n=WK(t/60),c.hours=n%24,a+=WK(n/24),s+=o=WK(v$(a)),a-=g$(y$(o)),r=WK(s/12),s%=12,c.days=a,c.months=s,c.years=r,this},G$.clone=function(){return kX(this)},G$.get=function(e){return e=EK(e),this.isValid()?this[e+"s"]():NaN},G$.milliseconds=k$,G$.seconds=D$,G$.minutes=x$,G$.hours=P$,G$.days=M$,G$.weeks=function(){return WK(this.days()/7)},G$.months=L$,G$.years=U$,G$.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=V$;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},V$,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),r=function(e,t,n,r){var o=kX(e).abs(),i=j$(o.as("s")),a=j$(o.as("m")),s=j$(o.as("h")),c=j$(o.as("d")),l=j$(o.as("M")),u=j$(o.as("w")),d=j$(o.as("y")),h=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||c<=1&&["d"]||c<n.d&&["dd",c];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,B$.apply(null,h)}(this,!o,i,n=this.localeData()),o&&(r=n.pastFuture(+this,r)),n.postformat(r)},G$.toISOString=H$,G$.toString=H$,G$.toJSON=H$,G$.locale=zX,G$.localeData=HX,G$.toIsoString=oK("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",H$),G$.lang=FX,gK("X",0,0,"unix"),gK("x",0,0,"valueOf"),FK("x",LK),FK("X",/[+-]?\d+(\.\d{1,3})?/),YK("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),YK("x",(function(e,t,n){n._d=new Date(qK(e))})),
//! moment.js
Uq.version="2.30.1",Mq=mX,Uq.fn=c$,Uq.min=function(){return yX("isBefore",[].slice.call(arguments,0))},Uq.max=function(){return yX("isAfter",[].slice.call(arguments,0))},Uq.now=function(){return Date.now?Date.now():+new Date},Uq.utc=Yq,Uq.unix=function(e){return mX(1e3*e)},Uq.months=function(e,t){return h$(e,t,"months")},Uq.isDate=Gq,Uq.locale=XY,Uq.invalid=Jq,Uq.duration=kX,Uq.isMoment=nK,Uq.weekdays=function(e,t,n){return p$(e,t,n,"weekdays")},Uq.parseZone=function(){return mX.apply(null,arguments).parseZone()},Uq.localeData=JY,Uq.isDuration=bX,Uq.monthsShort=function(e,t){return h$(e,t,"monthsShort")},Uq.weekdaysMin=function(e,t,n){return p$(e,t,n,"weekdaysMin")},Uq.defineLocale=$Y,Uq.updateLocale=function(e,t){if(null!=t){var n,r,o=HY;null!=GY[e]&&null!=GY[e].parentLocale?GY[e].set(lK(GY[e]._config,t)):(null!=(r=YY(e))&&(o=r._config),t=lK(o,t),null==r&&(t.abbr=e),(n=new uK(t)).parentLocale=GY[e],GY[e]=n),XY(e)}else null!=GY[e]&&(null!=GY[e].parentLocale?(GY[e]=GY[e].parentLocale,e===XY()&&XY(e)):null!=GY[e]&&delete GY[e]);return GY[e]},Uq.locales=function(){return iK(GY)},Uq.weekdaysShort=function(e,t,n){return p$(e,t,n,"weekdaysShort")},Uq.normalizeUnits=EK,Uq.relativeTimeRounding=function(e){return void 0===e?j$:"function"==typeof e&&(j$=e,!0)},Uq.relativeTimeThreshold=function(e,t){return void 0!==V$[e]&&(void 0===t?V$[e]:(V$[e]=t,"s"===e&&(V$.ss=t-1),!0))},Uq.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},Uq.prototype=c$,Uq.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const W$={sessionItem:{systemConfig:"systemConfig",authorization:"token",userInfo:"userInfo",companyId:"companyId",companyName:"companyName",institutionInfo:"institutionInfo",selectOrgId:"selectOrgId",selectOrgName:"selectOrgName",scanOpenSource:"scanOpenSource",understandWay:"understandWay",understandWay_v:"understandWay_v",moor_callType:"moor_callType",moor_loginStatus:"moor_loginStatus",moor_loginName:"moor_loginName",moor_loginPass:"moor_loginPass"},localItem:{dictList:"dictList"},errorCodeMsg:{400:"",401:"",403:"",404:"",408:"",500:"",501:"",502:"",503:"",504:""},messageType:{success:"success",warning:"warning",info:"info",error:"error"},modalType:{insert:"1",update:"2",detail:"3",delete:"4"},modalTitle:{insert:"",update:"",detail:"",delete:""},logCategory:{dispose_element:"dispose_element",dispose_solution:"dispose_solution",customer:"customer",visit:"visit",medical_record:"medical_record",opera_notice:"notice",oral_condition:"oral_condition",consult:"consult"},logPlatformOptions:[{value:"unknown",label:""},{value:"pc_web",label:"PC-"},{value:"pc_client",label:"PC-"},{value:"mobile_web",label:"-"},{value:"pad_client",label:"PAD-"}],logCategoryOptions:[{value:"dispose_element",label:""},{value:"dispose_solution",label:""},{value:"customer",label:""},{value:"visit",label:""},{value:"medical_record",label:""},{value:"notice",label:""},{value:"oral_condition",label:""},{value:"phone",label:""},{value:"receipt",label:""}],logActionOptions:[{value:"create",label:""},{value:"modify",label:""},{value:"handover",label:""},{value:"delete",label:""},{value:"returnVisit",label:""},{value:"reserved",label:""},{value:"rejected",label:""},{value:"audit",label:""},{value:"archive",label:""},{value:"lend",label:""},{value:"giveBack",label:""},{value:"merger",label:""},{value:"abandonCustomer",label:""},{value:"releaseCustomer",label:""},{value:"firstRegister",label:""},{value:"customerPool",label:""},{value:"look",label:""},{value:"export",label:""}],dictionaryCode:["KN001","KN002","KN003","KN004","KN005","KN007","KN008","KN009","KN010","KN011","KN012","KN013","KN014","KN015","KN016","KN017","KN018","KN021","KN022","KN026","KN035","KN039","KN040","KN042","KN043","KN044","UN44","UN45","UN46","UN47","UN48","UN49","UN50","UN51","UN52","UN53","UND001","UND002","UND003","UND004","UND005","UND006","UND007","UND008","UND009","UND010","UND011","UND012","UND013","UND014","UND015","UND016","UND017","UND018","UND019","UND020","UND021","UND022","UND023","UND024","UND025","UND026","UND027","UND028","UND029","UND030","UND031","UND032","UND033","UND034","UND035","UND036","UND037","UND038","UND039","UND040","UND041","UND042","UND043","UND044","UND045","UND046","UND047","UND048","UND049","UND050","UND051","UND052","UND053","UND054","UND055","UND056","UND057","UND058","unuo001","unuo002","unuo003","unuo004","unuo006","unuo007","unuo008","unuo009","unuo010","unuo011","unuo012","unuo013","unuo014","unuo015","unuo016","unuo017","unuo018"],settingsCode:{advice:"advice"},jobsCode:{reception:"10",doctor:"01",assistantDoctor:"11",nurse:"02",adviser:"40",developer:"21",market:"54",consult:"41",doctorKf:"42",cashier:"31",approval:"25",inspect:"07",warehousePipe:"32",yiwu:"43",yaoji:"03"},deptType:{yewu:"01",yiliao:"02",zhiliao:"03",shoushu:"04"}};let q$=null;const K$=e=>{q$&&q$.close(),q$=kL({showClose:null==e.showClose||e.showClose,message:e.message,type:null==e.type?"success":e.type,duration:null==e.duration?3e3:e.duration})};["error","success","info","warning"].forEach((e=>{K$[e]=t=>K$(t={type:e,message:t})}));const Y$=K$,X$={isEdit:function(e){let t=(JSON.parse(sessionStorage.getItem(W$.sessionItem.userInfo))||{}).fieldAuth,n=!1;return t.forEach(((t,r)=>{e!=t.code||t.auth&&1==t.auth&&(n=!0)})),n}},$$={log:function(e){},error:function(e){}},J$={};let Z$;J$.baseUrl=void 0,J$.baseUrlOld="http://127.0.0.1:9999",J$.baseRootUrl=void 0,J$.mobileShow=function(e){return X$.isEdit("1")?e:J$.mobileHidden(e)},J$.mobileHidden=function(e){if(!e)return;return e.replace(/^(.{3}).*(.{4})$/,"$1****$2")},J$.logout=function(){sessionStorage.clear()},J$.hasFuncAuth=function(e){let t=JSON.parse(sessionStorage.getItem(W$.sessionItem.userInfo)).funcAuth||{};if(null!=t&&t.length>0)for(let n of t)if(n===e)return!0;return!1},J$.formatNumbera=function(e){var t=(e=Math.round(100*parseFloat(e))/100).toString().split(".");return 1==t.length?e=e.toString()+".00":t.length>1?(t[1].length<2&&(e=e.toString()+"0"),e):void 0},J$.showMessage=function(e){Y$({showClose:null==e.showClose||e.showClose,message:e.message,type:null==e.type?"success":e.type,duration:null==e.duration?3e3:e.duration})},J$.showMessageError=function(e){Y$({showClose:!0,message:e,type:"error",duration:3e3})},J$.isRealNum=function(e){return""!==e&&null!=e&&!isNaN(e)},J$.getYearList=function(){var e=[],t=(new Date).getFullYear();e.push(t);for(let n=1;n<50;n++)e.push(parseInt(t)-n);return e},J$.thousands=function(e){var t=(e=e||0).toString(),n=t.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return t.replace(n,"$1,")},J$.getDateBeforeAfter=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),Uq(n).format("YYYY-MM-DD")},J$.getDateAddDay=function(e,t){e=e.split("-");var n=new Date(e[1]+"/"+e[2]+"/"+e[0]),r=Math.abs(n)+24*t*60*60*1e3,o=new Date(r),i=o.getFullYear(),a=o.getMonth()+1;a<10&&(a="0"+a);var s=o.getDate();return s<10&&(s="0"+s),i+"-"+a+"-"+s},J$.getrangeDate=function(e,t){var n,r;switch(e){case 1:n=new Date,r=new Date,n.setDate(n.getDate()-1),r.setDate(r.getDate()-1);break;case 2:n=new Date,r=new Date;var o=n.getDay(),i=o>0?o-1:6;n.setDate(n.getDate()-i),r.setDate(r.getDate()-1);break;case 3:n=new Date,r=new Date,n.setDate(1);break;case 4:n=new Date,r=new Date,n.setMonth(0),n.setDate(1),r.setDate(r.getDate()-1);break;case 5:n=new Date,r=new Date,n.setMonth(n.getMonth()-1),n.setDate(1),r.setDate(0);break;case 6:n=new Date,r=new Date,n.setTime(n.getTime()-6048e5),r.setDate(r.getDate()-1);break;case 7:n=new Date,r=new Date;var a=n.getDay();0==a||a>=5?(0==a&&(n.setDate(n.getDate()-9),r.setDate(r.getDate()-3)),a>=5&&(n.setDate(n.getDate()-a-2),r.setDate(r.getDate()-a+4))):(n.setDate(n.getDate()-14+5-a),r.setDate(r.getDate()-7+4-a));break;case 8:r=t,(n=new Date).setTime(r.getTime()-5184e5)}return[Uq(n).format("YYYY-MM-DD"),Uq(r).format("YYYY-MM-DD")]},J$.getDateTime=function(){let e=new Date;return{date:Uq(e).format("YYYY-MM-DD"),time:Uq(e).format("HH:mm"),week:["","","","","","",""][e.getDay()]}},J$.getMessageFromList=function(e,t){let n=MG[e];if(""==$.trim(n))return n=e+"[]",n;if(null!=t)for(var r=0;r<t.length;r++)n=n.replace("{"+r+"}",t[r]);return n},Uq.locale("zh-cn",{weekdays:"______".split("_"),week:{dow:1}}),J$.formatTableDate=function(e,t){var n=e[t.property];return null==n?"":J$.formatDate(n)},J$.formatDate=function(e){return Uq(e).format("YYYY-MM-DD HH:mm:ss")},J$.formatDateToSecond=function(e){return Uq(e).format("HH:mm:ss")},J$.formatDateMinute=function(e){return Uq(e).format("YYYY-MM-DD HH:mm")},J$.formatDateToMinute=function(e){return Uq(e).format("HH:mm")},J$.formatDateTime=function(e){return e?Uq(e).format("YYYY-MM-DD"):""},J$.formatDateTimeZhCn=function(e){return e?Uq(e).format("YYYYMMDD"):""},J$.formatMonthTime=function(e){return e?Uq(e).format("YYYY-MM"):""},J$.formatDateTimeFormat=function(e,t){return e?Uq(e).format(t):""},J$.getNowDate=function(e){return Uq(new Date).format(e||"YYYY-MM-DD")},J$.getNowDateTime=function(){return Uq(new Date).format("YYYY-MM-DD HH:mm:ss")},J$.getPreviousDay=function(e){return Uq(e).subtract(1,"day").format("YYYY-MM-DD")},J$.getNextDay=function(e){return Uq(e).add(1,"days").format("YYYY-MM-DD")},J$.nowWeekStartDay=function(e){return Uq(e).startOf("week").format("YYYY-MM-DD")},J$.nowWeekEndDay=function(e){return Uq(e).endOf("week").format("YYYY-MM-DD")},J$.prevWeekStartDay=function(e){return Uq(e).weekday(-7).startOf("week").add(1,"days").format("YYYY-MM-DD")},J$.nextWeekStartDay=function(e){return Uq(e).weekday(7).startOf("week").add(1,"days").format("YYYY-MM-DD")},J$.nowMonthStartDay=function(e){return Uq(e).startOf("month").format("YYYY-MM-DD")},J$.nowMonthEndDay=function(e){return Uq(e).endOf("month").format("YYYY-MM-DD")},J$.nowMonthStartDayTime=function(){return Uq().month(Uq().month()).startOf("month").valueOf()},J$.nowMonthEndDayTime=function(){return Uq().month(Uq().month()).endOf("month").valueOf()},J$.beforeMonthStartDayTime=function(){return Uq().month(Uq().month()).subtract(1,"months").startOf("month").valueOf()},J$.beforeMonthEndDayTime=function(){return Uq().month(Uq().month()).subtract(1,"months").endOf("month").valueOf()},J$.prevMonthStartDay=function(e){return Uq(e).subtract(1,"month").startOf("month").format("YYYY-MM-DD")},J$.nextMonthStartDay=function(e){return Uq(e).add(1,"month").startOf("month").format("YYYY-MM-DD")},J$.daysTimeDiff=function(e,t){return Uq(t).diff(Uq(e),"day")},J$.minutesTimeDiff=function(e,t){return Uq(t).diff(Uq(e),"minutes")},J$.secondTimeDiff=function(e,t){return Uq(t).diff(Uq(e),"second")},J$.millisecondTimeDiff=function(e,t){return Uq(t).diff(Uq(e),"millisecond")},J$.getDateBeforeAfterMonth=function(e){return Uq(new Date).subtract(e,"months").format("YYYY-MM-DD")},J$.getYearWeek=function(e){let t=Uq(e).format("WW");return Number(t)+1},J$.getYear=function(e){return Uq(e).format("YYYY")},J$.toHoursAndMinutes=function(e,t){const n=Math.floor(e/60),r=e%60;return"EN"===t?n<=0?r+"min":n+"h"+r+"min":"CN"===t?n<=0?r+"":n+""+r+"":{hours:n,minutes:r}},J$.formateSeconds=function(e){let t=parseInt(e),n=0,r=0,o="";return t>60&&(n=parseInt(t/60),t=parseInt(t%60),n>60&&(r=parseInt(n/60),n=parseInt(n%60))),o="00"==r.toString().padStart(2,"0")?`${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`:`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`,o},J$.addMinutesToTime=function(e,t){return Uq(e).add(t,"minutes").format("YYYY-MM-DD HH:mm")},J$.addMinutesToTimeHm=function(e,t){return Uq(e,"HH:mm").add(t,"minutes").format("HH:mm")},J$.subtractMinutesToTimeHm=function(e,t){return Uq(e,"HH:mm").subtract(t,"minutes").format("HH:mm")},J$.compareTime=function(e,t){return Uq(e).isBefore(t)},J$.enumerateDaysBetweenDates=function(e,t){let n=[],r=Uq(e),o=Uq(t);for(n.push(r.format("YYYY-MM-DD"));r.add(1,"days").isBefore(o);)n.push(r.format("YYYY-MM-DD"));return n.push(r.format("YYYY-MM-DD")),n},J$.birthdayToAge=function(e){if(e&&e.length>=10){e=Uq(e).format("YYYY-MM-DD");let t=new Date(e.replace(/-/g,"/")),n=new Date;return n.getFullYear()-t.getFullYear()-(n.getMonth()<t.getMonth()||n.getMonth()==t.getMonth()&&n.getDate()<t.getDate()?1:0)}return"--"},J$.showSex=function(e){return!e||"0"!=e&&""!=e?!e||"1"!=e&&""!=e?"":"":""},J$.getTableList=function(e){return e.removeEmpty=!1,J$.doPost(e)},J$.getTableListGet=function(e){return e.removeEmpty=!1,J$.doGet(e)},J$.tableAssignment=function(e,t,n){if(0==e.code){t.pageTotal=Number(e.data.count),n.splice(0);var r=e.data.records;if(r.length>0)for(let e=0;e<r.length;e++)n.push(r[e])}},J$.tablelist=function(e,t){var n=e.data;if(n.length>0)for(let r=0;r<n.length;r++)t.push(n[r])},J$.tablist=function(e,t){},J$.tableAssignmentMongo=function(e,t,n){if(0==e.code){t.pageTotal=Number(e.data.count),n.splice(0);var r=e.data.records;if(r.length>0)for(let e=0;e<r.length;e++)r[e].articleNum=r[e].informationDTO.articleNum,r[e].spec=r[e].informationDTO.name,r[e].xxdw=r[e].informationDTO.xxdw,n.push(r[e])}},J$.showModal=function(e,t){e.show=!0,e.type=t,t==W$.modalType.insert?e.title=W$.modalTitle.insert:t==W$.modalType.update?e.title=W$.modalTitle.update:t==W$.modalType.detail&&(e.title=W$.modalTitle.detail)},J$.startLoading=function(e){Z$=_L.service({lock:!0,customClass:"create-isLoading",text:e||"...",background:"transparent"})},J$.endLoading=function(){Z$.close()},J$.mergeObj=function(e,t){return{...e,...t}},J$.limitNumTool=function(e,t,n){let r=t||7,o=new RegExp(`^\\d*(\\.?\\d{0,${n||2}})`,"g"),i=(""+e).replace(/[^\d^\.]+/g,"").replace(/^0+(\d)/,"$1").replace(/^\./,"0.").match(o)[0]||"";return-1!=r&&(i=i.indexOf(".")>0?i.split(".")[0].substring(0,r)+"."+i.split(".")[1]:i.substring(0,r)),i},J$.limitNumToolzhekou=function(e,t){let n=t||1,r=(""+e).replace(/[^\d^\.]+/g,"").replace(/^0+(\d)/,"$1").replace(/^\./,"0.").match(/^\d*(\.?\d{0,2})/g)[0]||"";return-1!=n&&(r=r.indexOf(".")>0?r.split(".")[0].substring(0,n)+"."+r.split(".")[1]:r.substring(0,n)),r},J$.positiveIntegerNoZero=function(e){return e.replace(/^(0+)|[^\d]+/g,"")},J$.positiveIntegerHasZero=function(e){return e.replace(/^0+(\d)|[^\d]+/g,"")},J$.positiveNumbers=function(e){return e.replace(/[^\d.]/g,"").replace(/^\.*/,"").replace(new RegExp("(?<=(\\.).*)\\1","g"),"").replace(/(^0+)(\d)(\.?)/g,"$2$3")};let Q$=0;function eJ(){Q$<=0||(Q$--,0===Q$&&J$.endLoading())}Pq.interceptors.request.use((e=>{e.showLoading&&(0===Q$&&J$.startLoading(),Q$++);let t="";return t=window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?"mobile_web":"pc_web",e.headers={"Authorization-Token":sessionStorage.getItem(W$.sessionItem.authorization)||"",platform:t,tenantUrl:location.host},e}),(e=>(eJ(),Promise.reject(e)))),Pq.interceptors.response.use((e=>{if(eJ(),200==e.status){let t=e.data;return t.token&&sessionStorage.setItem(W$.sessionItem.authorization,t.token),"401"==t.code&&(Y$({message:t.message,type:"error"}),J$.logout(),Dz.replace("/login")),e}Y$({message:J$.getMessageFromList("error.system",null),type:W$.messageType.error})}),(e=>{if(eJ(),e&&e.response&&e.response.status)switch(e.response.status){case 401:Y$({message:"",type:"error"}),J$.logout(),Dz.replace("/login");break;case 400:case 403:case 404:case 408:case 500:case 501:case 502:case 503:case 504:Y$({message:W$.errorCodeMsg[e.response.status],type:W$.messageType.error});break;default:Y$({message:J$.getMessageFromList("error.system",null),type:W$.messageType.error})}else Y$({message:e||J$.getMessageFromList("error.system",null),type:W$.messageType.error});return Promise.reject(e)})),J$.doPost=function(e){return new Promise(((t,n)=>{Pq.post((e.old?"":J$.baseUrl)+e.url,e.params,{showLoading:!e||!e.hasOwnProperty("_loading")||e._loading,timeout:e&&e.hasOwnProperty("_timeout")?e._timeout:15e3}).then((n=>{if($$.log(">>>url"+e.url),$$.log(">>>"+JSON.stringify(e.params)),$$.log(">>>"+JSON.stringify(n.data)),200==n.status){var r=n.data;"0"!=r.code&&Y$({message:r.message,type:W$.messageType.error}),e.callback&&e.callback(r),t(r)}})).catch((e=>{n(e)})).finally((()=>{}))}))},J$.doPut=function(e){return new Promise(((t,n)=>{Pq.put((e.old?"":J$.baseUrl)+e.url,e.params,{showLoading:!e||!e.hasOwnProperty("_loading")||e._loading}).then((n=>{if($$.log(">>>url"+e.url),$$.log(">>>"+JSON.stringify(e.params)),$$.log(">>>"+JSON.stringify(n.data)),200==n.status){var r=n.data;"0"!=r.code&&Y$({message:r.message,type:W$.messageType.error}),e.callback&&e.callback(r),t(r)}})).catch((e=>{n(e)})).finally((()=>{}))}))},J$.doGet=function(e){return new Promise(((t,n)=>{Pq.get(J$.baseUrl+e.url,{params:e.params,showLoading:!e||!e.hasOwnProperty("_loading")||e._loading}).then((n=>{if($$.log(">>>url"+e.url),$$.log(">>>"+JSON.stringify(e.params)),$$.log(">>>"+JSON.stringify(n.data)),200==n.status){var r=n.data;"0"!=r.code&&Y$({message:r.message,type:W$.messageType.error}),e.callback&&e.callback(r),t(r)}})).catch((e=>{n(e)}))}))},J$.doDel=function(e){return new Promise(((t,n)=>{Pq.delete(J$.baseUrl+e.url,{params:e.params,showLoading:!e||!e.hasOwnProperty("_loading")||e._loading}).then((n=>{if($$.log(">>>url"+e.url),$$.log(">>>"+JSON.stringify(e.params)),$$.log(">>>"+JSON.stringify(n.data)),200==n.status){var r=n.data;"0"!=r.code&&Y$({message:r.message,type:W$.messageType.error}),e.callback&&e.callback(r),t(r)}})).catch((e=>{n(e)}))}))},J$.doPatch=function(e){return new Promise(((t,n)=>{Pq.patch(J$.baseUrl+e.url,{params:e.params,showLoading:!e||!e.hasOwnProperty("_loading")||e._loading}).then((n=>{if($$.log(">>>url"+e.url),$$.log(">>>"+JSON.stringify(e.params)),$$.log(">>>"+JSON.stringify(n.data)),200==n.status){var r=n.data;"0"!=r.code&&Y$({message:r.message,type:W$.messageType.error}),e.callback&&e.callback(r),t(r)}})).catch((e=>{n(e)}))}))},J$.download=function(e){return new Promise(((t,n)=>{$$.log(">>>url"+e.url),$$.log(">>>"+JSON.stringify(e.params)),Pq.post(J$.baseUrl+e.url,e.params,{responseType:"blob",showLoading:!e||!e.hasOwnProperty("_loading")||e._loading,timeout:e&&e.hasOwnProperty("_timeout")?e._timeout:15e3}).then((e=>{$$.log(">>>",e);try{let t=e.headers["content-type"].split(";")[0];const n=window.URL.createObjectURL(new Blob([e.data],{type:t})),r=document.createElement("a");r.href=n;let o=e.headers["content-disposition"].split(";"),i="";for(let e=0,a=o.length;e<a;e++){let t=o[e].split("=");if(t.length>1&&"filename"===t[0]){i=t[1];break}}i=decodeURI(i),r.setAttribute("download",i),document.body.appendChild(r),r.click()}catch(kk){Y$({message:"",type:W$.messageType.error})}t(e)})).catch((e=>{if(n(e),e&&e.response){const t=e.response.headers.errormsg;Y$(t?{message:decodeURI(t),type:W$.messageType.error}:{message:J$.getMessageFromList("error.system",null),type:W$.messageType.error})}})).finally((()=>{}))}))},J$.asyncDownload=function(e){J$.doPost(e).then((e=>{0==e.code&&BL.alert("->","",{confirmButtonText:"",callback:e=>{}})}))},J$.addLog=function(e,t,n){let r={url:"/info/log/saveChangeLog",params:{action:e,type:"phone",customerId:t,content:n}};if("export"==e){JSON.parse(sessionStorage.getItem("userInfo")).fieldAuth.forEach((e=>{"01"==e.code&&("0"==e.auth?r.params.content=r.params.content+"":r.params.content=r.params.content+"")}))}return J$.doPost(r)},J$.uploadFile=function(e,t){$$.log(t);const n={path:t.url,name:t.name};return new Promise(((t,r)=>{Pq.post(J$.baseUrl+e,n).then((e=>{$$.log(e),200==e.status?($$.log(">>>"),t(e)):($$.log(">>>"),Y$({message:J$.getMessageFromList("error.system",null),type:W$.messageType.error}))})).catch((e=>{Y$({message:J$.getMessageFromList("error.system",null),type:W$.messageType.error}),$$.log(">>>")})).finally((()=>{}))}))},J$.uploadFileFile=function(e,t){$$.log(t);const n={file:t.url,name:t.name};return new Promise(((t,r)=>{Pq.post(J$.baseUrl+e,n).then((e=>{$$.log(e),200==e.status?($$.log(">>>"),t(e)):($$.log(">>>"),Y$({message:J$.getMessageFromList("error.system",null),type:W$.messageType.error}))})).catch((e=>{Y$({message:J$.getMessageFromList("error.system",null),type:W$.messageType.error}),$$.log(">>>")})).finally((()=>{}))}))},J$.getUuid=function(){var e,t=16,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];for(t=t||n.length,e=0;e<32;e++)r[e]=n[0|Math.random()*t];return r.join("")},J$.showConfirm=function(e){BL.confirm(e.messageContent,e.title?e.title:"",{type:e.type?e.type:"",confirmButtonText:e.confirmButtonText?e.confirmButtonText:" ",cancelButtonText:e.cancelButtonText?e.cancelButtonText:"",confirmButtonClass:e.confirmButtonClass?e.confirmButtonClass:"",cancelButtonClass:e.cancelButtonClass?e.cancelButtonClass:""}).then((()=>{e.httpType&&"get"===e.httpType.toLowerCase()?J$.doGet(e):e.httpType&&"del"===e.httpType.toLowerCase()?J$.doDel(e):e.httpType&&"put"===e.httpType.toLowerCase()?J$.doPut(e):e.httpType&&"post"===e.httpType.toLowerCase()&&J$.doPost(e)})).catch((()=>{}))},J$.showConfirmNoHttp=function(e){BL.confirm(e.messageContent,e.title?e.title:"",{type:e.type?e.type:"",confirmButtonText:e.confirmButtonText?e.confirmButtonText:" ",cancelButtonText:e.cancelButtonText?e.cancelButtonText:"",confirmButtonClass:e.confirmButtonClass?e.confirmButtonClass:"",cancelButtonClass:e.cancelButtonClass?e.cancelButtonClass:""}).then((()=>{e.callback&&e.callback()})).catch((()=>{}))},J$.clearObj=function(e){for(var t in e)if(e[t]instanceof Array)e[t]=[];else if("[object Object]"===Object.prototype.toString.call(e[t]))for(var n in e[t])e[t][n]instanceof Array?e[t][n]=[]:e[t][n]="";else e[t]=""},J$.removeEmpty=function(e){for(var t in e)""==e[t]&&delete e[t]},J$.doSyncPost=function(e,t){let n;return $.ajax({type:"post",url:(t&&t.old?J$.baseUrlOld:J$.baseUrl)+e,data:JSON.stringify(t),async:!1,dataType:"json",contentType:"application/json;charset=utf-8",beforeSend:function(e){e.setRequestHeader("Authorization-Token",sessionStorage.getItem(W$.sessionItem.authorization)),e.setRequestHeader("tenantUrl",location.host)},success:function(r){$$.log(">>>url"+e),$$.log(">>>"+JSON.stringify(t)),$$.log(">>>"+JSON.stringify(r)),0!=r.code&&Y$({message:decodeURI(r.message),type:W$.messageType.error}),n=r},error:function(e){$$.log(e)}}),n},J$.doSyncGet=function(e,t){let n;return $.ajax({type:"get",url:(t&&t.old?J$.baseUrlOld:J$.baseUrl)+e,data:JSON.stringify(t),async:!1,dataType:"json",contentType:"application/json;charset=utf-8",beforeSend:function(e){e.setRequestHeader("Authorization-Token",sessionStorage.getItem(W$.sessionItem.authorization)||""),e.setRequestHeader("tenantUrl",location.host)},success:function(r){$$.log(">>>url"+e),$$.log(">>>"+JSON.stringify(t)),$$.log(">>>"+JSON.stringify(r)),0!=r.code&&Y$({message:decodeURI(r.message),type:W$.messageType.error}),n=r},error:function(e){$$.log(e)}}),n},J$.downloadFile=function(e,t){Pq.get(e,{responseType:"blob"}).then((e=>{const n=new Blob([e.data],{type:"application/vnd.ms-excel"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(n,t);else{const e=URL.createObjectURL(n),r=document.createElement("a");r.style.display="none",r.href=e,r.download=t,r.click(),URL.revokeObjectURL(r.href)}}))},J$.downloadFilePDF=function(e,t){Pq.get(e,{responseType:"blob"}).then((e=>{const n=new Blob([e.data],{type:"application/pdf"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(n,t);else{const e=URL.createObjectURL(n),r=document.createElement("a");r.style.display="none",r.href=e,r.download=t,r.click(),URL.revokeObjectURL(r.href)}}))},J$.isMobile=function(e){return/^(1[0-9])\d{9}$/.test(e)},J$.LxStr=function(e){for(var t=e.split(""),n=!0,r=1;r<t.length-1;r++){var o=t[r-1].charCodeAt(),i=t[r].charCodeAt();if((a=t[r+1].charCodeAt())-i==1&&i-o==1)return n=!1}for(r=1;r<t.length-1;r++){o=t[r-1].charCodeAt(),i=t[r].charCodeAt();var a=t[r+1].charCodeAt();if(o-i==1&&i-a==1)return n=!1}return n},J$.setCookie=function(e,t){window.document.cookie=e+"="+t},J$.getCookie=function(e){if(window.document.cookie.length>0)for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]==e)return r[1]}},J$.setLocalStorage=function(e,t){e&&t&&localStorage.setItem(e,JSON.stringify(t))},J$.getLocalStorage=function(e){return e&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null},J$.idcardValid=function(e){if(!{11:"",12:"",13:"",14:"",15:"",21:"",22:"",23:" ",31:"",32:"",33:"",34:"",35:"",36:"",37:"",41:"",42:" ",43:"",44:"",45:"",46:"",50:"",51:"",52:"",53:"",54:" ",61:"",62:"",63:"",64:"",65:"",71:"",81:"",82:"",91:" "}[(e=e.toUpperCase()).substr(0,2)])return!1;e=e.split("");for(var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],n=[1,0,"X",9,8,7,6,5,4,3,2],r=0,o=0;o<17;o++)r+=e[o]*t[o];return n[r%11]==e[17]},J$.idcardValidator=function(e,t,n){J$.idcardValid(t)?n():n(new Error(J$.getMessageFromList("error.idcard.validate")))},J$.coperyProperties=function(e,t){for(var n in t.id&&(e.id=t.id),e)e[n]=t[n]},J$.changeObj=function(e,t){Object.keys(e).forEach((n=>{e[n]=t[n]}))},J$.deepClone=function(e){var t=Array.isArray(e)?[]:{};if(e&&"object"==typeof e)for(let n in e)e.hasOwnProperty(n)&&(e[n]&&"object"==typeof e[n]?t[n]=this.deepClone(e[n]):t[n]=e[n]);return t},J$.moveArray=function(e,t,n){e[t]=e.splice(n,1,e[t])[0]},J$.numAdd=function(e,t){let n,r,o,i;e||(e=0),t||(t=0);try{n=e.toString().split(".")[1].length}catch(a){n=0}try{r=t.toString().split(".")[1].length}catch(a){r=0}if(o=Math.abs(n-r),i=Math.pow(10,Math.max(n,r)),o>0){let i=Math.pow(10,o);n>r?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*i):(e=Number(e.toString().replace(".",""))*i,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/i},J$.numSub=function(e,t,n){let r,o,i,a;try{o=e.toString().split(".")[1].length}catch(kk){o=0}try{i=t.toString().split(".")[1].length}catch(kk){i=0}return r=Math.pow(10,Math.max(o,i)),a=o>=i?o:i,Number(Number((e*r-t*r)/r).toFixed(a))},J$.numMulti=function(e,t){let n=0;try{n+=e.toString().split(".")[1].length}catch(kk){}try{n+=t.toString().split(".")[1].length}catch(kk){}return Number(e.toString().replace(".",""))*Number(t.toString().replace(".",""))/Math.pow(10,n)},J$.numDiv=function(e,t){let n,r,o=0,i=0;try{o=e.toString().split(".")[1].length}catch(a){}try{i=t.toString().split(".")[1].length}catch(a){}return n=Number(e.toString().replace(".","")),r=Number(t.toString().replace(".","")),J$.numMulti(n/r,Math.pow(10,i-o))},J$.removeIllegalStr=function(e){return void 0===e||""===e||null===e||"null"===e||0==e.length?"":e},J$.numberToUpperCase=function(e){let t="",n=e+1+"";function r(t,n){let r="";if(9===e)return n?"":"";let o=~~e>9&&~~e<19;switch(~~t){case 1:r=n?"":o?"":"";break;case 2:r=n?"":o?"":"";break;case 3:r=n?"":o?"":"";break;case 4:r=n?"":o?"":"";break;case 5:r=n?"":o?"":"";break;case 6:r=n?"":o?"":"";break;case 7:r=n?"":o?"":"";break;case 8:r=n?"":o?"":"";break;case 9:r=n?"":o?"":"";break;case 0:r=""}return r}for(let o=0;o<n.length;o++)t+=r(n.substring(o,o+1),o);return t},J$.checkRepeat=function(e,t){let n=[];return e.forEach((e=>{e&&n.push(e[t])})),new Set(n).size!=e.length},J$.isMobileTerminal=function(){return navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},J$.sortKey=function(e,t){return e.map((function(e){return e.sort=Number(e.sort),e})),e&&e.length>0?e.sort((function(e,n){let r=e[t],o=n[t];return r<o?-1:r>o?1:0})):[]},J$.sortKeyReverse=function(e,t){return e&&e.length>0?e.sort((function(e,n){let r=e[t],o=n[t];return r>o?-1:r<o?1:0})):[]};var tJ={exports:{}};const nJ=aO(dc);
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function rJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rJ(Object(n),!0).forEach((function(t){aJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iJ(e){return(iJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sJ(){return sJ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sJ.apply(this,arguments)}function cJ(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function lJ(e){return function(e){if(Array.isArray(e))return uJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dJ(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var hJ=dJ(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),pJ=dJ(/Edge/i),fJ=dJ(/firefox/i),mJ=dJ(/safari/i)&&!dJ(/chrome/i)&&!dJ(/android/i),gJ=dJ(/iP(ad|od|hone)/i),vJ=dJ(/chrome/i)&&dJ(/android/i),yJ={capture:!1,passive:!1};function _J(e,t,n){e.addEventListener(t,n,!hJ&&yJ)}function EJ(e,t,n){e.removeEventListener(t,n,!hJ&&yJ)}function bJ(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function TJ(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function SJ(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&bJ(e,t):bJ(e,t))||r&&e===n)return e;if(e===n)break}while(e=TJ(e))}return null}var wJ,CJ=/\s+/g;function RJ(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(CJ," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(CJ," ")}}function IJ(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function AJ(e,t){var n="";if("string"==typeof e)n=e;else do{var r=IJ(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function OJ(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function NJ(){var e=document.scrollingElement;return e||document.documentElement}function kJ(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,c,l,u,d;if(e!==window&&e.parentNode&&e!==NJ()?(a=(i=e.getBoundingClientRect()).top,s=i.left,c=i.bottom,l=i.right,u=i.height,d=i.width):(a=0,s=0,c=window.innerHeight,l=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!hJ))do{if(o&&o.getBoundingClientRect&&("none"!==IJ(o,"transform")||n&&"static"!==IJ(o,"position"))){var h=o.getBoundingClientRect();a-=h.top+parseInt(IJ(o,"border-top-width")),s-=h.left+parseInt(IJ(o,"border-left-width")),c=a+i.height,l=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var p=AJ(o||e),f=p&&p.a,m=p&&p.d;p&&(c=(a/=m)+(u/=m),l=(s/=f)+(d/=f))}return{top:a,left:s,bottom:c,right:l,width:d,height:u}}}function DJ(e,t,n){for(var r=UJ(e,!0),o=kJ(e)[t];r;){if(!(o>=kJ(r)[n]))return r;if(r===NJ())break;r=UJ(r,!1)}return!1}function xJ(e,t,n,r){for(var o=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==HZ.ghost&&(r||a[i]!==HZ.dragged)&&SJ(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function PJ(e,t){for(var n=e.lastElementChild;n&&(n===HZ.ghost||"none"===IJ(n,"display")||t&&!bJ(n,t));)n=n.previousElementSibling;return n||null}function MJ(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===HZ.clone||t&&!bJ(e,t)||n++;return n}function LJ(e){var t=0,n=0,r=NJ();if(e)do{var o=AJ(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function UJ(e,t){if(!e||!e.getBoundingClientRect)return NJ();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=IJ(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return NJ();if(r||t)return n;r=!0}}}while(n=n.parentNode);return NJ()}function jJ(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function VJ(e,t){return function(){if(!wJ){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),wJ=setTimeout((function(){wJ=void 0}),t)}}}function BJ(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function zJ(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function FJ(e,t){IJ(e,"position","absolute"),IJ(e,"top",t.top),IJ(e,"left",t.left),IJ(e,"width",t.width),IJ(e,"height",t.height)}function HJ(e){IJ(e,"position",""),IJ(e,"top",""),IJ(e,"left",""),IJ(e,"width",""),IJ(e,"height","")}var GJ="Sortable"+(new Date).getTime();function WJ(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==IJ(e,"display")&&e!==HZ.ghost){t.push({target:e,rect:kJ(e)});var n=oJ({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=AJ(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=kJ(n),c=n.prevFromRect,l=n.prevToRect,u=e.rect,d=AJ(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&jJ(c,s)&&!jJ(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,c,l,r.options)),jJ(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){IJ(e,"transition",""),IJ(e,"transform","");var o=AJ(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),c=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!c,IJ(e,"transform","translate3d("+s+"px,"+c+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),IJ(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),IJ(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){IJ(e,"transition",""),IJ(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var qJ=[],KJ={initializeByDefault:!0},YJ={mount:function(e){for(var t in KJ)KJ.hasOwnProperty(t)&&!(t in e)&&(e[t]=KJ[t]);qJ.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),qJ.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";qJ.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](oJ({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](oJ({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in qJ.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,sJ(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);void 0!==i&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return qJ.forEach((function(r){"function"==typeof r.eventProperties&&sJ(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return qJ.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};function XJ(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,c=e.oldIndex,l=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[GJ]){var m,g=t.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||hJ||pJ?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=o||n,m.clone=i,m.oldIndex=c,m.newIndex=l,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=p?p.lastPutMode:void 0;var y=oJ(oJ({},f),YJ.getEventProperties(r,t));for(var _ in y)m[_]=y[_];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}var $J=["evt"],JJ=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=cJ(n,$J);YJ.pluginEvent.bind(HZ)(e,t,oJ({dragEl:QJ,parentEl:eZ,ghostEl:tZ,rootEl:nZ,nextEl:rZ,lastDownEl:oZ,cloneEl:iZ,cloneHidden:aZ,dragStarted:_Z,putSortable:hZ,activeSortable:HZ.active,originalEvent:r,oldIndex:sZ,oldDraggableIndex:lZ,newIndex:cZ,newDraggableIndex:uZ,hideGhostForTarget:VZ,unhideGhostForTarget:BZ,cloneNowHidden:function(){aZ=!0},cloneNowShown:function(){aZ=!1},dispatchSortableEvent:function(e){ZJ({sortable:t,name:e,originalEvent:r})}},o))};function ZJ(e){XJ(oJ({putSortable:hZ,cloneEl:iZ,targetEl:QJ,rootEl:nZ,oldIndex:sZ,oldDraggableIndex:lZ,newIndex:cZ,newDraggableIndex:uZ},e))}var QJ,eZ,tZ,nZ,rZ,oZ,iZ,aZ,sZ,cZ,lZ,uZ,dZ,hZ,pZ,fZ,mZ,gZ,vZ,yZ,_Z,EZ,bZ,TZ,SZ,wZ=!1,CZ=!1,RZ=[],IZ=!1,AZ=!1,OZ=[],NZ=!1,kZ=[],DZ="undefined"!=typeof document,xZ=gJ,PZ=pJ||hJ?"cssFloat":"float",MZ=DZ&&!vJ&&!gJ&&"draggable"in document.createElement("div"),LZ=function(){if(DZ){if(hJ)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),UZ=function(e,t){var n=IJ(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=xJ(e,0,t),i=xJ(e,1,t),a=o&&IJ(o),s=i&&IJ(i),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+kJ(o).width,l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+kJ(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||c>=r&&"none"===n[PZ]||i&&"none"===n[PZ]&&c+l>r)?"vertical":"horizontal"},jZ=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var c=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===c||e.join&&e.indexOf(c)>-1}}var n={},r=e.group;r&&"object"==iJ(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},VZ=function(){!LZ&&tZ&&IJ(tZ,"display","none")},BZ=function(){!LZ&&tZ&&IJ(tZ,"display","")};DZ&&document.addEventListener("click",(function(e){if(CZ)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),CZ=!1,!1}),!0);var zZ=function(e){if(QJ){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,i=e.clientY,RZ.some((function(e){var t=e[GJ].options.emptyInsertThreshold;if(t&&!PJ(e)){var n=kJ(e),r=o>=n.left-t&&o<=n.right+t,s=i>=n.top-t&&i<=n.bottom+t;return r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[GJ]._onDragOver(n)}}var o,i,a},FZ=function(e){QJ&&QJ.parentNode[GJ]._isOutsideThisEl(e.target)};function HZ(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=sJ({},t),e[GJ]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return UZ(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==HZ.supportPointer&&"PointerEvent"in window&&!mJ,emptyInsertThreshold:5};for(var r in YJ.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in jZ(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&MZ,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?_J(e,"pointerdown",this._onTapStart):(_J(e,"mousedown",this._onTapStart),_J(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(_J(e,"dragover",this),_J(e,"dragenter",this)),RZ.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),sJ(this,WJ())}function GZ(e,t,n,r,o,i,a,s){var c,l,u=e[GJ],d=u.options.onMove;return!window.CustomEvent||hJ||pJ?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=o||t,c.relatedRect=i||kJ(t),c.willInsertAfter=s,c.originalEvent=a,e.dispatchEvent(c),d&&(l=d.call(u,c,a)),l}function WZ(e){e.draggable=!1}function qZ(){NZ=!1}function KZ(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function YZ(e){return setTimeout(e,0)}function XZ(e){return clearTimeout(e)}HZ.prototype={constructor:HZ,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(EZ=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,QJ):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,l=r.filter;if(function(e){kZ.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&kZ.push(r)}}(n),!QJ&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!mJ||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=SJ(s,r.draggable,n,!1))&&s.animated||oZ===s)){if(sZ=MJ(s),lZ=MJ(s,r.draggable),"function"==typeof l){if(l.call(this,e,s,this))return ZJ({sortable:t,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),JJ("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(l&&(l=l.split(",").some((function(r){if(r=SJ(c,r.trim(),n,!1))return ZJ({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),JJ("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!SJ(c,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!QJ&&n.parentNode===i){var c=kJ(n);if(nZ=i,eZ=(QJ=n).parentNode,rZ=QJ.nextSibling,oZ=n,dZ=a.group,HZ.dragged=QJ,pZ={target:QJ,clientX:(t||e).clientX,clientY:(t||e).clientY},vZ=pZ.clientX-c.left,yZ=pZ.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,QJ.style["will-change"]="all",r=function(){JJ("delayEnded",o,{evt:e}),HZ.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!fJ&&o.nativeDraggable&&(QJ.draggable=!0),o._triggerDragStart(e,t),ZJ({sortable:o,name:"choose",originalEvent:e}),RJ(QJ,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){OJ(QJ,e.trim(),WZ)})),_J(s,"dragover",zZ),_J(s,"mousemove",zZ),_J(s,"touchmove",zZ),_J(s,"mouseup",o._onDrop),_J(s,"touchend",o._onDrop),_J(s,"touchcancel",o._onDrop),fJ&&this.nativeDraggable&&(this.options.touchStartThreshold=4,QJ.draggable=!0),JJ("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(pJ||hJ))r();else{if(HZ.eventCanceled)return void this._onDrop();_J(s,"mouseup",o._disableDelayedDrag),_J(s,"touchend",o._disableDelayedDrag),_J(s,"touchcancel",o._disableDelayedDrag),_J(s,"mousemove",o._delayedDragTouchMoveHandler),_J(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&_J(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){QJ&&WZ(QJ),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;EJ(e,"mouseup",this._disableDelayedDrag),EJ(e,"touchend",this._disableDelayedDrag),EJ(e,"touchcancel",this._disableDelayedDrag),EJ(e,"mousemove",this._delayedDragTouchMoveHandler),EJ(e,"touchmove",this._delayedDragTouchMoveHandler),EJ(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?_J(document,"pointermove",this._onTouchMove):_J(document,t?"touchmove":"mousemove",this._onTouchMove):(_J(QJ,"dragend",this),_J(nZ,"dragstart",this._onDragStart));try{document.selection?YZ((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(wZ=!1,nZ&&QJ){JJ("dragStarted",this,{evt:t}),this.nativeDraggable&&_J(document,"dragover",FZ);var n=this.options;!e&&RJ(QJ,n.dragClass,!1),RJ(QJ,n.ghostClass,!0),HZ.active=this,e&&this._appendGhost(),ZJ({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(fZ){this._lastX=fZ.clientX,this._lastY=fZ.clientY,VZ();for(var e=document.elementFromPoint(fZ.clientX,fZ.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(fZ.clientX,fZ.clientY))!==t;)t=e;if(QJ.parentNode[GJ]._isOutsideThisEl(e),t)do{if(t[GJ]){if(t[GJ]._onDragOver({clientX:fZ.clientX,clientY:fZ.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);BZ()}},_onTouchMove:function(e){if(pZ){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=tZ&&AJ(tZ,!0),a=tZ&&i&&i.a,s=tZ&&i&&i.d,c=xZ&&SZ&&LJ(SZ),l=(o.clientX-pZ.clientX+r.x)/(a||1)+(c?c[0]-OZ[0]:0)/(a||1),u=(o.clientY-pZ.clientY+r.y)/(s||1)+(c?c[1]-OZ[1]:0)/(s||1);if(!HZ.active&&!wZ){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(tZ){i?(i.e+=l-(mZ||0),i.f+=u-(gZ||0)):i={a:1,b:0,c:0,d:1,e:l,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");IJ(tZ,"webkitTransform",d),IJ(tZ,"mozTransform",d),IJ(tZ,"msTransform",d),IJ(tZ,"transform",d),mZ=l,gZ=u,fZ=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!tZ){var e=this.options.fallbackOnBody?document.body:nZ,t=kJ(QJ,!0,xZ,!0,e),n=this.options;if(xZ){for(SZ=e;"static"===IJ(SZ,"position")&&"none"===IJ(SZ,"transform")&&SZ!==document;)SZ=SZ.parentNode;SZ!==document.body&&SZ!==document.documentElement?(SZ===document&&(SZ=NJ()),t.top+=SZ.scrollTop,t.left+=SZ.scrollLeft):SZ=NJ(),OZ=LJ(SZ)}RJ(tZ=QJ.cloneNode(!0),n.ghostClass,!1),RJ(tZ,n.fallbackClass,!0),RJ(tZ,n.dragClass,!0),IJ(tZ,"transition",""),IJ(tZ,"transform",""),IJ(tZ,"box-sizing","border-box"),IJ(tZ,"margin",0),IJ(tZ,"top",t.top),IJ(tZ,"left",t.left),IJ(tZ,"width",t.width),IJ(tZ,"height",t.height),IJ(tZ,"opacity","0.8"),IJ(tZ,"position",xZ?"absolute":"fixed"),IJ(tZ,"zIndex","100000"),IJ(tZ,"pointerEvents","none"),HZ.ghost=tZ,e.appendChild(tZ),IJ(tZ,"transform-origin",vZ/parseInt(tZ.style.width)*100+"% "+yZ/parseInt(tZ.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;JJ("dragStart",this,{evt:e}),HZ.eventCanceled?this._onDrop():(JJ("setupClone",this),HZ.eventCanceled||((iZ=zJ(QJ)).draggable=!1,iZ.style["will-change"]="",this._hideClone(),RJ(iZ,this.options.chosenClass,!1),HZ.clone=iZ),n.cloneId=YZ((function(){JJ("clone",n),HZ.eventCanceled||(n.options.removeCloneOnHide||nZ.insertBefore(iZ,QJ),n._hideClone(),ZJ({sortable:n,name:"clone"}))})),!t&&RJ(QJ,o.dragClass,!0),t?(CZ=!0,n._loopId=setInterval(n._emulateDragOver,50)):(EJ(document,"mouseup",n._onDrop),EJ(document,"touchend",n._onDrop),EJ(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,QJ)),_J(document,"drop",n),IJ(QJ,"transform","translateZ(0)")),wZ=!0,n._dragStartId=YZ(n._dragStarted.bind(n,t,e)),_J(document,"selectstart",n),_Z=!0,mJ&&IJ(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,a=e.target,s=this.options,c=s.group,l=HZ.active,u=dZ===c,d=s.sort,h=hZ||l,p=this,f=!1;if(!NZ){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=SJ(a,s.draggable,i,!0),O("dragOver"),HZ.eventCanceled)return f;if(QJ.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return k(!1);if(CZ=!1,l&&!s.disabled&&(u?d||(r=eZ!==nZ):hZ===this||(this.lastPutMode=dZ.checkPull(this,l,QJ,e))&&c.checkPut(this,l,QJ,e))){if(o="vertical"===this._getDirection(e,a),t=kJ(QJ),O("dragOverValid"),HZ.eventCanceled)return f;if(r)return eZ=nZ,N(),this._hideClone(),O("revert"),HZ.eventCanceled||(rZ?nZ.insertBefore(QJ,rZ):nZ.appendChild(QJ)),k(!0);var m=PJ(i,s.draggable);if(!m||function(e,t,n){var r=kJ(PJ(n.el,n.options.draggable)),o=10;return t?e.clientX>r.right+o||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+o}(e,o,this)&&!m.animated){if(m===QJ)return k(!1);if(m&&i===e.target&&(a=m),a&&(n=kJ(a)),!1!==GZ(nZ,i,QJ,t,a,n,e,!!a))return N(),i.appendChild(QJ),eZ=i,D(),k(!0)}else if(m&&function(e,t,n){var r=kJ(xJ(n.el,0,n.options,!0)),o=10;return t?e.clientX<r.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-o||e.clientY<r.bottom&&e.clientX<r.left}(e,o,this)){var g=xJ(i,0,s,!0);if(g===QJ)return k(!1);if(n=kJ(a=g),!1!==GZ(nZ,i,QJ,t,a,n,e,!1))return N(),i.insertBefore(QJ,g),eZ=i,D(),k(!0)}else if(a.parentNode===i){n=kJ(a);var v,y,_,E=QJ.parentNode!==i,b=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,c=n?t.width:t.height;return r===a||o===s||r+i/2===a+c/2}(QJ.animated&&QJ.toRect||t,a.animated&&a.toRect||n,o),T=o?"top":"left",S=DJ(a,"top","top")||DJ(QJ,"top","top"),w=S?S.scrollTop:void 0;if(EZ!==a&&(y=n[T],IZ=!1,AZ=!b&&s.invertSwap||E),v=function(e,t,n,r,o,i,a,s){var c=r?e.clientY:e.clientX,l=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!a)if(s&&TZ<l*o){if(!IZ&&(1===bZ?c>u+l*i/2:c<d-l*i/2)&&(IZ=!0),IZ)h=!0;else if(1===bZ?c<u+TZ:c>d-TZ)return-bZ}else if(c>u+l*(1-o)/2&&c<d-l*(1-o)/2)return function(e){return MJ(QJ)<MJ(e)?1:-1}(t);if((h=h||a)&&(c<u+l*i/2||c>d-l*i/2))return c>u+l/2?1:-1;return 0}(e,a,n,o,b?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,AZ,EZ===a),0!==v){var C=MJ(QJ);do{C-=v,_=eZ.children[C]}while(_&&("none"===IJ(_,"display")||_===tZ))}if(0===v||_===a)return k(!1);EZ=a,bZ=v;var R=a.nextElementSibling,I=!1,A=GZ(nZ,i,QJ,t,a,n,e,I=1===v);if(!1!==A)return 1!==A&&-1!==A||(I=1===A),NZ=!0,setTimeout(qZ,30),N(),I&&!R?i.appendChild(QJ):a.parentNode.insertBefore(QJ,I?R:a),S&&BJ(S,0,w-S.scrollTop),eZ=QJ.parentNode,void 0===y||AZ||(TZ=Math.abs(y-kJ(a)[T])),D(),k(!0)}if(i.contains(QJ))return k(!1)}return!1}function O(s,c){JJ(s,p,oJ({evt:e,isOwner:u,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:h,target:a,completed:k,onMove:function(n,r){return GZ(nZ,i,QJ,t,n,kJ(n),e,r)},changed:D},c))}function N(){O("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function k(t){return O("dragOverCompleted",{insertion:t}),t&&(u?l._hideClone():l._showClone(p),p!==h&&(RJ(QJ,hZ?hZ.options.ghostClass:l.options.ghostClass,!1),RJ(QJ,s.ghostClass,!0)),hZ!==p&&p!==HZ.active?hZ=p:p===HZ.active&&hZ&&(hZ=null),h===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){O("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===QJ&&!QJ.animated||a===i&&!a.animated)&&(EZ=null),s.dragoverBubble||e.rootEl||a===document||(QJ.parentNode[GJ]._isOutsideThisEl(e.target),!t&&zZ(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function D(){cZ=MJ(QJ),uZ=MJ(QJ,s.draggable),ZJ({sortable:p,name:"change",toEl:i,newIndex:cZ,newDraggableIndex:uZ,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){EJ(document,"mousemove",this._onTouchMove),EJ(document,"touchmove",this._onTouchMove),EJ(document,"pointermove",this._onTouchMove),EJ(document,"dragover",zZ),EJ(document,"mousemove",zZ),EJ(document,"touchmove",zZ)},_offUpEvents:function(){var e=this.el.ownerDocument;EJ(e,"mouseup",this._onDrop),EJ(e,"touchend",this._onDrop),EJ(e,"pointerup",this._onDrop),EJ(e,"touchcancel",this._onDrop),EJ(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;cZ=MJ(QJ),uZ=MJ(QJ,n.draggable),JJ("drop",this,{evt:e}),eZ=QJ&&QJ.parentNode,cZ=MJ(QJ),uZ=MJ(QJ,n.draggable),HZ.eventCanceled||(wZ=!1,AZ=!1,IZ=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),XZ(this.cloneId),XZ(this._dragStartId),this.nativeDraggable&&(EJ(document,"drop",this),EJ(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),mJ&&IJ(document.body,"user-select",""),IJ(QJ,"transform",""),e&&(_Z&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),tZ&&tZ.parentNode&&tZ.parentNode.removeChild(tZ),(nZ===eZ||hZ&&"clone"!==hZ.lastPutMode)&&iZ&&iZ.parentNode&&iZ.parentNode.removeChild(iZ),QJ&&(this.nativeDraggable&&EJ(QJ,"dragend",this),WZ(QJ),QJ.style["will-change"]="",_Z&&!wZ&&RJ(QJ,hZ?hZ.options.ghostClass:this.options.ghostClass,!1),RJ(QJ,this.options.chosenClass,!1),ZJ({sortable:this,name:"unchoose",toEl:eZ,newIndex:null,newDraggableIndex:null,originalEvent:e}),nZ!==eZ?(cZ>=0&&(ZJ({rootEl:eZ,name:"add",toEl:eZ,fromEl:nZ,originalEvent:e}),ZJ({sortable:this,name:"remove",toEl:eZ,originalEvent:e}),ZJ({rootEl:eZ,name:"sort",toEl:eZ,fromEl:nZ,originalEvent:e}),ZJ({sortable:this,name:"sort",toEl:eZ,originalEvent:e})),hZ&&hZ.save()):cZ!==sZ&&cZ>=0&&(ZJ({sortable:this,name:"update",toEl:eZ,originalEvent:e}),ZJ({sortable:this,name:"sort",toEl:eZ,originalEvent:e})),HZ.active&&(null!=cZ&&-1!==cZ||(cZ=sZ,uZ=lZ),ZJ({sortable:this,name:"end",toEl:eZ,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){JJ("nulling",this),nZ=QJ=eZ=tZ=rZ=iZ=oZ=aZ=pZ=fZ=_Z=cZ=uZ=sZ=lZ=EZ=bZ=hZ=dZ=HZ.dragged=HZ.ghost=HZ.clone=HZ.active=null,kZ.forEach((function(e){e.checked=!0})),kZ.length=mZ=gZ=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":QJ&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)SJ(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||KZ(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];SJ(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return SJ(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=YJ.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&jZ(n)},destroy:function(){JJ("destroy",this);var e=this.el;e[GJ]=null,EJ(e,"mousedown",this._onTapStart),EJ(e,"touchstart",this._onTapStart),EJ(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(EJ(e,"dragover",this),EJ(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),RZ.splice(RZ.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!aZ){if(JJ("hideClone",this),HZ.eventCanceled)return;IJ(iZ,"display","none"),this.options.removeCloneOnHide&&iZ.parentNode&&iZ.parentNode.removeChild(iZ),aZ=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(aZ){if(JJ("showClone",this),HZ.eventCanceled)return;QJ.parentNode!=nZ||this.options.group.revertClone?rZ?nZ.insertBefore(iZ,rZ):nZ.appendChild(iZ):nZ.insertBefore(iZ,QJ),this.options.group.revertClone&&this.animate(QJ,iZ),IJ(iZ,"display",""),aZ=!1}}else this._hideClone()}},DZ&&_J(document,"touchmove",(function(e){(HZ.active||wZ)&&e.cancelable&&e.preventDefault()})),HZ.utils={on:_J,off:EJ,css:IJ,find:OJ,is:function(e,t){return!!SJ(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:VJ,closest:SJ,toggleClass:RJ,clone:zJ,index:MJ,nextTick:YZ,cancelNextTick:XZ,detectDirection:UZ,getChild:xJ},HZ.get=function(e){return e[GJ]},HZ.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(HZ.utils=oJ(oJ({},HZ.utils),e.utils)),YJ.mount(e)}))},HZ.create=function(e,t){return new HZ(e,t)},HZ.version="1.14.0";var $Z,JZ,ZZ,QZ,eQ,tQ,nQ=[],rQ=!1;function oQ(){nQ.forEach((function(e){clearInterval(e.pid)})),nQ=[]}function iQ(){clearInterval(tQ)}var aQ,sQ=VJ((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,c=t.scrollSpeed,l=NJ(),u=!1;JZ!==n&&(JZ=n,oQ(),$Z=t.scroll,o=t.scrollFn,!0===$Z&&($Z=UJ(n,!0)));var d=0,h=$Z;do{var p=h,f=kJ(p),m=f.top,g=f.bottom,v=f.left,y=f.right,_=f.width,E=f.height,b=void 0,T=void 0,S=p.scrollWidth,w=p.scrollHeight,C=IJ(p),R=p.scrollLeft,I=p.scrollTop;p===l?(b=_<S&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),T=E<w&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(b=_<S&&("auto"===C.overflowX||"scroll"===C.overflowX),T=E<w&&("auto"===C.overflowY||"scroll"===C.overflowY));var A=b&&(Math.abs(y-i)<=s&&R+_<S)-(Math.abs(v-i)<=s&&!!R),O=T&&(Math.abs(g-a)<=s&&I+E<w)-(Math.abs(m-a)<=s&&!!I);if(!nQ[d])for(var N=0;N<=d;N++)nQ[N]||(nQ[N]={});nQ[d].vx==A&&nQ[d].vy==O&&nQ[d].el===p||(nQ[d].el=p,nQ[d].vx=A,nQ[d].vy=O,clearInterval(nQ[d].pid),0==A&&0==O||(u=!0,nQ[d].pid=setInterval(function(){r&&0===this.layer&&HZ.active._onTouchMove(eQ);var t=nQ[this.layer].vy?nQ[this.layer].vy*c:0,n=nQ[this.layer].vx?nQ[this.layer].vx*c:0;"function"==typeof o&&"continue"!==o.call(HZ.dragged.parentNode[GJ],n,t,e,eQ,nQ[this.layer].el)||BJ(nQ[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==l&&(h=UJ(h,!1)));rQ=u}}),30),cQ=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=n||o;a();var l=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(l.clientX,l.clientY);s(),c&&!c.el.contains(u)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function lQ(){}function uQ(){}lQ.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=xJ(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:cQ},sJ(lQ,{pluginName:"revertOnSpill"}),uQ.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:cQ},sJ(uQ,{pluginName:"removeOnSpill"});var dQ,hQ,pQ,fQ,mQ,gQ=[],vQ=[],yQ=!1,_Q=!1,EQ=!1;function bQ(e,t){vQ.forEach((function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)}))}function TQ(){gQ.forEach((function(e){e!==pQ&&e.parentNode&&e.parentNode.removeChild(e)}))}HZ.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?_J(document,"dragover",this._handleAutoScroll):this.options.supportPointer?_J(document,"pointermove",this._handleFallbackAutoScroll):t.touches?_J(document,"touchmove",this._handleFallbackAutoScroll):_J(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?EJ(document,"dragover",this._handleAutoScroll):(EJ(document,"pointermove",this._handleFallbackAutoScroll),EJ(document,"touchmove",this._handleFallbackAutoScroll),EJ(document,"mousemove",this._handleFallbackAutoScroll)),iQ(),oQ(),clearTimeout(wJ),wJ=void 0},nulling:function(){eQ=JZ=$Z=rQ=tQ=ZZ=QZ=null,nQ.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(eQ=e,t||this.options.forceAutoScrollFallback||pJ||hJ||mJ){sQ(e,this.options,i,t);var a=UJ(i,!0);!rQ||tQ&&r===ZZ&&o===QZ||(tQ&&iQ(),tQ=setInterval((function(){var i=UJ(document.elementFromPoint(r,o),!0);i!==a&&(a=i,oQ()),sQ(e,n.options,i,t)}),10),ZZ=r,QZ=o)}else{if(!this.options.bubbleScroll||UJ(i,!0)===NJ())return void oQ();sQ(e,this.options,UJ(i,!1),!1)}}},sJ(e,{pluginName:"scroll",initializeByDefault:!0})}),HZ.mount(uQ,lQ);const SQ=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:function(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?_J(document,"pointerup",this._deselectMultiDrag):(_J(document,"mouseup",this._deselectMultiDrag),_J(document,"touchend",this._deselectMultiDrag)),_J(document,"keydown",this._checkKeyDown),_J(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";gQ.length&&hQ===e?gQ.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;pQ=t},delayEnded:function(){this.isMultiDrag=~gQ.indexOf(pQ)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<gQ.length;r++)vQ.push(zJ(gQ[r])),vQ[r].sortableIndex=gQ[r].sortableIndex,vQ[r].draggable=!1,vQ[r].style["will-change"]="",RJ(vQ[r],this.options.selectedClass,!1),gQ[r]===pQ&&RJ(vQ[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,o=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||gQ.length&&hQ===t&&(bQ(!0,n),r("clone"),o()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(bQ(!1,n),vQ.forEach((function(e){IJ(e,"display","")})),t(),mQ=!1,r())},hideClone:function(e){var t=this;e.sortable;var n=e.cloneNowHidden,r=e.cancel;this.isMultiDrag&&(vQ.forEach((function(e){IJ(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),mQ=!0,r())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&hQ&&hQ.multiDrag._deselectMultiDrag(),gQ.forEach((function(e){e.sortableIndex=MJ(e)})),gQ=gQ.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),EQ=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){gQ.forEach((function(e){e!==pQ&&IJ(e,"position","absolute")}));var r=kJ(pQ,!1,!0,!0);gQ.forEach((function(e){e!==pQ&&FJ(e,r)})),_Q=!0,yQ=!0}n.animateAll((function(){_Q=!1,yQ=!1,t.options.animation&&gQ.forEach((function(e){HJ(e)})),t.options.sort&&TQ()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;_Q&&~gQ.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,o=e.dragRect;gQ.length>1&&(gQ.forEach((function(e){r.addAnimationState({target:e,rect:_Q?kJ(e):o}),HJ(e),e.fromRect=o,t.removeAnimationState(e)})),_Q=!1,function(e,t){gQ.forEach((function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,o=e.activeSortable,i=e.parentEl,a=e.putSortable,s=this.options;if(r){if(n&&o._hideClone(),yQ=!1,s.animation&&gQ.length>1&&(_Q||!n&&!o.options.sort&&!a)){var c=kJ(pQ,!1,!0,!0);gQ.forEach((function(e){e!==pQ&&(FJ(e,c),i.appendChild(e))})),_Q=!0}if(!n)if(_Q||TQ(),gQ.length>1){var l=mQ;o._showClone(t),o.options.animation&&!mQ&&l&&vQ.forEach((function(e){o.addAnimationState({target:e,rect:fQ}),e.fromRect=fQ,e.thisAnimationDuration=null}))}else o._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(gQ.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){fQ=sJ({},t);var o=AJ(pQ,!0);fQ.top-=o.f,fQ.left-=o.e}},dragOverAnimationComplete:function(){_Q&&(_Q=!1,TQ())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,o=e.sortable,i=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,c=s||this.sortable;if(t){var l=this.options,u=r.children;if(!EQ)if(l.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),RJ(pQ,l.selectedClass,!~gQ.indexOf(pQ)),~gQ.indexOf(pQ))gQ.splice(gQ.indexOf(pQ),1),dQ=null,XJ({sortable:o,rootEl:n,name:"deselect",targetEl:pQ,originalEvt:t});else{if(gQ.push(pQ),XJ({sortable:o,rootEl:n,name:"select",targetEl:pQ,originalEvt:t}),t.shiftKey&&dQ&&o.el.contains(dQ)){var d,h,p=MJ(dQ),f=MJ(pQ);if(~p&&~f&&p!==f)for(f>p?(h=p,d=f):(h=f,d=p+1);h<d;h++)~gQ.indexOf(u[h])||(RJ(u[h],l.selectedClass,!0),gQ.push(u[h]),XJ({sortable:o,rootEl:n,name:"select",targetEl:u[h],originalEvt:t}))}else dQ=pQ;hQ=c}if(EQ&&this.isMultiDrag){if(_Q=!1,(r[GJ].options.sort||r!==n)&&gQ.length>1){var m=kJ(pQ),g=MJ(pQ,":not(."+this.options.selectedClass+")");if(!yQ&&l.animation&&(pQ.thisAnimationDuration=null),c.captureAnimationState(),!yQ&&(l.animation&&(pQ.fromRect=m,gQ.forEach((function(e){if(e.thisAnimationDuration=null,e!==pQ){var t=_Q?kJ(e):m;e.fromRect=t,c.addAnimationState({target:e,rect:t})}}))),TQ(),gQ.forEach((function(e){u[g]?r.insertBefore(e,u[g]):r.appendChild(e),g++})),a===MJ(pQ))){var v=!1;gQ.forEach((function(e){e.sortableIndex===MJ(e)||(v=!0)})),v&&i("update")}gQ.forEach((function(e){HJ(e)})),c.animateAll()}hQ=c}(n===r||s&&"clone"!==s.lastPutMode)&&vQ.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=EQ=!1,vQ.length=0},destroyGlobal:function(){this._deselectMultiDrag(),EJ(document,"pointerup",this._deselectMultiDrag),EJ(document,"mouseup",this._deselectMultiDrag),EJ(document,"touchend",this._deselectMultiDrag),EJ(document,"keydown",this._checkKeyDown),EJ(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==EQ&&EQ||hQ!==this.sortable||e&&SJ(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;gQ.length;){var t=gQ[0];RJ(t,this.options.selectedClass,!1),gQ.shift(),XJ({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},sJ(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[GJ];t&&t.options.multiDrag&&!~gQ.indexOf(e)&&(hQ&&hQ!==t&&(hQ.multiDrag._deselectMultiDrag(),hQ=t),RJ(e,t.options.selectedClass,!0),gQ.push(e))},deselect:function(e){var t=e.parentNode[GJ],n=gQ.indexOf(e);t&&t.options.multiDrag&&~n&&(RJ(e,t.options.selectedClass,!1),gQ.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return gQ.forEach((function(r){var o;t.push({multiDragElement:r,index:r.sortableIndex}),o=_Q&&r!==pQ?-1:_Q?MJ(r,":not(."+e.options.selectedClass+")"):MJ(r),n.push({multiDragElement:r,index:o})})),{items:lJ(gQ),clones:[].concat(vQ),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})},Sortable:HZ,Swap:function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;aQ=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,o=e.activeSortable,i=e.changed,a=e.cancel;if(o.options.swap){var s=this.sortable.el,c=this.options;if(n&&n!==s){var l=aQ;!1!==r(n)?(RJ(n,c.swapClass,!0),aQ=n):aQ=null,l&&l!==aQ&&RJ(l,c.swapClass,!1)}i(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,o=n||this.sortable,i=this.options;aQ&&RJ(aQ,i.swapClass,!1),aQ&&(i.swap||n&&n.options.swap)&&r!==aQ&&(o.captureAnimationState(),o!==t&&t.captureAnimationState(),function(e,t){var n,r,o=e.parentNode,i=t.parentNode;if(!o||!i||o.isEqualNode(t)||i.isEqualNode(e))return;n=MJ(e),r=MJ(t),o.isEqualNode(i)&&n<r&&r++;o.insertBefore(t,o.children[n]),i.insertBefore(e,i.children[r])}(r,aQ),o.animateAll(),o!==t&&t.animateAll())},nulling:function(){aQ=null}},sJ(e,{pluginName:"swap",eventProperties:function(){return{swapItem:aQ}}})},default:HZ},Symbol.toStringTag,{value:"Module"}));var wQ;"undefined"!=typeof self&&self,wQ=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00ee":function(e,t,n){var r={};r[n("b622")("toStringTag")]="z",e.exports="[object z]"===String(r)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,n){var r=n("fc6a"),o=n("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(r(e))}},"06cf":function(e,t,n){var r=n("83ab"),o=n("d1e7"),i=n("5c6c"),a=n("fc6a"),s=n("c04e"),c=n("5135"),l=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=a(e),t=s(t,!0),l)try{return u(e,t)}catch(n){}if(c(e,t))return i(!o.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("cc12");e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"13d5":function(e,t,n){var r=n("23e7"),o=n("d58f").left,i=n("a640"),a=n("ae40"),s=i("reduce"),c=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!c},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,n){var r=n("c6b6"),o=n("9263");e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),o=n("fdbc"),i=n("17c2"),a=n("9112");for(var s in o){var c=r[s],l=c&&c.prototype;if(l&&l.forEach!==i)try{a(l,"forEach",i)}catch(u){l.forEach=i}}},"17c2":function(e,t,n){var r=n("b727").forEach,o=n("a640"),i=n("ae40"),a=o("forEach"),s=i("forEach");e.exports=a&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622")("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(s){}return n}},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,n){var r=n("a691"),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},"23e7":function(e,t,n){var r=n("da84"),o=n("06cf").f,i=n("9112"),a=n("6eeb"),s=n("ce4e"),c=n("e893"),l=n("94ca");e.exports=function(e,t){var n,u,d,h,p,f=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[f]||s(f,{}):(r[f]||{}).prototype)for(u in t){if(h=t[u],d=e.noTargetGet?(p=o(n,u))&&p.value:n[u],!l(m?u:f+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&i(h,"sham",!0),a(n,u,h,e)}}},"241c":function(e,t,n){var r=n("ca84"),o=n("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"25f0":function(e,t,n){var r=n("6eeb"),o=n("825a"),i=n("d039"),a=n("ad6d"),s="toString",c=RegExp.prototype,l=c[s],u=i((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=s;(u||d)&&r(RegExp.prototype,s,(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in c)?a.call(e):n)}),{unsafe:!0})},"2ca0":function(e,t,n){var r,o=n("23e7"),i=n("06cf").f,a=n("50c4"),s=n("5a34"),c=n("1d80"),l=n("ab13"),u=n("c430"),d="".startsWith,h=Math.min,p=l("startsWith");o({target:"String",proto:!0,forced:!(!u&&!p&&(r=i(String.prototype,"startsWith"),r&&!r.writable)||p)},{startsWith:function(e){var t=String(c(this));s(e);var n=a(h(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return d?d.call(t,r,n):t.slice(n,n+r.length)===r}})},"2d00":function(e,t,n){var r,o,i=n("da84"),a=n("342f"),s=i.process,c=s&&s.versions,l=c&&c.v8;l?o=(r=l.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),o=n("3f8c"),i=n("b622")("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("825a"),a=n("df75");e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),s=r.length,c=0;s>c;)o.f(e,n=r[c++],t[n]);return e}},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){var r=n("6547").charAt,o=n("69f3"),i=n("7dd0"),a="String Iterator",s=o.set,c=o.getterFor(a);i(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},4160:function(e,t,n){var r=n("23e7"),o=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"428f":function(e,t,n){var r=n("da84");e.exports=r},"44ad":function(e,t,n){var r=n("d039"),o=n("c6b6"),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),o=n("7c73"),i=n("9bf2"),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},"44e7":function(e,t,n){var r=n("861d"),o=n("c6b6"),i=n("b622")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4d64":function(e,t,n){var r=n("fc6a"),o=n("50c4"),i=n("23cb"),a=function(e){return function(t,n,a){var s,c=r(t),l=o(c.length),u=i(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"4de4":function(e,t,n){var r=n("23e7"),o=n("b727").filter,i=n("1dde"),a=n("ae40"),s=i("filter"),c=a("filter");r({target:"Array",proto:!0,forced:!s||!c},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){var r=n("0366"),o=n("7b0b"),i=n("9bdd"),a=n("e95a"),s=n("50c4"),c=n("8418"),l=n("35a1");e.exports=function(e){var t,n,u,d,h,p,f=o(e),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,_=l(f),E=0;if(y&&(v=r(v,g>2?arguments[2]:void 0,2)),null==_||m==Array&&a(_))for(n=new m(t=s(f.length));t>E;E++)p=y?v(f[E],E):f[E],c(n,E,p);else for(h=(d=_.call(f)).next,n=new m;!(u=h.call(d)).done;E++)p=y?i(d,v,[u.value,E],!0):u.value,c(n,E,p);return n.length=E,n}},"4fad":function(e,t,n){var r=n("23e7"),o=n("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},"50c4":function(e,t,n){var r=n("a691"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5319:function(e,t,n){var r=n("d784"),o=n("825a"),i=n("7b0b"),a=n("50c4"),s=n("a691"),c=n("1d80"),l=n("8aa5"),u=n("14c3"),d=Math.max,h=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,y=g?"$":"$0";return[function(n,r){var o=c(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!g&&v||"string"==typeof r&&-1===r.indexOf(y)){var i=n(t,e,this,r);if(i.done)return i.value}var c=o(e),p=String(this),f="function"==typeof r;f||(r=String(r));var m=c.global;if(m){var E=c.unicode;c.lastIndex=0}for(var b=[];;){var T=u(c,p);if(null===T)break;if(b.push(T),!m)break;""===String(T[0])&&(c.lastIndex=l(p,a(c.lastIndex),E))}for(var S,w="",C=0,R=0;R<b.length;R++){T=b[R];for(var I=String(T[0]),A=d(h(s(T.index),p.length),0),O=[],N=1;N<T.length;N++)O.push(void 0===(S=T[N])?S:String(S));var k=T.groups;if(f){var D=[I].concat(O,A,p);void 0!==k&&D.push(k);var x=String(r.apply(void 0,D))}else x=_(I,p,A,O,k,r);A>=C&&(w+=p.slice(C,A)+x,C=A+I.length)}return w+p.slice(C)}];function _(e,n,r,o,a,s){var c=r+e.length,l=o.length,u=m;return void 0!==a&&(a=i(a),u=f),t.call(s,u,(function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return t;if(u>l){var d=p(u/10);return 0===d?t:d<=l?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):t}s=o[u-1]}return void 0===s?"":s}))}}))},5692:function(e,t,n){var r=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),o=n("241c"),i=n("7418"),a=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5db7":function(e,t,n){var r=n("23e7"),o=n("a2bf"),i=n("7b0b"),a=n("50c4"),s=n("1c0b"),c=n("65f0");r({target:"Array",proto:!0},{flatMap:function(e){var t,n=i(this),r=a(n.length);return s(e),(t=c(n,0)).length=o(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6547:function(e,t,n){var r=n("a691"),o=n("1d80"),i=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},"65f0":function(e,t,n){var r=n("861d"),o=n("e8b5"),i=n("b622")("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var r,o,i,a=n("7f9a"),s=n("da84"),c=n("861d"),l=n("9112"),u=n("5135"),d=n("f772"),h=n("d012"),p=s.WeakMap;if(a){var f=new p,m=f.get,g=f.has,v=f.set;r=function(e,t){return v.call(f,e,t),t},o=function(e){return m.call(f,e)||{}},i=function(e){return g.call(f,e)}}else{var y=d("state");h[y]=!0,r=function(e,t){return l(e,y,t),t},o=function(e){return u(e,y)?e[y]:{}},i=function(e){return u(e,y)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"6eeb":function(e,t,n){var r=n("da84"),o=n("9112"),i=n("5135"),a=n("ce4e"),s=n("8925"),c=n("69f3"),l=c.get,u=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==r?(c?!h&&e[t]&&(l=!0):delete e[t],l?e[t]=n:o(e,t,n)):l?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},"6f53":function(e,t,n){var r=n("83ab"),o=n("df75"),i=n("fc6a"),a=n("d1e7").f,s=function(e){return function(t){for(var n,s=i(t),c=o(s),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},"73d9":function(e,t,n){n("44d2")("flatMap")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),o=n("5135"),i=n("e538"),a=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,o=n("825a"),i=n("37e8"),a=n("7839"),s=n("d012"),c=n("1be4"),l=n("cc12"),u=n("f772"),d="prototype",h="script",p=u("IE_PROTO"),f=function(){},m=function(e){return"<"+h+">"+e+"</"+h+">"},g=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(i){}var e,t,n;g=r?function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):(t=l("iframe"),n="java"+h+":",t.style.display="none",c.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F);for(var o=a.length;o--;)delete g[d][a[o]];return g()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f[d]=o(e),n=new f,f[d]=null,n[p]=e):n=g(),void 0===t?n:i(n,t)}},"7dd0":function(e,t,n){var r=n("23e7"),o=n("9ed3"),i=n("e163"),a=n("d2bb"),s=n("d44e"),c=n("9112"),l=n("6eeb"),u=n("b622"),d=n("c430"),h=n("3f8c"),p=n("ae93"),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v="keys",y="values",_="entries",E=function(){return this};e.exports=function(e,t,n,u,p,b,T){o(n,t,u);var S,w,C,R=function(e){if(e===p&&k)return k;if(!m&&e in O)return O[e];switch(e){case v:case y:case _:return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",A=!1,O=e.prototype,N=O[g]||O["@@iterator"]||p&&O[p],k=!m&&N||R(p),D="Array"==t&&O.entries||N;if(D&&(S=i(D.call(new e)),f!==Object.prototype&&S.next&&(d||i(S)===f||(a?a(S,f):"function"!=typeof S[g]&&c(S,g,E)),s(S,I,!0,!0),d&&(h[I]=E))),p==y&&N&&N.name!==y&&(A=!0,k=function(){return N.call(this)}),d&&!T||O[g]===k||c(O,g,k),h[t]=k,p)if(w={values:R(y),keys:b?k:R(v),entries:R(_)},T)for(C in w)(m||A||!(C in O))&&l(O,C,w[C]);else r({target:t,proto:!0,forced:m||A},w);return w}},"7f9a":function(e,t,n){var r=n("da84"),o=n("8925"),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){var r=n("c04e"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,n){var r,o,i;"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(r=function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(h){var n,r,o,i=/@([^@]*):(\d+):(\d+)\s*$/gi,a=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(h.stack)||i.exec(h.stack),s=a&&a[1]||!1,c=a&&a[2]||!1,l=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");s===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var d=0;d<u.length;d++){if("interactive"===u[d].readyState)return u[d];if(u[d].src===s)return u[d];if(s===l&&u[d].innerHTML&&u[d].innerHTML.trim()===o)return u[d]}return null}}return e})?r.apply(t,o):r)||(e.exports=i)},8925:function(e,t,n){var r=n("c6cd"),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},"8aa5":function(e,t,n){var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8bbf":function(t,n){t.exports=e},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("5c6c");e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9263:function(e,t,n){var r,o,i=n("ad6d"),a=n("9f7f"),s=RegExp.prototype.exec,c=String.prototype.replace,l=s,u=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),d=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(u||h||d)&&(l=function(e){var t,n,r,o,a=this,l=d&&a.sticky,p=i.call(a),f=a.source,m=0,g=e;return l&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,m++),n=new RegExp("^(?:"+f+")",p)),h&&(n=new RegExp("^"+f+"$(?!\\s)",p)),u&&(t=a.lastIndex),r=s.call(l?n:a,g),l?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:u&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),h&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=l},"94ca":function(e,t,n){var r=n("d039"),o=/#|\.prototype\./,i=function(e,t){var n=s[a(e)];return n==l||n!=c&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},"99af":function(e,t,n){var r=n("23e7"),o=n("d039"),i=n("e8b5"),a=n("861d"),s=n("7b0b"),c=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),h=n("b622"),p=n("2d00"),f=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=p>=51||!o((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),y=d("concat"),_=function(e){if(!a(e))return!1;var t=e[f];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!v||!y},{concat:function(e){var t,n,r,o,i,a=s(this),d=u(a,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(_(i=-1===t?a:arguments[t])){if(h+(o=c(i.length))>m)throw TypeError(g);for(n=0;n<o;n++,h++)n in i&&l(d,h,i[n])}else{if(h>=m)throw TypeError(g);l(d,h++,i)}return d.length=h,d}})},"9bdd":function(e,t,n){var r=n("825a");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e.return;throw void 0!==i&&r(i.call(e)),a}}},"9bf2":function(e,t,n){var r=n("83ab"),o=n("0cfb"),i=n("825a"),a=n("c04e"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){var r=n("ae93").IteratorPrototype,o=n("7c73"),i=n("5c6c"),a=n("d44e"),s=n("3f8c"),c=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,l,!1,!0),s[l]=c,e}},"9f7f":function(e,t,n){var r=n("d039");function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a2bf:function(e,t,n){var r=n("e8b5"),o=n("50c4"),i=n("0366"),a=function(e,t,n,s,c,l,u,d){for(var h,p=c,f=0,m=!!u&&i(u,d,3);f<s;){if(f in n){if(h=m?m(n[f],f,t):n[f],l>0&&r(h))p=a(e,t,h,o(h.length),p,l-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=h}p++}f++}return p};e.exports=a},a352:function(e,n){e.exports=t},a434:function(e,t,n){var r=n("23e7"),o=n("23cb"),i=n("a691"),a=n("50c4"),s=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),d=n("ae40"),h=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!h||!p},{splice:function(e,t){var n,r,u,d,h,p,g=s(this),v=a(g.length),y=o(e,v),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=v-y):(n=_-2,r=m(f(i(t),0),v-y)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=c(g,r),d=0;d<r;d++)(h=y+d)in g&&l(u,d,g[h]);if(u.length=r,n<r){for(d=y;d<v-r;d++)p=d+n,(h=d+r)in g?g[p]=g[h]:delete g[p];for(d=v;d>v-r+n;d--)delete g[d-1]}else if(n>r)for(d=v-r;d>y;d--)p=d+n-1,(h=d+r-1)in g?g[p]=g[h]:delete g[p];for(d=0;d<n;d++)g[d+y]=arguments[d+2];return g.length=v-r+n,u}})},a4d3:function(e,t,n){var r=n("23e7"),o=n("da84"),i=n("d066"),a=n("c430"),s=n("83ab"),c=n("4930"),l=n("fdbf"),u=n("d039"),d=n("5135"),h=n("e8b5"),p=n("861d"),f=n("825a"),m=n("7b0b"),g=n("fc6a"),v=n("c04e"),y=n("5c6c"),_=n("7c73"),E=n("df75"),b=n("241c"),T=n("057f"),S=n("7418"),w=n("06cf"),C=n("9bf2"),R=n("d1e7"),I=n("9112"),A=n("6eeb"),O=n("5692"),N=n("f772"),k=n("d012"),D=n("90e3"),x=n("b622"),P=n("e538"),M=n("746f"),L=n("d44e"),U=n("69f3"),j=n("b727").forEach,V=N("hidden"),B="Symbol",z="prototype",F=x("toPrimitive"),H=U.set,G=U.getterFor(B),W=Object[z],q=o.Symbol,K=i("JSON","stringify"),Y=w.f,X=C.f,$=T.f,J=R.f,Z=O("symbols"),Q=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),ne=O("wks"),re=o.QObject,oe=!re||!re[z]||!re[z].findChild,ie=s&&u((function(){return 7!=_(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y(W,t);r&&delete W[t],X(e,t,n),r&&e!==W&&X(W,t,r)}:X,ae=function(e,t){var n=Z[e]=_(q[z]);return H(n,{type:B,tag:e,description:t}),s||(n.description=t),n},se=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},ce=function(e,t,n){e===W&&ce(Q,t,n),f(e);var r=v(t,!0);return f(n),d(Z,r)?(n.enumerable?(d(e,V)&&e[V][r]&&(e[V][r]=!1),n=_(n,{enumerable:y(0,!1)})):(d(e,V)||X(e,V,y(1,{})),e[V][r]=!0),ie(e,r,n)):X(e,r,n)},le=function(e,t){f(e);var n=g(t),r=E(n).concat(pe(n));return j(r,(function(t){s&&!ue.call(n,t)||ce(e,t,n[t])})),e},ue=function(e){var t=v(e,!0),n=J.call(this,t);return!(this===W&&d(Z,t)&&!d(Q,t))&&(!(n||!d(this,t)||!d(Z,t)||d(this,V)&&this[V][t])||n)},de=function(e,t){var n=g(e),r=v(t,!0);if(n!==W||!d(Z,r)||d(Q,r)){var o=Y(n,r);return!o||!d(Z,r)||d(n,V)&&n[V][r]||(o.enumerable=!0),o}},he=function(e){var t=$(g(e)),n=[];return j(t,(function(e){d(Z,e)||d(k,e)||n.push(e)})),n},pe=function(e){var t=e===W,n=$(t?Q:g(e)),r=[];return j(n,(function(e){!d(Z,e)||t&&!d(W,e)||r.push(Z[e])})),r};c||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),n=function(e){this===W&&n.call(Q,e),d(this,V)&&d(this[V],t)&&(this[V][t]=!1),ie(this,t,y(1,e))};return s&&oe&&ie(W,t,{configurable:!0,set:n}),ae(t,e)},A(q[z],"toString",(function(){return G(this).tag})),A(q,"withoutSetter",(function(e){return ae(D(e),e)})),R.f=ue,C.f=ce,w.f=de,b.f=T.f=he,S.f=pe,P.f=function(e){return ae(x(e),e)},s&&(X(q[z],"description",{configurable:!0,get:function(){return G(this).description}}),a||A(W,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),j(E(ne),(function(e){M(e)})),r({target:B,stat:!0,forced:!c},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var n=q(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(e,t){return void 0===t?_(e):le(_(e),t)},defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),K&&r({target:"JSON",stat:!0,forced:!c||u((function(){var e=q();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}))},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(p(t)||void 0!==e)&&!se(e))return h(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),o[1]=t,K.apply(null,o)}}),q[z][F]||I(q[z],F,q[z].valueOf),L(q,B),k[V]=!0},a630:function(e,t,n){var r=n("23e7"),o=n("4df4");r({target:"Array",stat:!0,forced:!n("1c7e")((function(e){Array.from(e)}))},{from:o})},a640:function(e,t,n){var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},ab13:function(e,t,n){var r=n("b622")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(kk){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}},ac1f:function(e,t,n){var r=n("23e7"),o=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(e,t,n){var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("5135"),a=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var n=[][e],l=!!i(t,"ACCESSORS")&&t.ACCESSORS,u=i(t,0)?t[0]:c,d=i(t,1)?t[1]:void 0;return s[e]=!!n&&!o((function(){if(l&&!r)return!0;var e={length:-1};l?a(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,u,d)}))}},ae93:function(e,t,n){var r,o,i,a=n("e163"),s=n("9112"),c=n("5135"),l=n("b622"),u=n("c430"),d=l("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):h=!0),null==r&&(r={}),u||c(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},b041:function(e,t,n){var r=n("00ee"),o=n("f5df");e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),o=n("9bf2").f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in i)&&o(i,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},b622:function(e,t,n){var r=n("da84"),o=n("5692"),i=n("5135"),a=n("90e3"),s=n("4930"),c=n("fdbf"),l=o("wks"),u=r.Symbol,d=c?u:u&&u.withoutSetter||a;e.exports=function(e){return i(l,e)||(s&&i(u,e)?l[e]=u[e]:l[e]=d("Symbol."+e)),l[e]}},b64b:function(e,t,n){var r=n("23e7"),o=n("7b0b"),i=n("df75");r({target:"Object",stat:!0,forced:n("d039")((function(){i(1)}))},{keys:function(e){return i(o(e))}})},b727:function(e,t,n){var r=n("0366"),o=n("44ad"),i=n("7b0b"),a=n("50c4"),s=n("65f0"),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d;return function(p,f,m,g){for(var v,y,_=i(p),E=o(_),b=r(f,m,3),T=a(E.length),S=0,w=g||s,C=t?w(p,T):n?w(p,0):void 0;T>S;S++)if((h||S in E)&&(y=b(v=E[S],S,_),e))if(t)C[S]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:c.call(C,v)}else if(u)return!1;return d?-1:l||u?u:C}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),o=n("ce4e"),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},c740:function(e,t,n){var r=n("23e7"),o=n("b727").findIndex,i=n("44d2"),a=n("ae40"),s="findIndex",c=!0,l=a(s);s in[]&&Array(1)[s]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!l},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(kk){"object"==typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){var r=n("23e7"),o=n("4d64").indexOf,i=n("a640"),a=n("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,l=i("indexOf"),u=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(e){return c?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,n){var r=n("5135"),o=n("fc6a"),i=n("4d64").indexOf,a=n("d012");e.exports=function(e,t){var n,s=o(e),c=0,l=[];for(n in s)!r(a,n)&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(l,n)||l.push(n));return l}},caad:function(e,t,n){var r=n("23e7"),o=n("4d64").includes,i=n("44d2");r({target:"Array",proto:!0,forced:!n("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cc12:function(e,t,n){var r=n("da84"),o=n("861d"),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},ce4e:function(e,t,n){var r=n("da84"),o=n("9112");e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),o=n("da84"),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},d1e7:function(e,t,n){var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){n("746f")("iterator")},d2bb:function(e,t,n){var r=n("825a"),o=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(i){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),o=n("6eeb"),i=n("b041");r||o(Object.prototype,"toString",i,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,o=n("5135"),i=n("b622")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},d58f:function(e,t,n){var r=n("1c0b"),o=n("7b0b"),i=n("44ad"),a=n("50c4"),s=function(e){return function(t,n,s,c){r(n);var l=o(t),u=i(l),d=a(l.length),h=e?d-1:0,p=e?-1:1;if(s<2)for(;;){if(h in u){c=u[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in u&&(c=n(c,u[h],h,l));return c}};e.exports={left:s(!1),right:s(!0)}},d784:function(e,t,n){n("ac1f");var r=n("6eeb"),o=n("d039"),i=n("b622"),a=n("9263"),s=n("9112"),c=i("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=i("replace"),h=!!/./[d]&&""===/./[d]("a","$0"),p=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var f=i(e),m=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),g=m&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!m||!g||"replace"===e&&(!l||!u||h)||"split"===e&&!p){var v=/./[f],y=n(f,""[e],(function(e,t,n,r,o){return t.exec===a?m&&!o?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),_=y[0],E=y[1];r(String.prototype,e,_),r(RegExp.prototype,f,2==t?function(e,t){return E.call(e,this,t)}:function(e){return E.call(e,this)})}d&&s(RegExp.prototype[f],"sham",!0)}},d81d:function(e,t,n){var r=n("23e7"),o=n("b727").map,i=n("1dde"),a=n("ae40"),s=i("map"),c=a("map");r({target:"Array",proto:!0,forced:!s||!c},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var r=n("23e7"),o=n("83ab"),i=n("56ef"),a=n("fc6a"),s=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),o=s.f,l=i(r),u={},d=0;l.length>d;)void 0!==(n=o(r,t=l[d++]))&&c(u,t,n);return u}})},dbf1:function(e,t,n){(function(e){n.d(t,"a",(function(){return r}));var r="undefined"!=typeof window?window.console:e.console}).call(this,n("c8ba"))},ddb0:function(e,t,n){var r=n("da84"),o=n("fdbc"),i=n("e260"),a=n("9112"),s=n("b622"),c=s("iterator"),l=s("toStringTag"),u=i.values;for(var d in o){var h=r[d],p=h&&h.prototype;if(p){if(p[c]!==u)try{a(p,c,u)}catch(m){p[c]=u}if(p[l]||a(p,l,d),o[d])for(var f in i)if(p[f]!==i[f])try{a(p,f,i[f])}catch(m){p[f]=i[f]}}}},df75:function(e,t,n){var r=n("ca84"),o=n("7839");e.exports=Object.keys||function(e){return r(e,o)}},e01a:function(e,t,n){var r=n("23e7"),o=n("83ab"),i=n("da84"),a=n("5135"),s=n("861d"),c=n("9bf2").f,l=n("e893"),u=i.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};l(h,u);var p=h.prototype=u.prototype;p.constructor=h;var f=p.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(a(d,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},e163:function(e,t,n){var r=n("5135"),o=n("7b0b"),i=n("f772"),a=n("e177"),s=i("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){var r=n("fc6a"),o=n("44d2"),i=n("3f8c"),a=n("69f3"),s=n("7dd0"),c="Array Iterator",l=a.set,u=a.getterFor(c);e.exports=s(Array,"Array",(function(e,t){l(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},e439:function(e,t,n){var r=n("23e7"),o=n("d039"),i=n("fc6a"),a=n("06cf").f,s=n("83ab"),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r},e893:function(e,t,n){var r=n("5135"),o=n("56ef"),i=n("06cf"),a=n("9bf2");e.exports=function(e,t){for(var n=o(t),s=a.f,c=i.f,l=0;l<n.length;l++){var u=n[l];r(e,u)||s(e,u,c(t,u))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),o=n("3f8c"),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},f5df:function(e,t,n){var r=n("00ee"),o=n("c6b6"),i=n("b622")("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},f772:function(e,t,n){var r=n("5692"),o=n("90e3"),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},fb15:function(e,t,n){if(n.r(t),"undefined"!=typeof window){var r=window.document.currentScript,o=n("8875");r=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var i=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n("99af"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),n("a4d3"),n("e439"),n("dbb4"),n("b64b"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0"),n("a630"),n("fb6a"),n("b0c0"),n("25f0");var p=n("a352"),f=n.n(p);function m(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function g(e,t,n){var r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}var v=n("dbf1");n("13d5"),n("4fad"),n("ac1f"),n("5319");var y,_,E=/-(\w)/g,b=(y=function(e){return e.replace(E,(function(e,t){return t.toUpperCase()}))},_=Object.create(null),function(e){return _[e]||(_[e]=y(e))});n("5db7"),n("73d9");var T=["Start","Add","Remove","Update","End"],S=["Choose","Unchoose","Sort","Filter","Clone"],w=["Move"],C=[w,T,S].flatMap((function(e){return e})).map((function(e){return"on".concat(e)})),R={manage:w,manageAndEmit:T,emit:S};n("caad"),n("2ca0");var I=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function A(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function O(e){return e.reduce((function(e,t){var n=d(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}function N(e){return Object.entries(e).filter((function(e){var t=d(e,2),n=t[0];return t[1],!A(n)})).map((function(e){var t=d(e,2),n=t[0],r=t[1];return[b(n),r]})).filter((function(e){var t,n=d(e,2),r=n[0];return n[1],t=r,!(-1!==C.indexOf(t))}))}function k(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}n("c740");var D=function(e){return e.el},x=function(e){return e.__draggable_context},P=function(){function e(t){var n=t.nodes,r=n.header,o=n.default,i=n.footer,a=t.root,s=t.realList;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultNodes=o,this.children=[].concat(h(r),h(o),h(i)),this.externalComponent=a.externalComponent,this.rootTransition=a.transition,this.tag=a.tag,this.realList=s}return k(e,[{key:"render",value:function(e,t){var n=this.tag,r=this.children;return e(n,t,this._isRootComponent?{default:function(){return r}}:r)}},{key:"updated",value:function(){var e=this.defaultNodes,t=this.realList;e.forEach((function(e,n){var r,o;r=D(e),o={element:t[n],index:n},r.__draggable_context=o}))}},{key:"getUnderlyingVm",value:function(e){return x(e)}},{key:"getVmIndexFromDomIndex",value:function(e,t){var n=this.defaultNodes,r=n.length,o=t.children,i=o.item(e);if(null===i)return r;var a=x(i);if(a)return a.index;if(0===r)return 0;var s=D(n[0]);return e<h(o).findIndex((function(e){return e===s}))?0:r}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),e}(),M=n("8bbf");function L(e){var t=function(e){return["transition-group","TransitionGroup"].includes(e)}(e),n=!function(e){return I.includes(e)}(e)&&!t;return{transition:t,externalComponent:n,tag:n?Object(M.resolveComponent)(e):t?M.TransitionGroup:e}}function U(e){var t=e.$slots,n=e.tag,r=e.realList,o=function(e){var t=e.$slots,n=e.realList,r=e.getKey,o=n||[],i=["header","footer"].map((function(e){return(n=t[e])?n():[];var n})),a=d(i,2),s=a[0],l=a[1],u=t.item;if(!u)throw new Error("draggable element must have an item slot");var h=o.flatMap((function(e,t){return u({element:e,index:t}).map((function(t){return t.key=r(e),t.props=c(c({},t.props||{}),{},{"data-draggable":!0}),t}))}));if(h.length!==o.length)throw new Error("Item slot must have only one child");return{header:s,footer:l,default:h}}({$slots:t,realList:r,getKey:e.getKey}),i=L(n);return new P({nodes:o,root:i,realList:r})}function j(e,t){var n=this;Object(M.nextTick)((function(){return n.$emit(e.toLowerCase(),t)}))}function V(e){var t=this;return function(n,r){if(null!==t.realList)return t["onDrag".concat(e)](n,r)}}function B(e){var t=this,n=V.call(this,e);return function(r,o){n.call(t,r,o),j.call(t,e,r)}}var z=null,F={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(e){return e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},H=["update:modelValue","change"].concat(h([].concat(h(R.manageAndEmit),h(R.emit)).map((function(e){return e.toLowerCase()})))),G=Object(M.defineComponent)({name:"draggable",inheritAttrs:!1,props:F,emits:H,data:function(){return{error:!1}},render:function(){try{this.error=!1;var e=this.$slots,t=this.$attrs,n=this.tag,r=this.componentData,o=U({$slots:e,tag:n,realList:this.realList,getKey:this.getKey});this.componentStructure=o;var i=function(e){var t=e.$attrs,n=e.componentData,r=void 0===n?{}:n;return c(c({},O(Object.entries(t).filter((function(e){var t=d(e,2),n=t[0];return t[1],A(n)})))),r)}({$attrs:t,componentData:r});return o.render(M.h,i)}catch(a){return this.error=!0,Object(M.h)("pre",{style:{color:"red"}},a.stack)}},created:function(){null!==this.list&&null!==this.modelValue&&v.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var e=this;if(!this.error){var t=this.$attrs,n=this.$el;this.componentStructure.updated();var r=function(e){var t=e.$attrs,n=e.callBackBuilder,r=O(N(t));Object.entries(n).forEach((function(e){var t=d(e,2),n=t[0],o=t[1];R[n].forEach((function(e){r["on".concat(e)]=o(e)}))}));var o="[data-draggable]".concat(r.draggable||"");return c(c({},r),{},{draggable:o})}({$attrs:t,callBackBuilder:{manageAndEmit:function(t){return B.call(e,t)},emit:function(t){return j.bind(e,t)},manage:function(t){return V.call(e,t)}}}),o=1===n.nodeType?n:n.parentElement;this._sortable=new f.a(o,r),this.targetDomElement=o,o.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList:function(){var e=this.list;return e||this.modelValue},getKey:function(){var e=this.itemKey;return"function"==typeof e?e:function(t){return t[e]}}},watch:{$attrs:{handler:function(e){var t=this._sortable;t&&N(e).forEach((function(e){var n=d(e,2),r=n[0],o=n[1];t.option(r,o)}))},deep:!0}},methods:{getUnderlyingVm:function(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent:function(e){return e.__draggable_component__},emitChanges:function(e){var t=this;Object(M.nextTick)((function(){return t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=h(this.modelValue);e(t),this.$emit("update:modelValue",t)}},spliceList:function(){var e=arguments;this.alterList((function(t){return t.splice.apply(t,h(e))}))},updatePosition:function(e,t){this.alterList((function(n){return n.splice(t,0,n.splice(e,1)[0])}))},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var o=r.realList,i={list:o,component:r};return t!==n&&o?c(c({},r.getUnderlyingVm(n)||{}),i):i},getVmIndexFromDomIndex:function(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),z=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){m(e.item);var n=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(n,0,t);var r={element:t,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(e){if(g(this.$el,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context,n=t.index,r=t.element;this.spliceList(n,1);var o={element:r,oldIndex:n};this.emitChanges({removed:o})}else m(e.clone)},onDragUpdate:function(e){m(e.item),g(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,n);var r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=h(t.to.children).filter((function(e){return"none"!==e.style.display})),r=n.indexOf(t.related),o=e.component.getVmIndexFromDomIndex(r);return-1===n.indexOf(z)&&t.willInsertAfter?o+1:o},onDragMove:function(e,t){var n=this.move,r=this.realList;if(!n||!r)return!0;var o=this.getRelatedContextFromMoveEvent(e),i=this.computeFutureIndex(o,e),a=c(c({},this.context),{},{futureIndex:i});return n(c(c({},e),{},{relatedContext:o,draggedContext:a}),t)},onDragEnd:function(){z=null}}}),W=G;t.default=W},fb6a:function(e,t,n){var r=n("23e7"),o=n("861d"),i=n("e8b5"),a=n("23cb"),s=n("50c4"),c=n("fc6a"),l=n("8418"),u=n("b622"),d=n("1dde"),h=n("ae40"),p=d("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),g=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!p||!f},{slice:function(e,t){var n,r,u,d=c(this),h=s(d.length),p=a(e,h),f=a(void 0===t?h:t,h);if(i(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(d,p,f);for(r=new(void 0===n?Array:n)(v(f-p,0)),u=0;p<f;p++,u++)p in d&&l(r,u,d[p]);return r.length=u,r}})},fc6a:function(e,t,n){var r=n("44ad"),o=n("1d80");e.exports=function(e){return r(o(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default};const CQ=iO(tJ.exports=wQ(nJ,aO(SQ))),RQ={data:{type:Object,default:()=>({})},data1:{type:Object,default:()=>({})},SetFlag:{type:Boolean,default:!1},showSummary:{type:Boolean,default:!1},tableCols:{type:Array,default:()=>[]}},IQ={class:"itxst"},AQ={class:"draggable-item"},OQ={__name:"draggable",props:RQ,setup(e){const t=e,n=yt({list:t.tableCols}),r=t.tableCols.filter((e=>""!==e.label)),o=Dt(!1),i=Dt(!0),a=Dt([]);a.value=[],r.forEach((e=>{e.show&&a.value.push(e.label)}));const s=e=>{e?(a.value=[],r.map((e=>(a.value.push(e.label),{...e,show:!0})))):a.value=[],o.value=!1,iG.emit("getCheckData",{data:a.value,list:n.list})},c=()=>{},l=()=>{iG.emit("getCheckData",{data:a.value,list:n.list})},u=e=>{const t=e.length;i.value=t===r.length,o.value=t>0&&t<r.length,iG.emit("getCheckData",{data:a.value,list:n.list})};return(e,t)=>{const r=UN,d=bA,h=jN;return Ri(),ki("div",IQ,[Ui("div",null,[ji(r,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),style:{"font-weight":"600"},indeterminate:o.value,onChange:s},{default:wn((()=>t[2]||(t[2]=[zi(" ")]))),_:1},8,["modelValue","indeterminate"]),ji(h,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),style:{display:"flex","flex-direction":"column"},onChange:u},{default:wn((()=>[ji(Lt(CQ),{list:n.list,"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:c,onEnd:l,itemKey:"123"},{item:wn((({element:e})=>[Ui("div",AQ,[Cn((Ri(),Di(r,{value:e.label,name:e.label,key:e.label},{default:wn((()=>[Ui("span",null,ee(e.label),1),ji(d,{class:"column_item",effect:"dark",content:"",placement:"top-end"},{default:wn((()=>t[3]||(t[3]=[Ui("i",{class:"iconfont icon-tuodong"},null,-1)]))),_:1})])),_:2},1032,["value","name"])),[[Za,""!=e.label]])])])),_:1},8,["list"])])),_:1},8,["modelValue"])]),Wr(e.$slots,"default",{comfirm:a.value,stateList:n.list},void 0,!0)])}}},NQ=wU(OQ,[["__scopeId","data-v-e438cf9f"]]),kQ={btnLine:{type:Boolean,default:!1},inline:{type:Boolean,default:!0},formRef:{type:String,default:"queryData"},itemClass:{type:String,default:"form_input"},isHandle:{type:Boolean,default:!0},labelWidth:{type:String,default:""},size:{type:String,default:"mini"},searchForm:{type:Array,default:()=>[]},searchFormAll:{type:Array,default:()=>[]},searchHandle:{type:Array,default:()=>[]},searchHandleRight:{type:Array,default:()=>[]},searchData:{type:Object,default:()=>({})},dateRangeLimit:{type:Number,default:31536e6},dateRangeMin:{type:Number,default:null},tablecols:{type:Array,default:()=>[],deep:!0,immediate:!0},allCols:{type:Array,default:()=>[]},isExportVal:{type:String,default:"0"},isExportText:{type:String,default:""},tableCols:{type:Array,default:()=>[]}},DQ={class:"searchWrapper",id:"searchForm"},xQ={key:2,class:"inputIntervalBox"},PQ={style:{color:"#212121"}},MQ={key:0,style:{"font-size":"14px",color:"#626262"}},LQ={style:{color:"#212121"}},UQ={key:0,style:{"font-size":"14px",color:"#626262"}},jQ={style:{color:"#212121"}},VQ={style:{"font-size":"14px",color:"#626262","margin-left":"8px"}},BQ={key:0,style:{"text-align":"center",padding:"20px"}},zQ={key:1},FQ={style:{color:"#212121"}},HQ={style:{"font-size":"14px",color:"#626262","margin-left":"8px"}},GQ={class:"searchBtnBox"},WQ={key:0},qQ={class:"searchBtnBox searchBtnRightBox"},KQ={key:0},YQ={key:0,class:"ConditionsView"},XQ={__name:"searchForm",props:kQ,emits:["getCheckDataFromSearch","handleEnterSearch"],setup(e,{emit:t}){const n=e,r=Dt([]),o=Dt(!1);Dt(!0),Dt(!1),Dt([]);const i=Dt({shortcuts:[{text:"",onClick(e){e.$emit("pick",[new Date,new Date])}},{text:"",onClick(e){const t=new Date,n=new Date((new Date).getFullYear(),0);e.$emit("pick",[n,t])}},{text:"",onClick(e){const t=new Date,n=new Date;n.setMonth(n.getMonth()-5),e.$emit("pick",[n,t])}}]});Dt({disabledDate:e=>e.getTime()>Date.now()}),Dt(new Map),Dt(new Map);const a=Dt(null);Dt(null),Dt({onPick:({maxDate:e,minDate:t})=>{t&&a.value?a.value=null:t&&(a.value=t.getTime())},disabledDate:e=>!!a.value&&(e.getTime()>a.value+dateRangeLimit.value||e.getTime()<a.value-dateRangeLimit.value)}),Dt("");const s=Dt({shortcuts:[{text:"",onClick(e){const t=new Date,n=new Date;e.$emit("pick",[n,t])}},{text:"",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-864e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[n,t])}},{text:"",onClick(e){const t=new Date,n=new Date;n.setTime(J$.nowMonthStartDayTime()),t.setTime(J$.nowMonthEndDayTime()),e.$emit("pick",[n,t])}},{text:"",onClick(e){const t=new Date,n=new Date;n.setTime(J$.beforeMonthStartDayTime()),t.setTime(J$.beforeMonthEndDayTime()),e.$emit("pick",[n,t])}},{text:"7",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-5184e5),e.$emit("pick",[n,t])}},{text:"30",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-156384e5),e.$emit("pick",[n,t])}},{text:"",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-31536e6),e.$emit("pick",[n,t])}}]}),c=Dt({onPick:({maxDate:e,minDate:t})=>{this.selectDate=t.getTime(),e&&(this.selectDate="")},disabledDate:e=>{if(""!==this.selectDate){const t=this.selectDate-this.dateRangeLimit,n=this.selectDate+this.dateRangeLimit;return e.getTime()<t||e.getTime()>n}},shortcuts:[{text:"",onClick(e){const t=new Date,n=new Date;e.$emit("pick",[n,t])}},{text:"",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-864e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[n,t])}},{text:"",onClick(e){const t=new Date,n=new Date;n.setTime(J$.nowMonthStartDayTime()),t.setTime(J$.nowMonthEndDayTime()),e.$emit("pick",[n,t])}},{text:"",onClick(e){const t=new Date,n=new Date;n.setTime(J$.beforeMonthStartDayTime()),t.setTime(J$.beforeMonthEndDayTime()),e.$emit("pick",[n,t])}}]}),l=Dt({disabledDate:e=>{let t=this.commonUtil.nowMonthStartDay(),n=this.commonUtil.getNowDate(),r=this.commonUtil.daysTimeDiff(t,n)+1;if(""!==this.commonUtil.removeIllegalStr(this.dateRangeMin)){let t=this.dateRangeMin+1;return e.getTime()<Date.now()-24*r*60*60*1e3||e.getTime()<Date.now()-24*t*60*60*1e3}return e.getTime()<Date.now()-24*r*60*60*1e3}}),u=Dt(!1);Dt([]);const d=Dt(""),h=Dt([]),p=Dt("0");Zo((()=>n.isExportVal),((e,t)=>{p.value=e}),{deep:!0,immediate:!0});const f=(e,t)=>{let n=t.picker,r=e&&e[0],o=e&&e[1];if(r&&o){if(this.commonUtil.millisecondTimeDiff(r,o)>this.dateRangeLimit){let e=Math.floor(this.dateRangeLimit/864e5);o=this.commonUtil.getDateBeforeAfter(r,e);const t=new Date(r),i=new Date(o);n.$emit("pick",[t,i])}}},m=(e,t)=>{if(e){let e=[];for(let n=0;n<t.length;n++)this.hasFuncAuth(t[n].auth)&&e.push(t[n]);this.menuOptions=e}},g=()=>{y("handleEnterSearch")},v=()=>{o.value=!0},y=t,_=e=>e.label&&!e.type&&b(e.label,[""," ","",""," ",""," "])?"primary":e.type,E=e=>{if(e.label&&!e.icon){if(b(e.label,[""," ",""]))return"el-icon-search";if(b(e.label,[""," ",""," "]))return"el-icon-circle-plus-outline";if(b(e.label,[""]))return"el-icon-printer";if(b(e.label,["Excel"]))return"el-icon-upload2";if(b(e.label,["Excel"]))return"el-icon-download"}return e.icon},b=(e,t)=>{var n=!1;return t.forEach((t=>{-1!==e.indexOf(t)&&(n=!0)})),n},T=e=>{if(e){let t=this.selectUtil.globalSearchCustomer(e);t&&t.length>0&&(this.searchCustomerData=t,this.$emit("onSearchCustomer",t))}},S=(e,t)=>{let n={url:"/crm/customer/globalSearch",params:{keyword:e}};this.commonUtil.doPost(n).then((e=>{let n=[];n.push({loadingStatus:"empty"}),0===e.code&&(e.data&&e.data.length>0?n=e.data:(n=[],n.push({loadingStatus:"empty"}))),t(n)})).catch((e=>{t([{loadingStatus:"empty"}])})).finally((()=>{}))},w=(e,t)=>{this.searchData[t.prop]=e.name,this.searchData[t.propId]=e.id},C=(e,t)=>{this.searchData[t.propId]=""};return(e,t)=>{const n=nO,o=Ur("QuestionFilled"),a=aR,p=bA,y=sI,b=cP,R=sP,I=lP,A=CA,O=bk,N=JN,k=ZN,D=QN,x=UN,P=jN,M=ID,L=wN,U=eI,j=yI,V=LP,B=QR,F=Ox,H=Nx,G=Ax,W=Br("hasPermi");return Ri(),ki("div",null,[Ui("div",DQ,[ji(B,{ref:"searchFormRef",inline:e.inline,"label-width":e.labelWidth,model:e.searchData,onSubmit:t[0]||(t[0]=Js((()=>{}),["prevent"])),onKeyup:Qs(g,["enter"])},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(e.searchForm,((r,u)=>(Ri(),Di(U,{class:q(e.itemClass),label:r.label,key:r.prop+u,prop:r.prop,rules:r.rules},{default:wn((()=>["Buttons"===r.type?(Ri(),Di(n,{key:0,onClick:e=>r.handle(),style:{"min-width":"auto"}},{default:wn((()=>[zi(ee(r.size),1)])),_:2},1032,["onClick"])):Hi("",!0),"Input"===r.type?(Ri(),Di(y,{key:1,clearable:"",style:z("width:"+r.width),maxlength:r.maxlength,modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,disabled:"function"==typeof r.disabled?r.disabled():r.disabled,placeholder:r.placeholder&&r.placeholder.length>0?r.placeholder:""+r.label,size:r.size,onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),onInput:t=>r.input&&r.input(e.searchData[r.prop])},Gr({_:2},[r.showTooltip?{name:"suffix",fn:wn((()=>[ji(p,{placement:"top",content:r.tooltipText},{default:wn((()=>[ji(a,null,{default:wn((()=>[ji(o)])),_:1})])),_:2},1032,["content"])])),key:"0"}:void 0]),1032,["style","maxlength","modelValue","onUpdate:modelValue","disabled","placeholder","size","onChange","onInput"])):Hi("",!0),"InputInterval"===r.type?(Ri(),ki("div",xQ,[ji(y,{clearable:"",style:z("width:"+r.width),maxlength:r.maxlength,modelValue:e.searchData[r.propStart],"onUpdate:modelValue":t=>e.searchData[r.propStart]=t,disabled:"function"==typeof r.disabled?r.disabled():r.disabled,onChange:t=>r.changeStart&&r.changeStart(e.searchData[r.propStart]),onInput:t=>r.inputStart&&r.inputStart(e.searchData[r.propStart])},null,8,["style","maxlength","modelValue","onUpdate:modelValue","disabled","onChange","onInput"]),t[2]||(t[2]=Ui("span",{style:{margin:"0 2px"}},"-",-1)),ji(y,{clearable:"",style:z("width:"+r.width),maxlength:r.maxlength,modelValue:e.searchData[r.propEnd],"onUpdate:modelValue":t=>e.searchData[r.propEnd]=t,disabled:"function"==typeof r.disabled?r.disabled():r.disabled,onChange:t=>r.changeEnd&&r.changeEnd(e.searchData[r.propEnd]),onInput:t=>r.inputEnd&&r.inputEnd(e.searchData[r.propEnd])},null,8,["style","maxlength","modelValue","onUpdate:modelValue","disabled","onChange","onInput"])])):Hi("",!0),"Select"===r.type?(Ri(),Di(R,{key:3,modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,clearable:void 0===r.clearable||r.clearable,"collapse-tags":void 0===r.collapseTags||r.collapseTags,ref_for:!0,ref:r.ref,style:z("width:"+r.width),placeholder:r.placeholder?r.placeholder:""+r.label,disabled:"function"==typeof r.disabled?r.disabled():r.disabled,multiple:r.multiple,filterable:"","remote-method":r.filterMethod,remote:void 0!==r.filterMethod,class:q({multipleSelectView:r.multiple&&!0===r.multiple}),onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),onBlur:t=>r.blur&&r.blur(e.searchData[r.prop],r.params),onFocus:t=>r.focus&&r.focus(e.searchData[r.prop],r.params)},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(r.options,(e=>(Ri(),Di(b,{key:r.props?e[r.props.value]:e.value,value:r.props?e[r.props.value]:e.value,label:r.props?e[r.props.label]:e.label,disabled:"function"==typeof e.disabled?e.disabled():e.disabled},{default:wn((()=>[Ui("span",PQ,ee(r.props?e[r.props.label]:e.label),1),e.deptString?(Ri(),ki("span",MQ," "+ee(e.deptString)+" ",1)):Hi("",!0)])),_:2},1032,["value","label","disabled"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","clearable","collapse-tags","style","placeholder","disabled","multiple","remote-method","remote","class","onChange","onBlur","onFocus"])):Hi("",!0),"SelectGroup"===r.type?(Ri(),Di(R,{key:4,clearable:"",style:z("width:"+r.width),modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,multiple:r.multiple,"collapse-tags":void 0===r.collapseTags||r.collapseTags,placeholder:r.placeholder&&r.placeholder.length>0?r.placeholder:""+r.label,filterable:"","remote-method":r.filterMethod,remote:void 0!==r.filterMethod,class:q({multipleSelectView:r.multiple&&!0===r.multiple}),onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),disabled:"function"==typeof r.disabled?r.disabled():r.disabled},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(r.options,((e,t)=>(Ri(),Di(I,{key:t+"SelectGroup",label:e.label},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(e.options,(e=>(Ri(),Di(b,{key:r.props?e[r.props.value]:e.value,value:r.props?e[r.props.value]:e.value,label:r.props?e[r.props.label]:e.label},{default:wn((()=>[Ui("span",LQ,ee(r.props?e[r.props.label]:e.label),1),e.deptString?(Ri(),ki("span",UQ," "+ee(e.deptString)+" ",1)):Hi("",!0)])),_:2},1032,["value","label"])))),128))])),_:2},1032,["label"])))),128))])),_:2},1032,["style","modelValue","onUpdate:modelValue","multiple","collapse-tags","placeholder","remote-method","remote","class","onChange","disabled"])):Hi("",!0),"SelectCustomer"===r.type?(Ri(),Di(R,{key:5,ref_for:!0,ref:r.ref,clearable:"",modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,"collapse-tags":void 0===r.collapseTags||r.collapseTags,multiple:r.multiple,"default-first-option":void 0===r.defaultFirstOption||r.defaultFirstOption,style:z("width:"+r.width),placeholder:r.placeholder?r.placeholder:""+r.label,filterable:"","remote-method":T,remote:""},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(r.options?r.options:h.value,(e=>(Ri(),Di(b,{key:e.id,label:e.name,value:e.id},{default:wn((()=>[Ui("span",jQ,ee(e.name),1),Ui("span",VQ,ee(Lt(J$).showSex(e.sex))+" "+ee(Lt(J$).birthdayToAge(e.birthday))+" "+ee(Lt(J$).mobileShow(e.phone))+"("+ee(e.phoneOwner_v)+") ",1)])),_:2},1032,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","collapse-tags","multiple","default-first-option","style","placeholder"])):Hi("",!0),"InputSelectCustomer"===r.type?(Ri(),Di(A,{key:6,ref_for:!0,ref:"autocompleteRef"+e.searchData[r.prop],class:"mAutocomplete",clearable:"",style:z("width:"+r.width),"trigger-on-focus":!1,"popper-append-to-body":!1,modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,modelModifiers:{trim:!0},placeholder:r.placeholder?r.placeholder:""+r.label,"fetch-suggestions":S,onSelect:e=>w(e,r),onInput:e=>C(0,r)},{default:wn((({item:e})=>[e.loadingStatus&&"empty"===e.loadingStatus?(Ri(),ki("div",BQ,"  ")):(Ri(),ki("div",zQ,[Ui("span",FQ,ee(e.name),1),Ui("span",HQ,ee(Lt(J$).showSex(e.sex))+" "+ee(Lt(J$).birthdayToAge(e.birthday))+" "+ee(Lt(J$).mobileShow(e.phone))+"("+ee(e.phoneOwner_v)+")",1)]))])),_:2},1032,["style","modelValue","onUpdate:modelValue","placeholder","onSelect","onInput"])):Hi("",!0),"cascader"===r.type?(Ri(),Di(O,{key:7,modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,style:z([{width:"100%"},"width:"+r.width]),options:r.options,filterable:"","show-all-levels":null==r.showAllLevels||r.showAllLevels,props:r.props,clearable:"","collapse-tags":void 0===r.collapseTags||r.collapseTags,placeholder:r.placeholder?r.placeholder:""+r.label,class:q({multipleSelectView:r.props&&r.props.multiple&&!0===r.props.multiple}),onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params)},null,8,["modelValue","onUpdate:modelValue","style","options","show-all-levels","props","collapse-tags","placeholder","class","onChange"])):Hi("",!0),"Radio"===r.type?(Ri(),Di(k,{key:8,modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),disabled:"function"==typeof r.disabled?r.disabled():r.disabled},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(r.radios,(e=>(Ri(),Di(N,{label:e.value,key:e.value},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange","disabled"])):Hi("",!0),"RadioButton"===r.type?(Ri(),Di(k,{key:9,modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),disabled:"function"==typeof r.disabled?r.disabled():r.disabled},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(r.radios,(e=>(Ri(),Di(D,{label:e.value,key:e.value},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange","disabled"])):Hi("",!0),"Checkbox"===r.type?(Ri(),Di(P,{key:10,modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),disabled:"function"==typeof r.disabled?r.disabled():r.disabled},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(r.checkboxs,(e=>(Ri(),Di(x,{label:e.value,key:e.value},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange","disabled"])):Hi("",!0),"Date"===r.type?(Ri(),Di(M,{key:11,modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,format:"YYYY-MM-DD",style:z({width:r.width,"min-width":void 0===r.minWidth?"220px":r.minWidth}),pickerOptions:r.pickerOptions,clearable:void 0===r.clearable||r.clearable,"value-format":"YYYY-MM-DD",onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),disabled:"function"==typeof r.disabled?r.disabled():r.disabled},null,8,["modelValue","onUpdate:modelValue","style","pickerOptions","clearable","onChange","disabled"])):Hi("",!0),"monthDate"===r.type?(Ri(),Di(M,{key:12,type:"month",modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,format:"yyyy-MM","value-format":"yyyy-MM",onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),disabled:"function"==typeof r.disabled?r.disabled():r.disabled,clearable:void 0===r.clearable||r.clearable},null,8,["modelValue","onUpdate:modelValue","onChange","disabled","clearable"])):Hi("",!0),"DateRange"===r.type?(Ri(),Di(M,{key:13,type:"daterange",style:z("width:"+r.width),"range-separator":"","start-placeholder":"","end-placeholder":"",modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),disabled:"function"==typeof r.disabled?r.disabled():r.disabled,"picker-options":s.value,clearable:void 0===r.clearable||r.clearable},null,8,["style","modelValue","onUpdate:modelValue","onChange","disabled","picker-options","clearable"])):Hi("",!0),"MonthRange"===r.type?(Ri(),Di(M,{key:14,style:z("width:"+r.width),"value-format":"yyyy-MM",format:"yyyy-MM","range-separator":"","start-placeholder":"","end-placeholder":"",onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,type:"monthrange","picker-options":i.value,disabled:"function"==typeof r.disabled?r.disabled():r.disabled,clearable:void 0===r.clearable||r.clearable},null,8,["style","onChange","modelValue","onUpdate:modelValue","picker-options","disabled","clearable"])):Hi("",!0),"DateRangeOne"===r.type?(Ri(),Di(M,{key:15,type:"daterange",style:z("width:"+r.width),"range-separator":"","start-placeholder":"","end-placeholder":"",modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","picker-options":c.value,onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),onBlur:t=>f(e.searchData[r.prop],t),clearable:void 0===r.clearable||r.clearable},null,8,["style","modelValue","onUpdate:modelValue","picker-options","onChange","onBlur","clearable"])):Hi("",!0),"DateRangeTwo"===r.type?(Ri(),Di(M,{key:16,type:"daterange",style:z("width:"+r.width),"range-separator":"","start-placeholder":"","end-placeholder":"",modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","picker-options":l.value,onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),onBlur:t=>f(e.searchData[r.prop],t),clearable:void 0===r.clearable||r.clearable},null,8,["style","modelValue","onUpdate:modelValue","picker-options","onChange","onBlur","clearable"])):Hi("",!0),"Time"===r.type?(Ri(),Di(L,{key:17,modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,format:"HH:mm:ss",clearable:"","value-format":"HH:mm:ss",onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params)},null,8,["modelValue","onUpdate:modelValue","onChange"])):Hi("",!0),"TimeRange"===r.type?(Ri(),Di(L,{key:18,modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,"is-range":"",format:"HH:mm:ss",clearable:"","value-format":"HH:mm:ss","range-separator":"","start-placeholder":"","end-placeholder":"",onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),disabled:"function"==typeof r.disabled?r.disabled():r.disabled},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])):Hi("",!0),"DateTime"===r.type?(Ri(),Di(M,{key:19,type:"datetime",modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,clearable:"",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params),disabled:"function"==typeof r.disabled?r.disabled():r.disabled},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])):Hi("",!0),"DateTimeRange"===r.type?(Ri(),Di(M,{key:20,"default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,2,1,23,59,59)],type:"datetimerange",cleaarable:"",modelValue:e.searchData[r.prop],"onUpdate:modelValue":t=>e.searchData[r.prop]=t,"range-separator":"","start-placeholder":"","end-placeholder":"",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",disabled:"function"==typeof r.disabled?r.disabled():r.disabled,onChange:t=>r.change&&r.change(e.searchData[r.prop],r.params)},null,8,["default-time","modelValue","onUpdate:modelValue","disabled","onChange"])):Hi("",!0)])),_:2},1032,["class","label","prop","rules"])))),128)),ji(U,null,{default:wn((()=>[Ui("div",GQ,[(Ri(!0),ki(Ei,null,Hr(e.searchHandle,(r=>(Ri(),ki("div",{key:r.label,class:"searchBtn"},[r.hide?Hi("",!0):(Ri(),ki("div",WQ,[r.plain||""===r.label?Cn((Ri(),Di(n,{key:0,plain:"",type:_(r),icon:r.icon,onClick:e=>r.handle()},{default:wn((()=>[zi(ee(r.label),1)])),_:2},1032,["type","icon","onClick"])),[[W,[r.auth?r.auth:"ignore"]]]):r.popover?(Ri(),Di(V,{key:1,ref_for:!0,ref:"popoverRef",trigger:"click",title:"",width:160},{reference:wn((()=>[ji(n,{style:{"margin-right":"16px"},onClick:v},{default:wn((()=>t[3]||(t[3]=[zi("")]))),_:1})])),default:wn((()=>[ji(j,null,{default:wn((()=>[ji(NQ,{style:{"max-height":"260PX"},tableCols:e.tableCols},null,8,["tableCols"])])),_:1})])),_:1},512)):Cn((Ri(),Di(n,{key:2,type:_(r),icon:E(r),onClick:e=>r.handle(),style:z(r.itemStyle&&r.itemStyle())},{default:wn((()=>[zi(ee(r.label),1)])),_:2},1032,["type","icon","onClick","style"])),[[W,[r.auth?r.auth:"ignore"]]])]))])))),128))])])),_:1})])),_:1},8,["inline","label-width","model"]),Ui("div",qQ,[(Ri(!0),ki(Ei,null,Hr(e.searchHandleRight,(e=>(Ri(),ki("div",{key:e.label,class:"searchBtn"},[e.hide?Hi("",!0):(Ri(),ki("div",KQ,["checkbox"===e.type?Cn((Ri(),Di(x,{key:0,onChange:e.change,modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e)},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["onChange","modelValue"])),[[W,[e.auth?e.auth:"ignore"]]]):"dropdown"===e.type?Cn((Ri(),Di(G,{key:1,onCommand:t=>e.handle(t),onVisibleChange:t=>m(t,e.options)},{dropdown:wn((()=>[ji(H,null,{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(r.value,(e=>(Ri(),Di(F,{key:e.value,command:e.value,icon:e.icon},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["command","icon"])))),128))])),_:1})])),default:wn((()=>[ji(n,null,{default:wn((()=>[zi(ee(e.label),1),t[4]||(t[4]=Ui("i",{class:"el-icon-arrow-down el-icon--right"},null,-1))])),_:2},1024)])),_:2},1032,["onCommand","onVisibleChange"])),[[W,[e.auth?e.auth:"ignore"]]]):(Ri(),ki(Ei,{key:2},[e.plain?Cn((Ri(),Di(n,{key:0,plain:"",type:e.type,onClick:t=>e.handle(),icon:e.icon},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["type","onClick","icon"])),[[W,[e.auth?e.auth:"ignore"]]]):Cn((Ri(),Di(n,{key:1,type:_(e),onClick:t=>e.handle(),icon:E(e)},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["type","onClick","icon"])),[[W,[e.auth?e.auth:"ignore"]]])],64))]))])))),128))])]),d.value?(Ri(),ki("div",YQ,""+ee(d.value),1)):Hi("",!0)])}}},$Q=wU(XQ,[["__scopeId","data-v-874ffebf"]]);
/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function JQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JQ(Object(n),!0).forEach((function(t){e0(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QQ(e){return(QQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t0(){return t0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(this,arguments)}function n0(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function r0(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var o0=r0(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),i0=r0(/Edge/i),a0=r0(/firefox/i),s0=r0(/safari/i)&&!r0(/chrome/i)&&!r0(/android/i),c0=r0(/iP(ad|od|hone)/i),l0=r0(/chrome/i)&&r0(/android/i),u0={capture:!1,passive:!1};function d0(e,t,n){e.addEventListener(t,n,!o0&&u0)}function h0(e,t,n){e.removeEventListener(t,n,!o0&&u0)}function p0(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function f0(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function m0(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&p0(e,t):p0(e,t))||r&&e===n)return e;if(e===n)break}while(e=f0(e))}return null}var g0,v0=/\s+/g;function y0(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(v0," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(v0," ")}}function _0(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function E0(e,t){var n="";if("string"==typeof e)n=e;else do{var r=_0(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function b0(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function T0(){var e=document.scrollingElement;return e||document.documentElement}function S0(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,c,l,u,d;if(e!==window&&e.parentNode&&e!==T0()?(a=(i=e.getBoundingClientRect()).top,s=i.left,c=i.bottom,l=i.right,u=i.height,d=i.width):(a=0,s=0,c=window.innerHeight,l=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!o0))do{if(o&&o.getBoundingClientRect&&("none"!==_0(o,"transform")||n&&"static"!==_0(o,"position"))){var h=o.getBoundingClientRect();a-=h.top+parseInt(_0(o,"border-top-width")),s-=h.left+parseInt(_0(o,"border-left-width")),c=a+i.height,l=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var p=E0(o||e),f=p&&p.a,m=p&&p.d;p&&(c=(a/=m)+(u/=m),l=(s/=f)+(d/=f))}return{top:a,left:s,bottom:c,right:l,width:d,height:u}}}function w0(e,t,n){for(var r=O0(e,!0),o=S0(e)[t];r;){if(!(o>=S0(r)[n]))return r;if(r===T0())break;r=O0(r,!1)}return!1}function C0(e,t,n,r){for(var o=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==x1.ghost&&(r||a[i]!==x1.dragged)&&m0(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function R0(e,t){for(var n=e.lastElementChild;n&&(n===x1.ghost||"none"===_0(n,"display")||t&&!p0(n,t));)n=n.previousElementSibling;return n||null}function I0(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===x1.clone||t&&!p0(e,t)||n++;return n}function A0(e){var t=0,n=0,r=T0();if(e)do{var o=E0(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function O0(e,t){if(!e||!e.getBoundingClientRect)return T0();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=_0(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return T0();if(r||t)return n;r=!0}}}while(n=n.parentNode);return T0()}function N0(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function k0(e,t){return function(){if(!g0){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),g0=setTimeout((function(){g0=void 0}),t)}}}function D0(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function x0(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function P0(e,t,n){var r={};return Array.from(e.children).forEach((function(o){var i,a,s,c;if(m0(o,t.draggable,e,!1)&&!o.animated&&o!==n){var l=S0(o);r.left=Math.min(null!==(i=r.left)&&void 0!==i?i:1/0,l.left),r.top=Math.min(null!==(a=r.top)&&void 0!==a?a:1/0,l.top),r.right=Math.max(null!==(s=r.right)&&void 0!==s?s:-1/0,l.right),r.bottom=Math.max(null!==(c=r.bottom)&&void 0!==c?c:-1/0,l.bottom)}})),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var M0="Sortable"+(new Date).getTime();function L0(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==_0(e,"display")&&e!==x1.ghost){t.push({target:e,rect:S0(e)});var n=ZQ({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=E0(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=S0(n),c=n.prevFromRect,l=n.prevToRect,u=e.rect,d=E0(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&N0(c,s)&&!N0(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,c,l,r.options)),N0(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){_0(e,"transition",""),_0(e,"transform","");var o=E0(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),c=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!c,_0(e,"transform","translate3d("+s+"px,"+c+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),_0(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),_0(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){_0(e,"transition",""),_0(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var U0=[],j0={initializeByDefault:!0},V0={mount:function(e){for(var t in j0)j0.hasOwnProperty(t)&&!(t in e)&&(e[t]=j0[t]);U0.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),U0.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";U0.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](ZQ({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](ZQ({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in U0.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,t0(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);void 0!==i&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return U0.forEach((function(r){"function"==typeof r.eventProperties&&t0(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return U0.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};var B0=["evt"],z0=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=n0(n,B0);V0.pluginEvent.bind(x1)(e,t,ZQ({dragEl:H0,parentEl:G0,ghostEl:W0,rootEl:q0,nextEl:K0,lastDownEl:Y0,cloneEl:X0,cloneHidden:$0,dragStarted:l1,putSortable:n1,activeSortable:x1.active,originalEvent:r,oldIndex:J0,oldDraggableIndex:Q0,newIndex:Z0,newDraggableIndex:e1,hideGhostForTarget:O1,unhideGhostForTarget:N1,cloneNowHidden:function(){$0=!0},cloneNowShown:function(){$0=!1},dispatchSortableEvent:function(e){F0({sortable:t,name:e,originalEvent:r})}},o))};function F0(e){!function(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,c=e.oldIndex,l=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[M0]){var m,g=t.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||o0||i0?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=o||n,m.clone=i,m.oldIndex=c,m.newIndex=l,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=p?p.lastPutMode:void 0;var y=ZQ(ZQ({},f),V0.getEventProperties(r,t));for(var _ in y)m[_]=y[_];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}(ZQ({putSortable:n1,cloneEl:X0,targetEl:H0,rootEl:q0,oldIndex:J0,oldDraggableIndex:Q0,newIndex:Z0,newDraggableIndex:e1},e))}var H0,G0,W0,q0,K0,Y0,X0,$0,J0,Z0,Q0,e1,t1,n1,r1,o1,i1,a1,s1,c1,l1,u1,d1,h1,p1,f1=!1,m1=!1,g1=[],v1=!1,y1=!1,_1=[],E1=!1,b1=[],T1="undefined"!=typeof document,S1=c0,w1=i0||o0?"cssFloat":"float",C1=T1&&!l0&&!c0&&"draggable"in document.createElement("div"),R1=function(){if(T1){if(o0)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),I1=function(e,t){var n=_0(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=C0(e,0,t),i=C0(e,1,t),a=o&&_0(o),s=i&&_0(i),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+S0(o).width,l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+S0(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||c>=r&&"none"===n[w1]||i&&"none"===n[w1]&&c+l>r)?"vertical":"horizontal"},A1=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var c=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===c||e.join&&e.indexOf(c)>-1}}var n={},r=e.group;r&&"object"==QQ(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},O1=function(){!R1&&W0&&_0(W0,"display","none")},N1=function(){!R1&&W0&&_0(W0,"display","")};T1&&!l0&&document.addEventListener("click",(function(e){if(m1)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),m1=!1,!1}),!0);var k1=function(e){if(H0){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,i=e.clientY,g1.some((function(e){var t=e[M0].options.emptyInsertThreshold;if(t&&!R0(e)){var n=S0(e),r=o>=n.left-t&&o<=n.right+t,s=i>=n.top-t&&i<=n.bottom+t;return r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[M0]._onDragOver(n)}}var o,i,a},D1=function(e){H0&&H0.parentNode[M0]._isOutsideThisEl(e.target)};function x1(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=t0({},t),e[M0]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return I1(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==x1.supportPointer&&"PointerEvent"in window&&(!s0||c0),emptyInsertThreshold:5};for(var r in V0.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in A1(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&C1,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?d0(e,"pointerdown",this._onTapStart):(d0(e,"mousedown",this._onTapStart),d0(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(d0(e,"dragover",this),d0(e,"dragenter",this)),g1.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),t0(this,L0())}function P1(e,t,n,r,o,i,a,s){var c,l,u=e[M0],d=u.options.onMove;return!window.CustomEvent||o0||i0?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=o||t,c.relatedRect=i||S0(t),c.willInsertAfter=s,c.originalEvent=a,e.dispatchEvent(c),d&&(l=d.call(u,c,a)),l}function M1(e){e.draggable=!1}function L1(){E1=!1}function U1(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function j1(e){return setTimeout(e,0)}function V1(e){return clearTimeout(e)}x1.prototype={constructor:x1,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(u1=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,H0):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,l=r.filter;if(function(e){b1.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&b1.push(r)}}(n),!H0&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!s0||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=m0(s,r.draggable,n,!1))&&s.animated||Y0===s)){if(J0=I0(s),Q0=I0(s,r.draggable),"function"==typeof l){if(l.call(this,e,s,this))return F0({sortable:t,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),z0("filter",t,{evt:e}),void(o&&e.preventDefault())}else if(l&&(l=l.split(",").some((function(r){if(r=m0(c,r.trim(),n,!1))return F0({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),z0("filter",t,{evt:e}),!0}))))return void(o&&e.preventDefault());r.handle&&!m0(c,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!H0&&n.parentNode===i){var c=S0(n);if(q0=i,G0=(H0=n).parentNode,K0=H0.nextSibling,Y0=n,t1=a.group,x1.dragged=H0,r1={target:H0,clientX:(t||e).clientX,clientY:(t||e).clientY},s1=r1.clientX-c.left,c1=r1.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,H0.style["will-change"]="all",r=function(){z0("delayEnded",o,{evt:e}),x1.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!a0&&o.nativeDraggable&&(H0.draggable=!0),o._triggerDragStart(e,t),F0({sortable:o,name:"choose",originalEvent:e}),y0(H0,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){b0(H0,e.trim(),M1)})),d0(s,"dragover",k1),d0(s,"mousemove",k1),d0(s,"touchmove",k1),a.supportPointer?(d0(s,"pointerup",o._onDrop),!this.nativeDraggable&&d0(s,"pointercancel",o._onDrop)):(d0(s,"mouseup",o._onDrop),d0(s,"touchend",o._onDrop),d0(s,"touchcancel",o._onDrop)),a0&&this.nativeDraggable&&(this.options.touchStartThreshold=4,H0.draggable=!0),z0("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(i0||o0))r();else{if(x1.eventCanceled)return void this._onDrop();a.supportPointer?(d0(s,"pointerup",o._disableDelayedDrag),d0(s,"pointercancel",o._disableDelayedDrag)):(d0(s,"mouseup",o._disableDelayedDrag),d0(s,"touchend",o._disableDelayedDrag),d0(s,"touchcancel",o._disableDelayedDrag)),d0(s,"mousemove",o._delayedDragTouchMoveHandler),d0(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&d0(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){H0&&M1(H0),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;h0(e,"mouseup",this._disableDelayedDrag),h0(e,"touchend",this._disableDelayedDrag),h0(e,"touchcancel",this._disableDelayedDrag),h0(e,"pointerup",this._disableDelayedDrag),h0(e,"pointercancel",this._disableDelayedDrag),h0(e,"mousemove",this._delayedDragTouchMoveHandler),h0(e,"touchmove",this._delayedDragTouchMoveHandler),h0(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?d0(document,"pointermove",this._onTouchMove):d0(document,t?"touchmove":"mousemove",this._onTouchMove):(d0(H0,"dragend",this),d0(q0,"dragstart",this._onDragStart));try{document.selection?j1((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(f1=!1,q0&&H0){z0("dragStarted",this,{evt:t}),this.nativeDraggable&&d0(document,"dragover",D1);var n=this.options;!e&&y0(H0,n.dragClass,!1),y0(H0,n.ghostClass,!0),x1.active=this,e&&this._appendGhost(),F0({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(o1){this._lastX=o1.clientX,this._lastY=o1.clientY,O1();for(var e=document.elementFromPoint(o1.clientX,o1.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(o1.clientX,o1.clientY))!==t;)t=e;if(H0.parentNode[M0]._isOutsideThisEl(e),t)do{if(t[M0]){if(t[M0]._onDragOver({clientX:o1.clientX,clientY:o1.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=f0(t));N1()}},_onTouchMove:function(e){if(r1){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=W0&&E0(W0,!0),a=W0&&i&&i.a,s=W0&&i&&i.d,c=S1&&p1&&A0(p1),l=(o.clientX-r1.clientX+r.x)/(a||1)+(c?c[0]-_1[0]:0)/(a||1),u=(o.clientY-r1.clientY+r.y)/(s||1)+(c?c[1]-_1[1]:0)/(s||1);if(!x1.active&&!f1){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(W0){i?(i.e+=l-(i1||0),i.f+=u-(a1||0)):i={a:1,b:0,c:0,d:1,e:l,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");_0(W0,"webkitTransform",d),_0(W0,"mozTransform",d),_0(W0,"msTransform",d),_0(W0,"transform",d),i1=l,a1=u,o1=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!W0){var e=this.options.fallbackOnBody?document.body:q0,t=S0(H0,!0,S1,!0,e),n=this.options;if(S1){for(p1=e;"static"===_0(p1,"position")&&"none"===_0(p1,"transform")&&p1!==document;)p1=p1.parentNode;p1!==document.body&&p1!==document.documentElement?(p1===document&&(p1=T0()),t.top+=p1.scrollTop,t.left+=p1.scrollLeft):p1=T0(),_1=A0(p1)}y0(W0=H0.cloneNode(!0),n.ghostClass,!1),y0(W0,n.fallbackClass,!0),y0(W0,n.dragClass,!0),_0(W0,"transition",""),_0(W0,"transform",""),_0(W0,"box-sizing","border-box"),_0(W0,"margin",0),_0(W0,"top",t.top),_0(W0,"left",t.left),_0(W0,"width",t.width),_0(W0,"height",t.height),_0(W0,"opacity","0.8"),_0(W0,"position",S1?"absolute":"fixed"),_0(W0,"zIndex","100000"),_0(W0,"pointerEvents","none"),x1.ghost=W0,e.appendChild(W0),_0(W0,"transform-origin",s1/parseInt(W0.style.width)*100+"% "+c1/parseInt(W0.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;z0("dragStart",this,{evt:e}),x1.eventCanceled?this._onDrop():(z0("setupClone",this),x1.eventCanceled||((X0=x0(H0)).removeAttribute("id"),X0.draggable=!1,X0.style["will-change"]="",this._hideClone(),y0(X0,this.options.chosenClass,!1),x1.clone=X0),n.cloneId=j1((function(){z0("clone",n),x1.eventCanceled||(n.options.removeCloneOnHide||q0.insertBefore(X0,H0),n._hideClone(),F0({sortable:n,name:"clone"}))})),!t&&y0(H0,o.dragClass,!0),t?(m1=!0,n._loopId=setInterval(n._emulateDragOver,50)):(h0(document,"mouseup",n._onDrop),h0(document,"touchend",n._onDrop),h0(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,H0)),d0(document,"drop",n),_0(H0,"transform","translateZ(0)")),f1=!0,n._dragStartId=j1(n._dragStarted.bind(n,t,e)),d0(document,"selectstart",n),l1=!0,window.getSelection().removeAllRanges(),s0&&_0(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,a=e.target,s=this.options,c=s.group,l=x1.active,u=t1===c,d=s.sort,h=n1||l,p=this,f=!1;if(!E1){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=m0(a,s.draggable,i,!0),O("dragOver"),x1.eventCanceled)return f;if(H0.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return k(!1);if(m1=!1,l&&!s.disabled&&(u?d||(r=G0!==q0):n1===this||(this.lastPutMode=t1.checkPull(this,l,H0,e))&&c.checkPut(this,l,H0,e))){if(o="vertical"===this._getDirection(e,a),t=S0(H0),O("dragOverValid"),x1.eventCanceled)return f;if(r)return G0=q0,N(),this._hideClone(),O("revert"),x1.eventCanceled||(K0?q0.insertBefore(H0,K0):q0.appendChild(H0)),k(!0);var m=R0(i,s.draggable);if(!m||function(e,t,n){var r=S0(R0(n.el,n.options.draggable)),o=P0(n.el,n.options,W0),i=10;return t?e.clientX>o.right+i||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>o.bottom+i||e.clientX>r.right&&e.clientY>r.top}(e,o,this)&&!m.animated){if(m===H0)return k(!1);if(m&&i===e.target&&(a=m),a&&(n=S0(a)),!1!==P1(q0,i,H0,t,a,n,e,!!a))return N(),m&&m.nextSibling?i.insertBefore(H0,m.nextSibling):i.appendChild(H0),G0=i,D(),k(!0)}else if(m&&function(e,t,n){var r=S0(C0(n.el,0,n.options,!0)),o=P0(n.el,n.options,W0),i=10;return t?e.clientX<o.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<o.top-i||e.clientY<r.bottom&&e.clientX<r.left}(e,o,this)){var g=C0(i,0,s,!0);if(g===H0)return k(!1);if(n=S0(a=g),!1!==P1(q0,i,H0,t,a,n,e,!1))return N(),i.insertBefore(H0,g),G0=i,D(),k(!0)}else if(a.parentNode===i){n=S0(a);var v,y,_,E=H0.parentNode!==i,b=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,c=n?t.width:t.height;return r===a||o===s||r+i/2===a+c/2}(H0.animated&&H0.toRect||t,a.animated&&a.toRect||n,o),T=o?"top":"left",S=w0(a,"top","top")||w0(H0,"top","top"),w=S?S.scrollTop:void 0;if(u1!==a&&(y=n[T],v1=!1,y1=!b&&s.invertSwap||E),v=function(e,t,n,r,o,i,a,s){var c=r?e.clientY:e.clientX,l=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!a)if(s&&h1<l*o){if(!v1&&(1===d1?c>u+l*i/2:c<d-l*i/2)&&(v1=!0),v1)h=!0;else if(1===d1?c<u+h1:c>d-h1)return-d1}else if(c>u+l*(1-o)/2&&c<d-l*(1-o)/2)return function(e){return I0(H0)<I0(e)?1:-1}(t);if((h=h||a)&&(c<u+l*i/2||c>d-l*i/2))return c>u+l/2?1:-1;return 0}(e,a,n,o,b?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,y1,u1===a),0!==v){var C=I0(H0);do{C-=v,_=G0.children[C]}while(_&&("none"===_0(_,"display")||_===W0))}if(0===v||_===a)return k(!1);u1=a,d1=v;var R=a.nextElementSibling,I=!1,A=P1(q0,i,H0,t,a,n,e,I=1===v);if(!1!==A)return 1!==A&&-1!==A||(I=1===A),E1=!0,setTimeout(L1,30),N(),I&&!R?i.appendChild(H0):a.parentNode.insertBefore(H0,I?R:a),S&&D0(S,0,w-S.scrollTop),G0=H0.parentNode,void 0===y||y1||(h1=Math.abs(y-S0(a)[T])),D(),k(!0)}if(i.contains(H0))return k(!1)}return!1}function O(s,c){z0(s,p,ZQ({evt:e,isOwner:u,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:h,target:a,completed:k,onMove:function(n,r){return P1(q0,i,H0,t,n,S0(n),e,r)},changed:D},c))}function N(){O("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function k(t){return O("dragOverCompleted",{insertion:t}),t&&(u?l._hideClone():l._showClone(p),p!==h&&(y0(H0,n1?n1.options.ghostClass:l.options.ghostClass,!1),y0(H0,s.ghostClass,!0)),n1!==p&&p!==x1.active?n1=p:p===x1.active&&n1&&(n1=null),h===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){O("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===H0&&!H0.animated||a===i&&!a.animated)&&(u1=null),s.dragoverBubble||e.rootEl||a===document||(H0.parentNode[M0]._isOutsideThisEl(e.target),!t&&k1(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function D(){Z0=I0(H0),e1=I0(H0,s.draggable),F0({sortable:p,name:"change",toEl:i,newIndex:Z0,newDraggableIndex:e1,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){h0(document,"mousemove",this._onTouchMove),h0(document,"touchmove",this._onTouchMove),h0(document,"pointermove",this._onTouchMove),h0(document,"dragover",k1),h0(document,"mousemove",k1),h0(document,"touchmove",k1)},_offUpEvents:function(){var e=this.el.ownerDocument;h0(e,"mouseup",this._onDrop),h0(e,"touchend",this._onDrop),h0(e,"pointerup",this._onDrop),h0(e,"pointercancel",this._onDrop),h0(e,"touchcancel",this._onDrop),h0(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Z0=I0(H0),e1=I0(H0,n.draggable),z0("drop",this,{evt:e}),G0=H0&&H0.parentNode,Z0=I0(H0),e1=I0(H0,n.draggable),x1.eventCanceled||(f1=!1,y1=!1,v1=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),V1(this.cloneId),V1(this._dragStartId),this.nativeDraggable&&(h0(document,"drop",this),h0(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),s0&&_0(document.body,"user-select",""),_0(H0,"transform",""),e&&(l1&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),W0&&W0.parentNode&&W0.parentNode.removeChild(W0),(q0===G0||n1&&"clone"!==n1.lastPutMode)&&X0&&X0.parentNode&&X0.parentNode.removeChild(X0),H0&&(this.nativeDraggable&&h0(H0,"dragend",this),M1(H0),H0.style["will-change"]="",l1&&!f1&&y0(H0,n1?n1.options.ghostClass:this.options.ghostClass,!1),y0(H0,this.options.chosenClass,!1),F0({sortable:this,name:"unchoose",toEl:G0,newIndex:null,newDraggableIndex:null,originalEvent:e}),q0!==G0?(Z0>=0&&(F0({rootEl:G0,name:"add",toEl:G0,fromEl:q0,originalEvent:e}),F0({sortable:this,name:"remove",toEl:G0,originalEvent:e}),F0({rootEl:G0,name:"sort",toEl:G0,fromEl:q0,originalEvent:e}),F0({sortable:this,name:"sort",toEl:G0,originalEvent:e})),n1&&n1.save()):Z0!==J0&&Z0>=0&&(F0({sortable:this,name:"update",toEl:G0,originalEvent:e}),F0({sortable:this,name:"sort",toEl:G0,originalEvent:e})),x1.active&&(null!=Z0&&-1!==Z0||(Z0=J0,e1=Q0),F0({sortable:this,name:"end",toEl:G0,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){z0("nulling",this),q0=H0=G0=W0=K0=X0=Y0=$0=r1=o1=l1=Z0=e1=J0=Q0=u1=d1=n1=t1=x1.dragged=x1.ghost=x1.clone=x1.active=null,b1.forEach((function(e){e.checked=!0})),b1.length=i1=a1=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":H0&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)m0(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||U1(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];m0(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return m0(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=V0.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&A1(n)},destroy:function(){z0("destroy",this);var e=this.el;e[M0]=null,h0(e,"mousedown",this._onTapStart),h0(e,"touchstart",this._onTapStart),h0(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(h0(e,"dragover",this),h0(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),g1.splice(g1.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!$0){if(z0("hideClone",this),x1.eventCanceled)return;_0(X0,"display","none"),this.options.removeCloneOnHide&&X0.parentNode&&X0.parentNode.removeChild(X0),$0=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if($0){if(z0("showClone",this),x1.eventCanceled)return;H0.parentNode!=q0||this.options.group.revertClone?K0?q0.insertBefore(X0,K0):q0.appendChild(X0):q0.insertBefore(X0,H0),this.options.group.revertClone&&this.animate(H0,X0),_0(X0,"display",""),$0=!1}}else this._hideClone()}},T1&&d0(document,"touchmove",(function(e){(x1.active||f1)&&e.cancelable&&e.preventDefault()})),x1.utils={on:d0,off:h0,css:_0,find:b0,is:function(e,t){return!!m0(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:k0,closest:m0,toggleClass:y0,clone:x0,index:I0,nextTick:j1,cancelNextTick:V1,detectDirection:I1,getChild:C0,expando:M0},x1.get=function(e){return e[M0]},x1.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(x1.utils=ZQ(ZQ({},x1.utils),e.utils)),V0.mount(e)}))},x1.create=function(e,t){return new x1(e,t)},x1.version="1.15.6";var B1,z1,F1,H1,G1,W1,q1=[],K1=!1;function Y1(){q1.forEach((function(e){clearInterval(e.pid)})),q1=[]}function X1(){clearInterval(W1)}var $1=k0((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,c=t.scrollSpeed,l=T0(),u=!1;z1!==n&&(z1=n,Y1(),B1=t.scroll,o=t.scrollFn,!0===B1&&(B1=O0(n,!0)));var d=0,h=B1;do{var p=h,f=S0(p),m=f.top,g=f.bottom,v=f.left,y=f.right,_=f.width,E=f.height,b=void 0,T=void 0,S=p.scrollWidth,w=p.scrollHeight,C=_0(p),R=p.scrollLeft,I=p.scrollTop;p===l?(b=_<S&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),T=E<w&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(b=_<S&&("auto"===C.overflowX||"scroll"===C.overflowX),T=E<w&&("auto"===C.overflowY||"scroll"===C.overflowY));var A=b&&(Math.abs(y-i)<=s&&R+_<S)-(Math.abs(v-i)<=s&&!!R),O=T&&(Math.abs(g-a)<=s&&I+E<w)-(Math.abs(m-a)<=s&&!!I);if(!q1[d])for(var N=0;N<=d;N++)q1[N]||(q1[N]={});q1[d].vx==A&&q1[d].vy==O&&q1[d].el===p||(q1[d].el=p,q1[d].vx=A,q1[d].vy=O,clearInterval(q1[d].pid),0==A&&0==O||(u=!0,q1[d].pid=setInterval(function(){r&&0===this.layer&&x1.active._onTouchMove(G1);var t=q1[this.layer].vy?q1[this.layer].vy*c:0,n=q1[this.layer].vx?q1[this.layer].vx*c:0;"function"==typeof o&&"continue"!==o.call(x1.dragged.parentNode[M0],n,t,e,G1,q1[this.layer].el)||D0(q1[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==l&&(h=O0(h,!1)));K1=u}}),30),J1=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=n||o;a();var l=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(l.clientX,l.clientY);s(),c&&!c.el.contains(u)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function Z1(){}function Q1(){}Z1.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=C0(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:J1},t0(Z1,{pluginName:"revertOnSpill"}),Q1.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:J1},t0(Q1,{pluginName:"removeOnSpill"}),x1.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?d0(document,"dragover",this._handleAutoScroll):this.options.supportPointer?d0(document,"pointermove",this._handleFallbackAutoScroll):t.touches?d0(document,"touchmove",this._handleFallbackAutoScroll):d0(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?h0(document,"dragover",this._handleAutoScroll):(h0(document,"pointermove",this._handleFallbackAutoScroll),h0(document,"touchmove",this._handleFallbackAutoScroll),h0(document,"mousemove",this._handleFallbackAutoScroll)),X1(),Y1(),clearTimeout(g0),g0=void 0},nulling:function(){G1=z1=B1=K1=W1=F1=H1=null,q1.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(G1=e,t||this.options.forceAutoScrollFallback||i0||o0||s0){$1(e,this.options,i,t);var a=O0(i,!0);!K1||W1&&r===F1&&o===H1||(W1&&X1(),W1=setInterval((function(){var i=O0(document.elementFromPoint(r,o),!0);i!==a&&(a=i,Y1()),$1(e,n.options,i,t)}),10),F1=r,H1=o)}else{if(!this.options.bubbleScroll||O0(i,!0)===T0())return void Y1();$1(e,this.options,O0(i,!1),!1)}}},t0(e,{pluginName:"scroll",initializeByDefault:!0})}),x1.mount(Q1,Z1);const e2={isIndex:{type:Boolean,default:!1},isIndexCustom:{type:Boolean,default:!1},indexLabel:{type:String,default:""},SetFlag:{type:Boolean,default:!1},showSummary:{type:Boolean,default:!1},AggregateParameterProp:{type:Array,default:()=>[]},AggregateParameterData:{type:Array,default:()=>[]},maxHeight:{type:String,default:void 0},height:{type:String,default:void 0},rowKey:{type:String,default:"id"},tableKey:{type:String,default:"cusTableKey"},size:{type:String,default:"small"},isBorder:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},isHandle:{type:Boolean,default:!1},title:"",text:"",showTitleLine:{type:Boolean,default:!1},tableHandles:{type:Array,default:()=>[]},tableData:{type:Array,default:()=>[]},tableCols:{type:Array,default:()=>[]},tableColsT:{type:Array,default:()=>[]},isExpand:{type:Boolean,default:!1},expandTableDataProp:{type:String,default:""},expandTableCols:{type:Array,default:()=>[]},isSelection:{type:Boolean,default:!1},isCustomerSelection:{type:Boolean,default:!1},defaultSelections:{type:[Array,Object],default:()=>null},isPagination:{type:Boolean,default:!0},tablePage:{type:Object,default:()=>({pageSize:20,pageCurrent:1,total:0,pageSizeRange:[10,20,50,100,200,300]})},highlightCurrentRow:{type:Boolean,default:!0},cellStyle:{type:Function,default:function(){return""}},parentIndex:"",reserveSelection:!1,isSelectAllData:{type:Boolean,default:!1},isEmptyImg:{type:Boolean,default:!0},emptyImgWidth:{type:String,default:"150px"},emptyText:{type:String,default:""},tableRowClassPageName:{type:String,default:""},tableRowStyleName:{type:String,default:""},cellDblClickIsCopy:{type:Boolean,default:!0},SecondaryHead:{type:Boolean,default:!1},defaultExpandAll:{type:Boolean,default:!1}},t2={class:"ces-table-page"},n2={key:0,class:"ces-handle"},r2={class:"boxFlex",style:{"margin-bottom":"10px"}},o2={key:0,style:{flex:"1","padding-top":"13px",display:"flex","align-items":"center"}},i2={style:{display:"flex","align-items":"center"}},a2={style:{"margin-left":"20px","font-size":"14px"}},s2={class:"ces-table"},c2={style:{display:"flex","flex-direction":"column",padding:"30px 0"}},l2={style:{"align-self":"center","margin-top":"10px"}},u2={key:0,style:{"text-align":"right"}},d2={key:1},h2={key:0},p2={key:1},f2={key:3,class:"buttonBox"},m2={key:0},g2={key:1},v2=["size"],y2={key:5},_2={key:0},E2={key:2},b2={key:0,style:{display:"flex"}},T2={key:0},S2=["onClick"],w2=["onClick"],C2={key:2,style:{"background-color":"#9D9D9D",width:"17px",height:"17px","border-radius":"3px",color:"#fff","line-height":"18px","text-align":"center","margin-left":"4px","margin-top":"2px"}},R2={key:1},I2={key:2},A2=["innerHTML"],O2={key:4},N2=["innerHTML"],k2=["innerHTML"],D2=["innerHTML"],x2=["onClick"],P2={key:0,class:"el-icon-loading"},M2=["size"],L2={key:12,class:"boxFlexCenter"},U2=["innerHTML"],j2=["onDblclick"],V2=["size","onClick"],B2={key:0},z2={key:1},F2={key:18,class:"buttonBox"},H2={key:0},G2={key:1},W2=["onClick"],q2={key:0},K2={key:1},Y2={key:2},X2={key:19},$2={key:20},J2=["size"],Z2=["onUpdate:modelValue","maxlength","onInput","onBlur","onChange","placeholder","disabled"],Q2={key:21,class:"boxFlexCenter"},e4={key:22},t4=["size"],n4=["onUpdate:modelValue","maxlength","onInput","onBlur","onChange","placeholder","onKeyup","disabled"],r4={key:23},o4={key:24},i4={key:0,class:"InputNumberTextBox el-input-number el-input-number--mini"},a4=["onClick"],s4=["onClick"],c4={class:"el-input el-input--mini"},l4={class:"el-input__inner",style:{"background-color":"#f6f6f6",color:"#525252"}},u4={key:25},d4={key:26},h4=["onUpdate:modelValue","maxlength","placeholder"],p4={key:27,style:{display:"flex"}},f4=["disabled","onUpdate:modelValue","maxlength","placeholder"],m4=["size"],g4={style:{display:"flex","flex-direction":"column"}},v4={style:{margin:"0 5px"}},y4={style:{"margin-right":"5px",color:"#626262"}},_4={style:{color:"#626262"}},E4={key:29,class:"boxFlexCenter"},b4={key:0,style:{"font-size":"14px",color:"#626262"}},T4={style:{color:"#212121"}},S4={key:0,style:{"font-size":"14px",color:"#626262"}},w4={key:37,style:{display:"flex","justify-content":"center"}},C4={key:1},R4={key:38},I4={key:40,style:{display:"flex","align-items":"center"}},A4={key:0,class:"iconfont icon-xianjia-wuxushenpi theme"},O4={key:1,class:"iconfont icon-xianjia-xushenpi yellow"},N4={key:2,class:"iconfont icon-xianjia-tiaozheng purple"},k4=["onClick"],D4={class:"boxFlex"},x4={style:{width:"50%","text-align":"right","padding-right":"5px","line-height":"16px",height:"16px"}},P4={style:{width:"50%","border-left":"1px solid #939393","padding-left":"5px","line-height":"16px",height:"16px"}},M4={class:"boxFlex",style:{"border-top":"1px solid #939393"}},L4={style:{width:"50%","text-align":"right","padding-right":"5px","line-height":"16px",height:"16px"}},U4={style:{width:"50%","border-left":"1px solid #939393","padding-left":"5px","line-height":"16px",height:"16px"}},j4={key:42},V4={key:43},B4={key:44,style:{display:"flex"}},z4={key:0,style:{width:"5px",height:"100%",background:"#3D84DC",position:"absolute",left:"0",top:"0"}},F4={key:45},H4={class:"qrCode"},G4=["onClick"],W4=["onClick"],q4={style:{display:"flex"}},K4={key:0,style:{width:"100%"}},Y4={key:1,style:{"padding-top":"5px"}},X4={key:47},$4={key:48},J4={key:49},Z4={key:50},Q4={class:"ces-pagination",style:{"margin-top":"10px","margin-left":"0"}},e3={__name:"custable",props:e2,emits:["select","handleSelectionChange","handleCurrentChange","rowClick","expandChange"],setup(e,{emit:t}){const n=e,r=t,o=Dt(!1),i=Dt([]),a=Dt(!1),s=Dt(""),c=Dt(""),l=Dt(null);Zo((()=>n.tableData),(()=>{dn((()=>{l.value.doLayout()}))}),{deep:!0,immediate:!0}),Zo((()=>n.defaultSelections),(e=>{dn((function(){Array.isArray(e)?e.forEach((e=>{l.toggleRowSelection(e)})):l.toggleRowSelection(e)}))})),Zo((()=>n.isSelectAllData),(e=>{o.value=e}));const u=ma((()=>(n.AggregateParameterData.length>0&&!n.SetFlag&&(n.isIndex||n.isIndexCustom)&&n.AggregateParameterData.splice(1,0,""),n.AggregateParameterData)));Ir((()=>{dn((()=>{})),dn((()=>{d()})),iG.on("refreshCesTable",(()=>{dn((()=>{l.doLayout&&l.doLayout()}))}))}));const d=()=>{const e=document.querySelector(".ces-table .el-table__body-wrapper tbody");x1.create(e,{animation:150,draggable:".ces-table .el-table__row",handle:".icon-tuodong",onMove:h,onEnd:e=>{let t=n.tableData;t.splice(e.newIndex,0,t.splice(e.oldIndex,1)[0]),dn((function(){n.tableData=t}))}})},h=(e,t)=>!!e.related.getElementsByClassName("icon-tuodong")[0],p=e=>!(e&&!["string","tag","state","timestamp","dateStamp","monthStamp","sex","age","div","mobileShow","money"].some((t=>t===e))),f=(e,t)=>!o,m=e=>{if(!e.minWidth&&!e.width)switch(e.type){case"money":return"125";case"timestamp":return"170";case"dateStamp":return"110";case"monthStamp":return"100";case"buttonOne":case"mobileShow":return"150";default:return""}return e.minWidth},g=e=>""!==J$.removeIllegalStr(e)&&J$.isRealNum(e)?Number(e).toFixed(2):e,v=e=>0==e?"":"",y=e=>0==e?"":"",_=e=>e?J$.formatDate(e):"",E=e=>J$.formatDateTime(new Date(e)),b=e=>J$.formatMonthTime(new Date(e)),T=(e,t)=>J$.formatDateTimeFormat(new Date(e),t),S=e=>{r("handleSelectionChange",e),i.value=[],e.forEach((e=>{i.value.push(e.id)}))},w=e=>{const{columns:t,data:r}=e,o=[];return t.forEach(((e,t)=>{if(0===t)return void(o[t]="");if(n.AggregateParameterProp.includes(e.property)){const n=r.map((t=>Number(t[e.property])));o[t]=n.reduce(((e,t)=>{const n=Number(t);if(isNaN(n))return e;return J$.numAdd(e,t).toFixed(2)}),0)}})),u.length?u:o},C=e=>{n.tablePage.page=e,r("handleCurrentChange",n.tablePage)},R=e=>{n.tablePage.page_size=e,r("handleCurrentChange",n.tablePage)},I=(e,t)=>e("span",{class:"ces-table-require"},t.column.label),A=(e,t)=>{r("rowClick",e,t)},{copy:O,copied:N}=fj(),k=(e,t,r,o)=>{n.cellDblClickIsCopy&&O(e[t.property]).then((function(e){kL({type:"success",message:"",center:!0})}),(function(e){}))},D=({column:e,prop:t,order:n})=>{iG.emit("sortChange",{column:e,prop:t,order:n})},x=(e,t,n)=>{},P=(e,t)=>{r("handleSelect",e,t)},M=e=>{let t=L();r("handleSelectAll",e,t)},L=()=>l.store.states.isAllSelected,U=(e,t)=>!e.tableCellDisable,j=({row:e,rowIndex:t})=>{if("checkDetail"==n.tableRowClassPageName)return e.diffNum!=e.backNum?"warning-row":"";if("medicalWrite"==n.tableRowClassPageName){if(e.qualityInfoList)return"warning-row"}else if("inspectionQuery"==n.tableRowClassPageName){if("1"==e.dangerStatus)return"warning-row"}else if("disposeRecord"==n.tableRowClassPageName&&"0"==e.isNormal)return"warning-row"},V=({row:e,rowIndex:t})=>{if("batchArchiveScanTable"==n.tableRowStyleName)return"0"==e.approvalStatus||"1"==e.approvalStatus||"3"==e.approvalStatus||"5"==e.approvalStatus?{"background-color":"#FFA791"}:{"background-color":"#C3E095"}},B=(e,t)=>{s.value=t.label,c.value=e[t.prop],a.value=!0},F=(e,t,n,r,o)=>{e.handle&&e.handle(t,n,r,o),l.setCurrentRow(r[n])},H=e=>e.label&&!e.type&&W(e.label,[""," ","",""," ",""," "])?"primary":e.type,G=e=>{if(e.label&&!e.icon){if(W(e.label,[""," ",""]))return"el-icon-search";if(W(e.label,[""," ",""," "]))return"el-icon-circle-plus-outline";if(W(e.label,[""]))return"el-icon-printer";if(W(e.label,["Excel"]))return"el-icon-upload2";if(W(e.label,["Excel"]))return"el-icon-download"}return e.icon},W=(e,t)=>{var n=!1;return t.forEach((t=>{-1!==e.indexOf(t)&&(n=!0)})),n},K=(e,t,n,r)=>{dn((()=>{}))},Y=(e,t)=>{r("expandChange",e,t)},X=Dt(null);return Dt("href"),Dt("https://baidu.com"),(e,t)=>{const r=UN,i=nO,a=Ak,s=Rk,c=lL,u=cL,d=bA,h=LP,O=Ur("arrow-down"),N=aR,L=Ox,W=Nx,$=Ax,J=sI,Z=Fx,Q=cP,te=sP,ne=JN,re=ZN,oe=jN,ie=ID,ae=BP,se=nM,ce=jx,le=ZP,ue=AP,de=Br("hasPermi"),he=yL;return Ri(),ki("section",t2,[n.tableHandles&&n.tableHandles.length>0||n.title&&n.title.length>0?(Ri(),ki("section",n2,[Ui("div",r2,[n.title?(Ri(),ki("div",o2,[Ui("div",i2,ee(n.title),1),Ui("span",a2,ee(n.text),1)])):Hi("",!0),ji(s,{class:"operate",style:{flex:"1"}},{default:wn((()=>[ji(a,{span:24},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(n.tableHandles,(e=>(Ri(),ki("span",{key:e.label,style:{"margin-left":"10px"}},["checkbox"==e.type?(Ri(),Di(r,{key:0,onChange:e.change,modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e)},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["onChange","modelValue"])):(Ri(),ki(Ei,{key:1},[e.plain?Cn((Ri(),Di(i,{key:0,plain:"",type:H(e),icon:e.icon,onClick:t=>e.handle()},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["type","icon","onClick"])),[[de,[e.auth?e.auth:"ignore"]]]):Cn((Ri(),Di(i,{key:1,type:H(e),icon:G(e),size:e.size,onClick:t=>e.handle()},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["type","icon","size","onClick"])),[[de,[e.auth?e.auth:"ignore"]]])],64))])))),128))])),_:1})])),_:1})])])):Hi("",!0),Ui("section",s2,[Cn((Ri(),Di(u,{ref_key:"cesTable",ref:l,onSortChange:D,data:n.tableData,size:n.size,border:n.isBorder,key:n.tableKey,"max-height":n.maxHeight,height:n.height,onCellDblclick:k,onRowDblclick:x,defaultSelections:n.defaultSelections,"highlight-current-row":n.highlightCurrentRow,"cell-style":n.cellStyle,"header-cell-style":{background:"#F9F9F9"},"show-header":n.showHeader,onRowClick:A,onSelectionChange:S,"row-key":n.rowKey,"empty-text":n.emptyText,onSelect:P,onSelectAll:M,"row-class-name":j,"row-style":V,tableRowClassPageName:n.tableRowClassPageName,onHeaderDragend:K,"show-summary":n.showSummary,"summary-method":w,onExpandChange:Y,"default-expand-all":n.defaultExpandAll},{empty:wn((()=>[Ui("div",c2,[n.isEmptyImg?(Ri(),ki("img",{key:0,src:"",alt:"",style:z([{"align-self":"center"},{width:e.emptyImgWidth?e.emptyImgWidth:"150px"}])},null,4)):Hi("",!0),Ui("span",l2,ee(n.emptyText),1)])])),default:wn((()=>[n.isExpand?(Ri(),Di(c,{key:0,type:"expand",fixed:"left"},{default:wn((t=>[ji(u,{data:t.row[e.expandTableDataProp],stripe:"",border:"",style:{width:"100%"}},{default:wn((()=>[ji(c,{type:"index",label:"#",align:"center",width:"50"}),(Ri(!0),ki(Ei,null,Hr(e.expandTableCols,(e=>(Ri(),Di(c,{key:e.prop,prop:e.prop,label:e.label,width:e.width},{default:wn((({row:t})=>[Ui("div",null,["money"==e.type?(Ri(),ki("p",u2,""+ee(t[e.prop]),1)):(Ri(),ki("span",d2,ee(t[e.prop]),1))])])),_:2},1032,["prop","label","width"])))),128))])),_:2},1032,["data"])])),_:1})):Hi("",!0),n.isSelection&&n.isCustomerSelection?(Ri(),Di(c,{key:1,type:"selection",align:"center",fixed:"left",resizable:!1,selectable:U,"reserve-selection":n.reserveSelection},null,8,["reserve-selection"])):Hi("",!0),n.isSelection&&!n.isCustomerSelection?(Ri(),Di(c,{key:2,type:"selection",align:"center",fixed:"left",resizable:!1,selectable:f,"reserve-selection":n.reserveSelection},null,8,["reserve-selection"])):Hi("",!0),n.isIndex?(Ri(),Di(c,{key:3,type:"index",label:e.indexLabel,align:"center",width:"50",resizable:!1},null,8,["label"])):Hi("",!0),n.isIndexCustom?(Ri(),Di(c,{key:4,label:"",align:"center",width:"55",fixed:"left",resizable:!1},{default:wn((t=>[zi(ee((e.tablePage.page-1)*e.tablePage.page_size+t.$index+1),1)])),_:1})):Hi("",!0),n.SecondaryHead?(Ri(!0),ki(Ei,{key:5},Hr(e.tableCols,(r=>(Ri(),ki(Ei,null,[r.hide?Hi("",!0):(Ri(),Di(c,{key:r.id,prop:r.prop,label:r.label,width:r.width,"min-width":m(r),align:"money"===r.type?"right":r.align,"render-header":r.require?I:null,"show-overflow-tooltip":null!=r.overflow&&r.overflow,fixed:r.fixed,sortable:r.sortable||!1===r.sortable?r.sortable:p(r.type)},Gr({header:wn((()=>[Ui("span",{class:q({moneyStyle:"money"===r.type})},ee(r.label),3),r.showTooltip?(Ri(),Di(d,{key:0,class:"item",effect:"dark",content:r.tooltipContent,placement:"top"},{default:wn((()=>t[1]||(t[1]=[Ui("i",{class:"el-icon-warning-outline"},null,-1)]))),_:2},1032,["content"])):Hi("",!0)])),default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(r.propSec,((e,n)=>(Ri(),Di(c,{key:n,label:e.label,prop:e.prop,width:e.width,"min-width":e.minWidth,align:"money"===e.type?"right":e.align},{header:wn((()=>[Ui("span",{class:q({moneyStyle:"money"===e.type})},ee(e.label),3),e.showTooltip?(Ri(),Di(d,{key:0,class:"item",effect:"dark",content:e.tooltipContent,placement:"top"},{default:wn((()=>t[2]||(t[2]=[Ui("i",{class:"el-icon-warning-outline"},null,-1)]))),_:2},1032,["content"])):Hi("",!0)])),default:wn((t=>["percentage"===e.type?(Ri(),ki("span",_2,ee(""!==Lt(J$).removeIllegalStr(t.row[e.prop])?(100*Number(t.row[e.prop])).toFixed(2)+"%":""),1)):Hi("",!0),"money"===e.type?(Ri(),ki("div",{key:1,style:z(e.itemStyle&&e.itemStyle(t.row)),class:q(e.itemClass&&e.itemClass(t.row))},ee(g(t.row[e.prop])),7)):Hi("",!0),e.type?Hi("",!0):(Ri(),ki("span",E2,ee(t.row[e.prop]),1))])),_:2},1032,["label","prop","width","min-width","align"])))),128))])),_:2},[r.propSec?void 0:{name:"default",fn:wn((t=>["percentage*100"===r.type?(Ri(),ki("span",h2,ee(""!==Lt(J$).removeIllegalStr(t.row[r.prop])?(100*Number(t.row[r.prop])).toFixed(2)+"%":""),1)):Hi("",!0),"percentage"===r.type?(Ri(),ki("span",p2,ee(""!==Lt(J$).removeIllegalStr(t.row[r.prop])?Number(t.row[r.prop]).toFixed(2)+"%":""),1)):Hi("",!0),"money"===r.type?(Ri(),ki("div",{key:2,style:z(r.itemStyle&&r.itemStyle(t.row)),class:q(r.itemClass&&r.itemClass(t.row))},ee(g(t.row[r.prop])),7)):Hi("",!0),"button"===r.type?(Ri(),ki("div",f2,[(Ri(!0),ki(Ei,null,Hr(r.btnList,((o,a)=>(Ri(),ki(Ei,null,[o.hide&&o.hide(t.row,t.$index,n.tableData,e.parentIndex)?Hi("",!0):(Ri(),ki("span",{key:o.label},[Cn((Ri(),Di(i,{disabled:o.disabled&&o.disabled(t.row),type:o.type,size:n.size||o.size,icon:o.icon,style:z({color:"string"==(typeof o.label).toLowerCase()&&""===o.label||o.textType&&"state"===o.textType&&0==t.row.state||o.textType&&"status"===o.textType&&0==t.row.status?"#FF5656":o.color,"margin-right":r.btnList.length>1&&a!==r.btnList.length-1?"10px":"0"}),onClick:Js((r=>o.handle(o,t.row,t.$index,n.tableData,e.parentIndex)),["stop"])},{default:wn((()=>[o.textType&&"state"===o.textType?(Ri(),ki("span",m2,ee(y(t.row.state)),1)):o.textType&&"status"===o.textType?(Ri(),ki("span",g2,ee(y(t.row.status)),1)):(Ri(),ki("span",{key:2,style:z(o.itemStyle&&o.itemStyle(t.row,t.$index,n.tableData,e.parentIndex))},ee("string"==(typeof o.label).toLowerCase()?o.label:o.label(t.row,t.$index,n.tableData,e.parentIndex)),5))])),_:2},1032,["disabled","type","size","icon","style","onClick"])),[[de,[o.auth?o.auth:"ignore"]]])]))],64)))),256))])):Hi("",!0),"timestamp"===r.type?(Ri(),ki("span",{key:4,style:z(r.itemStyle&&r.itemStyle(t.row)),size:n.size||e.btn.size,class:q(r.itemClass&&r.itemClass(t.row))},ee(t.row[r.prop]?_(t.row[r.prop]):""),15,v2)):Hi("",!0),r.type?Hi("",!0):(Ri(),ki("span",y2,ee(t.row[r.prop]),1))])),key:"0"}]),1032,["prop","label","width","min-width","align","render-header","show-overflow-tooltip","fixed","sortable"]))],64)))),256)):(Ri(!0),ki(Ei,{key:6},Hr(e.tableCols,(o=>(Ri(),ki(Ei,null,[o.show?(Ri(),Di(c,{key:o.id,prop:o.prop,label:o.label,fixed:o.fixed,width:o.width,"min-width":m(o),align:"money"===o.type?"right":o.align,"render-header":o.require?I:null,"show-overflow-tooltip":null!=o.overflow&&o.overflow,sortable:o.sortable||!1===o.sortable?o.sortable:p(o.type)},{header:wn((()=>[Ui("span",{class:q({moneyStyle:"money"===o.type})},ee(o.label),3),o.showTooltip?(Ri(),Di(d,{key:0,class:"item",effect:"dark",content:o.tooltipContent,placement:"top"},{default:wn((()=>t[3]||(t[3]=[Ui("i",{class:"el-icon-warning-outline"},null,-1)]))),_:2},1032,["content"])):Hi("",!0)])),default:wn((a=>{return[o.type?"string"===o.type?(Ri(),ki("span",R2,ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.prop]),1)):"object"===o.type?(Ri(),ki("span",I2,ee(a.row[o.prop]?a.row[o.prop][o.subProp]:""),1)):"html"===o.type?(Ri(),ki("span",{key:3,innerHTML:o.html(a.row)},null,8,A2)):"htmlHidden"===o.type?(Ri(),ki("div",O2,[ji(d,{placement:"top"},{content:wn((()=>[Ui("span",{innerHTML:o.html(a.row)},null,8,N2)])),default:wn((()=>[Ui("div",{innerHTML:o.html(a.row),style:{"white-space":"normal",height:"23px"}},null,8,k2),Ui("div",{innerHTML:o.html(a.row),style:{"white-space":"normal",height:"23px"}},null,8,D2)])),_:2},1024)])):"state"===o.type?(Ri(),ki("span",{key:5,style:z((s=a.row,0==s.status||0==s.state?"color:#62C63C;":"color:#FF5656;"))}," "+ee(v(a.row[o.prop])),5)):"div"===o.type?(Ri(),ki("div",{key:6,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q([o.itemClass&&o.itemClass(a.row),{cusTableOverflow:o.oneLine&&!0===o.oneLine},o.isClick&&!0===o.isClick?"mPoint textUnderline":""]),onClick:Js((e=>o.isClick&&!0===o.isClick&&B(a.row,o)),["stop"])},ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.prop]),15,x2)):"money"===o.type?(Ri(),ki("div",{key:7,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},[zi(ee(g(a.row[o.prop]))+" ",1),a.row.asyncLoad?(Ri(),ki("i",P2)):Hi("",!0)],6)):"timestamp"===o.type?(Ri(),ki("span",{key:8,style:z(o.itemStyle&&o.itemStyle(a.row)),size:n.size||e.btn.size,class:q(o.itemClass&&o.itemClass(a.row))},ee(a.row[o.prop]?_(a.row[o.prop]):""),15,M2)):"dateStamp"===o.type?(Ri(),ki("span",{key:9,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},ee(a.row[o.prop]?E(a.row[o.prop]):""),7)):"monthStamp"===o.type?(Ri(),ki("span",{key:10,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},ee(a.row[o.prop]?b(a.row[o.prop]):""),7)):"customizeDateFormat"===o.type?(Ri(),ki("span",{key:11,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},ee(a.row[o.prop]?T(a.row[o.prop],o.formatStr):""),7)):"customize"===o.type?(Ri(),ki("div",L2,[Ui("span",{style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row)),innerHTML:"string"==(typeof o.text).toLowerCase()?o.text:o.text(a.row)},null,14,U2),a.row[o.iconProp]&&a.row[o.iconProp].length>0?(Ri(),Di(d,{key:0,effect:"dark",content:a.row[o.iconProp],placement:"top",style:{"margin-left":"3px"}},{default:wn((()=>t[4]||(t[4]=[Ui("i",{class:"el-icon-warning red"},null,-1)]))),_:2},1032,["content"])):Hi("",!0)])):"sex"===o.type?(Ri(),ki("span",{key:13,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},ee(Lt(J$).showSex(a.row[o.prop])),7)):"age"===o.type?(Ri(),ki("span",{key:14,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},ee(Lt(J$).birthdayToAge(a.row[o.prop]))+" ",7)):"textIconTooltip"===o.type?(Ri(),ki("div",{key:15,style:{display:"flex","align-items":"center"},onDblclick:e=>o.dblclick(a.row)},[Ui("span",{style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.prop]),7),a.row[o.iconProp]&&a.row[o.iconProp].length>0?(Ri(),Di(d,{key:0,effect:"dark",content:a.row[o.iconProp],placement:"top",style:{"margin-left":"3px"}},{default:wn((()=>t[5]||(t[5]=[Ui("i",{class:"el-icon-warning red"},null,-1)]))),_:2},1032,["content"])):Hi("",!0)],40,j2)):"tag"===o.type?(Ri(),ki("div",{key:16,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},ee(a.row[o.prop]),7)):"attention"===o.type?(Ri(),ki("div",{key:17,style:z(o.itemStyle&&o.itemStyle(a.row)),size:n.size||e.btn.size,class:q(o.itemClass&&o.itemClass(a.row)),onClick:Js((t=>o.handle&&o.handle(a.row,a.$index,n.tableData,e.parentIndex)),["stop"])},[a.row[o.prop]?(Ri(),ki("span",B2,t[6]||(t[6]=[Ui("i",{class:"el-icon-star-on",style:{color:"#FFB22B","font-size":"24px"}},null,-1)]))):(Ri(),ki("span",z2,t[7]||(t[7]=[Ui("i",{class:"el-icon-star-off",style:{"font-size":"20px"}},null,-1)])))],14,V2)):"button"===o.type?(Ri(),ki("div",F2,[(Ri(!0),ki(Ei,null,Hr(o.btnList,((t,r)=>(Ri(),ki(Ei,null,[t.hide&&t.hide(a.row,a.$index,n.tableData,e.parentIndex)?Hi("",!0):(Ri(),ki("span",{key:t.label},["popover"===t.type?(Ri(),Di(h,{key:0,placement:"bottom",width:"100",trigger:"click",style:{padding:"10px 0px"}},{reference:wn((()=>[ji(i,{icon:"el-icon-more",style:{"font-size":"20px"}})])),default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(t.btnList,((r,o)=>Cn((Ri(),Di(i,{key:"popover"+o,link:t.link,style:z([{width:"100px",margin:"0"},{display:r.hide&&r.hide(a.row,a.$index)?"none":"",color:"string"==(typeof r.label).toLowerCase()&&""===r.label||r.textType&&"state"===r.textType&&0==a.row.state||r.textType&&"status"===r.textType&&0==a.row.status?"#FF5656":""}]),disabled:r.disabled&&r.disabled(a.row),type:r.type,size:n.size||r.size,icon:r.icon,onClick:Js((t=>F(r,a.row,a.$index,n.tableData,e.parentIndex)),["stop"])},{default:wn((()=>[r.textType&&"state"===r.textType?(Ri(),ki("span",H2,ee(y(a.row.state)),1)):r.textType&&"status"===r.textType?(Ri(),ki("span",G2,ee(y(a.row.status)),1)):(Ri(),ki("span",{key:2,style:z(r.itemStyle&&r.itemStyle(a.row))},ee("string"==(typeof r.label).toLowerCase()?r.label:r.label(a.row)),5))])),_:2},1032,["link","disabled","type","size","icon","style","onClick"])),[[de,[r.auth?r.auth:"ignore"]]]))),128))])),_:2},1024)):"iconfont"===t.type?(Ri(),Di(d,{key:1,class:"item",effect:"dark",content:t.popText,placement:"top",style:z({color:t.color})},{default:wn((()=>[Ui("span",{class:q(["tHandle iconfont",t.icon]),style:z([{cursor:"pointer"},{"font-size":t.fontSize?t.fontSize:"16px"}]),onClick:Js((r=>F(t,a.row,a.$index,n.tableData,e.parentIndex)),["stop"])},null,14,W2)])),_:2},1032,["content","style"])):"dropdown"===t.type?(Ri(),Di($,{key:2,onCommand:e=>t.handle(e,a.row),"hide-on-click":!1,size:n.size},{dropdown:wn((()=>[ji(W,null,{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(t.options,(e=>(Ri(),Di(L,{key:e.label,command:{label:e.label}},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["command"])))),128))])),_:2},1024)])),default:wn((()=>[ji(i,{type:"primary",size:n.size},{default:wn((()=>[zi(ee(t.label),1),ji(N,{class:"el-icon--right"},{default:wn((()=>[ji(O)])),_:1})])),_:2},1032,["size"])])),_:2},1032,["onCommand","size"])):Cn((Ri(),Di(i,{key:3,disabled:t.disabled&&t.disabled(a.row),type:t.type?t.type:t.typeFn(a.row),link:t.link,size:n.size||t.size,icon:t.icon,style:z({color:"string"==(typeof t.label).toLowerCase()&&"1"===t.label||t.textType&&"state"===t.textType&&0==a.row.state||t.textType&&"status"===t.textType&&0==a.row.status?"#FF5656":t.color,"margin-right":o.btnList.length>1&&r!==o.btnList.length-1?"10px":"0"}),onClick:Js((r=>t.handle(t,a.row,a.$index,n.tableData,e.parentIndex)),["stop"])},{default:wn((()=>[t.textType&&"state"===t.textType?(Ri(),ki("span",q2,ee(y(a.row.state)),1)):t.textType&&"status"===t.textType?(Ri(),ki("span",K2,ee(y(a.row.status)),1)):t.labelTextFn?(Ri(),ki("span",Y2,ee(t.labelTextFn(a.row)),1)):(Ri(),ki("span",{key:3,style:z(t.itemStyle&&t.itemStyle(a.row,a.$index,n.tableData,e.parentIndex))},ee("string"==(typeof t.label).toLowerCase()?t.label:t.label(a.row,a.$index,n.tableData,e.parentIndex)),5))])),_:2},1032,["disabled","type","link","size","icon","style","onClick"])),[[de,[t.auth?t.auth:"ignore"]]])]))],64)))),256))])):"buttonOne"===o.type?(Ri(),ki("div",X2,[Cn((Ri(),Di(i,{onClick:Js((t=>o.handle&&o.handle(a.row,a.$index,n.tableData,e.parentIndex)),["stop"])},{default:wn((()=>[zi(ee("string"==(typeof o.text).toLowerCase()?o.text:o.text(a.row)),1)])),_:2},1032,["onClick"])),[[de,[o.auth?o.auth:"ignore"]]]),a.row[o.iconProp]&&a.row[o.iconProp].length>0?(Ri(),Di(d,{key:0,effect:"dark",content:a.row[o.iconProp],placement:"top",style:{"margin-left":"3px"}},{default:wn((()=>t[8]||(t[8]=[Ui("i",{class:"el-icon-warning red"},null,-1)]))),_:2},1032,["content"])):Hi("",!0)])):"input"===o.type?(Ri(),ki("div",$2,[o.isDisabled&&o.isDisabled(a.row,a.$index,n.tableData,e.parentIndex)?(Ri(),ki("span",{key:0,style:z(o.itemStyle&&o.itemStyle(a.row)),size:n.size||e.btn.size,class:q(o.itemClass&&o.itemClass(a.row))},ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.prop]),15,J2)):Cn((Ri(),ki("input",{key:1,type:"text",style:z([{border:"1px solid #DCDFE6",padding:"5px 8px"},{width:o.inputWidth?o.inputWidth:o.width-40+"px",color:o.inputColor?a.row[o.inputColor]:""}]),"onUpdate:modelValue":e=>a.row[o.prop]=e,maxlength:o.maxlength,onInput:t=>o.input&&o.input(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop),onBlur:t=>o.blur&&o.blur(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop),onChange:t=>o.change&&o.change(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop),placeholder:o.placeholder,disabled:o.isDisabled&&o.isDisabled(a.row,a.$index,n.tableData,e.parentIndex)},null,44,Z2)),[[js,a.row[o.prop]]])])):"inputOnClick"===o.type?(Ri(),ki("div",Q2,[ji(J,{modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,disabled:""},null,8,["modelValue","onUpdate:modelValue"]),ji(i,{icon:o.clickIcon,onClick:Js((e=>o.handle(a.row,a.$index)),["stop"])},null,8,["icon","onClick"])])):"inputEnter"===o.type?(Ri(),ki("div",e4,[o.isDisabled&&o.isDisabled(a.row,a.$index,n.tableData,e.parentIndex)?(Ri(),ki("span",{key:0,style:z(o.itemStyle&&o.itemStyle(a.row)),size:n.size||e.btn.size,class:q(o.itemClass&&o.itemClass(a.row))},ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.prop]),15,t4)):Cn((Ri(),ki("input",{key:1,type:"text",style:z([{border:"1px solid #DCDFE6",padding:"5px 8px"},{width:o.inputWidth?o.inputWidth:o.width-40+"px",color:o.inputColor?a.row[o.inputColor]:""}]),"onUpdate:modelValue":e=>a.row[o.prop]=e,maxlength:o.maxlength,onInput:t=>o.input&&o.input(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop),onBlur:t=>o.blur&&o.blur(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop),onChange:t=>o.change&&o.change(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop),placeholder:o.placeholder,onKeyup:Qs((e=>o.keyUp&&o.keyUp(a.row)),["enter"]),disabled:o.isDisabled&&o.isDisabled(a.row,a.$index,n.tableData,e.parentIndex)},null,44,n4)),[[js,a.row[o.prop]]])])):"inputNumber"===o.type?(Ri(),ki("div",r4,[ji(Z,{modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,onChange:t=>o.change&&o.change(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop),size:o.size||"small",min:a.row[o.minNumProp],max:a.row[o.maxNumProp],precision:o.precision},null,8,["modelValue","onUpdate:modelValue","onChange","size","min","max","precision"])])):"InputNumber"===o.type?(Ri(),ki("div",o4,[a.row.disposeSolutionId?(Ri(),ki("div",i4,[Ui("span",{role:"button",class:"el-input-number__decrease",onClick:Js((t=>o.decreaseNumber&&o.decreaseNumber(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop)),["stop"])},t[9]||(t[9]=[Ui("i",{class:"el-icon-minus"},null,-1)]),8,a4),Ui("span",{role:"button",class:"el-input-number__increase",onClick:Js((t=>o.increaseNumber&&o.increaseNumber(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop)),["stop"])},t[10]||(t[10]=[Ui("i",{class:"el-icon-plus"},null,-1)]),8,s4),Ui("div",c4,[Ui("div",l4,ee(a.row[o.prop]),1)])])):(Ri(),Di(Z,{key:1,modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,size:o.size||"small",min:o.min||1,max:o.max||99,placeholder:o.placeholder,precision:o.precision,onChange:t=>o.change&&o.change(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop),disabled:o.isDisabled&&o.isDisabled(a.row,a.$index,n.tableData,e.parentIndex)},null,8,["modelValue","onUpdate:modelValue","size","min","max","placeholder","precision","onChange","disabled"]))])):"InputNumberMaxScope"===o.type?(Ri(),ki("div",u4,[ji(Z,{modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,size:o.size||"small",min:o.min||1,max:a.row[o.maxProp],placeholder:o.placeholder,precision:o.precision,onChange:t=>o.change&&o.change(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop),disabled:o.isDisabled&&o.isDisabled(a.row,a.$index,n.tableData,e.parentIndex)},null,8,["modelValue","onUpdate:modelValue","size","min","max","placeholder","precision","onChange","disabled"])])):"inputDis"===o.type?(Ri(),ki("div",d4,[Cn(Ui("input",{type:"text",style:z([{border:"1px solid #DCDFE6",padding:"5px 8px"},{width:o.inputWidth?o.inputWidth:o.width-40+"px"}]),disabled:"","onUpdate:modelValue":e=>a.row[o.prop]=e,maxlength:o.maxlength,placeholder:o.placeholder},null,12,h4),[[js,a.row[o.prop]]])])):"inputChange"===o.type?(Ri(),ki("div",p4,[Cn(Ui("input",{type:"text",style:z([{border:"1px solid #DCDFE6",padding:"5px 8px",outline:"none","border-right":"none","border-radius":"4px 0 0 4px"},{width:o.inputWidth?o.inputWidth:o.width-40+"px;"}]),disabled:!a.row.editable,"onUpdate:modelValue":e=>a.row[o.prop]=e,maxlength:o.maxlength,placeholder:o.placeholder},null,12,f4),[[js,a.row[o.prop]]]),a.row.editable?Hi("",!0):(Ri(),Di(i,{key:0,plain:"",style:z([{"border-radius":"0 4px 4px 0",padding:"8px 12px"},{"min-width":o.btnWidth?o.btnWidth:o.width-40+"px"}]),onClick:Js((t=>o.handle&&o.handle(a.row,a.$index,n.tableData,e.parentIndex)),["stop"])},{default:wn((()=>t[11]||(t[11]=[Ui("i",{class:"el-icon-edit"},null,-1)]))),_:2},1032,["style","onClick"])),a.row.editable?(Ri(),Di(i,{key:1,plain:"",style:z([{"border-radius":"0 4px 4px 0",padding:"8px 12px"},{"min-width":o.btnWidth?o.btnWidth:o.width-40+"px"}]),onClick:Js((t=>o.handle&&o.handle(a.row,a.$index,n.tableData,e.parentIndex)),["stop"])},{default:wn((()=>t[12]||(t[12]=[Ui("i",{class:"el-icon-check"},null,-1)]))),_:2},1032,["style","onClick"])):Hi("",!0)])):"dragInfo"===o.type?(Ri(),ki("div",{key:28,style:z(o.itemStyle&&o.itemStyle(a.row)),size:n.size||e.btn.size,class:q(o.itemClass&&o.itemClass(a.row))},[Ui("div",g4,[Ui("div",null,[Ui("span",null,ee(a.row.materialName_v),1),Ui("span",v4,ee(a.row.commenName),1),Ui("span",null,ee(a.row.spec),1)]),Ui("div",null,[Ui("span",y4,ee(a.row.approvalNum),1),Ui("span",_4,ee(a.row.production_v),1)])])],14,m4)):"select"===o.type?(Ri(),ki("div",E4,[o.isIcon&&o.isIcon(a.row,a.$index,n.tableData,e.parentIndex)?(Ri(),ki("span",{key:0,class:q(["iconfont",o.icon?o.icon:"icon-zengpin"]),style:z([{"margin-right":"4px"},{color:o.color?o.color:"#FA7043"}])},null,6)):Hi("",!0),o.isDisabled&&o.isDisabled(a.row,a.$index,n.tableData,e.parentIndex)?(Ri(),ki("span",{key:1,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.disProp]),7)):(Ri(),Di(te,{key:2,modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,props:o.props,filterable:"",disabled:o.isDisabled&&o.isDisabled(a.row,a.$index,n.tableData,e.parentIndex),onChange:t=>o.change&&o.change(a.row,a.$index,n.tableData,e.parentIndex,t,o.prop)},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(o.options,(e=>(Ri(),Di(Q,{label:o.props?e[o.props.label]:e.label,value:o.props?e[o.props.value]:e.value,key:o.props?e[o.props.value]:e.value},{default:wn((()=>[Ui("span",null,ee(o.props?e[o.props.label]:e.label),1),e.deptString?(Ri(),ki("span",b4,""+ee(e.deptString)+"",1)):Hi("",!0)])),_:2},1032,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","props","disabled","onChange"]))])):"selectOps"===o.type?(Ri(),Di(te,{key:30,modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,props:o.props,disabled:o.isDisabled&&o.isDisabled(a.row),filterable:"","filter-method":e=>o.filterMethod(e,a.row,a.$index),onChange:e=>o.change&&o.change(e,a.row,a.$index)},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(n.tableData[a.$index][o.optionsName],(e=>(Ri(),Di(Q,{label:o.props?e[o.props.label]:e.label,value:o.props?e[o.props.value]:e.value,key:o.props?e[o.props.value]:e.value},{default:wn((()=>[Ui("span",T4,ee(o.props?e[o.props.label]:e.label),1),e.deptString?(Ri(),ki("span",S4,""+ee(e.deptString)+"",1)):Hi("",!0)])),_:2},1032,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","props","disabled","filter-method","onChange"])):"radioGroup"===o.type?(Ri(),Di(re,{key:31,modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,disabled:o.isDisabled&&o.isDisabled(a.row),onChange:e=>o.change&&o.change(a.row)},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(o.radios,(e=>(Ri(),ki(Ei,null,[e.hide&&e.hide(a.row)?Hi("",!0):(Ri(),Di(ne,{label:e.value,key:e.value},{default:wn((()=>[zi(ee("string"==(typeof e.label).toLowerCase()?e.label:e.label(a.row)),1)])),_:2},1032,["label"]))],64)))),256))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])):"checkbox"===o.type?(Ri(),Di(oe,{key:32,modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,disabled:o.isDisabled&&o.isDisabled(a.row),onChange:e=>o.change&&o.change(a.row)},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(o.checkboxs,(e=>(Ri(),Di(r,{label:e.value,key:e.value},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])):"customRadio"===o.type?(Ri(),Di(r,{key:33,modelValue:a.row.isCheck,"onUpdate:modelValue":e=>a.row.isCheck=e,onChange:e=>o.change&&o.change(a.row,a.$index),class:"tableRowRadioBox"},null,8,["modelValue","onUpdate:modelValue","onChange"])):"datePicker"===o.type?(Ri(),Di(ie,{key:34,type:"date",modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,style:z({width:o.inputWidth,minWidth:o.inputMinWidth}),format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},null,8,["modelValue","onUpdate:modelValue","style"])):"rate"===o.type?(Ri(),Di(ae,{key:35,modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,disabled:o.isDisabled&&o.isDisabled(a.row),onChange:e=>o.change&&o.change(a.row)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"])):"switch"===o.type?(Ri(),Di(se,{key:36,modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,"active-value":o.values&&o.values[0],"inactive-value":o.values&&o.values[1],disabled:o.isDisabled&&o.isDisabled(a.row),onChange:e=>o.change&&o.change(a.row)},null,8,["modelValue","onUpdate:modelValue","active-value","inactive-value","disabled","onChange"])):"image"!==o.type||o.popover?"imageList"===o.type?(Ri(),ki("div",R4,[(Ri(!0),ki(Ei,null,Hr(a.row[o.prop],((e,t)=>(Ri(),Di(ce,{key:t,src:e,fit:"scale-down","preview-src-list":[e],style:{width:"60px",margin:"5px 5px 0 0"}},null,8,["src","preview-src-list"])))),128))])):"slider"===o.type?(Ri(),Di(le,{key:39,modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,disabled:o.isDisabled&&o.isDisabled(a.row),onChange:e=>o.change&&o.change(a.row)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"])):"checkPrice"===o.type?(Ri(),ki("div",I4,[a.row.limitStatus_v&&a.row.limitStatus_v.length>0?(Ri(),Di(d,{key:0,effect:"dark",content:a.row.limitStatus_v,placement:"top",style:{"margin-left":"3px"}},{default:wn((()=>["1"==a.row.limitStatus?(Ri(),ki("i",A4)):Hi("",!0),"2"==a.row.limitStatus?(Ri(),ki("i",O4)):Hi("",!0),"3"==a.row.limitStatus?(Ri(),ki("i",N4)):Hi("",!0)])),_:2},1032,["content"])):Hi("",!0)])):"toothPosition"===o.type?(Ri(),ki("div",{key:41,onClick:Js((t=>o.handle&&o.handle(a.row,a.$index,n.tableData,e.parentIndex)),["stop"]),style:z({cursor:o.handle?"pointer":""})},[Ui("div",D4,[Ui("div",x4,ee(a.row[o.prop]?a.row[o.prop][3]:""),1),Ui("div",P4,ee(a.row[o.prop]?a.row[o.prop][0]:""),1)]),Ui("div",M4,[Ui("div",L4,ee(a.row[o.prop]?a.row[o.prop][2]:""),1),Ui("div",U4,ee(a.row[o.prop]?a.row[o.prop][1]:""),1)])],12,k4)):"percentage*100"===o.type?(Ri(),ki("span",j4,ee(""!==Lt(J$).removeIllegalStr(a.row[o.prop])?(100*Number(a.row[o.prop])).toFixed(2)+"%":""),1)):"percentage"===o.type?(Ri(),ki("span",V4,ee(""!==Lt(J$).removeIllegalStr(a.row[o.prop])?Number(a.row[o.prop]).toFixed(2)+"%":""),1)):"disposeSolutionMark"===o.type?(Ri(),ki("div",B4,[a.row&&a.row.disposeSolutionId&&a.row.disposeSolutionId.length>0?(Ri(),ki("div",z4)):Hi("",!0),Ui("div",{class:q(["cusTableOverflow",o.itemClass&&o.itemClass(a.row)]),style:z(o.itemStyle&&o.itemStyle(a.row))},ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.prop]),7)])):"qrCode"===o.type?(Ri(),ki("div",F4,[Ui("div",H4,[ji($,{ref_for:!0,ref_key:"messageDrop",ref:X,class:"customDropdown",placement:"top"},{dropdown:wn((()=>[ji(W,null,{default:wn((()=>t[13]||(t[13]=[Ui("div",{class:"dropdownWrapper",style:{padding:"0 12px"}},null,-1)]))),_:1})])),default:wn((()=>[t[14]||(t[14]=Ui("div",{class:"el-dropdown-link",style:{cursor:"pointer"}},[Ui("span",{class:"iconfont icon-erweima",style:{cursor:"pointer"}}),Ui("div",{style:{width:"0",height:"0",overflow:"hidden"}})],-1))])),_:1},512),Ui("span",{onClick:Js((t=>o.handle&&o.handle(a.row,a.$index,n.tableData,e.parentIndex)),["stop"]),class:"iconfont icon-xiazai",style:{cursor:"pointer",color:"#136DED","padding-left":"8px"}},null,8,G4)])])):"editabled"===o.type?(Ri(),ki("div",{key:46,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row)),onClick:Js((t=>o.handle&&o.handle(a.row,a.$index,n.tableData,e.parentIndex)),["stop"])},[Ui("span",q4,[ji(d,{class:"item",effect:"dark",content:"",placement:"top"},{default:wn((()=>t[15]||(t[15]=[Ui("span",{class:"tHandle iconfont icon-tuodong",style:{"margin-top":"5px","margin-right":"10px"}},null,-1)]))),_:1}),a.row.isEdit?(Ri(),ki("span",K4,[ji(J,{type:"text",modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,placeholder:o.placeholder,maxlength:o.maxlength},null,8,["modelValue","onUpdate:modelValue","placeholder","maxlength"])])):(Ri(),ki("span",Y4,[Ui("span",null,ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.prop]),1)]))])],14,W4)):"list"===o.type?(Ri(),ki("span",X4,ee(o.prop),1)):"select_options"===o.type?(Ri(),ki("div",$4,[ji(te,{modelValue:a.row[o.prop],"onUpdate:modelValue":e=>a.row[o.prop]=e,multiple:"",props:o.props,disabled:o.isDisabled&&o.isDisabled(a.row)},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(o.options,(e=>(Ri(),Di(Q,{label:o.props?e[o.props.label]:e.label,value:o.props?e[o.props.value]:e.value,key:o.props?e[o.props.value]:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","props","disabled"])])):"checkeds"===o.type?(Ri(),ki("div",J4,[ji(oe,{modelValue:a.row[o.prop1],"onUpdate:modelValue":e=>a.row[o.prop1]=e,disabled:o.isDisabled1&&o.isDisabled1(a.row),onChange:e=>o.change1&&o.change1(a.row)},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(o.checkboxs1,(e=>(Ri(),Di(r,{label:e.value,key:e.value},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"]),Cn(ji(oe,{modelValue:a.row[o.prop2],"onUpdate:modelValue":e=>a.row[o.prop2]=e,onChange:e=>o.change2&&o.change2(a.row)},{default:wn((()=>[(Ri(!0),ki(Ei,null,Hr(o.checkboxs2,(e=>(Ri(),Di(r,{label:e.value,key:e.value},{default:wn((()=>[zi(ee(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),[[Za,o.isDisabled2(a.row)]])])):"divs"===o.type?(Ri(),ki("div",Z4,[Ui("div",{style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},ee(o.formatter1&&o.formatter1(o.prop,a.row,o.codeType)),7),Ui("div",{style:z(o.itemStyle&&o.itemStyle(a.row)),class:q(o.itemClass&&o.itemClass(a.row))},ee(o.formatter2&&o.formatter2(o.prop,a.row,o.codeType)),7)])):Hi("",!0):(Ri(),ki("div",w4,[a.row[o.prop]?(Ri(),Di(ce,{key:0,src:a.row[o.prop],fit:"scale-down",style:z({width:o.imgWidth?o.imgWidth:"60px"})},null,8,["src","style"])):Hi("",!0),a.row[o.prop]||o.isBlank?Hi("",!0):(Ri(),ki("span",C4,""))])):(Ri(),ki("div",b2,[o.isIcon&&o.isIcon(a.row,a.$index,n.tableData,e.parentIndex)?(Ri(),ki("span",{key:0,class:q(["iconfont",o.icon?o.icon:"icon-zengpin"]),style:z([{"margin-right":"4px"},{color:o.color?o.color:"#FA7043"}])},null,6)):Hi("",!0),Ui("div",{class:q({cusTableOverflow:o.overflow})},[o.phoneHidden?(Ri(),ki("span",T2,ee((c=a.row[o.prop],J$.mobileShow(c))),1)):o.buttonClick?Cn((Ri(),Di(i,{key:1,onClick:Js((t=>o.handle&&o.handle(a.row,a.$index,n.tableData,e.parentIndex)),["stop"])},{default:wn((()=>[zi(ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.prop]),1)])),_:2},1032,["onClick"])),[[de,[o.auth?o.auth:"ignore"]]]):o.isClick&&!0===o.isClick?(Ri(),ki("span",{key:2,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q([o.itemClass&&o.itemClass(a.row),o.isClick&&!0===o.isClick?"mPoint textUnderline":""]),onClick:Js((e=>B(a.row,o)),["stop"])},ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.prop]),15,S2)):(Ri(),ki("span",{key:3,style:z(o.itemStyle&&o.itemStyle(a.row)),class:q([o.itemClass&&o.itemClass(a.row),o.isClick&&!0===o.isClick?"mPoint textUnderline":""])},ee(o.formatter&&o.formatter(o.prop,a.row,o.codeType)||a.row[o.prop]),7))],2),o.isIconRight&&o.isIconRight(a.row,a.$index,n.tableData,e.parentIndex)?(Ri(),ki("span",{key:1,class:q(["iconfont",o.iconRight?o.iconRight:"icon-fuzhi"]),style:z([{"margin-left":"4px",cursor:"pointer"},{color:o.color?o.color:"#7492BD","font-size":o.fontSize?o.fontSize:"16px"}]),onClick:Js((t=>o.iconRightHandle&&o.iconRightHandle(a.row,a.$index,n.tableData,e.parentIndex)),["stop"])},null,14,w2)):Hi("",!0),o.abandon&&o.abandon(a.row,a.$index,n.tableData,e.parentIndex)?(Ri(),ki("span",C2," ")):Hi("",!0)]))];var s,c})),_:2},1032,["prop","label","fixed","width","min-width","align","render-header","show-overflow-tooltip","sortable"])):Hi("",!0)],64)))),256))])),_:1},8,["data","size","border","max-height","height","defaultSelections","highlight-current-row","cell-style","show-header","row-key","empty-text","tableRowClassPageName","show-summary","default-expand-all"])),[[he,n.loading]])]),Ui("section",Q4,[e.tablePage.total>0?(Ri(),Di(ue,{key:0,onCurrentChange:C,layout:"total, sizes, prev, pager, next, ->,jumper","page-size":e.tablePage.page_size,"current-page":e.tablePage.page,"onUpdate:pageSize":R,"page-sizes":e.tablePage.pageSizeRange?e.tablePage.pageSizeRange:[10,20,50,100,200,300],total:e.tablePage.total},null,8,["page-size","current-page","page-sizes","total"])):Hi("",!0)])])}}},t3=wU(e3,[["__scopeId","data-v-36e242f8"]]),n3=ac(kG);n3.use(Dz),n3.use(LV),n3.use(oG),n3.use((function(e){e.directive("hasPermi",PG)})),n3.component("searchForm",$Q),n3.component("cusTable",t3),n3.component("svgIcon",xG);for(const[_,$]of Object.entries(QT))n3.component(_,$);n3.mount("#app");export{Ax as $,sI as A,eI as B,UN as C,nO as D,QR as E,Cn as F,js as G,kL as H,Dz as I,Ei as J,Hr as K,Di as L,JN as M,ZN as N,To as O,Vr as P,Lz as Q,ma as R,Ir as S,iG as T,fF as U,bo as V,gr as W,IA as X,Ox as Y,Nx as Z,wU as _,Ui as a,vf as a$,vk as a0,Et as a1,Za as a2,lL as a3,cL as a4,AP as a5,ro as a6,ni as a7,Ak as a8,Rk as a9,Qr as aA,DS as aB,GS as aC,VS as aD,jD as aE,qp as aF,La as aG,kD as aH,ZI as aI,Ki as aJ,q as aK,Wr as aL,tg as aM,_A as aN,oR as aO,lS as aP,LV as aQ,kV as aR,pS as aS,fc as aT,Hp as aU,Gp as aV,Fp as aW,JA as aX,oS as aY,Vp as aZ,lf as a_,VD as aa,EF as ab,_F as ac,cP as ad,sP as ae,jx as af,gF as ag,Br as ah,BL as ai,SG as aj,TG as ak,hG as al,ID as am,Qn as an,xt as ao,$o as ap,It as aq,Nr as ar,z as as,yr as at,bk as au,J$ as av,$Q as aw,rS as ax,LD as ay,UD as az,Fi as b,yI as b$,ga as b0,g as b1,bA as b2,Qi as b3,Vc as b4,tS as b5,AS as b6,wE as b7,Qc as b8,CS as b9,qT as bA,zm as bB,Wm as bC,Om as bD,r as bE,uR as bF,mv as bG,JT as bH,Xg as bI,Ns as bJ,S as bK,Oh as bL,Lp as bM,dl as bN,Bp as bO,Gr as bP,Fx as bQ,Pq as bR,Px as bS,wS as bT,UC as bU,lR as bV,K as bW,Vi as bX,iO as bY,_r as bZ,nM as b_,VO as ba,y as bb,mp as bc,d as bd,dn as be,Gt as bf,dS as bg,Kr as bh,QT as bi,bp as bj,gS as bk,fp as bl,xp as bm,m as bn,Ap as bo,Zx as bp,Oc as bq,u as br,Rp as bs,Cp as bt,Np as bu,A_ as bv,dm as bw,Or as bx,Hc as by,cR as bz,ki as c,Ik as c$,QN as c0,Ip as c1,Bc as c2,Mp as c3,kt as c4,xi as c5,vS as c6,sS as c7,f as c8,yS as c9,Jm as cA,WC as cB,iI as cC,cO as cD,SA as cE,TA as cF,CA as cG,RA as cH,DA as cI,NA as cJ,kA as cK,OA as cL,AA as cM,rO as cN,_k as cO,yk as cP,tk as cQ,lk as cR,uk as cS,dk as cT,fk as cU,MN as cV,PN as cW,AN as cX,IN as cY,ON as cZ,jN as c_,lA as ca,YC as cb,Vm as cc,Hm as cd,f_ as ce,gd as cf,Dp as cg,pl as ch,kp as ci,nS as cj,lI as ck,Xp as cl,_S as cm,bS as cn,TS as co,SS as cp,op as cq,Md as cr,nT as cs,tT as ct,Sd as cu,Pp as cv,Xc as cw,hl as cx,pf as cy,fb as cz,ji as d,jP as d$,nR as d0,tR as d1,XC as d2,QC as d3,ZC as d4,JC as d5,rR as d6,Hk as d7,Gk as d8,DD as d9,Bx as dA,Vx as dB,OD as dC,AD as dD,CP as dE,wP as dF,Hx as dG,TI as dH,bI as dI,OI as dJ,tA as dK,eA as dL,QI as dM,wI as dN,EI as dO,_I as dP,CI as dQ,NI as dR,aA as dS,sA as dT,zN as dU,BN as dV,VN as dW,YN as dX,KN as dY,WN as dZ,FN as d_,fx as da,mx as db,hx as dc,px as dd,lx as de,dx as df,ux as dg,sx as dh,cx as di,ax as dj,gx as dk,mR as dl,pR as dm,fR as dn,YR as dp,KR as dq,sR as dr,dR as ds,hR as dt,iR as du,Lx as dv,Mx as dw,Dx as dx,kx as dy,aI as dz,zi as e,kS as e$,UP as e0,BP as e1,wk as e2,Sk as e3,Ck as e4,Tk as e5,cI as e6,uI as e7,vI as e8,gI as e9,IO as eA,wN as eB,NO as eC,bN as eD,mA as eE,pA as eF,hA as eG,dA as eH,fA as eI,uA as eJ,cA as eK,_L as eL,yL as eM,hL as eN,bL as eO,SL as eP,TL as eQ,EL as eR,NP as eS,OP as eT,LP as eU,xP as eV,mS as eW,fS as eX,FO as eY,qO as eZ,yN as e_,hI as ea,dI as eb,Jx as ec,lP as ed,GP as ee,FP as ef,zP as eg,ZP as eh,eM as ei,QP as ej,gk as ek,mk as el,mO as em,_O as en,vO as eo,yO as ep,TO as eq,SO as er,bO as es,gO as et,EO as eu,pO as ev,fO as ew,hO as ex,dO as ey,RO as ez,Dt as f,FT as f$,xS as f0,US as f1,MS as f2,jS as f3,LS as f4,WS as f5,YS as f6,XS as f7,pC as f8,fC as f9,FC as fA,qC as fB,KC as fC,Cf as fD,wb as fE,iS as fF,Op as fG,ic as fH,uS as fI,hF as fJ,hU as fK,jb as fL,yF as fM,oG as fN,CF as fO,YH as fP,vF as fQ,oO as fR,fj as fS,nJ as fT,pj as fU,bU as fV,OG as fW,lF as fX,Vb as fY,FH as fZ,Sv as f_,mC as fa,vC as fb,_C as fc,yC as fd,TC as fe,wC as ff,SC as fg,RC as fh,CC as fi,IC as fj,AC as fk,OC as fl,BS as fm,FS as fn,HS as fo,xC as fp,DC as fq,MC as fr,PC as fs,LC as ft,jC as fu,VC as fv,BC as fw,zC as fx,HC as fy,GC as fz,yt as g,dz as g0,KH as g1,Zo as h,Hi as i,bG as j,zt as k,Lt as l,LT as m,Qs as n,Ri as o,L_ as p,AE as q,Ur as r,Js as s,ee as t,dG as u,Sz as v,wn as w,Tz as x,EG as y,aR as z};
