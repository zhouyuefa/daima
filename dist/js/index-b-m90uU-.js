import{f as e,ao as a,av as l,j as t,S as o,r,o as s,c as i,a as n,d as p,w as h,aw as d}from"./index-BdR_P0jW.js";/* empty css                */import{E as u}from"./index-C5CR2e01.js";const b={class:"boxElMain"},c={class:"box boxFlex"},w={__name:"index",setup(w){const m=e({getList:"/admin/order_car/index/lists",exportExcel:"/info/loginLog/export"});e();const v=a([{type:"Input",label:"子订单号",prop:"order_no",placeholder:"请输入机构名称",maxlength:100,options:[],props:{label:"name",value:"id"},width:"280px"},{type:"Input",label:"手机号",prop:"customer_mobile",clearable:!0,placeholder:"请输入手机号",width:"280px",maxlength:100},{type:"Select",label:"状态",prop:"status",width:"280px",options:[{label:"全部",value:"all"},{label:"待付款",value:"-1"},{label:"待接单",value:"0"},{label:"待服务",value:"1"},{label:"服务中",value:"service"},{label:"已到达",value:"5"},{label:"已完成",value:"6"},{label:"已取消",value:"7"}],placeholder:"请输入登录人名称",maxlength:20}]),g=e({order_no:"",customer_mobile:"",status:""}),_=e([{label:"查 询",icon:"Search",handle:()=>H()},{label:"重置",handle:()=>D()}]),x=e([]),f=e({pageCurrent:1,pageSize:20,totalPages:0,params:{}}),y=e([{label:"子订单号",prop:"order_no",width:"200",show:!0},{label:"乘车人",prop:"customer_name",width:"150",show:!0},{label:"用户手机",prop:"customer_mobile",width:"120",show:!0},{label:"总价格",prop:"total_price",width:"170",show:!0},{label:"汽车公司价格",prop:"order_price_c",width:"170",show:!0},{label:"航班号",prop:"flight_no",width:"160",show:!0},{label:"出发城市",prop:"open_city",width:"160",show:!0},{label:"上车点",prop:"on_point",width:"160",show:!0},{label:"下车点",prop:"off_point",width:"160",show:!0},{label:"状态",prop:"step_name",width:"160",show:!0},{label:"用车时间",prop:"use_time",width:"160",show:!0},{label:"详情",width:"160",type:"buttonOne",show:!0,showTooltip:!0,buttonClickJ:!0,fixed:"right",text:"详情",handle:e=>C(e)},{label:"操作",prop:"use_time",width:"240",show:!0,fixed:"right",type:"button",btnList:[{label:"联系司机",type:"primary",permi:"['ordermanager/private/detail']",handle:(e,a,l,t,o)=>j(e,a)},{label:"联系乘客",type:"warning",permi:"['ordermanager/private/detail']",handle:()=>S()}]}]),H=()=>{f.pageCurrent=1,E()},C=e=>{},j=(e,a,l,t,o)=>{},S=()=>{},D=()=>{l.clearObj(g),f.pageCurrent=1,E()},E=async e=>{f.value=e;const a=await t(m.value.getList,{...f.value,...g.value});if(a&&(x.value=[],f.value=(null==a?void 0:a.page)||{},x.value.splice(0),a.list.length>0))for(let l=0;l<a.list.length;l++){let e=a.list[l];x.value.push(e)}};return o((()=>{E(),(async()=>{})()})),(e,a)=>{const l=d,t=r("cusTable"),o=u;return s(),i("div",b,[n("div",c,[p(o,null,{default:h((()=>[p(l,{ref:"ssss",searchForm:v.value,searchData:g.value,searchHandle:_.value,searchHandleRight:e.searchHandleRight,onHandleEnterSearch:H,onHandleReset:D},null,8,["searchForm","searchData","searchHandle","searchHandleRight"]),p(t,{ref:"cusTable",height:"calc(100vh - 240px)","row-key":"test_admin_user_id",isPagination:!0,isHandle:!0,tableCols:y.value,tableData:x.value,tablePage:f.value,onHandleCurrentChange:E},null,8,["tableCols","tableData","tablePage"])])),_:1})])])}}};export{w as default};
