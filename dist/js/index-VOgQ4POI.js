import{_ as a,f as e,o as l,c as t,d as s,w as u,a as d,J as i,K as r,L as n,e as p,j as o,y as v,am as m,ad as _,ae as c,D as b,a3 as g,a4 as w,a5 as h}from"./index-BdR_P0jW.js";/* empty css                */import{E as y}from"./index-C5ggMqbd.js";const f={class:"mb20"},z=a(Object.assign({name:"company/withdrawals_list/index"},{__name:"index",setup(a){const z=e([]),x=e([]),V=e({status:"all",bill_day:[],driver_user_id:""}),j=e([{value:"all",label:"全部"},{value:"0",label:"未打款"},{value:"1",label:"已打款"}]),D=e({page:1,page_size:20,total:0});(async()=>{const a=await o("/admin/drivers/audit_success");x.value=a||[]})();const k=async()=>{const a=await v("/admin/driver_withdraw/lists",{status:V.value.status,bill_day:V.value.bill_day,driver_user_id:V.value.driver_user_id,page:D.value.page,page_size:D.value.page_size});z.value=(null==a?void 0:a.list)||[],D.value=(null==a?void 0:a.page)||{}};k();const U=a=>{D.value.page_size=a,k()},C=a=>{D.value.page=a,k()};return(a,e)=>{const o=m,v=_,Y=c,H=b,I=g,M=w,S=h,E=y;return l(),t("div",null,[s(E,null,{header:u((()=>e[6]||(e[6]=[d("span",null,"司机对账单",-1)]))),default:u((()=>[d("div",f,[s(o,{modelValue:V.value.bill_day,"onUpdate:modelValue":e[0]||(e[0]=a=>V.value.bill_day=a),type:"daterange","range-separator":"至","start-placeholder":"开始出账日期","end-placeholder":"结束出账日期","value-format":"YYYY-MM-DD HH:mm:ss","default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,2,1,23,59,59)]},null,8,["modelValue","default-time"]),s(Y,{class:"ml30",modelValue:V.value.driver_user_id,"onUpdate:modelValue":e[1]||(e[1]=a=>V.value.driver_user_id=a),placeholder:"请选择司机",style:{width:"280px"},clearable:"",filterable:""},{default:u((()=>[(l(!0),t(i,null,r(x.value,(a=>(l(),n(v,{key:a.user_id,label:a.sur+a.name,value:a.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),s(Y,{class:"ml30",modelValue:V.value.status,"onUpdate:modelValue":e[2]||(e[2]=a=>V.value.status=a),placeholder:"订单类型",style:{width:"280px"}},{default:u((()=>[(l(!0),t(i,null,r(j.value,(a=>(l(),n(v,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),s(H,{class:"ml30",type:"primary",onClick:e[3]||(e[3]=a=>(D.value.page=1,void k()))},{default:u((()=>e[7]||(e[7]=[p("查询")]))),_:1})]),s(M,{data:z.value,"row-key":"id",class:"mt5"},{default:u((()=>[s(I,{prop:"id",label:"ID","min-width":"10",sortable:"",width:"90"}),s(I,{prop:"bill_day",label:"出帐日","min-width":"10"}),s(I,{prop:"driver.full_name",label:"司机姓名","min-width":"10"}),s(I,{prop:"driver.admin_real_name",label:"所属公司","min-width":"10"}),s(I,{prop:"price",label:"金额(TN)","min-width":"10"}),s(I,{prop:"status_text",label:"打款状态","min-width":"10"}),s(I,{prop:"audit_at",label:"打款时间","min-width":"10"})])),_:1},8,["data"]),s(S,{background:"",layout:"total, sizes, prev, pager, next, ->, jumper","current-page":D.value.page,"onUpdate:currentPage":e[4]||(e[4]=a=>D.value.page=a),"page-size":D.value.page_size,"onUpdate:pageSize":e[5]||(e[5]=a=>D.value.page_size=a),total:D.value.total,class:"ml10 mt10",onSizeChange:U,onCurrentChange:C},null,8,["current-page","page-size","total"])])),_:1})])}}}),[["__scopeId","data-v-8cc0c465"]]);export{z as default};
