import{_ as e,Q as s,H as a,fJ as t,ar as o,r,o as n,c,d as i,w as _,ag as d,fK as m}from"./index-BdR_P0jW.js";/* empty css                 *//* empty css                  *//* empty css                *//* empty css                  *//* empty css                   *//* empty css                                                                   */import{g as p}from"./route-CzX1plMs.js";import{u as E}from"./keepalive-JK8JSjvp.js";import{E as l,b as f}from"./index-C5CR2e01.js";const N={class:"app-container"},g=e(Object.assign({name:"Chat/index"},{__name:"index",setup(e){const g=s(),{CHAT_TYPE:u}=d,{EVENT_NAME:T,CALLKIT_EVENT_CODE:A,SUB_CHANNEL_EVENT:j,UN_SUB_CHANNEL_ENENT:L}=m();j(T,(e=>{const{type:s,ext:o,callType:r,eventHxId:n}=e;if(s.code===A.CALLEE_REFUSE||s.code===A.CALLEE_BUSY||s.code===A.OTHER_HANDLE){a({type:"error",message:o.message,center:!0});const e={from:t.user,to:n,chatType:2===r?u.GROUP:u.SINGLE,msg:o.message};g.dispatch("createInformMessage",{...e})}else if(s.code===A.NOT_HAVE_MICROPHONE||s.code===A.NOT_HAVE_CAMERA)a({type:"warning",message:o.message,center:!0});else if(n){const e={from:t.user,to:n,chatType:2===r?u.GROUP:u.SINGLE,msg:o.message};g.dispatch("createInformMessage",{...e})}}));const h=p("/chat/index"),v=E();return v.addMenuTag(h.menu_id,h),v.addKaRoute("chat/conversation"),o((()=>{L(T)})),(e,s)=>{const a=r("router-view"),t=l,o=f;return n(),c("div",N,[i(o,{class:"chat_container"},{default:_((()=>[i(t,{class:"chat_main_box"},{default:_((()=>[i(a)])),_:1})])),_:1})])}}}),[["__scopeId","data-v-5931ad65"]]);export{g as default};
