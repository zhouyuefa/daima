import{_ as e,f as a,g as l,o as u,c as d,d as s,w as t,a as o,J as i,K as n,L as r,e as p,j as _,y as v,H as m,ad as f,ae as c,B as g,A as b,D as y,E as w}from"./index-BdR_P0jW.js";/* empty css                */import{E as V}from"./index-C5ggMqbd.js";const x=e(Object.assign({name:"admin/upload/setting"},{__name:"setting",setup(e){const x=a(null),h=a({}),j=l({upload_drive:[{required:!0,message:"请输入上传驱动",trigger:"blur"}],upload_allow_ext:[{required:!0,message:"请输入上传格式",trigger:"blur"}]}),k=a([]),z=async()=>{const e=await _("/admin/upload/setting/info");if(!e)return;const{driver_list:a,setting:l}=e||{};h.value.upload_drive=a.value,h.value=l,k.value=a};(async()=>{z()})();const U=async()=>{await v("/admin/upload/setting",{setting:h.value})&&m.success("修改成功")};return(e,a)=>{const l=f,_=c,v=g,m=b,z=y,q=w,D=V;return u(),d("div",null,[s(D,null,{header:t((()=>a[4]||(a[4]=[o("span",null,"上传配置",-1)]))),default:t((()=>[s(q,{ref_key:"siteDataRef",ref:x,model:h.value,"label-width":"auto",rules:j,style:{width:"50vh"}},{default:t((()=>[s(v,{label:"上传驱动",prop:"upload_drive"},{default:t((()=>[s(_,{modelValue:h.value.upload_drive,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value.upload_drive=e),clearable:"",placeholder:"上传驱动"},{default:t((()=>[(u(!0),d(i,null,n(k.value,(e=>(u(),r(l,{key:e.value,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(v,{label:"上传格式",prop:"upload_allow_ext"},{default:t((()=>[s(m,{modelValue:h.value.upload_allow_ext,"onUpdate:modelValue":a[1]||(a[1]=e=>h.value.upload_allow_ext=e)},null,8,["modelValue"])])),_:1}),s(v,{label:"上传文件大小",prop:"upload_file_size"},{default:t((()=>[s(m,{modelValue:h.value.upload_file_size,"onUpdate:modelValue":a[2]||(a[2]=e=>h.value.upload_file_size=e),placeholder:"上传文件大小"},null,8,["modelValue"])])),_:1}),s(v,null,{default:t((()=>[s(z,{type:"primary",onClick:a[3]||(a[3]=e=>(async e=>{e&&e.validate((e=>{e&&U()}))})(x.value))},{default:t((()=>a[5]||(a[5]=[p(" 保存 ")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])}}}),[["__scopeId","data-v-fb136d41"]]);export{x as default};
