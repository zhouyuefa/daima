import{_ as a,f as e,g as l,ah as t,o as n,c as s,d as i,w as o,a as d,F as r,L as c,e as m,t as p,j as u,ai as _,aj as f,H as b,D as y,a3 as w,a4 as j}from"./index-BdR_P0jW.js";/* empty css                */import x from"./roleForm-CXjq2lTn.js";import{E as h}from"./index-C5ggMqbd.js";/* empty css                */import"./index-D1LW7kyL.js";import"./index-SLBSEZ_O.js";const g=a(Object.assign({name:"admin/role/index"},{__name:"index",setup(a){const g=e([]),v=e(!1),k=l({}),C=async()=>{const a=await u("/admin/role/index/lists");g.value=(null==a?void 0:a.lists)||[]},O=a=>{(a=>{for(const e of Object.keys(a))delete a[e]})(k),Object.assign(k,a),v.value=!0},V=async()=>{C()};return(async()=>{C()})(),(a,e)=>{const l=y,u=w,C=j,B=h,D=t("hasPermi");return n(),s("div",null,[i(B,null,{header:o((()=>e[2]||(e[2]=[d("span",null,"角色管理",-1)]))),default:o((()=>[r((n(),c(l,{class:"mb8",type:"primary",onClick:e[0]||(e[0]=a=>O({role_id:0}))},{default:o((()=>e[3]||(e[3]=[m("添加")]))),_:1})),[[D,["admin/role/edit"]]]),i(C,{data:g.value,"row-key":"role_id",border:"","default-expand-all":"",class:"no-card-table mt5"},{default:o((()=>[i(u,{prop:"role_id",label:"ID",width:"210px",sortable:""}),i(u,{prop:"role_name",label:"名称","min-width":"10"}),i(u,{prop:"description",label:"描述","min-width":"30",align:"center"},{default:o((({row:a})=>[d("span",null,p(a.description?a.description:"--"),1)])),_:1}),i(u,{prop:"created_at",label:"创建时间","min-width":"20"}),i(u,{label:"操作",align:"center",width:"220","min-width":"220"},{default:o((({row:a})=>[r((n(),c(l,{type:"primary",onClick:e=>O(a)},{default:o((()=>e[4]||(e[4]=[m("编辑")]))),_:2},1032,["onClick"])),[[D,["admin/role/edit"]]]),r((n(),c(l,{type:"danger",onClick:e=>(async({role_id:a})=>{_.confirm("是否确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await f("/admin/role/delete/"+a)&&(b({type:"success",message:"删除成功"}),V())})).catch((()=>{}))})(a)},{default:o((()=>e[5]||(e[5]=[m("删除")]))),_:2},1032,["onClick"])),[[D,["admin/role/delete"]]])])),_:1})])),_:1},8,["data"])])),_:1}),i(x,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=a=>v.value=a),data:k,onSubmit:V},null,8,["modelValue","data"])])}}}),[["__scopeId","data-v-720b6753"]]);export{g as default};
