import{ax as e,aY as t,b5 as s,an as o,d4 as n,f as a,R as l,c7 as i,S as r,by as u,o as c,L as p,w as f,F as d,a as m,aK as v,l as y,as as g,z as b,P as h,i as C,t as x,aL as k,c as S,J as L,a2 as I,s as T,d as _,aG as E,aO as H,fF as M,b4 as w,aS as z,bq as B,b1 as N,c5 as F,fG as $,fH as j,fI as q}from"./index-BdR_P0jW.js";const A=["success","info","warning","error"],O=e({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:t},id:{type:String,default:""},message:{type:s([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:s(Function),default:()=>{}},onClose:{type:s(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...A,""],default:""},zIndex:Number}),G={destroy:()=>!0},U=o({name:"ElNotification"});var W=H(o({...U,props:O,emits:G,setup(e,{expose:t}){const s=e,{ns:o,zIndex:H}=n("notification"),{nextZIndex:B,currentZIndex:N}=H,{Close:F}=M,$=a(!1);let j;const q=l((()=>{const e=s.type;return e&&i[s.type]?o.m(e):""})),A=l((()=>s.type&&i[s.type]||s.icon)),O=l((()=>s.position.endsWith("right")?"right":"left")),G=l((()=>s.position.startsWith("top")?"top":"bottom")),U=l((()=>{var e;return{[G.value]:`${s.offset}px`,zIndex:null!=(e=s.zIndex)?e:N.value}}));function W(){s.duration>0&&({stop:j}=w((()=>{$.value&&D()}),s.duration))}function Z(){null==j||j()}function D(){$.value=!1}return r((()=>{W(),B(),$.value=!0})),u(document,"keydown",(function({code:e}){e===z.delete||e===z.backspace?Z():e===z.esc?$.value&&D():W()})),t({visible:$,close:D}),(e,t)=>(c(),p(E,{name:y(o).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t=>e.$emit("destroy"),persisted:""},{default:f((()=>[d(m("div",{id:e.id,class:v([y(o).b(),e.customClass,y(O)]),style:g(y(U)),role:"alert",onMouseenter:Z,onMouseleave:W,onClick:e.onClick},[y(A)?(c(),p(y(b),{key:0,class:v([y(o).e("icon"),y(q)])},{default:f((()=>[(c(),p(h(y(A))))])),_:1},8,["class"])):C("v-if",!0),m("div",{class:v(y(o).e("group"))},[m("h2",{class:v(y(o).e("title")),textContent:x(e.title)},null,10,["textContent"]),d(m("div",{class:v(y(o).e("content")),style:g(e.title?void 0:{margin:0})},[k(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(c(),S(L,{key:1},[C(" Caution here, message could've been compromised, never use user's input as message "),m("p",{innerHTML:e.message},null,8,["innerHTML"])],2112)):(c(),S("p",{key:0},x(e.message),1))]))],6),[[I,e.message]]),e.showClose?(c(),p(y(b),{key:0,class:v(y(o).e("closeBtn")),onClick:T(D,["stop"])},{default:f((()=>[_(y(F))])),_:1},8,["class","onClick"])):C("v-if",!0)],2)],46,["id","onClick"]),[[I,$.value]])])),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}}),[["__file","notification.vue"]]);const Z={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let D=1;const J=function(e={},t=null){if(!B)return{close:()=>{}};(N(e)||F(e))&&(e={message:e});const s=e.position||"top-right";let o=e.offset||0;Z[s].forEach((({vm:e})=>{var t;o+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+16})),o+=16;const n="notification_"+D++,a=e.onClose,l={...e,offset:o,id:n,onClose:()=>{!function(e,t,s){const o=Z[t],n=o.findIndex((({vm:t})=>{var s;return(null==(s=t.component)?void 0:s.props.id)===e}));if(-1===n)return;const{vm:a}=o[n];if(!a)return;null==s||s(a);const l=a.el.offsetHeight,i=t.split("-")[0];o.splice(n,1);const r=o.length;if(r<1)return;for(let u=n;u<r;u++){const{el:e,component:t}=o[u].vm,s=Number.parseInt(e.style[i],10)-l-16;t.props.offset=s}}(n,s,a)}};let i=document.body;$(e.appendTo)?i=e.appendTo:N(e.appendTo)&&(i=document.querySelector(e.appendTo)),$(i)||(i=document.body);const r=document.createElement("div"),u=_(W,l,F(l.message)?{default:()=>l.message}:null);return u.appContext=null!=t?t:J._context,u.props.onDestroy=()=>{j(null,r)},j(u,r),Z[s].push({vm:u}),i.appendChild(r.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};A.forEach((e=>{J[e]=(t={})=>((N(t)||F(t))&&(t={message:t}),J({...t,type:e}))})),J.closeAll=function(){for(const e of Object.values(Z))e.forEach((({vm:e})=>{e.component.exposed.visible.value=!1}))},J._context=null;const K=q(J,"$notify");export{K as E,O as a,A as b,G as n};
