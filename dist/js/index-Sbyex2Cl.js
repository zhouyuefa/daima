import{f as e,j as a,g as l,T as t,S as s,r as n,o as r,c as i,a as o,d as p,w as c,aw as h}from"./index-BdR_P0jW.js";/* empty css                */import{E as d}from"./index-C5CR2e01.js";const u={class:"boxElMain"},b={class:"box boxFlex"},g={__name:"index",setup(g){const v=e({getList:"/admin/customer_bills/index/plate_integral_list"}),m=e([{type:"Input",label:"用户ID",prop:"name",placeholder:"请输入商户名称",width:"180px"},{type:"Input",label:"手机号",prop:"order_no",width:"180px",placeholder:"请输入订单号"}]),_=e({name:"",order_no:"",created_at:[]}),w=e([{label:"查 询",icon:"Search",handle:()=>C()},{label:"重置",handle:()=>D()},{label:"排序",popover:!0}]),x=e([]),f=e([]),y=e({page:1,page_size:20,totalPages:0}),H=e([{label:"序号",prop:"id",align:"center",type:"string",sortable:!1,minWidth:"80",show:!0},{label:"用户名",prop:"vat_price",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0},{label:"用户ID",prop:"plate_rate",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0},{label:"手机号",prop:"plate_price",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0},{label:"可用积分",prop:"merchant_rate",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0},{label:"冻结积分",prop:"merchant_price",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0}]),C=()=>{y.value.page=1,j()},D=()=>{(e=>{for(const a of Object.keys(e))delete e[a]})(_.value),y.value.page=1,y.value.page_size=20,j()},W=e({}),j=async()=>{const e=await a(v.value.getList,{...y.value,..._.value});if(e&&(f.value=[],y.value.total=e.page.total||0,f.value.splice(0),W.value=e.statistics,e.list.length>0))for(let a=0;a<e.list.length;a++){let l=e.list[a];f.value.push(l)}};return l({}),t.on("getCheckData",(e=>{(e=>{const a=[];e.list.forEach((e=>{a.push(e.label)})),H.value.sort(((e,l)=>"操作"===e.label?1:a.indexOf(e.label)-a.indexOf(l.label))),H.value=H.value.map((a=>e.data.includes(a.label)||"操作"===a.label?{...a,show:!0}:{...a,show:!1}))})(e)})),s((()=>{j()})),(e,a)=>{const l=h,t=n("cusTable"),s=d;return r(),i("div",u,[o("div",b,[p(s,null,{default:c((()=>[p(l,{searchForm:m.value,searchData:_.value,searchHandleRight:x.value,searchHandle:w.value,tableCols:H.value,onHandleEnterSearch:C,onHandleReset:D},null,8,["searchForm","searchData","searchHandleRight","searchHandle","tableCols"]),p(t,{ref:"cusTable",height:"calc(100vh - 320px)","row-key":"id",isPagination:!0,isHandle:!0,tableCols:H.value,tableData:f.value,tablePage:y.value,onHandleCurrentChange:j},null,8,["tableCols","tableData","tablePage"])])),_:1})])])}}};export{g as default};
