import{f as e,g as a,T as l,y as t,S as s,r as n,o as i,c as o,a as r,d as p,w as b,aw as c}from"./index-BdR_P0jW.js";/* empty css                */import{E as h}from"./index-C5CR2e01.js";const u={class:"boxElMain"},d={class:"box boxFlex"},g={__name:"index",setup(g){const m=e({getList:"/admin/user/recommend_lists"});e(""),a({});const v=e([{type:"Input",label:"用户ID",prop:"id",placeholder:"请输入",width:"180px"},{type:"Input",label:"手机号",prop:"mobile",placeholder:"请输入",width:"180px"}]),w=e({id:"",mobile:""}),f=e([{label:"查 询",icon:"Search",handle:()=>_()},{label:"重置",handle:()=>D()},{label:"排序",popover:!0}]),y=e({page:1,page_size:20}),x=e([{label:"ID",prop:"id",align:"center",type:"string",sortable:!1,minWidth:"80",show:!0},{label:"用户ID",prop:"user_num",align:"center",type:"string",sortable:!1,minWidth:"80",show:!0},{label:"用户昵称",prop:"nickname",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0},{label:"手机号",prop:"mobile",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0},{label:"累计收入",prop:"total_price",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0},{label:"累计积分",prop:"total_integral",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0},{label:"推荐人数",prop:"total_user_num",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0},{label:"推荐人完单量",prop:"finish_num",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0},{label:"推荐人完单业绩",prop:"finish_price",align:"center",type:"string",sortable:!1,minWidth:"120",show:!0}]);l.on("getCheckData",(e=>{(e=>{const a=[];e.list.forEach((e=>{a.push(e.label)})),x.value.sort(((e,l)=>"操作"===e.label?1:a.indexOf(e.label)-a.indexOf(l.label))),x.value=x.value.map((a=>e.data.includes(a.label)||"操作"===a.label?{...a,show:!0}:{...a,show:!1}))})(e)}));const _=()=>{y.pageCurrent=1,C()},W=e([]),C=async()=>{const e=await t(m.value.getList,{...y.value,...w.value});if(e&&(W.value=[],y.value=(null==e?void 0:e.page)||{},W.value.splice(0),e.list.length>0))for(let a=0;a<e.list.length;a++){let l=e.list[a];W.value.push(l)}};s((()=>{C()}));const D=()=>{(e=>{for(const a of Object.keys(e))delete e[a]})(w.value),y.value.page=1,y.value.page_size=20,C()};return(e,a)=>{const l=c,t=n("cusTable"),s=h;return i(),o("div",null,[r("div",u,[r("div",d,[p(s,null,{default:b((()=>[p(l,{searchForm:v.value,searchData:w.value,searchHandle:f.value,tableCols:x.value,onHandleEnterSearch:_,onHandleReset:D},null,8,["searchForm","searchData","searchHandle","tableCols"]),p(t,{ref:"cusTable",height:"calc(100vh - 240px)","row-key":"id",isPagination:!0,isHandle:!0,tableCols:x.value,tableData:W.value,tablePage:y.value,onHandleCurrentChange:C},null,8,["tableCols","tableData","tablePage"])])),_:1})])])])}}};export{g as default};
