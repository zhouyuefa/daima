import{_ as e,f as a,g as l,a1 as t,at as s,ah as n,o as i,c as d,d as u,w as o,a as p,J as r,K as c,L as m,e as v,F as y,t as g,l as b,j as _,ai as f,aj as h,H as w,A as j,ad as x,ae as k,D as z,a3 as C,a4 as V,a5 as O}from"./index-BdR_P0jW.js";/* empty css                */import U from"./dictForm-DFz7tJXl.js";import{E as S}from"./index-C5ggMqbd.js";/* empty css                *//* empty css                       */import"./index-DTPeqqvl.js";import"./index-D1LW7kyL.js";import"./index-SLBSEZ_O.js";const B={class:"mb20"},D=e(Object.assign({name:"admin/dict/index"},{__name:"index",setup(e){const D=a([]),F=a(!1),I=l({}),P=a({name:"",type:"all"}),T=a([]),q=t([{value:1,label:"机场"},{value:2,label:"品牌系列"},{value:3,label:"车辆类型"},{value:4,label:"附加服务"},{value:5,label:"专车备注"},{value:6,label:"汽车品牌"},{value:7,label:"车辆标签"},{value:8,label:"城市"}]),A=t({all:"全部",1:"机场",2:"品牌系列",3:"车辆类型",4:"附加服务",5:"专车备注",6:"汽车品牌",7:"车辆标签",8:"城市"}),E=a({page:1,page_size:20,total:0}),H=async()=>{const e=await _("/admin/dict/index/lists",{name:P.value.name,type:P.value.type,page:E.value.page,page_size:E.value.page_size});D.value=(null==e?void 0:e.lists.list)||[],E.value=(null==e?void 0:e.lists.page)||{}};s((()=>{}));const J=e=>{E.value.page_size=e,H()},K=e=>{E.value.page=e,H()},L=e=>{(e=>{for(const a of Object.keys(e))delete e[a]})(I),Object.assign(I,e),F.value=!0},Y=async()=>{H()};return(async()=>{H(),T.value=[{value:"all",label:"全部"}].concat(q)})(),(e,a)=>{const l=j,t=x,s=k,_=z,Z=C,G=V,M=O,N=S,Q=n("hasPermi");return i(),d("div",null,[u(N,null,{header:o((()=>a[7]||(a[7]=[p("span",null,"字典管理",-1)]))),default:o((()=>[p("div",B,[u(l,{modelValue:P.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>P.value.name=e),style:{width:"280px"},placeholder:"名称"},null,8,["modelValue"]),u(s,{class:"ml30",modelValue:P.value.type,"onUpdate:modelValue":a[1]||(a[1]=e=>P.value.type=e),clearable:"",placeholder:"类型",style:{width:"280px"},"value-on-clear":""},{default:o((()=>[(i(!0),d(r,null,c(T.value,(e=>(i(),m(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),u(_,{class:"ml30",type:"primary",onClick:a[2]||(a[2]=e=>(E.value.page=1,void H()))},{default:o((()=>a[8]||(a[8]=[v("查询")]))),_:1}),y((i(),m(_,{class:"ml30",type:"primary",onClick:a[3]||(a[3]=e=>L({id:0}))},{default:o((()=>a[9]||(a[9]=[v("新增")]))),_:1})),[[Q,["admin/dict/edit"]]])]),u(G,{data:D.value,"row-key":"id","default-expand-all":"",class:"mt5"},{default:o((()=>[u(Z,{prop:"id",label:"ID","min-width":"10",sortable:""}),u(Z,{prop:"key",label:"key","min-width":"10"}),u(Z,{prop:"name",label:"名称","min-width":"10"}),u(Z,{prop:"type",label:"类型","min-width":"10"},{default:o((({row:e})=>[p("span",null,g(b(A)[e.type]?b(A)[e.type]:"--"),1)])),_:1}),u(Z,{prop:"sort",label:"排序","min-width":"10",sortable:""}),u(Z,{label:"操作",align:"center",width:"220","min-width":"220"},{default:o((({row:e})=>[y((i(),m(_,{type:"primary",onClick:a=>L(e)},{default:o((()=>a[10]||(a[10]=[v("编辑")]))),_:2},1032,["onClick"])),[[Q,["admin/dict/edit"]]]),y((i(),m(_,{type:"danger",onClick:a=>(async({id:e})=>{f.confirm("是否确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await h("/admin/dict/delete/"+e)&&(w({type:"success",message:"删除成功"}),Y())})).catch((()=>{}))})(e)},{default:o((()=>a[11]||(a[11]=[v("删除")]))),_:2},1032,["onClick"])),[[Q,["admin/dict/delete"]]])])),_:1})])),_:1},8,["data"]),u(M,{background:"",layout:"total, sizes, prev, pager, next, ->,jumper","current-page":E.value.page,"onUpdate:currentPage":a[4]||(a[4]=e=>E.value.page=e),"page-size":E.value.page_size,"onUpdate:pageSize":a[5]||(a[5]=e=>E.value.page_size=e),total:E.value.total,class:"ml10 mt10",onSizeChange:J,onCurrentChange:K},null,8,["current-page","page-size","total"])])),_:1}),u(U,{modelValue:F.value,"onUpdate:modelValue":a[6]||(a[6]=e=>F.value=e),data:I,typeOptions:b(q),onSubmit:Y},null,8,["modelValue","data","typeOptions"])])}}}),[["__scopeId","data-v-ac78262c"]]);export{D as default};
