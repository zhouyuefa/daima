import{a6 as e,a7 as a,R as t,f as l,a1 as o,h as i,j as d,o as s,L as n,w as p,d as r,a as m,t as u,c as _,l as y,i as b,e as w,a3 as f,a4 as c,D as h,B as v,E as j,aa as x}from"./index-BdR_P0jW.js";const k={key:0},V={__name:"ordersForm",props:e({data:{type:Object,default:()=>({})},objType:{type:Object,default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:e(["submit"],["update:modelValue"]),setup(e,{emit:V}){const L=a(e,"modelValue"),T=e,g=t((()=>"订单"+(T.data.id?"详情":"新增"))),C=t((()=>T.data.id)),D=l(null),E=l({}),O=l([]),R=l([]),B=l(!1),F=o({1:"不满意",3:"满意",5:"超预期"});i(C,(async e=>{const a=e??0,t=await d("/admin/orders/sub_lists/"+a);if(!t)return;const{lists:l}=t||{};O.value=l.list||[]}));const M=e=>e.id,U=e=>{e.is_comment&&(B.value=!0,q(e.id))},q=async e=>{const a=await d("/admin/orders/evaluate_info/"+e);if(!a)return;const{info:t}=a;E.value=t};return(a,t)=>{const l=f,o=c,i=h,d=v,V=j,T=x;return s(),n(T,{modelValue:L.value,"onUpdate:modelValue":t[1]||(t[1]=e=>L.value=e),title:g.value,width:"2020",top:"20vh",class:"form-dialog"},{default:p((()=>[r(V,{ref_key:"formDataRef",ref:D,model:E.value,"label-width":"auto"},{default:p((()=>[r(o,{data:O.value,style:{width:"100%"},"row-key":M,"expand-row-keys":R.value,onExpandChange:U,class:"order-detail"},{default:p((()=>[r(l,{prop:"order_type",label:"类型","min-width":"10"},{default:p((({row:a})=>[m("span",null,u(e.objType.typeList[a.order_type]?e.objType.typeList[a.order_type]:"--"),1)])),_:1}),r(l,{prop:"order_type",label:"状态","min-width":"10"},{default:p((({row:a})=>[m("span",null,u(e.objType.typeList[a.order_type]?e.objType.typeList[a.order_type]:"--"),1)])),_:1}),r(l,{prop:"flight_no",label:"航班号","min-width":"10"}),r(l,{prop:"open_city",label:"城市","min-width":"10"}),r(l,{prop:"on_point",label:"上车点","min-width":"10"}),r(l,{prop:"off_point",label:"下车点","min-width":"10"}),r(l,{prop:"brand_name",label:"车辆品牌名称","min-width":"10"}),r(l,{prop:"style_name",label:"车辆品牌系列","min-width":"10"}),r(l,{prop:"type_name",label:"车辆类型名称","min-width":"10"}),r(l,{prop:"car_tabs_name",label:"车辆标签名称","min-width":"10"}),r(l,{prop:"seat_num",label:"座位数","min-width":"10"}),r(l,{prop:"customer_name",label:"客户姓名","min-width":"10"}),r(l,{prop:"customer_mobile",label:"客户电话","min-width":"10"}),r(l,{prop:"days",label:"包车天数","min-width":"10"}),r(l,{type:"expand",label:"评价","min-width":"10"},{default:p((({row:e})=>[e.is_comment?(s(),_("div",k,[m("div",null,"评价内容："+u(E.value.content),1),m("div",null,"评分："+u(y(F)[E.value.score]),1),t[2]||(t[2]=m("div",null,null,-1))])):b("",!0)])),_:1})])),_:1},8,["data","expand-row-keys"]),r(d,{class:"text-right mt20"},{default:p((()=>[r(i,{type:"primary",onClick:t[0]||(t[0]=e=>(D.value,void(L.value=!1)))},{default:p((()=>t[3]||(t[3]=[w(" 关闭 ")]))),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}};export{V as default};
