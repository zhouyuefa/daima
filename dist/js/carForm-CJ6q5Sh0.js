import{_ as l,a6 as e,a7 as a,R as u,g as d,f as t,h as v,j as i,o as n,L as _,w as r,d as s,a as o,t as m,l as f,e as b,B as c,D as p,E as Y,aa as D}from"./index-BdR_P0jW.js";import{d as M}from"./dateFormater-BlBTgtQf.js";const H={class:"order-box flex"},g=l({__name:"carForm",props:e({data:{type:Object,default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:e(["submit"],["update:modelValue"]),setup(l,{emit:e}){const g=a(l,"modelValue"),y=l,x=u((()=>"订单"+(y.data.id?"详情":"新增"))),h=u((()=>y.data.id)),j=d(["接机","送机","包车"]),V=d(["平台","乘客","原路退回"]),k=t(null),w=t({}),I=d({});v(g,(async l=>{var e,a;if(!l)return;const u=h.value??0;Object.assign(w.value,y.data);const d=await i("/admin/orders/evaluate_info/"+u);Object.assign(w.value,{evaluateInfo:(null==(e=null==d?void 0:d.info)?void 0:e.content)||"",evaluateDegree:(null==(a=null==d?void 0:d.info)?void 0:a.score_text)||""})}));return(l,e)=>{const a=c,u=p,d=Y,t=D;return n(),_(t,{modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=l=>g.value=l),title:x.value,width:"80%",top:"20vh",class:"form-dialog"},{default:r((()=>[s(d,{ref_key:"formDataRef",ref:k,model:w.value,"label-width":"auto",rules:I},{default:r((()=>[o("div",H,[o("div",null,[s(a,{label:"主订单编号："},{default:r((()=>[o("div",null,m(w.value.order.order_no),1)])),_:1}),s(a,{label:"子订单编号："},{default:r((()=>[o("div",null,m(w.value.order_no),1)])),_:1}),s(a,{label:"类型："},{default:r((()=>[o("div",null,m(j[w.value.order_type-1]||"--"),1)])),_:1}),s(a,{label:"状态："},{default:r((()=>{return[o("div",null,m((l=w.value.status,(-1==l?"等待付款":0==l?"等待接单":1==l?"司机已接单":2==l?"司机出发接乘客":3==l?"司机到达上车点":4==l?"司机已接到乘客":5==l?"已到达目的地":6==l?"已完成":7==l?"已取消":8==l?"转单":void 0)||"--")),1)];var l})),_:1}),s(a,{label:"航班号："},{default:r((()=>[o("div",null,m(w.value.flight_no||"--"),1)])),_:1}),s(a,{label:"上车点："},{default:r((()=>[o("div",null,m(w.value.on_point||"--"),1)])),_:1}),s(a,{label:"下车点："},{default:r((()=>[o("div",null,m(w.value.off_point||"--"),1)])),_:1}),s(a,{label:"用车时间："},{default:r((()=>[o("div",null,m(w.value.use_time?f(M)("YYYY-MM-DD HH:mm:ss",w.value.use_time):"--"),1)])),_:1}),s(a,{label:"客户姓名："},{default:r((()=>[o("div",null,m(w.value.customer_name||"--"),1)])),_:1}),s(a,{label:"手机号区号："},{default:r((()=>[o("div",null,m(w.value.country_code||"--"),1)])),_:1})]),o("div",null,[s(a,{label:"客户电话："},{default:r((()=>[o("div",null,m(w.value.customer_mobile||"--"),1)])),_:1}),s(a,{label:"车辆品牌："},{default:r((()=>[o("div",null,m(w.value.brand_name||"--"),1)])),_:1}),s(a,{label:"车辆品牌系列："},{default:r((()=>[o("div",null,m(w.value.style_name||"--"),1)])),_:1}),s(a,{label:"车辆类型："},{default:r((()=>[o("div",null,m(w.value.type_name||"--"),1)])),_:1}),s(a,{label:"车辆标签："},{default:r((()=>[o("div",null,m(w.value.car_tabs_name||"--"),1)])),_:1}),s(a,{label:"座位数："},{default:r((()=>[o("div",null,m(w.value.seat_num||"--"),1)])),_:1}),s(a,{label:"司机姓名："},{default:r((()=>{var l;return[o("div",null,m((null==(l=w.value.driver_user)?void 0:l.full_name)||"--"),1)]})),_:1}),s(a,{label:"司机电话："},{default:r((()=>{var l;return[o("div",null,m((null==(l=w.value.driver_user)?void 0:l.mobile)||"--"),1)]})),_:1}),s(a,{label:"所属公司："},{default:r((()=>{var l;return[o("div",null,m((null==(l=w.value.driver_user)?void 0:l.admin_real_name)||"--"),1)]})),_:1}),s(a,{label:"包车天数："},{default:r((()=>[o("div",null,m(w.value.days||"--"),1)])),_:1})]),o("div",null,[s(a,{label:"车辆级别："},{default:r((()=>[o("div",null,m(w.value.level||"--"),1)])),_:1}),s(a,{label:"车牌号："},{default:r((()=>[o("div",null,m(w.value.car_number||"--"),1)])),_:1}),s(a,{label:"支付时间："},{default:r((()=>[o("div",null,m(w.value.paid_time?f(M)("YYYY-MM-DD HH:mm:ss",w.value.paid_time):"--"),1)])),_:1}),s(a,{label:"取消时间："},{default:r((()=>[o("div",null,m(w.value.cancel_time?f(M)("YYYY-MM-DD HH:mm:ss",w.value.cancel_time):"--"),1)])),_:1}),s(a,{label:"接单时间："},{default:r((()=>[o("div",null,m(w.value.taking_time?f(M)("YYYY-MM-DD HH:mm:ss",w.value.taking_time):"--"),1)])),_:1}),s(a,{label:"完成时间："},{default:r((()=>[o("div",null,m(w.value.complete_time?f(M)("YYYY-MM-DD HH:mm:ss",w.value.complete_time):"--"),1)])),_:1}),s(a,{label:"结算时间："},{default:r((()=>[o("div",null,m(w.value.settle_time?f(M)("YYYY-MM-DD HH:mm:ss",w.value.settle_time):"--"),1)])),_:1}),s(a,{label:"是否已评价："},{default:r((()=>[o("div",null,m(1===w.value.is_comment?"是":"否"),1)])),_:1}),s(a,{label:"评价级别："},{default:r((()=>[o("div",null,m(w.value.evaluateDegree||"--"),1)])),_:1}),s(a,{label:"评价内容："},{default:r((()=>[o("div",null,m(w.value.evaluateInfo||"--"),1)])),_:1})]),o("div",null,[s(a,{label:"用户备注："},{default:r((()=>[o("div",null,m(w.value.remark||"--"),1)])),_:1}),s(a,{label:"总价格："},{default:r((()=>[o("div",null,m(w.value.total_price||"--"),1)])),_:1}),s(a,{label:"订单价格："},{default:r((()=>[o("div",null,m(w.value.order_price||"--"),1)])),_:1}),s(a,{label:"消费税："},{default:r((()=>[o("div",null,m(w.value.tax_price||"--"),1)])),_:1}),s(a,{label:"总人民币："},{default:r((()=>[o("div",null,m(w.value.rmb||"--"),1)])),_:1}),s(a,{label:"汇率："},{default:r((()=>[o("div",null,m(w.value.exchange_rate||"--"),1)])),_:1}),s(a,{label:"取消类型："},{default:r((()=>[o("div",null,m(V[w.value.cancel_type-1]||"--"),1)])),_:1}),s(a,{label:"取消原因："},{default:r((()=>[o("div",null,m(w.value.cancel_reason||"--"),1)])),_:1}),s(a,{label:"创建时间："},{default:r((()=>[o("div",null,m(w.value.created_at),1)])),_:1})])]),s(a,{class:"text-right mt20"},{default:r((()=>[s(u,{type:"primary",onClick:e[0]||(e[0]=l=>(k.value,void(g.value=!1)))},{default:r((()=>e[2]||(e[2]=[b(" 关闭 ")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])}}},[["__scopeId","data-v-7206184a"]]);export{g as default};
