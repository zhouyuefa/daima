import{_ as a,f as e,g as l,ah as s,o as n,c as i,d as t,w as d,a as u,J as r,K as o,L as p,e as m,t as _,F as c,j as g,ad as v,ae as f,D as b,a3 as w,a4 as y,a5 as h}from"./index-BdR_P0jW.js";/* empty css                */import z from"./company_configsForm-Cz_WrwXr.js";import{E as x}from"./index-C5ggMqbd.js";const j={class:"mb20"},k=a(Object.assign({name:"company/company_configs/index"},{__name:"index",setup(a){const k=e([]),C=e(!1),V=e([]),U=l({}),O=e({admin_user_id:""}),S=e({page:1,page_size:20,total:0}),D=async()=>{const a=await g("/admin/admin_configs/index/lists",{username:O.value.username,admin_user_id:O.value.admin_user_id,page:S.value.page,page_size:S.value.page_size});a&&(k.value=(null==a?void 0:a.lists.list)||[],S.value=(null==a?void 0:a.lists.page)||{})},F=async()=>{const a=await g("/admin/companies/index/lists",{page:S.value.page,page_size:1e3});a&&(V.value=[{admin_user_id:" ",real_name:"全部"}].concat(a.lists.list))},I=()=>{S.value.page=1,D()},L=a=>{S.value.page_size=a,D()},P=a=>{S.value.page=a,D()},E=a=>{(a=>{for(const e of Object.keys(a))delete a[e]})(U),Object.assign(U,a),C.value=!0},J=async()=>{D()};return(async()=>{D(),F()})(),(a,e)=>{const l=v,g=f,D=b,F=w,K=y,Z=h,q=x,A=s("hasPermi");return n(),i("div",null,[t(q,null,{header:d((()=>e[4]||(e[4]=[u("span",null,"公司配置",-1)]))),default:d((()=>[u("div",j,[t(g,{modelValue:O.value.admin_user_id,"onUpdate:modelValue":e[0]||(e[0]=a=>O.value.admin_user_id=a),placeholder:"汽车公司",style:{width:"280px"},clearable:"",filterable:""},{default:d((()=>[(n(!0),i(r,null,o(V.value,(a=>(n(),p(l,{key:a.admin_user_id,label:a.real_name,value:a.admin_user_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),t(D,{class:"ml30",type:"primary",onClick:I},{default:d((()=>e[5]||(e[5]=[m("查询")]))),_:1})]),t(K,{data:k.value,"row-key":"id","default-expand-all":"",class:"mt5"},{default:d((()=>[t(F,{prop:"id",label:"ID","min-width":"10",sortable:""}),t(F,{prop:"company_name",label:"公司名称","min-width":"10"}),t(F,{label:"公司分成范围","min-width":"10"},{default:d((({row:a})=>[u("span",null,_(a.company_rate)+"%",1)])),_:1}),t(F,{label:"司机分成比例","min-width":"10"},{default:d((({row:a})=>[u("span",null,_(a.driver_rate)+"%",1)])),_:1}),t(F,{label:"不满意评价分成比例","min-width":"10"},{default:d((({row:a})=>[u("span",null,_(a.star_1)+"%",1)])),_:1}),t(F,{label:"满意评价分成比例","min-width":"10"},{default:d((({row:a})=>[u("span",null,_(a.star_3)+"%",1)])),_:1}),t(F,{label:"超预期评价分成比例","min-width":"10"},{default:d((({row:a})=>[u("span",null,_(a.star_5)+"%",1)])),_:1}),t(F,{prop:"created_at",label:"创建时间","min-width":"10"}),t(F,{label:"操作",align:"center",width:"220","min-width":"220"},{default:d((({row:a})=>[c((n(),p(D,{type:"primary",onClick:e=>E(a)},{default:d((()=>e[6]||(e[6]=[m("编辑")]))),_:2},1032,["onClick"])),[[A,["admin/admin_configs/edit"]]])])),_:1})])),_:1},8,["data"]),t(Z,{background:"",layout:"total, sizes, prev, pager, next, ->,jumper","current-page":S.value.page,"onUpdate:currentPage":e[1]||(e[1]=a=>S.value.page=a),"page-size":S.value.page_size,"onUpdate:pageSize":e[2]||(e[2]=a=>S.value.page_size=a),total:S.value.total,class:"ml10 mt10",onSizeChange:L,onCurrentChange:P},null,8,["current-page","page-size","total"])])),_:1}),t(z,{modelValue:C.value,"onUpdate:modelValue":e[3]||(e[3]=a=>C.value=a),data:U,onSubmit:J},null,8,["modelValue","data"])])}}}),[["__scopeId","data-v-baaf70dd"]]);export{k as default};
